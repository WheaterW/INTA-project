{
    "From": " Cisco IOS Configuration Fundamentals Command Reference",
    "PageTitle": "diagnostic start",
    "FuncDef": [
        "To run the specified diagnostic test, use the **diagnostic start** command in privileged EXEC mode. "
    ],
    "CLIs": [
        "diagnostic start module <num> test { <test-id> | <test-id-range> | minimal | complete | basic | per-port | non-disruptive | all } [ port { <num> | <port#>-<range> | all } ]",
        "<><><><><><><><><><><>diagnostic<><><><><><><><><><><> <><><><><><><><><><><>start<><><><><><><><><><><> <><><><><><><><><><><>system<><><><><><><><><><><> <><><><><><><><><><><>test<><><><><><><><><><><> <><><><><><><><><><><>all<><><><><><><><><><><>",
        "<><><><><><><><><><><>Cisco<><><><><><><><><><><> <><><><><><><><><><><>UBR10012<><><><><><><><><><><> <><><><><><><><><><><>Universal<><><><><><><><><><><> <><><><><><><><><><><>Broadband<><><><><><><><><><><> <><><><><><><><><><><>Router<><><><><><><><><><><>",
        "diagnostic start { bay <slot/bay> | slot <slot-no> } test { <test-id> | <test-id-range> | all | complete | minimal | non-disruptive }",
        "diagnostic start { subslot <slot/sub-slot> } test { <test-id> | <test-id-range> | all | complete | minimal | non-disruptive | per-port [ port { num | <port#>-<range> | all } ] }"
    ],
    "ParentView": [
        null
    ],
    "ParaDef": [
        {
            "Parameters": " **module** *num* ",
            "Info": " Specifies the module number. "
        },
        {
            "Parameters": " **test** ",
            "Info": " Specifies a test to run. "
        },
        {
            "Parameters": " *test-id* ",
            "Info": " Identification number for the test to run. See the Usage Guidelines section for additional information. "
        },
        {
            "Parameters": " *test-id-range* ",
            "Info": " Range of identification numbers for tests to run. See the Usage Guidelines section for additional information. "
        },
        {
            "Parameters": " **minimal** ",
            "Info": " Runs minimal bootup diagnostic tests. "
        },
        {
            "Parameters": " **complete** ",
            "Info": " Runs complete bootup diagnostic tests. "
        },
        {
            "Parameters": " **basic** ",
            "Info": " Runs basic on-demand diagnostic tests. "
        },
        {
            "Parameters": " **per-port** ",
            "Info": " Runs per-port level tests. "
        },
        {
            "Parameters": " **non-disruptive** ",
            "Info": " Runs the non disruptive health-monitoring tests. "
        },
        {
            "Parameters": " **all** ",
            "Info": " Runs all diagnostic tests. "
        },
        {
            "Parameters": " **port** *num* ",
            "Info": " (Optional) Specifies the interface port number. "
        },
        {
            "Parameters": " **port** *port#*-*range* ",
            "Info": " (Optional) Specifies the interface port number range. See the Usage Guidelines section for additional information. "
        },
        {
            "Parameters": " **port all** ",
            "Info": " (Optional) Specifies all ports. "
        }
    ],
    "Examples": [
        [
            "The following example shows how to run the specified diagnostic test at the specified slot:",
            "```",
            "Router# diagnostic start module 1 test 5",
            "```",
            "```",
            "Module 1:Running test(s) 5 may disrupt normal system operation",
            "```",
            "```",
            "Do you want to run disruptive tests? [ no ] yes",
            "```",
            "```",
            "00:48:14:Running OnDemand Diagnostics [ Iteration #1 ] ...",
            "```",
            "```",
            "00:48:14:%DIAG-SP-6-TEST_RUNNING:Module 1:Running TestNewLearn { ID=5 } ...",
            "```",
            "```",
            "00:48:14:%DIAG-SP-6-TEST_OK:Module 1:TestNewLearn { ID=5 } has completed successfully",
            "```",
            "```",
            "00:48:14:Running OnDemand Diagnostics [ Iteration #2 ] ...",
            "```",
            "```",
            "00:48:14:%DIAG-SP-6-TEST_RUNNING:Module 1:Running TestNewLearn { ID=5 } ...",
            "```",
            "```",
            "00:48:14:%DIAG-SP-6-TEST_OK:Module 1:TestNewLearn { ID=5 } has completed successfully",
            "```",
            "```",
            "Router#",
            "```",
            "```",
            "```"
        ],
        [
            "```",
            "Router# diagnostic start system test all",
            "```",
            "```",
            "*",
            "```",
            "```",
            "< WARNING: >",
            "```",
            "```",
            "< 'diagnostic start system test all' will disrupt normal system >",
            "```",
            "```",
            "< operation. The system requires RESET after the command >",
            "```",
            "```",
            "< 'diagnostic start system test all' has completed prior to >",
            "```",
            "```",
            "< normal use. >",
            "```",
            "```",
            "< >",
            "```",
            "```",
            "< IMPORTANT: >",
            "```",
            "```",
            "< 1. DO NOT INSERT, OIR, or POWER DOWN Linecards or >",
            "```",
            "```",
            "< Supervisor while system test is running. >",
            "```",
            "```",
            "< >",
            "```",
            "```",
            "< 2. DO NOT ISSUE ANY DIAGNOSTIC COMMAND except >",
            "```",
            "```",
            "< \"diagnostic stop system test all\" while system test >",
            "```",
            "```",
            "< is running. >",
            "```",
            "```",
            "< >",
            "```",
            "```",
            "< 3. PLEASE MAKE SURE no traffic is running in background. >",
            "```",
            "```",
            "*",
            "```",
            "```",
            "Do you want to continue? [ no ] :",
            "```",
            "Cisco UBR10012 Router",
            "The following example shows how to run a diagnostic test with test id 2 on a SPA:",
            "```",
            "ubr-122s-1# diagnostic start bay 1/0 test 2",
            "```",
            "```",
            "ubr-122s-1#",
            "```",
            "```",
            "Aug 5 09:24:42.019: %DIAG-6-TEST_RUNNING: Bay 1/0: Running TestModenaLLQDrops { I",
            "```",
            "```",
            "D=2 } ...",
            "```",
            "```",
            "Aug 5 09:24:42.019: %DIAG-6-TEST_OK: Bay 1/0: TestModenaLLQDrops { ID=2 } has comp",
            "```",
            "```",
            "leted successfully",
            "```"
        ]
    ],
    "ExtraInfo": "![](/c/dam/en/us/td/i/templates/note.gif)---**Note** ![](/c/dam/en/us/td/i/templates/blank.gif)Running all online diagnostic tests disrupts normal system operation. Reset the system after the **diagnostic start system test all** command has completed.  Do not insert, remove, or power down line cards or the supervisor while the system test is running.  Do not issue any diagnostic command other than the **diagnostic stop system test all** command while the system test is running.  Make sure no traffic is running in background.---![](/c/dam/en/us/td/i/templates/note.gif)---**Note** ![](/c/dam/en/us/td/i/templates/blank.gif)Do not enter the **diagnostic start module** *x* test all command on systems that are configured with a DFC3A because this command causes the TCAM test to fail.---Enter the **show diagnostic content** command to display the test ID list.Enter the *test-id-range* or *port#*-*range* as integers separated by a comma and a hyphen (for example, 1,3-6 specifies test IDs 1, 3, 4, 5, and 6).Use **diagnostic stop** command to stop the testing process.Cisco UBR10012 RouterThe command syntax to refer a line card or SPAs is different on Cisco UBR10012 Router. The keyword is slot x for a full-height line card, slot x/y for a half-height card, and bay x/y for a SPA.![](/c/dam/en/us/td/i/templates/note.gif)---**Note** ![](/c/dam/en/us/td/i/templates/blank.gif)To start a diagnostic test on the Cisco UBR10012 Router execute the command **diagnostic stop** with the **bay**, **slot** or **subslot** keyword respectively.---The GOLD test cases used to poll for system errors in Cisco IOS Software Release 12.2(33)SCC are Low Latency Queueing (LLQ) drop, Cable Line Card (CLC) memory leak, and Guardian index leak tests.",
    "RelatedCmds": [
        {
            "cmd": " **diagnostic schedule** ",
            "description": " Sets the diagnostic test schedule for a particular bay, slot, or subslot. "
        },
        {
            "cmd": " **show diagnostic description** ",
            "description": " Provides the description for the diagnostic tests. "
        },
        {
            "cmd": " **diagnostic stop** ",
            "description": " Runs the specified diagnostic test. "
        },
        {
            "cmd": " **show diagnostic content module** ",
            "description": " Displays the available diagnostic tests. "
        },
        {
            "cmd": " **diagnostic bootup level** ",
            "description": " Configures the diagnostic bootup level. "
        },
        {
            "cmd": " diagnostic event-log size ",
            "description": " Modifies the diagnostic event-log size dynamically. "
        },
        {
            "cmd": " diagnostic monitor ",
            "description": " Configures the health-monitoring diagnostic testing. "
        },
        {
            "cmd": " diagnostic ondemand ",
            "description": " Configures the on-demand diagnostics. "
        },
        {
            "cmd": " show diagnostic bootup ",
            "description": " Displays the configured diagnostics level at bootup. "
        },
        {
            "cmd": " show diagnostic events ",
            "description": " Displays the diagnostic event log. "
        },
        {
            "cmd": " show diagnostic ondemand settings ",
            "description": " Displays the settings for the on-demand diagnostics. "
        },
        {
            "cmd": " show diagnostic result ",
            "description": " Displays the diagnostic test results for a module. "
        },
        {
            "cmd": " show diagnostic schedule ",
            "description": " Displays the current scheduled diagnostic tasks. "
        },
        {
            "cmd": " show diagnostic status ",
            "description": " Displays the running diagnostics tests. "
        }
    ]
}