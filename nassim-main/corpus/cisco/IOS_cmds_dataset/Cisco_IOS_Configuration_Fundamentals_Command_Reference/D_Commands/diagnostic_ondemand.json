{
    "From": " Cisco IOS Configuration Fundamentals Command Reference",
    "PageTitle": "diagnostic ondemand",
    "FuncDef": [
        "To configure the on-demand diagnostics, use the **diagnostic ondemand** command in privileged EXEC mode. "
    ],
    "CLIs": [
        "diagnostic ondemand { iteration <iteration-count> | action-on-failure { continue <error-count> | stop } }"
    ],
    "ParentView": [
        null
    ],
    "ParaDef": [
        {
            "Parameters": " **iteration** *iteration-count* ",
            "Info": " Sets the number of times the same test to rerun when the command is issued. The valid range for iteration-count is between 1 to 999. "
        },
        {
            "Parameters": " **action-on-failure** ",
            "Info": " Sets the execution action when a failure is detected. "
        },
        {
            "Parameters": " **continue** ",
            "Info": " Continues testing when a test failure is detected. "
        },
        {
            "Parameters": " **stop** ",
            "Info": " Stops testing when a test failure is detected. "
        },
        {
            "Parameters": " *error-count* ",
            "Info": " (Optional) Number of errors that are allowed before stopping. This argument is used with the **continue** option. The valid range for error-count is from 0 to 65534. "
        }
    ],
    "Examples": [
        [
            "The following example shows how to set the ondemand testing iteration count:",
            "```",
            "Router# diagnostic ondemand iteration 4",
            "```",
            "```",
            "Router#",
            "```",
            "```",
            "```",
            "The following example shows how to set the execution action when an error is detected:",
            "```",
            "Router# diagnostic ondemand action-on-failure continue 2",
            "```",
            "```",
            "Router#",
            "```"
        ]
    ],
    "ExtraInfo": "Entering **0** for the *error-count* sets the number of errors that are allowed to unlimited.",
    "RelatedCmds": [
        {
            "cmd": " **show diagnostic ondemand settings** ",
            "description": " Displays the settings for on-demand diagnostics. "
        }
    ]
}