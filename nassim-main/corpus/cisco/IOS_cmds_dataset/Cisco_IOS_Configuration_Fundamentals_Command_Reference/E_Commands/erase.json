{
    "From": " Cisco IOS Configuration Fundamentals Command Reference",
    "PageTitle": "erase",
    "FuncDef": [
        "To erase a file system or all files available on a file system, use the **erase** command in privileged EXEC or diagnostic mode. "
    ],
    "CLIs": [
        "erase { /all nvram: | /no-squeeze-reserve-space <file-system>: | <file-system>: | startup-config }",
        "<><><><>Cisco<><><><> <><><><>7600<><><><> <><><><>Series<><><><> <><><><>Routers<><><><> <><><><>and<><><><> <><><><>Cisco<><><><> <><><><>ASR<><><><> <><><><>1000<><><><> <><><><>Series<><><><> <><><><>Routers<><><><>",
        "erase { /all nvram: | <file-system>: | startup-config }"
    ],
    "ParentView": [
        null
    ],
    "ParaDef": [
        {
            "Parameters": " **/****all** ",
            "Info": " Erases all files in the specified file system. "
        },
        {
            "Parameters": " **nvram:** ",
            "Info": " Erases all files in the NVRAM. "
        },
        {
            "Parameters": " *file-system*: ",
            "Info": " File system name, followed by a colon. For example, **flash:** or **nvram:**.  **Note** This argument may not be used if the device memory contains logging persistent files. "
        },
        {
            "Parameters": " **/no-squeeze-reserve-space** ",
            "Info": " Disables the squeeze operation to conserve memory and makes the **erase** command compatible with older file systems. "
        },
        {
            "Parameters": " **startup-config** ",
            "Info": " Erases the contents of the configuration memory. "
        }
    ],
    "Examples": [
        [
            "The following example shows how to erase the NVRAM, including the startup configuration located there:",
            "```",
            "Router# erase nvram:",
            "```",
            "```",
            "```",
            "The following example shows how to erase all of partition 2 in internal flash memory:",
            "```",
            "Router# erase flash:2",
            "```",
            "```",
            "```",
            "```",
            "System flash directory, partition 2:",
            "```",
            "```",
            "File Length Name/status",
            "```",
            "```",
            "1 1711088 dirt/images/c3600-i-mz",
            "```",
            "```",
            "[ 1711152 bytes used, 15066064 available, 16777216 total ]",
            "```",
            "```",
            "Erase flash device, partition 2? [ confirm ]",
            "```",
            "```",
            "Are you sure? [ yes/no ] : yes",
            "```",
            "```",
            "Erasing device... eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee ...erased",
            "```",
            "```",
            "```",
            "The following example shows how to erase flash memory when flash is partitioned, but no partition is specified in the command:",
            "```",
            "Router# erase flash:",
            "```",
            "```",
            "```",
            "```",
            "System flash partition information:",
            "```",
            "```",
            "Partition Size Used Free Bank-Size State Copy-Mode",
            "```",
            "```",
            "1 4096K 2048K 2048K 2048K Read Only RXBOOT-FLH",
            "```",
            "```",
            "2 4096K 2048K 2048K 2048K Read/Write Direct",
            "```",
            "```",
            "```",
            "```",
            "[ Type ?<no> for partition directory; ? for full directory; q to abort ]",
            "```",
            "```",
            "Which partition? [ default = 2 ]",
            "```",
            "```",
            "```",
            "The system will prompt only if there are two or more read/write partitions. If the partition entered is not valid or is the read-only partition, the process terminates. You can enter a partition number, a question mark (?) for a directory display of all partitions, or a question mark and a number (?<number>) for directory display of a particular partition. The default is the first read/write partition.",
            "```",
            "System flash directory, partition 2:",
            "```",
            "```",
            "File Length Name/status",
            "```",
            "```",
            "1 3459720 master/igs-bfpx.100-4.3",
            "```",
            "```",
            "[ 3459784 bytes used, 734520 available, 4194304 total ]",
            "```",
            "```",
            "Erase flash device, partition 2? [ confirm ] <Return>",
            "```"
        ]
    ],
    "ExtraInfo": "The **eraseÂ nvram:** command replaces the **write erase** command and the **erase startup-config** command.![](/c/dam/en/us/td/i/templates/caut.gif)---**Caution** ![](/c/dam/en/us/td/i/templates/blank.gif)When you use the**erase** command to erase a file system, you cannot recover the files in the file system.---The *word help* feature is disabled for the **erase** command. You must enter the complete command name to enable the command. The parser does not complete the command name if you enter partial syntax of the command and press the Tab key. For more information on the word help feature, refer to the [Using the Cisco IOS Command-Line Interface](http://www.cisco.com/en/US/docs/ios/fundamentals/configuration/guide/cf_cli-basics.html#wp1008476) feature guide.The **erase** command can be used on Class B and Class C flash file systems only.Class A flash file systems cannot be erased. You can delete individual files using the **delete** command and then reclaim the space using the **squeeze** command. You can use the **format** command to format the flash file system. The **format** command when used on ATA disk clears the File Allocation Table (FAT) and root directory entries only. The data is not erased.The **erase nvram:** command erases NVRAM. On Class A file system platforms, if the CONFIG\\_FILE variable specifies a file in flash memory, the specified file will be marked \"deleted.\"The **erase /all** **nvram:** command erases all files on NVRAM, including private NVRAM.The **/no-squeeze-reserve-space** keyword is available on systems with small amounts of flash memory in order to conserve memory. When a squeeze operation is performed, the last two erase sectors are permanently reserved for the squeeze logs and squeeze buffer. The **/no-squeeze-reserve-space** keyword prevents the reservation of space that guarantees the ability to run the squeeze command. Disabling the squeeze operation keeps these memory sectors free. If any sectors using squeeze data are detected, they will be erased when the **/no-squeeze-reserve-space** keyword is used. The **/no-squeeze-reserve-space** keyword increases the available amount of usable flash space, but you may not be able to run the **squeeze** command. This is typically fine if the file system (such as flash) is used to store a single, large file. For example, an IOS image.On Class C flash file systems, space is dynamically reclaimed when you use the **delete** command. You can also use either the **format** or **erase** command to reinitialize a Class C flash file system.![](/c/dam/en/us/td/i/templates/note.gif)---**Note** ![](/c/dam/en/us/td/i/templates/blank.gif)Use the context-sensitive help to determine which file systems can be used for the **erase** command. The output will vary based on the platform.---",
    "RelatedCmds": [
        {
            "cmd": " **boot config** ",
            "description": " Specifies the device and filename of the configuration file from which the router configures itself during initialization (startup). "
        },
        {
            "cmd": " **delete** ",
            "description": " Deletes a file on a flash memory device. "
        },
        {
            "cmd": " **more nvram:startup-config** ",
            "description": " Displays the startup configuration file contained in NVRAM or specified by the CONFIG_FILE environment variable. "
        },
        {
            "cmd": " **show bootvar** ",
            "description": " Displays the contents of the BOOT environment variable, the name of the configuration file pointed to by the CONFIG_FILE environment variable, the contents of the BOOTLDR environment variable, and the configuration register setting. "
        },
        {
            "cmd": " **squeeze** ",
            "description": " Removes all deleted files from the flash file system and recovers the memory space used by deleted files. "
        },
        {
            "cmd": " **undelete** ",
            "description": " Recovers a file marked \"deleted\" on a Class A or Class B flash file system. "
        },
        {
            "cmd": " **write erase** ",
            "description": " The **write erase** command is replaced by the **erase nvram:** command. See the description of the **erase** command for more information "
        }
    ]
}