{
    "From": " Cisco IOS Configuration Fundamentals Command Reference",
    "PageTitle": "format",
    "FuncDef": [
        "To format a Class A, Class B, or Class C flash memory file system, use the **format** command in privileged EXEC or diagnostic mode. "
    ],
    "CLIs": [
        "format <filesystem1>:",
        "Class A Flash File System",
        "format [ spare <spare-number> ] <filesystem1>: [ [ <filesystem2>: ] [ <monlib-filename> ] ]"
    ],
    "ParentView": [
        null
    ],
    "ParaDef": [
        {
            "Parameters": " **spare** ",
            "Info": " (Optional) Reserves spare sectors as specified by the *spare-number* argument when you format flash memory. "
        },
        {
            "Parameters": " *spare-number* ",
            "Info": " (Optional) Number of the spare sectors to reserve in formatted flash memory. Valid values are from 0 to 16. The default value is 0. "
        },
        {
            "Parameters": " *filesystem1*: ",
            "Info": " Flash memory to format, followed by a colon.  Valid values for use with the Cisco 7600 series router are **disk0:**, **disk1:**, **bootflash:**, **slot0:**, **sup-slot0:**, and **sup-bootflash:**; see the \"Usage Guidelines\" section for additional information.  Valid values for use with the ASR 1000 Series Routers are **bootflash:**, **harddisk:**, **stby-harddisk:**, **obfl:**, and **usb**[**0**-**1**]**;**. "
        },
        {
            "Parameters": " *filesystem2*: ",
            "Info": " (Optional) File system containing the monlib file to use for formatting the argument *filesystem1* followed by a colon. "
        },
        {
            "Parameters": " *monlib-filename* ",
            "Info": " (Optional) Name of the ROM monitor library file (monlib file) to use for formatting the *filesystem1* argument. The default monlib file is the one bundled with the system software.  Dual Route Switch Processors (RSP) High System Availability (HSA) Functionality  When this command is used with Dual RSPs and you do not specify the *monlib-filename* argument, the system takes the ROM monitor library file from the slave image bundle. If you specify the *monlib-filename* argument, the system assumes that the files reside on the slave devices. "
        }
    ],
    "Examples": [
        [
            "The following example shows how to format a flash memory card that is inserted in slot 0:",
            "```",
            "Router# format slot0:",
            "```",
            "```",
            "```",
            "```",
            "Running config file on this device, proceed? [ confirm ] y",
            "```",
            "```",
            "All sectors will be erased, proceed? [ confirm ] y",
            "```",
            "```",
            "Enter volume id (up to 31 characters): <Return>",
            "```",
            "```",
            "Formatting sector 1 (erasing)",
            "```",
            "```",
            "Format device slot0 completed",
            "```",
            "```",
            "```",
            "When the console returns to the privileged EXEC prompt, the new flash memory card is formatted and ready for use."
        ],
        [
            "```",
            "Router# format disk0:",
            "```",
            "```",
            "```",
            "```",
            "Running config file on this device, proceed? [ confirm ] y",
            "```",
            "```",
            "All sectors will be erased, proceed? [ confirm ] y",
            "```",
            "```",
            "Enter volume id (up to 31 characters): <Return>",
            "```",
            "```",
            "Formatting sector 1 (erasing)",
            "```",
            "```",
            "Format device disk0 completed",
            "```",
            "```",
            "```",
            "```",
            "When the console returns to the EXEC prompt, the new CompactFlash PC card is formatted and",
            "ready for use.",
            "```",
            "```",
            "```"
        ],
        [
            "```",
            "Router# format formatdisk:",
            "```",
            "```",
            "```",
            "```",
            "Format operation may take a while. Continue? [ confirm ]",
            "```",
            "```",
            "Format operation will destroy all data in \"bootdisk:\". Continue? [ confirm ]",
            "```",
            "```",
            "Hash Computation: 100%Done!",
            "```",
            "```",
            "Computed Hash SHA2: DFBA87256310DC8A7B7BF8158451F7F4",
            "```",
            "```",
            "0AC333C9B396D9D0E42DDBD542C30E08",
            "```",
            "```",
            "F3946DDE692AF04F0B20F29BE51C49C4",
            "```",
            "```",
            "1B631790A542D81F9A7C90ABC2426960",
            "```",
            "```",
            "```",
            "```",
            "Embedded Hash SHA2: DFBA87256310DC8A7B7BF8158451F7F4",
            "```",
            "```",
            "0AC333C9B396D9D0E42DDBD542C30E08",
            "```",
            "```",
            "F3946DDE692AF04F0B20F29BE51C49C4",
            "```",
            "```",
            "1B631790A542D81F9A7C90ABC2426960",
            "```",
            "```",
            "```",
            "```",
            "Digital signature successfully verified in file Monlib",
            "```",
            "```",
            "Writing Monlib sectors....",
            "```",
            "```",
            "Monlib write complete",
            "```",
            "```",
            "```",
            "```",
            "Format: All system sectors written. OK...",
            "```",
            "```",
            "```",
            "```",
            "Format: Total sectors in formatted partition: 1000881",
            "```",
            "```",
            "Format: Total bytes in formatted partition: 512451072",
            "```",
            "```",
            "Format: Operation completed successfully.",
            "```",
            "```",
            "```",
            "```",
            "Format of bootdisk: complete",
            "```"
        ]
    ],
    "ExtraInfo": "Reserve a certain number of memory sectors as spares, so that if some sectors fail, most of the flash memory card can still be used. Otherwise, you must reformat the flash card after some of the sectors fail.Use this command to format Class A, B, or C flash memory file systems. The Cisco 7600 series router supports only Class A and Class C flash file systems.In some cases, you might need to insert a new Personal Computer Memory Card Industry Association (PCMCIA) flash memory or flash PC card and load images or backup configuration files onto it. Before you can use a new flash memory or flash PC card, you must format it.Sectors in flash memory or flash PC cards can fail. Reserve certain flash memory or flash PC sectors as \"spares\" by using the optional spare-number argument on the **format** command to specify 0 to 16 sectors as spares. If you reserve a small number of spare sectors for emergencies, you can still use most of the flash memory or flash PC card. If you specify 0 spare sectors and some sectors fail, you must reformat the flash memory or flash PC card, thereby erasing all existing data.The monlib file is the ROM monitor library. The ROM monitor uses this file to access files in the flash file system. The Cisco IOS system software contains a monlib file. Use the **show disk0: all** command to display monlib file details.When this command is used with HSA and you do not specify the *monlib-filename* *argument*, the system takes the ROM monitor library file from the slave image bundle. If you specify the *monlib-filename* *argument*, the system assumes that the files reside on the slave devices.In the command syntax, the *filesystem1*: argumentspecifies the device to format and the *filesystem2*: argumentspecifies the optional device containing the monlib file used to format the *filesystem1*: argument. The device determines which monlib file to use, as follows:•![](/c/dam/en/us/td/i/templates/blank.gif)If you omit the optional *filesystem2*: and *monlib-filename* arguments, the system formats the *filesystem1*: argument using the monlib file already bundled with the system software.•![](/c/dam/en/us/td/i/templates/blank.gif)If you omit only theoptional *filesystem2*:argument, the system formats the *filesystem1*:argumentusing the monlib file from the device you specified with the **cd** command.•![](/c/dam/en/us/td/i/templates/blank.gif)If you omit only the optional *monlib-filename* argument, the system formats *filesystem1*: using the *filesystem2*:monlib file.•![](/c/dam/en/us/td/i/templates/blank.gif)When you specify both arguments—*filesystem2*: and *monlib-filename*—the system formats the *filesystem1*:argumentusing the monlib file from the specified device.•![](/c/dam/en/us/td/i/templates/blank.gif)You can specify the *filesystem1*: arguments's own monlib file in this argument. If the system cannot find a monlib file, it terminates its formatting.![](/c/dam/en/us/td/i/templates/note.gif)---**Note** ![](/c/dam/en/us/td/i/templates/blank.gif)Most platforms do not support booting from images stored on flash memory cards. You should reboot your device only from integrated memory locations, such as NVRAM.---Cisco 7600 Series Router NotesThe **bootflash:**, **slot0:**, **sup-slot0:**, and **sup-bootflash:** keywords are supported on Cisco 7600 series routers that are configured with a Supervisor Engine 2.Use the **format** command to format Class A or C flash memory file systems.•![](/c/dam/en/us/td/i/templates/blank.gif)The **disk0:** and **disk1:** keywords are for Class C file systems.•![](/c/dam/en/us/td/i/templates/blank.gif)The **bootflash:**, **slot0:**, **sup-slot0:**, and **sup-bootflash:** keywords are for Class A file systems.The **disk0:** keyword is supported on Cisco 7600 series routers that are configured with a Supervisor Engine 2 only.Cisco ASR 1000 Series Routers NotesThis command is available in both privileged EXEC and diagnostic mode on the Cisco ASR 1000 Series Routers.",
    "RelatedCmds": [
        {
            "cmd": " **cd** ",
            "description": " Changes the default directory or file system. "
        },
        {
            "cmd": " **copy** ",
            "description": " Copies any file from a source to a destination. "
        },
        {
            "cmd": " **delete** ",
            "description": " Deletes a file on a flash memory device. "
        },
        {
            "cmd": " **show disk0: all** ",
            "description": " Displays ATA MONLIB file information for disk0. "
        },
        {
            "cmd": " **show file systems** ",
            "description": " Lists available file systems. "
        },
        {
            "cmd": " **squeeze** ",
            "description": " Permanently deletes flash files by squeezing a Class A flash file system. "
        },
        {
            "cmd": " **undelete** ",
            "description": " Recovers a file marked \"deleted\" on a Class A or Class B flash file system. "
        }
    ]
}