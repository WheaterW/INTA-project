{
    "From": " Cisco IOS Configuration Fundamentals Command Reference",
    "PageTitle": "upgrade rom-monitor",
    "FuncDef": [
        "To set the execution preference on a read-only memory monitor (ROMMON), use the **upgrade rom-monitor**command in privileged EXEC or diagnostic mode. "
    ],
    "CLIs": [
        "upgrade rom-monitor slot <num> { sp | rp } file <filename>",
        "upgrade rom-monitor slot <num> { sp | rp } { invalidate | preference } { region1 | region2 }",
        "Cisco ASR 1000 Series Aggregation Services Routers",
        "upgrade rom-monitor filename <URL slot>"
    ],
    "ParentView": [
        null
    ],
    "ParaDef": [
        {
            "Parameters": " **slot** *num* ",
            "Info": " Specifies the slot number of the ROMMON to be upgraded. "
        },
        {
            "Parameters": " **sp** ",
            "Info": " Upgrades the ROMMON of the Switch Processor. "
        },
        {
            "Parameters": " **rp** ",
            "Info": " Upgrades the ROMMON of the Route Processor. "
        },
        {
            "Parameters": " **file** *filename* ",
            "Info": " Specifies the name of the S-record (SREC) file; see the \"Usage Guidelines\" section for valid values. "
        },
        {
            "Parameters": " **invalidate** ",
            "Info": " Invalidates the ROMMON of the selected region. "
        },
        {
            "Parameters": " **preference** ",
            "Info": " Sets the execution preference on a ROMMON of the selected region. "
        },
        {
            "Parameters": " **region1** ",
            "Info": " Selects the ROMMON in region 1. "
        },
        {
            "Parameters": " **region2** ",
            "Info": " Selects the ROMMON in region 2. "
        },
        {
            "Parameters": " **filename** ",
            "Info": " Specifies the ROMMON package filename. "
        },
        {
            "Parameters": " *URL* ",
            "Info": " The URL to a ROMMON file. The URL always begins with a file system, such as **bootflash:**, **harddisk:**, **obfl:**, **stby-harddisk:**, or **usb**[**0**-**1**], then specifies the path to the file. "
        },
        {
            "Parameters": " *slot* ",
            "Info": " The slot that contains the hardware that will receive the ROMMON upgrade. Options are:  •*number*—the number of the Session Initiation Protocol (SIP) slot that requires the ROMMON upgrade  •**all**—All hardware on the router  •**F0**—Embedded-Service-Processor slot 0  •**F1**—Embedded-Service-Processor slot 1  •**FP**—All installed Embedded-Service-Processors  •**R0**—Route-Processor slot 0  •**R1**—Route-Processor slot 1  •**RP**—Route-Processor "
        }
    ],
    "Examples": [
        [
            "```",
            "Router# upgrade rom-monitor <slot> 1 sp file tftp://dirt/tftpboot-users/A2_71059.srec",
            "```",
            "```",
            "```",
            "```",
            "ROMMON image upgrade in progress",
            "```",
            "```",
            "Erasing flash",
            "```",
            "```",
            "Programming flash",
            "```",
            "```",
            "Verifying new image",
            "```",
            "```",
            "ROMMON image upgrade complete",
            "```",
            "```",
            "The card must be reset for this to take effect",
            "```",
            "```",
            "Router#",
            "```",
            "```",
            "```",
            "In the following example, a ROMMON upgrade is performed to upgrade to Cisco IOS Release 12.2(33r)XN1 on a Cisco ASR 1000 Series Router using an ROMMON image stored on the bootflash: file system. All hardware is upgraded on the Cisco ASR 1000 Series Router in this example, and the router is then reloaded to complete the procedure.",
            "```",
            "Router# show rom-monitor 0",
            "```",
            "```",
            "```",
            "```",
            "System Bootstrap, Version 12.2(33)XN1, RELEASE SOFTWARE (fc1)",
            "```",
            "```",
            "Technical Support: http://www.cisco.com/techsupport",
            "```",
            "```",
            "Copyright (c) 2007 by cisco Systems, Inc.",
            "```",
            "```",
            "```",
            "```",
            "Router# show rom-monitor F0",
            "```",
            "```",
            "```",
            "```",
            "System Bootstrap, Version 12.2(33)XN1, RELEASE SOFTWARE (fc1)",
            "```",
            "```",
            "Technical Support: http://www.cisco.com/techsupport",
            "```",
            "```",
            "Copyright (c) 2007 by cisco Systems, Inc.",
            "```",
            "```",
            "```",
            "```",
            "Router# show rom-monitor R0",
            "```",
            "```",
            "```",
            "```",
            "System Bootstrap, Version 12.2(33)XN1, RELEASE SOFTWARE (fc1)",
            "```",
            "```",
            "Technical Support: http://www.cisco.com/techsupport",
            "```",
            "```",
            "Copyright (c) 2007 by cisco Systems, Inc.",
            "```",
            "```",
            "```",
            "```",
            "Router# copy tftp bootflash:",
            "```",
            "```",
            "Address or name of remote host [ ] ? 127.23.16.81",
            "```",
            "```",
            "Source filename [ ] ? auto/tftp-boot/asr1000-rommon.122-33r.XN1.pkg",
            "```",
            "```",
            "Destination filename [ asr1000-rommon.122-33r.XN1.pkg ] ?",
            "```",
            "```",
            "Accessing tftp://127.23.16.81/auto/tftp-boot/asr1000-rommon.122-33r.XN1.pkg...",
            "```",
            "```",
            "Loading auto/tftp-boot/asr1000-rommon.122-33r.XN1.pkg from 127.23.16.81 (via",
            "GigabitEthernet0): !!!",
            "```",
            "```",
            "[ OK - 553164 bytes ]",
            "```",
            "```",
            "```",
            "```",
            "553164 bytes copied in 1.048 secs (527828 bytes/sec)",
            "```",
            "```",
            "Router# dir bootflash:",
            "```",
            "```",
            "Directory of bootflash:/",
            "```",
            "```",
            "```",
            "```",
            "11 drwx 16384 Dec 2 2004 12:02:09 +00:00 lost+found",
            "```",
            "```",
            "14401 drwx 4096 Dec 2 2004 12:05:05 +00:00 .ssh",
            "```",
            "```",
            "86401 drwx 4096 Dec 2 2004 12:05:07 +00:00 .rollback_timer",
            "```",
            "```",
            "12 -rw- 33554432 Nov 20 2007 19:53:47 +00:00 nvram_00100",
            "```",
            "```",
            "13 -rw- 6401536 Dec 23 2004 19:45:11 +00:00 mcp-fpd-pkg.122-test.pkg",
            "```",
            "```",
            "28801 drwx 4096 Nov 1 2007 17:00:36 +00:00 .installer",
            "```",
            "```",
            "15 -rw- 553164 Nov 28 2007 15:33:49 +00:00 asr1000-rommon.122-33r.XN1.pkg",
            "```",
            "```",
            "16 -rw- 51716300 Nov 14 2007 16:39:59 +00:00",
            "asr1000rp1-espbase.v122_33_xn_asr_rls0_throttle.pkg",
            "```",
            "```",
            "17 -rw- 21850316 Nov 14 2007 16:41:23 +00:00",
            "asr1000rp1-rpaccess-k9.v122_33_xn_asr_rls0_throttle.pkg",
            "```",
            "```",
            "18 -rw- 21221580 Nov 14 2007 16:42:21 +00:00",
            "asr1000rp1-rpbase.v122_33_xn_asr_rls0_throttle.pkg",
            "```",
            "```",
            "19 -rw- 27576524 Nov 14 2007 16:43:50 +00:00",
            "asr1000rp1-rpcontrol.v122_33_xn_asr_rls0_throttle.pkg",
            "```",
            "```",
            "20 -rw- 48478412 Nov 14 2007 16:45:50 +00:00",
            "asr1000rp1-rpios-advipservicesk9.v122_33_xn_asr_rls0_throttle.pkg",
            "```",
            "```",
            "21 -rw- 36942028 Nov 14 2007 16:47:17 +00:00",
            "asr1000rp1-sipbase.v122_33_xn_asr_rls0_throttle.pkg",
            "```",
            "```",
            "22 -rw- 14749900 Nov 14 2007 16:48:17 +00:00",
            "asr1000rp1-sipspa.v122_33_xn_asr_rls0_throttle.pkg",
            "```",
            "```",
            "23 -rw- 6049 Nov 14 2007 16:49:29 +00:00 packages.conf",
            "```",
            "```",
            "14 -rw- 213225676 Nov 20 2007 19:53:13 +00:00",
            "asr1000rp1-advipservicesk9.v122_33_xn_asr_rls0_throttle.bin",
            "```",
            "```",
            "```",
            "```",
            "928833536 bytes total (451940352 bytes free)",
            "```",
            "```",
            "```",
            "```",
            "Router# upgrade rom-monitor filename bootflash:/asr1000-rommon.122-33r.XN1.pkg all",
            "```",
            "```",
            "```",
            "```",
            "Upgrade rom-monitor on Route-Processor 0",
            "```",
            "```",
            "```",
            "```",
            "Target copying rom-monitor image file",
            "```",
            "```",
            "Checking upgrade image...",
            "```",
            "```",
            "1966080+0 records in",
            "```",
            "```",
            "3840+0 records out",
            "```",
            "```",
            "Upgrade image MD5 signature is 253f15daf89eea22b1db92d440d03608",
            "```",
            "```",
            "Burning upgrade partition...",
            "```",
            "```",
            "1966080+0 records in",
            "```",
            "```",
            "3840+0 records out",
            "```",
            "```",
            "Checking upgrade partition...",
            "```",
            "```",
            "Upgrade flash partition MD5 signature is 253f15daf89eea22b1db92d440d03608",
            "```",
            "```",
            "ROMMON upgrade complete.",
            "```",
            "```",
            "To make the new ROMMON permanent, you must restart the RP.",
            "```",
            "```",
            "```",
            "```",
            "Upgrade rom-monitor on Embedded-Service-Processor 0",
            "```",
            "```",
            "```",
            "```",
            "Target copying rom-monitor image file",
            "```",
            "```",
            "Checking upgrade image...",
            "```",
            "```",
            "1966080+0 records in",
            "```",
            "```",
            "3840+0 records out",
            "```",
            "```",
            "Upgrade image MD5 signature is 253f15daf89eea22b1db92d440d03608",
            "```",
            "```",
            "Burning upgrade partition...",
            "```",
            "```",
            "1966080+0 records in",
            "```",
            "```",
            "3840+0 records out",
            "```",
            "```",
            "Checking upgrade partition...",
            "```",
            "```",
            "Upgrade flash partition MD5 signature is 253f15daf89eea22b1db92d440d03608",
            "```",
            "```",
            "ROMMON upgrade complete.",
            "```",
            "```",
            "To make the new ROMMON permanent, you must restart the linecard.",
            "```",
            "```",
            "```",
            "```",
            "Upgrade rom-monitor on SPA-Inter-Processor 0",
            "```",
            "```",
            "```",
            "```",
            "Target copying rom-monitor image file",
            "```",
            "```",
            "Checking upgrade image...",
            "```",
            "```",
            "1966080+0 records in",
            "```",
            "```",
            "3840+0 records out",
            "```",
            "```",
            "Upgrade image MD5 signature is 253f15daf89eea22b1db92d440d03608",
            "```",
            "```",
            "Burning upgrade partition...",
            "```",
            "```",
            "1966080+0 records in",
            "```",
            "```",
            "3840+0 records out",
            "```",
            "```",
            "Checking upgrade partition...",
            "```",
            "```",
            "Upgrade flash partition MD5 signature is 253f15daf89eea22b1db92d440d03608",
            "```",
            "```",
            "ROMMON upgrade complete.",
            "```",
            "```",
            "To make the new ROMMON permanent, you must restart the linecard.",
            "```",
            "```",
            "```",
            "```",
            "Upgrade rom-monitor on SPA-Inter-Processor 1",
            "```",
            "```",
            "```",
            "```",
            "Target copying rom-monitor image file",
            "```",
            "```",
            "Checking upgrade image...",
            "```",
            "```",
            "1966080+0 records in",
            "```",
            "```",
            "3840+0 records out",
            "```",
            "```",
            "Upgrade image MD5 signature is 253f15daf89eea22b1db92d440d03608",
            "```",
            "```",
            "Burning upgrade partition...",
            "```",
            "```",
            "1966080+0 records in",
            "```",
            "```",
            "3840+0 records out",
            "```",
            "```",
            "Checking upgrade partition...",
            "```",
            "```",
            "Upgrade flash partition MD5 signature is 253f15daf89eea22b1db92d440d03608",
            "```",
            "```",
            "ROMMON upgrade complete.",
            "```",
            "```",
            "To make the new ROMMON permanent, you must restart the linecard.",
            "```",
            "```",
            "```",
            "```",
            "Router# reload",
            "```",
            "```",
            "```",
            "```",
            "<reload bootup output removed for brevity>",
            "```",
            "```",
            "```",
            "```",
            "Router# show rom-monitor 0",
            "```",
            "```",
            "```",
            "```",
            "System Bootstrap, Version 12.2(33r)XN1, RELEASE SOFTWARE (fc1)",
            "```",
            "```",
            "Technical Support: http://www.cisco.com/techsupport",
            "```",
            "```",
            "Copyright (c) 2007 by cisco Systems, Inc.",
            "```",
            "```",
            "```",
            "```",
            "Router# show rom-monitor F0",
            "```",
            "```",
            "```",
            "```",
            "System Bootstrap, Version 12.2(33r)XN1, RELEASE SOFTWARE (fc1)",
            "```",
            "```",
            "Technical Support: http://www.cisco.com/techsupport",
            "```",
            "```",
            "Copyright (c) 2007 by cisco Systems, Inc.",
            "```",
            "```",
            "```",
            "```",
            "Router# show rom-monitor R0",
            "```",
            "```",
            "```",
            "```",
            "System Bootstrap, Version 12.2(33r)XN1, RELEASE SOFTWARE (fc1)",
            "```",
            "```",
            "Technical Support: http://www.cisco.com/techsupport",
            "```",
            "```",
            "Copyright (c) 2007 by cisco Systems, Inc.",
            "```",
            "```",
            "```"
        ]
    ],
    "ExtraInfo": "![](/c/dam/en/us/td/i/templates/caut.gif)---**Caution** ![](/c/dam/en/us/td/i/templates/blank.gif)If you enter the **upgrade rom-monitor** command from a Telnet session instead of a console connection, service may be interrupted.---The **slot** *num* keyword and argument combination is required for this command to function properly.The **sp** or **rp** keyword is required if you installed a supervisor engine in the specified slot.Valid values for **file** *filename* are the following:•![](/c/dam/en/us/td/i/templates/blank.gif)**bootflash:** •![](/c/dam/en/us/td/i/templates/blank.gif)**disk0:**•![](/c/dam/en/us/td/i/templates/blank.gif)**disk1:**•![](/c/dam/en/us/td/i/templates/blank.gif)**flash:**•![](/c/dam/en/us/td/i/templates/blank.gif)**ftp:**•![](/c/dam/en/us/td/i/templates/blank.gif)**rcp:**•![](/c/dam/en/us/td/i/templates/blank.gif)**sup-bootflash:**•![](/c/dam/en/us/td/i/templates/blank.gif)**sup-slot0:**•![](/c/dam/en/us/td/i/templates/blank.gif)**tftp:**On Cisco ASR 1000 Series Routers, this command can be used to upgrade ROMMON in privileged EXEC and diagnostic mode. The hardware receiving the ROMMON upgrade must be reloaded to complete the upgrade.From Cisco IOS Release 12.4(24)T, you can use the **upgrade rom-monitor** command on Cisco 3200 series routers to upgrade ROMMON and the system bootstrap, if a newer version of ROMMON is available on the system.",
    "RelatedCmds": [
        {
            "cmd": " **show rom-monitor** ",
            "description": " Displays the ROMMON status. "
        }
    ]
}