{
    "From": " Cisco IOS Configuration Fundamentals Command Reference",
    "PageTitle": "memory sanity",
    "FuncDef": [
        "To perform a \"sanity check\" for corruption in buffers and queues, use the **memory sanity** command in global configuration mode. To disable this feature, use the **no** form of this command. "
    ],
    "CLIs": [
        "memory sanity [ buffer | queue | all ]",
        "no memory sanity"
    ],
    "ParentView": [
        null
    ],
    "ParaDef": [
        {
            "Parameters": " **buffer** ",
            "Info": " (Optional) Specifies checking all buffers. "
        },
        {
            "Parameters": " **all** ",
            "Info": " (Optional) Specifies checking all buffers and queues. "
        }
    ],
    "Examples": [
        [
            "The following example shows how to perform a sanity check for corruption in all buffers and queues:",
            "```",
            "memory sanity all",
            "```"
        ]
    ],
    "ExtraInfo": "When the **memory sanity** **buffer** command is enabled, a sanity check is performed on buffers when a packet buffer is allocated or when a packet buffer is returned to the buffer pool. This command also time-stamps the buffer, which may be useful when tracking the age of a buffer.The **memory sanity** command can be saved in the startup configuration file and, therefore, it is not necessary to reconfigure this command each time the router is reloaded. Like the **scheduler heapcheck process memory** command, the **memory sanity** command can check for corruption in the I/O memory block.Enabling the **memory sanity** command may result in slight router performance degradation.",
    "RelatedCmds": [
        {
            "cmd": " **scheduler heapcheck process memory** ",
            "description": " Performs a \"sanity check\" for corruption in memory blocks when a process switch occurs. "
        }
    ]
}