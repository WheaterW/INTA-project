{
    "From": " Cisco IOS Configuration Fundamentals Command Reference",
    "PageTitle": "configuration mode exclusive",
    "FuncDef": [
        "To enable single-user (exclusive) access functionality for the Cisco IOS command-line interface (CLI), use the **configuration mode exclusive** command in global configuration mode. To disable the single-user access (configuration locking) feature, use the **no** form of this command. "
    ],
    "CLIs": [
        "configuration mode exclusive { auto | manual } [ expire <seconds> ] [ lock-show ] [ interleave ] [ terminate ] [ config-wait <seconds> ] [ retry-wait <seconds> ]",
        "no configuration mode exclusive"
    ],
    "ParentView": [
        null
    ],
    "ParaDef": [
        {
            "Parameters": " **auto** ",
            "Info": " Automatically limits configuration to single-user mode. "
        },
        {
            "Parameters": " **manual** ",
            "Info": " Allows you to manually limit the configuration file to single-user mode. "
        },
        {
            "Parameters": " **expire** *seconds* ",
            "Info": " (Optional) Specifies the number of seconds in which the configuration lock is released after the user stops making configuration changes. "
        },
        {
            "Parameters": " **lock-show** ",
            "Info": " (Optional) Gives priority to configuration commands being executed from the exclusive configuration session, and prevents the execution of **show** commands. "
        },
        {
            "Parameters": " **interleave** ",
            "Info": " (Optional) Allows **show** commands from sessions that are not holding the configuration lock to be executed when the user in the session holding the configuration lock is not making configuration changes.  **Note** If you entered the **lock-show** keyword, you should enter this keyword. "
        },
        {
            "Parameters": " **terminate** ",
            "Info": " (Optional) Causes the configuration command executed from the exclusive configuration session to terminate **show** and **clear** commands being executed in other sessions. "
        },
        {
            "Parameters": " **config-wait** *seconds* ",
            "Info": " (Optional) Specifies the amount of time, in seconds, that a configuration command entered by a user in single user mode waits for **show** commands entered by other users to finish being executed. If the **show** command is still being executed when the timer expires and if the **terminate** option is set, the configuration command terminates the **show** command. If the configuration command completes execution before the specified number of seconds, the **show** command begins execution. "
        },
        {
            "Parameters": " **retry-wait** *seconds* ",
            "Info": " (Optional) Specifies the amount of time, in seconds, that **show** and **clear** EXEC commands will wait for a configuration command entered by a user in exclusive configuration mode to complete execution.  If the configuration command is still being executed when the specified amount of time has passed, the EXEC commands generate an error message and are terminated.  If execution of the configuration command is completed before the specified number of seconds, the EXEC commands are executed. "
        }
    ],
    "Examples": [
        [
            "The following example shows how to configure the configuration file for single-user autoconfiguration mode by using the configuration mode exclusive auto command. Use the configuration terminal command to enter global configuration mode and lock the configuration mode exclusively. After the Cisco IOS configuration mode is locked exclusively, you can verify this configuration by entering the show configuration lock command.",
            "```",
            "Router# configure terminal",
            "```",
            "```",
            "Enter configuration commands, one per line. End with CNTL/Z.",
            "```",
            "```",
            "Router(config)# configuration mode exclusive auto",
            "```",
            "```",
            "Router(config)# end",
            "```",
            "```",
            "```",
            "```",
            "Router# show running-configuration | include config",
            "```",
            "```",
            "Building configuration...",
            "Current configuration : 2296 bytes",
            "configuration mode exclusive auto <========== auto policy",
            "```",
            "```",
            "Router# configure terminal ? <======== lock option not displayed when in auto policy",
            "Router# configure terminal <======= acquires the lock",
            "```",
            "The configuration mode is locked exclusively. The lock is cleared after you exit from configuration mode by entering the end or exit command.",
            "```",
            "Enter configuration commands, one per line. End with CNTL/Z.",
            "Router(config)#",
            "```",
            "```",
            "Router(config)# show configuration lock",
            "```",
            "```",
            "Parser Configure Lock",
            "---------------------",
            "Owner PID : 3",
            "User : unknown",
            "TTY : 0",
            "Type : EXCLUSIVE",
            "State : LOCKED",
            "Class : EXPOSED",
            "Count : 1",
            "Pending Requests : 0",
            "User debug info : configure terminal",
            "Session idle state : TRUE",
            "No of exec cmds getting executed : 0",
            "No of exec cmds blocked : 0",
            "Config wait for show completion : FALSE",
            "Remote ip address : Unknown",
            "Lock active time (in Sec) : 6",
            "Lock Expiration timer (in Sec) : 593",
            "```",
            "```",
            "Router(config)#",
            "```",
            "```",
            "Router(config)# end <========= releases the lock",
            "Router#",
            "```",
            "```",
            "Router# show configuration lock",
            "```",
            "```",
            "Parser Configure Lock",
            "---------------------",
            "Owner PID : -1",
            "User : unknown",
            "TTY : -1",
            "Type : NO LOCK",
            "State : FREE",
            "Class : unknown",
            "Count : 0",
            "Pending Requests : 0",
            "User debug info :",
            "Session idle state : TRUE",
            "No of exec cmds getting executed : 0",
            "No of exec cmds blocked : 0",
            "Config wait for show completion : FALSE",
            "Remote ip address : Unknown",
            "Lock active time (in Sec) : 0",
            "Lock Expiration timer (in Sec) : 0",
            "```",
            "The following example shows how to enable the exclusive locking feature in manual mode by using the configuration mode exclusive manual command. Once you have configured manual exclusive mode, you can lock the configuration mode by using the configure terminal lock command. In this mode, the configure terminal command does not automatically lock the parser configuration mode. The lock is cleared after you exit from configuration mode by entering the end or exitcommand.",
            "```",
            "Router# configure terminal",
            "```",
            "```",
            "Configuration mode locked exclusively. The lock will be cleared once you exit out of",
            "configuration mode using end/exit",
            "Enter configuration commands, one per line. End with CNTL/Z.",
            "```",
            "```",
            "Router(config)# configuration mode exclusive manual",
            "Router(config)# end",
            "Router#",
            "Router# show running-configuration | include configuration",
            "```",
            "```",
            "Building configuration...",
            "Current configuration : 2298 bytes",
            "configuration mode exclusive manual <==== 'manual' policy",
            "```",
            "```",
            "Router# show configuration lock",
            "```",
            "```",
            "Parser Configure Lock",
            "---------------------",
            "Owner PID : -1",
            "User : unknown",
            "TTY : -1",
            "Type : NO LOCK",
            "State : FREE",
            "Class : unknown",
            "Count : 0",
            "Pending Requests : 0",
            "User debug info :",
            "Session idle state : TRUE",
            "No of exec cmds getting executed : 0",
            "No of exec cmds blocked : 0",
            "Config wait for show completion : FALSE",
            "Remote ip address : Unknown",
            "Lock active time (in Sec) : 0",
            "Lock Expiration timer (in Sec) : 0",
            "Router#",
            "```",
            "```",
            "Router# configure terminal ?",
            "lock Lock configuration mode <========= 'lock' option displayed in 'manual' policy",
            "Router# configure terminal <============ `configure terminal' won't acquire lock",
            "automatically",
            "Enter configuration commands, one per line. End with CNTL/Z.",
            "```",
            "```",
            "Router(config)# show configuration lock",
            "Parser Configure Lock",
            "---------------------",
            "Owner PID : -1",
            "User : unknown",
            "TTY : -1",
            "Type : NO LOCK",
            "State : FREE",
            "Class : unknown",
            "Count : 0",
            "Pending Requests : 0",
            "User debug info :",
            "Session idle state : TRUE",
            "No of exec cmds getting executed : 0",
            "No of exec cmds blocked : 0",
            "Config wait for show completion : FALSE",
            "Remote ip address : Unknown",
            "Lock active time (in Sec) : 0",
            "Lock Expiration timer (in Sec) : 0",
            "Router(config)# end",
            "```",
            "```",
            "Router# show configuration lock",
            "```",
            "```",
            "Parser Configure Lock",
            "---------------------",
            "Owner PID : -1",
            "User : unknown",
            "TTY : -1",
            "Type : NO LOCK",
            "State : FREE",
            "Class : unknown",
            "Count : 0",
            "Pending Requests : 0",
            "User debug info :",
            "Session idle state : TRUE",
            "No of exec cmds getting executed : 0",
            "No of exec cmds blocked : 0",
            "Config wait for show completion : FALSE",
            "Remote ip address : Unknown",
            "Lock active time (in Sec) : 0",
            "Lock Expiration timer (in Sec) : 0",
            "Router#",
            "Router# configure",
            "Router# configure terminal",
            "Router# configure terminal ?",
            "lock Lock configuration mode <======= 'lock' option displayed when in 'manual' policy",
            "Router# configure terminal lock",
            "Router# configure terminal lock <============ acquires exclusive configuration lock",
            "```",
            "Configuration mode is locked exclusively. The lock is cleared after you exit from configuration mode by entering the end or exit command.",
            "Enter configuration commands, one per line. End with CNTL/Z.",
            "```",
            "Router(config)# show configuration lock",
            "```",
            "```",
            "Parser Configure Lock",
            "---------------------",
            "Owner PID : 3",
            "User : unknown",
            "TTY : 0",
            "Type : EXCLUSIVE",
            "State : LOCKED",
            "Class : EXPOSED",
            "Count : 1",
            "Pending Requests : 0",
            "User debug info : configure terminal lock",
            "Session idle state : TRUE",
            "No of exec cmds getting executed : 0",
            "No of exec cmds blocked : 0",
            "Config wait for show completion : FALSE",
            "Remote ip address : Unknown",
            "Lock active time (in Sec) : 5",
            "Lock Expiration timer (in Sec) : 594",
            "```",
            "```",
            "Router(config)# end <================ 'end' releases exclusive configuration lock",
            "```",
            "```",
            "Router# show configuration lock",
            "```",
            "```",
            "Parser Configure Lock",
            "---------------------",
            "Owner PID : -1",
            "User : unknown",
            "TTY : -1",
            "Type : NO LOCK",
            "State : FREE",
            "Class : unknown",
            "Count : 0",
            "Pending Requests : 0",
            "User debug info :",
            "Session idle state : TRUE",
            "No of exec cmds getting executed : 0",
            "No of exec cmds blocked : 0",
            "Config wait for show completion : FALSE",
            "Remote ip address : Unknown",
            "Lock active time (in Sec) : 0",
            "Lock Expiration timer (in Sec) : 0",
            "Router#",
            "```"
        ]
    ],
    "ExtraInfo": "The **configuration mode exclusive** command enables the exclusive configuration lock feature. The exclusive configuration lock allows single-user access to configuration modes using single-user configuration mode. While the device configuration is locked, no other users can enter configuration commands.Users accessing the device using the state-full, session-based transports (telnet, Secure Shell (SSH) are able to enter single-user configuration mode. The user enters single-user configuration mode by acquiring the exclusive configuration lock using the **configure terminal lock** privileged EXEC mode command. The configuration lock is released when the user exits configuration mode by using the **end** or **exit** command, or by pressing Ctrl-Z. While a user is in single-user configuration mode, no other users can configure the device. Users accessing Command Line Interface (CLI) options through stateless protocols (that is, the HTTP web-based user interface) cannot access single-user configuration mode. (However, an Application Programming Interface (API) allows the stateless transports to lock the configuration mode, complete its operations, and release the lock.)",
    "RelatedCmds": [
        {
            "cmd": " **configure terminal** ",
            "description": " Enters global configuration mode. "
        },
        {
            "cmd": " **debug configuration lock** ",
            "description": " Enables debugging of the Cisco IOS configuration lock. "
        },
        {
            "cmd": " **show configuration lock** ",
            "description": " Displays information about the lock status of the running configuration file during a configuration replace operation. "
        }
    ]
}