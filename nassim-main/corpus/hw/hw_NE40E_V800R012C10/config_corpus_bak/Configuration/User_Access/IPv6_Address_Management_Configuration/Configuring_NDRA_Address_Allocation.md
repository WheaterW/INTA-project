Configuring NDRA Address Allocation
===================================

This section describes how to configure the NE40E to use ND to allocate IPv6 addresses when the CPE works in bridging mode.

#### Usage Scenario

NDRA address allocation is implemented using stateless address autoconfiguration (SLAAC).

The NE40E allocates only the 64-bit IPv6 prefixes. The 64-bit interface ID is generated by the client itself.

**Figure 1** Networking diagram of NDRA address allocation

  
![](figure/en-us_image_0257545109.png)  


The host initiates a connection request, and the CPE transparently forwards the connection request packet. The NE40E uses NDRA to allocate IPv6 addresses to the host.

![](../../../../public_sys-resources/note_3.0-en-us.png) 

If NDRA address allocation is configured for IPoXv6 users, only unshared IPv6 prefixes can be allocated to users.



#### Pre-configuration Tasks

Before configuring NDRA address allocation, complete the following tasks:

Configure the CPE working mode as bridging.


[Configuring an IPv6 Prefix Pool](../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0022.html)

Before configuring the NDRA address assignment mode, you need to configure an IPv6 prefix pool and bind it to an address pool.

[Configuring an IPv6 Address Pool](../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0023.html)

In NDRA address allocation mode, after an IPv6 prefix pool is configured, you need to configure an IPv6 address pool.

[Binding an IPv6 Address Pool to a Domain](../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0079.html)

Users in the domain can obtain addresses from the address pool only after an IPv6 address pool is bound to a domain.

[(Optional) Binding an IPv6 Address Pool to a BAS Interface](../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_00791.html)

When different users go online through the same domain and different IPv6 address segments need to be configured for these users, you can bind an IPv6 address pool to the BAS interface from which the users go online so that the IPv6 address range for the users in the domain can be limited based on the BAS interface.

[(Optional) Configuring the Address Assignment Status](../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0024o.html)

You can configure the address assignment status based on the address assignment mode and access mode.

[(Optional) Configuring a Constant Index for an IPv6 Prefix Pool or IPv6 Address Pool](../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0082a.html)



[(Optional) Locking an IPv6 Address Pool](../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0160.html)

This section describes how to lock an IPv6 address pool so that the address pool cannot be used to assign IPv6 addresses to new users.

[(Optional) Configuring IPv6 Address Pool Route Leaking](../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_00761.html)

This section describes how to configure a VPN import policy for address pool subnet routes in order to achieve VPN-based automatic leaking of IPv6 address pool routes.

[Verifying the NDRA Address Allocation Configuration](../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0026.html)

After configuring NDRA address allocation, verify the configurations of the IPv6 address pool, the IPv6 prefix pool, the domain, and usage of the address pool bound to the domain.