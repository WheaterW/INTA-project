Configuring Static Member Ports
===============================

Static member ports send data for specific multicast groups.

#### Context

Member ports receive multicast data sent for multicast groups or source-address-specific multicast groups, and are configured as dynamic member ports by default. If the user hosts attached to an interface must regularly receive data for multicast groups or source-address-specific multicast groups, the interface can be configured as a static member port. Since static member ports do not age, multicast services are not interrupted.

On a stable network, PW interfaces and sub-interfaces in a VPLS or interfaces in a VLAN can be configured as static member ports.

Static member ports do not age, and can only be deleted using relevant commands.


#### Procedure

* Static member ports can be configured at different locations on a network to enable users to regularly receive group-specific or group-and-source-specific multicast data. The steps listed in [Table 1](#EN-US_TASK_0172367855__tab_dc_vrp_l2mc_cfg_001301) can be performed in any order. Complete one or more steps as required.
  
  
  
  **Table 1** Configuring static member ports
  | Usage Scenario | Position | Configuration Procedure | Description |
  | --- | --- | --- | --- |
  | VLAN | Interface | 1. Run the [**system-view**](cmdqueryname=system-view) command to enter the system view. 2. Run the [**interface**](cmdqueryname=interface) *interface-type interface-number* command to enter the view of the interface directly connected to users that need to statically join multicast groups. 3. (Optional) Run the [**undo igmp-snooping learning**](cmdqueryname=undo+igmp-snooping+learning) **vlan** { *vlan-id* { [ *&<1-10>* ][**to** *vlan-id* ] | **all** } } command to disable dynamic learning on multicast group member ports. After you disable the interface from dynamically learning forwarding entries, you can only add the interface to a multicast group statically. 4. Run the [**l2-multicast static-group**](cmdqueryname=l2-multicast+static-group) [ **source-address** *source-address-ip-address* ] **group-address** *group-address* **vlan** { { *vlan-id1* [ **to** *vlan-id2* ] } & <1-10> } command to configure the interfaces in the specified VLANs as static multicast group member ports. 5. (Optional) Run the [**quit**](cmdqueryname=quit) command to enter the system view. 6. (Optional) Run the [**vlan**](cmdqueryname=vlan) *vlan-id* command to enter the VLAN view. 7. (Optional) Run the [**igmp-snooping static-group suppress-dynamic-join**](cmdqueryname=igmp-snooping+static-group+suppress-dynamic-join) command to configure suppression of dynamic IGMP snooping joining to prevent the current device from forwarding Report messages to the upstream device. 8. Run the [**commit**](cmdqueryname=commit) command to commit the configuration. | Before configuring the interface as a static member port, ensure that the interface has been added to a specific VLAN. Otherwise, the configuration will not take effect. |
  | VPLS | Sub-interface (Termination sub-interface of one Dot1q) | 1. Run the [**system-view**](cmdqueryname=system-view) command to enter the system view. 2. Run the [**interface**](cmdqueryname=interface) *interface-type* *interface-number.subnumber* command to enter the sub-interface view. 3. Run the [**l2 binding**](cmdqueryname=l2+binding) **vsi** *vsi-name* command to bind the sub-interface to a VSI. 4. Run the [**l2-multicast static-group**](cmdqueryname=l2-multicast+static-group) [ **source-address** *source-address-ip-address* ] **group-address** *group-address* **vsi** *vsi-name* command to configure the sub-interface as a static member port in the VSI. 5. Run the [**commit**](cmdqueryname=commit) command to commit the configuration. | + A sub-interface that is not bound to a VSI cannot be configured as a static member port. + If a sub-interface configured as a static member port becomes unbound from a VSI, all static member port configurations will be deleted from the sub-interface. + A sub-interface can be bound to only one VSI and can be configured as a static multicast group member port of only one VSI. Only one Dot1q termination sub-interface in a VSI can be configured as a static member port. |
  | PW | 1. Run the [**system-view**](cmdqueryname=system-view) command to enter the system view. 2. Run the [**vsi**](cmdqueryname=vsi) *vsi-name* [ **static** ] command to enter the VSI view. 3. Run the [**l2-multicast static-group**](cmdqueryname=l2-multicast+static-group) [ **source-address** *source-address-ip-address* ] **group-address** *group-address* **remote-peer** *ip-address* [ **negotiation-vc-id** *vc-id* ] command to configure a PW interface as a static member port in the VSI. 4. Run the [**commit**](cmdqueryname=commit) command to commit the configuration. | If a PW needs to be configured as a static member port, the PW signaling protocol must be set to LDP.  If no IP address is set for the remote peer, the PW interface can still be configured as a static member port in the VSI but the configuration will not take effect. It will only take effect after an IP address is set for the remote peer. |