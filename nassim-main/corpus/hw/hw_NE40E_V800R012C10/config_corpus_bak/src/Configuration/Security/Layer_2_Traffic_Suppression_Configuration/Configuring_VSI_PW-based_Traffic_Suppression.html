
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring VSI PW-based Traffic Suppression">
<meta name="abstract" content="This section describes how to configure VSI PW-based traffic suppression in order to reduce the traffic burden on a network.">
<meta name="description" content="This section describes how to configure VSI PW-based traffic suppression in order to reduce the traffic burden on a network.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_traff-supress_cfg_5000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_traff-supress_cfg_5010.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_traff-supress_cfg_5014.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00800033,traff-supress_ne,w00556928,w00606909,l00455378,z00805567">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Layer 2 Traffic Suppression">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Layer 2 Traffic Suppression">
<meta name="featuretype" content="Security">
<meta name="featurename" content="Layer 2 Traffic Suppression">
<meta name="featuretype" content="Security">
<meta name="OWNER" content="q00517581">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00606909">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172372578">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring VSI PW-based Traffic Suppression</title>
</head>
<body><a name="EN-US_TASK_0172372578"></a><a name="EN-US_TASK_0172372578"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring VSI PW-based Traffic Suppression</h1>
<div class="taskbody"><p>This section describes how to configure VSI PW-based traffic suppression in order to reduce the traffic burden on a network.</p>
<div class="context"><a name="EN-US_TASK_0172372578__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>In addition to user traffic management and bandwidth allocation, an Ethernet requires broadcast, multicast, and unknown unicast traffic to be suppressed to ensure the secure transmission of unicast traffic and properly utilize bandwidth resources.</p>
<p>Most networks require unicast traffic to be much heavier than broadcast, multicast, and unknown unicast traffic. If broadcast, multicast, and unknown unicast traffic is not suppressed, forwarding a large volume of such traffic consumes numerous bandwidth resources, reducing network performance and even causing a communication interruption. If interface-based traffic suppression is configured, the broadcast, multicast, and unknown unicast traffic of all PWs created on the interface is suppressed. To implement more convenient and flexible traffic suppression, you can configure VSI PW-based suppression for broadcast, multicast, and unknown unicast traffic.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172372578__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring Layer 2 traffic suppression, complete the following tasks:</p>
<ul><li><p>Connect interfaces and set their physical parameters to ensure that the physical status of the interfaces is up.</p>
</li><li><p>Enable the MPLS L2VPN function.</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172372578__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=vsi"><b><span class="cmdname">vsi</span></b></a> <i><span class="varname">vsi-name</span></i> [ <strong><span>static</span></strong> ]</span><p><p>The VSI view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=suppression"><b><span class="cmdname">suppression</span></b></a> { <strong><span>inbound</span></strong> | <strong><span>outbound</span></strong> } <strong><span>enable</span></strong></span><p><p>Traffic suppression is enabled for the VSI.</p>
</p></li><li><span><span>Configure VSI PW-based LDP interface traffic suppression in the VSI-LDP-PW view, VSI PW-based BGP interface traffic suppression in the VSI-BGP-PW view, or VSI PW-based BGPAD interface traffic suppression in the VSI-BGPAD-PW view.</span></span><p><ul><li>Configure VSI PW-based LDP interface traffic suppression in the VSI-LDP-PW view.<ol type="a"><li>Run <a href="cmdqueryname=pwsignal+ldp"><b><span class="cmdname">pwsignal ldp</span></b></a><p>The VSI-LDP view is displayed.</p>
</li><li>Run <a href="cmdqueryname=vsi-id"><b><span class="cmdname">vsi-id</span></b></a> <i><span class="varname">vsi-id</span></i><p>A VSI ID is configured.</p>
</li><li>Run <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">peer-address</span></i> [ <strong><span>negotiation-vc-id</span></strong> <i><span class="varname">vc-id</span></i> ] <strong><span>pw</span></strong> <i><span class="varname">pw-name</span></i><p>A PW is created, and the VSI-LDP-PW view is displayed.</p>
</li></ol>
</li><li>Configure VSI PW-based BGP interface traffic suppression in the VSI-BGP-PW view.<ol type="a"><li>Run <a href="cmdqueryname=pwsignal+bgp"><b><span class="cmdname">pwsignal bgp</span></b></a><p>The VSI-BGP view is displayed.</p>
</li><li>Run <a href="cmdqueryname=route-distinguisher"><b><span class="cmdname">route-distinguisher</span></b></a> <i><span class="varname">route-distinguisher</span></i><p>An RD is configured for the current VSI.</p>
</li><li>Run <a href="cmdqueryname=vpn-target"><b><span class="cmdname">vpn-target</span></b></a> <i><span class="varname">vpn-target</span></i> <strong><span>both</span></strong><p>The current VSI is associated with the specified VPN target.</p>
</li><li>Run <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">peer-address</span></i> <strong><span>remote-site</span></strong> <i><span class="varname">remote-site-id</span></i> <strong><span>pw</span></strong> <i><span class="varname">pw-name</span></i><p>A PW is created, and the VSI-BGP-PW view is displayed.</p>
</li></ol>
</li><li>Configure VSI PW-based BGPAD interface traffic suppression in the VSI-BGPAD-PW view.<ol type="a"><li>Run <a href="cmdqueryname=bgp-ad"><b><span class="cmdname">bgp-ad</span></b></a><p>The BGP AD view is displayed.</p>
</li><li>Run <a href="cmdqueryname=vpls-id"><b><span class="cmdname">vpls-id</span></b></a> <em>vplsIdValue</em><p>The ID of the VPLS domain to which the VSI belongs is specified.</p>
</li><li>Run <a href="cmdqueryname=vpn-target"><b><span class="cmdname">vpn-target</span></b></a> <i><span class="varname">vpn-target</span></i> <strong><span>both</span></strong><p>The current VSI is associated with the specified VPN target.</p>
</li><li><p>Run <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">peer-address</span></i> <strong><span>pw</span></strong> <i><span class="varname">pw-name</span></i></p>
<p>A PW is created, and the VSI-BGPAD-PW view is displayed.</p>
</li></ol>
</li></ul>
</p></li><li><span>Run <a href="cmdqueryname=broadcast-suppression"><b><span class="cmdname">broadcast-suppression</span></b></a> <strong><span>cir</span></strong> <i><span class="varname">cirVal</span></i> [ <strong><span>cbs</span></strong> <i><span class="varname">cbsVal</span></i> ]</span><p><p>VSI PW-based broadcast traffic suppression is implemented.</p>
</p></li><li><span>Run <a href="cmdqueryname=multicast-suppression"><b><span class="cmdname">multicast-suppression</span></b></a> <strong><span>cir</span></strong> <i><span class="varname">cirVal</span></i> [ <strong><span>cbs</span></strong> <i><span class="varname">cbsVal</span></i> ]</span><p><p>VSI PW-based multicast traffic suppression is implemented.</p>
</p></li><li><span>Run <a href="cmdqueryname=unknown-unicast-suppression"><b><span class="cmdname">unknown-unicast-suppression</span></b></a> <strong><span>cir</span></strong> <i><span class="varname">cirVal</span></i> [ <strong><span>cbs</span></strong> <i><span class="varname">cbsVal</span></i> ]</span><p><p>VSI PW-based unknown unicast traffic suppression is implemented.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0172372578__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Follow-up Procedure</h4>
<div class="p"><p>After the configuration is complete, perform the following operation to verify the configuration:</p>
<p>Run the <a href="cmdqueryname=display+interface"><b><span class="cmdname">display interface</span></b></a> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type interface-num</span></i> } <strong><span>suppression vsi</span></strong> <i><span class="varname">vsi-name</span></i> or <a href="cmdqueryname=display+traffic-statistics+suppression+interface"><b><span class="cmdname">display traffic-statistics suppression interface</span></b></a> {<i><span class="varname"> interface-name | interface-type interface-num</span></i> } <strong><span>vsi</span></strong> <i><span class="varname">vsi-name</span></i> command to check Layer 2 traffic suppression statistics about specified VPLS services on the specified interface.</p>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_traff-supress_cfg_5000.html">Layer 2 Traffic Suppression Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_traff-supress_cfg_5010.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_traff-supress_cfg_5014.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>