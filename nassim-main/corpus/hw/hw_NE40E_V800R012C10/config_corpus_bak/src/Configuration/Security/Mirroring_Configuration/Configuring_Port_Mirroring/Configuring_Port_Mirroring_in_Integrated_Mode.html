
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Port Mirroring in Integrated Mode">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_portmirror_cfg_0003.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_portmirror_cfg_0026.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_portmirror_cfg_0024.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00800033,w00556928,portmirror_ne,w00606909,l00455378,z00805567">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPoE">
<meta name="featurename" content="Mirroring">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPoE">
<meta name="featurename" content="Mirroring">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPoE">
<meta name="featurename" content="Mirroring">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="Mirroring">
<meta name="featuretype" content="Security">
<meta name="OWNER" content="l00311327,z00603461,w00800033,qwx715047,w00556928,w00606909">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00606909">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172343780">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Configuring Port Mirroring in Integrated Mode</title>
</head>
<body><a name="EN-US_TASK_0172343780"></a><a name="EN-US_TASK_0172343780"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Port Mirroring in Integrated Mode</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0172343780__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>To simplify port mirroring configuration, you can configure port mirroring in integrated mode.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172343780__en-us_task_0172343776_p163232463357">You can configure port mirroring in either of the following ways:</p>
<ul id="EN-US_TASK_0172343780__en-us_task_0172343776_ul895315181763"><li id="EN-US_TASK_0172343780__en-us_task_0172343776_li1695317183619"><a href="dc_ne_portmirror_cfg_0035.html">Configure port mirroring in integrated mode</a>.</li><li id="EN-US_TASK_0172343780__en-us_task_0172343776_li295351818615">Configure <a href="dc_ne_portmirror_cfg_0005.html">an observing port</a> and <a href="dc_ne_portmirror_cfg_0025.html">a mirrored port</a>, and <a href="dc_ne_portmirror_cfg_0026.html">specify the observing port for mirroring</a>.<p id="EN-US_TASK_0172343780__en-us_task_0172343776_p1375315301062">Although you can configure an observing port, configure a mirrored port, and specify the observing port for mirroring in any sequence, you need to perform all these operations. Otherwise, port mirroring cannot take effect. When the mirroring function is not required, you are advised to disable it so that it does not adversely affect other services.</p>
</li></ul>
</div></div>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Interfaces supporting local mirroring</caption><thead align="left"><tr id="EN-US_TASK_0172343780__en-us_task_0172343778_row141150647214610"><th align="left" class="cellrowborder" valign="top" width="34.4%" id="mcps1.3.1.3.2.4.1.1" liSelected="liSelected"><p id="EN-US_TASK_0172343780__en-us_task_0172343778_p224352771214610">Interface Type</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="32.6%" id="mcps1.3.1.3.2.4.1.2" liSelected="liSelected"><p id="EN-US_TASK_0172343780__en-us_task_0172343778_entry1754072174214610p0">Mirrored Port</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33%" id="mcps1.3.1.3.2.4.1.3" liSelected="liSelected"><p id="EN-US_TASK_0172343780__en-us_task_0172343778_entry405042012214610p0">Observing Port</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_TASK_0172343780__en-us_task_0172343778_row828503520214610"><td class="cellrowborder" align="left" valign="top" width="34.4%" headers="mcps1.3.1.3.2.4.1.1 "><p id="EN-US_TASK_0172343780__en-us_task_0172343778_entry1051467040214610p0">Layer 3 Ethernet main interfaces (including Eth-Trunk interfaces)</p>
</td>
<td class="cellrowborder" align="left" valign="top" width="32.6%" headers="mcps1.3.1.3.2.4.1.2 "><p id="EN-US_TASK_0172343780__en-us_task_0172343778_p1308158408214610">Supported</p>
</td>
<td class="cellrowborder" align="left" valign="top" width="33%" headers="mcps1.3.1.3.2.4.1.3 "><p id="EN-US_TASK_0172343780__en-us_task_0172343778_p871812642214610">Supported</p>
</td>
</tr>
<tr id="EN-US_TASK_0172343780__en-us_task_0172343778_row570867435214610"><td class="cellrowborder" valign="top" width="34.4%" headers="mcps1.3.1.3.2.4.1.1 "><p id="EN-US_TASK_0172343780__en-us_task_0172343778_entry1552335882214610p0">BAS interfaces</p>
</td>
<td class="cellrowborder" valign="top" width="32.6%" headers="mcps1.3.1.3.2.4.1.2 "><p id="EN-US_TASK_0172343780__en-us_task_0172343778_entry587382048214610p0">Supported</p>
<div class="note" id="EN-US_TASK_0172343780__en-us_task_0172343778_note835206007214610"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TASK_0172343780__en-us_task_0172343778_p1354242857214610">A VE interface functioning as a BAS interface only supports local flow mirroring in loopback scenarios.</p>
</div></div>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.3.1.3.2.4.1.3 "><p id="EN-US_TASK_0172343780__en-us_task_0172343778_entry630946391214610p0">Not supported</p>
</td>
</tr>
<tr id="EN-US_TASK_0172343780__en-us_task_0172343778_row1006684963214610"><td class="cellrowborder" align="left" valign="top" width="34.4%" headers="mcps1.3.1.3.2.4.1.1 "><p id="EN-US_TASK_0172343780__en-us_task_0172343778_entry837529676214610p0">Ethernet sub-interfaces (including Eth-Trunk sub-interfaces)</p>
</td>
<td class="cellrowborder" align="left" valign="top" width="32.6%" headers="mcps1.3.1.3.2.4.1.2 "><div class="p" id="EN-US_TASK_0172343780__en-us_task_0172343778_p831513696214610">Supported<div class="note" id="EN-US_TASK_0172343780__en-us_task_0172343778_note16162896506"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TASK_0172343780__en-us_task_0172343778_p216211935018">A sub-interface supports the mirroring function even when configured as a dot1q<span>, EVC</span><span>, BAS</span>, dot1q VLAN tag termination, or QinQ VLAN tag termination sub-interface.</p>
</div></div>
</div>
</td>
<td class="cellrowborder" align="left" valign="top" width="33%" headers="mcps1.3.1.3.2.4.1.3 "><p id="EN-US_TASK_0172343780__en-us_task_0172343778_p865886831214610">Supported</p>
<div class="note" id="EN-US_TASK_0172343780__en-us_task_0172343778_note1142537733214610"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TASK_0172343780__en-us_task_0172343778_p1980390704214610">A sub-interface functioning as a <span>BAS, </span>dot1q VLAN tag termination or QinQ VLAN tag termination sub-interface does not support observing port configuration.</p>
<p id="EN-US_TASK_0172343780__en-us_task_0172343778_p787741972214610">An EVC sub-interface can be configured as an observing port only when it adopts the untag or dot1q encapsulation mode.</p>
<p id="EN-US_TASK_0172343780__en-us_task_0172343778_p6859154310408">If an Eth-Trunk interface is configured as an observing port, downstream mirroring is performed, and packets are mirrored from their Layer 3 headers, the mirroring starts from the first member interface. Other traffic is mirrored among member interfaces in load balancing mode, which depends on the configured load balancing mode and hash factors.</p>
</div></div>
</td>
</tr>
<tr id="EN-US_TASK_0172343780__en-us_task_0172343778_row484483757214610"><td class="cellrowborder" align="left" valign="top" width="34.4%" headers="mcps1.3.1.3.2.4.1.1 "><p id="EN-US_TASK_0172343780__en-us_task_0172343778_entry1690222606214610p0">POS interfaces</p>
</td>
<td class="cellrowborder" align="left" valign="top" width="32.6%" headers="mcps1.3.1.3.2.4.1.2 "><p id="EN-US_TASK_0172343780__en-us_task_0172343778_p476518561214610">Supported</p>
</td>
<td class="cellrowborder" align="left" valign="top" width="33%" headers="mcps1.3.1.3.2.4.1.3 "><p id="EN-US_TASK_0172343780__en-us_task_0172343778_p1861057038214610">Supported</p>
</td>
</tr>
<tr id="EN-US_TASK_0172343780__en-us_task_0172343778_row2138386419214610"><td class="cellrowborder" align="left" valign="top" width="34.4%" headers="mcps1.3.1.3.2.4.1.1 "><p id="EN-US_TASK_0172343780__en-us_task_0172343778_entry1611999838214610p0">IP-Trunk interfaces</p>
</td>
<td class="cellrowborder" align="left" valign="top" width="32.6%" headers="mcps1.3.1.3.2.4.1.2 "><p id="EN-US_TASK_0172343780__en-us_task_0172343778_p771545518214610">Supported</p>
</td>
<td class="cellrowborder" align="left" valign="top" width="33%" headers="mcps1.3.1.3.2.4.1.3 "><p id="EN-US_TASK_0172343780__en-us_task_0172343778_p1322089753214610">Supported</p>
</td>
</tr>
<tr id="EN-US_TASK_0172343780__en-us_task_0172343778_row1348814041214610"><td class="cellrowborder" align="left" valign="top" width="34.4%" headers="mcps1.3.1.3.2.4.1.1 "><p id="EN-US_TASK_0172343780__en-us_task_0172343778_entry1814303139214610p0">Serial interfaces</p>
</td>
<td class="cellrowborder" align="left" valign="top" width="32.6%" headers="mcps1.3.1.3.2.4.1.2 "><p id="EN-US_TASK_0172343780__en-us_task_0172343778_p110548484214610">Supported</p>
</td>
<td class="cellrowborder" align="left" valign="top" width="33%" headers="mcps1.3.1.3.2.4.1.3 "><p id="EN-US_TASK_0172343780__en-us_task_0172343778_p1654716300214610">Not supported</p>
</td>
</tr>
<tr id="EN-US_TASK_0172343780__en-us_task_0172343778_row624664097214610"><td class="cellrowborder" align="left" valign="top" width="34.4%" headers="mcps1.3.1.3.2.4.1.1 "><p id="EN-US_TASK_0172343780__en-us_task_0172343778_entry1399790502214610p0">ATM main interfaces</p>
</td>
<td class="cellrowborder" align="left" valign="top" width="32.6%" headers="mcps1.3.1.3.2.4.1.2 "><p id="EN-US_TASK_0172343780__en-us_task_0172343778_p875080910214610">Supported</p>
</td>
<td class="cellrowborder" align="left" valign="top" width="33%" headers="mcps1.3.1.3.2.4.1.3 "><p id="EN-US_TASK_0172343780__en-us_task_0172343778_p1750611602214610">Not supported</p>
</td>
</tr>
<tr id="EN-US_TASK_0172343780__en-us_task_0172343778_row438131542214610"><td class="cellrowborder" align="left" valign="top" width="34.4%" headers="mcps1.3.1.3.2.4.1.1 "><p id="EN-US_TASK_0172343780__en-us_task_0172343778_entry2041043067214610p0">ATM sub-interfaces</p>
</td>
<td class="cellrowborder" align="left" valign="top" width="32.6%" headers="mcps1.3.1.3.2.4.1.2 "><p id="EN-US_TASK_0172343780__en-us_task_0172343778_p2020763949214610">Supported</p>
</td>
<td class="cellrowborder" align="left" valign="top" width="33%" headers="mcps1.3.1.3.2.4.1.3 "><p id="EN-US_TASK_0172343780__en-us_task_0172343778_p1707250245214610">Not supported</p>
</td>
</tr>
<tr id="EN-US_TASK_0172343780__en-us_task_0172343778_row205280360214610"><td class="cellrowborder" align="left" valign="top" width="34.4%" headers="mcps1.3.1.3.2.4.1.1 "><p id="EN-US_TASK_0172343780__en-us_task_0172343778_entry1081543412214610p0">MP-Group interfaces</p>
</td>
<td class="cellrowborder" align="left" valign="top" width="32.6%" headers="mcps1.3.1.3.2.4.1.2 "><p id="EN-US_TASK_0172343780__en-us_task_0172343778_p1277188980214610">Supported</p>
</td>
<td class="cellrowborder" align="left" valign="top" width="33%" headers="mcps1.3.1.3.2.4.1.3 "><p id="EN-US_TASK_0172343780__en-us_task_0172343778_p361154422214610">Not supported</p>
</td>
</tr>
</tbody>
</table>
</div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172343780__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span><p><p>The interface view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=port-mirroring+to"><b><span class="cmdname">port-mirroring to</span></b></a> <span>{ <strong><span>null0</span></strong> | </span><strong><span>interface</span></strong> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> <strong><span>observe-index</span></strong> <i><span class="varname">observe-index</span></i> } { <strong><span>inbound</span></strong><span> | <strong><span>cpu-packet</span></strong></span> | <strong><span>outbound</span></strong> } [ <strong><span>user-defined-filter</span></strong> <i><span class="varname">user-defined-filter-id</span></i> ]</span><p><p>Port mirroring is configured in integrated mode.</p>
</p><p></p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_portmirror_cfg_0003.html">Configuring Port Mirroring
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_portmirror_cfg_0026.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_portmirror_cfg_0024.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>