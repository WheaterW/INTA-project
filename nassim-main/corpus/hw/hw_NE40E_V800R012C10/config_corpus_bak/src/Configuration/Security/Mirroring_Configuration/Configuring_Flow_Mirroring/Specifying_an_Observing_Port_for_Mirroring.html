
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Specifying an Observing Port for Mirroring">
<meta name="abstract" content="This section describes how to specify an observing port for mirroring. You can then associate this port with the corresponding mirrored port.">
<meta name="description" content="This section describes how to specify an observing port for mirroring. You can then associate this port with the corresponding mirrored port.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_portmirror_cfg_0009.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_portmirror_cfg_0005a.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_portmirror_cfg_0021.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00800033,w00556928,portmirror_ne,w00606909,l00455378,z00805567">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPoE">
<meta name="featurename" content="Mirroring">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPoE">
<meta name="featurename" content="Mirroring">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPoE">
<meta name="featurename" content="Mirroring">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="Mirroring">
<meta name="featuretype" content="Security">
<meta name="OWNER" content="l00311327,z00603461,w00800033,qwx715047,w00556928,w00606909">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00606909">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172343789">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Specifying an Observing Port for Mirroring</title>
</head>
<body><a name="EN-US_TASK_0172343789"></a><a name="EN-US_TASK_0172343789"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Specifying an Observing Port for Mirroring</h1>
<div class="taskbody" id="taskbody1050909155213933"><p id="shortdesc664348396213933">This section describes how to specify an observing port for mirroring. You can then associate this port with the corresponding mirrored port.</p>
<div class="context"><a name="EN-US_TASK_0172343789__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0172343789__context606742922213933"><div class="p" id="EN-US_TASK_0172343789__p1275934098213933">You can use either of the following methods to specify an observing port for mirroring:<ul id="EN-US_TASK_0172343789__ul144667199213933"><li id="EN-US_TASK_0172343789__li801714210213933"><p id="EN-US_TASK_0172343789__p1098326192213933"><a name="EN-US_TASK_0172343789__li801714210213933"></a><a name="li801714210213933"></a>Specify an observing port for board-based mirroring.</p>
<div class="p" id="EN-US_TASK_0172343789__p2051676949213933">With this method, the mirrored traffic of the entire interface board on the <span class="keyword" id="EN-US_TASK_0172343789__keyword1837772892213933">NE40E</span> is sent to only the same observing port.<div class="note" id="EN-US_TASK_0172343789__note693959201213933"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172343789__p388604350213933">The observing port specified for board-based mirroring can be configured on either the local or non-local interface board.</p>
</div></div>
</div>
</li><li id="EN-US_TASK_0172343789__li189282345213933"><p id="EN-US_TASK_0172343789__p845091208213933"><a name="EN-US_TASK_0172343789__li189282345213933"></a><a name="li189282345213933"></a>Specify an observing port for interface-based mirroring.</p>
<p id="EN-US_TASK_0172343789__p600342876213933">With this method, the mirrored traffic of an interface on the <span class="keyword" id="EN-US_TASK_0172343789__keyword78484346213933">NE40E</span> is sent to the specified observing port.</p>
<div class="note" id="EN-US_TASK_0172343789__note594215075213933"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172343789__p1173806975213933">Packets on an interface can be mirrored to an observing port on any interface board. This means that the observing port can reside on the local or any other interface board. If observing ports are specified for both interface-based mirroring and board-based mirroring, the observing port specified for interface-based mirroring takes effect.</p>
</div></div>
</li></ul>
</div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172343789__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0172343789__steps2068884275213933"><li id="EN-US_TASK_0172343789__step982856208213933"><span id="EN-US_TASK_0172343789__cmd420075132213933">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172343789__cmdname978612218183">system-view</span></b></a></span><p><p id="EN-US_TASK_0172343789__p172135437186">The system view is displayed.</p>
</p></li><li id="EN-US_TASK_0172343789__step536836107213933"><span id="EN-US_TASK_0172343789__cmd1025649302213933">Specify an observing port for board-based flow mirroring or interface-based flow mirroring as required.</span><p><p id="EN-US_TASK_0172343789__p1612942714377">Specify an observing port for board-based flow mirroring.</p>
</p><ol type="a" id="EN-US_TASK_0172343789__substeps1339801752213933"><li id="EN-US_TASK_0172343789__substep18079575213933"><span id="EN-US_TASK_0172343789__cmd1068222798213933">Run the <a href="cmdqueryname=slot"><b><span class="cmdname" id="EN-US_TASK_0172343789__cmdname199768094213933">slot</span></b></a> <i><span class="varname" id="EN-US_TASK_0172343789__varname66910617213933">slot-id</span></i> command to enter the slot view.</span></li><li id="EN-US_TASK_0172343789__substep97153516193"><span id="EN-US_TASK_0172343789__cmd97151051201919">(Optional) Run the <a href="cmdqueryname=observe-filter"><b><span class="cmdname" id="EN-US_TASK_0172343789__cmdname762019585192">observe-filter</span></b></a> <i><span class="varname" id="EN-US_TASK_0172343789__varname2062035891913">filter-index</span></i> <strong><span id="EN-US_TASK_0172343789__cmdparmname196201458131915">local</span></strong> { <strong id="EN-US_TASK_0172343789__b929833312536">dst-ip</strong> <i><span class="varname" id="EN-US_TASK_0172343789__varname8241171619548">dst-ip-address dst-mask</span></i> | <strong id="EN-US_TASK_0172343789__b12298533185313">dst-mac </strong><i><span class="varname" id="EN-US_TASK_0172343789__varname11829123165411">dst-mac-address</span></i> | <strong id="EN-US_TASK_0172343789__b10298113375311">dst-port</strong><em id="EN-US_TASK_0172343789__i179331036115420"> </em><i><span class="varname" id="EN-US_TASK_0172343789__varname72141239165412">dst-port</span></i> | <strong id="EN-US_TASK_0172343789__b1829923365310">ether-type</strong><em id="EN-US_TASK_0172343789__i5999543195416"> </em><i><span class="varname" id="EN-US_TASK_0172343789__varname17989134525417">type-value</span></i> | { <strong id="EN-US_TASK_0172343789__b13299193395312">ip-protocol</strong><em id="EN-US_TASK_0172343789__i143425506544"> </em><i><span class="varname" id="EN-US_TASK_0172343789__varname4199165265416">ip-protocol-number</span></i> | <strong id="EN-US_TASK_0172343789__b6299183310538">ppp-protocol</strong><em id="EN-US_TASK_0172343789__i1344985816547"> </em><i><span class="varname" id="EN-US_TASK_0172343789__varname1864060195510">ppp-protocol-number</span></i> } | <strong id="EN-US_TASK_0172343789__b20299163315314">pppoe-session </strong><i><span class="varname" id="EN-US_TASK_0172343789__varname9154161395514">session-id</span></i><em id="EN-US_TASK_0172343789__i10615155175513"> </em>| <strong id="EN-US_TASK_0172343789__b7299153314536">src-ip</strong><em id="EN-US_TASK_0172343789__i847192115557"> </em><i><span class="varname" id="EN-US_TASK_0172343789__varname084317227555">src-ip-addresssrc-mask</span></i> | <strong id="EN-US_TASK_0172343789__b02997336532">src-mac</strong><em id="EN-US_TASK_0172343789__i12991133135310"> <i><span class="varname" id="EN-US_TASK_0172343789__varname10531432125510">src-mac-address</span></i></em> | <strong id="EN-US_TASK_0172343789__b10299733175313">src-port</strong><em id="EN-US_TASK_0172343789__i68851146165513"> </em><i><span class="varname" id="EN-US_TASK_0172343789__varname452864885513">src-port</span></i> | <strong id="EN-US_TASK_0172343789__b2299103365312">vlan</strong><em id="EN-US_TASK_0172343789__i75271255125511"> </em><i><span class="varname" id="EN-US_TASK_0172343789__varname1833885711553">vlan-id</span></i><em id="EN-US_TASK_0172343789__i1417115522554"> </em>} <sup id="EN-US_TASK_0172343789__sup14299333175316">*</sup> command to configure a filter rule for mirrored packets.</span></li><li id="EN-US_TASK_0172343789__substep1229721562213933"><span id="EN-US_TASK_0172343789__cmd547673806213933">Run the <a href="cmdqueryname=mirror+to+observe-index"><b><span class="cmdname" id="EN-US_TASK_0172343789__cmdname139993447213933">mirror to observe-index</span></b></a> <i><span class="varname" id="EN-US_TASK_0172343789__varname1343526560213933">observe-index</span></i> command to specify an observing port for board-based mirroring.</span></li><li id="EN-US_TASK_0172343789__substep2118831929213933"><span id="EN-US_TASK_0172343789__cmd1634396149213933">Run the <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172343789__cmdname835733563213933">commit</span></b></a> command to commit the configuration.</span></li></ol>
<p><p id="EN-US_TASK_0172343789__p16140142717372">Specify an observing port for interface-based flow mirroring.</p>
</p><ol type="a" id="EN-US_TASK_0172343789__substeps1338626198213933"><li id="EN-US_TASK_0172343789__substep505552239213933"><span id="EN-US_TASK_0172343789__cmd1371173341213933">Run the <a href="cmdqueryname=traffic+behavior"><b><span class="cmdname" id="EN-US_TASK_0172343789__cmdname936336033213933">traffic behavior</span></b></a> <i><span class="varname" id="EN-US_TASK_0172343789__varname1927977026213933">behavior-name</span></i> command to define a traffic behavior and enter the traffic behavior view.</span></li><li id="EN-US_TASK_0172343789__substep1856783473214"><span id="EN-US_TASK_0172343789__cmd2567434173212">Run the <a href="cmdqueryname=port-mirroring+to"><b><span class="cmdname" id="EN-US_TASK_0172343789__cmdname193715473210">port-mirroring to</span></b></a> { <strong><span id="EN-US_TASK_0172343789__cmdparmname893715546328">observe-index</span></strong> <i><span class="varname" id="EN-US_TASK_0172343789__varname293713545328">observe-index</span></i> &amp;&lt;1-8&gt; } command to specify an observing port for interface-based flow mirroring.</span></li></ol>
</li><li id="EN-US_TASK_0172343789__step807542389213933"><span id="EN-US_TASK_0172343789__cmd268282883213933">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172343789__cmdname3607108201912">commit</span></b></a></span><p><p id="EN-US_TASK_0172343789__p45458331194">The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_portmirror_cfg_0009.html">Configuring Flow Mirroring
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_portmirror_cfg_0005a.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_portmirror_cfg_0021.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>