
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring 802.1X Port-based Authentication">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cfg_8021x_0009.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cfg_8021x_0016.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="802.1xne,z00603461,w00800033,z00588052,w00556928,w00606909,l00455378,z00805567">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="802.1X Port-based Authentication">
<meta name="featuretype" content="Security">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="802.1X Port-based Authentication">
<meta name="featuretype" content="Security">
<meta name="featurename" content="802.1X Port-based Authentication">
<meta name="featuretype" content="Security">
<meta name="featurename" content="802.1X Port-based Authentication">
<meta name="featuretype" content="Security">
<meta name="OWNER" content="c00549182">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172372671">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Example for Configuring 802.1X Port-based Authentication</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0172372671"></a><a name="EN-US_TASK_0172372671"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring 802.1X Port-based Authentication</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0172372671__1.3.1"></a><a name="1.3.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>On the network as shown in <a href="#EN-US_TASK_0172372671__fig_dc_ne_cfg_8021x_001001">Figure 1</a>, the <span class="keyword">NE40E</span> connects to a base station through a switch to aggregate and transmit service packets from the base station. Most base stations are placed in unattended equipment rooms (base stations of different carriers may be placed in the same equipment room). Therefore, security measures must be taken to control access to the mobile bearer network. Base stations are required to send 802.1X packets to verify their validity when accessing the network. Only authenticated base stations are allowed to access the network. In addition, MAC-based access control is required.</p>
<div class="fignone" id="EN-US_TASK_0172372671__fig_dc_ne_cfg_8021x_001001"><a name="EN-US_TASK_0172372671__fig_dc_ne_cfg_8021x_001001"></a><a name="fig_dc_ne_cfg_8021x_001001"></a><span class="figcap"><b>Figure 1 </b>Networking for 802.1X port-based authentication</span><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Interfaces 1 and interfaces 2 in this example represent GE <span>0/1/1</span> and GE<span>0/2/1</span>, respectively.</p>
</div></div>
<br><span><img class="vsd" src="images/fig_dc_ne_cfg_8021x_000401.png"></span></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172372671__1.3.2"></a><a name="1.3.2"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><p>The configuration roadmap is as follows:</p>
<ul><li>Configure an 802.1X template.</li><li>Configure a RADIUS authentication scheme.</li><li>Configure a forcible authentication domain.</li><li>Enable 802.1X authentication on a specified interface, and set the maximum number of access users on the interface to 1.</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0172372671__1.3.3"></a><a name="1.3.3"></a>
<div class="p"><h4 class="sectiontitle">Data Preparation</h4><p>To configure 802.1X authentication, you need the following data:</p>
<ul><li>Name of the 802.1X authentication-enabled interface</li><li>Name of the 802.1X template</li><li>Forcible authentication domain</li><li>Type of the authentication service</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172372671__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure an 802.1X template so that the default 802.1X template 1 is not used.</span><p><pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>dot1x-template 10</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-dot1x-template-10] <strong>quit</strong></pre>
</p></li><li><span>Configure a RADIUS authentication scheme.</span><p><p># Configure a RADIUS server group named <strong>shiva</strong>.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>]  <strong>radius-server group shiva</strong></pre>
<p># Configure the IP address and port number for a RADIUS server.</p>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-radius-shiva]<strong> radius-server authentication 10.7.66.66 1812</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-radius-shiva]<strong> quit</strong></pre>
<p># Configure authentication scheme 1, with the <strong>RADIUS</strong> authentication mode.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-aaa] <strong>authentication-scheme 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-aaa-authen-1] <strong>authentication-mode radius</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-aaa-authen-1] <strong>quit</strong></pre>
<p># Configure accounting scheme 1, with the <strong>none</strong> accounting mode.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-aaa] <strong>accounting-scheme 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-aaa-accounting-1] <strong>accounting-mode none</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-aaa-accounting-1] <strong>quit</strong></pre>
</p></li><li><span>Configure a forcible authentication domain named <strong>huawei</strong>.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-aaa] <strong>domain huawei</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-aaa-domain-huawei] <strong>authentication-scheme 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-aaa-domain-huawei] <strong>accounting-scheme 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-aaa-domain-huawei] <strong>radius-server group shiva</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-aaa-domain-huawei] <strong>dot1x-template 10</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-aaa-domain-huawei] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-aaa] <strong>quit</strong></pre>
</p></li><li><span>Enable 802.1X authentication on GE <span>0/1/1</span>.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface GigabitEthernet <span>0/1/1</span></strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-GigabitEthernet<span>0/1/1</span>] <strong>dot1x enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-GigabitEthernet<span>0/1/1</span>] <strong>dot1x max-user 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-GigabitEthernet<span>0/1/1</span>] <strong>dot1x force-domain huawei</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-GigabitEthernet<span>0/1/1</span>] <strong>dot1x port-method mac</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-GigabitEthernet<span>0/1/1</span>] <strong>dot1x port-control auto</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-GigabitEthernet<span>0/1/1</span>] <strong>quit</strong></pre>
</p></li><li><span>Verify the configuration.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>display dot1x interface GigabitEthernet <span>0/1/1</span></strong></pre>
<pre class="screen">GigabitEthernet<span>0/1/1</span>
     Dot1x authentication: enable
     Port control method: mac
     Port control type: auto
     Max user num: 1
     Forced-domain:huawei
     Port current status: authorized
     Port current access user num: 1
</pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0172372671__1.3.5"></a><a name="1.3.5"></a><h4 class="sectiontitle">Configuration Files</h4><p><span class="keyword">NE40E</span> configuration file</p>
<pre class="screen">#
system-view
 dot1x-template 10
#
radius-server group shiva
 radius-server authentication 10.7.66.66 1812 weight 0
#
aaa
 authentication-scheme 1
 accounting-scheme 1
  accounting-mode none
 #
 domain huawei
  authentication-scheme 1
  accounting-scheme 1
  radius-server group shiva 
  dot1x-template 10
#
interface GigabitEthernet<span>0/1/1</span>
 undo shutdown
 dot1x enable
 dot1x force-domain huawei
 dot1x max-user 1
#
return</pre>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cfg_8021x_0009.html">Configuration Examples for 802.1X Port-based Authentication
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cfg_8021x_0016.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>