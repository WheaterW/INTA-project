
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring AAA Schemes">
<meta name="abstract" content="This section describes how to configure authentication, authorization, and accounting (AAA) schemes.">
<meta name="description" content="This section describes how to configure authentication, authorization, and accounting (AAA) schemes.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_aaa_cfg_1003.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_aaa_cfg_1005.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="aaavrp,z00603461,w00800033,z00588052,w00556928,w00606909,l00455378,z00805567">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="AAA (Administrative User)">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="AAA (Administrative User)">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="AAA (Administrative User)">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="AAA (Administrative User)">
<meta name="featuretype" content="Security">
<meta name="OWNER" content="z00603461,z00588052">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172371787">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring AAA Schemes</title>
</head>
<body><a name="EN-US_TASK_0172371787"></a><a name="EN-US_TASK_0172371787"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring AAA Schemes</h1>
<div class="taskbody"><p>This section describes how to configure authentication, authorization, and accounting (AAA) schemes.</p>
<div class="context"><a name="EN-US_TASK_0172371787__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Configuring AAA schemes include:</p>
<ul><li><a href="#EN-US_TASK_0172371787__step_dc_vrp_aaa_cfg_100401">Configure an authentication scheme.</a></li><li><a href="#EN-US_TASK_0172371787__step_dc_vrp_aaa_cfg_100402">Configure an authorization scheme.</a></li><li><a href="#EN-US_TASK_0172371787__step_dc_vrp_aaa_cfg_100403">Configure an accounting scheme.</a></li></ul>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172371787__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li id="EN-US_TASK_0172371787__step_dc_vrp_aaa_cfg_100401"><span id="EN-US_TASK_0172371787__">Configure an authentication scheme.</span><ol><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=aaa"><b><span class="cmdname">aaa</span></b></a></span><p><p>The AAA view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=authentication-scheme"><b><span class="cmdname">authentication-scheme</span></b></a> <i><span class="varname">scheme-name</span></i></span><p><p>An authentication scheme is created, and its view is displayed.</p>
</p><p><p>A maximum of 32 authentication schemes can be configured.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=authentication-mode"><b><span class="cmdname">authentication-mode</span></b></a> { <strong><span>hwtacacs</span></strong> | <strong><span>radius</span></strong> | <strong><span>local</span></strong> }<sup>*</sup></span><p><p>An authentication mode is configured.</p>
</p><p><p>The <strong><span>radius</span></strong> parameter can be specified only for the admin VS.</p>
<p>If multiple authentication modes are configured in an authentication scheme, authentication modes are used in the sequence in which they are configured.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The next configured authentication mode is used only when the current one does not take effect (for example, the server does not respond). If the current authentication succeeds or fails, the next authentication mode is not used.</p>
<p>In the scenario where HWTACACS authentication and then local authentication are configured, after the <a href="cmdqueryname=authentication-reliability+auto-change-next"><b><span class="cmdname">authentication-reliability auto-change-next</span></b></a> command is run, a user is automatically switched to local authentication if HWTACACS remote authentication fails.</p>
</div></div>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=authentication-reliability+auto-change-next"><b><span class="cmdname">authentication-reliability auto-change-next</span></b></a></span><p><p>The device is configured to automatically perform local authentication for users who fail HWTACACS remote authentication.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0172371787__step_dc_vrp_aaa_cfg_100402"><span id="EN-US_TASK_0172371787__">Configure an authorization scheme.</span><ol><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=aaa"><b><span class="cmdname">aaa</span></b></a></span><p><p>The AAA view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=authorization-scheme"><b><span class="cmdname">authorization-scheme</span></b></a> <i><span class="varname">authorization-scheme-name</span></i></span><p><p>An authorization scheme is created, and its view is displayed.</p>
</p><p><p>A maximum of 32 authorization schemes can be configured.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=authorization-mode"><b><span class="cmdname">authorization-mode</span></b></a> <i><span class="varname">authorization-mode1</span></i> [ <i><span class="varname">authorization-mode2</span></i> [ <i><span class="varname">authorization-mode3</span></i> [ <i><span class="varname">authorization-mode4</span></i> ] ] ]</span></span><p><p>An authorization mode is configured.</p>
</p><p><p>If multiple authorization modes are configured in an authorization scheme, the authorization modes are used in the sequence in which they are configured.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The next configured authorization mode is used only when the current one does not take effect (for example, the server does not respond). If the current authorization succeeds or fails, the next authorization mode is not used.</p>
</div></div>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0172371787__step_dc_vrp_aaa_cfg_100403"><span id="EN-US_TASK_0172371787__">Configure an accounting scheme.</span><ol><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=aaa"><b><span class="cmdname">aaa</span></b></a></span><p><p>The AAA view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=accounting-scheme"><b><span class="cmdname">accounting-scheme</span></b></a> <em>acct-scheme-name</em></span><p><p>An accounting scheme is created, and its view is displayed.</p>
</p><p><p>A maximum of 256 accounting schemes can be configured.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=accounting-mode"><b><span class="cmdname">accounting-mode</span></b></a> { <strong><span>hwtacacs</span></strong> | <strong><span>radius</span></strong> | <strong><span>none</span></strong> }</span><p><p>An accounting mode is configured.</p>
</p><p><p>The <strong><span>radius</span></strong> parameter can be specified only for the admin VS.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=accounting+interim+interval"><b><span class="cmdname">accounting interim interval</span></b></a> <i><span class="varname">interval</span></i> [ <strong><span>second</span></strong> ]<span> [ <strong><span>traffic</span></strong> ]</span><span> [ <strong><span>hash</span></strong> ]</span></span><p><p>The interval for real-time accounting<span> and conditions for sending real-time accounting packets are configured,</span><span> and real-time accounting packets are hashed.</span></p>
</p><p><p>Real-time accounting indicates that the <span class="keyword">NE40E</span> periodically generates accounting packets and send them to the remote accounting server when a user is online. Real-time accounting minimizes loss of accounting information when the communication between the <span class="keyword">NE40E</span> and the remote server is interrupted.</p>
<p>The interval for real-time accounting can be set to minutes or seconds. </p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=accounting+start-fail"><b><span class="cmdname">accounting start-fail</span></b></a> { <strong><span>offline</span></strong> | <strong><span>online</span></strong> <span>[ <strong><span>keep-accounting</span></strong> ]</span> }</span><p><p>A policy is configured for handling accounting start failures.</p>
</p><p><p>If the <span class="keyword">NE40E</span> does not receive any response after sending an Accounting Start packet to the remote accounting server, the <span class="keyword">NE40E</span> adopts the configured policy for handling the failure. This policy may keep the user online or log the user out.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=accounting+interim-fail"><b><span class="cmdname">accounting interim-fail</span></b></a> [ <strong><span>max-times</span></strong> <i><span class="varname">times</span></i> ] { <strong><span>offline</span></strong> | <strong><span>online</span></strong> }</span><p><p>A policy is configured for processing real-time accounting failures.</p>
</p><p><p>If the <span class="keyword">NE40E</span> does not receive any response after re-sending the real-time accounting packets to the remote accounting server for a specified number of times, the <span class="keyword">NE40E</span> adopts the configured policy for handling the failure. This policy may keep the user online or log the user out.</p>
<p>When RADIUS/HWTACACS accounting is used, it is recommended that the number of retransmissions of real-time accounting packets be greater than the number of retransmissions of RADIUS/HWTACACS packets.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=accounting+send-update"><b><span class="cmdname">accounting send-update</span></b></a></span><p><p>The device is configured to send real-time accounting packets immediately after receiving response packets to Accounting Start packets.</p>
</p><p><p>After receiving a response packet from the accounting server, the <span class="keyword">NE40E</span> determines whether to send a real-time accounting packet immediately according to the configuration.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
<div class="postreq"><a name="EN-US_TASK_0172371787__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Follow-up Procedure</h4>
<div class="p"><p>Perform one of the following operations based on the configured authentication, authorization, and accounting modes:</p>
<ul><li><a href="dc_vrp_aaa_cfg_1005.html">Configure a local user.</a></li><li><a href="dc_vrp_aaa_cfg_1006.html">Configure an HWTACACS server template.</a></li><li><a href="../ne/dc_ne_aaa_cfg_1600.html">Configuring a Device as a RADIUS Client</a></li></ul>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_aaa_cfg_1003.html">Configuring AAA
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_aaa_cfg_1005.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>