
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring DHCP Snooping Whitelists">
<meta name="abstract" content="This section describes how to configure the whitelist function for DHCP snooping so that DHCP packets are filtered based on the whitelist rules.">
<meta name="description" content="This section describes how to configure the whitelist function for DHCP snooping so that DHCP packets are filtered based on the whitelist rules.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp-snooping_cfg_0001_1.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp-snooping_cfg_0049.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp-snooping_cfg_0028_1.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00800033,w00556928,dhcpsnp,w00606909,l00455378,z00805567">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="DHCP Snooping">
<meta name="featuretype" content="Security">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="DHCP Snooping">
<meta name="featuretype" content="Security">
<meta name="featurename" content="DHCP Snooping">
<meta name="featuretype" content="Security">
<meta name="OWNER" content="y00852169">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="y00852169">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172372026">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring DHCP Snooping Whitelists</title>
</head>
<body><a name="EN-US_TASK_0172372026"></a><a name="EN-US_TASK_0172372026"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring DHCP Snooping Whitelists</h1>
<div class="taskbody"><p>This section describes how to configure the whitelist function for DHCP snooping so that DHCP packets are filtered based on the whitelist rules.</p>
<div class="context"><a name="EN-US_TASK_0172372026__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>Generally, only the trusted and untrusted functions of DHCP snooping can be used to control DHCP packets to be sent to the CPU. On the trusted interface, DHCP request and response packets are sent to the CPU. On the untrusted interface, only request packets are sent to the CPU, and response packets are dropped. To accurately control packets to be sent to the CPU on a trusted client or server, configure the whitelist function for DHCP snooping so that DHCP packets are filtered based on the whitelist rules. After a whitelist is configured for DHCP snooping, only DHCP packets matching the whitelist rules are sent to the CPU, and the DHCP packets that do not match the whitelist rules are simply forwarded. This protects the device against attacks.</p>
<p>In VS mode, this feature is supported only by the admin VS.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172372026__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><p>The configuration roadmap is as follows:</p>
<ol><li>Enable DHCP snooping.</li><li>Create a whitelist.</li><li>Configure whitelist rules.</li><li>Apply the whitelist.</li></ol>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172372026__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enable DHCP snooping.</span><p><ol type="a"><li><p>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></p>
<p>The system view is displayed.</p>
</li><li><p>Run <span><a href="cmdqueryname=dhcp+snooping+enable"><b><span class="cmdname">dhcp snooping enable</span></b></a></span></p>
<p>DHCP snooping is enabled globally.</p>
</li></ol>
</p></li><li><span>Create a whitelist.</span><p><p>Run <span><a href="cmdqueryname=dhcp+snooping+packet+whitelist"><b><span class="cmdname">dhcp snooping packet whitelist</span></b></a> <i><span class="varname">whitelist-name</span></i></span></p>
<p>A whitelist is configured to filter DHCP packets.</p>
</p></li><li><span>Configure whitelist rules.</span><p><ol type="a"><li><p>Run <span><a href="cmdqueryname=dhcp+packet-rule"><b><span class="cmdname">dhcp packet-rule</span></b></a> <i><span class="varname">ruleid</span></i> { <strong><span>source-ip</span></strong> <i><span class="varname">source-ip-address</span></i> { <i><span class="varname">source-ip-mask</span></i> | <i><span class="varname">source-ip-mask-length</span></i> } | <strong><span>destination-ip</span></strong> <i><span class="varname">destination-ip-address</span></i> { <i><span class="varname">destination-ip-mask</span></i> | <i><span class="varname">destination-ip-mask-length</span></i> } } * [ <strong><span>source-port</span></strong> { <strong><span>bootpc</span></strong> | <strong><span>bootps</span></strong> } ] [ <strong><span>destination-port</span></strong> { <strong><span>bootpc</span></strong> | <strong><span>bootps</span></strong> } ]</span></p>
<p>Whitelist rules are configured.</p>
</li><li><p>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></p>
<p>The configuration is committed.</p>
</li><li><p>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span></p>
<p>Return to the system view.</p>
</li></ol>
</p></li><li><span>Apply the whitelist.</span><p><ol type="a"><li><p>Run <span><a href="cmdqueryname=dhcp+snooping+apply+packet+whitelist"><b><span class="cmdname">dhcp snooping apply packet whitelist</span></b></a> <i><span class="varname">whitelist-name</span></i></span></p>
<p>The whitelist is applied to filter DHCP packets.</p>
</li><li><p>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></p>
<p>The configuration is committed.</p>
</li></ol>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0172372026__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>After the configuration is complete, run the <a href="cmdqueryname=display+dhcp+snooping+white-list"><b><span class="cmdname">display dhcp snooping white-list</span></b></a> [ <strong><span>rule-id</span></strong> <i><span class="varname">rule-id</span></i> ] [ <strong><span>slot</span></strong> <i><span class="varname">slot-id</span></i> ] <strong><span>statistics</span></strong> command to check statistics about packets matching a DHCP snooping whitelist rule.</p>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp-snooping_cfg_0001_1.html">DHCP Snooping Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp-snooping_cfg_0049.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp-snooping_cfg_0028_1.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>