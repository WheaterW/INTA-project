
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring Local Users">
<meta name="abstract" content="When the authentication and authorization are implemented in local mode, the authentication and authorization information (such as the username, password, level, maximum number of connections, and maximum number of continuous authentication failures).">
<meta name="description" content="When the authentication and authorization are implemented in local mode, the authentication and authorization information (such as the username, password, level, maximum number of connections, and maximum number of continuous authentication failures).">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_aaa_cfg_1003.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_aaa_cfg_1004.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_aaa_cfg_1006.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="aaavrp,z00603461,w00800033,z00588052,w00556928,w00606909,l00455378,z00805567">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="AAA (Administrative User)">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="AAA (Administrative User)">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="AAA (Administrative User)">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="AAA (Administrative User)">
<meta name="featuretype" content="Security">
<meta name="OWNER" content="z00603461,z00588052">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172371788">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring Local Users</title>
</head>
<body><a name="EN-US_TASK_0172371788"></a><a name="EN-US_TASK_0172371788"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring Local Users</h1>
<div class="taskbody"><p>When the authentication and authorization are implemented in local mode, the authentication and authorization information (such as the username, password, level, maximum number of connections, and maximum number of continuous authentication failures).</p>
<div class="steps-unordered"><a name="EN-US_TASK_0172371788__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>In the AAA view, create a user.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=aaa"><b><span class="cmdname">aaa</span></b></a></span></span><p><p>The AAA view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>password</span></strong> [ <strong><span>cipher</span></strong> <i><span class="varname">password</span></i> | <strong><span>irreversible-cipher</span></strong> <i><span class="varname">irreversible-cipher-password</span></i> ]</span><p><p>A local user is created, and the password of the user is configured.</p>
</p><p><ul><li>If the username contains the at sign (@), the characters before @ are the username, and the characters after @ are the domain name</li><li>If the username does not contain the at sign (@), the entire character string is the username, and the domain name is <span>default_admin</span>.</li><li>The username cannot contain two or more at signs (@).</li><li>Input in simple text: <span>When the user security policy is configured, the password cannot be the same as the username or its reverse. The password must contain the following characters: upper-case character, lower-case character, digit, and special character.</span><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>The question mark (?) is not counted as a special character.</li><li>A space contained can only be located in the middle but not the beginning or end of the password. Use double quotation marks (") around the password.</li><li><span>If the <a href="cmdqueryname=local-user+service-type"><b><span class="cmdname">local-user service-type</span></b></a> command has been run to configure a user as an administrator by specifying the user type as the Telnet, FTP, SSH,<span> SNMP,</span> or terminal user, the system automatically changes the user password to an irreversible ciphertext key.</span></li></ul>
</div></div>
</li></ul>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=user-password+password-force-change"><b><span class="cmdname">user-password password-force-change</span></b></a> <strong><span>disable</span></strong></span><p><p>The function to forcibly change the initial password of the local user is disabled.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>password-force-change disable</span></strong></span><p><p>Forcible modification of the initial password is disabled for a specified local user.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>To ensure device security, a local user must change the initial password upon the first login. You are not advised to disable forcible modification of the initial password for a local user.</p>
</div></div>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>service-type</span></strong> { { <strong><span>terminal</span></strong> | <strong><span>telnet</span></strong> | <strong><span>ftp</span></strong> | <strong><span>ssh</span></strong> <span>| <strong><span>qx</span></strong></span> | <strong><span>snmp</span></strong> <span>| <strong><span>mml</span></strong></span><span> | <strong><span>http</span></strong></span> } *<span> | <strong><span>ppp</span></strong></span> }</span><p><p>The access type of the local user is configured.</p>
</p><p><p>The <strong><span>terminal</span></strong>, <strong><span>qx</span></strong>, and <strong><span>mml</span></strong> parameters can be specified only for the admin VS.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>ftp-directory</span></strong> <i><span class="varname">directory</span></i> [ <strong><span>access-permission</span></strong> { <strong><span>read execute</span></strong> | <strong><span>read write execute</span></strong> } ]</span><p><p>The FTP directory right of the local user is configured.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>If the access type of the local user is set to FTP, the FTP directory of the local user must be configured and the level of local user cannot be lower than management level. Otherwise, FTP user login will fail.</li><li>If <strong><span>access-permission</span></strong> is not specified, the FTP directory permission of the local user is read-write by default.</li></ul>
</div></div>
</p></li><li class="substepexpand"><span>Configure the level of the local user or the group to which the local user belongs according to the command-line authorization mode.</span><p><ul><li>Run the <a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>level</span></strong> <i><span class="varname">level</span></i> command to configure the level of the local user.<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The configured level of the local user cannot be higher than that of the login-in user.</p>
</div></div>
</li><li>Run the <a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>user-group</span></strong> <i><span class="varname">user-group-name</span></i> command to add the local user to the specified user group.</li></ul>
</p></li><li class="substepexpand"><span>(Optional) Run <span><a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>state</span></strong> { <strong><span>active</span></strong> | <strong><span>block</span></strong> }</span></span><p><p>The status of the local user is configured.</p>
</p><p><p>The system processes the authentication requests of the users are as follows:</p>
<ul><li><p>If a local user is in the active state, the system accepts the authentication request from the user and performs further processing.</p>
</li><li><p>If a local user is in the block state, the system rejects the authentication request from the user.</p>
</li></ul>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>access-limit</span></strong> <i><span class="varname">max-number</span></i></span><p><p>The maximum number of concurrent connections that the local user can establish is set.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <span><a href="cmdqueryname=user-block+failed-times"><b><span class="cmdname">user-block failed-times</span></b></a> <em>failed-times-value</em> <strong><span>period</span></strong> <em>period-value</em></span></span><p><p>The maximum times of continuous authentication failures for the local user are configured.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If a local user is in the locked state, you need to unlock it. Two ways are available for you to choose:</p>
<ul><li>In the AAA view, run the <a href="cmdqueryname=user-block+reactive"><b><span class="cmdname">user-block reactive</span></b></a> <i><span class="varname">reactive-time</span></i> command to configure the interval at which a user will be automatically unlocked. If the locking time for a user exceeds the time set in the configuration, the user will be automatically unlocked.</li><li>In the user view, run the <a href="cmdqueryname=activate"><b><span class="cmdname">activate</span></b></a> <strong><span>aaa</span></strong> <strong><span>local-user</span></strong> <i><span class="varname">user-name</span></i> command to manually unlock the specified local user.</li></ul>
</div></div>
</p></li><li class="substepexpand"><span>Run <strong>quit</strong></span><p><p>Return to the system view.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <span><a href="cmdqueryname=aaa+abnormal-offline-record"><b><span class="cmdname">aaa abnormal-offline-record</span></b></a></span></span><p><p>The abnormal logout events are recorded.</p>
</p><p><p>After this function is enabled, information about abnormal logout events can be provided for administrators to manage and maintain user information.</p>
</p></li><li class="substepexpand"><span>Run <strong>quit</strong></span><p><p>Return to the user view.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <span><a href="cmdqueryname=local-user+change-password"><b><span class="cmdname">local-user change-password</span></b></a></span></span><p><p>The password of the local user is changed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure a local user in the local AAA server view.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=local-aaa-server"><b><span class="cmdname">local-aaa-server</span></b></a></span></span><p><p>The local AAA server view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=user"><b><span class="cmdname">user</span></b></a> <i><span class="varname">user-name</span></i> { <strong><span>password</span></strong> { <strong><span>cipher</span></strong> <i><span class="varname">cipher-password</span></i> | <strong><span>irreversible-cipher</span></strong> <i><span class="varname">irreversible-password</span></i> } | <strong><span>authentication-type</span></strong> <i><span class="varname">type-mask</span></i> | <span>{ <strong><span>active</span></strong> | </span><strong><span>block</span></strong> [ <strong><span>fail-times</span></strong> <i><span class="varname">fail-times-value</span></i> <strong><span>interval</span></strong> <i><span class="varname">interval-value</span></i> ]<span> }</span> | <strong><span>ftp-directory</span></strong> <i><span class="varname">ftp-directory</span></i> | <strong><span>level</span></strong> <i><span class="varname">level</span></i> | <span><strong><span>callback-nocheck</span></strong> | <strong><span>callback-number</span></strong> <i><span class="varname">callback-number</span></i> | <strong><span>idle-cut</span></strong> | <strong><span>qos-profile</span></strong> <i><span class="varname">qos-profile-name</span></i> | <strong><span>ip-address</span></strong> <i><span class="varname">ip-address</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance</span></i> ] | </span><strong><span>user-group</span></strong> <i><span class="varname">user-group-name</span></i> } <sup>*</sup></span></span><p><p>A local user account is added.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p><span>If the <a href="cmdqueryname=user"><b><span class="cmdname">user</span></b></a> <i><span class="varname">usr-name</span></i> <strong><span>authentication-type</span></strong> <i><span class="varname">authentication-type</span></i> command has been run to configure a user as an administrator by specifying the user type as the terminal user, Telnet, FTP<span>, SNMP,</span> or SSH, the system automatically changes the user password to an irreversible ciphertext key.</span></p>
</div></div>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=user"><b><span class="cmdname">user</span></b></a> <i><span class="varname">user-name</span></i> <strong>expire</strong><em> expiretime</em></span><p><p>The expiration time of the local user is modified.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <span><a href="cmdqueryname=user"><b><span class="cmdname">user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>block</span></strong><span> [ <strong><span>fail-times</span></strong> <i><span class="varname">fail-times-value</span></i> <strong><span>interval</span></strong> <i><span class="varname">interval-value</span></i> ]</span></span></span><p><p>The local user is blocked.</p>
</p><p></p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_aaa_cfg_1003.html">Configuring AAA
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_aaa_cfg_1004.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_aaa_cfg_1006.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>