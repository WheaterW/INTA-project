
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Updating the Expired Local Certificate and CRL Certificate">
<meta name="abstract" content="If the local certificate or CRL certificate expires, you need to update it.">
<meta name="description" content="If the local certificate or CRL certificate expires, you need to update it.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_pki_cfg_0010.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_cmp_0006.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,z00603461,w00606909,h00522387,z00805567">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="PKI">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="PKI">
<meta name="featuretype" content="Security">
<meta name="featurename" content="PKI">
<meta name="featuretype" content="Security">
<meta name="featurename" content="PKI">
<meta name="featuretype" content="Security">
<meta name="OWNER" content="z00485179">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00485179">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001158346117">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Updating the Expired Local Certificate and CRL Certificate</title>
</head>
<body><a name="EN-US_TASK_0000001158346117"></a><a name="EN-US_TASK_0000001158346117"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Updating the Expired Local Certificate and CRL Certificate</h1>
<div class="taskbody"><p>If the local certificate or CRL certificate expires, you need to update it.</p>
<div class="context"><a name="EN-US_TASK_0000001158346117__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>A local certificate has a validity period and has a specific start date and end date. During certificate verification, the system checks whether the certificate is within the validity period. If the certificate is not within the validity period, the certificate verification fails. The CRL certificate has a validity period. If the validity period expires, the CRL certificate cannot be used for verification, causing security risks.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The local certificate and CRL certificate must be updated before they expire. Otherwise, service loss or security risks may occur.</p>
</div></div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001158346117__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Update an expired local certificate in offline mode.</span><ol><li><span>Run the <strong><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></strong> command to enter the system view.</span></li><li><span>Run the <strong><a href="cmdqueryname=pki+delete-certificate"><b><span class="cmdname">pki delete-certificate</span></b></a></strong> <strong><strong><span>local</span></strong> </strong>[ <strong>domain</strong><em> domainName</em> ] <strong>filename </strong><em>file-name</em> command to configure the device to delete the expired local certificate file with the specified name from the memory.</span></li><li><span>Obtain the certificate. For details, see <a href="dc_vrp_pki_cfg_0006.html">Obtaining Certificates</a>.</span></li></ol>
</li><li><span>Configure CMP to update the expired local certificate.</span><ol><li><span>Run the <strong><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></strong> command to enter the system view.</span></li><li><span>Run the <strong><a href="cmdqueryname=pki+delete-certificate"><b><span class="cmdname">pki delete-certificate</span></b></a></strong> <strong><strong><span>local</span></strong></strong><strong><span> </span></strong>[ <strong>domain</strong><em> domainName</em> ] <strong>filename</strong><em> file-name</em> command to configure the device to delete the expired local certificate file with the specified name from the memory.</span></li><li><span>Configure CMP certificate application. For details, see <a href="dc_vrp_cfg_cmp_0004.html">Configuring CMPv2-based Certificate Application</a>.</span></li></ol>
</li><li><span>Configure CMP-based update of expired certificates for device identity verification.</span><ol><li><span>Manually apply for a new device identity certificate file from the CA server of the CMP. For details, see <a href="dc_vrp_pki_cfg_0006.html">Obtaining Certificates</a>.</span></li><li><span>Upload the new license file to cfcard:/.</span></li><li><span>Run the <strong><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></strong> command to enter the system view.</span></li><li><span>Run the <strong><a href="cmdqueryname=pki+domain"><b><span class="cmdname">pki domain</span></b></a></strong> <em><i><span class="varname">domain-name</span></i></em> command to enter the PKI domain name configuration view.</span></li><li><span>Run the <a href="cmdqueryname=pki+cmp+session"><b><span class="cmdname">pki cmp</span></b></a> <strong><span>session</span></strong> <i><span class="varname">session-name</span></i> command to create a CMP session and enter the PKI CMP session view.</span></li><li><span>Run the <strong><a href="cmdqueryname=cmp+request+authentication-cert"><b><span class="cmdname">cmp request authentication-cert</span></b></a></strong> <em><i><span class="varname">cert-name</span></i></em> command to update the certificate in a specified certificate request file.</span></li><li><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration. The new identity certificate is replaced.</span></li></ol>
</li><li><span>Update expired CRL certificates.</span><ol><li><span>Run the <strong><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></strong> command to enter the system view.</span></li><li><span>Run the <strong><a href="cmdqueryname=pki+delete-certificate"><b><span class="cmdname">pki delete-certificate</span></b></a></strong> <strong><strong><span>crl</span></strong></strong><strong><span> </span></strong>[ <strong>domain</strong><em> domainName</em> ] <strong>filename</strong><em> file-name</em> command to configure the device to delete expired CRL files with specified names from the memory.</span></li><li><span>Configure the CRL certificate. For details, see <a href="dc_vrp_cfg_cmp_0009.html">Configuring the CRL Function</a>.</span></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_pki_cfg_0010.html">Maintaining PKI
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_cmp_0006.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>