
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring URPF on an Interface">
<meta name="abstract" content="You can configure URPF on an interface to check packets in order to prevent source address spoofing attacks.">
<meta name="description" content="You can configure URPF on an interface to check packets in order to prevent source address spoofing attacks.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_urpf_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/spec/URPF_limitation.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_urpf_cfg_0005.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="URPF">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="URPF">
<meta name="featuretype" content="Security">
<meta name="featurename" content="URPF">
<meta name="featuretype" content="Security">
<meta name="OWNER" content="l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="q00517581">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172372135">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring URPF on an Interface</title>
</head>
<body><a name="EN-US_TASK_0172372135"></a><a name="EN-US_TASK_0172372135"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring URPF on an Interface</h1>
<div class="taskbody"><p>You can configure URPF on an interface to check packets in order to prevent source address spoofing attacks.</p>
<div class="context"><a name="EN-US_TASK_0172372135__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>To prevent source address spoofing attacks, you can configure URPF to check the source address and inbound interface of packets. If the source address passes the check, the packets are allowed to pass; otherwise, the source address is considered forged and the packets are discarded.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172372135__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring URPF, complete the following task:</p>
<p>Configure link layer protocol parameters and IP addresses for interfaces and ensure that the link layer protocol of each interface is up.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172372135__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span><p><p>The interface view is displayed.</p>
</p></li><li><span>Run the following commands based on the network type:</span><ol type="a"><li><span>On an IPv4 network, run the <a href="cmdqueryname=ip+urpf"><b><span class="cmdname">ip urpf</span></b></a> { <strong><span>loose</span></strong> | <strong><span>strict</span></strong> } [ <strong><span>allow-default</span></strong>] [ <strong><span>statistics</span></strong> <strong><span>enable</span></strong> ] command to enable URPF on the interface.</span></li><li><span>On an IPv6 network, run the <a href="cmdqueryname=ipv6+urpf"><b><span class="cmdname">ipv6 urpf</span></b></a> { <strong><span>loose</span></strong> | <strong><span>strict</span></strong> } [ <strong><span>allow-default</span></strong> ] [ <strong><span>statistics</span></strong> <strong><span>enable</span></strong> ] command to enable IPv6 URPF on the interface.</span></li></ol>
<p><p>If <strong><span>loose</span></strong> is configured, URPF performs checks in loose mode. Specifically, the device searches the forwarding information base (FIB) table for the outbound interface according to the source IP address of a received packet. If the outbound interface is found, the packet is forwarded; otherwise, the packet is discarded.</p>
<p>If <strong><span>strict</span></strong> is configured, URPF performs checks in strict mode. Specifically, the device searches the FIB table for the slot ID, interface number, and VLAN ID (if the packet is a VLAN packet) according to the source IP address of a received packet. It then compares them with the slot ID and interface number of the packet's inbound interface as well as the VLAN ID (if the packet is a VLAN packet) carried in the packet. If they are the same, the device considers the packet to have passed the URPF check and forwards it. Otherwise, the packet is discarded.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_urpf_cfg_0000.html">URPF Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/spec/URPF_limitation.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_urpf_cfg_0005.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>