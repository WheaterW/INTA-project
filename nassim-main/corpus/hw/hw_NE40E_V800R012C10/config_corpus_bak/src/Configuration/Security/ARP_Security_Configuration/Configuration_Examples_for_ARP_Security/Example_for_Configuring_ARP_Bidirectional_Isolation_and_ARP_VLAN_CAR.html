
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring ARP Bidirectional Isolation and ARP VLAN CAR">
<meta name="abstract" content="This section provides an example for configuring ARP bidirectional isolation and ARP VLAN CAR. A configuration networking diagram is provided to help you understand the configuration procedure. The example provides the networking requirements, configuration roadmap, configuration procedure, and configuration files.">
<meta name="description" content="This section provides an example for configuring ARP bidirectional isolation and ARP VLAN CAR. A configuration networking diagram is provided to help you understand the configuration procedure. The example provides the networking requirements, configuration roadmap, configuration procedure, and configuration files.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_arp-sec_cfg_0018.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_arp_cfg_2019.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00606909,z00805567">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="ARP Security">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="ARP Security">
<meta name="featuretype" content="Security">
<meta name="featurename" content="ARP Security">
<meta name="featuretype" content="Security">
<meta name="featurename" content="ARP Security">
<meta name="featuretype" content="Security">
<meta name="OWNER" content="q00517581">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="q00517581">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001348417002">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Example for Configuring ARP Bidirectional Isolation and ARP VLAN CAR</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001348417002"></a><a name="EN-US_TASK_0000001348417002"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring ARP Bidirectional Isolation and ARP VLAN CAR</h1>
<div class="taskbody"><p>This section provides an example for configuring ARP bidirectional isolation and ARP VLAN CAR. A configuration networking diagram is provided to help you understand the configuration procedure. The example provides the networking requirements, configuration roadmap, configuration procedure, and configuration files.</p>
<div class="context"><a name="EN-US_TASK_0000001348417002__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>ARP is an open protocol and sets up IP-address-to-MAC-address mappings. When being used on an Ethernet network, ARP offers possibilities for malicious attackers because of its simplicity, openness, and lack of security measures. Attackers forge and send excessive ARP request and response packets to the <span class="keyword">Router</span>. The ARP buffer of the <span class="keyword">Router</span> has a limited storage capability, so that it will be incapable of caching legitimate ARP packets after being overflowed. ARP security enables the <span class="keyword">Router</span> to process ARP request and reply packets separately, so that the <span class="keyword">Router</span> can rapidly respond to ARP request packets. In addition, ARP security allows you to set a rate limit for ARP packets, so that excessive ARP packets will be discarded when the preset rate limit is reached.</p>
<p>As shown in <a href="#EN-US_TASK_0000001348417002__fig_dc_ne_arpsec_cfg_501201">Figure 1</a>, only the user-side interface is connected to the Layer 2 devices.  Therefore, configure ARP bidirectional isolation and ARP VLAN CAR on the user-side interface GE <span>0/1/0</span>.</p>
<div class="fignone" id="EN-US_TASK_0000001348417002__fig_dc_ne_arpsec_cfg_501201"><a name="EN-US_TASK_0000001348417002__fig_dc_ne_arpsec_cfg_501201"></a><a name="fig_dc_ne_arpsec_cfg_501201"></a><span class="figcap"><b>Figure 1 </b>Network diagram of configuring ARP security</span><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li><p>The configurations in this example are performed on <span class="keyword">Device</span>.</p>
</li><li>Interface 1 in this example represents GE <span>0/1/0</span>.</li></ul>
</div></div>
<br><span><img class="vsd" src="figure/en-us_image_0000001398497245.png" width="NaN" height="NaN"></span><br></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001348417002__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><p>The configuration roadmap is as follows:</p>
<ol><li><p>Enable ARP bidirectional isolation.</p>
</li><li><p>Configure the rate limit of packets to be sent to the CPU.</p>
</li></ol>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001348417002__1.4.3"></a><a name="1.4.3"></a>
<div class="p"><h4 class="sectiontitle">Data Preparation</h4><p>To complete the configuration, you need the following data:</p>
<ul><li><p>Rate limit of ARP packets to be sent to the CPU</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001348417002__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure VLANs on the <span class="keyword">Router</span>. The configuration details are not provided here.</span></li><li><span>Enable ARP bidirectional isolation.</span><p><pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>sysname <span class="keyword">Device</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>] <strong>interface gigabitethernet <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>-GigabitEthernet<span>0/1/0</span>] <strong>arp-safeguard enable</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>-GigabitEthernet<span>0/1/0</span>] <strong>commit</strong></pre>
</p></li><li><span>Configure the rate limit of ARP packets on GE <span>0/1/0</span>.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>-GigabitEthernet<span>0/1/0</span>] <strong>arp rate-limit 50</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>-GigabitEthernet<span>0/1/0</span>] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>-GigabitEthernet<span>0/1/0</span>] <strong>quit</strong></pre>
</p></li><li><span>Verify the configuration.</span><p><p>Check ARP bidirectional isolation statistics<span> on the interface board in slot <span>1</span></span>.</p>
<pre class="screen">&lt;<span class="keyword">Device</span>&gt; <strong>display arp-safeguard statistics<span> slot <span>1</span></span></strong></pre>
<pre class="screen">ArpRequest-Count : 23
ArpReply-Count   : 23
ArpToCp-Count    : 23
ArpDrop-Count    : 23</pre>
<p>Check the rate limit of ARP packets on GE <span>0/1/0</span>.</p>
<pre class="screen">&lt;<span class="keyword">Device</span>&gt; <strong>display arp rate-limit interface gigabitethernet <span>0/1/0</span></strong></pre>
<pre class="screen"> Interface: GigabitEthernet<span>0/1/0</span>
     arp rate-limit: 50 </pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001348417002__1.4.5"></a><a name="1.4.5"></a><h4 class="sectiontitle">Configuration Files</h4><pre class="screen">#
sysname <span class="keyword">Device</span>
#
vlan 100
vlan 200
#
interface GigabitEthernet<span>0/1/0</span>
 undo shutdown
 portswitch
 port trunk allow-pass vlan 100 200
 arp-safeguard enable
 arp rate-limit 50
#
return</pre>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_arp-sec_cfg_0018.html">Configuration Examples for ARP Security
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_arp_cfg_2019.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>