
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Analyzing Attack Events">
<meta name="abstract" content="The SOC determines whether an attack event has occurred by analyzing attack event reports and statistics. If attack defense is enabled, you can also check packet loss statistics of the interface under attack.">
<meta name="description" content="The SOC determines whether an attack event has occurred by analyzing attack event reports and statistics. If attack defense is enabled, you can also check packet loss statistics of the interface under attack.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_soc_cfg_0005.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_soc_cfg_0007.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_soc_cfg_0013.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="soc_ne,w00800033,z00603461,w00556928,w00606909,h00522387,l00455378,z00805567">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="SOC">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="SOC">
<meta name="featuretype" content="Security">
<meta name="featurename" content="SOC">
<meta name="featuretype" content="Security">
<meta name="featurename" content="SOC">
<meta name="featuretype" content="Security">
<meta name="OWNER" content="q00517581">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="q00517581">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172372287">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Analyzing Attack Events</title>
</head>
<body><a name="EN-US_TASK_0172372287"></a><a name="EN-US_TASK_0172372287"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Analyzing Attack Events</h1>
<div class="taskbody"><p>The SOC determines whether an attack event has occurred by analyzing attack event reports and statistics. If attack defense is enabled, you can also check packet loss statistics of the interface under attack.</p>
<div class="context"><a name="EN-US_TASK_0172372287__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p">If an exception occurs or an attack event alarm is generated on the <span class="keyword">NE40E</span>, perform the following procedures to determine whether an attack event has occurred:<ol><li>Check attack event reports and identify the attack event to be analyzed.</li><li>Check the<span> <strong>Location</strong> and</span> <strong>Reasons</strong> fields in attack event reports to find out the<span> slot ID and</span> protocol of the attack event and check the historical statistics. Historical statistics include the CPCAR statistics and protocol statistics. Determine whether the attack event is caused by protocol packets sent to the CPU or invalid packets or sessions on a protocol module.</li><li>After the attack event is determined, enable attack defense. Then the <span class="keyword">NE40E</span> uses the configured attack defense policies to defend against subsequent attack packets. You can also check packet loss statistics of the interface under attack.</li></ol>
</div>
<p>Perform the following steps in any view.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172372287__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Check attack event reports.</span><ol type="a"><li class="substepexpand"><span>Run the <a href="cmdqueryname=display+soc+attack-event"><b><span class="cmdname">display soc attack-event</span></b></a> command to check a summary of attack events.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=display+soc+attack-event"><b><span class="cmdname">display soc attack-event</span></b></a> [ { <strong><span>slot</span></strong> <i><span class="varname">slot-id </span></i>[ <strong><span>event-number</span></strong> <i><span class="varname">event-number</span></i> ] [ <strong><span>verbose</span></strong> ] | <strong><span>event-number</span></strong> <i><span class="varname">event-number</span></i> [ <strong><span>verbose</span></strong> ] } ] command to check information about attack events on the board in a specified slot.</span><p><p>The specified slot is identified by checking the <strong>Location</strong> field in the attack event summary. Detailed information about attack events is displayed if <strong><span>verbose</span></strong> is configured.</p>
</p></li></ol>
</li><li><span>Check historical statistics.</span><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In the following commands, <i><span class="varname">slot-id</span></i> must be the same as the <i><span class="varname">slot-id</span></i> specified in the <a href="cmdqueryname=display+soc+attack-event"><b><span class="cmdname">display soc attack-event</span></b></a> command, and <i><span class="varname">protocol-name</span></i> must be the same as the <strong>Reasons</strong> field value in the <a href="cmdqueryname=display+soc+attack-event"><b><span class="cmdname">display soc attack-event</span></b></a> command output.</p>
</div></div>
</p><p><p>Check CPCAR statistics.</p>
</p><ol type="a"><li class="substepexpand"><span>Run the <a href="cmdqueryname=display+soc+attack-detect+statistics+car"><b><span class="cmdname">display soc attack-detect statistics car</span></b></a><span> <strong><span>slot</span></strong> <i><span class="varname">slot-id</span></i></span> <strong><span>protocol</span></strong> <i><span class="varname">protocol-name</span></i> command to check all CPCAR statistics monitored by the SOC. Identify <strong>CarName</strong> of the CPCAR with the highest packet loss rate or the largest number of lost packets.</span><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>CAR is a traffic policing instance. CPCAR functions for packets to be sent to the CPU.</p>
</div></div>
</p></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=display+soc+attack-detect+statistics+car"><b><span class="cmdname">display soc attack-detect statistics car</span></b></a><span> <strong><span>slot</span></strong> <i><span class="varname">slot-id</span></i></span> <strong><span>protocol</span></strong> <i><span class="varname">protocol-name</span></i> [ <i><span class="varname">cpcar-name</span></i> <strong><span>history</span></strong> { <strong><span>15-minutes</span></strong> | <strong><span>60-minutes</span></strong> | <strong><span>72-hours</span></strong> } ] command to check the packet loss rate of the protocol packets identified by <i><span class="varname">cpcar-name</span></i> within a specified period.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=display+soc+attack-detect+cpu-usage"><b><span class="cmdname">display soc attack-detect cpu-usage</span></b></a><span> <strong><span>slot</span></strong> <i><span class="varname">slot-id</span></i></span> <strong><span>history</span></strong> { <strong><span>15-minutes</span></strong> | <strong><span>60-minutes</span></strong> | <strong><span>72-hours</span></strong> } command to check the CPU usage within a specified period. If the CPU usage and packet loss rate within a specified period have similar tendencies, the CPU overload is caused by the protocol packets identified by <i><span class="varname">cpcar-name</span></i>.</span></li></ol>
<p><p>Check protocol statistics.</p>
</p><ol type="a"><li><span>Run the <a href="cmdqueryname=display+soc+attack-detect+statistics+application"><b><span class="cmdname">display soc attack-detect statistics application</span></b></a><span> <strong><span>slot</span></strong> <i><span class="varname">slot-id</span></i></span> command to check statistics about the protocol packets and sessions<span> on the board in a specified slot</span>. Identify the protocol module that has the largest percentage of the number of invalid packets or sessions to the total number of packets or sessions. This protocol module can be considered to have the poorest security.</span></li><li><span>Run the <a href="cmdqueryname=display+soc+attack-detect+statistics+application"><b><span class="cmdname">display soc attack-detect statistics application</span></b></a><span> <strong><span>slot</span></strong> <i><span class="varname">slot-id</span></i></span> <strong><span>protocol</span></strong> <i><span class="varname">protocol-name</span></i> <strong><span>history</span></strong> { <strong><span>15-minutes</span></strong> | <strong><span>60-minutes</span></strong> | <strong><span>72-hours</span></strong> } command to check statistics about the protocol packets and sessions and the average CPU usage within the last 15 minutes, 1 hour, or 72 hours. If the CPU usage is high while the percentage of the number of invalid packets or sessions to the total number of packets or sessions is high, attacks to the protocol module cause the CPU overload. If you cannot identify the problem by querying the average CPU usage, run the following command to check detailed information about the CPU usage within the specified period.</span></li><li><span>(Optional) Run the <a href="cmdqueryname=display+soc+attack-detect+cpu-usage"><b><span class="cmdname">display soc attack-detect cpu-usage</span></b></a><span> <strong><span>slot</span></strong> <i><span class="varname">slot-id</span></i></span> <strong><span>history</span></strong> { <strong><span>15-minutes</span></strong> | <strong><span>60-minutes</span></strong> | <strong><span>72-hours</span></strong> } command to check detailed information about the CPU usage within a specified period.</span></li></ol>
</li><li><span>(Optional) Run the <a href="cmdqueryname=display+soc+attack-defend+statistics"><b><span class="cmdname">display soc attack-defend statistics</span></b></a> <strong><span>slot</span></strong> <i><span class="varname">slot-id</span></i> <strong><span>port-vlan-car</span></strong> command to check statistics about the packets that pass through or are discarded by interfaces being attacked on the board in a specified slot.</span><p><p>After attack defense is enabled and the <span class="keyword">NE40E</span> is being attacked, you can run this command.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_soc_cfg_0005.html">Configuring the SOC
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_soc_cfg_0007.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_soc_cfg_0013.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>