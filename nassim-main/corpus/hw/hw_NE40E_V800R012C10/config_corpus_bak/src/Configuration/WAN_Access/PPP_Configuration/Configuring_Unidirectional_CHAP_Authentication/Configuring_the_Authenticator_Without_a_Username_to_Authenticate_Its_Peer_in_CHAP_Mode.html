
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring the Authenticator Without a Username to Authenticate Its Peer in CHAP Mode">
<meta name="abstract" content="This section describes how to configure the authenticator without a username to authenticate its peer in CHAP mode.">
<meta name="description" content="This section describes how to configure the authenticator without a username to authenticate its peer in CHAP mode.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ppp_cfg_0015.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ppp_cfg_0016.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ppp_cfg_0018.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,pppne,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="PPP">
<meta name="featuretype" content="WAN Access">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="PPP">
<meta name="featuretype" content="WAN Access">
<meta name="featurename" content="PPP">
<meta name="featuretype" content="WAN Access">
<meta name="featurename" content="PPP">
<meta name="featuretype" content="WAN Access">
<meta name="OWNER" content="f00453093">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="f00453093">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172364171">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring the Authenticator Without a Username to Authenticate Its Peer in CHAP Mode</title>
</head>
<body><a name="EN-US_TASK_0172364171"></a><a name="EN-US_TASK_0172364171"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring the Authenticator Without a Username to Authenticate Its Peer in CHAP Mode</h1>
<div class="taskbody"><p>This section describes how to configure the authenticator without a username to authenticate its peer in CHAP mode.</p>
<div class="steps-unordered"><a name="EN-US_TASK_0172364171__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure the authenticator.</span><ol><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=aaa"><b><span class="cmdname">aaa</span></b></a></span><p><p>The AAA view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>password</span></strong> [ <strong><span>cipher</span></strong> <i><span class="varname">password</span></i> | <strong><span>irreversible-cipher</span></strong> <i><span class="varname">irreversible-cipher-password</span></i> ]</span><p><p>The peer username and password are added to the local user list.</p>
</p><p><p>During authentication, the authenticator searches locally configured AAA usernames. If the peer username and password match those on the local end, authentication succeeds.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type interface-number</span></i></span><p><p>The interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=ppp+authentication-mode"><b><span class="cmdname">ppp authentication-mode</span></b></a> <strong><span>chap</span></strong> [ <strong><span>pap</span></strong> ]</span><p><p>The local end is configured to authenticate the peer end in CHAP mode.</p>
</p><p><p>The <a href="cmdqueryname=ppp+authentication-mode"><b><span class="cmdname">ppp authentication-mode</span></b></a> <strong><span>chap</span></strong> [ <strong><span>pap</span></strong> ] command enables the local end to preferentially use the CHAP mode to authenticate the peer end during LCP negotiation. If the peer end does not support the CHAP mode, the PAP mode is used. If the peer end supports neither of the two negotiation modes, the negotiation fails.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=shutdown"><b><span class="cmdname">shutdown</span></b></a></span><p><p>The interface is shut down.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=undo+shutdown"><b><span class="cmdname">undo shutdown</span></b></a></span><p><p>The interface is restarted.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If the username or password is changed in the interface view, you must run the <a href="cmdqueryname=shutdown"><b><span class="cmdname">shutdown</span></b></a> and <a href="cmdqueryname=undo+shutdown"><b><span class="cmdname">undo shutdown</span></b></a> commands in the corresponding interface view for the configuration to take effect.</p>
<p>After running the <a href="cmdqueryname=shutdown"><b><span class="cmdname">shutdown</span></b></a> command during an interface restart, run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration. Otherwise, the configuration does not take effect.</p>
</div></div>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure the supplicant.</span><ol><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type interface-number</span></i></span><p><p>The interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=ppp+chap+user"><b><span class="cmdname">ppp chap user</span></b></a> <i><span class="varname">user-name</span></i></span><p><p>A local username is configured.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=ppp+chap+password"><b><span class="cmdname">ppp chap password</span></b></a> { <a href="cmdqueryname=simple"><b><span class="cmdname">simple</span></b></a> <i><span class="varname">password2</span></i> | <strong><span>cipher</span></strong> { <i><span class="varname">password1</span></i> | <i><span class="varname">password2</span></i> } }</span><p><p>A local CHAP password is configured.</p>
</p><p><p>During authentication, the authenticator sends only a Challenge packet to the supplicant. Based on the locally configured password and the Challenge packet, the supplicant calculates a value using a specified encryption algorithm, and then sends the value and host name to the authenticator.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=shutdown"><b><span class="cmdname">shutdown</span></b></a></span><p><p>The interface is shut down.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=undo+shutdown"><b><span class="cmdname">undo shutdown</span></b></a></span><p><p>The interface is restarted.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If the username or password is changed in the interface view, you must run the <a href="cmdqueryname=shutdown"><b><span class="cmdname">shutdown</span></b></a> and <a href="cmdqueryname=undo+shutdown"><b><span class="cmdname">undo shutdown</span></b></a> commands in the corresponding interface view for the configuration to take effect.</p>
<p>After running the <a href="cmdqueryname=shutdown"><b><span class="cmdname">shutdown</span></b></a> command during an interface restart, run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration. Otherwise, the configuration does not take effect.</p>
</div></div>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ppp_cfg_0015.html">Configuring Unidirectional CHAP Authentication
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ppp_cfg_0016.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ppp_cfg_0018.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>