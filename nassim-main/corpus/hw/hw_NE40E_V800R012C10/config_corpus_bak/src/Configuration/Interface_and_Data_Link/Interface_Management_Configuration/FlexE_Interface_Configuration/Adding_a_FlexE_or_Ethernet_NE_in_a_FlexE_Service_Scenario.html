
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Adding a FlexE or Ethernet NE in a FlexE Service Scenario">
<meta name="abstract" content="Adding an Ethernet NE to a live network running FlexE services involves the connection between a FlexE physical interface and standard Ethernet interface. If DCN auto-negotiation is enabled on the FlexE physical interface, the two interfaces can automatically communicate with each other, and the NMS can manage the FlexE NE.">
<meta name="description" content="Adding an Ethernet NE to a live network running FlexE services involves the connection between a FlexE physical interface and standard Ethernet interface. If DCN auto-negotiation is enabled on the FlexE physical interface, the two interfaces can automatically communicate with each other, and the NMS can manage the FlexE NE.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ifm_cfg_8004.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ifm_cfg_8013.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ifm_cfg_8015.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00437000">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Interface Management">
<meta name="featuretype" content="Interface and Data Link">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Interface Management">
<meta name="featuretype" content="Interface and Data Link">
<meta name="featurename" content="Interface Management">
<meta name="featuretype" content="Interface and Data Link">
<meta name="featurename" content="Interface Management">
<meta name="featurename" content="Interface Management">
<meta name="featuretype" content="Interface and Data Link">
<meta name="featuretype" content="Interface and Data Link">
<meta name="OWNER" content="w00437000">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00875216">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0300605033">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Adding a FlexE or Ethernet NE in a FlexE Service Scenario</title>
</head>
<body><a name="EN-US_TASK_0300605033"></a><a name="EN-US_TASK_0300605033"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Adding a FlexE or Ethernet NE in a FlexE Service Scenario</h1>
<div class="taskbody"><p>Adding an Ethernet NE to a live network running FlexE services involves the connection between a FlexE physical interface and standard Ethernet interface. If DCN auto-negotiation is enabled on the FlexE physical interface, the two interfaces can automatically communicate with each other, and the NMS can manage the FlexE NE.</p>
<div class="context"><a name="EN-US_TASK_0300605033__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><ul><li>Adding a FlexE NE to a live network running FlexE services<p>As shown in <a href="#EN-US_TASK_0300605033__fig17226162925219">Figure 1</a>, DeviceA and DeviceB work in FlexE mode on the live network, and the new NE DeviceC also works in FlexE mode.</p>
<div class="fignone" id="EN-US_TASK_0300605033__fig17226162925219"><a name="EN-US_TASK_0300605033__fig17226162925219"></a><a name="fig17226162925219"></a><span class="figcap"><b>Figure 1 </b>Adding a FlexE NE to a live network running FlexE services</span><br><span><img class="vsd" src="figure/en-us_image_0300605039.png"></span></div>
<p>After DeviceC is added, it successfully connects to DeviceA and DeviceB because they all work in FlexE mode. In this case, the NMS can directly manage DeviceC.</p>
</li><li>Adding an Ethernet NE to a live network running FlexE services<p>As shown in <a href="#EN-US_TASK_0300605033__fig5797014151514">Figure 2</a>, DeviceA and DeviceB work in FlexE mode on the live network, and the new NE DeviceC works in Ethernet mode.</p>
<div class="fignone" id="EN-US_TASK_0300605033__fig5797014151514"><a name="EN-US_TASK_0300605033__fig5797014151514"></a><a name="fig5797014151514"></a><span class="figcap"><b>Figure 2 </b>Adding an Ethernet NE to a live network running FlexE services</span><br><span><img class="vsd" src="figure/en-us_image_0300605041.png"></span></div>
<p>For different scenarios, you can perform the corresponding operations to ensure that the new Ethernet NE can be successfully connected and managed by the NMS.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In the following scenarios, the operations on DeviceB are the same as those on DeviceA.</p>
</div></div>
</li></ul>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0300605033__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>If DeviceA supports DCN auto-negotiation on FlexE physical interfaces, but DeviceC does not:</span><p><p>After DeviceC is added, the underlying working mode of the FlexE physical interface on DeviceA automatically switches from FlexE to standard Ethernet within about 10s because DCN auto-negotiation is enabled on the FlexE physical interface by default. The NMS can then manage DeviceC.</p>
<ul><li>If you run the following commands on DeviceA within 20 minutes of being added, the configuration takes effect immediately to ensure DCN continuity.<ol><li>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</li><li>Run the <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i><i><span class="varname"> interface-number</span></i> command to enter the FlexE physical interface view.</li><li>Run the <a href="cmdqueryname=force-physical-mode+ethernet"><b><span class="cmdname">force-physical-mode ethernet</span></b></a> command to forcibly switch the underlying working mode of the FlexE physical interface to standard Ethernet.</li><li>To change the time for switching the underlying working mode of a FlexE physical interface from standard Ethernet back to FlexE, or to disable a FlexE physical interface from switching from the standard Ethernet mode back to the FlexE mode, perform the following operations:<ul><li>Run the <a href="cmdqueryname=phyautoclear+forcephysicalmode"><b><span class="cmdname">phyautoclear forcephysicalmode</span></b></a> <strong><span>enable</span></strong> <i><span class="varname">cleartime</span></i> command to set the time for switching the underlying working mode of the FlexE physical interface from standard Ethernet back to FlexE.</li><li>Run the <a href="cmdqueryname=phyautoclear+forcephysicalmode"><b><span class="cmdname">phyautoclear forcephysicalmode disable</span></b></a> command to disable the underlying working mode of the FlexE physical interface from switching from standard Ethernet back to FlexE.</li></ul>
</li></ol>
</li><li>If the preceding commands are not run on DeviceA within 20 minutes of being added, the underlying working mode of the FlexE physical interface on DeviceA is switched from the standard Ethernet mode to the FlexE mode at the 20-minute mark. DCN auto-negotiation is then performed 10 seconds later to implement DCN connectivity. As a result, the NMS cannot manage DeviceC for about 10 seconds, and the process repeats.</li></ul>
<p>If you want to continue to run FlexE services on the live network, perform the following operations:</p>
<ol><li>Run the <a href="cmdqueryname=flexe+enable+port"><b><span class="cmdname">flexe enable port</span></b></a> <i><span class="varname">port-position</span></i> command on DeviceC to switch the working mode of the Ethernet interface from standard Ethernet to FlexE. Because the underlying working mode of the FlexE physical interface on DeviceA has been switched to standard Ethernet, the DCN channel between DeviceC and DeviceA is interrupted, and DeviceC is disconnected from the NMS.</li><li>Change the status of the FlexE physical interface on DeviceC manually, triggering the underlying working mode of DeviceA's FlexE physical interface connected to the FlexE physical interface on DeviceC to quickly switch back to the FlexE mode. You can perform the following operations:<ul><li>Run the <a href="cmdqueryname=laser+turn-off"><b><span class="cmdname">laser turn-off</span></b></a> command on DeviceC to disable the optical module laser, and then run the <a href="cmdqueryname=laser+turn-on"><b><span class="cmdname">laser turn-on</span></b></a> command to enable the optical module laser.</li><li>Run the <a href="cmdqueryname=shutdown"><b><span class="cmdname">shutdown</span></b></a> command on DeviceC to disable the interface, and then run the <a href="cmdqueryname=undo+shutdown"><b><span class="cmdname">undo shutdown</span></b></a> command to enable the interface.</li></ul>
</li></ol>
<p>After the preceding operations are complete, the FlexE physical interface connecting DeviceA to DeviceC is switched back to the FlexE mode. The two devices are now successfully connected using FlexE, and the NMS can continue to manage DeviceC.</p>
</p></li><li><span>If both DeviceA and DeviceC support DCN auto-negotiation on FlexE physical interfaces:</span><p><p>After DeviceC is added, the underlying working mode of the FlexE physical interface on DeviceA automatically switches from FlexE to standard Ethernet within about 10s because DCN auto-negotiation is enabled on the FlexE physical interface by default. The NMS can then manage DeviceC.</p>
<p>DeviceC supports DCN auto-negotiation on FlexE physical interfaces, and this function is enabled by default. To continue to run FlexE services on the live network, run the <a href="cmdqueryname=flexe+enable+port"><b><span class="cmdname">flexe enable port</span></b></a> <i><span class="varname">port-position</span></i> command on DeviceC to switch the working mode of the Ethernet interface from standard Ethernet to FlexE.</p>
</p></li><li><span>If DeviceA does not support DCN auto-negotiation on FlexE physical interfaces, but DeviceC does:</span><p><p>After DeviceC is added, run the <a href="cmdqueryname=force-physical-mode+ethernet"><b><span class="cmdname">force-physical-mode ethernet</span></b></a> command on DeviceA to forcibly switch the underlying working mode of the FlexE physical interface to standard Ethernet. In this case, DeviceC can communicate with DeviceA and can be managed by the NMS.</p>
<p>If you want to continue to run FlexE services on the live network, perform the following operations:</p>
<ol><li>Run the <a href="cmdqueryname=flexe+enable+port"><b><span class="cmdname">flexe enable port</span></b></a> <i><span class="varname">port-position</span></i> command on DeviceC to switch the working mode of the Ethernet interface from standard Ethernet to FlexE. DeviceC supports DCN auto-negotiation on FlexE physical interfaces, and this function is enabled by default. Therefore, the underlying working mode of the FlexE physical interfaces automatically switches from FlexE to standard Ethernet within about 10s.</li><li>Run the <a href="cmdqueryname=force-physical-mode+ethernet"><b><span class="cmdname">undo force-physical-mode</span></b></a> command on DeviceA to restore the underlying working mode of the FlexE physical interface to FlexE.</li><li>Change the status of the FlexE physical interface on DeviceA manually, triggering the underlying working mode of DeviceC's FlexE physical interface connected to the FlexE physical interface on DeviceA to quickly switch back to the FlexE mode. You can perform the following operations:<ul><li>Run the <a href="cmdqueryname=laser+turn-off"><b><span class="cmdname">laser turn-off</span></b></a> command on DeviceA to disable the optical module laser, and then run the <a href="cmdqueryname=laser+turn-on"><b><span class="cmdname">laser turn-on</span></b></a> command to enable the optical module laser.</li><li>Run the <a href="cmdqueryname=shutdown"><b><span class="cmdname">shutdown</span></b></a> command on DeviceA to disable the interface, and then run the <a href="cmdqueryname=undo+shutdown"><b><span class="cmdname">undo shutdown</span></b></a> command to enable the interface.</li></ul>
</li></ol>
<p>After the preceding operations are complete, the FlexE physical interface connecting DeviceC to DeviceA is switched back to the FlexE mode. The two devices are now successfully connected using FlexE, and the NMS can continue to manage DeviceC.</p>
</p></li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ifm_cfg_8004.html">FlexE Interface Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ifm_cfg_8013.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ifm_cfg_8015.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>