
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Setting BFD Parameters on the Ingress">
<meta name="abstract" content="This section describes how to set BFD parameters on the ingress to monitor CR-LSPs using BFD sessions.">
<meta name="description" content="This section describes how to set BFD parameters on the ingress to monitor CR-LSPs using BFD sessions.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0121.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0122.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0124.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,te-p2pvrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="l00468467">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00845984">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172368258">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Setting BFD Parameters on the Ingress</title>
</head>
<body><a name="EN-US_TASK_0172368258"></a><a name="EN-US_TASK_0172368258"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Setting BFD Parameters on the Ingress</h1>
<div class="taskbody"><p>This section describes how to set BFD parameters on the ingress to monitor CR-LSPs using BFD sessions.</p>
<div class="steps"><a name="EN-US_TASK_0172368258__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=bfd"><b><span class="cmdname">bfd</span></b></a> <i><span class="varname">sessname-value</span></i> <strong><span>bind</span></strong> <strong><span>mpls-te</span></strong> <strong><span>interface</span></strong> <i><span class="varname">tunnel-type</span></i> <i><span class="varname">tunnel-num</span></i> <strong><span>te-lsp</span></strong> [ <strong><span>backup</span></strong> ]<span> [ <strong><span>one-arm-echo</span></strong> ]</span></span><p><p>BFD is configured to monitor the primary or backup LSP that is bound to a TE tunnel.</p>
</p><p><p>If the <strong><span>backup</span></strong> parameter is specified, the BFD session is bound to the backup CR-LSP.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=discriminator"><b><span class="cmdname">discriminator</span></b></a> <strong><span>local</span></strong> <i><span class="varname">discr-value</span></i></span></span><p><p>The local discriminator of the BFD session is set.</p>
</p></li><li><span>Run <a href="cmdqueryname=discriminator"><b><span class="cmdname">discriminator</span></b></a> <strong><span>remote</span></strong> <i><span class="varname">discr-value</span></i></span><p><p>A remote discriminator is configured for the BFD session.</p>
</p><p><p>A remote discriminator does not need to be configured for an unaffiliated session.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The local discriminator of the local device and the remote discriminator of the remote device are the same. The remote discriminator of the local device and the local discriminator of the remote device are the same. A discriminator inconsistency causes the BFD session to fail to be established.</p>
</div></div>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=min-tx-interval"><b><span class="cmdname">min-tx-interval</span></b></a> <i><span class="varname">tx-interval</span></i></span><p><p>The minimum interval at which the local device sends BFD packets is changed.</p>
</p><p><p>This command cannot be run for an unaffiliated session.</p>
<p>Effective local interval at which BFD packets are sent = max{Configured local interval at which BFD packets are sent, Configured local interval at which BFD packets are received}</p>
<p>Effective local interval at which BFD packets are received = max{Configured remote interval at which BFD packets are sent, Configured local interval at which BFD packets are received}</p>
<p>Effective local detection period = Effective local interval at which BFD packets are received x Configured remote BFD detection multiplier</p>
<p>For example, if:</p>
<ul><li><p>The local interval at which BFD packets are sent is set to 200 ms, the local interval at which BFD packets are received is set to 300 ms, and the local detection multiplier is set to 4.</p>
</li><li>The remote interval at which BFD packets are sent is set to 100 ms, the remote interval at which BFD packets are received is set to 600 ms, and the remote detection multiplier is set to 5.</li></ul>
<p>Then:</p>
<ul><li><p>On the local device, the actual interval for sending BFD packets is 600 ms, which is calculated using the formula max{200 ms, 600 ms}; the interval for receiving BFD packets is 300 ms, which is calculated using the formula max {100 ms, 300 ms}; the detection period is 1500 ms (300 ms Ã 5).</p>
</li><li><p>On the remote device, the actual interval for sending BFD packets is 300 ms, which calculated using the formula max{100 ms, 300 ms}; the interval for receiving BFD packets is 600 ms, which is calculated using the formula max{200 ms, 600 ms}; the detection period is 2400 ms (600 ms Ã 4).</p>
</li></ul>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=min-rx-interval"><b><span class="cmdname">min-rx-interval</span></b></a> <i><span class="varname">rx-interval</span></i></span><p><p>The minimum interval at which the local device receives BFD packets is changed.</p>
</p><p><p>For an unaffiliated session, run the <a href="cmdqueryname=min-echo-rx-interval"><b><span class="cmdname">min-echo-rx-interval</span></b></a> <i><span class="varname">interval</span></i> command to configure the minimum interval at which the local device receives BFD packets.</p>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=detect-multiplier"><b><span class="cmdname">detect-multiplier</span></b></a> <i><span class="varname">multiplier</span></i></span></span><p><p>The local BFD detection multiplier is set.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0121.html">Configuring Static BFD for TE CR-LSP
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0122.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0124.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>