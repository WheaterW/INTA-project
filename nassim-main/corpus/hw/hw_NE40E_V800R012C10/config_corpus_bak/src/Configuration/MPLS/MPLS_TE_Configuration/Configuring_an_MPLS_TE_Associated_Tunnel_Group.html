
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an MPLS TE Associated Tunnel Group">
<meta name="abstract" content="If the bandwidth of a service tunnel is insufficient, you can create an associated tunnel group and specify both an original tunnel and its split tunnels to carry services.">
<meta name="description" content="If the bandwidth of a service tunnel is insufficient, you can create an associated tunnel group and specify both an original tunnel and its split tunnels to carry services.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0162.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_1242.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00556928,w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="l00468467">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00845984">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0224560556">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring an MPLS TE Associated Tunnel Group</title>
</head>
<body><a name="EN-US_TASK_0224560556"></a><a name="EN-US_TASK_0224560556"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an MPLS TE Associated Tunnel Group</h1>
<div class="taskbody"><p>If the bandwidth of a service tunnel is insufficient, you can create an associated tunnel group and specify both an original tunnel and its split tunnels to carry services.</p>
<div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0224560556__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>Before configuring an MPLS TE associated tunnel group, complete the following task:</p>
<ul><li><p><a href="dc_vrp_te-p2p_cfg_0003.html">Configure RSVP-TE tunnels.</a></p>
</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0224560556__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>The bandwidth of an MPLS TE tunnel is limited, but the bandwidth of services carried by the tunnel cannot be limited. As a result, the tunnel bandwidth may become insufficient in some service scenarios, for example, when routes or VPN services recurse to the tunnel. To address this issue, you can create an associated tunnel group, specify the current tunnel as the original tunnel of the group, and specify split tunnels for the original tunnel. The split tunnels can carry services together with the original tunnel, relieving bandwidth pressure.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0224560556__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure split tunnels.</span><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=interface+tunnel"><b><span class="cmdname">interface tunnel</span></b></a> <i><span class="varname">interface-number</span></i></span><p><p>A tunnel interface is created, and its view is displayed.</p>
</p></li><li class="substepexpand"><span>Run either of the following commands to assign an IP address to the tunnel interface:</span><p><ul><li><p>To configure an IP address, run the <a href="cmdqueryname=ip+address"><b><span class="cmdname">ip address</span></b></a> <i><span class="varname">ip-address</span></i> { <i><span class="varname">mask</span></i> | <i><span class="varname">mask-length</span></i> } [ <strong><span>sub</span></strong> ] command.</p>
<p>The secondary IP address of a tunnel interface can be configured only after the primary IP address is configured.</p>
</li><li><p>To borrow an IP address from another interface, run the <a href="cmdqueryname=ip+address+unnumbered"><b><span class="cmdname">ip address unnumbered</span></b></a> <strong><span>interface</span></strong> <i><span class="varname">interface-type interface-number</span></i> command.</p>
</li></ul>
<p>Although an MPLS TE tunnel can be established even if its tunnel interface has no IP address, the tunnel cannot forward traffic. Therefore, the tunnel interface must have an IP address to implement traffic forwarding. An MPLS TE tunnel is unidirectional; therefore, you do not need to consider the peer IP address when performing IP address configuration for the tunnel. You are advised to specify the ingress LSR ID as the IP address of the tunnel interface, instead of configuring a unique IP address for the interface.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=tunnel-protocol+mpls+te"><b><span class="cmdname">tunnel-protocol mpls te</span></b></a></span><p><p>MPLS TE is enabled.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=destination"><b><span class="cmdname">destination</span></b></a> <i><span class="varname">ip-address</span></i></span><p><p>A destination IP address is assigned to the tunnel. Generally, the egress LSR ID is used as the destination IP address.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=mpls+te+tunnel-id"><b><span class="cmdname">mpls te tunnel-id</span></b></a> <i><span class="varname">tunnel-id</span></i></span><p><p>A tunnel ID is set.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=mpls+te+signal-protocol"><b><span class="cmdname">mpls te signal-protocol</span></b></a> <strong><span>rsvp-te</span></strong></span><p><p>RSVP-TE is enabled.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=mpls+te+split-tunnel"><b><span class="cmdname">mpls te split-tunnel</span></b></a></span><p><p>The tunnel is configured as a split tunnel.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li></ol>
</li><li><span>Configure an associated tunnel group.</span><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=mpls+te+associate-tunnel-group"><b><span class="cmdname">mpls te associate-tunnel-group</span></b></a><strong> </strong><em>group-id</em></span><p><p>An associated tunnel group is created, and its view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=mpls+te+original-tunnel"><b><span class="cmdname">mpls te original-tunnel</span></b></a><strong> </strong><em>tunnel-name</em></span><p><p>An original tunnel is specified for the associated tunnel group.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=mpls+te+split-tunnel"><b><span class="cmdname">mpls te split-tunnel</span></b></a><strong> </strong><em>tunnel-name</em></span><p><p>A split tunnel is specified for the associated tunnel group.</p>
</p><p><p>Repeat this command if you want to add more split tunnels.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=mpls+te+backup+active-standby"><b><span class="cmdname">mpls te backup active-standby</span></b></a></span><p><p>The active/standby mode is enabled for the associated tunnel group.</p>
</p><p><p>After the <a href="cmdqueryname=mpls+te+backup+active-standby"><b><span class="cmdname">mpls te backup active-standby</span></b></a> command is run, the original tunnel and its split tunnels work in active/standby mode. Normally, only the original tunnel can carry service traffic. Split tunnels are sequenced based on a selection rule (for example, in ascending order of tunnel ID). They protect the original tunnel. If the original tunnel is faulty or in the "FRR in use" state, traffic is switched from the original tunnel to the first split tunnel; if the first split tunnel is faulty, traffic is switched to the second split tunnel, and so on, implementing traffic switching from the original tunnel to split tunnels.</p>
</p></li></ol>
</li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0224560556__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>After an MPLS TE associated tunnel group is configured, you can run the <a href="cmdqueryname=display+mpls+te+associate-tunnel-group"><b><span class="cmdname">display mpls te associate-tunnel-group</span></b></a> [ <i><span class="varname">group-id</span></i> ] command to check information about the group.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0000.html">MPLS TE Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0162.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_1242.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>