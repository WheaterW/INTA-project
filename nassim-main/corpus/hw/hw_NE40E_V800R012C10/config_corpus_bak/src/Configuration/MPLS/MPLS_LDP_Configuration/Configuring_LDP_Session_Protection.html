
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring LDP Session Protection">
<meta name="abstract" content="LDP session protection enables a device to start the extended LDP discovery mechanism to continue to maintain an LDP session established with an LDP peer if the basic LDP discovery mechanism fails. After the basic LDP discovery mechanism recovers, the LDP protocol can rapidly converge.">
<meta name="description" content="LDP session protection enables a device to start the extended LDP discovery mechanism to continue to maintain an LDP session established with an LDP peer if the basic LDP discovery mechanism fails. After the basic LDP discovery mechanism recovers, the LDP protocol can rapidly converge.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_2039.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0046.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="ldp-p2pvrp,w00800033,z00545680,w00556928,w00606909,z00809835,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS LDP">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS LDP">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS LDP">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="z00809835">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="b00896120">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172368500">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring LDP Session Protection</title>
</head>
<body><a name="EN-US_TASK_0172368500"></a><a name="EN-US_TASK_0172368500"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring LDP Session Protection</h1>
<div class="taskbody"><p>LDP session protection enables a device to start the extended LDP discovery mechanism to continue to maintain an LDP session established with an LDP peer if the basic LDP discovery mechanism fails. After the basic LDP discovery mechanism recovers, the LDP protocol can rapidly converge.</p>
<div class="context"><a name="EN-US_TASK_0172368500__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>If the direct link of a local LDP session between two devices fails, an LDP adjacency for the LDP session is torn down. The LDP session and related labels are also deleted. After the direct link recovers, the LDP session can be reestablished and distribute labels so that an LDP LSP over the session can converge. During this process, LDP LSP traffic is dropped.</p>
<p>With LDP session protection configured, LDP establishes a remote adjacency when establishing local adjacencies and uses both adjacencies to maintain LDP sessions. If the direct link of an LDP session is faulty and other paths and routes are available, the remote adjacency can be used to maintain the LDP session without interruption. After the direct link recovers, the local outgoing label can still be used, without being distributed by the downstream node again. The LDP session does not need to be reestablished. This speeds up LDP LSP convergence and reduces traffic loss.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172368500__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring LDP session protection, complete the following task:</p>
<ul><li><p><a href="dc_vrp_ldp-p2p_cfg_0003.html">Configure a local LDP session</a>.</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172368500__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=mpls+ldp"><b><span class="cmdname">mpls ldp</span></b></a></span></span><p><p>The MPLS-LDP view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=session+protection+peer-group+duration+infinite"><b><span class="cmdname">session protection</span></b></a> [ <strong><span>peer-group</span></strong> <i><span class="varname">peer-group-name</span></i> ] [ <strong><span>duration</span></strong> { <strong><span>infinite</span></strong> | <i><span class="varname">time-value</span></i> } ]</span><p><p>LDP session protection is enabled.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0172368500__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>After completing the configurations, run the <a href="cmdqueryname=display+mpls+ldp+remote-peer"><b><span class="cmdname">display mpls ldp remote-peer</span></b></a> command in any view to view the LDP session protection configuration and the function status. The command output shows that this function takes effect.</p>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0000.html">MPLS LDP Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_2039.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0046.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>