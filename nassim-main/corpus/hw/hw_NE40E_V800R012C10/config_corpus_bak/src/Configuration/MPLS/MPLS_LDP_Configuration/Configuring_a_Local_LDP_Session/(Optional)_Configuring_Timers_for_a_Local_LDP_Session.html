
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring Timers for a Local LDP Session">
<meta name="abstract" content="Timers of a local LDP session include the link Hello hold timer, link Hello send timer, Keepalive hold timer, Keepalive send timer, and Exponential backoff timer.">
<meta name="description" content="Timers of a local LDP session include the link Hello hold timer, link Hello send timer, Keepalive hold timer, Keepalive send timer, and Exponential backoff timer.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0003.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0006.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0069.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="ldp-p2pvrp,w00800033,z00545680,w00556928,w00606909,z00809835,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS LDP">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS LDP">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS LDP">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS LDP">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="z00809835">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="b00896120">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172368438">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>(Optional) Configuring Timers for a Local LDP Session</title>
</head>
<body><a name="EN-US_TASK_0172368438"></a><a name="EN-US_TASK_0172368438"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring Timers for a Local LDP Session</h1>
<div class="taskbody"><p>Timers of a local LDP session include the link Hello hold timer, link Hello send timer, Keepalive hold timer, Keepalive send timer, and Exponential backoff timer.</p>
<div class="context"><a name="EN-US_TASK_0172368438__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p">The following timers are used in a local LDP session:
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Timers for a local LDP session</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="19.668033196680334%" id="mcps1.4.1.1.1.2.4.1.1" liSelected="liSelected"><p>LDP Timers</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="37.126287371262876%" id="mcps1.4.1.1.1.2.4.1.2" liSelected="liSelected"><p>Description</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="43.20567943205679%" id="mcps1.4.1.1.1.2.4.1.3" liSelected="liSelected"><p>Suggestion</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="19.668033196680334%" headers="mcps1.4.1.1.1.2.4.1.1 "><p>Link Hello send timer</p>
</td>
<td class="cellrowborder" valign="top" width="37.126287371262876%" headers="mcps1.4.1.1.1.2.4.1.2 "><p>Used to send Hello messages periodically to notify a peer LSR of the local LSR's presence and establish a Hello adjacency. Similar to a remote LDP session, a local LDP session uses a link Hello send timer.</p>
</td>
<td class="cellrowborder" valign="top" width="43.20567943205679%" headers="mcps1.4.1.1.1.2.4.1.3 "><p>On an unstable network, decrease the value of a link Hello send timer, speeding up network fault detection.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="19.668033196680334%" headers="mcps1.4.1.1.1.2.4.1.1 "><p>Link Hello hold timer</p>
</td>
<td class="cellrowborder" valign="top" width="37.126287371262876%" headers="mcps1.4.1.1.1.2.4.1.2 "><p>Used to exchange Hello messages periodically between two LDP peers to maintain the Hello adjacency. If no Hello message is received after the link Hello hold timer expires, the Hello adjacency is torn down. Similar to a remote LDP session, a local LDP session uses a link Hello hold timer.</p>
</td>
<td class="cellrowborder" valign="top" width="43.20567943205679%" headers="mcps1.4.1.1.1.2.4.1.3 "><p>On a network with unstable links or a large number of packets, increase the value of the link Hello hold timer, preventing a local LDP session from being torn down and set up frequently.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="19.668033196680334%" headers="mcps1.4.1.1.1.2.4.1.1 "><p>KeepAlive send timer</p>
</td>
<td class="cellrowborder" valign="top" width="37.126287371262876%" headers="mcps1.4.1.1.1.2.4.1.2 "><p>Used to send KeepAlive messages periodically, maintaining the local LDP session.</p>
</td>
<td class="cellrowborder" valign="top" width="43.20567943205679%" headers="mcps1.4.1.1.1.2.4.1.3 "><p>On an unstable network, set a smaller value for a KeepAlive send timer, speeding up network fault detection.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="19.668033196680334%" headers="mcps1.4.1.1.1.2.4.1.1 "><p>KeepAlive hold timer</p>
</td>
<td class="cellrowborder" valign="top" width="37.126287371262876%" headers="mcps1.4.1.1.1.2.4.1.2 "><p>Used to send LDP PDUs over an LDP session, maintaining the local LDP session. If no LDP PDU is received after the KeepAlive hold timer expires, the TCP connection is closed and the local LDP session is terminated.</p>
</td>
<td class="cellrowborder" valign="top" width="43.20567943205679%" headers="mcps1.4.1.1.1.2.4.1.3 "><p>On a network with unstable links, increase the value of the KeepAlive hold timer, preventing the local LDP session from flapping.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="19.668033196680334%" headers="mcps1.4.1.1.1.2.4.1.1 "><p>Exponential backoff timer</p>
</td>
<td class="cellrowborder" valign="top" width="37.126287371262876%" headers="mcps1.4.1.1.1.2.4.1.2 "><p>Started by an LSR that plays an active role after an LDP Initialization message sent by the LSR to another LSR that plays a passive role fails to be processed or parameters carried in the message are rejected. The LSP that plays the active role periodically resends an LDP Initialization message to initiate an LDP session before the Exponential backoff timer expires.</p>
</td>
<td class="cellrowborder" valign="top" width="43.20567943205679%" headers="mcps1.4.1.1.1.2.4.1.3 "><ul><li><p>When a device is upgraded, prolong the period for the active role to retry setting up a session. In this case, you can set larger initial and maximum values for the Exponential backoff timer.</p>
</li><li><p>When a device that bears services tends to alternate between Up and Down, shorten the period for the active role to retry setting up a session. In this case, you can set smaller initial and maximum values for the Exponential backoff timer.</p>
</li></ul>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The default timer values are recommended. </p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172368438__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure a link Hello send timer.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The view of the interface on which an LDP session is to be established is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=mpls+ldp+timer+hello-send"><b><span class="cmdname">mpls ldp timer hello-send</span></b></a> <i><span class="varname">interval</span></i></span></span><p><p>A link Hello send timer is configured.</p>
<p>Effective link Hello send timer value = Min{Configured link Hello send timer value, 1/3 of the link Hello hold timer value}</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure a link Hello hold timer.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The view of the interface on which an LDP session is to be established is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=mpls+ldp+timer+hello-hold"><b><span class="cmdname">mpls ldp timer hello-hold</span></b></a> <i><span class="varname">interval</span></i></span></span><p><p>A link Hello hold timer is configured.</p>
<p>If a link Hello hold timer is configured on each end of a local LDP session, the smaller value takes effect.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure a Keepalive send timer for a local LDP session.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The view of the interface on which an LDP session is to be established is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=mpls+ldp+timer+keepalive-send"><b><span class="cmdname">mpls ldp timer keepalive-send</span></b></a> <i><span class="varname">interval</span></i></span></span><p><p>A Keepalive send timer is configured for the local LDP session.</p>
<p>Effective Keepalive send timer value = Min{Configured Keepalive send timer value, 1/3 of the Keepalive hold timer value}</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure a Keepalive hold timer for a local LDP session.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The view of the interface on which an LDP session is to be established is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=mpls+ldp+timer+keepalive-hold"><b><span class="cmdname">mpls ldp timer keepalive-hold</span></b></a> <i><span class="varname">interval</span></i></span></span><p><p>A Keepalive hold timer is configured for the local LDP session.</p>
<p>If a Keepalive hold timer is configured on each end of a local LDP session, the smaller value takes effect.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure an Exponential backoff timer.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=mpls"><b><span class="cmdname">mpls</span></b></a></span></span><p><p>The MPLS view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=mpls+ldp"><b><span class="cmdname">mpls ldp</span></b></a></span></span><p><p>The MPLS-LDP view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=backoff+timer"><b><span class="cmdname">backoff timer</span></b></a> <i><span class="varname">init</span></i> <i><span class="varname">max</span></i></span><p><p>The Exponential backoff timer is configured.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0003.html">Configuring a Local LDP Session
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0006.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0069.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>