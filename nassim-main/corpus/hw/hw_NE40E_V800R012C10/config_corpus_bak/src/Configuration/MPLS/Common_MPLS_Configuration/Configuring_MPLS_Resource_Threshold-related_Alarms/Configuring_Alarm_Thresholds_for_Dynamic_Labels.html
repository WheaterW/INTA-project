
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Alarm Thresholds for Dynamic Labels">
<meta name="abstract" content="This section describes how to set the dynamic label thresholds for triggering an alarm. If the number of dynamic labels that the system uses reaches a specific threshold, the system generates an alarm, which facilitates operation and maintenance.">
<meta name="description" content="This section describes how to set the dynamic label thresholds for triggering an alarm. If the number of dynamic labels that the system uses reaches a specific threshold, the system generates an alarm, which facilitates operation and maintenance.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mplsm_cfg_0011.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mplsm_cfg_0012.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mplsm_cfg_0014.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="l00468467,w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS Common">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS Common">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS Common">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS Common">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="l00425560,l00468467">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="b00896120">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172368038">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Alarm Thresholds for Dynamic Labels</title>
</head>
<body><a name="EN-US_TASK_0172368038"></a><a name="EN-US_TASK_0172368038"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Alarm Thresholds for Dynamic Labels</h1>
<div class="taskbody"><p>This section describes how to set the dynamic label thresholds for triggering an alarm. If the number of dynamic labels that the system uses reaches a specific threshold, the system generates an alarm, which facilitates operation and maintenance.</p>
<div class="context"><a name="EN-US_TASK_0172368038__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>If dynamic labels run out but the system receives new dynamic label requests, the system fails to satisfy the requests because the dynamic labels are insufficient. The module that fails to be assigned labels works abnormally. The modules that apply for labels include MPLS TE, MPLS LDP, BGP, L3VPN and L2VPN.</p>
<p>To help facilitate operation and maintenance, you can set dynamic label thresholds for triggering alarms to alert users.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172368038__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=mpls"><b><span class="cmdname">mpls</span></b></a></span></span><p><p>The MPLS view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=mpls+dynamic-label-number+threshold-alarm+upper-limit"><b><span class="cmdname">mpls dynamic-label-number threshold-alarm</span></b></a> <strong><span>upper-limit</span></strong> <i><span class="varname">upper-limit-value</span></i> <strong><span>lower-limit</span></strong> <i><span class="varname">lower-limit-value</span></i></span></span><p><p>The thresholds for triggering dynamic label alarms are set.</p>
<p>You can set the following parameters:</p>
<ul><li><i><span class="varname">upper-limit-value</span></i>: a percent indicating the upper limit of dynamic labels. If dynamic label usage reaches the upper limit, an alarm is generated. An upper limit less than or equal to 95% is recommended.</li><li><i><span class="varname">lower-limit-value</span></i>: a percent indicating the lower limit of dynamic labels. If dynamic label usage falls below the lower limit, an alarm is generated.</li><li>The <i><span class="varname">upper-limit-value</span></i> must be greater than the <i><span class="varname">lower-limit-value</span></i>.</li></ul>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li><p>Each command only configures the trigger conditions for an alarm and its clear alarm. Although trigger conditions are met, the alarm and its clear alarm can be generated only after the <a href="cmdqueryname=snmp-agent+trap+enable+feature-name+mpls_lspm+trap-name"><b><span class="cmdname">snmp-agent trap enable feature-name</span></b></a> <strong><span>mpls_lspm</span></strong> <strong><span>trap-name</span></strong> { <strong><span>hwMplsDynamicLabelThresholdExceed</span></strong> | <strong><span>hwMplsDynamicLabelThresholdExceedClear</span></strong> } command is run to enable the device to generate a dynamic label insufficiency alarm and its clear alarm.</p>
</li><li><p>After the <a href="cmdqueryname=snmp-agent+trap+enable+feature-name+mpls_lspm+trap-name"><b><span class="cmdname">snmp-agent trap enable feature-name</span></b></a> <strong><span>mpls_lspm</span></strong> <strong><span>trap-name</span></strong> { <strong><span>hwMplsDynamicLabelTotalCountExceed</span></strong> | <strong><span>hwMplsDynamicLabelTotalCountExceedClear</span></strong> } command is run to enable the device to generate limit-reaching alarms and their clear alarms, the following situations occur:</p>
<ul><li><p>If the number of dynamic labels reaches the maximum number of dynamic labels supported by a device, a limit-reaching alarm is generated.</p>
</li><li><p>If the number of dynamic labels falls below 95% of the maximum number of dynamic labels supported by the device, a clear alarm is generated.</p>
</li></ul>
</li></ul>
</div></div>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mplsm_cfg_0011.html">Configuring MPLS Resource Threshold-related Alarms
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mplsm_cfg_0012.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mplsm_cfg_0014.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>