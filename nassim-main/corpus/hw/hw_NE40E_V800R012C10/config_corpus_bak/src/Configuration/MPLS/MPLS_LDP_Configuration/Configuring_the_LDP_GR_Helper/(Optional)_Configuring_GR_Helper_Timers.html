
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring GR Helper Timers">
<meta name="abstract" content="Configuring GR Helper timers includes configuring the LDP session Reconnect timer and LSP Recovery timer.">
<meta name="description" content="Configuring GR Helper timers includes configuring the LDP session Reconnect timer and LSP Recovery timer.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0024.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0025.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0027.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="ldp-p2pvrp,w00800033,z00545680,w00556928,w00606909,z00809835,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS LDP">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS LDP">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS LDP">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS LDP">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="z00809835">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="b00896120">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172368515">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring GR Helper Timers</title>
</head>
<body><a name="EN-US_TASK_0172368515"></a><a name="EN-US_TASK_0172368515"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring GR Helper Timers</h1>
<div class="taskbody"><p>Configuring GR Helper timers includes configuring the LDP session Reconnect timer and LSP Recovery timer.</p>
<div class="context"><a name="EN-US_TASK_0172368515__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p">Timers associated with LDP GR are as follows:<ul><li><div class="p">Reconnect timer: After the GR restarter performs an active/standby switchover, the GR Helper detects that the LDP session with the GR Restarter fails, starts the Reconnect timer, and waits for the reestablishment of the LDP session.<ul><li><p>If the Reconnect timer expires before the LDP session between the GR Helper and Restarter is established, the GR Helper immediately deletes MPLS forwarding entries associated with the GR Restarter and exits from the GR Helper process.</p>
</li><li><p>If the LDP session between the GR Helper and the GR Restarter is established before the Reconnect timer times out, the GR Helper deletes the timer and starts the Recovery timer.</p>
</li></ul>
</div>
</li><li><div class="p">Recovery timer: After an LDP session is reestablished, the GR Helper starts the Recovery timer and waits for the LSP to recover.<ul><li><p>If the Recovery timer expires, the GR Helper considers that the GR process on the neighbor is complete and deletes non-restored LSPs.</p>
</li><li><p>If all LSPs are restored before the Recovery timer expires, the GR Helper considers that the GR process is complete on the neighbor after the Recovery timer expires.</p>
</li></ul>
</div>
</li><li><p>Neighbor-liveness timer: indicates the LDP GR time.</p>
</li></ul>
</div>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Changing the value of an LDP GR timer also causes an LDP session to be reestablished.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172368515__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=mpls+ldp"><b><span class="cmdname">mpls ldp</span></b></a></span><p><p>The MPLS-LDP view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=graceful-restart+timer+reconnect"><b><span class="cmdname">graceful-restart timer reconnect</span></b></a> <i><span class="varname">time</span></i></span><p><p>The Reconnect timer value is set.</p>
</p><p><p>The Reconnect timer value that takes effect is the smaller value between the Neighbor-liveness timer value configured on the GR Helper and the Reconnect timer value configured on the GR Restarter.</p>
</p></li><li><span>Run <a href="cmdqueryname=graceful-restart+timer+recovery"><b><span class="cmdname">graceful-restart timer recovery</span></b></a> <i><span class="varname">time</span></i></span><p><p>The Recovery timer value is set.</p>
</p><p><p>The Recovery timer value that takes effect is the smaller value between the Recovery timer value configured on the GR Helper and the Recovery timer value configured on the GR Restarter.</p>
</p></li><li><span>Run <a href="cmdqueryname=graceful-restart+timer+neighbor-liveness"><b><span class="cmdname">graceful-restart timer neighbor-liveness</span></b></a> <i><span class="varname">time</span></i></span><p><p>The Neighbor-liveness timer value is set.</p>
</p><p><p>When negotiating the reconnection time of an LDP session during LDP GR, the device uses the smaller value between the Neighbor-liveness timer value configured on the GR helper and the Reconnect timer value configured on the GR restarter.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0024.html">Configuring the LDP GR Helper
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0025.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0027.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>