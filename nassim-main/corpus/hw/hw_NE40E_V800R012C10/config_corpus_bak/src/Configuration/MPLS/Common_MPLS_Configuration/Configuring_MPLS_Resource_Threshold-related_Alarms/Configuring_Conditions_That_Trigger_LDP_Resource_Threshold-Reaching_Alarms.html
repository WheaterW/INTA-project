
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Conditions That Trigger LDP Resource Threshold-Reaching Alarms">
<meta name="abstract" content="Conditions that trigger LDP resource threshold-reaching alarms can be configured. If the number of remote LDP adjacencies or the number of outsegment entries reaches a specified upper alarm threshold, the device can report an alarm to an NMS.">
<meta name="description" content="Conditions that trigger LDP resource threshold-reaching alarms can be configured. If the number of remote LDP adjacencies or the number of outsegment entries reaches a specified upper alarm threshold, the device can report an alarm to an NMS.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mplsm_cfg_0011.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mplsm_cfg_0013.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mplsm_cfg_0015.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="l00468467,w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS Common">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS Common">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS Common">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS Common">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="l00425560,l00468467">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="b00896120">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172368039">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Conditions That Trigger LDP Resource Threshold-Reaching Alarms</title>
</head>
<body><a name="EN-US_TASK_0172368039"></a><a name="EN-US_TASK_0172368039"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Conditions That Trigger LDP Resource Threshold-Reaching Alarms</h1>
<div class="taskbody"><p>Conditions that trigger LDP resource threshold-reaching alarms can be configured. If the number of remote LDP adjacencies or the number of outsegment entries reaches a specified upper alarm threshold, the device can report an alarm to an NMS.</p>
<div class="steps"><a name="EN-US_TASK_0172368039__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=mpls"><b><span class="cmdname">mpls</span></b></a></span></span><p><p>The MPLS view is displayed.</p>
</p></li><li><span>Run one or more of the following commands:</span><ul><li><p>Run <a href="cmdqueryname=mpls+remote-adjacency-number+threshold-alarm+upper-limit"><b><span class="cmdname">mpls remote-adjacency-number threshold-alarm</span></b></a> <strong><span>upper-limit</span></strong> <i><span class="varname">upper-limit-value</span></i> <strong><span>lower-limit</span></strong> <i><span class="varname">lower-limit-value</span></i></p>
<p>The upper and lower alarm thresholds for the number of remote LDP adjacencies are configured.</p>
</li><li><p>Run <a href="cmdqueryname=mpls+outsegment-number+threshold-alarm+upper-limit+lower-limit"><b><span class="cmdname">mpls outsegment-number threshold-alarm</span></b></a> <strong><span>upper-limit</span></strong> <i><span class="varname">upper-limit-value</span></i> <strong><span>lower-limit</span></strong> <i><span class="varname">lower-limit-value</span></i></p>
<p>The upper and lower alarm thresholds for the number of outsegment entries are configured.</p>
</li><li><p>Run <a href="cmdqueryname=mpls+mldp-tree-number+threshold-alarm+upper-limit+lower-limit"><b><span class="cmdname">mpls mldp-tree-number threshold-alarm</span></b></a> <strong><span>upper-limit</span></strong> <i><span class="varname">upper-limit-value</span></i> <strong><span>lower-limit</span></strong> <i><span class="varname">lower-limit-value</span></i></p>
<p>The upper and lower alarm thresholds for the number of mLDP LSPs are configured.</p>
<p>Configure conditions that trigger threshold-reaching alarms and the corresponding clear alarms for other LDP resources.</p>
</li><li><p>Run <a href="cmdqueryname=mpls+mldp-branch-number+threshold-alarm+upper-limit+lower-limit"><b><span class="cmdname">mpls mldp-branch-number threshold-alarm</span></b></a> <strong><span>upper-limit</span></strong> <i><span class="varname">upper-limit-value</span></i> <strong><span>lower-limit</span></strong> <i><span class="varname">lower-limit-value</span></i></p>
<p>The upper and lower alarm thresholds for the number of mLDP sub-LSPs are configured.</p>
</li></ul>
<p><p>Configure the following parameters in the preceding command:</p>
<ul><li><i><span class="varname">upper-limit-value</span></i>: specifies the upper alarm threshold of the proportion of used LDP resources to all LDP resources supported by a device.</li><li><i><span class="varname">lower-limit-value</span></i>: specifies the lower alarm threshold for the proportion of used LDP resources to all LDP resources supported by a device.</li><li><i><span class="varname">upper-limit-value</span></i> must be greater than <i><span class="varname">lower-limit-value</span></i>.</li></ul>
<p>By default, the upper threshold for alarms is 80% and the lower threshold for clear alarms is 75%.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li><p>Each command only configures the trigger conditions for an alarm and its clear alarm. Although trigger conditions are met, the alarm and its clear alarm can be generated only after the <a href="cmdqueryname=snmp-agent+trap+enable+feature-name+mpls_lspm+trap-name"><b><span class="cmdname">snmp-agent trap enable feature-name</span></b></a> <strong><span>mpls_lspm</span></strong> <strong><span>trap-name</span></strong> { <strong><span>hwmplsresourcethresholdexceed</span></strong> | <strong><span>hwmplsresourcethresholdexceedclear</span></strong> } command is run to enable the device to generate an LDP resource insufficiency alarm and its clear alarm.</p>
</li><li><p>After the <a href="cmdqueryname=snmp-agent+trap+enable+feature-name+mpls_lspm+trap-name"><b><span class="cmdname">snmp-agent trap enable feature-name</span></b></a> <strong><span>mpls_lspm</span></strong> <strong><span>trap-name</span></strong> { <strong><span>hwmplsresourcetotalcountexceed</span></strong> | <strong><span>hwmplsresourcetotalcountexceedclear</span></strong> } command is run to enable the device to generate an LDP resource insufficiency alarm and its clear alarm, note the following issues:</p>
<ul><li><p>If the number of used LDP resources reaches the maximum number of LDP resources supported by a device, a maximum number-reaching alarm is generated.</p>
</li><li><p>If the number of used LDP resources falls to 95% or below of the maximum number of LDP resources supported by a device, a clear alarm is generated.</p>
</li></ul>
</li></ul>
</div></div>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mplsm_cfg_0011.html">Configuring MPLS Resource Threshold-related Alarms
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mplsm_cfg_0013.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mplsm_cfg_0015.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>