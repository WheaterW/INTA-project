
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring CR-LSP Backup">
<meta name="abstract" content="CR-LSP backup is configured to provide end-to-end protection for a CR-LSP.">
<meta name="description" content="CR-LSP backup is configured to provide end-to-end protection for a CR-LSP.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0200.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0121.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0058.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0059.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0142.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0060.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,te-p2pvrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="l00468467">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00845984">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172368223">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Configuring CR-LSP Backup</title>
</head>
<body><a name="EN-US_TASK_0172368223"></a><a name="EN-US_TASK_0172368223"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring CR-LSP Backup</h1>
<div class="taskbody"><p>CR-LSP backup is configured to provide end-to-end protection for a CR-LSP.</p>
<div class="context"><a name="EN-US_TASK_0172368223__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>CR-LSP backup provides an end-to-end path protection for an entire CR-LSP.</p>
<div class="p">CR-LSP backup is performed in either of the following modes:<ul id="EN-US_TASK_0172368223__en-us_concept_0172355384_ul151631151653"><li id="EN-US_TASK_0172368223__en-us_concept_0172355384_li422142441214012"><p id="EN-US_TASK_0172368223__en-us_concept_0172355384_p1809519846214012"><a name="EN-US_TASK_0172368223__en-us_concept_0172355384_li422142441214012"></a><a name="en-us_concept_0172355384_li422142441214012"></a>Hot standby: A backup CR-LSP is set up immediately after a primary CR-LSP is set up. If the primary CR-LSP fails, traffic switches to the backup CR-LSP. If the primary CR-LSP recovers, traffic switches back to the primary CR-LSP by default. Hot-standby CR-LSPs support best-effort paths.</p>
</li><li id="EN-US_TASK_0172368223__en-us_concept_0172355384_li547902336214012"><p id="EN-US_TASK_0172368223__en-us_concept_0172355384_p184682816214012"><a name="EN-US_TASK_0172368223__en-us_concept_0172355384_li547902336214012"></a><a name="en-us_concept_0172355384_li547902336214012"></a>Ordinary backup: A backup CR-LSP is set up after a primary CR-LSP fails. If the primary CR-LSP fails, traffic switches to the backup CR-LSP. If the primary CR-LSP recovers, traffic switches back to the primary CR-LSP by default.</p>
<div class="p" id="EN-US_TASK_0172368223__en-us_concept_0172355384_p267772641214012">For details about the differences between hot standby and ordinary backup, see <a href="#EN-US_TASK_0172368223__en-us_concept_0172355384_tab_dc_vrp_te-p2p_feature_001701">Table 1</a>.
<div class="tableBorder"><a name="EN-US_TASK_0172368223__en-us_concept_0172355384_tab_dc_vrp_te-p2p_feature_001701"></a><a name="en-us_concept_0172355384_tab_dc_vrp_te-p2p_feature_001701"></a><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_TASK_0172368223__en-us_concept_0172355384_tab_dc_vrp_te-p2p_feature_001701" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Differences between hot standby and ordinary backup</caption><thead align="left"><tr id="EN-US_TASK_0172368223__en-us_concept_0172355384_row1519488730214012"><th align="left" class="cellrowborder" valign="top" width="19.830000000000002%" id="mcps1.4.1.3.1.2.2.2.2.4.1.1" liSelected="liSelected"><p id="EN-US_TASK_0172368223__en-us_concept_0172355384_p866234453214012">Item</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="36.85%" id="mcps1.4.1.3.1.2.2.2.2.4.1.2" liSelected="liSelected"><p id="EN-US_TASK_0172368223__en-us_concept_0172355384_p311571812214012">Hot Standby</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="43.32%" id="mcps1.4.1.3.1.2.2.2.2.4.1.3" liSelected="liSelected"><p id="EN-US_TASK_0172368223__en-us_concept_0172355384_p1454765852214012">Ordinary Backup</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_TASK_0172368223__en-us_concept_0172355384_row406475541214012"><td class="cellrowborder" valign="top" width="19.830000000000002%" headers="mcps1.4.1.3.1.2.2.2.2.4.1.1 "><p id="EN-US_TASK_0172368223__en-us_concept_0172355384_p261360439214012">Time when a backup CR-LSP is established</p>
</td>
<td class="cellrowborder" valign="top" width="36.85%" headers="mcps1.4.1.3.1.2.2.2.2.4.1.2 "><p id="EN-US_TASK_0172368223__en-us_concept_0172355384_p1775798509214012">Created immediately after the primary CR-LSP is established.</p>
</td>
<td class="cellrowborder" valign="top" width="43.32%" headers="mcps1.4.1.3.1.2.2.2.2.4.1.3 "><p id="EN-US_TASK_0172368223__en-us_concept_0172355384_p906913582214012">Created only after the primary CR-LSP fails.</p>
</td>
</tr>
<tr id="EN-US_TASK_0172368223__en-us_concept_0172355384_row58986958214012"><td class="cellrowborder" valign="top" width="19.830000000000002%" headers="mcps1.4.1.3.1.2.2.2.2.4.1.1 "><p id="EN-US_TASK_0172368223__en-us_concept_0172355384_p869505161214012">Primary and backup explicit paths</p>
</td>
<td class="cellrowborder" valign="top" width="36.85%" headers="mcps1.4.1.3.1.2.2.2.2.4.1.2 "><p id="EN-US_TASK_0172368223__en-us_concept_0172355384_p1719640506214012">You can specify whether the primary and backup paths can overlap. If an explicit path is allowed for a backup CR-LSP, the explicit path is used as the constraint to set up the backup CR-LSP.</p>
</td>
<td class="cellrowborder" valign="top" width="43.32%" headers="mcps1.4.1.3.1.2.2.2.2.4.1.3 "><p id="EN-US_TASK_0172368223__en-us_concept_0172355384_p2013925380214012">The path of the backup CR-LSP can partially overlap the path of the primary CR-LSP, regardless of whether the backup CR-LSP is set up over an explicit path.</p>
</td>
</tr>
<tr id="EN-US_TASK_0172368223__en-us_concept_0172355384_row474556813214012"><td class="cellrowborder" valign="top" width="19.830000000000002%" headers="mcps1.4.1.3.1.2.2.2.2.4.1.1 "><p id="EN-US_TASK_0172368223__en-us_concept_0172355384_p1259956858214012">Whether a best-effort path is supported</p>
</td>
<td class="cellrowborder" valign="top" width="36.85%" headers="mcps1.4.1.3.1.2.2.2.2.4.1.2 "><p id="EN-US_TASK_0172368223__en-us_concept_0172355384_p299691351214012">Yes</p>
</td>
<td class="cellrowborder" valign="top" width="43.32%" headers="mcps1.4.1.3.1.2.2.2.2.4.1.3 "><p id="EN-US_TASK_0172368223__en-us_concept_0172355384_p1444111339214012">No</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</li><li id="EN-US_TASK_0172368223__en-us_concept_0172355384_li1533824455214012"><p id="EN-US_TASK_0172368223__en-us_concept_0172355384_p593916597214012"><a name="EN-US_TASK_0172368223__en-us_concept_0172355384_li1533824455214012"></a><a name="en-us_concept_0172355384_li1533824455214012"></a>Best-effort path</p>
<p id="EN-US_TASK_0172368223__en-us_concept_0172355384_p1097141328214012">The hot standby function supports the establishment of best-effort paths. If both the primary and hot-standby CR-LSPs fail, a best-effort path is established and takes over traffic.</p>
<p id="EN-US_TASK_0172368223__en-us_concept_0172355384_p1214565351214012">As shown in <a href="#EN-US_TASK_0172368223__en-us_concept_0172355384_fig_dc_vrp_te-p2p_feature_001701">Figure 1</a>, the primary CR-LSP uses the path PE1 -&gt; P1 -&gt; PE2, and the backup CR-LSP uses the path PE1 -&gt; P2 -&gt; PE2. If both the primary and backup CR-LSPs fail, <span class="keyword" id="EN-US_TASK_0172368223__en-us_concept_0172355384_keyword1000298932214012">Router</span> triggers the setup of a best-effort path PE1 -&gt; P2 -&gt; P1 -&gt; PE2.</p>
<div class="fignone" id="EN-US_TASK_0172368223__en-us_concept_0172355384_fig_dc_vrp_te-p2p_feature_001701"><a name="EN-US_TASK_0172368223__en-us_concept_0172355384_fig_dc_vrp_te-p2p_feature_001701"></a><a name="en-us_concept_0172355384_fig_dc_vrp_te-p2p_feature_001701"></a><span class="figcap"><b>Figure 1 </b>Schematic diagram for a best-effort path</span><br><span><img class="vsd" id="EN-US_TASK_0172368223__en-us_concept_0172355384_image763860695214012" src="images/fig_feature_image_0003991718.png" width="NaN" height="NaN"></span><br></div>
<div class="note" id="EN-US_TASK_0172368223__en-us_concept_0172355384_note579394793214012"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172368223__en-us_concept_0172355384_p1197430453214012">A best-effort path does not provide reserved bandwidth for traffic. The affinity attribute and hop limit are configured as needed.</p>
</div></div>
</li></ul>
</div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172368223__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring CR-LSP backup, complete the following tasks:</p>
<ul><li><p>Establish a primary RSVP-TE tunnel.</p>
</li><li><p>Enable MPLS, MPLS TE, and RSVP-TE globally and in the physical interface view on each node along a bypass tunnel to be established. For configuration details, see <a href="dc_vrp_te-p2p_cfg_0004.html">Enabling MPLS TE and RSVP-TE</a>.</p>
</li><li><p>(Optional) Configure the link bandwidth for the backup CR-LSP. (See <a href="dc_vrp_te-p2p_cfg_0006.html">(Optional) Configuring TE Attributes</a>.)</p>
</li><li><p>(Optional) Configure an explicit path for the backup CR-LSP. (See <a href="dc_vrp_te-p2p_cfg_0007.html">(Optional) Configure an explicit path</a>.)</p>
</li></ul>
</div></div>
</div>

<ul class="ullinks">
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0058.html">Configuring CR-LSP Hot Standby</a>
</dt>
<dd>
A hot-standby CR-LSP is established immediately after a primary CR-LSP is set up. If the primary CR-LSP fails, traffic is switched to the hot-standby CR-LSP.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0059.html">Configuring a Best-Effort Path for a CR-LSP</a>
</dt>
<dd>
A best-effort path is configured to take over traffic if both the primary and hot-standby CR-LSPs fail.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0142.html">Configuring Ordinary Backup for CR-LSPs</a>
</dt>
<dd>
An ordinary backup CR-LSP is set up after the primary CR-LSP fails. If the primary CR-LSP fails, traffic is switched to the ordinary backup CR-LSP.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0060.html">Verifying the CR-LSP Backup Configuration</a>
</dt>
<dd>
After configuring CR-LSP backup, you can view information about backup CR-LSPs.</dd>
</dl>
</ul>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0000.html">MPLS TE Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0200.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0121.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>