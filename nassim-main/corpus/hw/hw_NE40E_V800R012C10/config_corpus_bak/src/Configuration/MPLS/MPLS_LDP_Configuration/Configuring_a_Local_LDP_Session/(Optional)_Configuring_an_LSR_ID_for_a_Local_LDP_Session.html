
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring an LSR ID for a Local LDP Session">
<meta name="abstract" content="To isolate services, configure an LSR ID for each local LDP session.">
<meta name="description" content="To isolate services, configure an LSR ID for each local LDP session.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0003.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0005.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0006.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="ldp-p2pvrp,w00800033,z00545680,w00556928,w00606909,z00809835,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS LDP">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS LDP">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS LDP">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS LDP">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="z00809835">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="b00896120">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172368436">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring an LSR ID for a Local LDP Session</title>
</head>
<body><a name="EN-US_TASK_0172368436"></a><a name="EN-US_TASK_0172368436"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring an LSR ID for a Local LDP Session</h1>
<div class="taskbody"><p>To isolate services, configure an LSR ID for each local LDP session.</p>
<div class="context"><a name="EN-US_TASK_0172368436__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>By default, all LDP sessions of an LSR, including local LDP sessions and remote LDP sessions, use the LSR ID of the LDP instance configured on the LSR. However, if LDP LSPs carry L2VPN and L3VPN services, sharing one LSR ID may cause LDP LSPs to fail to isolate VPN services. To address this problem, you can configure an LSR ID for each LDP session.</p>
<p>This section describes how to configure an LSR ID for a local LDP session.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172368436__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The view of the interface on which an LDP session is to be established is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=mpls+ldp+local-lsr-id+interface"><b><span class="cmdname">mpls ldp local-lsr-id</span></b></a> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <strong><span>interface</span></strong> }</span><p><p>The primary IP address of a specified interface is used as the LSR ID for the current LDP session.</p>
</p><p><p>Here:</p>
<ul><li><p><i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i>: sets the primary IP address of a specified interface as the LSR ID.</p>
</li><li><p><strong><span>interface</span></strong>: sets the primary IP address of the current interface as the LSR ID.</p>
</li></ul>
<p>If multiple links directly connect an LSR pair, the LSR ID configured on the interface of each link must be the same. Otherwise, the LDP session uses the LSR ID of the link that first finds the adjacency, while other links with different LSR IDs cannot be bound to the LDP session. As a result, LDP LSPs fail to be established on these links.</p>
<p>If both a local session and a remote LDP session are to be established between an LSR pair, LSR IDs configured for the two sessions must be the same. Otherwise, only the LDP session that finds the adjacency first can be established.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>To establish an LDP session between two devices, a TCP link must be established between them. This link is called an adjacency. After the adjacency is established, the two devices can exchange LDP control messages to establish an LDP session. If there is only one adjacency in an LDP session, the LDP session is called a single-link session. If there are multiple adjacencies in an LDP session, the LDP session is called a multi-link session.</p>
<p>Running this command causes a single-link LDP session to reset or causes the current adjacency of a multi-link LDP session to reset.</p>
</div></div>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0003.html">Configuring a Local LDP Session
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0005.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0006.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>