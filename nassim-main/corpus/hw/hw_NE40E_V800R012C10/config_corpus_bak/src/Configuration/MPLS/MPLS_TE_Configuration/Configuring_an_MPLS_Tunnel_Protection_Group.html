
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Configuring an MPLS Tunnel Protection Group">
<meta name="abstract" content="This section describes how to configure a tunnel protection group. A protection tunnel can be bound to a working tunnel to form a tunnel protection group. If the working tunnel fails, traffic switches to the protection tunnel. The tunnel protection group helps improve tunnel reliability.">
<meta name="description" content="This section describes how to configure a tunnel protection group. A protection tunnel can be bound to a working tunnel to form a tunnel protection group. If the working tunnel fails, traffic switches to the protection tunnel. The tunnel protection group helps improve tunnel reliability.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0311.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0270.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0163.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0166.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0167.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00845984">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0172368234">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Configuring an MPLS Tunnel Protection Group</title>
</head>
<body><a name="EN-US_CONCEPT_0172368234"></a><a name="EN-US_CONCEPT_0172368234"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an MPLS Tunnel Protection Group</h1>
<div><p>This section describes how to configure a tunnel protection group. A protection tunnel can be bound to a working tunnel to form a tunnel protection group. If the working tunnel fails, traffic switches to the protection tunnel. The tunnel protection group helps improve tunnel reliability.</p>
<div class="section"><h4 class="sectiontitle">Usage Scenario</h4><p>A tunnel protection group provides end-to-end protection for traffic transmitted along TE tunnel. If a working tunnel fails, bidirectional automatic protection switching switches traffic to the protection tunnel.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In an MPLS OAM for associated or co-routed LSP scenario where tunnel APS is configured, if the primary and backup tunnels use the same path and the path fails, both the tunnels are affected, and services may be interrupted.</p>
</div></div>
<p>A protected tunnel is called a working tunnel. A tunnel that protects the working tunnel is called a protection tunnel. The working and protection tunnels form a tunnel protection group. A tunnel protection group works in 1:1 mode. In 1:1 mode, one protection tunnel protects only one working tunnel.</p>
<ul><li><p>Working and protection tunnels</p>
<p>Tunnel-specific attributes in a tunnel protection group are independent from each other. For example, a protection tunnel with bandwidth 50 Mbit/s can protect a working tunnel with 100 Mbit/s bandwidth.</p>
<p>TE FRR can be enabled to protect the working tunnel.</p>
<p>A protection tunnel cannot be protected by other tunnels or have TE FRR enabled.</p>
</li><li><p>Protection switching mechanism</p>
<p>The <span class="keyword">NE40E</span> performs protection switching based on the following rules.</p>

<div class="tableBorder"><a name="EN-US_CONCEPT_0172368234__tab_dc_vrp_te-p2p_cfg_016201"></a><a name="tab_dc_vrp_te-p2p_cfg_016201"></a><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_CONCEPT_0172368234__tab_dc_vrp_te-p2p_cfg_016201" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Switching rules</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="26.46%" id="mcps1.4.1.5.2.3.2.4.1.1" liSelected="liSelected"><p>Switching Request</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="8.19%" id="mcps1.4.1.5.2.3.2.4.1.2" liSelected="liSelected"><p>Priority</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="65.35%" id="mcps1.4.1.5.2.3.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="26.46%" headers="mcps1.4.1.5.2.3.2.4.1.1 "><p>Clear</p>
</td>
<td class="cellrowborder" valign="top" width="8.19%" headers="mcps1.4.1.5.2.3.2.4.1.2 "><p>Highest</p>
</td>
<td class="cellrowborder" valign="top" width="65.35%" headers="mcps1.4.1.5.2.3.2.4.1.3 "><p>Clears all switching requests initiated manually, including forcible and manual switch requests. A signal failure will trigger traffic switching.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.46%" headers="mcps1.4.1.5.2.3.2.4.1.1 "><p>Lockout of protection</p>
</td>
<td class="cellrowborder" valign="top" width="8.19%" headers="mcps1.4.1.5.2.3.2.4.1.2 "><p>â</p>
</td>
<td class="cellrowborder" valign="top" width="65.35%" headers="mcps1.4.1.5.2.3.2.4.1.3 "><p>Prevents traffic from switching to a protection tunnel even if a working tunnel fails.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.46%" headers="mcps1.4.1.5.2.3.2.4.1.1 "><p>Signal Fail for Protection</p>
</td>
<td class="cellrowborder" valign="top" width="8.19%" headers="mcps1.4.1.5.2.3.2.4.1.2 "><p>â</p>
</td>
<td class="cellrowborder" valign="top" width="65.35%" headers="mcps1.4.1.5.2.3.2.4.1.3 "><p>Switches traffic from a protection tunnel to a working tunnel if the protection tunnel fails.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.46%" headers="mcps1.4.1.5.2.3.2.4.1.1 "><p>Forcible switch</p>
</td>
<td class="cellrowborder" valign="top" width="8.19%" headers="mcps1.4.1.5.2.3.2.4.1.2 "><p>â</p>
</td>
<td class="cellrowborder" valign="top" width="65.35%" headers="mcps1.4.1.5.2.3.2.4.1.3 "><p>Forcibly switches traffic from a working tunnel to a protection tunnel, regardless of whether the protection tunnel functions properly (unless a higher priority switch request takes effect).</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.46%" headers="mcps1.4.1.5.2.3.2.4.1.1 "><p>Signal Fail for Working</p>
</td>
<td class="cellrowborder" valign="top" width="8.19%" headers="mcps1.4.1.5.2.3.2.4.1.2 "><p>â</p>
</td>
<td class="cellrowborder" valign="top" width="65.35%" headers="mcps1.4.1.5.2.3.2.4.1.3 "><p>Switches traffic from a working tunnel to a protection tunnel if the working tunnel fails.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.46%" headers="mcps1.4.1.5.2.3.2.4.1.1 "><p>Manual switch</p>
</td>
<td class="cellrowborder" valign="top" width="8.19%" headers="mcps1.4.1.5.2.3.2.4.1.2 "><p>â</p>
</td>
<td class="cellrowborder" valign="top" width="65.35%" headers="mcps1.4.1.5.2.3.2.4.1.3 "><p>Switches traffic from a working tunnel to a protection tunnel only when the protection tunnel functions properly or switches traffic from the protection tunnel to the working tunnel only when the working tunnel functions properly.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.46%" headers="mcps1.4.1.5.2.3.2.4.1.1 "><p>Wait to restore</p>
</td>
<td class="cellrowborder" valign="top" width="8.19%" headers="mcps1.4.1.5.2.3.2.4.1.2 "><p>â</p>
</td>
<td class="cellrowborder" valign="top" width="65.35%" headers="mcps1.4.1.5.2.3.2.4.1.3 "><p>Switches traffic from a protection tunnel to a working tunnel after the working tunnel recovers, which happens after the wait-to-restore (WTR) timer elapses.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.46%" headers="mcps1.4.1.5.2.3.2.4.1.1 "><p>No request</p>
</td>
<td class="cellrowborder" valign="top" width="8.19%" headers="mcps1.4.1.5.2.3.2.4.1.2 "><p>Lowest</p>
</td>
<td class="cellrowborder" valign="top" width="65.35%" headers="mcps1.4.1.5.2.3.2.4.1.3 "><p>There is no switching request.</p>
</td>
</tr>
</tbody>
</table>
</div>
</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring an MPLS TE tunnel protection group, create an MPLS TE working tunnel and a protection tunnel.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li><p>A tunnel protection group uses a configured protection tunnel to protect a working tunnel, which improves tunnel reliability. Configuring working and protection tunnels over separate links is recommended.</p>
</li><li><p>The working and protection tunnels must be bidirectional. The following types of bidirectional tunnels are supported:</p>
<ul><li><p>Static bidirectional associated LSPs</p>
</li><li><p>Dynamic bidirectional associated LSPs</p>
</li><li><p>Static bidirectional co-routed LSPs</p>
</li></ul>
</li></ul>
</div></div>
</div>
</div>

<ul class="ullinks">
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0163.html">Creating a Tunnel Protection Group</a>
</dt>
<dd>
A configured protection tunnel can be bound to a working tunnel to form a tunnel protection group. If the working tunnel fails, traffic switches to the protection tunnel, which improves tunnel reliability.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0166.html">(Optional) Configuring the Protection Switching Trigger Mechanism</a>
</dt>
<dd>
This section describes how to configure the protection switching trigger mechanism for a tunnel protection group to forcibly switch traffic to the working or protection tunnel. Alternatively, you can perform a traffic switchover manually.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0167.html">Verifying the Tunnel Protection Group Configuration</a>
</dt>
<dd>
After configuring a tunnel protection group, run display commands to view information about the tunnel protection group and the binding between the working and protection tunnels.</dd>
</dl>
</ul>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0000.html">MPLS TE Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0311.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0270.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>