
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring the Mode in Which a BGP Label Inherits the QoS Priority in an Outer Tunnel Label">
<meta name="abstract" content="When data packets are transmitted from a core ASBR to an AGG ASBR, you can determine whether a BGP label inherits the QoS priority carried in an outer tunnel label.">
<meta name="description" content="When data packets are transmitted from a core ASBR to an AGG ASBR, you can determine whether a BGP label inherits the QoS priority carried in an outer tunnel label.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_seamless_mpls_cfg_0013.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_seamless_mpls_cfg_00451.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_seamless_mpls_cfg_0018.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Seamless MPLS">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Seamless MPLS">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="Seamless MPLS">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="Seamless MPLS">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="b00896120">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172368655">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring the Mode in Which a BGP Label Inherits the QoS Priority in an Outer Tunnel Label</title>
</head>
<body><a name="EN-US_TASK_0172368655"></a><a name="EN-US_TASK_0172368655"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring the Mode in Which a BGP Label Inherits the QoS Priority in an Outer Tunnel Label</h1>
<div class="taskbody" id="taskbody1504511229214047"><p id="shortdesc125677258214047">When data packets are transmitted from a core ASBR to an AGG ASBR, you can determine whether a BGP label inherits the QoS priority carried in an outer tunnel label.</p>
<div class="context"><a name="EN-US_TASK_0172368655__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0172368655__context642562908214047"><p id="EN-US_TASK_0172368655__p2007017640214047">In the inter-AS seamless MPLS or inter-AS seamless MPLS+HVPN networking, each packet arriving at a core ASBR or AGG ASBR carries an inner private label, a BGP LSP label, and an outer MPLS tunnel label. The core ASBR and AGG ASBR remove outer MPLS tunnel labels from packets before sending the packets to each other. If a BGP LSP label in a packet carries a QoS priority different from that in the outer MPLS tunnel label in the packet, you can configure the core ASBR or AGG ASBR to determine whether the BGP LSP label inherits the QoS priority carried in the outer MPLS tunnel label to be removed.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172368655__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0172368655__steps770280585214047"><li id="EN-US_TASK_0172368655__step860119077214047"><span id="EN-US_TASK_0172368655__cmd783000062214334">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172368655__cmdname271100468214334">system-view</span></b></a></span></span><p><p id="EN-US_TASK_0172368655__p886285489214334">The system view is displayed.</p>
</p></li><li id="EN-US_TASK_0172368655__step1881674651214047"><span id="EN-US_TASK_0172368655__cmd1461673635214047">Run <a href="cmdqueryname=bgp"><b><span class="cmdname" id="EN-US_TASK_0172368655__cmdname1755800554214047">bgp</span></b></a> <i><span class="varname" id="EN-US_TASK_0172368655__varname677290221214047">as-number</span></i></span><p><p id="EN-US_TASK_0172368655__p88760817816">The BGP view is displayed.</p>
</p></li><li id="EN-US_TASK_0172368655__step1372413023214047"><span id="EN-US_TASK_0172368655__cmd1531786912214334">(Optional) Run <span><a href="cmdqueryname=ipv4-family+unicast"><b><span class="cmdname" id="EN-US_TASK_0172368655__cmdname377731655214334">ipv4-family</span></b></a> <strong><span id="EN-US_TASK_0172368655__cmdparmname1888793759214334">unicast</span></strong></span></span><p><p id="EN-US_TASK_0172368655__p1592440040214334">The BGP-IPv4 unicast address family view is displayed.</p>
</p></li><li id="EN-US_TASK_0172368655__step1062227605214047"><span id="EN-US_TASK_0172368655__cmd827799724214047">Run <span><a href="cmdqueryname=peer+exp-mode+pipe+uniform"><b><span class="cmdname" id="EN-US_TASK_0172368655__cmdname1547226508214047">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0172368655__varname1327219839214334">group-name</span></i> | <i><span class="varname" id="EN-US_TASK_0172368655__varname152976269214334">ipv4-address</span></i> } <strong><span id="EN-US_TASK_0172368655__cmdparmname55703736214334">exp-mode</span></strong> { <strong><span id="EN-US_TASK_0172368655__cmdparmname832680495214334">pipe</span></strong> | <strong><span id="EN-US_TASK_0172368655__cmdparmname1524702124214334">uniform</span></strong> }</span></span><p><p id="EN-US_TASK_0172368655__p1030677634214334">The mode in which a BGP label inherits the QoS priority in the outer tunnel label is specified.</p>
<div class="p" id="EN-US_TASK_0172368655__p1541430547214334">You can configure either of the following parameters:<ul id="EN-US_TASK_0172368655__ul1564851695214334"><li id="EN-US_TASK_0172368655__li1572783945214334"><p id="EN-US_TASK_0172368655__p403552692214334"><a name="EN-US_TASK_0172368655__li1572783945214334"></a><a name="li1572783945214334"></a><strong><span id="EN-US_TASK_0172368655__cmdparmname756737218214334">uniform</span></strong>: The BGP label inherits the QoS priority carried in the outer MPLS tunnel label.</p>
</li><li id="EN-US_TASK_0172368655__li1862048716214334"><p id="EN-US_TASK_0172368655__p173582081214334"><a name="EN-US_TASK_0172368655__li1862048716214334"></a><a name="li1862048716214334"></a><strong><span id="EN-US_TASK_0172368655__cmdparmname1111242741214334">pipe</span></strong>: The QoS priority carried in the BGP label does not change, and the BGP label does not inherit the QoS priority carried in the outer MPLS tunnel label.</p>
</li></ul>
</div>
<div class="p" id="EN-US_TASK_0172368655__p465782055214334">The default QoS priority inheriting mode varies according to the outer MPLS tunnel type:<ul id="EN-US_TASK_0172368655__ul582995868214334"><li id="EN-US_TASK_0172368655__li2090200190214334"><p id="EN-US_TASK_0172368655__p1457095704214334"><a name="EN-US_TASK_0172368655__li2090200190214334"></a><a name="li2090200190214334"></a>LDP: By default, the BGP label inherits the QoS priority carried in the outer MPLS tunnel label.</p>
</li><li id="EN-US_TASK_0172368655__li1911085996214334"><p id="EN-US_TASK_0172368655__p1856910240214334"><a name="EN-US_TASK_0172368655__li1911085996214334"></a><a name="li1911085996214334"></a>TE: By default, the BGP label does not inherit the QoS priority carried in the outer MPLS tunnel label.</p>
</li></ul>
</div>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_seamless_mpls_cfg_0013.html">Configuring Inter-AS Seamless MPLS
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_seamless_mpls_cfg_00451.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_seamless_mpls_cfg_0018.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>