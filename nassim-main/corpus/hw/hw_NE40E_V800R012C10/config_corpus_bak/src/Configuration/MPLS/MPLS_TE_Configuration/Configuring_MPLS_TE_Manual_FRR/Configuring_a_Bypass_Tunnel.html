
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a Bypass Tunnel">
<meta name="abstract" content="A path and attributes must be configured for a bypass tunnel after TE manual FRR is enabled on a PLR.">
<meta name="description" content="A path and attributes must be configured for a bypass tunnel after TE manual FRR is enabled on a PLR.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0048.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0049.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0250.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,te-p2pvrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="l00468467">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00845984">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172368198">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring a Bypass Tunnel</title>
</head>
<body><a name="EN-US_TASK_0172368198"></a><a name="EN-US_TASK_0172368198"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a Bypass Tunnel</h1>
<div class="taskbody"><p>A path and attributes must be configured for a bypass tunnel after TE manual FRR is enabled on a PLR.</p>
<div class="context"><a name="EN-US_TASK_0172368198__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Bypass tunnels are established on selected links or nodes that are not on the protected primary tunnel. If a link or node on the protected primary tunnel is used for a bypass tunnel and fails, the bypass tunnel also fails to protect the primary tunnel.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>TE FRR does not take effect if multiple nodes or links fail simultaneously. After FRR switching is performed to switch data from the primary tunnel to a bypass tunnel, the bypass tunnel must remain Up when forwarding data. If the bypass tunnel goes Down, the protected traffic is interrupted, and FRR fails. Even though the bypass tunnel goes Up again, traffic is unable to flow through the bypass tunnel but travels through the primary tunnel after the primary tunnel recovers or is reestablished.</li></ul>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172368198__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=interface+tunnel"><b><span class="cmdname">interface tunnel</span></b></a> <i><span class="varname">tunnel-number</span></i></span></span><p><p>The view of the bypass tunnel interface is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=tunnel-protocol+mpls+te"><b><span class="cmdname">tunnel-protocol mpls te</span></b></a></span></span><p><p>MPLS TE is configured.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=destination"><b><span class="cmdname">destination</span></b></a> <i><span class="varname">ip-address</span></i></span></span><p><p>The LSR ID of an MP is configured as the destination address of the bypass tunnel.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=mpls+te+tunnel-id"><b><span class="cmdname">mpls te tunnel-id</span></b></a> <i><span class="varname">tunnel-id</span></i></span></span><p><p>The bypass tunnel ID is configured.</p>
</p></li><li><span>Run <a href="cmdqueryname=mpls+te+bypass-tunnel"><b><span class="cmdname">mpls te bypass-tunnel</span></b></a></span><p><p>A bypass tunnel is configured.</p>
</p></li><li><span>Run <a href="cmdqueryname=mpls+te+protected-interface"><b><span class="cmdname">mpls te protected-interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span><p><p>The interface to be protected by the bypass tunnel is specified.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=mpls+te+path+explicit-path"><b><span class="cmdname">mpls te path explicit-path</span></b></a> <i><span class="varname">path-name</span></i> [ <strong><span>secondary</span></strong> ]</span><p><p>An explicit path is configured for the bypass tunnel.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Physical links of a bypass tunnel cannot overlap protected physical links of the primary tunnel.</p>
</div></div>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=mpls+te+bandwidth"><b><span class="cmdname">mpls te bandwidth</span></b></a> <strong><span>ct0</span></strong> <i><span class="varname">bandwidth</span></i></span><p><p>Bandwidth is configured for the bypass tunnel.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0172368198__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Follow-up Procedure</h4>
<div class="p"><p>Routes and labels are automatically recorded after a bypass tunnel is configured.</p>
<p>When a tunnel is specified to protect a physical interface, the corresponding LSP becomes the bypass LSP. A bypass tunnel is established over a configured explicit path on the PLR.</p>
<p>If a primary tunnel fails, traffic switches to a bypass tunnel. If the bypass tunnel goes Down, the protected traffic is interrupted, and FRR fails. Even though the bypass tunnel goes Up, traffic cannot be forwarded. Traffic will be forwarded only after the primary tunnel has been restored or re-established.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li><p>The <a href="cmdqueryname=mpls+te+fast-reroute"><b><span class="cmdname">mpls te fast-reroute</span></b></a> command and the <a href="cmdqueryname=mpls+te+bypass-tunnel"><b><span class="cmdname">mpls te bypass-tunnel</span></b></a> command cannot be configured on the same tunnel interface.</p>
</li><li><p>After FRR switches traffic from a primary tunnel to a bypass tunnel, the bypass tunnel must be kept Up, and its path must remain unchanged when transmitting traffic. If the bypass tunnel goes Down, the protected traffic is interrupted, and FRR fails.</p>
</li></ul>
</div></div>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0048.html">Configuring MPLS TE Manual FRR
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0049.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0250.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>