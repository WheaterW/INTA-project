
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring Graceful Deletion for LDP Sessions">
<meta name="abstract" content="LDP graceful deletion can be configured to speed up LDP FRR traffic switching.">
<meta name="description" content="LDP graceful deletion can be configured to speed up LDP FRR traffic switching.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0049.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0050.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0213.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="ldp-p2pvrp,w00800033,z00545680,w00556928,w00606909,z00809835,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS LDP">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS LDP">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS LDP">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS LDP">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="z00809835">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="b00896120">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172368496">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring Graceful Deletion for LDP Sessions</title>
</head>
<body><a name="EN-US_TASK_0172368496"></a><a name="EN-US_TASK_0172368496"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring Graceful Deletion for LDP Sessions</h1>
<div class="taskbody"><p>LDP graceful deletion can be configured to speed up LDP FRR traffic switching.</p>
<div class="context"><a name="EN-US_TASK_0172368496__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>LDP graceful deletion can be configured in the LDP-IGP synchronization or LDP FRR scenario to speed up traffic switching. It helps implement uninterrupted traffic transmission during traffic switching, which improves reliability of the entire network.</p>
<p>If both the primary link and the LDP session on that link also go down, LDP immediately instructs the upstream device to withdraw labels and triggers LDP Auto FRR. LSP convergence on the backup link requires LDP to distribute labels to the upstream device again, which prolongs convergence and FRR traffic switching. As a result, packet loss occurs.</p>
<p>If LDP graceful deletion is configured and the LDP session goes down, LDP delays deleting the LDP session and keeps the relevant labels and LSP. The LSP on the backup link does not require LDP to distribute labels to the upstream device again, which shortens FRR traffic switching and reduces packet loss.</p>
<p>Perform the following configuration on the LDP FRR-enabled LSR.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172368496__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=mpls+ldp"><b><span class="cmdname">mpls ldp</span></b></a></span><p><p>The MPLS-LDP view is displayed.</p>
</p></li><li><span><a href="cmdqueryname=graceful-delete"><b><span class="cmdname">graceful-delete</span></b></a></span><p><p>LDP graceful deletion is enabled.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=graceful-delete+timer"><b><span class="cmdname">graceful-delete timer</span></b></a> <i><span class="varname">timer</span></i></span><p><p>The graceful deletion timer value is set.</p>
</p><p><p>After the LDP session goes down, forwarding entries on the LSR remain before the graceful deletion timer expires.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If the value of the graceful delete timer is too large, the invalid LSP will be kept for a long time, consuming system resources.</p>
</div></div>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0049.html">Configuring LDP Auto FRR
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0050.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0213.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>