
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Setting Timers for mLDP P2MP FRR Link Protection">
<meta name="abstract" content="Timers can be set for mLDP P2MP FRR link protection, which helps properly perform a traffic switchover.">
<meta name="description" content="Timers can be set for mLDP P2MP FRR link protection, which helps properly perform a traffic switchover.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0203.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0211.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0301.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="ldp-p2pvrp,w00800033,z00545680,w00556928,w00606909,z00809835,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS LDP">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS LDP">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS LDP">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS LDP">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="z00809835">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="b00896120">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172368543">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Setting Timers for mLDP P2MP FRR Link Protection</title>
</head>
<body><a name="EN-US_TASK_0172368543"></a><a name="EN-US_TASK_0172368543"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">(Optional) Setting Timers for mLDP P2MP FRR Link Protection</h1>



<div class="taskbody"><p>Timers can be set for mLDP P2MP FRR link protection, which helps properly perform a traffic switchover.</p>

<div class="context"><a name="EN-US_TASK_0172368543__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p">The following timers can be set for mLDP P2MP FRR link protection:<ul><li><p>Delay timer for deleting mLDP P2MP LSP labels: This timer delays in deleting labels for a faulty mLDP P2MP LSP, preventing local link flapping from spreading globally.</p>
</li><li><p>Timer for a downstream node to wait for an MBB Notification message sent by an upstream node: Within this timer period, a downstream node confirms that a branch LSP is successfully established only after receiving an MBB Notification message replied by an upstream node during MBB LSP establishment. This timer sets the period of time for the downstream node to wait for an MBB Notification message.</p>
</li><li><p>Timer for delaying an MBB LSP switchover: After an MBB LSP is established, LSP switching is delayed to ensure the proper traffic switching on the forwarding and control planes.</p>
</li></ul>
</div>
<p>Default timer values are recommended.</p>
</div></div>

<div class="steps-unordered"><a name="EN-US_TASK_0172368543__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul>
<li><span>Configure a delay timer for deleting mLDP P2MP LSP labels.</span>
<ol>
<li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li>
<li class="substepexpand"><span>Run <span><a href="cmdqueryname=mpls+ldp"><b><span class="cmdname">mpls ldp</span></b></a></span></span><p><p>The MPLS-LDP view is displayed.</p>
</p></li>
<li class="substepexpand"><span>Run <span><a href="cmdqueryname=mldp+p2mp"><b><span class="cmdname">mldp p2mp</span></b></a></span></span><p><p>mLDP P2MP is enabled globally.</p>
</p></li>
<li class="substepexpand"><span>Run <span><a href="cmdqueryname=mldp+label-withdraw-delay"><b><span class="cmdname">mldp label-withdraw-delay</span></b></a> <i><span class="varname">delay-time-value</span></i></span></span><p><p>A delay timer is set for deleting mLDP P2MP LSP labels.</p>
</p></li>
<li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li>
</ol>

</li>
<li><span>Configure a timer for a downstream node to wait for an MBB Notification message sent by an upstream node.</span>
<ol>
<li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li>
<li class="substepexpand"><span>Run <span><a href="cmdqueryname=mpls+ldp"><b><span class="cmdname">mpls ldp</span></b></a></span></span><p><p>The MPLS-LDP view is displayed.</p>
</p></li>
<li class="substepexpand"><span>Run <span><a href="cmdqueryname=mldp+p2mp"><b><span class="cmdname">mldp p2mp</span></b></a></span></span><p><p>mLDP P2MP is enabled globally.</p>
</p></li>
<li class="substepexpand"><span>Run <span><a href="cmdqueryname=mldp+make-before-break"><b><span class="cmdname">mldp make-before-break</span></b></a></span></span><p><p>The MBB capability is configured.</p>
</p></li>
<li class="substepexpand"><span>Run <span><a href="cmdqueryname=mldp+make-before-break+timer+wait-ack"><b><span class="cmdname">mldp make-before-break timer wait-ack</span></b></a> <i><span class="varname">wait-ack-time-value</span></i></span></span><p><p>A timer is set for a downstream node to wait for an MBB Notification message sent by an upstream node.</p>
</p></li>
<li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li>
</ol>

</li>
<li><span>Configure a timer for delaying an MBB LSP switchover.</span>
<ol>
<li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li>
<li class="substepexpand"><span>Run <span><a href="cmdqueryname=mpls+ldp"><b><span class="cmdname">mpls ldp</span></b></a></span></span><p><p>The MPLS-LDP view is displayed.</p>
</p></li>
<li class="substepexpand"><span>Run <span><a href="cmdqueryname=mldp+p2mp"><b><span class="cmdname">mldp p2mp</span></b></a></span></span><p><p>mLDP P2MP is enabled globally.</p>
</p></li>
<li class="substepexpand"><span>Run <span><a href="cmdqueryname=mldp+make-before-break"><b><span class="cmdname">mldp make-before-break</span></b></a></span></span><p><p>The MBB capability is configured.</p>
</p></li>
<li class="substepexpand"><span>Run <span><a href="cmdqueryname=mldp+make-before-break+timer+switch-delay"><b><span class="cmdname">mldp make-before-break timer switch-delay</span></b></a> <i><span class="varname">switch-delay-time-value</span></i></span></span><p><p>A timer for delaying an MBB LSP switchover is configured.</p>
</p></li>
<li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li>
</ol>

</li>
</ul></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0203.html">Configuring mLDP P2MP FRR Link Protection
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0211.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0301.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>