
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring the Handshake Function">
<meta name="abstract" content="The handshake function helps RSVP key authentication prevent replay attacks.">
<meta name="description" content="The handshake function helps RSVP key authentication prevent replay attacks.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0018.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0021.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0023.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,te-p2pvrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="l00468467">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00845984">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172368163">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring the Handshake Function</title>
</head>
<body><a name="EN-US_TASK_0172368163"></a><a name="EN-US_TASK_0172368163"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring the Handshake Function</h1>
<div class="taskbody"><p>The handshake function helps RSVP key authentication prevent replay attacks.</p>
<div class="context"><a name="EN-US_TASK_0172368163__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>If the handshake function is configured between neighbors and the lifetime is configured, the lifetime must be greater than the interval at which RSVP update messages are sent. If the lifetime is smaller than the interval at which RSVP update messages are sent, authentication relationships may be deleted because no RSVP update message is received within the lifetime. As a result, the handshake mechanism is used again when a new update message is received. An RSVP-TE tunnel may be deleted or fail to be established.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172368163__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure the handshake function in the interface view.</span><ol id="EN-US_TASK_0172368163__substeps_01"><li class="substepexpand" id="EN-US_TASK_0172368163__substep362360670214045"><span id="EN-US_TASK_0172368163__cmd1002769416214331">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172368163__cmdname1425940539214331">system-view</span></b></a></span></span><p><p id="EN-US_TASK_0172368163__p702966710214331">Return to the system view.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368163__substep1398815134214045"><span id="EN-US_TASK_0172368163__cmd170556396214331">Run <span><a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0172368163__cmdname1185418868214331">interface</span></b></a> <i><span class="varname" id="EN-US_TASK_0172368163__varname1484365529214331">interface-type interface-number</span></i></span></span><p><p id="EN-US_TASK_0172368163__p1499954167214331">The view of the interface on which the MPLS TE tunnel is established is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368163__substep2086333981214045"><span id="EN-US_TASK_0172368163__cmd902230451214045">Run <span><a href="cmdqueryname=mpls+rsvp-te+authentication+handshake"><b><span class="cmdname" id="EN-US_TASK_0172368163__cmdname1975580440214045">mpls rsvp-te authentication handshake</span></b></a></span></span><p><p id="EN-US_TASK_0172368163__p1484664658214331">The handshake function is enabled.</p>
<div class="note" id="EN-US_TASK_0172368163__note531825107214331"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172368163__p557634535214331">The task of "Configuring an RSVP Authentication Mode" must be complete before the RSVP handshake function is configured.</p>
</div></div>
<p id="EN-US_TASK_0172368163__p1498019280214331">The handshake function helps a device to establish an RSVP neighbor relationship with its neighbor. If a device receives RSVP messages from a neighbor, with which the device has not established an RSVP authentication relationship, the device will send Challenge messages carrying local identifier to this neighbor. After receiving the Challenge messages, the neighbor returns Response messages carrying the identifier the same as that in the Challenge messages. After receiving the Response messages, the local end checks identifier carried in the Response messages. If identifier in the Response messages is the same as the local one, the device determines to establish an RSVP authentication relationship with its neighbor.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368163__substep1040203560214045"><span id="EN-US_TASK_0172368163__cmd2144033754214331">Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172368163__cmdname1048394237214331">commit</span></b></a></span></span><p><p id="EN-US_TASK_0172368163__p231571661214331">The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure the handshake function in the MPLS RSVP-TE peer view.</span><ol id="EN-US_TASK_0172368163__substeps_02"><li class="substepexpand" id="EN-US_TASK_0172368163__substep207738719214045"><span id="EN-US_TASK_0172368163__cmd929174037214331">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172368163__cmdname1294169692214331">system-view</span></b></a></span></span><p><p id="EN-US_TASK_0172368163__p2076895283214331">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368163__substep661948900214045"><span id="EN-US_TASK_0172368163__cmd683491176214331">Run <span><a href="cmdqueryname=mpls"><b><span class="cmdname" id="EN-US_TASK_0172368163__cmdname556074058214331">mpls</span></b></a></span></span><p><p id="EN-US_TASK_0172368163__p130798484214331">The MPLS view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368163__substep2048916843214045"><span id="EN-US_TASK_0172368163__cmd1245100656214045">Run <span><a href="cmdqueryname=mpls+rsvp-te+peer"><b><span class="cmdname" id="EN-US_TASK_0172368163__cmdname656797802214045">mpls rsvp-te peer</span></b></a> <i><span class="varname" id="EN-US_TASK_0172368163__varname744154930214331">peer-addr</span></i></span></span><p><p id="EN-US_TASK_0172368163__p7673193518441">The MPLS RSVP-TE neighbor view is displayed.</p>
</p><p><ul id="EN-US_TASK_0172368163__ul1920847265214045"><li id="EN-US_TASK_0172368163__li1286235985214045"><p id="EN-US_TASK_0172368163__p1197809193214045"><a name="EN-US_TASK_0172368163__li1286235985214045"></a><a name="li1286235985214045"></a>If <i><span class="varname" id="EN-US_TASK_0172368163__varname718538847214331">ip-address</span></i> is set to an interface IP address of a neighbor, not the neighbor LSR ID, the handshake function will only take effect on that neighbor interface.</p>
</li><li id="EN-US_TASK_0172368163__li591817574214045"><p id="EN-US_TASK_0172368163__p1681196961214045"><a name="EN-US_TASK_0172368163__li591817574214045"></a><a name="li591817574214045"></a>If <i><span class="varname" id="EN-US_TASK_0172368163__varname1991884176214331">ip-address</span></i> is set to a neighbor LSR ID, the handshake function will take effect on all interfaces of the neighbor.</p>
</li></ul>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368163__substep1995319952214045"><span id="EN-US_TASK_0172368163__cmd237801712214045">Run <span><a href="cmdqueryname=mpls+rsvp-te+authentication+handshake"><b><span class="cmdname" id="EN-US_TASK_0172368163__cmdname457710871214045">mpls rsvp-te authentication handshake</span></b></a></span></span><p><p id="EN-US_TASK_0172368163__p1912491959214331">The handshake function is enabled.</p>
<div class="note" id="EN-US_TASK_0172368163__note275846377214331"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172368163__p1880348013214331">The task of "Configuring an RSVP Authentication Mode" must be complete before the RSVP handshake function is configured. The handshake can only take effect after it is configured on both ends of an RSVP authentication relationship.</p>
</div></div>
<p id="EN-US_TASK_0172368163__p2018895446214331">The handshake function helps a device to establish an RSVP neighbor relationship with its neighbor. If a device receives RSVP messages from a neighbor, with which the device has not established an RSVP authentication relationship, the device will send Challenge messages carrying local identifier to this neighbor. After receiving the Challenge messages, the neighbor returns Response messages carrying the identifier the same as that in the Challenge messages. After receiving the Response messages, the local end checks identifier carried in the Response messages. If identifier in the Response messages is the same as the local one, the device determines to establish an RSVP authentication relationship with its neighbor.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368163__substep1162462440214045"><span id="EN-US_TASK_0172368163__cmd50441757214331">Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172368163__cmdname107521441214331">commit</span></b></a></span></span><p><p id="EN-US_TASK_0172368163__p213136397214331">The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0018.html">Configuring RSVP Authentication
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0021.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0023.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>