
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring LDP Keychain Authentication for a TCP Connection">
<meta name="abstract" content="LDP keychain authentication can be configured to improve the security of a TCP connection used to establish an LDP session. LDP authentication is configured on LSRs at both ends of an LDP session.">
<meta name="description" content="LDP keychain authentication can be configured to improve the security of a TCP connection used to establish an LDP session. LDP authentication is configured on LSRs at both ends of an LDP session.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0055.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0056.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0057_new.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="ldp-p2pvrp,w00800033,z00545680,w00556928,w00606909,z00809835,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS LDP">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS LDP">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS LDP">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS LDP">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="z00809835">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="b00896120">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172368531">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring LDP Keychain Authentication for a TCP Connection</title>
</head>
<body><a name="EN-US_TASK_0172368531"></a><a name="EN-US_TASK_0172368531"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring LDP Keychain Authentication for a TCP Connection</h1>
<div class="taskbody"><p>LDP keychain authentication can be configured to improve the security of a TCP connection used to establish an LDP session. LDP authentication is configured on LSRs at both ends of an LDP session.</p>
<div class="context"><a name="EN-US_TASK_0172368531__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>To help improve LDP session security, keychain authentication can be configured for a TCP connection over which an LDP session has been established.</p>
<p>During keychain authentication, a group of passwords are defined in the format of a password string, and each password is associated with a specified encryption and decryption algorithm, such as MD5 or secure hash algorithm-1 (SHA-1), and is assigned with a validity period. The system selects a valid password based on the user configuration before sending or receiving a packet. Based on the validity period of the password, the system uses the encryption algorithm matching the password to encrypt the packet before sending it, and uses the decryption algorithm matching the password to decrypt the packet before accepting it. In addition, the system automatically switches to a new valid password based on the password validity period, which minimizes password decryption risks if the password is not changed for a long time. </p>
<div class="p">You can configure either LDP MD5 authentication or LDP keychain authentication as required:<ul><li><p>The MD5 algorithm is easy to configure and generates a single password, which can only be changed manually. MD5 authentication applies to networks requiring short-period encryption.</p>
</li><li><p>Keychain authentication involves a set of passwords, which can be automatically switched based on the configuration. However, keychain authentication is complex to configure and applies to networks requiring high security.</p>
</li></ul>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>LDP authentication configurations are prioritized in descending order: for a single peer, for a specified peer group, and for all peers. Keychain authentication and MD5 authentication are mutually exclusive for configurations with the same priority. Keychain authentication and MD5 authentication can be configured simultaneously for LDP peers with different priorities, but only the configuration with a higher priority takes effect for a specified LDP peer. For example, if MD5 authentication is configured for Peer 1 and then keychain authentication is configured for all peers, MD5 authentication remains effective on Peer 1. Keychain authentication takes effect on other peers.</p>
<p>As MD5 is insecure, you are advised to use a more secure authentication mode.</p>
</div></div>
</div>
<p>Before configuring LDP keychain authentication for a TCP connection, complete the following task:</p>
<ul><li><a href="dc_vrp_keychain_cfg_0000.html">Configure a global keychain.</a></li></ul>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172368531__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure LDP keychain authentication <span>for a single peer</span>.</span><ol id="EN-US_TASK_0172368531__substeps_01"><li class="substepexpand" id="EN-US_TASK_0172368531__substep1044182902214047"><span id="EN-US_TASK_0172368531__cmd345670630214047">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172368531__cmdname206705620214047">system-view</span></b></a></span><p><p id="EN-US_TASK_0172368531__p45933381049">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368531__substep1894764287214047"><span id="EN-US_TASK_0172368531__cmd268370246214047">Run <a href="cmdqueryname=mpls+ldp"><b><span class="cmdname" id="EN-US_TASK_0172368531__cmdname1207481538214047">mpls ldp</span></b></a></span><p><p id="EN-US_TASK_0172368531__p1437213511042">The MPLS-LDP view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368531__substep1500724802214047"><span id="EN-US_TASK_0172368531__cmd486313199214047">Run <a href="cmdqueryname=authentication+key-chain+peer+name"><b><span class="cmdname" id="EN-US_TASK_0172368531__cmdname1162405937214047">authentication key-chain</span></b></a> <strong><span id="EN-US_TASK_0172368531__cmdparmname497942625020">peer</span></strong> <i><span class="varname" id="EN-US_TASK_0172368531__varname3979142610509">peer-id</span></i> <strong><span id="EN-US_TASK_0172368531__cmdparmname19979162617500">name</span></strong> <i><span class="varname" id="EN-US_TASK_0172368531__varname1597942665016">keychain-name</span></i> LDP keychain authentication is enabled, and the referenced keychain name is specified.</span><p><div class="notice" id="EN-US_TASK_0172368531__note1666894764214047"><span class="noticetitle"><img src="../../../../public_sys-resources/notice_3.0-en-us.png"> </span><div class="noticebody"><ul id="EN-US_TASK_0172368531__ul15305116327"><li id="EN-US_TASK_0172368531__li11530121111326">Configuring LDP keychain authentication leads to reestablishment of an LDP session and deletes the LSP associated with the session.</li></ul>
</div></div>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368531__substep1015952574214047"><span id="EN-US_TASK_0172368531__cmd472433921214047">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172368531__cmdname26077618214047">commit</span></b></a></span><p><p id="EN-US_TASK_0172368531__p1622954418513">The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure LDP keychain authentication for LDP peers in a specified peer group.</span><ol id="EN-US_TASK_0172368531__substeps_02"><li class="substepexpand" id="EN-US_TASK_0172368531__substep1575681743214047"><span id="EN-US_TASK_0172368531__cmd1862203444214047">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172368531__cmdname206902622214047">system-view</span></b></a></span><p><p id="EN-US_TASK_0172368531__p181960321366">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368531__substep1880352918214047"><span id="EN-US_TASK_0172368531__cmd722143574214047">Run <a href="cmdqueryname=mpls+ldp"><b><span class="cmdname" id="EN-US_TASK_0172368531__cmdname957264230214047">mpls ldp</span></b></a></span><p><p id="EN-US_TASK_0172368531__p8977748068">The MPLS-LDP view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368531__substep805519185214047"><span id="EN-US_TASK_0172368531__cmd624031607214047">Run <a href="cmdqueryname=authentication+key-chain+peer-group+name"><b><span class="cmdname" id="EN-US_TASK_0172368531__cmdname679046304214047">authentication key-chain peer-group</span></b></a> <i><span class="varname" id="EN-US_TASK_0172368531__varname685619545214047">ip-prefix-name</span></i> <strong><span id="EN-US_TASK_0172368531__cmdparmname435804066214047">name</span></strong> <i><span class="varname" id="EN-US_TASK_0172368531__varname1511475281214047">keychain-name</span></i></span><p><p id="EN-US_TASK_0172368531__p13211681473">LDP keychain authentication is enabled for a specified peer group, and the configured keychain name is referenced.</p>
</p><p><p id="EN-US_TASK_0172368531__p1879375007214047">The range of peer IP addresses in a peer group is defined by the IP prefix list <i><span class="varname" id="EN-US_TASK_0172368531__varname16301158121713">ip-prefix-name</span></i>. Therefore, you need to configure an IP prefix list named <i><span class="varname" id="EN-US_TASK_0172368531__varname1161501300214047">ip-prefix-name</span></i> before you perform this step.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368531__substep1828889814214047"><span id="EN-US_TASK_0172368531__cmd1217664387214047">(Optional) Run <a href="cmdqueryname=authentication+exclude+peer"><b><span class="cmdname" id="EN-US_TASK_0172368531__cmdname357952003214047">authentication exclude</span></b></a> <strong><span id="EN-US_TASK_0172368531__cmdparmname1196518833214047">peer</span></strong> <i><span class="varname" id="EN-US_TASK_0172368531__varname690180103214047">peer-id</span></i></span><p><p id="EN-US_TASK_0172368531__p137071130373">The device is disabled from authenticating a specified LDP peer.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368531__substep746986708214047"><span id="EN-US_TASK_0172368531__cmd416200994214047">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172368531__cmdname373119280214047">commit</span></b></a></span><p><p id="EN-US_TASK_0172368531__p15867165017719">The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure LDP keychain authentication for all LDP peers.</span><ol id="EN-US_TASK_0172368531__substeps_03"><li class="substepexpand" id="EN-US_TASK_0172368531__substep1645417686214047"><span id="EN-US_TASK_0172368531__cmd1388126183214047">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172368531__cmdname1665236158214047">system-view</span></b></a></span><p><p id="EN-US_TASK_0172368531__p176940131483">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368531__substep1181970363214047"><span id="EN-US_TASK_0172368531__cmd1152156191214047">Run <a href="cmdqueryname=mpls+ldp"><b><span class="cmdname" id="EN-US_TASK_0172368531__cmdname2060715387214047">mpls ldp</span></b></a></span><p><p id="EN-US_TASK_0172368531__p7952227882">The MPLS-LDP view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368531__substep223836198214047"><span id="EN-US_TASK_0172368531__cmd1771113889214047">Run <a href="cmdqueryname=authentication+key-chain+all+name"><b><span class="cmdname" id="EN-US_TASK_0172368531__cmdname1092427620214047">authentication key-chain all</span></b></a> <strong><span id="EN-US_TASK_0172368531__cmdparmname1685459679214047">name</span></strong> <i><span class="varname" id="EN-US_TASK_0172368531__varname1712687526214047">keychain-name</span></i></span><p><p id="EN-US_TASK_0172368531__p697295745818">LDP keychain authentication is enabled for all LDP peers, and the configured keychain name is referenced.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368531__substep1669244933214047"><span id="EN-US_TASK_0172368531__cmd273224523214047">(Optional) Run <a href="cmdqueryname=authentication+exclude+peer"><b><span class="cmdname" id="EN-US_TASK_0172368531__cmdname906005424214047">authentication exclude</span></b></a> <strong><span id="EN-US_TASK_0172368531__cmdparmname669945512214047">peer</span></strong> <i><span class="varname" id="EN-US_TASK_0172368531__varname961807458214047">peer-id</span></i></span><p><p id="EN-US_TASK_0172368531__p164842595817">The device is disabled from authenticating a specified LDP peer.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368531__substep700612931214047"><span id="EN-US_TASK_0172368531__cmd548694816214047">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172368531__cmdname992699190214047">commit</span></b></a></span><p><p id="EN-US_TASK_0172368531__p1246912145913">The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0055.html">Configuring LDP Security Features
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0056.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0057_new.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>