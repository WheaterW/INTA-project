
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Alarm Thresholds for LDP LSPs">
<meta name="abstract" content="This section describes how to configure alarm thresholds for Label Distribution Protocol (LDP) label switched paths (LSPs).">
<meta name="description" content="This section describes how to configure alarm thresholds for Label Distribution Protocol (LDP) label switched paths (LSPs).">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mplsm_cfg_0011.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mplsm_cfg_0013.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="l00468467,w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS Common">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS Common">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS Common">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS Common">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="l00425560,l00468467">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="b00896120">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172368037">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Alarm Thresholds for LDP LSPs</title>
</head>
<body><a name="EN-US_TASK_0172368037"></a><a name="EN-US_TASK_0172368037"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Alarm Thresholds for LDP LSPs</h1>
<div class="taskbody"><p>This section describes how to configure alarm thresholds for Label Distribution Protocol (LDP) label switched paths (LSPs).</p>
<div class="steps"><a name="EN-US_TASK_0172368037__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=mpls"><b><span class="cmdname">mpls</span></b></a></span></span><p><p>The MPLS view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=mpls+ldp-lsp-number+threshold-alarm+upper-limit+lower-limit"><b><span class="cmdname">mpls ldp-lsp-number threshold-alarm</span></b></a> <strong><span>upper-limit</span></strong> <i><span class="varname">upper-limit-value</span></i> <strong><span>lower-limit</span></strong> <i><span class="varname">lower-limit-value</span></i></span></span><p><p>The upper and lower thresholds of alarms for LDP LSP usage are configured.</p>
</p><p><p>The parameters in this command are described as follows:</p>
<ul><li><i><span class="varname">upper-limit-value</span></i> specifies the upper threshold of alarms for LDP LSP usage. An alarm is generated when the proportion of established LDP LSPs to total supported LDP LSPs reaches the upper limit.</li><li><i><span class="varname">lower-limit-value</span></i> specifies the lower threshold of clear alarms for LDP LSP usage. A clear alarm is generated when the proportion of established LDP LSPs to total supported LDP LSPs falls below the lower limit.</li><li>The value of <i><span class="varname">upper-limit-value</span></i> must be greater than that of <i><span class="varname">lower-limit-value</span></i>.</li></ul>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li><p>This command configures the alarm threshold for LDP LSP usage. The alarm that the number of LSPs reached the upper threshold is generated only when the <a href="cmdqueryname=snmp-agent+trap+enable+feature-name+mpls_lspm+trap-name"><b><span class="cmdname">snmp-agent trap enable feature-name</span></b></a> <strong><span>mpls_lspm</span></strong> <strong><span>trap-name</span></strong> { <strong><span>hwmplslspthresholdexceed</span></strong> } command is configured, and the actual LDP LSP usage reaches the upper limit of the alarm threshold. The alarm that the number of LSPs fell below the lower threshold is generated only when the <a href="cmdqueryname=snmp-agent+trap+enable+feature-name+mpls_lspm+trap-name"><b><span class="cmdname">snmp-agent trap enable feature-name</span></b></a> <strong><span>mpls_lspm</span></strong> <strong><span>trap-name</span></strong> { <strong><span>hwmplslspthresholdexceedclear</span></strong> } command is configured, and the actual LDP LSP usage falls below the lower limit of the clear alarm threshold.</p>
</li><li><p>After the <a href="cmdqueryname=snmp-agent+trap+enable+feature-name+mpls_lspm+trap-name"><b><span class="cmdname">snmp-agent trap enable feature-name</span></b></a> <strong><span>mpls_lspm</span></strong> <strong><span>trap-name</span></strong> { <strong><span>hwmplslsptotalcountexceed</span></strong> | <strong><span>hwmplslsptotalcountexceedclear</span></strong> } command is run to enable LSP limit-crossing alarm and LSP limit-crossing clear alarm, an alarm is generated in the following situations:</p>
<ul><li><p>If the total number of LDP LSPs reaches the upper limit, a limit-crossing alarm is generated.</p>
</li><li><p>If the total number of LDP LSPs falls below 95% of the upper limit, a limit-crossing clear alarm is generated.</p>
</li></ul>
</li></ul>
</div></div>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mplsm_cfg_0011.html">Configuring MPLS Resource Threshold-related Alarms
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mplsm_cfg_0013.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>