
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring IGP TE (OSPF or IS-IS)">
<meta name="abstract" content="After IGP TE is configured on all LSRs in an MPLS domain, a TEDB is generated on each LSR.">
<meta name="description" content="After IGP TE is configured on all LSRs in an MPLS domain, a TEDB is generated on each LSR.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0217.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0226.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0219.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,te-p2pvrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="l00468467">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00845984">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172368111">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring IGP TE (OSPF or IS-IS)</title>
</head>
<body><a name="EN-US_TASK_0172368111"></a><a name="EN-US_TASK_0172368111"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring IGP TE (OSPF or IS-IS)</h1>
<div class="taskbody"><p>After IGP TE is configured on all LSRs in an MPLS domain, a TEDB is generated on each LSR.</p>
<div class="context"><a name="EN-US_TASK_0172368111__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0172368111__en-us_task_0172368101_context9758013214045"><p id="EN-US_TASK_0172368111__en-us_task_0172368101_p794167319214045">Either OSPF TE or IS-IS TE can be used:</p>
<div class="note" id="EN-US_TASK_0172368111__en-us_task_0172368101_note1195822667214045"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172368111__en-us_task_0172368101_p2039595643214045">If neither OSPF TE nor IS-IS TE is configured, LSRs do not generate TE LSAs or TE LSPs. As a result, TEDBs cannot be constructed.</p>
<p id="EN-US_TASK_0172368111__en-us_task_0172368101_p1259840454214045">TE tunnels cannot be used in inter-area scenarios. In an inter-area scenario, an explicit path can be configured, and the inbound and outbound interfaces of the explicit path must be specified, preventing a failure to establish a TE tunnel.</p>
</div></div>
<ul id="EN-US_TASK_0172368111__en-us_task_0172368101_ul1572908024214045"><li id="EN-US_TASK_0172368111__en-us_task_0172368101_li922555202214045"><p id="EN-US_TASK_0172368111__en-us_task_0172368101_p553348674214045"><a name="EN-US_TASK_0172368111__en-us_task_0172368101_li922555202214045"></a><a name="en-us_task_0172368101_li922555202214045"></a>OSPF TE</p>
<p id="EN-US_TASK_0172368111__en-us_task_0172368101_p708166518214045">OSPF TE uses Opaque Type 10 LSAs to carry TE attributes. The OSPF Opaque capability must be enabled on each LSR. In addition, TE LSAs are generated only when at least one OSPF neighbor is in the Full state.</p>
</li><li id="EN-US_TASK_0172368111__en-us_task_0172368101_li2415484214045"><p id="EN-US_TASK_0172368111__en-us_task_0172368101_p1942333942214045"><a name="EN-US_TASK_0172368111__en-us_task_0172368101_li2415484214045"></a><a name="en-us_task_0172368101_li2415484214045"></a>IS-IS TE</p>
<p id="EN-US_TASK_0172368111__en-us_task_0172368101_p1584184290214045">IS-IS TE uses the sub-time-length-value (sub-TLV) in the IS-reachable TLV (22) to carry TE attributes. The IS-IS wide metric attribute must be configured. Its value can be wide, compatible, or wide-compatible. </p>
</li></ul>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172368111__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul id="EN-US_TASK_0172368111__en-us_task_0172368101_steps-unordered283776039214045"><li id="EN-US_TASK_0172368111__en-us_task_0172368101_step1069637727214045"><span id="EN-US_TASK_0172368111__en-us_task_0172368101_cmd815668652214045">Configure OSPF TE.</span><ol id="EN-US_TASK_0172368111__en-us_task_0172368101_substeps1286017218214045"><li class="substepexpand" id="EN-US_TASK_0172368111__en-us_task_0172368101_substep794027862214045"><span id="EN-US_TASK_0172368111__en-us_task_0172368101_cmd1657093022214331">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172368111__en-us_task_0172368101_cmdname1708218624214331">system-view</span></b></a></span></span><p><p id="EN-US_TASK_0172368111__en-us_task_0172368101_p540506633214331">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368111__en-us_task_0172368101_substep67428736214045"><span id="EN-US_TASK_0172368111__en-us_task_0172368101_cmd1431004115214331">Run <span><a href="cmdqueryname=ospf"><b><span class="cmdname" id="EN-US_TASK_0172368111__en-us_task_0172368101_cmdname809587120214331">ospf</span></b></a> [ <i><span class="varname" id="EN-US_TASK_0172368111__en-us_task_0172368101_varname1401338368214331">process-id</span></i> ]</span></span><p><p id="EN-US_TASK_0172368111__en-us_task_0172368101_p2145417250214331">The OSPF view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368111__en-us_task_0172368101_substep1119847304214045"><span id="EN-US_TASK_0172368111__en-us_task_0172368101_cmd813709913214331">Run <span><a href="cmdqueryname=opaque-capability+enable"><b><span class="cmdname" id="EN-US_TASK_0172368111__en-us_task_0172368101_cmdname2116683269214331">opaque-capability enable</span></b></a></span></span><p><p id="EN-US_TASK_0172368111__en-us_task_0172368101_p1217640182214331">The OSPF Opaque capability is enabled.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368111__en-us_task_0172368101_substep2073847078214045"><span id="EN-US_TASK_0172368111__en-us_task_0172368101_cmd1988979895214331">Run <span><a href="cmdqueryname=area"><b><span class="cmdname" id="EN-US_TASK_0172368111__en-us_task_0172368101_cmdname860965617214331">area</span></b></a> <i><span class="varname" id="EN-US_TASK_0172368111__en-us_task_0172368101_varname927993347214331">area-id</span></i></span></span><p><p id="EN-US_TASK_0172368111__en-us_task_0172368101_p55046989214331">The OSPF area view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368111__en-us_task_0172368101_substep1737904006214045"><span id="EN-US_TASK_0172368111__en-us_task_0172368101_cmd552736666214331">Run <span><a href="cmdqueryname=mpls-te+enable"><b><span class="cmdname" id="EN-US_TASK_0172368111__en-us_task_0172368101_cmdname1292653016214331">mpls-te enable</span></b></a> [ <strong><span id="EN-US_TASK_0172368111__en-us_task_0172368101_cmdparmname1376668962214331">standard-complying</span></strong> ]</span></span><p><p id="EN-US_TASK_0172368111__en-us_task_0172368101_p1537208667214331">TE is enabled in the OSPF area.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368111__en-us_task_0172368101_substep505314638214045"><span id="EN-US_TASK_0172368111__en-us_task_0172368101_cmd1811688452214331">Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172368111__en-us_task_0172368101_cmdname1053299904214331">commit</span></b></a></span></span><p><p id="EN-US_TASK_0172368111__en-us_task_0172368101_p1985469899214331">The configuration is committed.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0172368111__en-us_task_0172368101_step880530075214045"><span id="EN-US_TASK_0172368111__en-us_task_0172368101_cmd759159048214045">Configure IS-IS TE.</span><ol id="EN-US_TASK_0172368111__en-us_task_0172368101_substeps131672305214045"><li class="substepexpand" id="EN-US_TASK_0172368111__en-us_task_0172368101_substep1630825644214045"><span id="EN-US_TASK_0172368111__en-us_task_0172368101_cmd1757110701214331">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172368111__en-us_task_0172368101_cmdname776198714214331">system-view</span></b></a></span></span><p><p id="EN-US_TASK_0172368111__en-us_task_0172368101_p1234613438214331">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368111__en-us_task_0172368101_substep1148307134214045"><span id="EN-US_TASK_0172368111__en-us_task_0172368101_cmd1364082610214331">Run <span><a href="cmdqueryname=isis"><b><span class="cmdname" id="EN-US_TASK_0172368111__en-us_task_0172368101_cmdname63762770214331">isis</span></b></a> [ <i><span class="varname" id="EN-US_TASK_0172368111__en-us_task_0172368101_varname794349474214331">process-id</span></i> ]</span></span><p><p id="EN-US_TASK_0172368111__en-us_task_0172368101_p1723977842214331">The IS-IS view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368111__en-us_task_0172368101_substep1090861566214045"><span id="EN-US_TASK_0172368111__en-us_task_0172368101_cmd519976996214331">Run <span><a href="cmdqueryname=cost-style"><b><span class="cmdname" id="EN-US_TASK_0172368111__en-us_task_0172368101_cmdname1281157613214331">cost-style</span></b></a> { <strong><span id="EN-US_TASK_0172368111__en-us_task_0172368101_cmdparmname2047592779214331">wide</span></strong> | <strong><span id="EN-US_TASK_0172368111__en-us_task_0172368101_cmdparmname1074855220214331">compatible</span></strong> | <strong><span id="EN-US_TASK_0172368111__en-us_task_0172368101_cmdparmname1763327432214331">wide-compatible</span></strong> }</span></span><p><p id="EN-US_TASK_0172368111__en-us_task_0172368101_p1287920412214331">The IS-IS wide metric attribute is set.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368111__en-us_task_0172368101_substep884974144214045"><span id="EN-US_TASK_0172368111__en-us_task_0172368101_cmd288699086214045">Run <span><a href="cmdqueryname=traffic-eng"><b><span class="cmdname" id="EN-US_TASK_0172368111__en-us_task_0172368101_cmdname1806696661214331">traffic-eng</span></b></a> [ <strong><span id="EN-US_TASK_0172368111__en-us_task_0172368101_cmdparmname1382111289214331">level-1</span></strong> | <strong><span id="EN-US_TASK_0172368111__en-us_task_0172368101_cmdparmname1791511782214331">level-2</span></strong> | <strong><span id="EN-US_TASK_0172368111__en-us_task_0172368101_cmdparmname546122547214331">level-1-2</span></strong> ]</span></span><p><p id="EN-US_TASK_0172368111__en-us_task_0172368101_p1438566491214045">IS-IS TE is enabled.</p>
<p id="EN-US_TASK_0172368111__en-us_task_0172368101_p85218523437">If no level is specified when IS-IS TE is enabled, IS-IS TE is valid for both Level-1 and Level-2 routers.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368111__en-us_task_0172368101_substep1885068708214045"><span id="EN-US_TASK_0172368111__en-us_task_0172368101_cmd1684635544415">(Optional) Run <a href="cmdqueryname=te-set-subtlv"><b><span class="cmdname" id="EN-US_TASK_0172368111__en-us_task_0172368101_cmdname1005269328214045">te-set-subtlv</span></b></a> { <strong><span id="EN-US_TASK_0172368111__en-us_task_0172368101_cmdparmname1022684406214045">bw-constraint</span></strong> <i><span class="varname" id="EN-US_TASK_0172368111__en-us_task_0172368101_varname213601978214045">bw-constraint-value</span></i> | <strong><span id="EN-US_TASK_0172368111__en-us_task_0172368101_cmdparmname876573617214045">lo-multiplier</span></strong> <i><span class="varname" id="EN-US_TASK_0172368111__en-us_task_0172368101_varname646286611214045">lo-multiplier-value</span></i> | <strong><span id="EN-US_TASK_0172368111__en-us_task_0172368101_cmdparmname2007878109214045">unreserve-bw-sub-pool</span></strong> <i><span class="varname" id="EN-US_TASK_0172368111__en-us_task_0172368101_varname1029286862214045">unreserve-bw-sub-pool-value</span></i> }<sup id="EN-US_TASK_0172368111__en-us_task_0172368101_sup2131645316214045"> *</sup></span><p><p id="EN-US_TASK_0172368111__en-us_task_0172368101_p2580192604414">The type of a sub-TLV carrying DiffServ-aware Traffic Engineering (DS-TE) attributes is specified.</p>
</p><p><p id="EN-US_TASK_0172368111__en-us_task_0172368101_p317635338214045">There are no unified
standards for sub-TLVs that carry DS-TE attributes in non-IETF mode.
To ensure interconnection between devices of different vendors, you
need to manually configure TLV values for these sub-TLVs. After TLV
values are configured for these sub-TLVs, the traffic engineering
database (TEDB) is regenerated, and then TE tunnels are reestablished.
The sub-TLVs can be sent only after TLV values are configured for
them.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368111__en-us_task_0172368101_substep442268934214045"><span id="EN-US_TASK_0172368111__en-us_task_0172368101_cmd999854181214331">Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172368111__en-us_task_0172368101_cmdname1251029633214331">commit</span></b></a></span></span><p><p id="EN-US_TASK_0172368111__en-us_task_0172368101_p462985332214331">The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0217.html">Configuring an Automatic RSVP-TE Tunnel
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0226.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0219.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>