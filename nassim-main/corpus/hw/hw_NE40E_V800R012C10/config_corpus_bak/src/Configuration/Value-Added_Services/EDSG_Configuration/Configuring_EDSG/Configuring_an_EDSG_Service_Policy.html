
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an EDSG Service Policy">
<meta name="abstract" content="You can configure different EDSG service policies to implement differentiated accounting and rate limiting for user access to different networks.">
<meta name="description" content="You can configure different EDSG service policies to implement differentiated accounting and rate limiting for user access to different networks.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_edsg_cfg_0003.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_edsg_cfg_0006.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_edsg_cfg_0032.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="EDSG">
<meta name="featuretype" content="Value-Added-Service">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="EDSG">
<meta name="featuretype" content="Value-Added-Service">
<meta name="featurename" content="EDSG">
<meta name="featuretype" content="Value-Added-Service">
<meta name="featurename" content="EDSG">
<meta name="featuretype" content="Value-Added-Service">
<meta name="OWNER" content="l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="ccms">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172375058">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring an EDSG Service Policy</title>
</head>
<body><a name="EN-US_TASK_0172375058"></a><a name="EN-US_TASK_0172375058"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an EDSG Service Policy</h1>
<div class="taskbody"><p>You can configure different EDSG service policies to implement differentiated accounting and rate limiting for user access to different networks.</p>
<div class="context"><a name="EN-US_TASK_0172375058__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>To implement differentiated accounting and rate limiting for user access to different networks, you may need to configure multiple EDSG service policies. An EDSG service policy can be configured in either of the following modes:</p>
<ol><li>Configuration delivery to the device from the policy server.</li><li>Local configuration: To implement differentiated accounting and rate limiting for two EDSG services, associate the corresponding service groups with the two EDSG service policies, bind different accounting schemes to the two EDSG service policies, and set bandwidth parameters for different traffic rate limits.</li></ol>
<p>This section describes how to configure an EDSG service policy locally.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172375058__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li><span>(Optional) Run the <a href="cmdqueryname=service-policy+cache+update+interval"><b><span class="cmdname">service-policy cache update interval</span></b></a> <i><span class="varname">interval-value</span></i> command to configure an interval at which the EDSG cache policy template is updated.</span></li><li><span>(Optional) Run the <a href="cmdqueryname=value-added-service+update-online-edsg+rate-limit+service-policy"><b><span class="cmdname">value-added-service update-online-edsg rate-limit service-policy</span></b></a> [ <strong><span>cache</span></strong> [ <i><span class="varname">cache-policy-name</span></i> ] | <strong><span>configuration</span></strong> [ <i><span class="varname">configuration</span></i> ] ] command to manually trigger an update of bandwidth limit parameters for online EDSG services.</span></li><li><span>(Optional) Run the <a href="cmdqueryname=radius-attribute+hw-policy-name+support-type+edsg"><b><span class="cmdname">radius-attribute hw-policy-name support-type edsg</span></b></a> command to allow the HW-Policy-Name attribute to carry an EDSG service policy name.</span></li><li><span>(Optional) Configure user accounting packets to carry an EDSG service policy name.</span><ol type="a"><li><span>Run the <a href="cmdqueryname=radius-server+group"><b><span class="cmdname">radius-server group</span></b></a> <em><i><span class="varname">group-name</span></i></em> command to enter the RADIUS server group view.</span></li><li><span>Run the <a href="cmdqueryname=radius-attribute+include"><b><span class="cmdname">radius-attribute include</span></b></a> <strong><span>edsg-service-name accounting-request</span></strong> command to configure user accounting packets to carry an EDSG service policy name.</span></li><li><span>Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to return to the system view.</span></li></ol>
<p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If the <a href="cmdqueryname=radius-attribute+hw-policy-name+support-type+edsg"><b><span class="cmdname">radius-attribute hw-policy-name support-type edsg</span></b></a> command has been configured, Huawei proprietary No. 95 attribute is carried in packets. If this command has not been configured, Huawei proprietary No. 185 attribute is carried in packets.</p>
</div></div>
</p></li><li><span>Run the <a href="cmdqueryname=service-policy"><b><span class="cmdname">service-policy</span></b></a> <strong><span>name</span></strong> <i><span class="varname">policy-name</span></i> <strong><span>edsg</span></strong> command to create an EDSG service policy and enter its view.</span><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If the policy template name is case-sensitive, you need to run the <a href="cmdqueryname=service-policy+name-case-sensitive+enable"><b><span class="cmdname">service-policy name-case-sensitive enable</span></b></a> command first to enable case sensitivity for the EDSG service template name.</p>
</div></div>
</p></li><li><span>(Optional) Run the <a href="cmdqueryname=ip-type+ipv6"><b><span class="cmdname">ip-type ipv6</span></b></a> command to set the traffic statistic type to IPv6 for EDSG services.</span></li><li><span>Run the <a href="cmdqueryname=service-group"><b><span class="cmdname">service-group</span></b></a> <i><span class="varname">service-group-name</span></i> [ <strong><span>inbound</span></strong> | <strong><span>outbound</span></strong> ] [ <strong><span>priority</span></strong> <i><span class="varname">priority</span></i> ] command to configure the service group to be bound to the EDSG service policy.</span><p><p>The service group must already exist. If not, run the <a href="cmdqueryname=service-group"><b><span class="cmdname">service-group</span></b></a> <i><span class="varname">service-group-name</span></i> command in the system view to create a service group.</p>
</p></li><li><span>Run the <a href="cmdqueryname=radius-server+group"><b><span class="cmdname">radius-server group</span></b></a> <i><span class="varname">group-name</span></i> command to configure the RADIUS server group to be bound to the EDSG service policy.</span></li><li><span>Run the <a href="cmdqueryname=authentication-scheme"><b><span class="cmdname">authentication-scheme</span></b></a> <i><span class="varname">authentication-scheme-name</span></i> command to configure an authentication scheme for the EDSG service policy.</span><p></p></li><li><span>Run the <a href="cmdqueryname=accounting-scheme"><b><span class="cmdname">accounting-scheme</span></b></a> <i><span class="varname">accounting-scheme-name</span></i> command to configure an accounting scheme for the EDSG service policy.</span><p><p>Currently, EDSG services support only the RADIUS accounting and non-accounting modes.</p>
<p>The device provides two fixed accounting schemes: default0 and default1. The two accounting schemes cannot be deleted but can be modified.</p>
</p></li><li><span>Run the <a href="cmdqueryname=rate-limit"><b><span class="cmdname">rate-limit</span></b></a> <strong><span>cir</span></strong> <i><span class="varname">cir-value</span></i> [ <strong><span>pir</span></strong> <i><span class="varname">pir-value</span></i> ] [ <strong><span>cbs</span></strong> <i><span class="varname">cbs-value</span></i> [ <strong><span>pbs</span></strong> <i><span class="varname">pbs-value </span></i>] <span>[ <strong><span>flow-queue-pbs</span></strong> <i><span class="varname">flow-queue-pbs</span></i> ] </span>] { <strong><span>inbound</span></strong> | <strong><span>outbound</span></strong> } command to configure the bandwidth parameters for upstream and downstream traffic rate limiting of EDSG services.</span></li><li><span>(Optional) Configure a Diameter monitor key for the EDSG service policy based on the format of the monitor key delivered by the Diameter server.</span><p><ul><li>Run the <a href="cmdqueryname=diameter+monitor-key+string"><b><span class="cmdname">diameter monitor-key string</span></b></a> <i><span class="varname">monitor-key-string</span></i> command to configure a Diameter monitor key in string format for the EDSG service policy.<p>Before running this command, run the <a href="cmdqueryname=diameter+monitor-key+parse-mode"><b><span class="cmdname">diameter monitor-key parse-mode</span></b></a> <strong><span>string</span></strong> command in the system view to set the parsing mode of the Diameter monitor key to string.</p>
</li><li>Run the <a href="cmdqueryname=diameter+monitor-key"><b><span class="cmdname">diameter monitor-key</span></b></a> <i><span class="varname">monitor-key</span></i> command to configure a Diameter monitor key in integer format for the EDSG service policy.<p>Before running this command, run the <a href="cmdqueryname=diameter+monitor-key+parse-mode"><b><span class="cmdname">diameter monitor-key parse-mode</span></b></a> <strong><span>integer</span></strong> command in the system view to set the parsing mode of the Diameter monitor key to integer.</p>
</li></ul>
</p></li><li><span>(Optional) Run the <a href="cmdqueryname=service-class"><b><span class="cmdname">service-class</span></b></a> { <strong><span>cs7</span></strong> | <strong><span>cs6</span></strong> | <strong><span>ef</span></strong> | <strong><span>af4</span></strong> | <strong><span>af3</span></strong> | <strong><span>af2</span></strong> | <strong><span>af1</span></strong> | <strong><span>be</span></strong> } { <strong><span>inbound</span></strong> | <strong><span>outbound</span></strong> } command to configure a scheduling class in the upstream or downstream direction.</span></li><li><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_edsg_cfg_0003.html">Configuring EDSG
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_edsg_cfg_0006.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_edsg_cfg_0032.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>