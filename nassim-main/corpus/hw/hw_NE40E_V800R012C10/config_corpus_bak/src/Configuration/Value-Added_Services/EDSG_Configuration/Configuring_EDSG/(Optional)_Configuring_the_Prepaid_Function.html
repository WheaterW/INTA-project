
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring the Prepaid Function">
<meta name="abstract" content="The prepaid function allows the RADIUS server to deliver an EDSG service with a specified time or traffic volume quota in advance. After the quota is exhausted, the BRAS reapplies for an EDSG service quota from the RADIUS server. When the RADIUS server returns a zero quota, the BRAS executes a deactivation or redirection policy. If a carrier wants users to pay in advance and reserve the time or volume quota, the carrier can configure the prepaid function. This section describes how to configure the prepaid function.">
<meta name="description" content="The prepaid function allows the RADIUS server to deliver an EDSG service with a specified time or traffic volume quota in advance. After the quota is exhausted, the BRAS reapplies for an EDSG service quota from the RADIUS server. When the RADIUS server returns a zero quota, the BRAS executes a deactivation or redirection policy. If a carrier wants users to pay in advance and reserve the time or volume quota, the carrier can configure the prepaid function. This section describes how to configure the prepaid function.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_edsg_cfg_0003.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cfg_edsg_0015.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_edsg_cfg_0010.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00800033,w00556928,w00606909,edsgne,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="EDSG">
<meta name="featuretype" content="Value-Added-Service">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="EDSG">
<meta name="featuretype" content="Value-Added-Service">
<meta name="featurename" content="EDSG">
<meta name="featuretype" content="Value-Added-Service">
<meta name="featurename" content="EDSG">
<meta name="featuretype" content="Value-Added-Service">
<meta name="OWNER" content="c00549182">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="c00549182">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172375060">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring the Prepaid Function</title>
</head>
<body><a name="EN-US_TASK_0172375060"></a><a name="EN-US_TASK_0172375060"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring the Prepaid Function</h1>
<div class="taskbody"><p>The prepaid function allows the RADIUS server to deliver an EDSG service with a specified time or traffic volume quota in advance. After the quota is exhausted, the BRAS reapplies for an EDSG service quota from the RADIUS server. When the RADIUS server returns a zero quota, the BRAS executes a deactivation or redirection policy. If a carrier wants users to pay in advance and reserve the time or volume quota, the carrier can configure the prepaid function. This section describes how to configure the prepaid function.</p>
<div class="context"><a name="EN-US_TASK_0172375060__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>An authentication scheme, an accounting scheme, and a RADIUS server group have been configured for the prepaid function of EDSG services (for details, see <a href="dc_ne_aaa_cfg_0515.html">AAA Configuration</a>).</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172375060__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Configure a prepaid profile.</span><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=prepaid-profile"><b><span class="cmdname">prepaid-profile</span></b></a> <i><span class="varname">prepaid-profile-name</span></i></span><p><p>A prepaid profile is created, and the prepaid profile view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=radius-server+group"><b><span class="cmdname">radius-server group</span></b></a> <i><span class="varname">group-name</span></i></span><p><p>A RADIUS server group is bound to the prepaid profile.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=authentication-scheme"><b><span class="cmdname">authentication-scheme</span></b></a> <i><span class="varname">authentication-scheme-name</span></i></span><p><p>An authentication scheme is configured for the prepaid profile.</p>
</p><p></p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=accounting-scheme"><b><span class="cmdname">accounting-scheme</span></b></a> <i><span class="varname">string-value</span></i></span><p><p>An accounting scheme is configured for the prepaid profile.</p>
</p><p><p>The BRAS provides two fixed accounting schemes: <strong>default0</strong> and <strong>default1</strong>. The two accounting schemes cannot be deleted but can be modified.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=password"><b><span class="cmdname">password</span></b></a> <strong><span>cipher</span></strong> <i><span class="varname">cipher-password</span></i></span><p><p>A password used for the BRAS to apply for an EDSG service quota from the RADIUS server group is configured.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=threshold"><b><span class="cmdname">threshold</span></b></a> <strong><span>time</span></strong> <i><span class="varname">time-threshold</span></i> <strong><span>seconds</span></strong></span><p><p>A time threshold is configured for the BRAS to reapply for a time quota for EDSG services from the RADIUS server.</p>
</p><p><p>When the remaining time quota of a user's EDSG service reaches a configured time threshold, the BRAS reapplies for a time quota for the EDSG service from the RADIUS server. When the RADIUS server returns a zero time quota, the BRAS executes a deactivation or redirection policy.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=threshold"><b><span class="cmdname">threshold</span></b></a> <strong><span>volume</span></strong> <i><span class="varname">volume-threshold</span></i> { <strong><span>kbytes</span></strong> | <strong><span>mbytes</span></strong> | <strong><span>bytes</span></strong> }</span><p><p>A traffic volume threshold is configured for the BRAS to reapply for a traffic volume quota for EDSG services from the RADIUS server.</p>
</p><p><p>When the remaining traffic volume quota of a user's EDSG service reaches a configured traffic volume threshold, the BRAS reapplies for a traffic volume quota for the EDSG service from the RADIUS server. When the RADIUS server returns a zero traffic volume quota, the BRAS executes a deactivation or redirection policy.</p>
<div class="p"><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><div class="p">You can configure both the time and traffic volume thresholds for the BRAS to reapply for EDSG service quotas from the RADIUS server. Once the remaining time or traffic volume quota of a user's EDSG service reaches the corresponding configured threshold, the BRAS reapplies for an EDSG service quota from the RADIUS server. For example, if the time and traffic volume thresholds are respectively set to 60s and 5 Mbytes for a user:<ul><li>When the remaining traffic volume quota of the user's EDSG service is 5 Mbytes but the remaining time quota of the EDSG service is greater than 60s, the BRAS reapplies for a traffic volume quota for the EDSG service from the RADIUS server.</li><li>When the remaining time quota of the user's EDSG service is 60s but the remaining traffic volume quota of the EDSG service is greater than 5 Mbytes, the BRAS reapplies for a time quota for the EDSG service from the RADIUS server.</li></ul>
</div>
</div></div>
</div>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>(Optional) Configure a policy used when the quota is exhausted as required.</span><ol type="a"><li class="substepexpand"><span>Configure a deactivation policy. When the quota of a user's EDSG service is exhausted, the BRAS deletes the EDSG service.</span><p><ol class="substepthirdol"><li><p>Run the <a href="cmdqueryname=quota-out"><b><span class="cmdname">quota-out</span></b></a> <strong><span>service deactivate</span></strong> command to configure a deactivation policy.</p>
</li><li><p>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</p>
</li><li><p>Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to return to the system view.</p>
</li></ol>
</p></li><li class="substepexpand"><span>Configure a redirection policy. When the quota of a user's EDSG service is exhausted, the user is redirected to a specified web page.</span><p><ol class="substepthirdol"><li><p>Run the <a href="cmdqueryname=http-redirect-profile"><b><span class="cmdname">http-redirect-profile</span></b></a> <i><span class="varname">redirect-profile-name</span></i> command to create an HTTP redirection profile and enter the HTTP redirection profile view.</p>
</li><li><p>Run the <a href="cmdqueryname=web-server"><b><span class="cmdname">web-server</span></b></a> <strong><span>url</span></strong> <i><span class="varname">redirect-url</span></i> command to configure a redirection web page.</p>
</li><li><p>(Optional) Run the <a href="cmdqueryname=web-server"><b><span class="cmdname">web-server</span></b></a> <strong><span>mode</span></strong> { <strong><span>get</span></strong> | <strong><span>post</span></strong> } command to configure an HTTP access mode for the web server.</p>
</li><li><p>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</p>
</li><li><p>Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to return to the system view.</p>
</li><li><p>Run the <a href="cmdqueryname=prepaid-profile"><b><span class="cmdname">prepaid-profile</span></b></a> <i><span class="varname">prepaid-profile-name</span></i> command to enter the prepaid profile view.</p>
</li><li><p>Run the <a href="cmdqueryname=quota-out"><b><span class="cmdname">quota-out</span></b></a> <strong><span>redirect</span></strong> <i><span class="varname">redirect-profile-name</span></i> command to configure a redirection policy and specify an HTTP redirection profile.</p>
</li><li><p>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</p>
</li><li><p>Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to return to the system view.</p>
</li></ol>
</p></li></ol>
</li><li><span>Apply the prepaid profile in the EDSG service policy view.</span><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=service-policy"><b><span class="cmdname">service-policy</span></b></a> <strong><span>name</span></strong> <i><span class="varname">policy-name</span></i> <strong><span>edsg</span></strong></span><p><p>The EDSG service policy view is displayed.</p>
</p><p><p>An EDSG service policy must have been configured. For details about how to configure an EDSG service policy, see <a href="dc_ne_edsg_cfg_0007.html">Configuring an EDSG Service Policy</a>.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=prepaid-profile"><b><span class="cmdname">prepaid-profile</span></b></a> <i><span class="varname">prepaid-profile-name</span></i></span><p><p>A prepaid profile is configured for the EDSG service policy.</p>
</p></li></ol>
</li><li><span>(Optional) Run <a href="cmdqueryname=service+volume-quota+apply"><b><span class="cmdname">service volume-quota apply</span></b></a> { <strong><span>inbound</span></strong> | <strong><span>outbound</span></strong> }</span><p><p>The traffic direction to which the EDSG service quota applies is configured.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_edsg_cfg_0003.html">Configuring EDSG
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cfg_edsg_0015.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_edsg_cfg_0010.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>