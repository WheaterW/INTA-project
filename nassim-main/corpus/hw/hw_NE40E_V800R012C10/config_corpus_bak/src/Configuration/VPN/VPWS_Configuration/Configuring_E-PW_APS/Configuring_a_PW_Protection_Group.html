
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a PW Protection Group">
<meta name="abstract" content="In an E-PW APS scenario, a PW protection group consists of either primary and secondary PWs or primary and bypass PWs. The primary and secondary PWs can be either SS-PWs or MS-PWs.">
<meta name="description" content="In an E-PW APS scenario, a PW protection group consists of either primary and secondary PWs or primary and bypass PWs. The primary and secondary PWs can be either SS-PWs or MS-PWs.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_6034.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_6036.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,vpws,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="VPWS">
<meta name="featuretype" content="VPN">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="VPWS">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="VPWS">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="VPWS">
<meta name="featuretype" content="VPN">
<meta name="OWNER" content="l00415692">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00415692">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172369883">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring a PW Protection Group</title>
</head>
<body><a name="EN-US_TASK_0172369883"></a><a name="EN-US_TASK_0172369883"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a PW Protection Group</h1>
<div class="taskbody"><p>In an E-PW APS scenario, a PW protection group consists of either primary and secondary PWs or primary and bypass PWs. The primary and secondary PWs can be either SS-PWs or MS-PWs.</p>
<div class="context"><a name="EN-US_TASK_0172369883__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>In an E-PW APS scenario, PE1 connects to PE2 and PE3 over a pair of primary and secondary PWs and PE2 and PE3 connect to each other over a bypass PW. The PW protection group consists of the primary and secondary PWs on PE1 and consists of the primary and bypass PWs on PE2 and PE3. The primary and secondary PWs can be dynamic SS-PWs, static SS-PWs, dynamic MS-PWs, or static MS-PWs. The bypass PW is usually an SS-PW. Its static/dynamic type is the same as that of the primary PW in the PW protection group. When configuring PW redundancy, note the following guidelines:</p>
<div class="p">Determine whether to use SS-PWs or MS-PWs as follows:<ul id="EN-US_TASK_0172369883__en-us_task_0172369871_ul1316754473214052"><li id="EN-US_TASK_0172369883__en-us_task_0172369871_li1945707187214052">If the bearer network where PE1 and PE2 reside is small or the two PEs belong to a carrier other than the transport network carrier, use SS-PWs.</li><li id="EN-US_TASK_0172369883__en-us_task_0172369871_li1997861516214052">If PE1 and PE2 belong to different ASs on a large transport network and no tunnel or signaling connection can be directly established between them, use MS-PWs.</li></ul>
</div>
<div class="p">Determine whether to use dynamic or static PWs as follows:<ul id="EN-US_TASK_0172369883__en-us_task_0172369871_ul1312989360214052"><li id="EN-US_TASK_0172369883__en-us_task_0172369871_li579630388214052">Dynamic PWs use LDP signaling to transmit VC labels. The configuration is easy, and the network scalability is high.</li><li id="EN-US_TASK_0172369883__en-us_task_0172369871_li169161842214052">Static PWs use manually configured VC labels. The network controllability is high, but the configuration is complex and the network scalability is low.</li></ul>
</div>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li><p>A static or hybrid MS-PW cannot obtain the TTL value through dynamic negotiation. To ensure the correct forwarding of PW APS negotiation packets between the endpoint PEs of an MS-PW, run the <a href="cmdqueryname=mpls+l2vpn+pw-ttl"><b><span class="cmdname">mpls l2vpn pw-ttl</span></b></a> <i><span class="varname">ttl-value</span></i> [ <strong><span>secondary</span></strong> | <strong><span>bypass</span></strong> ] command to configure a TTL value, so that the PW APS mechanism knows the specific number of PW segments.</p>
</li><li><p>In the case of SS-PWs, configure the primary and secondary PWs on the endpoint PEs.</p>
</li><li><p>In the case of MS-PWs, configure the primary and secondary PWs on the endpoint PEs and configure VPWS switching on the SPEs.</p>
</li><li><p>The types of PWs within the same protection group must be the same, and the PW types on the two endpoints of a PW segment must also be the same.</p>
</li><li><p>When configuring a PW protection group, ensure that parameter settings for the primary, secondary, and bypass PWs are consistent. If inconsistencies exist, the secondary or bypass PW may fail to take over services when the primary PW fails, leading to service interruption.</p>
</li></ul>
</div></div>
<p>Configure a PW protection group that consists of primary and secondary PWs on PE1 and a PW protection group consisting of primary and bypass PWs on PE2 and PE3. In the case of MS-PWs, you also need to configure VPWS switching on SPE1 and SPE2.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172369883__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure a PW protection group that consists of static primary and secondary PWs.</span><p><p>Perform the following steps on PE1:</p>
</p><ol><li class="substepexpand"><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type interface-number</span></i> command to enter the AC interface view.</span></li><li class="substepexpand"><span>Configure the static primary PW.</span><p><div class="p" id="EN-US_TASK_0172369883__en-us_task_0172369871_p1958667862214052">Run one of the following commands according to the interface type:<ul id="EN-US_TASK_0172369883__en-us_task_0172369871_ul589665452214052"><li id="EN-US_TASK_0172369883__en-us_task_0172369871_li645362565214052">Ethernet interface: <span id="EN-US_TASK_0172369883__en-us_task_0172369871_ph_011"><span><a href="cmdqueryname=mpls+static-l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdname1236318395214052">mpls static-l2vc</span></b></a></span><span> { { <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname884085652214052">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1991718115214052">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname13441619214052">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1836781161214052">pw-template-name</span></i> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname2059806613214052">vc-id</span></i> } <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup1020752916214052">*</sup> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname2095299123214052">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1995840283214052">ip-address</span></i> [ <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname184772279214052">vc-id</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname298814572214052">transmit-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname2045759396214052">transmit-label-value </span></i><strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname49262702214052">receive-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1754296373214052">receive-label-value</span></i> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname314054857214052">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname881327474214052">tnl-policy-name</span></i> [ { <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname945511917161">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname3366102401615">endpoint-address</span></i><span> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname99101915181710">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname149101115191710">endpoint4-address</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname6457530101613">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1490863591618">color-value</span></i> ] | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname2042481939214052">access-port</span></strong> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1279108266214052">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname973369007214052">no-control-word</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname319748617214052">raw</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1652920909214052">tagged</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname719812249123">ip-interworking</span></strong> ] ] <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup2087091498214052">*</sup></span></li><li id="EN-US_TASK_0172369883__en-us_task_0172369871_li1711124733214052">ATM interface: <span id="EN-US_TASK_0172369883__en-us_task_0172369871_ph_012"><a href="cmdqueryname=mpls+static-l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdname417374624214052">mpls static-l2vc</span></b></a><span> { { <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname771161470214052">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname8043293214052">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname2144850951214052">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1912717352214052">pw-template-name</span></i> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname55814779214052">vc-id</span></i> } <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup149335099214052">*</sup> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1277585662214052">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1647688651214052">ip-address</span></i> [ <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname34262365214052">vc-id</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname488035784214052">transmit-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1743811787214052">transmit-label-value </span></i><strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname858912148214052">receive-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname701729074214052">receive-label-value</span></i> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname114659121214052">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname141313659214052">tnl-policy-name</span></i><span> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1184081919198">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname17841191991914">endpoint-address</span></i> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname68411419101910">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname178411219181911">color-value</span></i> ]</span> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1802284363214052">access-port</span></strong> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1700131067214052">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1405142837214052">no-control-word</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname174865419214052">max-atm-cells</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname567503660214052">cells-value</span></i> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1849328285214052">atm-pack-overtime</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1356808587214052">time</span></i> ] ] <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup907137507214052">*</sup></span></li><li id="EN-US_TASK_0172369883__en-us_task_0172369871_li541024595214052">TDM interface: <span id="EN-US_TASK_0172369883__en-us_task_0172369871_ph_013"><span><a href="cmdqueryname=mpls+static-l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdname1869557863214052">mpls static-l2vc</span></b></a></span><span> { { <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname334169568214052">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname207049776214052">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1513738584214052">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1035888922214052">pw-template-name</span></i> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1430386552214052">vc-id</span></i> } <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup1046689219214052">*</sup> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1203799219214052">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1569003875214052">ip-address</span></i> [ <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1062211209214052">vc-id</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname297247305214052">transmit-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1430503950214052">transmit-label-value</span></i> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname88084844214052">receive-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1999563340214052">receive-label-value</span></i> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1653727273214052">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname2014079113214052">tnl-policy-name</span></i><span> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1795757182017">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1595737202012">endpoint-address</span></i> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1095777172011">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname11957672200">color-value</span></i> ]</span> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname224737890214052">access-port</span></strong> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1681226155214052">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1141370105214052">no-control-word</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname2002107390214052">jitter-buffer</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1052282117214052">depth</span></i> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname119951245214052">tdm-encapsulation</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname270411932214052">number</span></i> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname9108371214052">tdm-sequence-number</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1297352632214052">idle-code</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1080043345214052">idle-code-value</span></i> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1467432332214052">rtp-header</span></strong> ] ] <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup1418487752214052">*</sup></span></li></ul>
</div>
</p></li><li class="substepexpand"><span>Configure the static secondary PW.</span><p><div class="p" id="EN-US_TASK_0172369883__en-us_task_0172369871_p1661023840214052">Run one of the following commands according to the interface type:<ul id="EN-US_TASK_0172369883__en-us_task_0172369871_ul2075904713214052"><li id="EN-US_TASK_0172369883__en-us_task_0172369871_li738722179214052">Ethernet interface: <span id="EN-US_TASK_0172369883__en-us_task_0172369871_ph10745101912513"><span><a href="cmdqueryname=mpls+static-l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdname16745181915513">mpls static-l2vc</span></b></a></span><span> { { <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname18745111918517">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname974513196511">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname674591914516">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname17459199517">pw-template-name</span></i> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname13745181985110">vc-id</span></i> } <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup1474510199517">*</sup> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname197459198511">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname11745161975110">ip-address</span></i> [ <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1674511194516">vc-id</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname27453195515">transmit-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1674501965112">transmit-label-value </span></i><strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname11745519145113">receive-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname14745151915117">receive-label-value</span></i> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname207457197514">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname674571919518">tnl-policy-name</span></i><span> [ { <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname16815185942111">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname3815859132115">endpoint-address</span></i><span> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname75027231818">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname6502923188">endpoint4-address</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname8815205917215">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname981505914212">color-value</span></i> ]</span> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname16745201910515">access-port</span></strong> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname4745019135116">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname147459193516">no-control-word</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname157451819185111">raw</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname2074581919512">tagged</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname18101110171511">ip-interworking</span></strong> ] | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname2671104220517">secondary </span></strong>] <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup20745819105116">*</sup></span></li><li id="EN-US_TASK_0172369883__en-us_task_0172369871_li1248484541214052">ATM interface: <span id="EN-US_TASK_0172369883__en-us_task_0172369871_ph12455174014591"><a href="cmdqueryname=mpls+static-l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdname1745554018596">mpls static-l2vc</span></b></a><span> { { <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1245584005913">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname44552402593">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname7455640135917">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname164551440165912">pw-template-name</span></i> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname745514045919">vc-id</span></i> } <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup144561540155916">*</sup> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname164562407598">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname164561040145910">ip-address</span></i> [ <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname13456104014592">vc-id</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname18456840165919">transmit-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1445611402592">transmit-label-value </span></i><strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1845615406593">receive-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname14456164012594">receive-label-value</span></i> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname124561040115916">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1745618406591">tnl-policy-name</span></i><span> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname518551572213">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname41851152229">endpoint-address</span></i> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1418517154223">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname0185141572211">color-value</span></i> ]</span> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname645694011595">access-port</span></strong> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname545611401593">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname204561040135917">no-control-word</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname0456144005919">max-atm-cells</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname8456114015595">cells-value</span></i> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname64567400599">atm-pack-overtime</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname7456194012590">time</span></i> ] | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname4331184813542">secondary</span></strong> ] <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup1845614005913">*</sup></span></li><li id="EN-US_TASK_0172369883__en-us_task_0172369871_li65948839214052">TDM interface: <span id="EN-US_TASK_0172369883__en-us_task_0172369871_ph2036810414214"><span><a href="cmdqueryname=mpls+static-l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdname153682413219">mpls static-l2vc</span></b></a></span><span> { { <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname3368164117220">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname20368184114213">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname536815417218">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname73688411225">pw-template-name</span></i> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname83686411221">vc-id</span></i> } <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup1636811411928">*</sup> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname10368041621">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname19368194113213">ip-address</span></i> [ <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname636818419215">vc-id</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname133681641729">transmit-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname63681241929">transmit-label-value</span></i> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1036854113210">receive-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1436854113215">receive-label-value</span></i> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1436804117213">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname336819411824">tnl-policy-name</span></i><span> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname14950112813225">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1295022862216">endpoint-address</span></i> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname2095017288221">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname19950182811222">color-value</span></i> ]</span> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname93688416212">access-port</span></strong> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname73681541721">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname15368041928">no-control-word</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname153682411022">jitter-buffer</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname436820411226">depth</span></i> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname6368154117213">tdm-encapsulation</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname336814410214">number</span></i> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1936918411928">tdm-sequence-number</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1369164117212">idle-code</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1136918411127">idle-code-value</span></i> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1736984114219">rtp-header</span></strong> ] | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname9363944105517">secondary</span></strong> ] <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup123691741629">*</sup></span></li></ul>
</div>
</p></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to return to the system view.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li></ol>
</li><li><span>Configure a PW protection group that consists of static primary and bypass PWs.</span><p><p>Perform the following steps on PE2 and PE3.</p>
</p><ol><li class="substepexpand"><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type interface-number</span></i> command to enter the AC interface view.</span></li><li class="substepexpand"><span>Configure the static primary PW.</span><p><div class="p" id="EN-US_TASK_0172369883__en-us_task_0172369871_p1958667862214052_1">Run one of the following commands according to the interface type:<ul id="EN-US_TASK_0172369883__en-us_task_0172369871_ul589665452214052_1"><li id="EN-US_TASK_0172369883__en-us_task_0172369871_li645362565214052_1">Ethernet interface: <span id="EN-US_TASK_0172369883__en-us_task_0172369871_ph_011_1"><span><a href="cmdqueryname=mpls+static-l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdname1236318395214052_1">mpls static-l2vc</span></b></a></span><span> { { <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname884085652214052_1">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1991718115214052_1">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname13441619214052_1">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1836781161214052_1">pw-template-name</span></i> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname2059806613214052_1">vc-id</span></i> } <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup1020752916214052_1">*</sup> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname2095299123214052_1">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1995840283214052_1">ip-address</span></i> [ <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname184772279214052_1">vc-id</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname298814572214052_1">transmit-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname2045759396214052_1">transmit-label-value </span></i><strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname49262702214052_1">receive-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1754296373214052_1">receive-label-value</span></i> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname314054857214052_1">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname881327474214052_1">tnl-policy-name</span></i> [ { <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname945511917161_1">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname3366102401615_1">endpoint-address</span></i><span> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname99101915181710_1">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname149101115191710_1">endpoint4-address</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname6457530101613_1">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1490863591618_1">color-value</span></i> ] | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname2042481939214052_1">access-port</span></strong> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1279108266214052_1">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname973369007214052_1">no-control-word</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname319748617214052_1">raw</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1652920909214052_1">tagged</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname719812249123_1">ip-interworking</span></strong> ] ] <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup2087091498214052_1">*</sup></span></li><li id="EN-US_TASK_0172369883__en-us_task_0172369871_li1711124733214052_1">ATM interface: <span id="EN-US_TASK_0172369883__en-us_task_0172369871_ph_012_1"><a href="cmdqueryname=mpls+static-l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdname417374624214052_1">mpls static-l2vc</span></b></a><span> { { <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname771161470214052_1">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname8043293214052_1">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname2144850951214052_1">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1912717352214052_1">pw-template-name</span></i> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname55814779214052_1">vc-id</span></i> } <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup149335099214052_1">*</sup> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1277585662214052_1">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1647688651214052_1">ip-address</span></i> [ <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname34262365214052_1">vc-id</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname488035784214052_1">transmit-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1743811787214052_1">transmit-label-value </span></i><strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname858912148214052_1">receive-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname701729074214052_1">receive-label-value</span></i> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname114659121214052_1">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname141313659214052_1">tnl-policy-name</span></i><span> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1184081919198_1">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname17841191991914_1">endpoint-address</span></i> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname68411419101910_1">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname178411219181911_1">color-value</span></i> ]</span> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1802284363214052_1">access-port</span></strong> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1700131067214052_1">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1405142837214052_1">no-control-word</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname174865419214052_1">max-atm-cells</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname567503660214052_1">cells-value</span></i> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1849328285214052_1">atm-pack-overtime</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1356808587214052_1">time</span></i> ] ] <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup907137507214052_1">*</sup></span></li><li id="EN-US_TASK_0172369883__en-us_task_0172369871_li541024595214052_1">TDM interface: <span id="EN-US_TASK_0172369883__en-us_task_0172369871_ph_013_1"><span><a href="cmdqueryname=mpls+static-l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdname1869557863214052_1">mpls static-l2vc</span></b></a></span><span> { { <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname334169568214052_1">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname207049776214052_1">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1513738584214052_1">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1035888922214052_1">pw-template-name</span></i> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1430386552214052_1">vc-id</span></i> } <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup1046689219214052_1">*</sup> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1203799219214052_1">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1569003875214052_1">ip-address</span></i> [ <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1062211209214052_1">vc-id</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname297247305214052_1">transmit-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1430503950214052_1">transmit-label-value</span></i> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname88084844214052_1">receive-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1999563340214052_1">receive-label-value</span></i> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1653727273214052_1">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname2014079113214052_1">tnl-policy-name</span></i><span> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1795757182017_1">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1595737202012_1">endpoint-address</span></i> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1095777172011_1">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname11957672200_1">color-value</span></i> ]</span> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname224737890214052_1">access-port</span></strong> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1681226155214052_1">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1141370105214052_1">no-control-word</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname2002107390214052_1">jitter-buffer</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1052282117214052_1">depth</span></i> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname119951245214052_1">tdm-encapsulation</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname270411932214052_1">number</span></i> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname9108371214052_1">tdm-sequence-number</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1297352632214052_1">idle-code</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1080043345214052_1">idle-code-value</span></i> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1467432332214052_1">rtp-header</span></strong> ] ] <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup1418487752214052_1">*</sup></span></li></ul>
</div>
</p></li><li class="substepexpand"><span>Configure a static bypass PW.</span><p><p>Run one of the following commands according to the interface type:</p>
<ul><li>Ethernet interface: <span><span><a href="cmdqueryname=mpls+static-l2vc"><b><span class="cmdname">mpls static-l2vc</span></b></a></span><span> { { <strong><span>destination</span></strong> <i><span class="varname">ip-address</span></i> | <strong><span>pw-template</span></strong> <i><span class="varname">pw-template-name</span></i> <i><span class="varname">vc-id</span></i> } <sup>*</sup> | <strong><span>destination</span></strong> <i><span class="varname">ip-address</span></i> [ <i><span class="varname">vc-id</span></i> ] }</span> <strong><span>transmit-vpn-label</span></strong> <i><span class="varname">transmit-label-value </span></i><strong><span>receive-vpn-label</span></strong> <i><span class="varname">receive-label-value</span></i> [ <strong><span>tunnel-policy</span></strong> <i><span class="varname">tnl-policy-name</span></i><span> [ { <strong><span>endpoint</span></strong> <i><span class="varname">endpoint-address</span></i> | [ <strong><span>endpoint</span></strong> <i><span class="varname">endpoint4-address</span></i> ] } <strong><span>color</span></strong> <i><span class="varname">color-value</span></i> ]</span> | <strong><span>access-port</span></strong> | [ <strong><span>control-word</span></strong> | <strong><span>no-control-word</span></strong> ] | [ <strong><span>raw</span></strong> | <strong><span>tagged</span></strong> ] ] <sup>*</sup> <strong><span>bypass</span></strong></span></li><li>ATM interface: <span><a href="cmdqueryname=mpls+static-l2vc"><b><span class="cmdname">mpls static-l2vc</span></b></a><span> { { <strong><span>destination</span></strong> <i><span class="varname">ip-address</span></i> | <strong><span>pw-template</span></strong> <i><span class="varname">pw-template-name</span></i> <i><span class="varname">vc-id</span></i> } <sup>*</sup> | <strong><span>destination</span></strong> <i><span class="varname">ip-address</span></i> [ <i><span class="varname">vc-id</span></i> ] }</span> <strong><span>transmit-vpn-label</span></strong> <i><span class="varname">transmit-label-value </span></i><strong><span>receive-vpn-label</span></strong> <i><span class="varname">receive-label-value</span></i> [ <strong><span>tunnel-policy</span></strong> <i><span class="varname">tnl-policy-name</span></i><span> [ <strong><span>endpoint</span></strong> <i><span class="varname">endpoint-address</span></i> <strong><span>color</span></strong> <i><span class="varname">color-value</span></i> ]</span> | <strong><span>access-port</span></strong> | [ <strong><span>control-word</span></strong> | <strong><span>no-control-word</span></strong> ] | [ <strong><span>max-atm-cells</span></strong> <i><span class="varname">cells-value</span></i> ] | [ <strong><span>atm-pack-overtime</span></strong> <i><span class="varname">time</span></i> ] ] <sup>*</sup> <strong><span>bypass</span></strong></span></li><li>TDM interface: <span><span><a href="cmdqueryname=mpls+static-l2vc"><b><span class="cmdname">mpls static-l2vc</span></b></a></span><span> { { <strong><span>destination</span></strong> <i><span class="varname">ip-address</span></i> | <strong><span>pw-template</span></strong> <i><span class="varname">pw-template-name</span></i> <i><span class="varname">vc-id</span></i> } <sup>*</sup> | <strong><span>destination</span></strong> <i><span class="varname">ip-address</span></i> [ <i><span class="varname">vc-id</span></i> ] }</span> <strong><span>transmit-vpn-label</span></strong> <i><span class="varname">transmit-label-value </span></i><strong><span>receive-vpn-label</span></strong> <i><span class="varname">receive-label-value</span></i> [ <strong><span>tunnel-policy</span></strong> <i><span class="varname">tnl-policy-name</span></i><span> [ <strong><span>endpoint</span></strong> <i><span class="varname">endpoint-address</span></i> <strong><span>color</span></strong> <i><span class="varname">color-value</span></i> ]</span> | <strong><span>access-port</span></strong> | [ <strong><span>control-word</span></strong> | <strong><span>no-control-word</span></strong> ] | [ <strong><span>jitter-buffer</span></strong> <i><span class="varname">depth</span></i> ] | [ <strong><span>tdm-encapsulation</span></strong> <i><span class="varname">number</span></i> ] | [ <strong><span>tdm-sequence-number</span></strong> ] | [ <strong><span>idle-code</span></strong> <i><span class="varname">idle-code-value</span></i> ] | [ <strong><span>rtp-header</span></strong> ] ] <sup>*</sup> <strong><span>bypass</span></strong></span></li></ul>
</p></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to return to the system view.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li></ol>
</li><li><span>Configure a PW protection group that consists of dynamic primary and secondary PWs.</span><p><p>Perform the following steps on PE1:</p>
</p><ol><li><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li><span>Run the <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type interface-number</span></i> command to enter the AC interface view.</span></li></ol>
<ol><li class="substepexpand"><span>Configure the dynamic primary PW.</span><p><div class="p" id="EN-US_TASK_0172369883__en-us_task_0172369871_p588541657214052">Run one of the following commands according to the interface type:<ul id="EN-US_TASK_0172369883__en-us_task_0172369871_ul1700579444214052"><li id="EN-US_TASK_0172369883__en-us_task_0172369871_li1343241230214052">Ethernet interface: <span id="EN-US_TASK_0172369883__en-us_task_0172369871_ph_01"><span><a href="cmdqueryname=mpls+l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdname739843091214052">mpls l2vc</span></b></a></span> <span> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1823474935915">instance-name</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname142344493599">instance-name</span></i> ]</span> { <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname463468425214052">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1287093449214052">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname486966757214052">template-name</span></i> } <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup689890830214052">*</sup> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1893111836214052">vc-id</span></i> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1700830462214052">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname512469523214052">policy-name</span></i><span> [ { <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname979518521963">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1795105212618">endpoint-address</span></i><span> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname13795173991512">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname87951639171510">endpoint4-address</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1879513523613">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname18795152866">color-value</span></i> ]</span> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname89227926214052">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1662205133214052">no-control-word</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname160423594214052">raw</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname927831475214052">tagged</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname8529156216">ip-layer2</span></strong> | <strong id="EN-US_TASK_0172369883__en-us_task_0172369871_b9162587151"><span>ip-interworking</span></strong><strong id="EN-US_TASK_0172369883__en-us_task_0172369871_b5465143317556"><span> </span></strong>] | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1310110875214052">access-port</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1751470272214052">ignore-standby-state</span></strong> ] <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup407125283214052">*</sup></span></li><li id="EN-US_TASK_0172369883__en-us_task_0172369871_li1363564249214052">ATM interface: <span id="EN-US_TASK_0172369883__en-us_task_0172369871_ph_02"><a href="cmdqueryname=mpls+l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdname1501678436214052">mpls l2vc</span></b></a> <span> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname2311442125910">instance-name</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname203112425595">instance-name</span></i> ]</span> { <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1003118782214052">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1015758256214052">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname638114120214052">template-name</span></i> } <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup514966785214052">*</sup> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1073023284214052">vc-id</span></i> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname493046444214052">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname377388913214052">policy-name</span></i><span> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname24071955964">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname4407195520618">endpoint-address</span></i> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname54074553615">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname8407175512612">color-value</span></i> ]</span> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname429922712214052">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname686598793214052">no-control-word</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname436982695214052">max-atm-cells</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname105503585214052">cells-value</span></i> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname722963415214052">atm-pack-overtime</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname271219707214052">time</span></i> ] | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname200526673214052">ignore-standby-state</span></strong> ] <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup774947542214052">*</sup></span></li><li id="EN-US_TASK_0172369883__en-us_task_0172369871_li337496477214052">TDM interface: <span id="EN-US_TASK_0172369883__en-us_task_0172369871_ph_03"><span><a href="cmdqueryname=mpls+l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdname1502700325214052">mpls l2vc</span></b></a></span> <span> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname114291548165313">instance-name</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname115141910195417">instance-name</span></i> ]</span> { <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname981307520214052">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1765250912214052">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname250903928214052">template-name</span></i> } <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup765447823214052">*</sup> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1978695223214052">vc-id</span></i> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1075219552214052">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname41573744214052">tnl-policy-name</span></i><span> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname14659175920615">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname16592059969">endpoint-address</span></i> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname965925915614">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname56596590612">color-value</span></i> ]</span> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname493865038214052">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname341132777214052">no-control-word</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1881993294214052">jitter-buffer</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname605079059214052">depth</span></i> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname706871128214052">tdm-encapsulation</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname907970202214052">number</span></i> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname55189047214052">tdm-sequence-number</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1374543792214052">idle-code</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1772410028214052">idle-code-value</span></i> ] | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname576916894214052">rtp-header</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1225413937214052">ignore-standby-state</span></strong> ] <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup1479979477214052">*</sup></span></li></ul>
</div>
</p></li><li class="substepexpand"><span>Configure the dynamic secondary PW.</span><p><div class="p" id="EN-US_TASK_0172369883__en-us_task_0172369871_p623031152214052">Run one of the following commands according to the interface type:<ul id="EN-US_TASK_0172369883__en-us_task_0172369871_ul1456785915214052"><li id="EN-US_TASK_0172369883__en-us_task_0172369871_li122875976214052">Ethernet interface: <span id="EN-US_TASK_0172369883__en-us_task_0172369871_ph16918587202"><span><a href="cmdqueryname=mpls+l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdname1791814812011">mpls l2vc</span></b></a></span> <span> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname59181380207">instance-name</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname891815862016">instance-name</span></i> ]</span> { <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname09181852015">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname179181387204">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname891810892014">template-name</span></i> } <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup159181288202">*</sup> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname14918168132017">vc-id</span></i> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname189181885200">access-port</span></strong> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1918188192010">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname3919118132013">no-control-word</span></strong> ] | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname991914872014">ignore-standby-state</span></strong> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname691919842011">raw</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname59191581207">tagged</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname149196882010">ip-layer2</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname189195802017">ip-interworking</span></strong> ] | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname149192815207">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname169191887204">policy-name</span></i><span> [ { <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname391928102012">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname4919589207">endpoint-address</span></i><span> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname16919198112019">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname2091911818202">endpoint4-address</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname99193814209">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname39196852013">color-value</span></i> ]</span> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname169199812202">secondary </span></strong>]<span> <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup119191888207">*</sup></span></span></li><li id="EN-US_TASK_0172369883__en-us_task_0172369871_li2093532970214052">ATM interface: <span id="EN-US_TASK_0172369883__en-us_task_0172369871_ph13650142516203"><a href="cmdqueryname=mpls+l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdname965082518209">mpls l2vc</span></b></a> <span> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname065017254204">instance-name</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname46506257205">instance-name</span></i> ]</span> { <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname3650172562018">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname6650182522018">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname965042592016">template-name</span></i> } <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup1265072519208">*</sup> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname06501325162017">vc-id</span></i> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname156501525182017">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname196501625142012">policy-name</span></i><span> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname9650132512018">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1965014253203">endpoint-address</span></i> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1065019251204">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname965082572015">color-value</span></i> ]</span> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1265092517201">control-word</span></strong> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname10650825192015">seq-number</span></strong> ] | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname2650122552013">no-control-word</span></strong> ] | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname19650162513205">max-atm-cells</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname165016258209">cells-value</span></i> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname17650112552020">atm-pack-overtime</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname465016254207">atm-pack-overtime</span></i> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname665012254207">transmit-atm-cells</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname156501325192018">transmit-atm-cell-value</span></i> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname065022519209">ignore-standby-state</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1565017258206">secondary </span></strong>]<span> <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup2065062572019">*</sup></span></span></li><li id="EN-US_TASK_0172369883__en-us_task_0172369871_li68338074214052">TDM interface: <span id="EN-US_TASK_0172369883__en-us_task_0172369871_ph168911741172012"><span><a href="cmdqueryname=mpls+l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdname389144122017">mpls l2vc</span></b></a></span> <span> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1589112411205">instance-name</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname14891741162018">instance-name</span></i> ]</span> { <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname689174102020">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname88917415204">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1989120411209">template-name</span></i> } <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup118911141172010">*</sup> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname589111414201">vc-id</span></i> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname178910414200">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1889154114209">tnl-policy-name</span></i><span> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname489115419208">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1189120419200">endpoint-address</span></i> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname2891124118206">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1789154113203">color-value</span></i> ]</span> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1889174162017">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname489164112011">no-control-word</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname289184142011">jitter-buffer</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname0891541162015">depth</span></i> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname489104116205">tdm-encapsulation-number</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname19892174116201">number</span></i> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname0892114110204">tdm-sequence-number</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname5892114118208">rtp-header</span></strong> ] | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname14892154113207">ignore-standby-state</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1489254116209">secondary</span></strong> ]<span> <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup389204172020">*</sup></span></span></li></ul>
</div>
</p></li></ol>
</li><li><span>Configure a PW protection group that consists of dynamic primary and bypass PWs.</span><p><p>Perform the following steps on PE2 and PE3.</p>
</p><ol><li class="substepexpand"><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type interface-number</span></i> command to enter the AC interface view.</span></li><li class="substepexpand"><span>Configure the dynamic primary PW.</span><p><div class="p" id="EN-US_TASK_0172369883__en-us_task_0172369871_p588541657214052_1">Run one of the following commands according to the interface type:<ul id="EN-US_TASK_0172369883__en-us_task_0172369871_ul1700579444214052_1"><li id="EN-US_TASK_0172369883__en-us_task_0172369871_li1343241230214052_1">Ethernet interface: <span id="EN-US_TASK_0172369883__en-us_task_0172369871_ph_01_1"><span><a href="cmdqueryname=mpls+l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdname739843091214052_1">mpls l2vc</span></b></a></span> <span> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1823474935915_1">instance-name</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname142344493599_1">instance-name</span></i> ]</span> { <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname463468425214052_1">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1287093449214052_1">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname486966757214052_1">template-name</span></i> } <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup689890830214052_1">*</sup> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1893111836214052_1">vc-id</span></i> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1700830462214052_1">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname512469523214052_1">policy-name</span></i><span> [ { <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname979518521963_1">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1795105212618_1">endpoint-address</span></i><span> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname13795173991512_1">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname87951639171510_1">endpoint4-address</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1879513523613_1">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname18795152866_1">color-value</span></i> ]</span> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname89227926214052_1">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1662205133214052_1">no-control-word</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname160423594214052_1">raw</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname927831475214052_1">tagged</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname8529156216_1">ip-layer2</span></strong> | <strong id="EN-US_TASK_0172369883__en-us_task_0172369871_b9162587151_1"><span>ip-interworking</span></strong><strong id="EN-US_TASK_0172369883__en-us_task_0172369871_b5465143317556_1"><span> </span></strong>] | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1310110875214052_1">access-port</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1751470272214052_1">ignore-standby-state</span></strong> ] <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup407125283214052_1">*</sup></span></li><li id="EN-US_TASK_0172369883__en-us_task_0172369871_li1363564249214052_1">ATM interface: <span id="EN-US_TASK_0172369883__en-us_task_0172369871_ph_02_1"><a href="cmdqueryname=mpls+l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdname1501678436214052_1">mpls l2vc</span></b></a> <span> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname2311442125910_1">instance-name</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname203112425595_1">instance-name</span></i> ]</span> { <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1003118782214052_1">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1015758256214052_1">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname638114120214052_1">template-name</span></i> } <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup514966785214052_1">*</sup> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1073023284214052_1">vc-id</span></i> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname493046444214052_1">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname377388913214052_1">policy-name</span></i><span> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname24071955964_1">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname4407195520618_1">endpoint-address</span></i> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname54074553615_1">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname8407175512612_1">color-value</span></i> ]</span> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname429922712214052_1">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname686598793214052_1">no-control-word</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname436982695214052_1">max-atm-cells</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname105503585214052_1">cells-value</span></i> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname722963415214052_1">atm-pack-overtime</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname271219707214052_1">time</span></i> ] | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname200526673214052_1">ignore-standby-state</span></strong> ] <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup774947542214052_1">*</sup></span></li><li id="EN-US_TASK_0172369883__en-us_task_0172369871_li337496477214052_1">TDM interface: <span id="EN-US_TASK_0172369883__en-us_task_0172369871_ph_03_1"><span><a href="cmdqueryname=mpls+l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdname1502700325214052_1">mpls l2vc</span></b></a></span> <span> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname114291548165313_1">instance-name</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname115141910195417_1">instance-name</span></i> ]</span> { <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname981307520214052_1">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1765250912214052_1">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname250903928214052_1">template-name</span></i> } <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup765447823214052_1">*</sup> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1978695223214052_1">vc-id</span></i> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1075219552214052_1">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname41573744214052_1">tnl-policy-name</span></i><span> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname14659175920615_1">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname16592059969_1">endpoint-address</span></i> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname965925915614_1">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname56596590612_1">color-value</span></i> ]</span> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname493865038214052_1">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname341132777214052_1">no-control-word</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1881993294214052_1">jitter-buffer</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname605079059214052_1">depth</span></i> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname706871128214052_1">tdm-encapsulation</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname907970202214052_1">number</span></i> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname55189047214052_1">tdm-sequence-number</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1374543792214052_1">idle-code</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1772410028214052_1">idle-code-value</span></i> ] | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname576916894214052_1">rtp-header</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1225413937214052_1">ignore-standby-state</span></strong> ] <sup id="EN-US_TASK_0172369883__en-us_task_0172369871_sup1479979477214052_1">*</sup></span></li></ul>
</div>
</p></li><li class="substepexpand"><span>(Optional) Configure a dynamic bypass PW.</span><p><div class="p">Run one of the following commands according to the interface type:<ul><li>Ethernet interface: <span><span><a href="cmdqueryname=mpls+l2vc"><b><span class="cmdname">mpls l2vc</span></b></a></span> { <i><span class="varname">ip-address</span></i> | <strong><span>pw-template</span></strong> <i><span class="varname">template-name</span></i> } <sup>*</sup> <i><span class="varname">vc-id</span></i> [ <strong><span>tunnel-policy</span></strong> <i><span class="varname">tnl-policy-name</span></i><span> [ { <strong><span>endpoint</span></strong> <i><span class="varname">endpoint-address</span></i> | [ <strong><span>endpoint</span></strong> <i><span class="varname">endpoint4-address</span></i> ] } <strong><span>color</span></strong> <i><span class="varname">color-value</span></i> ]</span> | [ <strong><span>control-word</span></strong> | <strong><span>no-control-word</span></strong> ] | [ <strong><span>raw</span></strong> | <strong><span>tagged</span></strong> ] | <strong><span>access-port</span></strong> | <strong><span>ignore-standby-state</span></strong> ] <sup>*</sup> <strong><span>bypass</span></strong></span></li><li>ATM interface: <span><a href="cmdqueryname=mpls+l2vc"><b><span class="cmdname">mpls l2vc</span></b></a> { <i><span class="varname">ip-address</span></i> | <strong><span>pw-template</span></strong> <i><span class="varname">template-name</span></i> } <sup>*</sup> <i><span class="varname">vc-id</span></i> [ <strong><span>tunnel-policy</span></strong> <span><i><span class="varname">nl-policy-name</span></i></span><span> [ <strong><span>endpoint</span></strong> <i><span class="varname">endpoint-address</span></i> <strong><span>color</span></strong> <i><span class="varname">color-value</span></i> ]</span> | [ <strong><span>control-word</span></strong> | <strong><span>no-control-word</span></strong> ] | [ <strong><span>max-atm-cells</span></strong> <i><span class="varname">cells-value</span></i> ] | [ <strong><span>atm-pack-overtime</span></strong> <i><span class="varname">time</span></i> ] | <strong><span>ignore-standby-state</span></strong> ] <sup>*</sup> <strong><span>bypass</span></strong></span></li><li>TDM interface: <span><span><a href="cmdqueryname=mpls+l2vc"><b><span class="cmdname">mpls l2vc</span></b></a></span> { <i><span class="varname">ip-address</span></i> | <strong><span>pw-template</span></strong> <i><span class="varname">pw-template-name</span></i> } <sup>*</sup> <i><span class="varname">vc-id</span></i> [ <strong><span>tunnel-policy</span></strong> <i><span class="varname">policy-name</span></i><span> [ <strong><span>endpoint</span></strong> <i><span class="varname">endpoint-address</span></i> <strong><span>color</span></strong> <i><span class="varname">color-value</span></i> ]</span> | [ <strong><span>control-word</span></strong> | <strong><span>no-control-word</span></strong> ] | <span><strong><span>jitter-buffer</span></strong> <i><span class="varname">depth</span></i> | [ <strong><span>tdm-encapsulation</span></strong> <i><span class="varname">number</span></i> ] | <strong><span>tdm-sequence-number</span></strong> | [ <strong><span>idle-code</span></strong> <i><span class="varname">idle-code-value</span></i> ] | <strong><span>rtp-header</span></strong> | <strong><span>ignore-standby-state</span></strong> </span>] <sup>*</sup> <strong><span>bypass</span></strong></span></li></ul>
</div>
</p></li></ol>
</li><li><span>(Optional) Configure VPWS switching.</span><p><p id="EN-US_TASK_0172369883__en-us_task_0172369871_p753054186214052">During MS-PW deployment, perform the following steps on each SPE.</p>
</p><ol id="EN-US_TASK_0172369883__en-us_task_0172369871_substeps1810003328214052"><li class="substepexpand" id="EN-US_TASK_0172369883__en-us_task_0172369871_substep637566074214052"><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmd1777090835214052">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdname1643667656214052">system-view</span></b></a></span><p><p id="EN-US_TASK_0172369883__en-us_task_0172369871_p1560521916326">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172369883__en-us_task_0172369871_substep564158259214052"><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmd667557508214052">Run any of the following commands based on PW types on endpoint PEs:</span><p><ul id="EN-US_TASK_0172369883__en-us_task_0172369871_ul237702931214052"><li id="EN-US_TASK_0172369883__en-us_task_0172369871_li1672648520214052"><p id="EN-US_TASK_0172369883__en-us_task_0172369871_p1642736410214052"><a name="EN-US_TASK_0172369883__en-us_task_0172369871_li1672648520214052"></a><a name="en-us_task_0172369871_li1672648520214052"></a>If dynamic PWs are configured on the endpoint PEs, run the <a href="cmdqueryname=mpls+switch-l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdname1876139379214052">mpls switch-l2vc</span></b></a> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname2044586014214052">ip-address</span></i> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1855272791214052">vc-id</span></i> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname6943978214052">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1576264212214052">policy-name</span></i><span> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname69945611812">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname199919565812">endpoint-address</span></i> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname49925612812">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname7991566815">color-value</span></i> ]</span> ] <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1659489807214052">between</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname639109401214052">ip-address vc-id</span></i> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1847866065214052">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname896774594214052">policy-name</span></i><span> [ { <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname32841643132517">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname0285843142515">endpoint-address</span></i><span> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname99491426141917">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname119491526151918">endpoint4-address</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname228504317255">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname172854436256">color-value</span></i> ]</span> ] [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname76643930214052">backup</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname906116923214052">ip-address</span></i> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1180658836214052">vc-id</span></i> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname382666328214052">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname132349986214052">policy-name</span></i><span> [ { <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname5517146182513">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname13517124617257">sw-endpoint-address</span></i><span> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname15519183461913">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname165191634101910">sw-endpoint4-address</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname17517184614251">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname17517104618253">color-value</span></i> ]</span> ] ] <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1486204697214052">encapsulation</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1985255715214052">encapsulation-type</span></i> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname369594947214052">control-word-transparent</span></strong> ] command to configure dynamic VPWS switching.</p>
</li><li id="EN-US_TASK_0172369883__en-us_task_0172369871_li429046289214052"><p id="EN-US_TASK_0172369883__en-us_task_0172369871_p1878376244214052"><a name="EN-US_TASK_0172369883__en-us_task_0172369871_li429046289214052"></a><a name="en-us_task_0172369871_li429046289214052"></a>If static PWs are configured on the endpoint PEs, run the <a href="cmdqueryname=mpls+switch-l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdname937222724214052">mpls switch-l2vc</span></b></a> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname722685586214052">ip-address vc-id</span></i> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname118619253214052">trans</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1893219783214052">trans-label</span></i> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname257109391214052">recv</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname485167615214052">received-label</span></i> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname108814791214052">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname457715098214052">policy-name</span></i><span> [ { <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname616818541254">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname10168105472511">endpoint-address</span></i><span> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1252123913193">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname20521103912194">endpoint4-address</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1916885418258">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname131681654102519">color-value</span></i> ]</span> ] <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname210069446214052">between</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname919471181214052">ip-address vc-id</span></i> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname2079951114214052">trans</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1382739565214052">trans-label</span></i> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1124519267214052">recv</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname120382770214052">received-label</span></i> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1530255143214052">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname788387729214052">policy-name</span></i><span> [ { <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname11972158682">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname997215589810">sw-endpoint-address</span></i><span> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1599923710194">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname129999379198">sw-endpoint4-address</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname12973258389">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname139734588818">color-value</span></i> ]</span> ] <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname2116679156214052">encapsulation</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1402072743214052">encapsulation-type</span></i> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1536286217214052">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname2104692314214052">no-control-word</span></strong> ] command to configure static VPWS switching.</p>
</li><li id="EN-US_TASK_0172369883__en-us_task_0172369871_li79589388214052"><p id="EN-US_TASK_0172369883__en-us_task_0172369871_p1924015682214052"><a name="EN-US_TASK_0172369883__en-us_task_0172369871_li79589388214052"></a><a name="en-us_task_0172369871_li79589388214052"></a>If a static PW is configured on one endpoint PE and a dynamic PW is configured on the other endpoint PE, run the <a href="cmdqueryname=mpls+switch-l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdname350137569214052">mpls switch-l2vc</span></b></a> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1367583467214052">ip-address vc-id</span></i> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname453410229214052">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname365219963214052">policy-name</span></i><span> [ { <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname2648204162613">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname564810462617">endpoint-address</span></i><span> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1742295111914">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1742265116199">endpoint4-address</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname166487412267">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1264820418261">color-value</span></i> ]</span> ] <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1749497190214052">between</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1995560481214052">ip-address vc-id</span></i> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname441695473214052">trans</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname404269379214052">trans-label</span></i> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname800755849214052">recv</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname608172470214052">received-label</span></i> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname310309625214052">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname382992837214052">policy-name</span></i><span> [ { <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname543012312916">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname13430531594">sw-endpoint-address</span></i><span> | [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname131762494194">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname16176144951913">sw-endpoint4-address</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname15430636919">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname14305313912">color-value</span></i> ]</span> ] <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname2147000126214052">encapsulation</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname2059451711214052">encapsulation-type</span></i> [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1364226472214052">mtu</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1981168502214052">mtu-value</span></i> ] [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname593481438214052">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname379592723214052">no-control-word</span></strong> ] [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1643479972214052">rtp-header</span></strong> ] [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname1640987145214052">timeslotnum</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname892564445214052">timeslotnum</span></i> ] [ <strong><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdparmname94609570214052">tdm-encapsulation</span></strong> <i><span class="varname" id="EN-US_TASK_0172369883__en-us_task_0172369871_varname1336987992214052">number</span></i> ] command to configure hybrid VPWS switching.</p>
</li></ul>
</p></li><li class="substepexpand" id="EN-US_TASK_0172369883__en-us_task_0172369871_substep1844145930214052"><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmd2076652006214052">Run <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdname1314923977214052">quit</span></b></a></span><p><p id="EN-US_TASK_0172369883__en-us_task_0172369871_p204832463317">Return to the system view.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172369883__en-us_task_0172369871_substep1117457281214052"><span id="EN-US_TASK_0172369883__en-us_task_0172369871_cmd1360028752214052">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172369883__en-us_task_0172369871_cmdname1823623317214052">commit</span></b></a></span><p><p id="EN-US_TASK_0172369883__en-us_task_0172369871_p2202189193310">The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_6034.html">Configuring E-PW APS
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_6036.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>