
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring EVPN VPWS Accessing L3VPN (with VRRP Determining the Master/Backup Status)">
<meta name="abstract" content="If EVPN VPWS over MPLS or EVPN VPWS over SRv6 in dual-homing single-active mode is deployed on the network and VRRP or VRRP6 is configured on PEs to determine their master/backup status, you need to configure EVPN VPWS accessing L3VPN and associate VRRP or VRRP6 with EVPN VPWS to determine the primary/secondary status of EVPN VPWS PWs.">
<meta name="description" content="If EVPN VPWS over MPLS or EVPN VPWS over SRv6 in dual-homing single-active mode is deployed on the network and VRRP or VRRP6 is configured on PEs to determine their master/backup status, you need to configure EVPN VPWS accessing L3VPN and associate VRRP or VRRP6 with EVPN VPWS to determine the primary/secondary status of EVPN VPWS PWs.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_vpws-bras6_vrrp1.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0169.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0162.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0163.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0165.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0166.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0167.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0168.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="p00915595,w00800033,w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="EVPN">
<meta name="featuretype" content="VPN">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="EVPN">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="EVPN">
<meta name="featuretype" content="VPN">
<meta name="OWNER" content="p00915595">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00878323">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001162482723">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring EVPN VPWS Accessing L3VPN (with VRRP Determining the Master/Backup Status)</title>
</head>
<body><a name="EN-US_TASK_0000001162482723"></a><a name="EN-US_TASK_0000001162482723"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring EVPN VPWS Accessing L3VPN (with VRRP Determining the Master/Backup Status)</h1>
<div class="taskbody"><p>If EVPN VPWS over MPLS or EVPN VPWS over SRv6 in dual-homing single-active mode is deployed on the network and VRRP or VRRP6 is configured on PEs to determine their master/backup status, you need to configure EVPN VPWS accessing L3VPN and associate VRRP or VRRP6 with EVPN VPWS to determine the primary/secondary status of EVPN VPWS PWs.</p>
<div class="context"><a name="EN-US_TASK_0000001162482723__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>On the network shown in <a href="#EN-US_TASK_0000001162482723__fig1291715401904">Figure 1</a>, EVPN VPWS over MPLS or EVPN VPWS over SRv6 in dual-homing single-active mode is deployed between M-AGGs and PEs, and VRRP or VRRP6 is deployed between PE1 and PE2 to determine the master/backup status of PEs and primary/secondary status of L3VPN connections. EVPN VPWS accessing L3VPN needs to be configured on PEs.</p>
<div class="fignone" id="EN-US_TASK_0000001162482723__fig1291715401904"><a name="EN-US_TASK_0000001162482723__fig1291715401904"></a><a name="fig1291715401904"></a><span class="figcap"><b>Figure 1 </b>EVPN VPWS accessing L3VPN (with VRRP determining the master/backup status)</span><br><span><img class="vsd" src="figure/en-us_image_0000001115882946.png"></span></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001162482723__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring EVPN VPWS accessing L3VPN (with VRRP determining the master/backup status), complete the following tasks: </p>
<ul><li>Configure <a href="dc_vrp_evpn_cfg_0020.html">EVPN VPWS over MPLS</a>, <a href="dc_vrp_srv6_cfg_all_0021_copy.html">EVPN VPWS over SRv6 BE</a>, or <a href="dc_vrp_cfg_evpn-vpws_over_srv6-te_policy_copy.html">EVPN VPWS over SRv6 TE Policy</a> between the M-AGGs and PEs. The single-active mode needs to be configured in the system view or ESI view.</li><li>Configure basic L3VPN functions on PEs.</li></ul>
</div></div>
</div>

<ul class="ullinks">
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0162.html">Creating an L2VE Interface</a>
</dt>
<dd>
Configure an L2VE interface on each PE to terminate EVPN VPWS and bind the L2VE interface to a VE group.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0163.html">Creating an L3VE Interface</a>
</dt>
<dd>
Configure an L3VE interface used for L3VPN access on each PE and bind the L3VE interface to a VE group.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0165.html">Associating an L2VE Interface with an EVPL Instance</a>
</dt>
<dd>
After an L2VE interface is associated with an EVPL instance on a PE, the L2VE interface can terminate EVPN VPWS.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0166.html">Associating an EVPL Instance with VRRP</a>
</dt>
<dd>
Associate EVPL instances with VRRP on PEs, so that EVPN VPWS can determine the primary/secondary status of PWs based on the VRRP or VRRP6 group status.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0167.html">Associating an L3VE Interface with a VPN Instance</a>
</dt>
<dd>
Configure an IP address for the L3VE sub-interface on each PE and bind the L3VE sub-interface to the corresponding VPN instance for L3VPN access.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0168.html">Verifying the Configuration</a>
</dt>
<dd>
After configuring EVPN VPWS accessing L3VPN, you can check binding between the VE interfaces and VE group, VRRP or VRRP6 group status, and information about the specified EVPL instance on each PE.</dd>
</dl>
</ul>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0000.html">EVPN Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_vpws-bras6_vrrp1.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0169.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>