
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring E2E VXLAN EVPN in a DCI scenario with Gateways Deployed">
<meta name="abstract" content="An end-to-end VXLAN EVPN uses the same service platform, which helps implement unified VXLAN VNI resource management.">
<meta name="description" content="An end-to-end VXLAN EVPN uses the same service platform, which helps implement unified VXLAN VNI resource management.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dci_cfg_0002.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dci_cfg_0004.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="wwx1238417">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="EVPN">
<meta name="featuretype" content="VPN">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="EVPN">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="EVPN">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="EVPN">
<meta name="featuretype" content="VPN">
<meta name="OWNER" content="c00648116,w00437000">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00425560">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172363944">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring E2E VXLAN EVPN in a DCI scenario with Gateways Deployed</title>
</head>
<body><a name="EN-US_TASK_0172363944"></a><a name="EN-US_TASK_0172363944"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring E2E VXLAN EVPN in a DCI scenario with Gateways Deployed</h1>
<div class="taskbody"><p>An end-to-end VXLAN EVPN uses the same service platform, which helps implement unified VXLAN VNI resource management.</p>
<div class="context"><a name="EN-US_TASK_0172363944__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Gateways and DCI-PEs are deployed individually. As edge devices of the underlay network, DCI-PEs only advertise VTEP routes across DCs, but do not store the tenant or host information of DCs.</p>
<p>On the network shown in <a href="#EN-US_TASK_0172363944__fig_dc_vrp_dci_cfg_000301">Figure 1</a>, an end-to-end VXLAN tunnel can be established between Device1 and Device2 to implement communication between DC A and DC B. For example, VMa1 and VMb2 need to communicate with each other. To meet this requirement, establish a BGP EVPN peer relationship between Device1 and Device2 so that they can learn MAC and IP routes from each other. In addition, GW1 and GW2 in the data centers are connected to DCI-PE1 and DCI-PE2, respectively, on the backbone network. An L3VPN based on an MPLS TE tunnel is established between DCI-PE1 and DCI-PE2 to transmit VXLAN packets.</p>
<div class="fignone" id="EN-US_TASK_0172363944__fig_dc_vrp_dci_cfg_000301"><a name="EN-US_TASK_0172363944__fig_dc_vrp_dci_cfg_000301"></a><a name="fig_dc_vrp_dci_cfg_000301"></a><span class="figcap"><b>Figure 1 </b>Configuring E2E VXLAN EVPN in a DCI scenario with gateways deployed</span><br><span><img class="vsd" src="figure/en-us_image_0269830782.png" width="NaN" height="NaN"></span></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172363944__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure basic L3VPN functions on the DCI backbone network. For configuration details, see <a href="dc_vrp_mpls-l3vpn-v4_cfg_0154.html">Configuring a Basic BGP/MPLS IP VPN</a>.</span></li><li><span>Configure an E2E VXLAN tunnel based on BGP EVPN on Device1 and Device2. For details, see <a href="dc_vrp_vxlan_cfg_1216.html">Configuring VXLAN</a>.</span><p><p>If only Layer 2 communication between VMs needs to be implemented, Layer 3 gateways do not need to be configured. If VMs need to communicate with each other at Layer 3 or with external networks, a Layer 3 gateway needs to be configured.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dci_cfg_0002.html">Configuring DCI Functions
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dci_cfg_0004.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>