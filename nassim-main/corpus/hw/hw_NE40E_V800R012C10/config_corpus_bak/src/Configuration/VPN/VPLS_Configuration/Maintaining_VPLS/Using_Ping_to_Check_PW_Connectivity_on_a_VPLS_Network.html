
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Using Ping to Check PW Connectivity on a VPLS Network">
<meta name="abstract" content="After you configure a virtual private LAN service (VPLS) network, use pseudo wire (PW) ping to monitor PW connectivity on the VPLS network.">
<meta name="description" content="After you configure a virtual private LAN service (VPLS) network, use pseudo wire (PW) ping to monitor PW connectivity on the VPLS network.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_5023.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_5027.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_0031.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="VPLS">
<meta name="featuretype" content="VPN">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="VPLS">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="VPLS">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="VPLS">
<meta name="featuretype" content="VPN">
<meta name="OWNER" content="l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="c00511010">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001866776644">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Using Ping to Check PW Connectivity on a VPLS Network</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001866776644"></a><a name="EN-US_TASK_0000001866776644"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Using Ping to Check PW Connectivity on a VPLS Network</h1>
<div class="taskbody"><p>After you configure a virtual private LAN service (VPLS) network, use pseudo wire (PW) ping to monitor PW connectivity on the VPLS network.</p>
<div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001866776644__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_prereq729290716214104"><p id="EN-US_TASK_0000001866776644__en-us_task_0172373178_p1499890383214104">Before you run the <a href="cmdqueryname=ping+vpls"><b><span class="cmdname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdname938507206214104">ping vpls</span></b></a> command to check PW connectivity, ensure that the VPLS network has been configured correctly.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001866776644__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_context1810345457214104"><p id="EN-US_TASK_0000001866776644__en-us_task_0172373178_p927785103214104">To check whether a PW on the VPLS network is faulty, run the <a href="cmdqueryname=ping+vpls"><b><span class="cmdname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdname688912047214104">ping vpls</span></b></a> command.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001866776644__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0000001866776644__en-us_task_0172373178_steps515833079214104"><li id="EN-US_TASK_0000001866776644__en-us_task_0172373178_step564227997214104"><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmd1839644074214104">To locate the faulty node on the VPLS network, run either of the following commands as required:</span><p><ul id="EN-US_TASK_0000001866776644__en-us_task_0172373178_ul498842633214104"><li id="EN-US_TASK_0000001866776644__en-us_task_0172373178_li1237666185214104">In BGP mode, run the <a href="cmdqueryname=ping+vpls"><b><span class="cmdname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdname1795475716116">ping vpls</span></b></a> [ <strong><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdparmname10954105717118">-c</span></strong> <i><span class="varname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_varname13954155719113">echo-number</span></i> | <strong><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdparmname1954165714113">-m</span></strong> <i><span class="varname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_varname1095415577116">time-value</span></i> | <strong><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdparmname1495425713111">-s</span></strong> <i><span class="varname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_varname8954115751119">data-bytes</span></i> | <strong><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdparmname69546575111">-t</span></strong> <i><span class="varname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_varname1795415572115">timeout-value</span></i> | <strong><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdparmname2954557191112">-exp</span></strong> <i><span class="varname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_varname695505714111">exp-value</span></i> | <strong><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdparmname195595761118">-r</span></strong> <i><span class="varname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_varname1955657141111">reply-mode</span></i> | <strong><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdparmname139555573115">-v</span></strong> | <strong><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdparmname18955185719112">-g</span></strong> ] <sup id="EN-US_TASK_0000001866776644__en-us_task_0172373178_sup2955135710119">*</sup> <strong><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdparmname995575719115">vsi</span></strong> <i><span class="varname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_varname1395575720116">vsi-name</span></i> <i><span class="varname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_varname895555716115">local-site-id</span></i> <i><span class="varname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_varname59552571119">remote-site-id</span></i><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_ph11955957171116"> [ <strong><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdparmname895545717119">bypass</span></strong> <strong><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdparmname2955457131118">-si</span></strong> <i><span class="varname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_varname13955757161114">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_varname895512578112">interface-number</span></i> ]</span> command.</li><li id="EN-US_TASK_0000001866776644__en-us_task_0172373178_li658110466214104">in LDP mode, run the <a href="cmdqueryname=ping+vpls"><b><span class="cmdname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdname10266132241311">ping vpls</span></b></a> [ <strong><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdparmname19267822131310">-c</span></strong> <i><span class="varname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_varname16267722151319">echo-number</span></i> | <strong><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdparmname126772271312">-m</span></strong> <i><span class="varname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_varname13267922121317">time-value</span></i> | <strong><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdparmname326742215138">-s</span></strong> <i><span class="varname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_varname19267192215139">data-bytes</span></i> | <strong><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdparmname426782251320">-t</span></strong> <i><span class="varname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_varname826711228135">timeout-value</span></i> | <strong><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdparmname1426722241318">-exp</span></strong> <i><span class="varname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_varname6267122210135">exp-value</span></i> | <strong><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdparmname2026712228138">-r</span></strong> <i><span class="varname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_varname13267102213136">reply-mode</span></i> | <strong><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdparmname42672022191315">-v</span></strong> | <strong><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdparmname52671522101319">-g</span></strong> ] <sup id="EN-US_TASK_0000001866776644__en-us_task_0172373178_sup726712227135">*</sup> <strong><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdparmname72671922121312">vsi</span></strong> <i><span class="varname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_varname22672222138">vsi-name</span></i> <strong><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdparmname62673225134">peer</span></strong> <i><span class="varname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_varname16267112211310">peer-address</span></i> [ <strong><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdparmname926717228135">negotiate-vc-id</span></strong> <i><span class="varname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_varname2267162217138">vc-id</span></i> ]<span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_ph526710224139"> [ <strong><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdparmname126742281315">control-word</span></strong> [ <strong><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdparmname10267722171312">remote</span></strong> <i><span class="varname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_varname7267192271314">remote-address</span></i> <i><span class="varname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_varname72672224136">remote-pw-id</span></i> [ <strong><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdparmname10267192211318">sender</span></strong> <i><span class="varname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_varname1926762231315">sender-address</span></i> ] ] ]</span><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_ph1726762211315"> [ <strong><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdparmname426710223134">bypass</span></strong> <strong><span id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdparmname62671522111314">-si</span></strong> <i><span class="varname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_varname1926792211136">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_varname17267122291316">interface-number</span></i> ]</span> command.</li></ul>
</p><p><p id="EN-US_TASK_0000001866776644__en-us_task_0172373178_p1974823400214104">The <a href="cmdqueryname=ping+vpls"><b><span class="cmdname" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_cmdname44490992195159">ping vpls</span></b></a> command output contains the following information:</p>
<ul id="EN-US_TASK_0000001866776644__en-us_task_0172373178_ul20116006214104"><li id="EN-US_TASK_0000001866776644__en-us_task_0172373178_li2009002436214104"><p id="EN-US_TASK_0000001866776644__en-us_task_0172373178_p418560071214104"><a name="EN-US_TASK_0000001866776644__en-us_task_0172373178_li2009002436214104"></a><a name="en-us_task_0172373178_li2009002436214104"></a>Response to each ping VPLS packet. If no response packet is received after the corresponding timer expires, the message reading "Request time out" is displayed. If a response packet is received, the number of data bytes, packet sequence number, TTL, and response time are displayed.</p>
</li><li id="EN-US_TASK_0000001866776644__en-us_task_0172373178_li1236065228214104"><p id="EN-US_TASK_0000001866776644__en-us_task_0172373178_p1938969565214104"><a name="EN-US_TASK_0000001866776644__en-us_task_0172373178_li1236065228214104"></a><a name="en-us_task_0172373178_li1236065228214104"></a>Final statistics: include the number of sent packets, number of received packets, percentage of sent packets with failed responses, and minimum, maximum, and average response times.</p>
</li></ul>
<p id="EN-US_TASK_0000001866776644__en-us_task_0172373178_p1907370111214104">For example:</p>
<pre class="screen" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_screen1226912124214104">&lt;<span class="keyword" id="EN-US_TASK_0000001866776644__en-us_task_0172373178_en-us_cliref_0172384367_keyword338523247214546">HUAWEI</span>&gt;<strong id="EN-US_TASK_0000001866776644__en-us_task_0172373178_en-us_cliref_0172384367_b312292950214546"> ping vpls vsi a2 peer 10.1.1.1</strong>
<span>    PW PING : FEC 128 PSEUDOWIRE (NEW). Type = vlan, ID = 2 : 100 data bytes, press CTRL_C to break
</span>    Reply from 10.1.1.1: bytes=100 Sequence=1 time=60 ms
    Reply from 10.1.1.1: bytes=100 Sequence=2 time=50 ms
    Reply from 10.1.1.1: bytes=100 Sequence=3 time=60 ms
    Reply from 10.1.1.1: bytes=100 Sequence=4 time=60 ms
    Reply from 10.1.1.1: bytes=100 Sequence=5 time=60 ms

  --- FEC: FEC 128 PSEUDOWIRE (NEW). Type = vlan, ID = 2 ping statistics ---
    5 packet(s) transmitted
    5 packet(s) received
    0.00% packet loss
    round-trip min/avg/max = 50/58/60 ms

</pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_5023.html">Maintaining VPLS
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_5027.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_0031.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>