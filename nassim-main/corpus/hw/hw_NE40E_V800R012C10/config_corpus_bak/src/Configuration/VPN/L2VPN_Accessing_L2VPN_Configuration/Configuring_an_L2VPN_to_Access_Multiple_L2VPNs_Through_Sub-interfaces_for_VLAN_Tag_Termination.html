
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an L2VPN to Access Multiple L2VPNs Through Sub-interfaces for VLAN Tag Termination">
<meta name="abstract" content="Configure an L2VPN to access multiple L2VPNs through L3VE sub-interfaces.">
<meta name="description" content="Configure an L2VPN to access multiple L2VPNs through L3VE sub-interfaces.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2-l2_cfg_001.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2-l2_cfg_5008.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2-l2_cfg_005.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2-l2_cfg_5004_copy2.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2-l2_cfg_5020.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2-l2_cfg_5021.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2-l2_cfg_5022.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2-l2_cfg_5023.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="L2VPN Accessing L2VPN">
<meta name="featuretype" content="VPN">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="L2VPN Accessing L2VPN">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="L2VPN Accessing L2VPN">
<meta name="featuretype" content="VPN">
<meta name="OWNER" content="l00415692">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00545680">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001204798491">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Configuring an L2VPN to Access Multiple L2VPNs Through Sub-interfaces for VLAN Tag Termination</title>
</head>
<body><a name="EN-US_TASK_0000001204798491"></a><a name="EN-US_TASK_0000001204798491"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an L2VPN to Access Multiple L2VPNs Through Sub-interfaces for VLAN Tag Termination</h1>
<div class="taskbody"><p>Configure an L2VPN to access multiple L2VPNs through L3VE sub-interfaces.</p>
<div class="context"><a name="EN-US_TASK_0000001204798491__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>As shown in <a href="#EN-US_TASK_0000001204798491__fig_dc_vrp_l2-l3_cfg_501801">Figure 1</a> and <a href="#EN-US_TASK_0000001204798491__fig_dc_vrp_l2-l3_cfg_501802">Figure 2</a>, multiple types of services, such as data, voice, and video, are transmitted on a user network. The sub-interface for VLAN tag termination transmits different VLAN tags to different MPLS L2VPNs on the carrier's bearer network through the L2VPN on the access network. This helps the carrier to allocate network resources based on service types on the bearer network, effectively utilize network resources, and provide differentiated QoS for different types of services.</p>
<p>If the L3VE sub-interface receives single-tagged service data packets from the UPE, configure the L3VE sub-interface as a sub-interface for dot1q VLAN tag termination to access the L2VPN.</p>
<p>If the L3VE sub-interface receives double-tagged service data packets from the UPE, configure the L3VE sub-interface as a sub-interface for QinQ VLAN tag termination to access L2VPN.</p>
<div class="fignone" id="EN-US_TASK_0000001204798491__fig_dc_vrp_l2-l3_cfg_501801"><a name="EN-US_TASK_0000001204798491__fig_dc_vrp_l2-l3_cfg_501801"></a><a name="fig_dc_vrp_l2-l3_cfg_501801"></a><span class="figcap"><b>Figure 1 </b>Typical networking of an L2VPN accessing multiple L2VPNs through sub-interfaces for dot1q VLAN tag termination</span><br><span><img class="vsd" src="figure/en-us_image_0000001158759982.png" width="NaN" height="NaN"></span></div>
<div class="fignone" id="EN-US_TASK_0000001204798491__fig_dc_vrp_l2-l3_cfg_501802"><a name="EN-US_TASK_0000001204798491__fig_dc_vrp_l2-l3_cfg_501802"></a><a name="fig_dc_vrp_l2-l3_cfg_501802"></a><span class="figcap"><b>Figure 2 </b>Typical networking of an L2VPN accessing multiple L2VPNs through sub-interfaces for QinQ VLAN tag termination</span><br><span><img class="vsd" src="figure/en-us_image_0000001204559963.png" width="NaN" height="NaN"></span></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001204798491__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>To configure an L2VPN to access multiple L2VPNs through sub-interfaces for VLAN tag termination, complete the following tasks:</p>
<ul><li><p>Connect interfaces and set parameters for the interfaces to ensure that the physical-layer status of the interfaces is up.</p>
</li><li><p>Enable IGP on the MPLS access network to realize IP connectivity.</p>
</li><li><p>Create VPLS or VLL between UPEs and NPEs.</p>
</li><li><p>Configure an IGP on the MPLS bearer network to realize IP connectivity.</p>
</li><li><p>Configure basic L2VPN functions on NPEs.</p>
</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001204798491__1.4.3"></a><a name="1.4.3"></a>
<div class="p"><h4 class="sectiontitle">Configuration Procedures</h4>
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" frame="border" border="1" rules="all"><thead align="left"><tr><th align="center" class="cellrowborder" valign="top" width="50.25125628140703%" id="mcps1.4.3.2.1.3.1.1" liSelected="liSelected"><p>Configuring an L2VPN to Access Multiple L2VPNs Through Dot1q Sub-interfaces for VLAN Tag Termination</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="49.74874371859296%" id="mcps1.4.3.2.1.3.1.2" liSelected="liSelected"><p>Configuring an L2VPN to Access Multiple L2VPNs Through QinQ Sub-interfaces for VLAN Tag Termination</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" colspan="2" align="center" valign="top" headers="mcps1.4.3.2.1.3.1.1 mcps1.4.3.2.1.3.1.2 "><p>Creating a VE Interface</p>
</td>
</tr>
<tr><td class="cellrowborder" colspan="2" align="center" valign="top" headers="mcps1.4.3.2.1.3.1.1 mcps1.4.3.2.1.3.1.2 "><p>Binding an L2VE Interface to a VPWS or VSI</p>
</td>
</tr>
<tr><td class="cellrowborder" align="center" valign="top" width="50.25125628140703%" headers="mcps1.4.3.2.1.3.1.1 "><p>Creating an L3VE Sub-interface for Dot1q VLAN Tag Termination and Connecting It to an L2VPN </p>
</td>
<td class="cellrowborder" align="center" valign="top" width="49.74874371859296%" headers="mcps1.4.3.2.1.3.1.2 "><p>Creating an L3VE Sub-interface for QinQ VLAN Tag Termination and Connecting It to an L2VPN</p>
</td>
</tr>
</tbody>
</table>
</div>
</div></div>
</div>

<ul class="ullinks">
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2-l2_cfg_5004_copy2.html">Creating a VE Interface</a>
</dt>
<dd>
This section describes how to configure an L2VE interface that terminates L2VPN and an L3VE interface that provides access to L2VPN, and how to bind the VE interfaces to the corresponding VE group.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2-l2_cfg_5020.html">Binding an L2VE Interface to a VPWS or VSI</a>
</dt>
<dd>
This section describes how to configure an L2VE interface to terminate L2VPN.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2-l2_cfg_5021.html">Creating an L3VE Sub-interface for Dot1q VLAN Tag Termination and Connecting It to an L2VPN</a>
</dt>
<dd>
If one tag is carried by a user packet from a UPE, configure the L3VE sub-interface as a sub-interface for dot1q VLAN tag termination for access to L2VPN.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2-l2_cfg_5022.html">Creating an L3VE Sub-interface for QinQ VLAN Tag Termination and Connecting It to an L2VPN</a>
</dt>
<dd>
If an L3VE sub-interface receives double-tagged service packets from a UPE, configure the L3VE sub-interface as a sub-interface for QinQ VLAN tag termination to access L2VPN.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2-l2_cfg_5023.html">Verifying the Configuration</a>
</dt>
<dd>
After an L2VPN accesses multiple L2VPNs through sub-interfaces for VLAN tag termination, you can view the binding between the VE interfaces and VE group, and termination information on VE sub-interfaces.</dd>
</dl>
</ul>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2-l2_cfg_001.html">L2VPN Accessing L2VPN Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2-l2_cfg_5008.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2-l2_cfg_005.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>