
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Resetting BGP Connections">
<meta name="abstract" content="After modifying BGP configurations, you can reset or softly reset the BGP connections for new configurations to take effect.">
<meta name="description" content="After modifying BGP configurations, you can reset or softly reset the BGP connections for new configurations to take effect.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_0094.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_2133.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,l3vpnvrp,w00556928,l00468467,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featuretype" content="VPN">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featuretype" content="VPN">
<meta name="OWNER" content="h00847023">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="h00847023">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172369448">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Resetting BGP Connections</title>
</head>
<body><a name="EN-US_TASK_0172369448"></a><a name="EN-US_TASK_0172369448"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Resetting BGP Connections</h1>
<div class="taskbody"><p>After modifying BGP configurations, you can reset or softly reset the BGP connections for new configurations to take effect.</p>
<div class="context"><a name="EN-US_TASK_0172369448__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="notice"><span class="noticetitle"><img src="../../../../public_sys-resources/notice_3.0-en-us.png"> </span><div class="noticebody"><p>Resetting BGP connections interrupts VPN services. Exercise caution when running this command.</p>
</div></div>
<p>After modifying BGP configurations, you can reset or softly reset the BGP connections for new configurations to take effect. Soft reset requires BGP peers to have the route refresh capability. That means BGP peers must support Route-Refresh messages.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172369448__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Run the <a href="cmdqueryname=refresh+bgp"><b><span class="cmdname">refresh bgp</span></b></a> <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i><span> <strong><span>ipv4-family</span></strong></span> { <strong><span>all</span></strong> | <i><span class="varname">peer-address</span></i> | <strong><span>group</span></strong> <i><span class="varname">group-name</span></i> | <strong><span>internal</span></strong> | <strong><span>external</span></strong> } { <strong><span>import</span></strong> | <strong><span>export</span></strong> } command in the user view to trigger the soft reset of the VPN instance<span> IPv4 address family</span>'s BGP connections in the inbound or outbound direction, so that the new configurations can take effect.</span></li><li><span>Run the <a href="cmdqueryname=refresh+bgp"><b><span class="cmdname">refresh bgp</span></b></a> <strong><span>vpnv4</span></strong> { <strong><span>all</span></strong> | <i><span class="varname">peer-address</span></i> | <strong><span>group</span></strong> <i><span class="varname">group-name</span></i> | <strong><span>internal</span></strong> | <strong><span>external</span></strong> } { <strong><span>import</span></strong> | <strong><span>export</span></strong> } command in the user view to trigger the soft reset of the BGP VPNv4 connections in the inbound or outbound direction, so that the new configurations can take effect.</span></li><li><span>Run the <a href="cmdqueryname=reset+bgp"><b><span class="cmdname">reset bgp</span></b></a> <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i><span> <strong><span>ipv4-family</span></strong></span> { <i><span class="varname">as-number</span></i> | <i><span class="varname">peer-address</span></i> | <strong><span>group</span></strong> <i><span class="varname">group-name</span></i> | <strong><span>all</span></strong> | <strong><span>internal</span></strong> | <strong><span>external</span></strong> } command in the user view to reset the BGP connections<span> of the VPN instance IPv4 address family</span>, so that the new configurations can take effect.</span></li><li><span>Run the <a href="cmdqueryname=reset+bgp"><b><span class="cmdname">reset bgp</span></b></a> <strong><span>vpnv4</span></strong> { <i><span class="varname">as-number</span></i> | <i><span class="varname">peer-address</span></i> | <strong><span>group</span></strong> <i><span class="varname">group-name</span></i> | <strong><span>all</span></strong> | <strong><span>internal</span></strong> | <strong><span>external</span></strong> } command in the user view to reset the BGP VPNv4 connections, so that the new configurations can take effect.</span></li><li><span>Run the <a href="cmdqueryname=reset+bgp"><b><span class="cmdname">reset bgp</span></b></a><strong> <strong><span>vpnv4</span></strong> </strong>[ <em><i><span class="varname">ipv4-address</span></i></em> | <em><i><span class="varname">ipv6-address</span></i></em> ] <strong><span>slow-peer</span></strong> command in the user view to reset the BGP connection with a specified slow peer for the new configuration to take effect.</span></li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_0094.html">Maintaining BGP/MPLS IP VPN
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_2133.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>