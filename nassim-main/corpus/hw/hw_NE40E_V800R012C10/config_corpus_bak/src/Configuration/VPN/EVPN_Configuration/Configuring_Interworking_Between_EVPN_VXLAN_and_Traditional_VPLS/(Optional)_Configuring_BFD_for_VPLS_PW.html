
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring BFD for VPLS PW">
<meta name="abstract" content="Configuring BFD for VPLS PW accelerates PW fault detection, speeding up switching of upper-layer applications.">
<meta name="description" content="Configuring BFD for VPLS PW accelerates PW fault detection, speeding up switching of upper-layer applications.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0040.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0044.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0046.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="p00915595,w00800033,w00556928,l00468467,w00606909,evpnvrp,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="EVPN">
<meta name="featuretype" content="VPN">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="EVPN">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="EVPN">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="EVPN">
<meta name="featuretype" content="VPN">
<meta name="OWNER" content="p00915595">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="p00915595">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172370538">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring BFD for VPLS PW</title>
</head>
<body><a name="EN-US_TASK_0172370538"></a><a name="EN-US_TASK_0172370538"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring BFD for VPLS PW</h1>
<div class="taskbody"><p>Configuring BFD for VPLS PW accelerates PW fault detection, speeding up switching of upper-layer applications.</p>
<div class="context"><a name="EN-US_TASK_0172370538__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Context</h4><p>On the network shown in <a href="#EN-US_TASK_0172370538__fig_dc_vrp_evpn_cfg_110001">Figure 1</a>, PE3 is dual-homed to PE1 and PE2, and an MPLS L2VPN is deployed between the PEs, with PW connections configured. To accelerate PW fault detection, static BFD for VPLS PW can be configured on PE1, PE2, and PE3. The configuration allows fast switching of upper-layer applications.</p>
<div class="fignone" id="EN-US_TASK_0172370538__fig_dc_vrp_evpn_cfg_110001"><a name="EN-US_TASK_0172370538__fig_dc_vrp_evpn_cfg_110001"></a><a name="fig_dc_vrp_evpn_cfg_110001"></a><span class="figcap"><b>Figure 1 </b>VXLAN accessing VPLS (dual-homing networking)</span><br><span><img class="vsd" src="images/fig_vxlan_vpls_01.png" width="NaN" height="NaN"></span></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172370538__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=bfd"><b><span class="cmdname">bfd</span></b></a></span></span><p><p>BFD is enabled globally, and the global BFD view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span></span><p><p>Return to the system view.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=bfd"><b><span class="cmdname">bfd</span></b></a> <i><span class="varname">session-name</span></i> <strong><span>bind pw</span></strong> <strong><span>vsi</span></strong> <i><span class="varname">vsi-name</span></i> <strong><span>peer</span></strong> <i><span class="varname">peer-address</span></i> [ <strong><span>vc-id</span></strong> <i><span class="varname">vc-id</span></i> ] [ <strong><span>remote-peer</span></strong> <i><span class="varname">remote-peer-address</span></i> <strong><span>pw-ttl</span></strong> { <strong><span>auto-calculate</span></strong> | <i><span class="varname">ttl-number</span></i> } ]</span></span><p><p>BFD configuration items are created.</p>
</p></li><li><span>Run the following commands to configure BFD session discriminators:</span><p><ul><li><p>Run the <a href="cmdqueryname=discriminator"><b><span class="cmdname">discriminator</span></b></a> <strong><span>local</span></strong> <i><span class="varname">discr-value</span></i> command to set the local discriminator.</p>
</li><li><p>Run the <a href="cmdqueryname=discriminator"><b><span class="cmdname">discriminator</span></b></a> <strong><span>remote</span></strong> <i><span class="varname">discr-value</span></i> command to set the remote discriminator.</p>
</li></ul>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>For a BFD session, the local discriminator on one end must be the remote discriminator on the other end.</p>
</div></div>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p><p><p>If the status of a PW is Down, the BFD session can be established but cannot go Up.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>You must simultaneously configure or cancel BFD for PW on both PEs. Otherwise, the PW status on endpoint PEs may be inconsistent.</li><li><p>To modify parameters of a created BFD session, run the <a href="cmdqueryname=min-tx-interval"><b><span class="cmdname">min-tx-interval</span></b></a>, <a href="cmdqueryname=min-rx-interval"><b><span class="cmdname">min-rx-interval</span></b></a>, and <a href="cmdqueryname=detect-multiplier"><b><span class="cmdname">detect-multiplier</span></b></a> commands as needed.</p>
</li></ul>
</div></div>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0040.html">Configuring Interworking Between EVPN VXLAN and Traditional VPLS
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0044.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0046.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>