
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Inter-AS BGP VPLS Option B">
<meta name="abstract" content="The advantage of the inter-AS Option B mode is that ASBRs exchange information through routes rather than dedicated links. The disadvantage of the inter-AS Option B mode is that label mappings need to be configured on ASBRs, and consequently, a great number of labels are consumed. In addition, an ASBR needs to set up an LSP with each PE, which results in the shortage of label resources on the ASBR and easily leads to a bottleneck.">
<meta name="description" content="The advantage of the inter-AS Option B mode is that ASBRs exchange information through routes rather than dedicated links. The disadvantage of the inter-AS Option B mode is that label mappings need to be configured on ASBRs, and consequently, a great number of labels are consumed. In addition, an ASBR needs to set up an LSP with each PE, which results in the shortage of label resources on the ASBR and easily leads to a bottleneck.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_6023.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_6016.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_6017.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00556928,w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="VPLS">
<meta name="featuretype" content="VPN">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="VPLS">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="VPLS">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="VPLS">
<meta name="featuretype" content="VPN">
<meta name="OWNER" content="l00415692">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00830487">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0200591864">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Inter-AS BGP VPLS Option B</title>
</head>
<body><a name="EN-US_TASK_0200591864"></a><a name="EN-US_TASK_0200591864"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Inter-AS BGP VPLS Option B</h1>
<div class="taskbody"><p>The advantage of the inter-AS Option B mode is that ASBRs exchange information through routes rather than dedicated links. The disadvantage of the inter-AS Option B mode is that label mappings need to be configured on ASBRs, and consequently, a great number of labels are consumed. In addition, an ASBR needs to set up an LSP with each PE, which results in the shortage of label resources on the ASBR and easily leads to a bottleneck.</p>
<div class="steps"><a name="EN-US_TASK_0200591864__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure BGP VPLS on each PE and ASBR in each AS. For configuration details, see <a href="dc_vrp_vpls_cfg_6005.html">Configuring BGP VPLS</a>.</span></li><li><span>Configure an MP-IBGP connection on each ASBR in each AS.</span><p><ol type="a"><li>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a><p>The system view is displayed.</p>
</li><li><p>Run <a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <em>as-number</em></p>
<p>The BGP view is displayed.</p>
</li><li><p>Run <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">ipv4-address</span></i> <strong><span>as-number</span></strong> <i><span class="varname">as-number</span></i></p>
<p>An AS number is set for a specified peer.</p>
</li><li><p>Run <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> { <i><span class="varname">group-name</span></i> | <i><span class="varname">ipv4-address</span></i> } <strong><span>connect-interface</span></strong> { <em>interface-type</em><em> </em><i><span class="varname">interface-number</span></i> | <i><span class="varname">ipv4-source-address</span></i> }</p>
<p>A source interface from which BGP messages are sent or a source address used for initiating a connection is specified.</p>
</li><li>Run <a href="cmdqueryname=l2vpn-ad-family"><b><span class="cmdname">l2vpn-ad-family</span></b></a><p>The BGP L2VPN AD address family view is displayed.</p>
</li><li>Run<strong> </strong><a href="cmdqueryname=policy+vpn-target"><b><span class="cmdname">policy vpn-target</span></b></a><p>The device is enabled to filter routes based on VPN targets.</p>
</li><li>Run <a href="cmdqueryname=tunnel-selector"><b><span class="cmdname">tunnel-selector</span></b></a> <i><span class="varname">tunnel-selector-name</span></i><p>A tunnel selector is specified.</p>
</li><li>Run <a href="cmdqueryname=signaling+vpls"><b><span class="cmdname">signaling vpls</span></b></a><p>The VPLS signaling capability is enabled.</p>
</li><li>Run <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a><em> </em><i><span class="varname">ipv4-address</span></i><strong> </strong><strong><span>enable</span></strong><p>The capability to exchange routes with a specified BGP peer is configured.</p>
</li><li>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a><p>Return to the system view.</p>
</li><li>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a><p>The configuration is committed.</p>
</li></ol>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_6023.html">Configuring Inter-AS VPLS
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_6016.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_6017.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>