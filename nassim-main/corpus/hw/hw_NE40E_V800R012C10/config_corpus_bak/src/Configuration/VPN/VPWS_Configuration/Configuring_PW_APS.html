
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring PW APS">
<meta name="abstract" content="Pseudo wire (PW) automatic protection switching (APS) applies to scenarios where the primary and secondary PWs share the same source and same destination.">
<meta name="description" content="Pseudo wire (PW) automatic protection switching (APS) applies to scenarios where the primary and secondary PWs share the same source and same destination.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_3000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_6021.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_6034.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_6029.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_6030.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_6031.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_6032.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_6033.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="VPWS">
<meta name="featuretype" content="VPN">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="VPWS">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="VPWS">
<meta name="featuretype" content="VPN">
<meta name="OWNER" content="l00415692">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00415692">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172369864">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring PW APS</title>
</head>
<body><a name="EN-US_TASK_0172369864"></a><a name="EN-US_TASK_0172369864"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring PW APS</h1>
<div class="taskbody"><p>Pseudo wire (PW) automatic protection switching (APS) applies to scenarios where the primary and secondary PWs share the same source and same destination. </p>
<div class="context"><a name="EN-US_TASK_0172369864__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>In a PW APS scenario, PW OAM detects the status of the active and standby PWs. When PW OAM detects a fault on the active PW, it immediately notifies PW APS of the fault, which is then triggered to perform an active/standby PW switchover. The PWs can be classified as single-segment PWs (SS-PWs) or multi-segment PWs (MS-PWs) or be classified as dynamic PWs or static PWs. See <a href="#EN-US_TASK_0172369864__fig_dc_vrp_vpws_cfg_602801">Figure 1</a> and <a href="#EN-US_TASK_0172369864__fig_dc_vrp_vpws_cfg_602802">Figure 2</a>.</p>
<div class="fignone" id="EN-US_TASK_0172369864__fig_dc_vrp_vpws_cfg_602801"><a name="EN-US_TASK_0172369864__fig_dc_vrp_vpws_cfg_602801"></a><a name="fig_dc_vrp_vpws_cfg_602801"></a><span class="figcap"><b>Figure 1 </b>PW APS networking for MS-PWs</span><br><span><img class="vsd" src="images/fig_dc_vrp_vpws_cfg_602801.png" width="NaN" height="NaN"></span><br></div>
<div class="fignone" id="EN-US_TASK_0172369864__fig_dc_vrp_vpws_cfg_602802"><a name="EN-US_TASK_0172369864__fig_dc_vrp_vpws_cfg_602802"></a><a name="fig_dc_vrp_vpws_cfg_602802"></a><span class="figcap"><b>Figure 2 </b>PW APS networking for SS-PWs</span><br><span><img class="vsd" src="images/fig_dc_vrp_vpws_cfg_602802.png" width="NaN" height="NaN"></span><br></div>
<h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring PW protection, complete the following tasks:</p>
<ul><li><p>Configure IP addresses and an IGP on PEs.</p>
</li><li><p>Establish public network tunnels between PEs. The public network tunnels can be:</p>
<ul><li><p>TE tunnel: To establish a TE tunnel, you must enable MPLS, MPLS TE, and RSVP-TE both globally and per interface on each public network node along the tunnel, and enable CSPF in the MPLS view of the tunnel ingress. </p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Because pseudo wire emulation edge-to-edge (PWE3) uses LDP to distribute VPN labels, you must globally enable MPLS LDP on PEs and establish remote MPLS LDP sessions if TE tunnels are used as public network tunnels.</p>
<p>If the public network tunnels are not TE tunnels, you must configure tunnel policies and apply them to these tunnels.</p>
</div></div>
</li></ul>
</li><li><p>Enable MPLS L2VPN on PEs.</p>
</li></ul>
</div>
</div></div>
</div>

<ul class="ullinks">
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_6029.html">Configuring a PW Protection Group</a>
</dt>
<dd>
In a PW APS scenario, a PW protection group consists of primary and secondary PWs. The PWs can be either SS-PWs or MS-PWs.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_6030.html">Configuring a PW APS Instance and Bind a PW Protection Group to the PW APS Instance</a>
</dt>
<dd>
The state machine of a PW APS instance determines the protection switching in PW protection groups associated with the instance.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_6031.html">Configuring PW OAM to Detect Public Network Link Faults</a>
</dt>
<dd>
PW OAM includes Multiprotocol Label Switching Transport Profile (MPLS-TP) OAM<span> and MPLS OAM</span>. PW OAM can quickly detect PW faults, enabling speedy PW switching for service protection.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_6032.html">(Optional) Configuring PW APS Parameters</a>
</dt>
<dd>
This section describes how to configure PW APS parameters, such as the switchback mode, hold time for PW switchover, and WTR time for PW switchback. In network O&amp;M, you can manually trigger PW switching with commands.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_6033.html">Verifying the PW APS Configuration</a>
</dt>
<dd>
After you complete the configurations, check information about the PW APS instance and its associated PW protection groups.</dd>
</dl>
</ul>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_3000.html">VPWS Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_6021.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_6034.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>