
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Tunnel Routes">
<meta name="abstract" content="Routes for a tunnel must be available on both the source and destination devices so that packets encapsulated with GRE can be forwarded correctly.">
<meta name="description" content="Routes for a tunnel must be available on both the source and destination devices so that packets encapsulated with GRE can be forwarded correctly.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_gre_cfg_2045.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_gre_cfg_2046.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_gre_cfg_2048.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00556928,grevrp,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="GRE">
<meta name="featuretype" content="VPN">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="GRE">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="GRE">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="GRE">
<meta name="featuretype" content="VPN">
<meta name="OWNER" content="h00847023">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00425560">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172369122">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Tunnel Routes</title>
</head>
<body><a name="EN-US_TASK_0172369122"></a><a name="EN-US_TASK_0172369122"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">Configuring Tunnel Routes</h1>



<div class="taskbody"><p>Routes for a tunnel must be available on both the source
and destination devices so that packets encapsulated with GRE can
be forwarded correctly. </p>

<div class="context"><a name="EN-US_TASK_0172369122__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Packets can be properly forwarded over an IPv6 GRE tunnel
only if the local and remote devices both have routes that are advertised
over the tunnel. Currently, only static routes can be advertised over
an IPv6 GRE tunnel. A static route must be configured on both the
source and destination devices. The destination address of the static
route is neither the destination address of the tunnel nor the address
of the destination tunnel interface. Instead, it is the destination
address of the packet that is not encapsulated using IPv6 GRE. The
outbound interface must be the tunnel interface at the local end. </p>
<p>Perform the following steps on the <span class="keyword">Router</span>s at both ends of the tunnel:</p>
</div></div>

<div class="steps"><a name="EN-US_TASK_0172369122__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol>
<li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span>
<p><p>The system view is displayed.</p>
</p>
</li>
<li><span>Choose either of the following methods to configure static
routes to be advertised over the IPv6 GRE tunnel:</span>
<p><ul><li><p>If an IPv4 address is configured for the tunnel interface:</p>
<p>Run the <a href="cmdqueryname=ip+route-static"><b><span class="cmdname">ip route-static</span></b></a> <i><span class="varname">dest-ip-address</span></i> { <i><span class="varname">mask</span></i> | <i><span class="varname">mask-length</span></i> } <strong><span>tunnel</span></strong> <i><span class="varname">interface-number</span></i> [ <strong><span>description</span></strong> <i><span class="varname">text</span></i> ] command to configure
an IPv4 static route.</p>
</li><li><p>If an IPv6 address is configured for the tunnel interface:</p>
<p>Run the <a href="cmdqueryname=ipv6+route-static"><b><span class="cmdname">ipv6 route-static</span></b></a> <i><span class="varname">dest-ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> [ <i><span class="varname">nexthop-ipv6-address</span></i> ] | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> <i><span class="varname">nexthop-ipv6-address</span></i> | <i><span class="varname">nexthop-ipv6-address</span></i> } [ <strong><span>description</span></strong> <i><span class="varname">text</span></i> ] command to configure an IPv6 static route.</p>
</li></ul>
</p>
</li>
<li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span>
<p><p>The configuration is committed.</p>
</p>
</li>
</ol></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_gre_cfg_2045.html">Configuring an IPv6 GRE Tunnel
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_gre_cfg_2046.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_gre_cfg_2048.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>