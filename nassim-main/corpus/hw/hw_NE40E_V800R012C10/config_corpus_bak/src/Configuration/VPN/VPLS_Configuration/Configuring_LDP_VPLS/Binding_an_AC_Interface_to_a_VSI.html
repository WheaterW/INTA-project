
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Binding an AC Interface to a VSI">
<meta name="abstract" content="The view in which an AC interface is bound to a VSI depends on the type of link between the PE and CE.">
<meta name="description" content="The view in which an AC interface is bound to a VSI depends on the type of link between the PE and CE.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_5003.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_5004.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_5074.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="VPLS">
<meta name="featuretype" content="VPN">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="VPLS">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="VPLS">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="VPLS">
<meta name="featuretype" content="VPN">
<meta name="OWNER" content="l00415692">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00415692">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172370099">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Binding an AC Interface to a VSI</title>
</head>
<body><a name="EN-US_TASK_0172370099"></a><a name="EN-US_TASK_0172370099"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Binding an AC Interface to a VSI</h1>
<div class="taskbody" id="taskbody475609105214053"><p id="shortdesc349918100214053">The view in which an AC interface is bound to a VSI depends on the type of link between the PE and CE.</p>
<div class="context"><a name="EN-US_TASK_0172370099__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0172370099__context1466426136214053"><p id="EN-US_TASK_0172370099__p729017325532">Depending on the type of link between a PE and a CE, the binding scenarios are as follows:</p>
<ul id="EN-US_TASK_0172370099__ul869236714214053"><li id="EN-US_TASK_0172370099__li1572804108214053">Binding an Ethernet interface to a VSI: applies to scenarios where a PE uses a GE interface to connect to a CE.</li><li id="EN-US_TASK_0172370099__li1664325246214053">Binding an Ethernet sub-interface to a VSI: applies to scenarios where a PE uses a GE sub-interface to connect to a CE.</li><li id="EN-US_TASK_0172370099__li1591624547214053">Binding a VLANIF interface to a VSI: applies to scenarios where a PE uses a VLANIF interface to connect to a CE.</li><li id="EN-US_TASK_0172370099__li1394702165214053">Binding an L2VE sub-interface to a VSI: applies to scenarios where a PE uses an L2VE sub-interface to connect to a CE.</li><li id="EN-US_TASK_0172370099__li1612621479214053">Binding an Eth-Trunk interface to a VSI: applies to scenarios where a PE uses an Eth-Trunk interface to connect to a CE.</li><li id="EN-US_TASK_0172370099__li469066283214053">Binding an Eth-Trunk sub-interface to a VSI: applies to scenarios where a PE uses an Eth-Trunk sub-interface to connect to a CE.</li><li id="EN-US_TASK_0172370099__li1926382246214053">Binding a dot1q VLAN tag termination sub-interface to a VSI: applies to scenarios where a PE uses a dot1q VLAN tag termination sub-interface to connect to a CE.</li><li id="EN-US_TASK_0172370099__li96091934606">Binding a QinQ VLAN tag termination sub-interface to a VSI: applies to scenarios where a PE uses a QinQ VLAN tag termination sub-interface to connect to a CE.</li><li id="EN-US_TASK_0172370099__li182179388018">Binding a QinQ stacking sub-interface to a VSI: applies to scenarios where a PE uses a QinQ stacking sub-interface to connect to a CE.</li></ul>
<div class="note" id="EN-US_TASK_0172370099__note302879329214053"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172370099__p956639113214053">In VPLS applications, different CEs are transparently connected to each other on the same network segment of a LAN through VSIs, and the IP addresses of the CEs therefore must be different. The IP address of the interface connecting a PE to a CE and the IP address of the CE must be on different network segments. Otherwise, the local CE may learn incorrect ARP entries, leading to traffic loss between CEs in the same VSI.</p>
</div></div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172370099__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul id="EN-US_TASK_0172370099__steps-unordered871490910214053"><li id="EN-US_TASK_0172370099__step1478059648214053"><span id="EN-US_TASK_0172370099__cmd1805159087214053">Bind an Ethernet interface to a VSI.</span><ol id="EN-US_TASK_0172370099__substeps1172369340214053"><li class="substepexpand" id="EN-US_TASK_0172370099__substep1869306417214053"><span id="EN-US_TASK_0172370099__cmd1833264603214345">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname39867342214345">system-view</span></b></a></span><p><p id="EN-US_TASK_0172370099__p1433954869214345">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep2093884954214053"><span id="EN-US_TASK_0172370099__cmd281017592214345">Run <a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname312743180214345">interface</span></b></a> <i><span class="varname" id="EN-US_TASK_0172370099__varname618903223214345">interface-type interface-number</span></i></span><p><p id="EN-US_TASK_0172370099__p1882909266214345">The view of the AC interface (Ethernet interface) used by the PE to directly connect to the CE is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep1897857597214053"><span id="EN-US_TASK_0172370099__cmd2028502931214345">Run <a href="cmdqueryname=l2+binding"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname1614530293214345">l2 binding</span></b></a> <strong><span id="EN-US_TASK_0172370099__cmdparmname506605135214345">vsi</span></strong> <i><span class="varname" id="EN-US_TASK_0172370099__varname552619063214345">vsi-name</span></i> [ <strong><span id="EN-US_TASK_0172370099__cmdparmname320474064214345">access-port</span></strong> ]</span><p><p id="EN-US_TASK_0172370099__p1588130113214345">The Ethernet interface is bound to a VSI.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep628923040214053"><span id="EN-US_TASK_0172370099__cmd2048884366214345">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname1099074361214345">commit</span></b></a></span><p><p id="EN-US_TASK_0172370099__p1430934338214345">The configuration is committed.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0172370099__step1331087400214053"><span id="EN-US_TASK_0172370099__cmd1248781001214053">Bind an Ethernet sub-interface to a VSI.</span><ol id="EN-US_TASK_0172370099__substeps1313489283214053"><li class="substepexpand" id="EN-US_TASK_0172370099__substep76393142214053"><span id="EN-US_TASK_0172370099__cmd945405287214345">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname1049094849214345">system-view</span></b></a></span><p><p id="EN-US_TASK_0172370099__p1919981612214345">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep100521006214053"><span id="EN-US_TASK_0172370099__cmd660143707214345">Run <a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname270580509214053">interface</span></b></a> <i><span class="varname" id="EN-US_TASK_0172370099__varname544398029183238">interface-type interface-number.subinterface-number</span></i></span><p><p id="EN-US_TASK_0172370099__p500241712214345">The view of the AC interface (sub-interface) used by the PE to directly connect to a CE is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep431698564214053"><span id="EN-US_TASK_0172370099__cmd2019867242214345">Run <a href="cmdqueryname=vlan-type+dot1q"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname392137280214345">vlan-type dot1q</span></b></a> <i><span class="varname" id="EN-US_TASK_0172370099__varname1716019735214345">vlan-id</span></i></span><p><p id="EN-US_TASK_0172370099__p1806017611214345">The VLAN encapsulation type is set on the sub-interface.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep307925648214053"><span id="EN-US_TASK_0172370099__cmd709089819214345">Run <a href="cmdqueryname=l2+binding"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname323653260214345">l2 binding</span></b></a> <strong><span id="EN-US_TASK_0172370099__cmdparmname1721794105214345">vsi</span></strong> <i><span class="varname" id="EN-US_TASK_0172370099__varname992210182214345">vsi-name</span></i></span><p><p id="EN-US_TASK_0172370099__p1868503246214345">The Ethernet sub-interface is bound to a VSI.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep1432789142214053"><span id="EN-US_TASK_0172370099__cmd1003069916214345">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname135989219214345">commit</span></b></a></span><p><p id="EN-US_TASK_0172370099__p503621071214345">The configuration is committed.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0172370099__step1035781508214053"><span id="EN-US_TASK_0172370099__cmd1206699516214053">Bind a VLANIF interface to a VSI.</span><p></p><ol id="EN-US_TASK_0172370099__substeps1245047996214053"><li class="substepexpand" id="EN-US_TASK_0172370099__substep1129408231214053"><span id="EN-US_TASK_0172370099__cmd709894761214345">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname1309902980214345">system-view</span></b></a></span><p><p id="EN-US_TASK_0172370099__p1253957262214345">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep1668329992214053"><span id="EN-US_TASK_0172370099__cmd662858798214345">Run <a href="cmdqueryname=interface+vlanif"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname1358503409214345">interface vlanif</span></b></a> <i><span class="varname" id="EN-US_TASK_0172370099__varname129914175214345">vlan-id</span></i></span><p><p id="EN-US_TASK_0172370099__p1079059159214345">The VLANIF interface view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep1869686481214053"><span id="EN-US_TASK_0172370099__cmd310802421214345">Run <a href="cmdqueryname=l2+binding"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname985053672214345">l2 binding</span></b></a> <strong><span id="EN-US_TASK_0172370099__cmdparmname453034397214345">vsi</span></strong> <i><span class="varname" id="EN-US_TASK_0172370099__varname1096542934214345">vsi-name</span></i></span><p><p id="EN-US_TASK_0172370099__p727623605214345">The VLANIF interface is bound to a VSI.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep1730390221214053"><span id="EN-US_TASK_0172370099__cmd1957932651214345">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname1277818366214345">commit</span></b></a></span><p><p id="EN-US_TASK_0172370099__p300876214214345">The configuration is committed.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0172370099__step1761196504214053"><span id="EN-US_TASK_0172370099__cmd1334955372214053">Bind an L2VE sub-interface to a VSI.</span><p></p><ol id="EN-US_TASK_0172370099__substeps2096052355214053"><li class="substepexpand" id="EN-US_TASK_0172370099__substep1307763165214053"><span id="EN-US_TASK_0172370099__cmd1557982513214345">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname1523838383214345">system-view</span></b></a></span><p><p id="EN-US_TASK_0172370099__p1231661435214345">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep422768008214053"><span id="EN-US_TASK_0172370099__cmd326542130214345">Run <a href="cmdqueryname=interface+virtual-ethernet"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname1929712452214053">interface virtual-ethernet</span></b></a> <i><span class="varname" id="EN-US_TASK_0172370099__varname79945643214053">interface-number.subinterface-number</span></i></span><p><p id="EN-US_TASK_0172370099__p292887147214345">The VE sub-interface view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep1521824981214053"><span id="EN-US_TASK_0172370099__cmd388097338214345">Run <a href="cmdqueryname=vlan-type"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname263119816214345">vlan-type</span></b></a> <strong><span id="EN-US_TASK_0172370099__cmdparmname739975317214345">dot1q</span></strong><i><span class="varname" id="EN-US_TASK_0172370099__varname1028039681214345"> vlan-id</span></i></span><p><p id="EN-US_TASK_0172370099__p672571953214345">The VLAN ID of the VE sub-interface is configured.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep126935818214053"><span id="EN-US_TASK_0172370099__cmd774634543214345">Run <a href="cmdqueryname=l2+binding"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname959747638214345">l2 binding</span></b></a> <strong><span id="EN-US_TASK_0172370099__cmdparmname508764893214345">vsi</span></strong> <i><span class="varname" id="EN-US_TASK_0172370099__varname1925834569214345">vsi-name</span></i></span><p><p id="EN-US_TASK_0172370099__p83720909214345">The L2VE sub-interface is bound to a VSI.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep2015255001214053"><span id="EN-US_TASK_0172370099__cmd862355591214345">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname395659465214345">commit</span></b></a></span><p><p id="EN-US_TASK_0172370099__p1758813515214345">The configuration is committed.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0172370099__step50591010214053"><span id="EN-US_TASK_0172370099__cmd2027064505214053">Bind an Eth-Trunk interface to a VSI.</span><ol id="EN-US_TASK_0172370099__substeps881843849214053"><li class="substepexpand" id="EN-US_TASK_0172370099__substep827030918214053"><span id="EN-US_TASK_0172370099__cmd513422973214345">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname2010037919214345">system-view</span></b></a></span><p><p id="EN-US_TASK_0172370099__p1547230770214345">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep289532648214053"><span id="EN-US_TASK_0172370099__cmd2087361386214345">Run <a href="cmdqueryname=interface+eth-trunk"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname1301377494214345">interface eth-trunk</span></b></a> <i><span class="varname" id="EN-US_TASK_0172370099__varname1398516342214345">trunk-id</span></i></span><p><p id="EN-US_TASK_0172370099__p1622208548214345">An Eth-Trunk interface is created.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep19628436214053"><span id="EN-US_TASK_0172370099__cmd1340816438214345">Run <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname1373072682214345">quit</span></b></a></span><p><p id="EN-US_TASK_0172370099__p1588674754214345">Return to the system view.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep512197620214053"><span id="EN-US_TASK_0172370099__cmd1793229447214345">Run <a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname150444673214345">interface</span></b></a> <i><span class="varname" id="EN-US_TASK_0172370099__varname1320039764214345">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0172370099__varname402600835214345">interface-number</span></i></span><p><p id="EN-US_TASK_0172370099__p183053308214345">The view of the interface to be added to the Eth-Trunk interface is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep1248181656214053"><span id="EN-US_TASK_0172370099__cmd1358116576344">Run <a href="cmdqueryname=eth-trunk"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname230272920214345">eth-trunk</span></b></a> <i><span class="varname" id="EN-US_TASK_0172370099__varname1952902539214345">trunk-id</span></i></span><p><p id="EN-US_TASK_0172370099__p120154714345">The interface is added to the Eth-Trunk interface.</p>
</p><p><p id="EN-US_TASK_0172370099__p345171714214053">An interface to be added to an Eth-Trunk interface cannot have Layer 3 configurations (such as IP addresses) or services.</p>
<p id="EN-US_TASK_0172370099__p1694677205214053">One Ethernet interface can be added only to one Eth-Trunk interface. Before adding an Ethernet interface to an Eth-Trunk interface, ensure that the Ethernet interface does not belong to any Eth-Trunk interface. </p>
<p id="EN-US_TASK_0172370099__p348629168214053">The types of the interfaces on both ends of an Eth-Trunk member link must be the same.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep1923205533214053"><span id="EN-US_TASK_0172370099__cmd456839861214345">Run <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname778332243214345">quit</span></b></a></span><p><p id="EN-US_TASK_0172370099__p2001936199214345">Return to the system view.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep432849450214053"><span id="EN-US_TASK_0172370099__cmd465249424214345">Run <a href="cmdqueryname=interface+eth-trunk"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname1981211772214345">interface eth-trunk</span></b></a> <i><span class="varname" id="EN-US_TASK_0172370099__varname684301483214345">trunk-id</span></i></span><p><p id="EN-US_TASK_0172370099__p973587459214345">The Eth-Trunk interface view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep677194039214053"><span id="EN-US_TASK_0172370099__cmd1955420370214345">Run <a href="cmdqueryname=l2+binding"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname58306107214053">l2 binding</span></b></a> <strong><span id="EN-US_TASK_0172370099__cmdparmname1644270423214053">vsi</span></strong> <i><span class="varname" id="EN-US_TASK_0172370099__varname1603480025214053">vsi-name</span></i> [ <strong><span id="EN-US_TASK_0172370099__cmdparmname1983039945214053">access-port</span></strong> ]</span><p><p id="EN-US_TASK_0172370099__p1185883132214345">The Eth-Trunk interface is bound to a VSI.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep377162539214053"><span id="EN-US_TASK_0172370099__cmd277735800214345">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname1383184144214345">commit</span></b></a></span><p><p id="EN-US_TASK_0172370099__p257748022214345">The configuration is committed.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0172370099__step341258918214053"><span id="EN-US_TASK_0172370099__cmd1757297336214053">Bind an Eth-Trunk sub-interface to a VSI.</span><ol id="EN-US_TASK_0172370099__substeps1633705835214053"><li class="substepexpand" id="EN-US_TASK_0172370099__substep26810271214053"><span id="EN-US_TASK_0172370099__cmd667883746214345">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname182870547214345">system-view</span></b></a></span><p><p id="EN-US_TASK_0172370099__p1087621726214345">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep1953783558214053"><span id="EN-US_TASK_0172370099__cmd666740546214345">Run <a href="cmdqueryname=interface+eth-trunk"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname173564723214345">interface eth-trunk</span></b></a> <i><span class="varname" id="EN-US_TASK_0172370099__varname953711863214345">trunk-id</span></i></span><p><p id="EN-US_TASK_0172370099__p1679135917214345">An Eth-Trunk interface is created.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep984684229214053"><span id="EN-US_TASK_0172370099__cmd1588363669214345">Run <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname1884696310214345">quit</span></b></a></span><p><p id="EN-US_TASK_0172370099__p466300463214345">Return to the system view.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep1386763699214053"><span id="EN-US_TASK_0172370099__cmd15128113355120">Run <a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname1696643157214345">interface</span></b></a> <i><span class="varname" id="EN-US_TASK_0172370099__varname633471908214345">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0172370099__varname313194269214345">interface-number</span></i></span><p><p id="EN-US_TASK_0172370099__p1547115973711">The view of the interface to be added to the Eth-Trunk interface is displayed.</p>
</p><p><p id="EN-US_TASK_0172370099__p1883985849214053">An Eth-Trunk member interface cannot be configured with a static MAC address.</p>
<div class="note" id="EN-US_TASK_0172370099__note1010359244214053"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172370099__p954617079214053">The member interfaces of a trunk interface cannot be Eth-Trunk interfaces.</p>
</div></div>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep471861879214053"><span id="EN-US_TASK_0172370099__cmd111281033175115">Run <a href="cmdqueryname=eth-trunk"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname1541786193214345">eth-trunk</span></b></a> <i><span class="varname" id="EN-US_TASK_0172370099__varname252584198214345">trunk-id</span></i></span><p><p id="EN-US_TASK_0172370099__p2218132173717">The interface is added to the Eth-Trunk interface.</p>
</p><p><p id="EN-US_TASK_0172370099__p1900026290214053">An interface to be added to an Eth-Trunk interface cannot have Layer 3 configurations (such as IP addresses) or services. </p>
<p id="EN-US_TASK_0172370099__p1289491225214053">One Ethernet interface can be added only to one Eth-Trunk interface. Before adding an Ethernet interface to an Eth-Trunk interface, ensure that the Ethernet interface does not belong to any Eth-Trunk interface. </p>
<p id="EN-US_TASK_0172370099__p1216596544214053">The types of the interfaces on both ends of an Eth-Trunk member link must be the same.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep865892197214053"><span id="EN-US_TASK_0172370099__cmd408445662214345">Run <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname74461074214345">quit</span></b></a></span><p><p id="EN-US_TASK_0172370099__p887472785214345">Return to the system view.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep195384966214053"><span id="EN-US_TASK_0172370099__cmd2024935369214345">Run <a href="cmdqueryname=interface+eth-trunk"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname400496278214053">interface eth-trunk</span></b></a> <i><span class="varname" id="EN-US_TASK_0172370099__varname378175301214053">trunk-id interface-number</span></i></span><p><p id="EN-US_TASK_0172370099__p1624046555214345">The Eth-Trunk sub-interface view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep797329660214053"><span id="EN-US_TASK_0172370099__cmd1151267138214345">Run <a href="cmdqueryname=vlan-type+dot1q"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname1591379402214345">vlan-type dot1q</span></b></a> <i><span class="varname" id="EN-US_TASK_0172370099__varname1680941331214345">vlan-id</span></i></span><p><p id="EN-US_TASK_0172370099__p469715737214345">The VLAN encapsulation type is set on the sub-interface.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep116572493214053"><span id="EN-US_TASK_0172370099__cmd1225163125214345">Run <a href="cmdqueryname=l2+binding"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname1733231406214345">l2 binding</span></b></a> <strong><span id="EN-US_TASK_0172370099__cmdparmname2081299160214345">vsi</span></strong> <i><span class="varname" id="EN-US_TASK_0172370099__varname807565546214345">vsi-name</span></i></span><p><p id="EN-US_TASK_0172370099__p450396800214345">The Eth-Trunk sub-interface is bound to a VSI.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep2132293009214053"><span id="EN-US_TASK_0172370099__cmd1879652274214345">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname237075488214345">commit</span></b></a></span><p><p id="EN-US_TASK_0172370099__p1818953263214345">The configuration is committed.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0172370099__step438591188214053"><span id="EN-US_TASK_0172370099__cmd1238220212214053">Bind a dot1q VLAN tag termination sub-interface to a VSI.</span><ol id="EN-US_TASK_0172370099__substeps508228522214053"><li class="substepexpand" id="EN-US_TASK_0172370099__substep1406924993214053"><span id="EN-US_TASK_0172370099__cmd1612785227214345">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname169060224214345">system-view</span></b></a></span><p><p id="EN-US_TASK_0172370099__p87204774214345">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep726394030214053"><span id="EN-US_TASK_0172370099__cmd1144893458214345">Run <a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname169004025214053">interface</span></b></a> <i><span class="varname" id="EN-US_TASK_0172370099__varname528457969">interface-type interface-number.subinterface-number</span></i></span><p><p id="EN-US_TASK_0172370099__p1721698415214345">The view of the AC interface (sub-interface) used by the PE to directly connect to a CE is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep1062635937214053"><span id="EN-US_TASK_0172370099__cmd141282033155112">Run <a href="cmdqueryname=encapsulation"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname67878741214345">encapsulation</span></b></a> <strong><span id="EN-US_TASK_0172370099__cmdparmname2069096654214345">dot1q-termination</span></strong> [ <strong><span id="EN-US_TASK_0172370099__cmdparmname1929160121214345">rt-protocol</span></strong> ]</span><p><p id="EN-US_TASK_0172370099__p18526181933916">The encapsulation type is configured to be dot1q VLAN tag termination for the sub-interface.</p>
</p><p><p id="EN-US_TASK_0172370099__p138333505214053"><strong><span id="EN-US_TASK_0172370099__cmdparmname124382718416">rt-protocol</span></strong> must be specified if you want the dot1q VLAN tag termination sub-interface to support routing protocols.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep1400867358214053"><span id="EN-US_TASK_0172370099__cmd0128163385112">Run <a href="cmdqueryname=dot1q+termination+vid"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname1809421858214345">dot1q termination vid</span></b></a> <i><span class="varname" id="EN-US_TASK_0172370099__varname1773092214345">low-pe-vid</span></i> [ <strong><span id="EN-US_TASK_0172370099__cmdparmname1614781937214345">to</span></strong> <i><span class="varname" id="EN-US_TASK_0172370099__varname1678483626214345">high-pe-vid</span></i> ] [ <strong><span id="EN-US_TASK_0172370099__cmdparmname49000531214345">vlan-group</span></strong> <i><span class="varname" id="EN-US_TASK_0172370099__varname30027649214345">group-id</span></i> ]</span><p><p id="EN-US_TASK_0172370099__p1887183514429">The sub-interface is configured to terminate single-tagged packets.</p>
</p><p><p id="EN-US_TASK_0172370099__p1293978831214053">After you specify <strong><span id="EN-US_TASK_0172370099__cmdparmname618093512146">rt-protocol</span></strong>, the dot1q VLAN tag termination sub-interface can terminate only packets carrying a fixed-value VLAN tag.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep1060995225214053"><span id="EN-US_TASK_0172370099__cmd455444994214345">Run <a href="cmdqueryname=l2+binding"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname930901895214345">l2 binding</span></b></a> <strong><span id="EN-US_TASK_0172370099__cmdparmname651636713214345">vsi</span></strong> <i><span class="varname" id="EN-US_TASK_0172370099__varname1031817353214345">vsi-name</span></i></span><p><p id="EN-US_TASK_0172370099__p159674519214345">The dot1q VLAN tag termination sub-interface is bound to a VSI.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep785317892214053"><span id="EN-US_TASK_0172370099__cmd800467926214345">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname283510823214345">commit</span></b></a></span><p><p id="EN-US_TASK_0172370099__p796019962214345">The configuration is committed.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0172370099__step1019592529214053"><span id="EN-US_TASK_0172370099__cmd1519615490214053">Bind a QinQ VLAN tag termination sub-interface to a VSI.</span><p></p><ol id="EN-US_TASK_0172370099__substeps2005778273214053"><li class="substepexpand" id="EN-US_TASK_0172370099__substep1151136838214053"><span id="EN-US_TASK_0172370099__cmd506123363214345">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname1653667117214345">system-view</span></b></a></span><p><p id="EN-US_TASK_0172370099__p793538259214345">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep1619346742214053"><span id="EN-US_TASK_0172370099__cmd60757528214345">Run <a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname1577084814214053">interface</span></b></a> <i><span class="varname" id="EN-US_TASK_0172370099__varname19920161817617">interface-type interface-number.subinterface-number</span></i></span><p><p id="EN-US_TASK_0172370099__p1710526389214345">The view of the AC interface (sub-interface) used by the PE to directly connect to a CE is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep1744453013214053"><span id="EN-US_TASK_0172370099__cmd1575040647214053">Run <a href="cmdqueryname=encapsulation"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname154792073452">encapsulation</span></b></a> <strong><span id="EN-US_TASK_0172370099__cmdparmname14479147124513">qinq-termination</span></strong> [ <span><strong><span id="EN-US_TASK_0172370099__cmdparmname2479679450">local-switch</span></strong> | </span><strong><span id="EN-US_TASK_0172370099__cmdparmname15479127134519">rt-protocol</span></strong> ]</span><p><p id="EN-US_TASK_0172370099__p220514574458">The encapsulation type is configured to be QinQ VLAN tag termination for the sub-interface.</p>
</p><p><div class="p" id="EN-US_TASK_0172370099__p1531129475214345">In the preceding command:<ul id="EN-US_TASK_0172370099__ul1078696827214345"><li id="EN-US_TASK_0172370099__li1504595005214345"><p id="EN-US_TASK_0172370099__p1108305610214345"><a name="EN-US_TASK_0172370099__li1504595005214345"></a><a name="li1504595005214345"></a>Specify <strong><span id="EN-US_TASK_0172370099__cmdparmname1129710894214345">local-switch</span></strong> if you want the QinQ VLAN tag termination sub-interface to support local switching.</p>
</li><li id="EN-US_TASK_0172370099__li1220753902214345"><p id="EN-US_TASK_0172370099__p152067476214345"><a name="EN-US_TASK_0172370099__li1220753902214345"></a><a name="li1220753902214345"></a>Specify <strong><span id="EN-US_TASK_0172370099__cmdparmname948230031214345">rt-protocol</span></strong> if you want the QinQ VLAN tag termination sub-interface to support routing protocols.</p>
</li></ul>
</div>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep1594084181214053"><span id="EN-US_TASK_0172370099__cmd1012814331518">Run <a href="cmdqueryname=qinq+termination+pe-vid"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname1489174148214345">qinq termination pe-vid</span></b></a> <i><span class="varname" id="EN-US_TASK_0172370099__varname1941441387214345">pe-vid</span></i> [ <strong><span id="EN-US_TASK_0172370099__cmdparmname1603970983214345">to</span></strong> <i><span class="varname" id="EN-US_TASK_0172370099__varname861568642214345">high-pe-vid</span></i> ] <strong><span id="EN-US_TASK_0172370099__cmdparmname711992269214345">ce-vid</span></strong> <i><span class="varname" id="EN-US_TASK_0172370099__varname1756894528214345">ce-vid</span></i> [ <strong><span id="EN-US_TASK_0172370099__cmdparmname1915836359214345">to</span></strong> <i><span class="varname" id="EN-US_TASK_0172370099__varname676788804214345">high-ce-vid</span></i> ] [ <strong><span id="EN-US_TASK_0172370099__cmdparmname653718058214345">vlan-group</span></strong> <i><span class="varname" id="EN-US_TASK_0172370099__varname1803459813214345">group-id</span></i> ]</span><p><p id="EN-US_TASK_0172370099__p162641788485">The sub-interface is configured to terminate QinQ packets.</p>
</p><p><p id="EN-US_TASK_0172370099__p296757874214053">After you specify <strong><span id="EN-US_TASK_0172370099__cmdparmname4474181811514">rt-protocol</span></strong>, the QinQ VLAN tag termination sub-interface can terminate only double-tagged packets whose inner and outer tags are specific VLAN IDs.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep624825036214053"><span id="EN-US_TASK_0172370099__cmd1327780822214345">Run <a href="cmdqueryname=l2+binding"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname1743104021214345">l2 binding</span></b></a> <strong><span id="EN-US_TASK_0172370099__cmdparmname874375808214345">vsi</span></strong> <i><span class="varname" id="EN-US_TASK_0172370099__varname264961926214345">vsi-name</span></i></span><p><p id="EN-US_TASK_0172370099__p675579474214345">The QinQ VLAN tag termination sub-interface is bound to a VSI.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep642980768214053"><span id="EN-US_TASK_0172370099__cmd32956150214345">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname728121176214345">commit</span></b></a></span><p><p id="EN-US_TASK_0172370099__p920533977214345">The configuration is committed.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0172370099__step1555775836214053"><span id="EN-US_TASK_0172370099__cmd163589780214053">Bind a QinQ stacking sub-interface to a VSI.</span><p></p><ol id="EN-US_TASK_0172370099__substeps912067664214053"><li class="substepexpand" id="EN-US_TASK_0172370099__substep342447475214053"><span id="EN-US_TASK_0172370099__cmd1730866086214345">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname1263764256214345">system-view</span></b></a></span><p><p id="EN-US_TASK_0172370099__p1577412074214345">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep75150830214053"><span id="EN-US_TASK_0172370099__cmd1987668436214345">Run <a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname247764141214053">interface</span></b></a> <i><span class="varname" id="EN-US_TASK_0172370099__varname1928011351163">interface-type interface-number.subinterface-number</span></i></span><p><p id="EN-US_TASK_0172370099__p1320735922214345">The view of the AC interface (sub-interface) used by the PE to directly connect to a CE is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep1986544408214053"><span id="EN-US_TASK_0172370099__cmd312815331516">Run <a href="cmdqueryname=qinq+stacking+vid"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname1602770517214345">qinq stacking vid</span></b></a> <i><span class="varname" id="EN-US_TASK_0172370099__varname1938071737214345">low-ce-vid</span></i> [ <strong><span id="EN-US_TASK_0172370099__cmdparmname586204408214345">to</span></strong> <i><span class="varname" id="EN-US_TASK_0172370099__varname1243368794214345">high-ce-vid</span></i> ] [ <strong><span id="EN-US_TASK_0172370099__cmdparmname424385496214345">vlan-group</span></strong> <i><span class="varname" id="EN-US_TASK_0172370099__varname944847675214345">group-id</span></i> ]</span><p><p id="EN-US_TASK_0172370099__p50225105012">A QinQ stacking sub-interface is configured.</p>
</p><p><p id="EN-US_TASK_0172370099__p665391640214053">If you want to run the <a href="cmdqueryname=qinq+stacking+vid"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname1233845192214053">qinq stacking vid</span></b></a> command on different sub-interfaces of an Ethernet interface, you must specify different <strong><span id="EN-US_TASK_0172370099__cmdparmname1803784545214053">ce-vid</span></strong> values for the sub-interfaces.</p>
<ul id="EN-US_TASK_0172370099__ul633822091214053"><li id="EN-US_TASK_0172370099__li1989464574214053"><p id="EN-US_TASK_0172370099__p610711428214053"><a name="EN-US_TASK_0172370099__li1989464574214053"></a><a name="li1989464574214053"></a>If you have run the <a href="cmdqueryname=vlan-group"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname1527312496214345">vlan-group</span></b></a> command to configure a VLAN group on a sub-interface, you must specify <strong><span id="EN-US_TASK_0172370099__cmdparmname1358456058214345">vlan-group</span></strong> in the <strong><span id="EN-US_TASK_0172370099__cmdparmname843713565214345">qinq stacking vid</span></strong> command.</p>
</li><li id="EN-US_TASK_0172370099__li670444062214053"><p id="EN-US_TASK_0172370099__p306654225214053"><a name="EN-US_TASK_0172370099__li670444062214053"></a><a name="li670444062214053"></a>If you have not run the <a href="cmdqueryname=vlan-group"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname1847653900214345">vlan-group</span></b></a> command to configure a VLAN group on a sub-interface, you cannot specify <strong><span id="EN-US_TASK_0172370099__cmdparmname889938060214345">vlan-group</span></strong> in the <strong><span id="EN-US_TASK_0172370099__cmdparmname1202425082214345">qinq stacking vid</span></strong> command.</p>
</li></ul>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep1632974549214053"><span id="EN-US_TASK_0172370099__cmd1093846586214345">Run <a href="cmdqueryname=l2+binding"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname99787384214345">l2 binding</span></b></a> <strong><span id="EN-US_TASK_0172370099__cmdparmname941283966214345">vsi</span></strong> <i><span class="varname" id="EN-US_TASK_0172370099__varname872841940214345">vsi-name</span></i></span><p><p id="EN-US_TASK_0172370099__p1995698230214345">The QinQ stacking sub-interface is bound to a VSI.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172370099__substep649547241214053"><span id="EN-US_TASK_0172370099__cmd1514954996214345">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172370099__cmdname1854470829214345">commit</span></b></a></span><p><p id="EN-US_TASK_0172370099__p792503852214345">The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_5003.html">Configuring LDP VPLS
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_5004.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_5074.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>