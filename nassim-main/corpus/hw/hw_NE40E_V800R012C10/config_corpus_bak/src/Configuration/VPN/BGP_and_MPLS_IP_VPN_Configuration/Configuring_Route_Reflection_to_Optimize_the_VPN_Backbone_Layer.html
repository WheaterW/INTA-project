
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Route Reflection to Optimize the VPN Backbone Layer">
<meta name="abstract" content="Using an RR helps reduce the number of MP-IBGP connections between PEs. The RR not only reduces the burden on PEs, but also facilitates network maintenance and management.">
<meta name="description" content="Using an RR helps reduce the number of MP-IBGP connections between PEs. The RR not only reduces the burden on PEs, but also facilitates network maintenance and management.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_0154.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_0021.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_0017.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_0018.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_0019.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_0020.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,l3vpnvrp,w00556928,l00468467,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featuretype" content="VPN">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featuretype" content="VPN">
<meta name="OWNER" content="h00847023">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00425560">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172369260">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Route Reflection to Optimize the VPN Backbone Layer</title>
</head>
<body><a name="EN-US_TASK_0172369260"></a><a name="EN-US_TASK_0172369260"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">Configuring Route Reflection to Optimize the VPN Backbone Layer</h1>



<div class="taskbody"><p>Using an RR helps reduce the number of MP-IBGP connections
between PEs. The RR not only reduces the burden on PEs, but also facilitates
network maintenance and management.</p>

<div class="context"><a name="EN-US_TASK_0172369260__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>If too many PEs reside on
the VPN backbone layer and these PEs need to establish MP-IBGP peer
relationships to exchange VPN routes, you can configure route reflection
to optimize the VPN backbone layer.</p>
<p>A BGP speaker does not advertise
the routes learned from an IBGP peer to other IBGP peers. To enable
a PE to advertise the routes of the VPN that the PE accesses to the
BGP VPNv4 peers in the same AS, the PE must establish IBGP peer relationships
with all peers to directly exchange VPN routing information. In other
words, MP-IBGP peers must be fully meshed. If there are n PEs (including
ASBRs) in an AS, n (n-1)/2 MP-IBGP peer relationships need to be established.
A large number of IBGP peers consume a great number of network resources.
After an RR is configured, each PE needs to set up an MP-IBGP peer
relationship with only the RR, that is, only n pairs of MP-IBGP peers
are required.</p>
</div></div>

<div class="context"><a name="EN-US_TASK_0172369260__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring
route reflection to optimize the VPN backbone layer, complete the
following tasks:</p>
<ul><li><p>Configure a routing protocol on the MPLS backbone network to
ensure IP connectivity on the backbone network.</p>
</li><li><p>Establish tunnels (LSPs or MPLS TE tunnels) between all the
PEs.</p>
</li></ul>
</div></div>


</div>


<ul class="ullinks">
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_0017.html">Configuring a Client PE to Establish an MP-IBGP Peer Relationship with an RR</a>
</dt>
<dd>
You can configure a PE to establish an MP-IBGP peer relationship with an RR so that the PE can receive VPNv4 routes reflected by the RR.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_0018.html">Configuring an RR to Establish MP-IBGP Peer Relationships with All Client PEs</a>
</dt>
<dd>
You can configure an RR to establish MP-IBGP peer relationships with all its client PEs to reflect VPNv4 routes.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_0019.html">Configuring Route Reflection for BGP VPNv4 Routes</a>
</dt>
<dd>
The prerequisite for enabling BGP VPNv4 route reflection is that the RR has established MP-IBGP peer relationships with all client PEs.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_0020.html">Verifying the Configuration of Route Reflection to Optimize the VPN Backbone Layer</a>
</dt>
<dd>
After configuring route reflection to optimize the VPN backbone layer, check BGP VPNv4 peer information and VPNv4 routing information on the RR or its client PEs.</dd>
</dl>
</ul>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_0000.html">BGP/MPLS IP VPN Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_0154.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_0021.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>