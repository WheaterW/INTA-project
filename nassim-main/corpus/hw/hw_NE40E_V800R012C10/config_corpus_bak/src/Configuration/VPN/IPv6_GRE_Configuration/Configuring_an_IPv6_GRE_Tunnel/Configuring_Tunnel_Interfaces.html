
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Tunnel Interfaces">
<meta name="abstract" content="After creating a tunnel interface, you need to specify IPv6 GRE as the encapsulation type and configure a source address and a destination address for the tunnel interface. To enable the tunnel to support dynamic routing protocols, you aso need to configure an IP address for the tunnel interface.">
<meta name="description" content="After creating a tunnel interface, you need to specify IPv6 GRE as the encapsulation type and configure a source address and a destination address for the tunnel interface. To enable the tunnel to support dynamic routing protocols, you aso need to configure an IP address for the tunnel interface.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_gre_cfg_2045.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_gre_cfg_1002_a.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_gre_cfg_2047.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00556928,grevrp,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="GRE">
<meta name="featuretype" content="VPN">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="GRE">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="GRE">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="GRE">
<meta name="featuretype" content="VPN">
<meta name="OWNER" content="h00847023">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00415692">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172369121">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Tunnel Interfaces</title>
</head>
<body><a name="EN-US_TASK_0172369121"></a><a name="EN-US_TASK_0172369121"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Tunnel Interfaces</h1>
<div class="taskbody"><p>After creating a tunnel interface, you need to specify IPv6 GRE as the encapsulation type and configure a source address and a destination address for the tunnel interface. To enable the tunnel to support dynamic routing protocols, you aso need to configure an IP address for the tunnel interface.</p>
<div class="context"><a name="EN-US_TASK_0172369121__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>An IPv6 GRE tunnel is established between tunnel interfaces on the two ends of the tunnel. Therefore, you need to configure tunnel interfaces on devices at the two ends of the tunnel. For an IPv6 GRE tunnel interface, you need to specify the protocol type as IPv6 GRE and configure a source address or source interface and a destination address for the tunnel interface. To enable a tunnel to support routes, you also need to configure a network address for the tunnel interface.</p>
<div class="p">A tunnel interface, which is a logical interface, goes down in any of the following situations:<ul><li><p>The destination address configured for the tunnel interface is unreachable or is set to the IP address of the tunnel interface.</p>
</li><li><p>The source interface configured for the tunnel interface is down.</p>
</li><li><p>The IP address configured on the tunnel interface is invalid.</p>
</li></ul>
</div>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If the tunnel interface is deleted, all configurations on the tunnel interface are also deleted.</p>
</div></div>
<p>Perform the following steps on the endpoint <span class="keyword">Router</span>s of a tunnel.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172369121__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li><span>Run the <a href="cmdqueryname=interface+tunnel"><b><span class="cmdname">interface tunnel</span></b></a> <i><span class="varname">interface-number</span></i> command to create a tunnel interface and enter its view.</span></li><li><span>Run the <a href="cmdqueryname=tunnel-protocol"><b><span class="cmdname">tunnel-protocol</span></b></a> <strong><span>gre ipv6</span></strong> command to encapsulate the tunnel with IPv6 GRE.</span><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172369121__en-us_task_0172369080_p59301840152610">Changing, deleting, or initially configuring the tunnel mode of a tunnel interface will delete all tunnel-related configurations on the interface, such as the MTU. Exercise caution when performing this operation.</p>
</div></div>
</p></li><li><span>Run the <a href="cmdqueryname=source"><b><span class="cmdname">source</span></b></a> { <i><span class="varname">ipv6-address</span></i> | <i><span class="varname">ifName</span></i> | <i><span class="varname">ifTypeifNum</span></i> } command to configure a source address or source interface for the tunnel interface.</span><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The <a href="cmdqueryname=binding+tunnel+gre"><b><span class="cmdname">binding tunnel gre</span></b></a> command needs to be run to bind GRE to the source interface or the interface where the source address resides. The GRE tunnel can use these interfaces to transmit GRE-encapsulated packets only after GRE is bound to them.</p>
</div></div>
</p></li><li><span>Run the <a href="cmdqueryname=destination"><b><span class="cmdname">destination</span></b></a> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] <i><span class="varname">des-ipv6-address</span></i> command to configure a destination address for the tunnel interface.</span></li><li><span>Run the <a href="cmdqueryname=ipv6+address"><b><span class="cmdname">ipv6 address</span></b></a> { <i><span class="varname">ipv6-address prefix-length</span></i> | <i><span class="varname">ipv6-address/prefix-length</span></i> } command to configure an IPv6 address for the tunnel interface.</span><p><p>To enable a tunnel to support routes, you also need to configure a network address for the tunnel interface. The IP addresses of the tunnel interfaces on both ends of the GRE tunnel can be either public or private addresses and must be on the same network segment.</p>
</p></li><li><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_gre_cfg_2045.html">Configuring an IPv6 GRE Tunnel
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_gre_cfg_1002_a.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_gre_cfg_2047.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>