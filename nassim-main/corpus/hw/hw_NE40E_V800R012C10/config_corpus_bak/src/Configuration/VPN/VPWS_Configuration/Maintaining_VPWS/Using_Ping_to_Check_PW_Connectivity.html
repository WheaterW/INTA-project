
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Using Ping to Check PW Connectivity">
<meta name="abstract" content="After you configure a virtual private wire service (VPWS) network, use pseudo wire (PW) ping to check PW connectivity on the VPWS network.">
<meta name="description" content="After you configure a virtual private wire service (VPWS) network, use pseudo wire (PW) ping to check PW connectivity on the VPWS network.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_3009.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_3011.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="VPWS">
<meta name="featuretype" content="VPN">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="VPWS">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="VPWS">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="VPWS">
<meta name="featuretype" content="VPN">
<meta name="OWNER" content="l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="c00511010">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172369902">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Using Ping to Check PW Connectivity</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0172369902"></a><a name="EN-US_TASK_0172369902"></a>

<div class="articleBoxWithoutHead">





<h1 class="topicTitle-h1">Using Ping to Check PW Connectivity</h1>
<div class="taskbody"><p>After you configure a virtual private wire service (VPWS) network, use pseudo wire (PW) ping to check PW connectivity on the VPWS network.</p>
<div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0172369902__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p" id="EN-US_TASK_0172369902__en-us_task_0172373177_prereq431975745214104"><p id="EN-US_TASK_0172369902__en-us_task_0172373177_p1721619355214104">Before testing PW connectivity using the <a href="cmdqueryname=ping+vc"><b><span class="cmdname" id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdname2107034748214104">ping vc</span></b></a> command, ensure that the VPWS network has been configured correctly.</p>
<p id="EN-US_TASK_0172369902__en-us_task_0172373177_p5285181162819">If the control word channel is used, you need to run the <a href="cmdqueryname=control-word"><b><span class="cmdname" id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdname1872974019214104">control-word</span></b></a> command in the PW template view to enable the control word function.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172369902__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0172369902__en-us_task_0172373177_context295261229214104"><p id="EN-US_TASK_0172369902__en-us_task_0172373177_p1768251233214104">To check whether a PW on the VPWS network is faulty, run the <a href="cmdqueryname=ping+vc"><b><span class="cmdname" id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdname150853185214104">ping vc</span></b></a> command. If the PW is up, you can use this command to roughly locate faults, such as forwarding entry loss or errors.</p>
<p id="EN-US_TASK_0172369902__en-us_task_0172373177_p979407062214104"><a href="#EN-US_TASK_0172369902__en-us_task_0172373177_tab_dc_vrp_ping_cfg_001301">Table 1</a> describes test modes and scenarios.</p>

<div class="tableBorder"><a name="EN-US_TASK_0172369902__en-us_task_0172373177_tab_dc_vrp_ping_cfg_001301"></a><a name="en-us_task_0172373177_tab_dc_vrp_ping_cfg_001301"></a><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_TASK_0172369902__en-us_task_0172373177_tab_dc_vrp_ping_cfg_001301" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Test modes of PW ping</caption><thead align="left"><tr id="EN-US_TASK_0172369902__en-us_task_0172373177_row204491016214104"><th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.4.2.3.2.4.1.1" liSelected="liSelected"><p id="EN-US_TASK_0172369902__en-us_task_0172373177_entry2018181119214104p0">Test Mode</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.4.2.3.2.4.1.2" liSelected="liSelected"><p id="EN-US_TASK_0172369902__en-us_task_0172373177_entry1438658769214104p0">Scenario</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.4.2.3.2.4.1.3" liSelected="liSelected"><p id="EN-US_TASK_0172369902__en-us_task_0172373177_entry1458044503214104p0">Description</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_TASK_0172369902__en-us_task_0172373177_row144474464214104"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.3.2.4.1.1 "><p id="EN-US_TASK_0172369902__en-us_task_0172373177_entry940016939214104p0">Control-word</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.3.2.4.1.2 "><p id="EN-US_TASK_0172369902__en-us_task_0172373177_entry132894653214104p0">Supported in single-segment and multi-segment PW scenarios.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.3.2.4.1.3 "><ul id="EN-US_TASK_0172369902__en-us_task_0172373177_ul279969624214104"><li id="EN-US_TASK_0172369902__en-us_task_0172373177_li189480881214104"><p id="EN-US_TASK_0172369902__en-us_task_0172373177_p2034402113214104"><a name="EN-US_TASK_0172369902__en-us_task_0172373177_li189480881214104"></a><a name="en-us_task_0172373177_li189480881214104"></a>The MPLS echo request packet carries the control word between the PW label and the IP header. After the destination device receives the packet and finds that it carries the control word, the device sends the packet to the CPU for processing.</p>
</li><li id="EN-US_TASK_0172369902__en-us_task_0172373177_li145215841214104">This detection mode applies only when you enable the control-word on both ends of the PW.</li></ul>
</td>
</tr>
<tr id="EN-US_TASK_0172369902__en-us_task_0172373177_row940715556214104"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.3.2.4.1.1 "><p id="EN-US_TASK_0172369902__en-us_task_0172373177_entry1091155423214104p0">Label-alert</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.3.2.4.1.2 "><p id="EN-US_TASK_0172369902__en-us_task_0172373177_entry2063243811214104p0">Supported only in single-segment PW scenarios.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.3.2.4.1.3 "><ul id="EN-US_TASK_0172369902__en-us_task_0172373177_ul226323876214104"><li id="EN-US_TASK_0172369902__en-us_task_0172373177_li113877250214104"><p id="EN-US_TASK_0172369902__en-us_task_0172373177_p527011273214104"><a name="EN-US_TASK_0172369902__en-us_task_0172373177_li113877250214104"></a><a name="en-us_task_0172373177_li113877250214104"></a>The MPLS echo request packet carries the label-alert tag between the PW label and the LSP label. After the destination device receives the packet and detects that it carries the label-alert tag, the device sends the packet to the CPU for processing.</p>
</li><li id="EN-US_TASK_0172369902__en-us_task_0172373177_li1579645195214104">This detection mode applies only when you enable the label-alert for both ends of the PW.</li></ul>
</td>
</tr>
<tr id="EN-US_TASK_0172369902__en-us_task_0172373177_row1356259068214104"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.3.2.4.1.1 "><p id="EN-US_TASK_0172369902__en-us_task_0172373177_entry2048338833214104p0">TTL </p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.3.2.4.1.2 "><p id="EN-US_TASK_0172369902__en-us_task_0172373177_entry1875963028214104p0">Supported in single-segment and multi-segment PW scenarios.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.3.2.4.1.3 "><p id="EN-US_TASK_0172369902__en-us_task_0172373177_p592089994214104">You must specify a TTL value to ensure that the TTL expires on the destination device so that the device sends the packet to the CPU for processing.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172369902__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ul id="EN-US_TASK_0172369902__en-us_task_0172373177_steps-unordered1142820774214104"><li id="EN-US_TASK_0172369902__en-us_task_0172373177_step1838291674214104"><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmd320935529214104">Control-word mode:</span><p><p id="EN-US_TASK_0172369902__en-us_task_0172373177_p1534961148214104">To monitor PW connectivity using the control-word mode, run the <a href="cmdqueryname=ping+vc"><b><span class="cmdname" id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdname630533934214104">ping vc</span></b></a> <span><i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname24291188214104">vc-type</span></i></span> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname2008412874214104">pw-id</span></i><span> [ <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname1324683729214104">peer-address</span></i> ]</span> [ <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname134640233214104">-c</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname1366614237214104">echo-number</span></i> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname1856938771214104">-m</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname768593037214104">time-value</span></i> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname771470818214104">-s</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname2145241329214104">data-bytes</span></i> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname1256592062214104">-t</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname1879544623214104">timeout-value</span></i> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname948881239214104">-exp</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname685943489214104">exp-value</span></i> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname28841200214104">-r</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname469206692214104">reply-mode</span></i> <span>| <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname154924969214104">-v</span></strong></span> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname251900980214104">-g</span></strong> ]<sup id="EN-US_TASK_0172369902__en-us_task_0172373177_sup331023053214104">*</sup> <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname1322954209214104">control-word</span></strong><span> [ <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname230687258214104">remote</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname1948581041214104">remote-ip-address</span></i> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname661292358214104">peer-pw-id</span></i> [ <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname497578959214104">sender</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname1358636084214104">sender-address</span></i> ] ]</span><span> [ <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname260206049214104">ttl</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname1056007052214104">ttl-value</span></i> ] [ <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname1646448240214104">pipe</span></strong> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname1852516876214104">uniform</span></strong> ]</span> <span>[ <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname1986479715214156">bypass</span></strong> <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname185698880214156">-si</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname5788141312134">interface-name</span></i> | <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname115227126214156">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname1432023035214156">interface-number</span></i> ]</span> command.</p>
<p id="EN-US_TASK_0172369902__en-us_task_0172373177_p378799417214104">To monitor multi-segment PW connectivity, you need to specify the <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_span1110892010322">remote</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname310842063213">remote-ip-address</span></i> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname210842013329">peer-pw-id</span></i> [ <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_span510892083216">sender</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname20108620153219">sender-address</span></i> ] parameter to configure an IP address and a PW ID for the remote PE and specify a source IP address.</p>
<p id="EN-US_TASK_0172369902__en-us_task_0172373177_p1197411952319">To perform a test in a BGP-based scenario, run the <a href="cmdqueryname=ping+vc+vpn-instance"><b><span class="cmdname" id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdname1339809206214104">ping vc vpn-instance</span></b></a> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname1673967036214104">vpn-name</span></i> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname1246925181214104">local-ce-id</span></i> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname306242172214104">remote-ce-id</span></i> [ <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname93988451214104">-c</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname1718989992214104">echo-number</span></i> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname1621774474214104">-m</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname2049666921214104">time-value</span></i> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname504028835214104">-s</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname570720065214104">data-bytes</span></i> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname1283111399214104">-t</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname114922233214104">timeout-value</span></i> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname4737195812191">-exp</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname14737185821917">exp-value</span></i> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname137371458141917">-r</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname137371058121918">reply-mode</span></i> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname1918428059214104">-v</span></strong> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname1350095510214104">-g</span></strong> ]<sup id="EN-US_TASK_0172369902__en-us_task_0172373177_sup1565373343">*</sup> <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname1777295486214104">control-word</span></strong> <span>[ <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname89571633357">bypass</span></strong> <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname10957163103516">-si</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname49571310355">interface-name</span></i> | <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname49571323520">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname895763183513">interface-number</span></i> ]</span> command.</p>
</p></li><li id="EN-US_TASK_0172369902__en-us_task_0172373177_step2093001552214104"><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmd1294946604214104">Label-alert mode:</span><p><p id="EN-US_TASK_0172369902__en-us_task_0172373177_p1628700222214104">To monitor PW connectivity using the Label-alert mode, run the <a href="cmdqueryname=ping+vc"><b><span class="cmdname" id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdname1610964550214104">ping vc</span></b></a> <span><i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname819265259214104">vc-type</span></i></span> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname2125777624214104">pw-id</span></i><span> [ <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname1476430603214104">peer-address</span></i> ]</span> [ <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname1807682544214104">-c</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname183518215214104">echo-number</span></i> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname2091074362214104">-m</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname70402127214104">time-value</span></i> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname1836207284214104">-s</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname952810320214104">data-bytes</span></i> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname1791758804214104">-t</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname842258956214104">timeout-value</span></i> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname1761005985214104">-exp</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname1467390287214104">exp-value</span></i> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname1276673181214104">-r</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname573942863214104">reply-mode</span></i> <span>| <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname1187431999214104">-v</span></strong></span> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname406062041214104">-g</span></strong> ] <sup id="EN-US_TASK_0172369902__en-us_task_0172373177_sup689294560214104">*</sup> <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname206338094214104">label-alert</span></strong> [ <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname2143143695214104">no-control-word</span></strong> ] <span>[ <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname1487516427358">bypass</span></strong> <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname108751426357">-si</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname58759424351">interface-name</span></i> | <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname178752425354">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname1087544216350">interface-number</span></i> ]</span> command.</p>
<p id="EN-US_TASK_0172369902__en-us_task_0172373177_p825705193516">To perform a test in a BGP-based scenario, run the <a href="cmdqueryname=ping+vc+vpn-instance"><b><span class="cmdname" id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdname1094901624214104">ping vc vpn-instance</span></b></a> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname803985934214104">vpn-name</span></i> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname1503978832214104">local-ce-id</span></i> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname1992585113214104">remote-ce-id</span></i> [ <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname664413597214104">-c</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname68603431214104">echo-number</span></i> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname1255074764214104">-m</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname925727135214104">time-value</span></i> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname228406405214104">-s</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname518476100214104">data-bytes</span></i> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname1269000200214104">-t</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname2118624912214104">timeout-value</span></i> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname6177171120205">-exp</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname31771211142013">exp-value</span></i> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname91775115209">-r</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname7177911182017">reply-mode</span></i> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname520086003214104">-v</span></strong> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname1859596322214104">-g</span></strong> ] <sup id="EN-US_TASK_0172369902__en-us_task_0172373177_sup113281950153516">*</sup> <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname80549440214104">label-alert</span></strong> [ <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname78117153912">no-control-word</span></strong> ] <span>[ <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname4324174273510">bypass</span></strong> <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname9324442113520">-si</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname732484223516">interface-name</span></i> | <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname113241542173511">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname143248426357">interface-number</span></i> ]</span> command.</p>
</p></li><li id="EN-US_TASK_0172369902__en-us_task_0172373177_step1187198451214104"><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmd711961973214104">TTL mode:</span><p><p id="EN-US_TASK_0172369902__en-us_task_0172373177_p1805881790214104">To monitor PW connectivity using the TTL mode, run the <a href="cmdqueryname=ping+vc"><b><span class="cmdname" id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdname654170398214104">ping vc</span></b></a> <span><i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname736834551214104">vc-type</span></i></span> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname671706347214104">pw-id</span></i><span> [ <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname1428867338214104">peer-address</span></i> ]</span> [ <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname160648533214104">-c</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname1154539667214104">echo-number</span></i> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname151357592214104">-m</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname149946722214104">time-value</span></i> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname405657679214104">-s</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname519013220214104">data-bytes</span></i> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname690591363214104">-t</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname740285176214104">timeout-value</span></i> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname1992192402214104">-exp</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname1691588239214104">exp-value</span></i> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname753603275214104">-r</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname888214760214104">reply-mode</span></i> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname1950310527214104">-v</span></strong> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname288192413214104">-g</span></strong> ] <sup id="EN-US_TASK_0172369902__en-us_task_0172373177_sup169713662214104">*</sup> <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname550634064214104">normal</span></strong> [ <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname730746909214104">no-control-word</span></strong> ] <span>[ <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname2051731253214104">remote</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname1032261531214104">remote-ip-address</span></i> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname1547891781214104">peer-pw-id</span></i> ] </span>[ <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname1200170355214104">ttl</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname1672250686214104">ttl-value</span></i> ] [ <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname828703932214104">pipe</span></strong> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname1166407689214104">uniform</span></strong> ] command.</p>
<p id="EN-US_TASK_0172369902__en-us_task_0172373177_p1412204818214104">To monitor the connectivity of an MS-PW, you need to specify <span><strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname1095792742214104">remote</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname1885252097214104">remote-ip-address</span></i> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname370541935214104">peer-pw-id</span></i></span> [ <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname796545001214104">ttl</span></strong> <i><span class="varname" id="EN-US_TASK_0172369902__en-us_task_0172373177_varname265102699214104">ttl-value</span></i> ] [ <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname628499557214104">pipe</span></strong> | <strong><span id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdparmname572133991214104">uniform</span></strong> ] to configure the IP address, PW ID, and TTL value of the remote destination PE.</p>
<p id="EN-US_TASK_0172369902__en-us_task_0172373177_p966452568214104">The <a href="cmdqueryname=ping+vc"><b><span class="cmdname" id="EN-US_TASK_0172369902__en-us_task_0172373177_cmdname02cf52ce8b7f4dcf8f88f49030bc5789113146">ping vc</span></b></a> command output contains the following information:</p>
<ul id="EN-US_TASK_0172369902__en-us_task_0172373177_ul300654081214104"><li id="EN-US_TASK_0172369902__en-us_task_0172373177_li1741515485214104"><p id="EN-US_TASK_0172369902__en-us_task_0172373177_p1596131432214104"><a name="EN-US_TASK_0172369902__en-us_task_0172373177_li1741515485214104"></a><a name="en-us_task_0172373177_li1741515485214104"></a>Response to each ping packet: If no response packet is received within the timeout period, the message reading "Request time out" is displayed. If a response packet is received, the number of data bytes, packet sequence number, TTL value, and response time carried in the packet are displayed.</p>
</li><li id="EN-US_TASK_0172369902__en-us_task_0172373177_li1338762071214104"><p id="EN-US_TASK_0172369902__en-us_task_0172373177_p1387957678214104"><a name="EN-US_TASK_0172369902__en-us_task_0172373177_li1338762071214104"></a><a name="en-us_task_0172373177_li1338762071214104"></a>Final statistics: include the number of sent packets, number of received packets, percentage of sent packets with failed responses, and minimum, maximum, and average response times.</p>
</li></ul>
<div class="p" id="EN-US_TASK_0172369902__en-us_task_0172373177_p1027055918214104">An example is as follows:<pre class="screen" id="EN-US_TASK_0172369902__en-us_task_0172373177_screen1617203621214104">&lt;<span class="keyword" id="EN-US_TASK_0172369902__en-us_task_0172373177_en-us_cliref_0172384364_keyword2096910461214546">HUAWEI</span>&gt;<strong id="EN-US_TASK_0172369902__en-us_task_0172373177_en-us_cliref_0172384364_b2092093728214546"> ping vc ethernet 100 control-word </strong>
   PW PING : FEC 128 PSEUDOWIRE (NEW). Type = ethernet, ID = 100 : 100 data bytes, press CTRL_C to break
    Reply from 10.10.10.10: bytes=100 Sequence=1 time = 140 ms    
    Reply from 10.10.10.10: bytes=100 Sequence=2 time = 40 ms    
    Reply from 10.10.10.10: bytes=100 Sequence=3 time = 30 ms    
    Reply from 10.10.10.10: bytes=100 Sequence=4 time = 50 ms    
    Reply from 10.10.10.10: bytes=100 Sequence=5 time = 50 ms 
--- FEC: FEC 128 PSEUDOWIRE (NEW). Type = ethernet, ID = 100 ping statistics---

    5 packet(s) transmitted
    5 packet(s) received
    0.00% packet loss
    round-trip min/avg/max = 30/62/140 ms</pre>
</div>
<div class="p" id="EN-US_TASK_0172369902__en-us_task_0172373177_p4786172815510">A BGP-based example is as follows:<pre class="screen" id="EN-US_TASK_0172369902__en-us_task_0172373177_screen1872521866">&lt;<span class="keyword" id="EN-US_TASK_0172369902__en-us_task_0172373177_keyword139035010361">HUAWEI</span>&gt; <strong id="EN-US_TASK_0172369902__en-us_task_0172373177_b138539313108">ping vc vpn-instance vpn1 1 2 -v label-alert</strong> 
PW PING : FEC 128 PSEUDOWIRE (NEW). Type = vlan, ID = 100 : 100 data bytes, press CTRL_C to break
     Reply from 4.4.4.4: bytes=100 Sequence=1 time = 110 ms Return Code 3, Subcode 1
     Reply from 4.4.4.4: bytes=100 Sequence=2 time = 90 ms Return Code 3, Subcode 1
     Reply from 4.4.4.4: bytes=100 Sequence=3 time = 60 ms Return Code 3, Subcode 1
     Reply from 4.4.4.4: bytes=100 Sequence=4 time = 60 ms Return Code 3, Subcode 1
     Reply from 4.4.4.4: bytes=100 Sequence=5 time = 90 ms Return Code 3, Subcode 1
    --- FEC: L2 VPN ENDPOINT. Sender VEID = 1, Remote VEID = 2 ping statistics ---
     5 packet(s) transmitted
     5 packet(s) received
     0.00% packet loss
     round-trip min/avg/max = 60/82/110 ms </pre>
</div>
</p></li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_3009.html">Maintaining VPWS
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_3011.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>