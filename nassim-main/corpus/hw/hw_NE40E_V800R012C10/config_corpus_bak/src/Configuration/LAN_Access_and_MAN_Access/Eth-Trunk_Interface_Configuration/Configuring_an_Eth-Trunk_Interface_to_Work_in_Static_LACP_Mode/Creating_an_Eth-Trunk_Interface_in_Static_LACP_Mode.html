
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Creating an Eth-Trunk Interface in Static LACP Mode">
<meta name="abstract" content="An Eth-Trunk interface must be created before you add physical interfaces to the Eth-Trunk interface.">
<meta name="description" content="An Eth-Trunk interface must be created before you add physical interfaces to the Eth-Trunk interface.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ethtrunk_cfg_0013.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ethtrunk_cfg_0015.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="wwx1238417">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="OWNER" content="c00648116,w00437000">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="wwx1238417">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172362869">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Creating an Eth-Trunk Interface in Static LACP Mode</title>
</head>
<body><a name="EN-US_TASK_0172362869"></a><a name="EN-US_TASK_0172362869"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Creating an Eth-Trunk Interface in Static LACP Mode</h1>
<div class="taskbody"><p>An Eth-Trunk interface must be created before you add physical interfaces to the Eth-Trunk interface.</p>
<div class="steps"><a name="EN-US_TASK_0172362869__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=lacp+priority"><b><span class="cmdname">lacp priority</span></b></a> <i><span class="varname">priority</span></i></span></span><p><p>An LACP system priority is configured.</p>
</p><p><p>A smaller value indicates a higher priority.</p>
<p>To configure one end as the Actor, set its LACP system priority to a value smaller than the default value. This end can serve as the Actor because the other end uses the default LACP system priority.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The LACP system priority is configured using the <a href="cmdqueryname=lacp+priority"><b><span class="cmdname">lacp priority</span></b></a> command in the system view, and the LACP interface priority is configured using the same command but in the interface view.</p>
<p>A change in the LACP system priority will cause LACP renegotiation. During the renegotiation process, Eth-Trunk interfaces in LACP mode will go down until the renegotiation succeeds, which may interrupt services. If a maintenance engineer who wants to configure an LACP interface priority runs the <a href="cmdqueryname=lacp+priority"><b><span class="cmdname">lacp priority</span></b></a> command in the system view by mistake, an LACP system priority is configured, which may cause Eth-Trunk interface flapping. To address this problem, run the <a href="cmdqueryname=lacp+priority-command-mode"><b><span class="cmdname">lacp priority-command-mode</span></b></a> command so that the LACP system priority and LACP interface priority configurations require different commands.</p>
<div class="p">When running the <a href="cmdqueryname=lacp+priority-command-mode"><b><span class="cmdname">lacp priority-command-mode</span></b></a> { <strong><span>default</span></strong> | <strong><span>system-priority</span></strong> } command, note the following points:<ul><li>If you specify <strong><span>default</span></strong> in the command, the LACP system priority and LACP interface priority configurations still use the same command (<a href="cmdqueryname=lacp+priority"><b><span class="cmdname">lacp priority</span></b></a> <i><span class="varname">priority</span></i>).</li><li>If you specify <strong><span>system-priority</span></strong> in the command, run the <a href="cmdqueryname=lacp+system-priority"><b><span class="cmdname">lacp system-priority</span></b></a> <i><span class="varname">priority</span></i> command to configure the LACP system priority and run the <a href="cmdqueryname=lacp+priority"><b><span class="cmdname">lacp priority</span></b></a> <i><span class="varname">priority</span></i> command to configure the LACP interface priority.</li></ul>
</div>
</div></div>
</p></li><li><span>(Optional) Run <strong>lacp ignore aggregation delay</strong></span><p><p>The device is enabled to ignore the value of the <strong>Reserved</strong> field in received LACP packets.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li><p>This command is not recommended if the interconnected devices are both Huawei devices.</p>
</li><li><p>When a Huawei device is connected to a non-Huawei device, if the <strong>Reserved</strong> field defined by other vendors in an LACP packet is different from that defined by Huawei, LACP flapping occurs, and services are interrupted. In this scenario, you are advised to configure this command.</p>
</li></ul>
</div></div>
</p></li><li><span>Run <span><span><a href="cmdqueryname=interface+eth-trunk"><b><span class="cmdname">interface eth-trunk</span></b></a></span> <i><span class="varname">trunk-id</span></i></span></span><p><p>An Eth-Trunk interface is created, and its view is displayed.</p>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=portswitch"><b><span class="cmdname">portswitch</span></b></a></span></span><p><p>The Eth-Trunk interface is switched to the Layer 2 mode.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Physical interfaces can be added to an Eth-Trunk interface regardless of whether the Eth-Trunk interface works in Layer 2 or Layer 3 mode. If the Eth-Trunk interface needs to work in Layer 3 mode, skip this step and go to the next step.</p>
</div></div>
</p></li><li><span>Run <a href="cmdqueryname=mode+lacp-static"><b><span class="cmdname">mode lacp-static</span></b></a></span><p><p>The Eth-Trunk interface is configured to work in static LACP mode.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=lacp+backup-mode+enable"><b><span class="cmdname">lacp backup-mode enable</span></b></a></span><p><p>The Eth-Trunk interface is enabled to work in static LACP master/backup negotiation mode.</p>
</p><p><p>If not all interfaces to be added to an Eth-Trunk interface in static LACP mode reside on the same traffic manager (TM) but you want those on the same TM to negotiate first, perform this step.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=lacp+stable-preferred+disable"><b><span class="cmdname">lacp stable-preferred disable</span></b></a></span><p><p>The function to keep the selection status of ports stable is disabled for the Eth-Trunk interface in static LACP mode.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ethtrunk_cfg_0013.html">Configuring an Eth-Trunk Interface in Static LACP Mode
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ethtrunk_cfg_0015.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>