
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Enabling the Digest Snooping Function">
<meta name="abstract" content="When a Huawei device is connected to a non-Huawei device, if the region names, revision numbers, and VLAN-to-instance mappings configured on the two devices are consistent but the Bridge Protocol Data Unit (BPDU) keys are different, the two devices cannot communicate. To address this problem, enable the digest snooping function on the Huawei device.">
<meta name="description" content="When a Huawei device is connected to a non-Huawei device, if the region names, revision numbers, and VLAN-to-instance mappings configured on the two devices are consistent but the Bridge Protocol Data Unit (BPDU) keys are different, the two devices cannot communicate. To address this problem, enable the digest snooping function on the Huawei device.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mstp_cfg_0034.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mstp_cfg_0038.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_mstp_cfg_0001_a.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="wwx1238417">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MSTP">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MSTP">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="featurename" content="MSTP">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="featurename" content="MSTP">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="OWNER" content="c00648116,w00437000">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="wwx1238417">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172363646">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Enabling the Digest Snooping Function</title>
</head>
<body><a name="EN-US_TASK_0172363646"></a><a name="EN-US_TASK_0172363646"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Enabling the Digest Snooping Function</h1>
<div class="taskbody"><p>When a Huawei device is connected to a non-Huawei device, if the region names, revision numbers, and VLAN-to-instance mappings configured on the two devices are consistent but the Bridge Protocol Data Unit (BPDU) keys are different, the two devices cannot communicate. To address this problem, enable the digest snooping function on the Huawei device.</p>
<div class="context"><a name="EN-US_TASK_0172363646__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Do as follows on a <span class="keyword">device</span> in a Multiple Spanning Tree (MST) region:</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172363646__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type interface-number</span></i></span></span><p><p>The view of the Ethernet interface participating in spanning tree protocol calculation is displayed.</p>
</p><p><div class="note" id="EN-US_TASK_0172363646__en-us_task_0172363544_note64068115214313"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172363646__en-us_task_0172363544_p773718156479">The following configuration can be configured both on a Layer 2 interface and a Layer 3 interface.</p>
</div></div>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=stp+binding+process"><b><span class="cmdname">stp binding process</span></b></a> <i><span class="varname">process-id</span></i></span></span><p><p>The interface is bound to an MSTP process.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This step is performed only when the interface needs to be bound to an MSTP process with a non-zero ID. If the interface belongs to process 0, skip this step.</p>
</div></div>
</p></li><li><span>Run <span><a href="cmdqueryname=stp+config-digest-snoop"><b><span class="cmdname">stp config-digest-snoop</span></b></a></span></span><p><p>The digest snooping function is enabled.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mstp_cfg_0034.html">Configuring MSTP Interoperability Between Huawei Devices and Non-Huawei Devices
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mstp_cfg_0038.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_mstp_cfg_0001_a.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>