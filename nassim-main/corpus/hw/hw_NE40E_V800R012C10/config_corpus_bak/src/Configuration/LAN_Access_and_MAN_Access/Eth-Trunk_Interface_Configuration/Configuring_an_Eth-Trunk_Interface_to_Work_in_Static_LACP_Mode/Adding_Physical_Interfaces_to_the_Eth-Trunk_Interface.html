
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Adding Physical Interfaces to the Eth-Trunk Interface">
<meta name="abstract" content="After an Eth-Trunk interface is created and configured to work in static LACP mode, add physical interfaces to the Eth-Trunk interface to increase interface bandwidth, carry out load balancing, and improve reliability.">
<meta name="description" content="After an Eth-Trunk interface is created and configured to work in static LACP mode, add physical interfaces to the Eth-Trunk interface to increase interface bandwidth, carry out load balancing, and improve reliability.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ethtrunk_cfg_0013.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ethtrunk_cfg_0014.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ethtrunk_cfg_0016.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="wwx1238417">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="OWNER" content="c00648116,w00437000">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="wWX1238417">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172362870">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Adding Physical Interfaces to the Eth-Trunk Interface</title>
</head>
<body><a name="EN-US_TASK_0172362870"></a><a name="EN-US_TASK_0172362870"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Adding Physical Interfaces to the Eth-Trunk Interface</h1>
<div class="taskbody"><p>After an Eth-Trunk interface is created and configured to work in static LACP mode, add physical interfaces to the Eth-Trunk interface to increase interface bandwidth, carry out load balancing, and improve reliability.</p>
<div class="context"><a name="EN-US_TASK_0172362870__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p" id="EN-US_TASK_0172362870__p_1">There are two methods for adding physical interfaces to an Eth-Trunk interface:<ul id="EN-US_TASK_0172362870__ul570453721214027"><li id="EN-US_TASK_0172362870__li1499757189214027">Add physical interfaces in the view of the Eth-Trunk interface. Using this method, you can add a single physical interface or physical interfaces in batches.</li><li id="EN-US_TASK_0172362870__li18602239214027">Add an interface in the interface view.</li></ul>
</div>
<p id="EN-US_TASK_0172362870__p_2">Note the following when adding physical interfaces to an Eth-Trunk interface:</p>
<ul><li id="EN-US_TASK_0172362870__li_1"><p id="EN-US_TASK_0172362870__p1528690101214027"><a name="EN-US_TASK_0172362870__li_1"></a><a name="li_1"></a>Eth-Trunk interfaces cannot be added to Eth-Trunk interfaces.</p>
</li><li><p>Different Ethernet interfaces can be added to the same Eth-Trunk interface.</p>
<p>To enable interfaces operating at different rates to forward traffic after they are added to an Eth-Trunk interface, run the <a href="cmdqueryname=lacp+mixed-rate+link+enable"><b><span class="cmdname" id="EN-US_TASK_0172362870__en-us_task_0172362865_cmdname1963358586214311">lacp mixed-rate link enable</span></b></a> command.</p>
</li><li id="EN-US_TASK_0172362870__li_2"><p id="EN-US_TASK_0172362870__p1073239890214027"><a name="EN-US_TASK_0172362870__li_2"></a><a name="li_2"></a>Ethernet interfaces on different interface boards can be added to the same Eth-Trunk interface.</p>
</li><li id="EN-US_TASK_0172362870__li_3"><p id="EN-US_TASK_0172362870__p287780421214027"><a name="EN-US_TASK_0172362870__li_3"></a><a name="li_3"></a>Eth-Trunk interfaces work in either Layer 2 or Layer 3 mode. Ethernet interfaces can join an Eth-Trunk interface regardless of the mode in which the Eth-Trunk interface works.</p>
</li></ul>
<div class="note" id="EN-US_TASK_0172362870__note_1"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><div class="p" id="EN-US_TASK_0172362870__p121624402214027">After a physical interface is added to an Eth-Trunk interface, the physical interface will undergo status changes according to the command run on the Eth-Trunk interface.<ul id="EN-US_TASK_0172362870__ul1768056110214027"><li id="EN-US_TASK_0172362870__li48126460214027">If you run the <a href="cmdqueryname=shutdown"><b><span class="cmdname" id="EN-US_TASK_0172362870__cmdname820270339214311">shutdown</span></b></a> command on the Eth-Trunk interface, the physical status of both the Eth-Trunk interface and its member interface becomes <strong id="EN-US_TASK_0172362870__b1690336196214311">Administratively DOWN</strong>, and the configuration file of the member interface displays <strong id="EN-US_TASK_0172362870__b2139982133214311">shutdown</strong> automatically.</li><li id="EN-US_TASK_0172362870__li516480427214027">If you run the <a href="cmdqueryname=undo+shutdown"><b><span class="cmdname" id="EN-US_TASK_0172362870__cmdname1284906514214311">undo shutdown</span></b></a> command on the Eth-Trunk interface, the configuration file of the member interface displays <strong id="EN-US_TASK_0172362870__b1076892122214311">undo shutdown</strong> automatically.</li></ul>
</div>
</div></div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172362870__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Add one or more physical interfaces in the Eth-Trunk interface view.</span><ol><li class="substepexpand" id="EN-US_TASK_0172362870__substep_1"><span id="EN-US_TASK_0172362870__cmd1004885973214311">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172362870__cmdname854557746214311">system-view</span></b></a></span></span><p><p id="EN-US_TASK_0172362870__p2016713634214311">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172362870__substep_2"><span id="EN-US_TASK_0172362870__cmd1569270811214311">Run <span><a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0172362870__cmdname1656713753214027">interface</span></b></a> <strong><span id="EN-US_TASK_0172362870__cmdparmname990720515527">eth-trunk</span></strong> <i><span class="varname" id="EN-US_TASK_0172362870__varname258788306214027">trunk-id</span></i></span></span><p><p id="EN-US_TASK_0172362870__p1823216133214311">The Eth-Trunk interface view is displayed.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=lacp+mixed-rate+link+enable"><b><span class="cmdname">lacp mixed-rate link enable</span></b></a></span><p><p>Interfaces operating at different rates are enabled to forward packets after these interfaces are added to an Eth-Trunk interface in static LACP mode.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The rate of the interface added to the Eth-Trunk interface is not limited. For example, 10G and 100G interfaces can be added to the same Eth-Trunk interface.</p>
</div></div>
</p></li><li class="substepexpand" id="EN-US_TASK_0172362870__substep_3"><span id="EN-US_TASK_0172362870__cmd1372095587214027">Run either of the following commands as required.</span><p><ul id="EN-US_TASK_0172362870__ul2124146059214027"><li id="EN-US_TASK_0172362870__li631110013214027"><p id="EN-US_TASK_0172362870__p644255958214027"><a name="EN-US_TASK_0172362870__li631110013214027"></a><a name="li631110013214027"></a>To add physical interfaces to the Eth-Trunk interface in batches, run the <a href="cmdqueryname=trunkport"><b><span class="cmdname" id="EN-US_TASK_0172362870__cmdname1531964601214027">trunkport</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362870__varname1997139438214027">interface-type</span></i> { <i><span class="varname" id="EN-US_TASK_0172362870__varname1113250338214027">interface-number1</span></i> [ <strong><span id="EN-US_TASK_0172362870__cmdparmname704846314214027">to</span></strong> <i><span class="varname" id="EN-US_TASK_0172362870__varname403622900214027">interface-number2</span></i> ] } &amp;&lt;1-64&gt;<span> [ <strong><span id="EN-US_TASK_0172362870__cmdparmname376696320214027">mode</span></strong> { <strong><span id="EN-US_TASK_0172362870__cmdparmname522446992214027">active</span></strong> | <strong><span id="EN-US_TASK_0172362870__cmdparmname1546158047214027">passive</span></strong> } ]</span> command.</p>
</li><li id="EN-US_TASK_0172362870__li1143844849214027"><p id="EN-US_TASK_0172362870__p326769199214027"><a name="EN-US_TASK_0172362870__li1143844849214027"></a><a name="li1143844849214027"></a>To add a single physical interface to an Eth-Trunk interface, run the <a href="cmdqueryname=trunkport"><b><span class="cmdname" id="EN-US_TASK_0172362870__cmdname1438328992214027">trunkport</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362870__varname907563889214027">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0172362870__varname1632994609214027">interface-number</span></i><span> [ <strong><span id="EN-US_TASK_0172362870__cmdparmname1821348498214027">mode</span></strong> { <strong><span id="EN-US_TASK_0172362870__cmdparmname1418906508214027">active</span></strong> | <strong><span id="EN-US_TASK_0172362870__cmdparmname304877161214027">passive</span></strong> } ]</span> command.</p>
</li></ul>
</p></li><li class="substepexpand" id="EN-US_TASK_0172362870__substep_4"><span id="EN-US_TASK_0172362870__cmd1160568023214311">Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172362870__cmdname2036174701214311">commit</span></b></a></span></span><p><p id="EN-US_TASK_0172362870__p500019893214311">The configuration is committed.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0172362870__step_1"><span id="EN-US_TASK_0172362870__cmd1770317301214027">Add a physical interface to an Eth-Trunk interface in the view of the physical interface.</span><ol id="EN-US_TASK_0172362870__substeps1308991395214027"><li class="substepexpand" id="EN-US_TASK_0172362870__substep1710981051214027"><span id="EN-US_TASK_0172362870__cmd965966015214311">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172362870__cmdname2133583628214311">system-view</span></b></a></span></span><p><p id="EN-US_TASK_0172362870__p970472660214311">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172362870__substep1921038182214027"><span id="EN-US_TASK_0172362870__cmd112183214214311">Run <span><a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0172362870__cmdname1201182871214311">interface</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362870__varname552139593214311">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0172362870__varname140444384214311">interface-number</span></i></span></span><p><p id="EN-US_TASK_0172362870__p535813427214311">The view of a physical interface that needs to be added to an Eth-Trunk interface is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172362870__substep1719488965214027"><span id="EN-US_TASK_0172362870__cmd763597076214027">Run <a href="cmdqueryname=eth-trunk"><b><span class="cmdname" id="EN-US_TASK_0172362870__cmdname879672034214027">eth-trunk</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362870__varname1452837592214027">trunk-id</span></i><span> [ <strong><span id="EN-US_TASK_0172362870__cmdparmname502825545214027">mode</span></strong> { <strong><span id="EN-US_TASK_0172362870__cmdparmname2013519706214027">active</span></strong> | <strong><span id="EN-US_TASK_0172362870__cmdparmname425585256214027">passive</span></strong> } ]</span></span><p><p id="EN-US_TASK_0172362870__p147591450195914">The physical interface is added to the Eth-Trunk interface.</p>
</p><p><div class="note" id="EN-US_TASK_0172362870__note788109385214027"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul id="EN-US_TASK_0172362870__ul75298999214027"><li id="EN-US_TASK_0172362870__li824192744214027"><p id="EN-US_TASK_0172362870__p937925258214027"><a name="EN-US_TASK_0172362870__li824192744214027"></a><a name="li824192744214027"></a>Member interfaces cannot be configured with services or Layer 3 configurations such as IP addresses.</p>
</li><li id="EN-US_TASK_0172362870__li1644864382214027"><p id="EN-US_TASK_0172362870__p678680443214027"><a name="EN-US_TASK_0172362870__li1644864382214027"></a><a name="li1644864382214027"></a>Member interfaces cannot be manually configured with MAC addresses.</p>
</li><li id="EN-US_TASK_0172362870__li1719023901214027"><p id="EN-US_TASK_0172362870__p1537201016214027"><a name="EN-US_TASK_0172362870__li1719023901214027"></a><a name="li1719023901214027"></a>An Ethernet interface can be added to only one Eth-Trunk interface. The Ethernet interface must be deleted from the original Eth-Trunk interface before joining another Eth-Trunk interface.</p>
</li><li id="EN-US_TASK_0172362870__li2089957772214027"><p id="EN-US_TASK_0172362870__p1677743672214027"><a name="EN-US_TASK_0172362870__li2089957772214027"></a><a name="li2089957772214027"></a><span>Before adding a Layer 2 interface on the <span class="keyword" id="EN-US_TASK_0172362870__keyword1808692647214027">Router</span> to an Eth-Trunk interface, run the <a href="cmdqueryname=undo+portswitch"><b><span class="cmdname" id="EN-US_TASK_0172362870__cmdname466408893214027">undo portswitch</span></b></a> command to configure the interface to work in Layer 3 mode.</span></p>
</li><li id="EN-US_TASK_0172362870__li1707977819214027"><p id="EN-US_TASK_0172362870__p569294484214027"><a name="EN-US_TASK_0172362870__li1707977819214027"></a><a name="li1707977819214027"></a>If an Eth-Trunk member interface is directly connected to an interface on the peer, the peer interface must also be an Eth-Trunk member interface; otherwise, the devices cannot communicate with each other.</p>
</li><li id="EN-US_TASK_0172362870__li1697214256109">If the Port State Table (PST) status of a member interface is down, the member interface does not function as an outbound interface to forward packets for the Eth-Trunk interface.</li></ul>
</div></div>
</p></li><li class="substepexpand" id="EN-US_TASK_0172362870__substep1105237617214027"><span id="EN-US_TASK_0172362870__cmd1243811377214311">Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172362870__cmdname575381609214311">commit</span></b></a></span></span><p><p id="EN-US_TASK_0172362870__p1877279772214311">The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
<div class="postreq"><a name="EN-US_TASK_0172362870__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Follow-up Procedure</h4>
<div class="p"><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><div class="p">If services are running on a live network, it is recommended that you perform the following operations when adding an interface to an Eth-Trunk interface:<ol><li>Run the <a href="cmdqueryname=shutdown"><b><span class="cmdname">shutdown</span></b></a> command on the interface to be added to an Eth-Trunk interface.</li><li>Add the interface to the Eth-Trunk interface.</li><li>Run the <a href="cmdqueryname=undo+shutdown"><b><span class="cmdname">undo shutdown</span></b></a> command on the interface that has been added to the Eth-Trunk interface.</li></ol>
</div>
</div></div>
<p id="EN-US_TASK_0172362870__p_05">When Eth-Trunk member interfaces change from up to down or down to up, you need to learn the status changes through trap messages so to determine whether the status changes are caused by device faults.</p>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ethtrunk_cfg_0013.html">Configuring an Eth-Trunk Interface in Static LACP Mode
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ethtrunk_cfg_0014.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ethtrunk_cfg_0016.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>