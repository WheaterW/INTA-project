
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Overview of STP and RSTP">
<meta name="abstract" content="STP and RSTP are used to block redundant links on a Layer 2 network and trim a network into a loop-free tree topology.">
<meta name="description" content="STP and RSTP are used to block redundant links on a Layer 2 network and trim a network into a loop-free tree topology.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_stp_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/spec/STP_and_RSTP_limitation.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="wwx1238417">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="STP/RSTP">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="STP/RSTP">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="featurename" content="STP/RSTP">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="OWNER" content="c00648116,w00437000">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="wwx1238417">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0172363527">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Overview of STP and RSTP</title>
</head>
<body><a name="EN-US_CONCEPT_0172363527"></a><a name="EN-US_CONCEPT_0172363527"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Overview of STP and RSTP</h1>
<div><p>STP and RSTP are used to block redundant links on a Layer 2 network and trim a network into a loop-free tree topology.</p>
<div class="section"><h4 class="sectiontitle">Introduction</h4><p>On a complex network, loops are inevitable. With the requirement for network redundancy backup, network designers tend to deploy multiple physical links between two <span class="keyword">device</span>s, one of which is the master and the others are the backup. Loops are likely or bound to occur in such a situation.</p>
<p>Loops will cause broadcast storms, thereby exhausting network resources and paralyzing the network. Loops also cause flapping of MAC address tables and therefore damage MAC address entries.</p>
<p>The <span class="keyword">device</span>s running STP discover loops on the network by exchanging information with each other and trim the ring topology into a loop-free tree topology by blocking a certain interface. In this manner, replication and circular propagation of packets are avoided on the network. In addition, this prevents performance deterioration when devices continuously process repeated packets.</p>
<p>STP, however, converges the network topology slowly. In 2001, the IEEE published document 802.1w to introduce an evolution of the Spanning Tree Protocol: Rapid Spanning Tree Protocol (RSTP). RSTP is developed based on STP but outperforms STP.</p>
</div>
<div class="section"><h4 class="sectiontitle">One Root Bridge</h4><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1472540577214008">A tree topology must have a root. Therefore, the root bridge is introduced by STP.</p>
<p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p965598363214008">There is only one root bridge on the entire STP-enabled network. The root bridge is the logical center, but not necessarily the physical center, of the entire network. The root bridge changes dynamically with the network topology.</p>
<p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1940642603214008">After the network converges, the root bridge generates and sends out configuration BPDUs at specific intervals. Other devices forward the BPDUs, ensuring that the network topology is stable.</p>
</div>
<div class="section"><h4 class="sectiontitle">Two Types of Measurements</h4><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p658219341214008">The spanning tree is calculated based on two types of measurements: ID and path cost.</p>
<ul id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_ul490039657214008"><li id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_li1254593989214008"><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1966726877214008"><a name="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_li1254593989214008"></a><a name="en-us_concept_0172352502_li1254593989214008"></a>ID</p>
<p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p606228132214008">Two types of IDs are available: Bridge IDs (BIDs) and Port IDs (PIDs).</p>
<ul id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_ul1274410039214008"><li id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_li1540832892214008"><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p273116671214008"><a name="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_li1540832892214008"></a><a name="en-us_concept_0172352502_li1540832892214008"></a>BID</p>
<p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1735950265214008">As defined in IEEE 802.1D, a BID is composed of a 16-bit bridge priority and a bridge MAC address. The bridge priority occupies the leftmost 16 bits, and the MAC address occupies the rightmost 48 bits.</p>
<p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p396518459214008">On an STP network, the device with the smallest BID is selected to be the root bridge.</p>
</li><li id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_li2080853828214008"><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1139095801214008"><a name="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_li2080853828214008"></a><a name="en-us_concept_0172352502_li2080853828214008"></a>PID</p>
<p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p315053575214008">The PID is composed of a 4-bit port priority and a 12-bit port number. The port priority occupies the leftmost 4 bits and the port number occupies the remaining rightmost bits.</p>
<p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p863497025214008">The PID is used to select the designated port.</p>
<div class="note" id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_note1582060489214008"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1695605116214008">The port priority affects the role of a port in a specified spanning tree instance. For details, see <a href="feature_0003995761.html">STP Topology Calculation</a>.</p>
</div></div>
</li></ul>
</li><li id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_li2004760227214008"><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p2134197406214008"><a name="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_li2004760227214008"></a><a name="en-us_concept_0172352502_li2004760227214008"></a>Path cost</p>
<p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p528545012214008">The path cost is a port variable and is used by STP to select a link. STP calculates the path cost to select a robust link and blocks redundant links to trim the network into a loop-free tree topology.</p>
<p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1745009261214008">On an STP-enabled network, the total cost of the path from a certain port to the root bridge is the sum of the costs of all the segment paths into which the path is separated by the ports on the transit bridges.</p>
<p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1033543263214008"><a href="#EN-US_CONCEPT_0172363527__en-us_concept_0172352502_tab_dc_vrp_mstp_feature_000501">Table 1</a> shows the path costs defined in IEEE 802.1t. Different device manufacturers use different path cost standards.</p>

<div class="tableBorder"><a name="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_tab_dc_vrp_mstp_feature_000501"></a><a name="en-us_concept_0172352502_tab_dc_vrp_mstp_feature_000501"></a><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_tab_dc_vrp_mstp_feature_000501" frame="border" border="1" rules="all"><caption><b>Table 1 </b>List of path costs</caption><thead align="left"><tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row1646008606214008"><th align="left" class="cellrowborder" rowspan="2" valign="top" id="mcps1.4.3.3.2.5.2.6.1.1" liSelected="liSelected"><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p155536877214008">Port Speed</p>
</th>
<th align="left" class="cellrowborder" rowspan="2" valign="top" id="mcps1.4.3.3.2.5.2.6.1.2" liSelected="liSelected"><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p332884243214008">Port Mode</p>
</th>
<th align="left" class="cellrowborder" colspan="3" valign="top" id="mcps1.4.3.3.2.5.2.6.1.3" liSelected="liSelected"><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p2077019447214008">STP Path Cost (Recommended Value)</p>
</th>
</tr>
<tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row803415905214008"><th align="left" class="cellrowborder" valign="top" id="mcps1.4.3.3.2.5.2.6.2.1" liSelected="liSelected"><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1619501614214008">802.1D-1998</p>
</th>
<th align="left" class="cellrowborder" valign="top" id="mcps1.4.3.3.2.5.2.6.2.2" liSelected="liSelected"><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1957085696214008">802.1T</p>
</th>
<th align="left" class="cellrowborder" valign="top" id="mcps1.4.3.3.2.5.2.6.2.3" liSelected="liSelected"><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1408525004214008">legacy</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row519020030214008"><td class="cellrowborder" valign="top" width="15.321532153215323%" headers="mcps1.4.3.3.2.5.2.6.1.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p2134224678214008">0</p>
</td>
<td class="cellrowborder" valign="top" width="28.572857285728574%" headers="mcps1.4.3.3.2.5.2.6.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p255509914214008">-</p>
</td>
<td class="cellrowborder" valign="top" width="16.56165616561656%" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1640353627214008">65535</p>
</td>
<td class="cellrowborder" valign="top" width="15.111511151115112%" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p911947237214008">200000000</p>
</td>
<td class="cellrowborder" valign="top" width="24.432443244324432%" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.3 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1196739106214008">200,000</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row1814303192214008"><td class="cellrowborder" rowspan="5" valign="top" width="15.321532153215323%" headers="mcps1.4.3.3.2.5.2.6.1.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p2041477907214008">10 Mbps</p>
</td>
<td class="cellrowborder" valign="top" width="28.572857285728574%" headers="mcps1.4.3.3.2.5.2.6.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p782450989214008">Half-Duplex</p>
</td>
<td class="cellrowborder" valign="top" width="16.56165616561656%" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p705412659214008">100</p>
</td>
<td class="cellrowborder" valign="top" width="15.111511151115112%" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p237986599214008">2000000</p>
</td>
<td class="cellrowborder" valign="top" width="24.432443244324432%" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.3 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p58761647214008">2,000</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row319092787214008"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p281848875214008">Full-Duplex</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1505870869214008">99</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1560209618214008">1999999</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.3 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p266147135214008">1,999</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row1242959384214008"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1766648957214008">Aggregated Link 2 Ports</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p409039987214008">95</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p2146444225214008">1000000</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.3 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p2067115928214008">1800</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row168069153214008"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1081497107214008">Aggregated Link 3 Ports</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1718800276214008">95</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p724692077214008">666666</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.3 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1546034614214008">1600</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row1437351599214008"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p150197581214008">Aggregated Link 4 Ports</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p730644718214008">95</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p643968932214008">500000</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.3 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1323714811214008">1400</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row1490726754214008"><td class="cellrowborder" rowspan="5" valign="top" width="15.321532153215323%" headers="mcps1.4.3.3.2.5.2.6.1.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p560334399214008">100 Mbps</p>
</td>
<td class="cellrowborder" valign="top" width="28.572857285728574%" headers="mcps1.4.3.3.2.5.2.6.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p48525980214008">Half-Duplex</p>
</td>
<td class="cellrowborder" valign="top" width="16.56165616561656%" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p276412631214008">19</p>
</td>
<td class="cellrowborder" valign="top" width="15.111511151115112%" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1446239415214008">200000</p>
</td>
<td class="cellrowborder" valign="top" width="24.432443244324432%" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.3 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1036466064214008">200</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row2121237600214008"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p429967060214008">Full-Duplex</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1700243624214008">18</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p965516178214008">199999</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.3 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p888896190214008">199</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row1738927982214008"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p242813700214008">Aggregated Link 2 Ports</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1154961455214008">15</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1508068109214008">100000</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.3 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p305794583214008">180</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row1791916539214008"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1713055916214008">Aggregated Link 3 Ports</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1858959041214008">15</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p848124555214008">66666</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.3 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p82177157214008">160</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row1930897045214008"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1745179584214008">Aggregated Link 4 Ports</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p927090910214008">15</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p379096684214008">50000</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.3 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p275612704214008">140</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row106039691214008"><td class="cellrowborder" rowspan="4" valign="top" width="15.321532153215323%" headers="mcps1.4.3.3.2.5.2.6.1.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1897337805214008">1000 Mbps</p>
</td>
<td class="cellrowborder" valign="top" width="28.572857285728574%" headers="mcps1.4.3.3.2.5.2.6.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1216759292214008">Full-Duplex</p>
</td>
<td class="cellrowborder" valign="top" width="16.56165616561656%" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1706997713214008">4</p>
</td>
<td class="cellrowborder" valign="top" width="15.111511151115112%" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p559368432214008">20000</p>
</td>
<td class="cellrowborder" valign="top" width="24.432443244324432%" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.3 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p280489221214008">20</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row461183972214008"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1619729195214008">Aggregated Link 2 Ports</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p2076643134214008">3</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p788180563214008">10000</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.3 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p428312461214008">18</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row1593663136214008"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p746523419214008">Aggregated Link 3 Ports</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1306302294214008">3</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1020064259214008">6666</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.3 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p2063185340214008">16</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row802142204214008"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1072998946214008">Aggregated Link 4 Ports</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p293393592214008">3</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1452331713214008">5000</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.3 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1640804397214008">14</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row310581235214008"><td class="cellrowborder" rowspan="4" valign="top" width="15.321532153215323%" headers="mcps1.4.3.3.2.5.2.6.1.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p300446557214008">10 Gbps</p>
</td>
<td class="cellrowborder" valign="top" width="28.572857285728574%" headers="mcps1.4.3.3.2.5.2.6.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p8581615214008">Full-Duplex</p>
</td>
<td class="cellrowborder" valign="top" width="16.56165616561656%" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1829368844214008">2</p>
</td>
<td class="cellrowborder" valign="top" width="15.111511151115112%" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1368479485214008">2000</p>
</td>
<td class="cellrowborder" valign="top" width="24.432443244324432%" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.3 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p708205618214008">2</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row267636444214008"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1073211325214008">Aggregated Link 2 Ports</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1702932645214008">1</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p614176956214008">1000</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.3 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1919297421214008">1</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row734409313214008"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1229215354214008">Aggregated Link 3 Ports</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p589332684214008">1</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p565648161214008">666</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.3 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1427875797214008">1</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row1426681392214008"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1872215972214008">Aggregated Link 4 Ports</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1174649582214008">1</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1606585261214008">500</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.3 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1941151711214008">1</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row193151561017"><td class="cellrowborder" rowspan="4" valign="top" width="15.321532153215323%" headers="mcps1.4.3.3.2.5.2.6.1.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p143855617211">100 Gbps</p>
</td>
<td class="cellrowborder" valign="top" width="28.572857285728574%" headers="mcps1.4.3.3.2.5.2.6.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p33174567014">Full-Duplex</p>
</td>
<td class="cellrowborder" valign="top" width="16.56165616561656%" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p53178561011">2</p>
</td>
<td class="cellrowborder" valign="top" width="15.111511151115112%" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p43171856709">200</p>
</td>
<td class="cellrowborder" valign="top" width="24.432443244324432%" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.3 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p2318756902">2</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row927411144117"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1027651415111">Aggregated Link 2 Ports</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1027613141914">1</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p439018712412">200</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.3 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1527651420116">1</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row15110618111"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p2516619117">Aggregated Link 3 Ports</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p951161811">1</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p16410177419">200</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.3 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p4521961216">1</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row28743120117"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p087512113116">Aggregated Link 4 Ports</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p68751514119">1</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1742918717418">200</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.5.2.6.1.3 mcps1.4.3.3.2.5.2.6.2.3 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p10876141213">1</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="note" id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_note386419039214008"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p554239945214008">The rate of an aggregated link is the sum of the rates of all Up member links in the aggregated group.</p>
</div></div>
</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Three Elements</h4><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1080748845214008">There are generally three elements involved when a ring topology is to be trimmed into a tree topology: root bridge, root port, and designated port. <a href="#EN-US_CONCEPT_0172363527__en-us_concept_0172352502_fig_dc_vrp_mstp_feature_000501">Figure 1</a> shows the three elements.</p>
<div class="fignone" id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_fig_dc_vrp_mstp_feature_000501"><a name="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_fig_dc_vrp_mstp_feature_000501"></a><a name="en-us_concept_0172352502_fig_dc_vrp_mstp_feature_000501"></a><span class="figcap"><b>Figure 1 </b>STP network architecture</span><br><span><img id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_image10670103718276" src="figure/en-us_image_0000001972751594.png" width="NaN" height="NaN"></span></div>
<ul id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_ul649111531214008"><li id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_li98707554214008"><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1120484594214008"><a name="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_li98707554214008"></a><a name="en-us_concept_0172352502_li98707554214008"></a>Root bridge</p>
<p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p307634851214008">The root bridge is the bridge with the smallest BID. The smallest BID is determined through the exchange of configuration BPDUs.</p>
</li><li id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_li1521011213214008"><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p2137606650214008"><a name="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_li1521011213214008"></a><a name="en-us_concept_0172352502_li1521011213214008"></a>Root port</p>
<p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1419751500214008">The root port is a port that has the smallest path cost to the root bridge. To be specific, the root port is determined based on the path cost. Among all STP-enabled ports on a network bridge, the port with the smallest root path cost is the root port. There is only one root port on an STP-enabled device, and no root port on the root bridge.</p>
</li><li id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_li1276425017214008"><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1661110836214008"><a name="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_li1276425017214008"></a><a name="en-us_concept_0172352502_li1276425017214008"></a>Designated port</p>
<p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p489810449214008">For a description of the designated bridge and designated port, see <a href="#EN-US_CONCEPT_0172363527__en-us_concept_0172352502_tab_dc_vrp_mstp_feature_000503">Table 2</a>.</p>

<div class="tableBorder"><a name="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_tab_dc_vrp_mstp_feature_000503"></a><a name="en-us_concept_0172352502_tab_dc_vrp_mstp_feature_000503"></a><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_tab_dc_vrp_mstp_feature_000503" frame="border" border="1" rules="all"><caption><b>Table 2 </b>Description of the designated bridge and designated port</caption><thead align="left"><tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row1144357064214008"><th align="left" class="cellrowborder" valign="top" width="23.667633236676334%" id="mcps1.4.4.4.3.3.2.4.1.1" liSelected="liSelected"><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p107121336214008">Object</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="36.66633336666333%" id="mcps1.4.4.4.3.3.2.4.1.2" liSelected="liSelected"><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1907429630214008">Designated Bridge</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="39.66603339666033%" id="mcps1.4.4.4.3.3.2.4.1.3" liSelected="liSelected"><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p932428943214008">Designated Port</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row1655095625214008"><td class="cellrowborder" valign="top" width="23.667633236676334%" headers="mcps1.4.4.4.3.3.2.4.1.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p2129691511214008">Device</p>
</td>
<td class="cellrowborder" valign="top" width="36.66633336666333%" headers="mcps1.4.4.4.3.3.2.4.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1023061314214008">Device that forwards configuration BPDUs to a directly connected device</p>
</td>
<td class="cellrowborder" valign="top" width="39.66603339666033%" headers="mcps1.4.4.4.3.3.2.4.1.3 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1356946330214008">Designated bridge port that forwards configuration BPDUs to the device</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row574538529214008"><td class="cellrowborder" valign="top" width="23.667633236676334%" headers="mcps1.4.4.4.3.3.2.4.1.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p683985227214008">LAN</p>
</td>
<td class="cellrowborder" valign="top" width="36.66633336666333%" headers="mcps1.4.4.4.3.3.2.4.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1282564008214008">Device that forwards configuration BPDUs to a network segment</p>
</td>
<td class="cellrowborder" valign="top" width="39.66603339666033%" headers="mcps1.4.4.4.3.3.2.4.1.3 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1008174567214008">Designated bridge port that forwards configuration BPDUs to a network segment.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1861857170214008">On the network shown in <a href="#EN-US_CONCEPT_0172363527__en-us_concept_0172352502_fig_dc_vrp_mstp_feature_000502">Figure 2</a>, AP1 and AP2 reside on <span class="keyword" id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_keyword1162463925214252">Device</span>A; BP1 and BP2 reside on <span class="keyword" id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_keyword1053820674214252">Device</span>B; CP1 and CP2 reside on <span class="keyword" id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_keyword1197223546214252">Device</span>C.</p>
<ul id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_ul119172040214008"><li id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_li1181349938214008"><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1462091451214008"><a name="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_li1181349938214008"></a><a name="en-us_concept_0172352502_li1181349938214008"></a><span class="keyword" id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_keyword1041510341214252">Device</span>A sends configuration BPDUs to <span class="keyword" id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_keyword1252787907214252">Device</span>B through AP1. <span class="keyword" id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_keyword642713193214252">Device</span> A is the designated bridge of <span class="keyword" id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_keyword1755894120214252">Device</span>B, and AP1 on <span class="keyword" id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_keyword1628632964214252">Device</span>A is the designated port.</p>
</li><li id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_li236205076214008"><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1348932676214008"><a name="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_li236205076214008"></a><a name="en-us_concept_0172352502_li236205076214008"></a>Two devices, <span class="keyword" id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_keyword2122296007214252">Device</span>B and <span class="keyword" id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_keyword1172211809214252">Device</span>C, are connected to the LAN. If <span class="keyword" id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_keyword1269505685214252">Device</span>B is responsible for forwarding configuration BPDUs to the LAN, <span class="keyword" id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_keyword1804047622214252">Device</span>B is the designated bridge of the LAN and BP2 on <span class="keyword" id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_keyword1938788727214252">Device</span>B is the designated port.</p>
</li></ul>
<div class="fignone" id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_fig_dc_vrp_mstp_feature_000502"><a name="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_fig_dc_vrp_mstp_feature_000502"></a><a name="en-us_concept_0172352502_fig_dc_vrp_mstp_feature_000502"></a><span class="figcap"><b>Figure 2 </b>Designated bridge and designated port</span><br><span><img class="vsd" id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_image1988890706214008" src="images/fig_feature_image_0003994814.png" width="NaN" height="NaN"></span><br></div>
</li></ul>
<p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1541543444214008">After the root bridge, root port, and designated port are selected successfully, the entire tree topology is set up. When the topology is stable, only the root port and the designated port forward traffic. All the other ports are in the Blocking state and receive only STP protocol packets, without forwarding user traffic.</p>
</div>
<div class="section"><h4 class="sectiontitle">Four Comparison Principles</h4><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1505251143214008">STP has four comparison principles that form a BPDU priority vector {root BID, total path costs, sender BID, PID}.</p>
<p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p2040523572214008"><a href="#EN-US_CONCEPT_0172363527__en-us_concept_0172352502_tab_dc_vrp_mstp_feature_000504">Table 3</a> shows the information that is carried in the configuration BPDUs.</p>

<div class="tableBorder"><a name="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_tab_dc_vrp_mstp_feature_000504"></a><a name="en-us_concept_0172352502_tab_dc_vrp_mstp_feature_000504"></a><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_tab_dc_vrp_mstp_feature_000504" frame="border" border="1" rules="all"><caption><b>Table 3 </b>Four important fields</caption><thead align="left"><tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row1086658842214008"><th align="left" class="cellrowborder" valign="top" width="39.5%" id="mcps1.4.5.4.2.3.1.1" liSelected="liSelected"><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p913736478214008">Field</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="60.5%" id="mcps1.4.5.4.2.3.1.2" liSelected="liSelected"><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p382183192214008">Brief Description</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row1269736781214008"><td class="cellrowborder" valign="top" width="39.5%" headers="mcps1.4.5.4.2.3.1.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1096052770214008">Root BID</p>
</td>
<td class="cellrowborder" valign="top" width="60.5%" headers="mcps1.4.5.4.2.3.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1193060351214008">Each STP-enabled network has only one root bridge.</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row813438269214008"><td class="cellrowborder" valign="top" width="39.5%" headers="mcps1.4.5.4.2.3.1.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p716218242214008">Root path cost</p>
</td>
<td class="cellrowborder" valign="top" width="60.5%" headers="mcps1.4.5.4.2.3.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p385002859214008">Cost of the path from the port sending configuration BPDUs to the root bridge.</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row153019258214008"><td class="cellrowborder" valign="top" width="39.5%" headers="mcps1.4.5.4.2.3.1.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1595870079214008">Sender BID</p>
</td>
<td class="cellrowborder" valign="top" width="60.5%" headers="mcps1.4.5.4.2.3.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p571306748214008">BID of the device sending configuration BPDUs.</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_row727904179214008"><td class="cellrowborder" valign="top" width="39.5%" headers="mcps1.4.5.4.2.3.1.1 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1504110730214008">Sender PID</p>
</td>
<td class="cellrowborder" valign="top" width="60.5%" headers="mcps1.4.5.4.2.3.1.2 "><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1593380492214008">PID of the port sending configuration BPDUs.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p84551312214008">After a device on the STP-enabled network receives configuration BPDUs, it compares the fields shown in <a href="#EN-US_CONCEPT_0172363527__en-us_concept_0172352502_tab_dc_vrp_mstp_feature_000504">Table 3</a> with that of the configuration BPDUs. The four comparison principles are as follows:</p>
<div class="note" id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_note865652206214008"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_p1962401464214008">During the STP calculation, the smaller the value, the higher the priority.</p>
</div></div>
<ul id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_ul50404180214008"><li id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_li752413882214008">Smallest BID: used to select the root bridge. Devices running STP select the smallest BID as the root BID shown in <a href="#EN-US_CONCEPT_0172363527__en-us_concept_0172352502_tab_dc_vrp_mstp_feature_000504">Table 3</a>.</li><li id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_li652203405214008">Smallest root path cost: used to select the root port on a non-root bridge. On the root bridge, the path cost of each port is 0.</li><li id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_li2086758704214008">Smallest sender BID: used to select the root port when a device running STP has two ports with the same path cost. The port with a smaller BID is selected as the root port in STP calculation. Assuming that the BID of <span class="keyword" id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_keyword1894093594214008">Device</span>B is smaller than that of <span class="keyword" id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_keyword1200382940214252">Device</span>C in <a href="feature_0003992595.html#EN-US_CONCEPT_0172352502__fig_dc_vrp_mstp_feature_000501">Figure 1</a>, if the path costs in the BPDUs received by port A and port B on <span class="keyword" id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_keyword1695777449214252">Device</span>D are the same, port B becomes the root port.</li><li id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_li438186954214008">Smallest PID: used to determine which port should be blocked when multiple ports have the same root path cost. The port with the greatest PID is blocked. <a href="#EN-US_CONCEPT_0172363527__en-us_concept_0172352502_fig_dc_vrp_mstp_feature_000503">Figure 3</a> shows a scenario where PIDs need to be used. The BPDUs received on ports A and B of <span class="keyword" id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_keyword556701644214008">Device</span>A contain the same root path cost and same sender BID, but port A has a smaller PID than port B. Therefore, port B is blocked to prevent loops.<div class="fignone" id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_fig_dc_vrp_mstp_feature_000503"><a name="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_fig_dc_vrp_mstp_feature_000503"></a><a name="en-us_concept_0172352502_fig_dc_vrp_mstp_feature_000503"></a><span class="figcap"><b>Figure 3 </b>Topology to which PID comparison is applied</span><br><span><img id="EN-US_CONCEPT_0172363527__en-us_concept_0172352502_image26064591404" src="figure/en-us_image_0000002009323629.png" width="NaN" height="NaN"></span></div>
</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_stp_cfg_0000.html">STP/RSTP Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/spec/STP_and_RSTP_limitation.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>