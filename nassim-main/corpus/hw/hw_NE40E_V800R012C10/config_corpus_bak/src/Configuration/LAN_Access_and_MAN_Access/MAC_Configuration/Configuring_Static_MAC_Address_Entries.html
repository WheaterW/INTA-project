
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Static MAC Address Entries">
<meta name="abstract" content="After a static MAC address entry is configured, packets with the destination MAC address matching the entry are forwarded from the specified outbound interface. This configuration protects a device from attack packets with forged MAC addresses.">
<meta name="description" content="After a static MAC address entry is configured, packets with the destination MAC address matching the entry are forwarded from the specified outbound interface. This configuration protects a device from attack packets with forged MAC addresses.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mac_cfg_00000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/spec/MAC_limitation.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mac_cfg_0004.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="wwx1238417">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MAC">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MAC">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="featurename" content="MAC">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="OWNER" content="l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="wWX1238417">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172362720">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Static MAC Address Entries</title>
</head>
<body><a name="EN-US_TASK_0172362720"></a><a name="EN-US_TASK_0172362720"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Static MAC Address Entries</h1>
<div class="taskbody"><p>After a static MAC address entry is configured, packets with the destination MAC address matching the entry are forwarded from the specified outbound interface. This configuration protects a device from attack packets with forged MAC addresses.</p>
<div class="context"><a name="EN-US_TASK_0172362720__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>If a network has fixed users or a server connects to a switch on the network, static MAC address entries need to be configured on the switch to prevent hackers from attacking the switch or the server. On the network shown in <a href="#EN-US_TASK_0172362720__fig_dc_vrp_mac_cfg_000301">Figure 1</a>, you can configure a static MAC address entry on the switch containing the MAC address of the server so that the switch forwards packets destined for the server through only a specified interface. This configuration prevents hackers from attacking the server using forged MAC addresses and from stealing information from the server, as well as ensures the communication between users and the server.</p>
<div class="fignone" id="EN-US_TASK_0172362720__fig_dc_vrp_mac_cfg_000301"><a name="EN-US_TASK_0172362720__fig_dc_vrp_mac_cfg_000301"></a><a name="fig_dc_vrp_mac_cfg_000301"></a><span class="figcap"><b>Figure 1 </b>Networking for static MAC address entry configuration</span><br><span><img class="vsd" src="figure/en-us_image_0000001316577222.png" width="NaN" height="NaN"></span></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172362720__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring a static MAC address entry, connect interfaces and set their physical parameters to ensure that the physical status of the interfaces is up.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172362720__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run one or more of the following commands to add static MAC address entries:</span><p><ul><li>Run the <a href="cmdqueryname=mac-address+vlan%EF%BC%88%E7%B3%BB%E7%BB%9F%E8%A7%86%E5%9B%BE%EF%BC%89"><b><span class="cmdname">mac-address static</span></b></a> <i><span class="varname">mac-address</span></i> <i><span class="varname">interface-type interface-number</span></i> <strong><span>vlan</span></strong> <i><span class="varname">vlan-id</span></i> command to add a VLAN-based static MAC address entry.</li><li>Run the <a href="cmdqueryname=mac-address+vsi"><b><span class="cmdname">mac-address static</span></b></a> <i><span class="varname">mac-address</span></i> <i><span class="varname">interface-type interface-number</span></i> <strong><span>vsi</span></strong> <i><span class="varname">vsi-name</span></i> [ <strong><span>pe-vid</span></strong> <i><span class="varname">pe-vid</span></i> <span>[ <strong><span>ce-vid</span></strong> <i><span class="varname">ce-vid</span></i> ]</span> ] command to add a VSI-based static MAC address entry.</li><li>Run the <a href="cmdqueryname=mac-address%28%E7%B3%BB%E7%BB%9F%E8%A7%86%E5%9B%BE%29"><b><span class="cmdname">mac-address static</span></b></a> <i><span class="varname">mac-address</span></i> <i><span class="varname">interface-type interface-number</span></i> { <em><i><span class="varname">vlanif-type</span></i> </em><em>vlanif-number</em> | <em><i><span class="varname">vlanif-name</span></i></em> } <strong><span>vsi</span></strong> <i><span class="varname">vsi-name</span></i> command to configure a MAC address entry for the VSI bound to a VLANIF interface.</li></ul>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Static MAC address entries take precedence over dynamic MAC address entries.</p>
</div></div>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0172362720__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the following commands to check the previous configurations.</p>
<ul><li><p>Run the <a href="cmdqueryname=display+mac-address"><b><span class="cmdname">display mac-address</span></b></a> <i><span class="varname">mac-address</span></i> { [ <strong><span>vlan</span></strong> <i><span class="varname">vlan-id</span></i> ] | [ <strong><span>vsi</span></strong> <i><span class="varname">vsi-name</span></i> [ <strong><span>ce-vlan</span></strong> ] ] | [ <strong><span>ce-vlan</span></strong> ] } [ <strong><span>verbose</span></strong> ] command to check MAC address entries.</p>
</li><li><p>Run the <strong>display mac-address static </strong>{ { [ <strong>vlan</strong><em> vlan-id</em> ] | [ <em>interface-type </em><em>interface-number</em> | <em>interface-name</em> ] } <sup>*</sup> | [ <strong>vsi</strong><em> vsi-name</em> ] } [ { <strong>verbose</strong> | { <strong>effective</strong> [ <strong>slot</strong><em> slot-id</em> ] } } <sup>*</sup> ] command to check static MAC address entries.</p>
</li></ul>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mac_cfg_00000.html">MAC Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/spec/MAC_limitation.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mac_cfg_0004.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>