
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring BPDU Protection">
<meta name="abstract" content="After bridge protocol data unit (BPDU) protection is enabled on a device, the device shuts down an edge port if the edge port receives a BPDU, and notifies the NMS of the shutdown event.">
<meta name="description" content="After bridge protocol data unit (BPDU) protection is enabled on a device, the device shuts down an edge port if the edge port receives a BPDU, and notifies the NMS of the shutdown event.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mstp_cfg_0026.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mstp_cfg_0029.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="wwx1238417">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MSTP">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MSTP">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="featurename" content="MSTP">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="featurename" content="MSTP">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="OWNER" content="c00648116,w00437000">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="wwx1238417">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172363636">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring BPDU Protection</title>
</head>
<body><a name="EN-US_TASK_0172363636"></a><a name="EN-US_TASK_0172363636"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring BPDU Protection</h1>
<div class="taskbody"><p>After bridge protocol data unit (BPDU) protection is enabled on a <span class="keyword">device</span>, the <span class="keyword">device</span> shuts down an edge port if the edge port receives a BPDU, and notifies the NMS of the shutdown event.</p>
<div class="context"><a name="EN-US_TASK_0172363636__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Edge ports are directly connected to user terminals and normally, the edge ports do not receive BPDUs. Some attackers may send forged BPDUs to attack the <span class="keyword">device</span>. If the edge ports receive the BPDUs, the <span class="keyword">device</span> automatically sets the edge ports as non-edge ports and triggers new spanning tree calculation. Network flapping then occurs. BPDU protection can be used to protect devices against network attacks.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Do as follows on a <span class="keyword">device</span> having an edge port:</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172363636__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172363636__en-us_task_0172363632_cmdname447946339214313">system-view</span></b></a></span></span><p><p id="EN-US_TASK_0172363636__en-us_task_0172363632_p1024298453214313">The system view is displayed.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=stp+process"><b><span class="cmdname">stp process</span></b></a> <i><span class="varname">process-id</span></i></span><p><p>The MSTP process view is displayed.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This step is needed only when you configure BPDU protection on the <span class="keyword">device</span> in an MSTP process with a non-zero ID. If you perform configuration in MSTP process 0, skip this step.</p>
</div></div>
</p></li><li><span>Run <span><a href="cmdqueryname=stp+bpdu-protection"><b><span class="cmdname">stp bpdu-protection</span></b></a></span></span><p><p>BPDU protection is enabled on the <span class="keyword">device</span>.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0172363636__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Follow-up Procedure</h4>
<div class="p"><div class="p" id="EN-US_TASK_0172363636__en-us_task_0172363553_p131023375214029">To allow an edge port to automatically start after being shut down, you can run the <a href="cmdqueryname=error-down+auto-recovery"><b><span class="cmdname" id="EN-US_TASK_0172363636__en-us_task_0172363553_cmdname2024116347214029">error-down auto-recovery</span></b></a> <strong><span id="EN-US_TASK_0172363636__en-us_task_0172363553_cmdparmname227741493214313">cause</span></strong> <i><span class="varname" id="EN-US_TASK_0172363636__en-us_task_0172363553_varname419710441214313">cause-item</span></i> <strong><span id="EN-US_TASK_0172363636__en-us_task_0172363553_cmdparmname911572214313">interval</span></strong> <i><span class="varname" id="EN-US_TASK_0172363636__en-us_task_0172363553_varname1406094920214313">interval-value</span></i> command to configure the auto recovery function and set the delay on the port. After the delay expires, the port automatically goes Up. <strong><span id="EN-US_TASK_0172363636__en-us_task_0172363553_cmdparmname176441118459">interval</span></strong> <i><span class="varname" id="EN-US_TASK_0172363636__en-us_task_0172363553_varname186446144511">interval-value</span></i> ranges from 30 to 86400, in seconds. Note the following when setting this parameter:<ul id="EN-US_TASK_0172363636__en-us_task_0172363553_ul1166666446214029"><li id="EN-US_TASK_0172363636__en-us_task_0172363553_li1734498273214029">There is no default value for the recovery time. Therefore, you must specify a delay when configuring this command.</li><li id="EN-US_TASK_0172363636__en-us_task_0172363553_li895272407214029">The smaller the <i><span class="varname" id="EN-US_TASK_0172363636__en-us_task_0172363553_varname2086473510214313">interval-value</span></i> is, the shorter it takes for the edge port to go Up, and the more frequently the edge port alternates between Up and Down.</li><li id="EN-US_TASK_0172363636__en-us_task_0172363553_li1167281746214029">The larger the <i><span class="varname" id="EN-US_TASK_0172363636__en-us_task_0172363553_varname96024046214313">interval-value</span></i> is, the longer it takes for the edge port to go Up, and the longer the service interruption lasts.</li></ul>
</div>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mstp_cfg_0026.html">Configuring MSTP Protection Functions
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mstp_cfg_0029.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>