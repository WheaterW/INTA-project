
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Creating an E-Trunk">
<meta name="abstract" content="Eth-Trunk interfaces can be added only to a created E-Trunk. E-Trunk provides device-level reliability.">
<meta name="description" content="Eth-Trunk interfaces can be added only to a created E-Trunk. E-Trunk provides device-level reliability.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ethtrunk_cfg_0042.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ethtrunk_cfg_0044.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="wwx1238417">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="OWNER" content="c00648116,w00437000">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="wwx1238417">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172362918">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Creating an E-Trunk</title>
</head>
<body><a name="EN-US_TASK_0172362918"></a><a name="EN-US_TASK_0172362918"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Creating an E-Trunk</h1>
<div class="taskbody"><p>Eth-Trunk interfaces can be added only to a created E-Trunk. E-Trunk provides device-level reliability.</p>
<div class="steps"><a name="EN-US_TASK_0172362918__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=e-trunk"><b><span class="cmdname">e-trunk</span></b></a> <i><span class="varname">e-trunk-id</span></i></span><p><p>An E-Trunk is configured, and its view is displayed.</p>
</p></li><li><span><span>Run <a href="cmdqueryname=security-key"><b><span class="cmdname">security-key</span></b></a> { <strong><span>simple</span></strong> <i><span class="varname">simple-key</span></i> | <strong><span>cipher</span></strong> <i><span class="varname">cipher-key</span></i> }</span></span><p><p>A password for encrypting packets is configured for the E-Trunk.</p>
</p><p><p>The passwords for encrypting packets on the two ends in an E-Trunk must be the same.</p>
<div class="p">You can specify <strong><span>simple</span></strong> or <strong><span>cipher</span></strong> as required.<ul><li><p>If <strong><span>simple</span></strong> is specified, the password is displayed in clear text in the configuration file.</p>
</li><li><p>If <strong><span>cipher</span></strong> is specified, the password is displayed as garbled characters in the configuration file.</p>
<ul><li><i><span class="varname">cipher-key1</span></i>: If the password is entered in ciphertext, the value must be a string of 32 to <span>432</span> consecutive characters.</li><li><i><span class="varname">cipher-key2</span></i>: A 24-character ciphertext password configured in an earlier version is also supported in this version.</li><li><i><span class="varname">cipher-key3</span></i>: If the password is entered in clear text, the value must be a string of 1 to 255 case-sensitive characters. It cannot contain spaces.</li></ul>
</li></ul>
</div>
<div class="notice"><span class="noticetitle"><img src="../../../../public_sys-resources/notice_3.0-en-us.png"> </span><div class="noticebody"><p>If <strong><span>simple</span></strong> is specified, the password is displayed in clear text in the configuration file. In this case, users with the least privilege can obtain the password by querying the configuration file, which poses a security risk. As such, you are advised to select <strong><span>cipher</span></strong> to save the password in cipher text.</p>
<p>Two devices in the same E-Trunk must have the same password for encrypting E-Trunk packets. After an E-Trunk is created, you must manually set an encryption password. Otherwise, E-Trunk negotiation fails.</p>
<p>For security purposes, you are advised not to use the <strong><span>simple</span></strong> weak security algorithm. If you need to use such an algorithm, run the <a href="cmdqueryname=undo+crypto+weak-algorithm+disable"><b><span class="cmdname">undo crypto weak-algorithm disable</span></b></a> command first to enable the weak security algorithm function.</p>
</div></div>
</p></li><li><span>Run either of the following commands to configure local and peer IP addresses for the E-Trunk:</span><p><ul><li><p>For an IPv4 network, run the <a href="cmdqueryname=peer-address"><b><span class="cmdname">peer-address</span></b></a> <i><span class="varname">peer-ip-address</span></i> <strong><span>source-address</span></strong> <i><span class="varname">source-ip-address</span></i><span> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ]</span> command.</p>
</li><li>For an IPv6 network, run the <a href="cmdqueryname=peer-ipv6"><b><span class="cmdname">peer-ipv6</span></b></a> <i><span class="varname">peer-ipv6-address</span></i> <strong><span>source-ipv6</span></strong> <i><span class="varname">source-ipv6-address</span></i><span> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ]</span> command.</li></ul>
<p>The local and peer IP addresses on one device are the peer and local IP addresses of its peer device, respectively. The configured IP addresses must be reachable. For example, an E-Trunk is set up between device A and device B. On device A, the peer IP address is IP2 and the local IP address is IP1. Then, on device B, the peer IP address is IP1 and the local IP address is IP2.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>When you change the local or peer IP address on a device, you must change the corresponding address on the remote device. Otherwise, protocol packets will be discarded.</p>
<p>It is recommended that you configure the local and peer IP addresses of an E-Trunk as loopback interface addresses and ensure that the IP addresses are reachable.</p>
</div></div>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ethtrunk_cfg_0042.html">Configuring an E-Trunk for Backup in a Link Aggregation Group
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ethtrunk_cfg_0044.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>