
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Eth-Trunk Interface Parameters">
<meta name="abstract" content="Layer 2 and Layer 3 Eth-Trunk interfaces need to be configured with different parameters as required.">
<meta name="description" content="Layer 2 and Layer 3 Eth-Trunk interfaces need to be configured with different parameters as required.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ethtrunk_cfg_0013.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ethtrunk_cfg_0015.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ethtrunk_cfg_0017.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="wwx1238417">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="OWNER" content="l00425560,w00437000">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="wwx1238417">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172362871">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Configuring Eth-Trunk Interface Parameters</title>
</head>
<body><a name="EN-US_TASK_0172362871"></a><a name="EN-US_TASK_0172362871"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Eth-Trunk Interface Parameters</h1>
<div class="taskbody"><p>Layer 2 and Layer 3 Eth-Trunk interfaces need to be configured with different parameters as required.</p>
<div class="steps-unordered"><a name="EN-US_TASK_0172362871__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure parameters for a Layer 2 Eth-Trunk interface.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface+eth-trunk"><b><span class="cmdname">interface eth-trunk</span></b></a> <i><span class="varname">trunk-id</span></i></span></span><p><p>The Eth-Trunk interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=portswitch"><b><span class="cmdname">portswitch</span></b></a></span></span><p><p>The Eth-Trunk interface is switched to a Layer 2 interface.</p>
</p><p></p></li><li class="substepexpand"><span>Perform one or more operations shown in <a href="#EN-US_TASK_0172362871__tab_dc_vrp_ethtrunk_cfg_002802">Table 1</a> as needed.</span><p>
<div class="tableBorder"><a name="EN-US_TASK_0172362871__tab_dc_vrp_ethtrunk_cfg_002802"></a><a name="tab_dc_vrp_ethtrunk_cfg_002802"></a><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_TASK_0172362871__tab_dc_vrp_ethtrunk_cfg_002802" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Configuring parameters for a Layer 2 Eth-Trunk interface</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="28.1%" id="mcps1.4.1.1.2.4.2.1.2.3.1.1" liSelected="liSelected"><p>Parameter for a Layer 2 Eth-Trunk Interface</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="71.89999999999999%" id="mcps1.4.1.1.2.4.2.1.2.3.1.2" liSelected="liSelected"><p>Operation</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="28.1%" headers="mcps1.4.1.1.2.4.2.1.2.3.1.1 "><p>Maximum number of up member links that determine the Eth-Trunk link bandwidth</p>
</td>
<td class="cellrowborder" valign="top" width="71.89999999999999%" headers="mcps1.4.1.1.2.4.2.1.2.3.1.2 "><p id="EN-US_TASK_0172362871__p_1_1">Run the <a href="cmdqueryname=max+bandwidth-affected-linknumber"><b><span class="cmdname" id="EN-US_TASK_0172362871__cmdname1438652824214311">max bandwidth-affected-linknumber</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362871__varname1299902842214311">link-number</span></i> command.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.1%" headers="mcps1.4.1.1.2.4.2.1.2.3.1.1 "><p>Maximum number of up member links</p>
</td>
<td class="cellrowborder" valign="top" width="71.89999999999999%" headers="mcps1.4.1.1.2.4.2.1.2.3.1.2 "><p>Run the <span><a href="cmdqueryname=max+active-linknumber"><b><span class="cmdname" id="EN-US_TASK_0172362871__en-us_task_0172362871_cmdname487392911214027">max active-linknumber</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362871__en-us_task_0172362871_varname1184831484214027">link-number</span></i></span> command.</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TASK_0172362871__en-us_task_0172362871_p16538191916234">To prevent Eth-Trunk link from flapping, you are advised to configure the same upper limit for the two ends of an Eth-Trunk link. If only one end of the Eth-Trunk link is configured, flapping may occur after all the selected member links switchover is triggered.</p>
</div></div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.1%" headers="mcps1.4.1.1.2.4.2.1.2.3.1.1 "><p>Minimum number of up member links</p>
</td>
<td class="cellrowborder" valign="top" width="71.89999999999999%" headers="mcps1.4.1.1.2.4.2.1.2.3.1.2 "><p>Run the <a href="cmdqueryname=least+active-linknumber"><b><span class="cmdname" id="EN-US_TASK_0172362871__en-us_task_0172362871_cmdname598600628214311">least active-linknumber</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362871__en-us_task_0172362871_varname829120304214311">link-number</span></i> command.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.1%" headers="mcps1.4.1.1.2.4.2.1.2.3.1.1 "><p>Minimum bandwidth configured for the member links that are up on an Eth-Trunk interface</p>
</td>
<td class="cellrowborder" valign="top" width="71.89999999999999%" headers="mcps1.4.1.1.2.4.2.1.2.3.1.2 "><p>Run the <a href="cmdqueryname=least+active-bandwidth"><b><span class="cmdname" id="EN-US_TASK_0172362871__en-us_task_0172362871_cmdname1055778482214311">least active-bandwidth</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362871__en-us_task_0172362871_varname124968706214311">bandwidth</span></i> command.</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><ul id="EN-US_TASK_0172362871__en-us_task_0172362871_ul1928236593214027"><li id="EN-US_TASK_0172362871__en-us_task_0172362871_li987702185214027">Ensure that the <a href="cmdqueryname=least+active-linknumber"><b><span class="cmdname" id="EN-US_TASK_0172362871__en-us_task_0172362871_cmdname799335214214311">least active-linknumber</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362871__en-us_task_0172362871_varname1967751795214311">link-number</span></i> command has not been run when you run the <a href="cmdqueryname=least+active-bandwidth"><b><span class="cmdname" id="EN-US_TASK_0172362871__en-us_task_0172362871_cmdname130631372214311">least active-bandwidth</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362871__en-us_task_0172362871_varname1994667083214311">bandwidth</span></i> command because the two commands are mutually exclusive.</li><li id="EN-US_TASK_0172362871__en-us_task_0172362871_li1604492664214027">The minimum bandwidth configured for both ends of an Eth-Trunk must be the same to prevent the Eth-Trunk interface from flapping.</li><li id="EN-US_TASK_0172362871__en-us_task_0172362871_li732908660214027">After the minimum bandwidth is configured for the member links that are up on an Eth-Trunk interface, do not run the <a href="cmdqueryname=max+active-linknumber"><b><span class="cmdname" id="EN-US_TASK_0172362871__en-us_task_0172362871_cmdname692562149214311">max active-linknumber</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362871__en-us_task_0172362871_varname1578893562214311">link-number</span></i> command to configure the maximum number of active links. That is because the Eth-Trunk interface will go down if the total bandwidth of the maximum number of active links is less than the minimum bandwidth.</li></ul>
</div></div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.1%" headers="mcps1.4.1.1.2.4.2.1.2.3.1.1 "><p>Eth-Trunk interface load-balancing mode</p>
</td>
<td class="cellrowborder" valign="top" width="71.89999999999999%" headers="mcps1.4.1.1.2.4.2.1.2.3.1.2 "><p>Run the <a href="cmdqueryname=load-balance"><b><span class="cmdname">load-balance</span></b></a> { <strong><span>src-dst-mac</span></strong> | <strong><span>src-dst-ip </span></strong>|  <strong><span>packet-all</span></strong> } command.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.1%" headers="mcps1.4.1.1.2.4.2.1.2.3.1.1 "><p>Mode for selecting active interfaces</p>
</td>
<td class="cellrowborder" valign="top" width="71.89999999999999%" headers="mcps1.4.1.1.2.4.2.1.2.3.1.2 "><p>Run the <a href="cmdqueryname=lacp+selected"><b><span class="cmdname" id="EN-US_TASK_0172362871__en-us_task_0172362871_cmdname41179277214311">lacp selected</span></b></a> { <strong><span id="EN-US_TASK_0172362871__en-us_task_0172362871_cmdparmname1858311061214311">priority</span></strong> | <strong><span id="EN-US_TASK_0172362871__en-us_task_0172362871_cmdparmname2116343084214311">speed</span></strong> } command.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.1%" headers="mcps1.4.1.1.2.4.2.1.2.3.1.1 "><p>LACP preemption delay</p>
</td>
<td class="cellrowborder" valign="top" width="71.89999999999999%" headers="mcps1.4.1.1.2.4.2.1.2.3.1.2 "><div class="p"><ol type="a"><li id="EN-US_TASK_0172362871__en-us_task_0172362871_li603683398214027"><p id="EN-US_TASK_0172362871__en-us_task_0172362871_p1394121758214027"><a name="EN-US_TASK_0172362871__en-us_task_0172362871_li603683398214027"></a><a name="en-us_task_0172362871_li603683398214027"></a>Run the <a href="cmdqueryname=lacp+preempt+enable"><b><span class="cmdname" id="EN-US_TASK_0172362871__en-us_task_0172362871_cmdname1770424314512">lacp preempt enable</span></b></a> command to enable LACP preemption.</p>
</li><li id="EN-US_TASK_0172362871__en-us_task_0172362871_li1662081221214027"><p id="EN-US_TASK_0172362871__en-us_task_0172362871_p131801171214027"><a name="EN-US_TASK_0172362871__en-us_task_0172362871_li1662081221214027"></a><a name="en-us_task_0172362871_li1662081221214027"></a>Run the <a href="cmdqueryname=lacp+preempt+delay"><b><span class="cmdname" id="EN-US_TASK_0172362871__en-us_task_0172362871_cmdname117621014463">lacp preempt delay</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362871__en-us_task_0172362871_varname1176212010461">delay-time</span></i> command to configure an LACP preemption delay.</p>
<div class="note" id="EN-US_TASK_0172362871__en-us_task_0172362871_note451792393214027"><span class="notetitle"> NOTE: </span><div class="notebody"><ul id="EN-US_TASK_0172362871__en-us_task_0172362871_ul1920057006214027"><li id="EN-US_TASK_0172362871__en-us_task_0172362871_li1456058497214027"><p id="EN-US_TASK_0172362871__en-us_task_0172362871_p1399001514214027"><a name="EN-US_TASK_0172362871__en-us_task_0172362871_li1456058497214027"></a><a name="en-us_task_0172362871_li1456058497214027"></a>To ensure that an Eth-Trunk works properly, you are advised to enable or disable LACP preemption on both ends.</p>
</li><li id="EN-US_TASK_0172362871__en-us_task_0172362871_li1583359639214027"><p id="EN-US_TASK_0172362871__en-us_task_0172362871_p2055582696214027"><a name="EN-US_TASK_0172362871__en-us_task_0172362871_li1583359639214027"></a><a name="en-us_task_0172362871_li1583359639214027"></a>The two ends of an Eth-Trunk link can be configured with different LACP preemption delays. If the two ends are configured with different preemption delays, Eth-Trunk uses the greater <i><span class="varname" id="EN-US_TASK_0172362871__en-us_task_0172362871_varname5559243104619">delay-time</span></i> value as the preemption delay.</p>
</li></ul>
</div></div>
</li></ol>
</div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.1%" headers="mcps1.4.1.1.2.4.2.1.2.3.1.1 "><p>Timeout period for an Eth-Trunk interface to receive LACP packets</p>
</td>
<td class="cellrowborder" valign="top" width="71.89999999999999%" headers="mcps1.4.1.1.2.4.2.1.2.3.1.2 "><p>Run the <a href="cmdqueryname=lacp+timeout"><b><span class="cmdname" id="EN-US_TASK_0172362871__en-us_task_0172362871_cmdname1977316072214311">lacp timeout</span></b></a> { <strong><span id="EN-US_TASK_0172362871__en-us_task_0172362871_cmdparmname1428028347214311">fast</span></strong><span> [ <strong><span id="EN-US_TASK_0172362871__en-us_task_0172362871_cmdparmname1593379643214311">user-defined</span></strong> <i><span class="varname" id="EN-US_TASK_0172362871__en-us_task_0172362871_varname1133918653214311">user-defined</span></i> ]</span> | <strong><span id="EN-US_TASK_0172362871__en-us_task_0172362871_cmdparmname1694171141214311">slow</span></strong> } command.</p>
<div class="p"><div class="note" id="EN-US_TASK_0172362871__en-us_task_0172362871_note1029377906214027"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TASK_0172362871__en-us_task_0172362871_p626205910214027">The two ends of an Eth-Trunk link can be configured with different timeout periods. To facilitate maintenance, you are advised to configure the same timeout period for both ends.</p>
</div></div>
</div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.1%" headers="mcps1.4.1.1.2.4.2.1.2.3.1.1 "><p><strong>CollectorMaxDelay</strong> field value in LACPDUs to be received by an Eth-Trunk interface</p>
</td>
<td class="cellrowborder" valign="top" width="71.89999999999999%" headers="mcps1.4.1.1.2.4.2.1.2.3.1.2 "><p>Run the <a href="cmdqueryname=lacp+collector+delay"><b><span class="cmdname">lacp collector delay</span></b></a> <i><span class="varname">delay-dtime</span></i> command to configure the value of the CollectorMaxDelay field in an LACPDU.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.1%" headers="mcps1.4.1.1.2.4.2.1.2.3.1.1 "><p>LACP system ID for an Eth-Trunk interface</p>
</td>
<td class="cellrowborder" valign="top" width="71.89999999999999%" headers="mcps1.4.1.1.2.4.2.1.2.3.1.2 "><p>Run the <a href="cmdqueryname=lacp+system-id"><b><span class="cmdname">lacp system-id</span></b></a> <i><span class="varname">mac-address</span></i> command.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.1%" headers="mcps1.4.1.1.2.4.2.1.2.3.1.1 "><p>LACP negotiation delay for an Eth-Trunk interface</p>
</td>
<td class="cellrowborder" valign="top" width="71.89999999999999%" headers="mcps1.4.1.1.2.4.2.1.2.3.1.2 "><p>Run the <a href="cmdqueryname=lacp+negotiate+delay"><b><span class="cmdname" id="EN-US_TASK_0172362871__en-us_task_0172362871_cmdname1289555623214027">lacp negotiate delay</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362871__en-us_task_0172362871_varname723707909214027">delay-value</span></i> command.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.1%" headers="mcps1.4.1.1.2.4.2.1.2.3.1.1 "><p>Period that an Eth-Trunk interface waits before changing its state to down</p>
</td>
<td class="cellrowborder" valign="top" width="71.89999999999999%" headers="mcps1.4.1.1.2.4.2.1.2.3.1.2 "><p>Run the <a href="cmdqueryname=link-state+down-delay-time"><b><span class="cmdname" id="EN-US_TASK_0172362871__en-us_task_0172362871_cmdname1792319161214311">link-state down-delay-time</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362871__en-us_task_0172362871_varname265722394214311">delay-value</span></i> command.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.1%" headers="mcps1.4.1.1.2.4.2.1.2.3.1.1 "><p>LACP driving an Eth-Trunk interface to go down after a delay</p>
</td>
<td class="cellrowborder" valign="top" width="71.89999999999999%" headers="mcps1.4.1.1.2.4.2.1.2.3.1.2 "><p>Run the <a href="cmdqueryname=lacp+trunk-down-delay+enable"><b><span class="cmdname" id="EN-US_TASK_0172362871__en-us_task_0172362871_en-us_task_0172362871_cmdname9114535210">lacp trunk-down-delay enable</span></b></a> command.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.1%" headers="mcps1.4.1.1.2.4.2.1.2.3.1.1 "><p>LACP port number uniqueness for an Eth-Trunk interface</p>
</td>
<td class="cellrowborder" valign="top" width="71.89999999999999%" headers="mcps1.4.1.1.2.4.2.1.2.3.1.2 "><p>Run the <a href="cmdqueryname=lacp+unique-port-number+enable"><b><span class="cmdname" id="EN-US_TASK_0172362871__en-us_task_0172362871_cmdname18578114592413">lacp unique-port-number enable</span></b></a> command.</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure parameters for a Layer 3 Eth-Trunk interface.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface+eth-trunk"><b><span class="cmdname">interface eth-trunk</span></b></a> <i><span class="varname">trunk-id</span></i></span></span><p><p>The Eth-Trunk interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Perform one or more operations shown in <a href="#EN-US_TASK_0172362871__tab_dc_vrp_ethtrunk_cfg_002803">Table 2</a> as needed.</span><p>
<div class="tableBorder"><a name="EN-US_TASK_0172362871__tab_dc_vrp_ethtrunk_cfg_002803"></a><a name="tab_dc_vrp_ethtrunk_cfg_002803"></a><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_TASK_0172362871__tab_dc_vrp_ethtrunk_cfg_002803" frame="border" border="1" rules="all"><caption><b>Table 2 </b>Configuring parameters for a Layer 3 Eth-Trunk interface</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="28.07%" id="mcps1.4.1.2.2.3.2.1.2.3.1.1" liSelected="liSelected"><p>Parameter for a Layer 3 Eth-Trunk Interface</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="71.93%" id="mcps1.4.1.2.2.3.2.1.2.3.1.2" liSelected="liSelected"><p>Operation</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="28.07%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.1 "><p>IP address of the Eth-Trunk interface</p>
</td>
<td class="cellrowborder" valign="top" width="71.93%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.2 "><p id="EN-US_TASK_0172362871__p_8_1">Run the <a href="cmdqueryname=ip+address"><b><span class="cmdname" id="EN-US_TASK_0172362871__cmdname570979177214311">ip address</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362871__varname8031386214311">ip-address</span></i> { <i><span class="varname" id="EN-US_TASK_0172362871__varname13320152214311">mask</span></i> | <i><span class="varname" id="EN-US_TASK_0172362871__varname1596969377214311">mask-length</span></i> } [ <strong><span id="EN-US_TASK_0172362871__cmdparmname1382306201214311">sub</span></strong> ] command.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.07%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.1 "><p>MAC address of the Eth-Trunk interface</p>
</td>
<td class="cellrowborder" valign="top" width="71.93%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.2 "><p id="EN-US_TASK_0172362871__p_9_1">Run the <a href="cmdqueryname=mac-address"><b><span class="cmdname" id="EN-US_TASK_0172362871__cmdname1640177868214311">mac-address</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362871__varname874675842214311">mac-address</span></i> command.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.07%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.1 "><p>MTU of the Eth-Trunk interface</p>
</td>
<td class="cellrowborder" valign="top" width="71.93%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.2 "><p id="EN-US_TASK_0172362871__p_10_1">Run the <a href="cmdqueryname=mtu"><b><span class="cmdname" id="EN-US_TASK_0172362871__cmdname958938798214311">mtu</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362871__varname919354681214311">mtu</span></i> command.</p>
<div class="p" id="EN-US_TASK_0172362871__p_10_2">The MTU is measured in bytes. <div class="notice" id="EN-US_TASK_0172362871__p_15"><span class="noticetitle"> NOTICE: </span><div class="noticebody"><ul id="EN-US_TASK_0172362871__ul239091346214027"><li id="EN-US_TASK_0172362871__li1754520892214027">The MTUs of two directly-connected interfaces must be the same. After using the <a href="cmdqueryname=mtu"><b><span class="cmdname" id="EN-US_TASK_0172362871__cmdname243797430214311">mtu</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362871__varname1386138545214311">mtu</span></i> command to change the MTU of an interface, change the MTU of the directly-connected interface on another device to ensure that the MTUs of the two ends are the same. Otherwise, services may be interrupted.</li><li id="EN-US_TASK_0172362871__li1934553771214027">If IPv6 runs on an Eth-Trunk interface, and the MTU set by using the <a href="cmdqueryname=mtu"><b><span class="cmdname" id="EN-US_TASK_0172362871__cmdname1867518795214311">mtu</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362871__varname1720682455214311">mtu</span></i> command on the interface is smaller than 1280 bytes, IPv6 does not properly work on this interface. To prevent such a problem, set the MTU of the interface to a value greater than or equal to 1280 when IPv6 runs on the interface.</li></ul>
</div></div>
</div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.07%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.1 "><p>Maximum number of up member links</p>
</td>
<td class="cellrowborder" valign="top" width="71.93%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.2 "><p id="EN-US_TASK_0172362871__p_2_1">Run the <span><a href="cmdqueryname=max+active-linknumber"><b><span class="cmdname" id="EN-US_TASK_0172362871__cmdname487392911214027">max active-linknumber</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362871__varname1184831484214027">link-number</span></i></span> command.</p>
<div class="note" id="EN-US_TASK_0172362871__P_16"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TASK_0172362871__p16538191916234">To prevent Eth-Trunk link from flapping, you are advised to configure the same upper limit for the two ends of an Eth-Trunk link. If only one end of the Eth-Trunk link is configured, flapping may occur after all the selected member links switchover is triggered.</p>
</div></div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.07%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.1 "><p>Minimum number of up member links</p>
</td>
<td class="cellrowborder" valign="top" width="71.93%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.2 "><p id="EN-US_TASK_0172362871__p_3_1">Run the <a href="cmdqueryname=least+active-linknumber"><b><span class="cmdname" id="EN-US_TASK_0172362871__cmdname598600628214311">least active-linknumber</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362871__varname829120304214311">link-number</span></i> command.</p>
<p id="EN-US_TASK_0172362871__p_3_2">An Eth-Trunk interface is up as long as one member interface is up.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.07%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.1 "><p>Minimum bandwidth configured for the member links that are up on an Eth-Trunk interface</p>
</td>
<td class="cellrowborder" valign="top" width="71.93%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.2 "><p id="EN-US_TASK_0172362871__p_11_1">Run the <a href="cmdqueryname=least+active-bandwidth"><b><span class="cmdname" id="EN-US_TASK_0172362871__cmdname1055778482214311">least active-bandwidth</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362871__varname124968706214311">bandwidth</span></i> command.</p>
<div class="note" id="EN-US_TASK_0172362871__note_11_1"><span class="notetitle"> NOTE: </span><div class="notebody"><ul id="EN-US_TASK_0172362871__ul1928236593214027"><li id="EN-US_TASK_0172362871__li987702185214027">Ensure that the <a href="cmdqueryname=least+active-linknumber"><b><span class="cmdname" id="EN-US_TASK_0172362871__cmdname799335214214311">least active-linknumber</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362871__varname1967751795214311">link-number</span></i> command has not been run when you run the <a href="cmdqueryname=least+active-bandwidth"><b><span class="cmdname" id="EN-US_TASK_0172362871__cmdname130631372214311">least active-bandwidth</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362871__varname1994667083214311">bandwidth</span></i> command because the two commands are mutually exclusive.</li><li id="EN-US_TASK_0172362871__li1604492664214027">The minimum bandwidth configured for both ends of an Eth-Trunk must be the same to prevent the Eth-Trunk interface from flapping.</li><li id="EN-US_TASK_0172362871__li732908660214027">After the minimum bandwidth is configured for the member links that are up on an Eth-Trunk interface, do not run the <a href="cmdqueryname=max+active-linknumber"><b><span class="cmdname" id="EN-US_TASK_0172362871__cmdname692562149214311">max active-linknumber</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362871__varname1578893562214311">link-number</span></i> command to configure the maximum number of active links. That is because the Eth-Trunk interface will go down if the total bandwidth of the maximum number of active links is less than the minimum bandwidth.</li></ul>
</div></div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.07%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.1 "><p>Load balancing mode</p>
</td>
<td class="cellrowborder" valign="top" width="71.93%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.2 "><p id="EN-US_TASK_0172362871__p_4_1">Run the <a href="cmdqueryname=load-balance"><b><span class="cmdname" id="EN-US_TASK_0172362871__cmdname519832743214027">load-balance</span></b></a> { <strong><span id="EN-US_TASK_0172362871__cmdparmname562732850214027">src-dst-mac</span></strong> | <strong><span id="EN-US_TASK_0172362871__cmdparmname931963458214027">src-dst-ip</span></strong> | <strong><span id="EN-US_TASK_0172362871__cmdparmname2053181878214027">packet-all</span></strong> | <strong><span id="EN-US_TASK_0172362871__cmdparmname968930456214027">symmetric-hash</span></strong> [ <strong><span id="EN-US_TASK_0172362871__cmdparmname838507465214027">complement</span></strong> ] } command.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.07%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.1 "><p>Mode for selecting active interfaces</p>
</td>
<td class="cellrowborder" valign="top" width="71.93%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.2 "><p id="EN-US_TASK_0172362871__p_5_1">Run the <a href="cmdqueryname=lacp+selected"><b><span class="cmdname" id="EN-US_TASK_0172362871__cmdname41179277214311">lacp selected</span></b></a> { <strong><span id="EN-US_TASK_0172362871__cmdparmname1858311061214311">priority</span></strong> | <strong><span id="EN-US_TASK_0172362871__cmdparmname2116343084214311">speed</span></strong> } command.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.07%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.1 "><p>LACP preemption delay</p>
</td>
<td class="cellrowborder" valign="top" width="71.93%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.2 "><div class="p"><ol type="a" id="EN-US_TASK_0172362871__p_6_1"><li id="EN-US_TASK_0172362871__li603683398214027"><p id="EN-US_TASK_0172362871__p1394121758214027"><a name="EN-US_TASK_0172362871__li603683398214027"></a><a name="li603683398214027"></a>Run the <a href="cmdqueryname=lacp+preempt+enable"><b><span class="cmdname" id="EN-US_TASK_0172362871__cmdname1770424314512">lacp preempt enable</span></b></a> command to enable LACP preemption.</p>
</li><li id="EN-US_TASK_0172362871__li1662081221214027"><p id="EN-US_TASK_0172362871__p131801171214027"><a name="EN-US_TASK_0172362871__li1662081221214027"></a><a name="li1662081221214027"></a>Run the <a href="cmdqueryname=lacp+preempt+delay"><b><span class="cmdname" id="EN-US_TASK_0172362871__cmdname117621014463">lacp preempt delay</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362871__varname1176212010461">delay-time</span></i> command to configure an LACP preemption delay.</p>
<div class="note" id="EN-US_TASK_0172362871__note451792393214027"><span class="notetitle"> NOTE: </span><div class="notebody"><ul id="EN-US_TASK_0172362871__ul1920057006214027"><li id="EN-US_TASK_0172362871__li1456058497214027"><p id="EN-US_TASK_0172362871__p1399001514214027"><a name="EN-US_TASK_0172362871__li1456058497214027"></a><a name="li1456058497214027"></a>To ensure that an Eth-Trunk works properly, you are advised to enable or disable LACP preemption on both ends.</p>
</li><li id="EN-US_TASK_0172362871__li1583359639214027"><p id="EN-US_TASK_0172362871__p2055582696214027"><a name="EN-US_TASK_0172362871__li1583359639214027"></a><a name="li1583359639214027"></a>The two ends of an Eth-Trunk link can be configured with different LACP preemption delays. If the two ends are configured with different preemption delays, Eth-Trunk uses the greater <i><span class="varname" id="EN-US_TASK_0172362871__varname5559243104619">delay-time</span></i> value as the preemption delay.</p>
</li></ul>
</div></div>
</li></ol>
</div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.07%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.1 "><p>Timeout period for an Eth-Trunk interface to receive LACP packets</p>
</td>
<td class="cellrowborder" valign="top" width="71.93%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.2 "><p id="EN-US_TASK_0172362871__p_7_1">Run the <a href="cmdqueryname=lacp+timeout"><b><span class="cmdname" id="EN-US_TASK_0172362871__cmdname1977316072214311">lacp timeout</span></b></a> { <strong><span id="EN-US_TASK_0172362871__cmdparmname1428028347214311">fast</span></strong><span> [ <strong><span id="EN-US_TASK_0172362871__cmdparmname1593379643214311">user-defined</span></strong> <i><span class="varname" id="EN-US_TASK_0172362871__varname1133918653214311">user-defined</span></i> ]</span> | <strong><span id="EN-US_TASK_0172362871__cmdparmname1694171141214311">slow</span></strong> } command.</p>
<div class="p" id="EN-US_TASK_0172362871__p_7_3"><div class="note" id="EN-US_TASK_0172362871__note1029377906214027"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TASK_0172362871__p626205910214027">The two ends of an Eth-Trunk link can be configured with different timeout periods. To facilitate maintenance, you are advised to configure the same timeout period for both ends.</p>
</div></div>
</div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.07%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.1 "><p><strong>CollectorMaxDelay</strong> field value in LACPDUs to be received by an Eth-Trunk interface</p>
</td>
<td class="cellrowborder" valign="top" width="71.93%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.2 "><p>Run the <a href="cmdqueryname=lacp+collector+delay"><b><span class="cmdname">lacp collector delay</span></b></a> <i><span class="varname">delay-dtime</span></i> command to configure the value of the CollectorMaxDelay field in an LACPDU.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.07%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.1 "><p>An LACP system ID for an Eth-Trunk interface</p>
</td>
<td class="cellrowborder" valign="top" width="71.93%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.2 "><p>Run the <a href="cmdqueryname=lacp+system-id"><b><span class="cmdname">lacp system-id</span></b></a> <i><span class="varname">mac-address</span></i> command.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.07%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.1 "><p>LACP negotiation delay for an Eth-Trunk interface</p>
</td>
<td class="cellrowborder" valign="top" width="71.93%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.2 "><p id="EN-US_TASK_0172362871__p_16_1">Run the <a href="cmdqueryname=lacp+negotiate+delay"><b><span class="cmdname" id="EN-US_TASK_0172362871__cmdname1289555623214027">lacp negotiate delay</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362871__varname723707909214027">delay-value</span></i> command.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.07%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.1 "><p>Period that an Eth-Trunk interface waits before changing its state to down</p>
</td>
<td class="cellrowborder" valign="top" width="71.93%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.2 "><p id="EN-US_TASK_0172362871__p_17_1">Run the <a href="cmdqueryname=link-state+down-delay-time"><b><span class="cmdname" id="EN-US_TASK_0172362871__cmdname1792319161214311">link-state down-delay-time</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362871__varname265722394214311">delay-value</span></i> command.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.07%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.1 "><p id="EN-US_TASK_0172362871__p9821049143019">LACP driving an Eth-Trunk interface to go down after a delay</p>
</td>
<td class="cellrowborder" valign="top" width="71.93%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.2 "><p id="EN-US_TASK_0172362871__p12693162415316">Run the <a href="cmdqueryname=lacp+trunk-down-delay+enable"><b><span class="cmdname" id="EN-US_TASK_0172362871__en-us_task_0172362871_cmdname9114535210">lacp trunk-down-delay enable</span></b></a> command.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.07%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.1 "><p id="EN-US_TASK_0172362871__p13234192815237">LACP port number uniqueness for an Eth-Trunk interface</p>
</td>
<td class="cellrowborder" valign="top" width="71.93%" headers="mcps1.4.1.2.2.3.2.1.2.3.1.2 "><p id="EN-US_TASK_0172362871__p323414289237">Run the <a href="cmdqueryname=lacp+unique-port-number+enable"><b><span class="cmdname" id="EN-US_TASK_0172362871__cmdname18578114592413">lacp unique-port-number enable</span></b></a> command.</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ethtrunk_cfg_0013.html">Configuring an Eth-Trunk Interface in Static LACP Mode
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ethtrunk_cfg_0015.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ethtrunk_cfg_0017.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>