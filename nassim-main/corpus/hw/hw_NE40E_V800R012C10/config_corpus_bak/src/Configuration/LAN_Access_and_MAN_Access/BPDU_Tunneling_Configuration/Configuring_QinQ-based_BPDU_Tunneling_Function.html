
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring QinQ-based BPDU Tunneling Function">
<meta name="abstract" content="If each user-side interface on a provider edge (PE) is connected to multiple customer edges (CEs), bridge protocol data units (BPDUs) sent from user networks must carry virtual local area network (VLAN) tags to identify these user networks. To transparently transmit BPDUs from user networks over the carrier network and save VLAN ID resources for the carrier network, deploy QinQ-based BPDU tunneling (QinQ is short for 802.1Q in 802.1Q).">
<meta name="description" content="If each user-side interface on a provider edge (PE) is connected to multiple customer edges (CEs), bridge protocol data units (BPDUs) sent from user networks must carry virtual local area network (VLAN) tags to identify these user networks. To transparently transmit BPDUs from user networks over the carrier network and save VLAN ID resources for the carrier network, deploy QinQ-based BPDU tunneling (QinQ is short for 802.1Q in 802.1Q).">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bpdu-tunnel_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bpdu-tunnel_cfg_0010.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bpdu-tunnel_cfg_0022.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bpdu-tunnel_cfg_0017.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bpdu-tunnel_cfg_0018.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bpdu-tunnel_cfg_0019.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bpdu-tunnel_cfg_0020.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bpdu-tunnel_cfg_0021.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="wwx1238417">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BPDU Tunnel">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BPDU Tunnel">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="featurename" content="BPDU Tunnel">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="OWNER" content="c00648116,w00437000">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="wwx1238417">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172363714">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring QinQ-based BPDU Tunneling Function</title>
</head>
<body><a name="EN-US_TASK_0172363714"></a><a name="EN-US_TASK_0172363714"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">Configuring QinQ-based BPDU Tunneling Function</h1>



<div class="taskbody"><p>If each user-side interface on a provider edge (PE) is connected to multiple customer edges (CEs), bridge protocol data units (BPDUs) sent from user networks must carry virtual local area network (VLAN) tags to identify these user networks. To transparently transmit BPDUs from user networks over the carrier network and save VLAN ID resources for the carrier network, deploy QinQ-based BPDU tunneling (QinQ is short for 802.1Q in 802.1Q).</p>

<div class="context"><a name="EN-US_TASK_0172363714__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>If each user-side interface on a PE is connected to multiple CEs, BPDUs sent from user networks must contain VLAN tags so that the PE device can identify BPDUs from different user networks. To transparently transmit BPDUs from user networks over the carrier network and save VLAN ID resources for the carrier network, you can configure QinQ-based BPDU tunneling. With QinQ-based BPDU tunneling configured, the PEs choose different BPDU tunnels to transmit BPDUs based on their outer VLAN IDs over the carrier network.</p>
</div></div>

<div class="context"><a name="EN-US_TASK_0172363714__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring QinQ-based BPDU tunneling, complete the following tasks:</p>
<ul><li><p>Check that the interfaces through which BPDUs are transmitted are connected correctly.</p>
</li><li><p>Check that the interfaces through which BPDUs are transmitted are Layer 2 interfaces.</p>
</li></ul>
</div></div>


</div>


<ul class="ullinks">
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bpdu-tunnel_cfg_0017.html">Enabling the Spanning Tree Calculation</a>
</dt>
<dd>
Bridge protocol data units (BPDUs) from user networks are transparently transmitted through different BPDU tunnels over the Layer 2 network of a carrier network to perform the spanning tree calculation.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bpdu-tunnel_cfg_0018.html">Configuring an Interface to Add a Specified VLAN Tag to BPDUs</a>
</dt>
<dd>
If multiple user networks are connected to the same interface of a PE, configure the interfaces of CEs to add specified VLAN IDs to bridge protocol data units (BPDUs) before sending them to the PE. The VLAN IDs identify the user networks to which the BPDUs belong.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bpdu-tunnel_cfg_0019.html">Configuring QinQ-based BPDU Tunneling</a>
</dt>
<dd>
You can configure QinQ-based bridge protocol data unit (BPDU) tunneling based on the different roles of provider edges (PEs) and customer edges (CEs) or on the same role of PEs and CEs (QinQ is short for 802.1Q in 802.1Q). After QinQ-based BPDU tunneling is configured, the PEs do not send BPDUs to their CPUs for processing. Instead, they transparently transmit the BPDUs through BPDU tunnels over the Layer 2 network of the carrier network to user networks. This configuration also saves virtual local area network (VLAN) ID resources for the carrier network.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bpdu-tunnel_cfg_0020.html">Configuring an Interface to Allow Packets with Specified VLAN IDs to Pass</a>
</dt>
<dd>
To enable users to communicate through a carrier network, configure interfaces on provider edges (PEs) that are connected to the carrier network to allow the passing of packets with specified virtual local area network (VLAN) IDs.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bpdu-tunnel_cfg_0021.html">Verifying the Configuration of the QinQ-based BPDU Tunneling Function</a>
</dt>
<dd>
After configuring QinQ-based bridge protocol data unit (BPDU) tunneling, verify the configuration (QinQ is short for 802.1Q in 802.1Q).</dd>
</dl>
</ul>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bpdu-tunnel_cfg_0000.html">BPDU Tunneling Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bpdu-tunnel_cfg_0010.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bpdu-tunnel_cfg_0022.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>