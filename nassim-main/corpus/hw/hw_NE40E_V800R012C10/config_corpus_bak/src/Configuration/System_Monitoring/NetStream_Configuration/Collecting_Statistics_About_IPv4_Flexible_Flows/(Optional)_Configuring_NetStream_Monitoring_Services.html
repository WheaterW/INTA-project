
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring NetStream Monitoring Services">
<meta name="abstract" content="NetStream services can be configured on the NDE, enabling carriers to implement more delicate traffic statistics collection and management over IPv4 flexible flows.">
<meta name="description" content="NetStream services can be configured on the NDE, enabling carriers to implement more delicate traffic statistics collection and management over IPv4 flexible flows.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ns_cfg_0052.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ns_cfg_0063.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ns_cfg_0056.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,netstream_vrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="NetStream">
<meta name="featuretype" content="System Monitor">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="NetStream">
<meta name="featuretype" content="System Monitor">
<meta name="featurename" content="NetStream">
<meta name="featuretype" content="System Monitor">
<meta name="featurename" content="Netstream">
<meta name="featuretype" content="System Monitor">
<meta name="OWNER" content="l00799643">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00799643">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172372996">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring NetStream Monitoring Services</title>
</head>
<body><a name="EN-US_TASK_0172372996"></a><a name="EN-US_TASK_0172372996"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring NetStream Monitoring Services</h1>
<div class="taskbody"><p>NetStream services can be configured on the NDE, enabling carriers to implement more delicate traffic statistics collection and management over IPv4 flexible flows.</p>
<div class="context"><a name="EN-US_TASK_0172372996__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Increasing types of services and applications on networks urge carriers to provide more delicate management and accounting services.</p>
<p>If NetStream is configured on multiple interfaces on an NDE, all interfaces send traffic statistics to a single NSC. The NSC cannot distinguish interfaces, and therefore, cannot manage or analyze traffic statistics based on interfaces. In addition, the NSC will be overloaded due to a great amount of information.</p>
<p>NetStream monitoring configured on an NDE allows the NDE to send traffic statistics collected on specified interfaces to specified NSCs for analysis, achieving interface-specific service monitoring. Traffic statistics can be balanced among these NSCs to reduce the load on a single NSC.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172372996__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=ip+netstream+monitor"><b><span class="cmdname">ip netstream monitor</span></b></a> <i><span class="varname">monitor-name</span></i></span><p><p>A NetStream monitoring service view is created and displayed, or an existing NetStream monitoring service view is directly displayed.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=ip+netstream+export+source"><b><span class="cmdname">ip netstream export source</span></b></a> {<i><span class="varname"> ip-address</span></i> | <a href="cmdqueryname=ipv6"><b><span class="cmdname">ipv6</span></b></a> <i><span class="varname">ipv6-address</span></i> }<span> [ port ]</span></span><p><p>A source IP address<span> and a source port</span> are configured for outputting NetStream flow statistics.</p>
</p></li><li><span>Run <a href="cmdqueryname=ip+netstream+export+host"><b><span class="cmdname">ip netstream export host</span></b></a> [ <strong><span>ipv6</span></strong> ] <em>ip-address</em> <i><span class="varname">port</span></i><span> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ]</span><span> [ <strong><span>version</span></strong> { <strong><span>5</span></strong> | <strong><span>9</span></strong> | <strong><span>ipfix</span></strong> } ] [ <strong><span>dscp</span></strong> <i><span class="varname">dscp-value</span></i> ]</span></span><p><p>The destination IP address for outputting statistics and the UDP port number of the peer NSC are configured.</p>
</p></li><li><span>Run <a href="cmdqueryname=apply+record"><b><span class="cmdname">apply record</span></b></a> <i><span class="varname">record-name</span></i></span><p><p>Flexible flows are applied to monitoring services.</p>
</p></li><li><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li><li><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span><p><p>The interface view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=ip+netstream+monitor"><b><span class="cmdname">ip netstream monitor</span></b></a> <i><span class="varname">monitor-name</span></i> { <strong><span>inbound</span></strong> | <strong><span>outbound</span></strong> }</span><p><p>NetStream monitoring services are deployed in the inbound or outbound direction of the interface.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>When configuring NetStream monitoring services, you need to run the <a href="cmdqueryname=ip+netstream"><b><span class="cmdname">ip netstream</span></b></a> { <strong><span>inbound</span></strong> | <strong><span>outbound</span></strong> } command in the interface view. Otherwise, the <a href="cmdqueryname=ip+netstream+monitor"><b><span class="cmdname">ip netstream monitor</span></b></a> <i><span class="varname">monitor-name</span></i> { <strong><span>inbound</span></strong> | <strong><span>outbound</span></strong> } command does not take effect.</p>
<p>If flexible flows are applied to both the NetStream monitoring service view and system view, statistics about flexible flows are sent to the destination IP address specified in the NetStream monitoring service view, not that specified in the system view. <span>Similarly, the source address<span> and source port</span> configured in the NetStream monitoring service view are used for outputting NetStream flow statistics.</span></p>
</div></div>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ns_cfg_0052.html">Collecting Statistics About IPv4 Flexible Flows
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ns_cfg_0063.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ns_cfg_0056.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>