
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring IFIT Tunnel-Level Quality Measurement">
<meta name="abstract" content="Configuring IFIT tunnel-level quality measurement is a prerequisite for implementing intelligent traffic steering.">
<meta name="description" content="Configuring IFIT tunnel-level quality measurement is a prerequisite for implementing intelligent traffic steering.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ifit_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ifit_cfg_0006.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ifit_cfg_0029.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IFIT">
<meta name="featuretype" content="System Monitor">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IFIT">
<meta name="featuretype" content="System Monitor">
<meta name="featurename" content="IFIT">
<meta name="featuretype" content="System Monitor">
<meta name="OWNER" content="c00511010">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="c00511010">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001177827492">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring IFIT Tunnel-Level Quality Measurement</title>
</head>
<body><a name="EN-US_TASK_0000001177827492"></a><a name="EN-US_TASK_0000001177827492"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring IFIT Tunnel-Level Quality Measurement</h1>
<div class="taskbody"><p>Configuring IFIT tunnel-level quality measurement is a prerequisite for implementing intelligent traffic steering.</p>
<div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001177827492__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><div class="p">Before configuring IFIT tunnel-level quality measurement in an SRv6 scenario, complete the following tasks:<ul><li><a href="dc_vrp_srv6_cfg_all_0110.html">Configure an SRv6 TE Policy (manual configuration + IS-IS as IGP)</a>/<a href="dc_vrp_srv6_cfg_all_0116.html">Configure an SRv6 TE Policy (controller-based dynamic delivery + IS-IS as IGP)</a>.<p>Bidirectional binding SIDs must be configured to ensure normal MCP calculation.</p>
</li><li>Configure a clock synchronization protocol to implement clock synchronization between devices. In this scenario, NTP is generally used because interworking with other types of devices may be required. For details, see <em>NTP Configuration</em>.</li></ul>
</div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001177827492__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Users want to use the NMS to monitor tunnel quality on the network in real time so that tunnel exceptions can be quickly detected and paths promptly switched. You can configure IFIT measurement on devices so that the devices can periodically collect statistics about packet loss and delay and perform intelligent traffic steering through tunnel quality analysis, simplifying the O&amp;M process and improving O&amp;M experience.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The following steps need to be performed only on the ingress and egress.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001177827492__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure IFIT measurement for an SRv6 TE Policy.</span><p><ol type="a"><li>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a><p>The system view is displayed.</p>
</li><li>Run <a href="cmdqueryname=segment-routing+ipv6"><b><span class="cmdname">segment-routing ipv6</span></b></a><p>The SRv6 view is displayed.</p>
</li><li>Run <a href="cmdqueryname=srv6-te+policy"><b><span class="cmdname">srv6-te policy</span></b></a> <i><span class="varname">name-value</span></i> <strong><span>endpoint</span></strong> <i><span class="varname">endpoint-ip</span></i> <strong><span>color</span></strong> <i><span class="varname">color-value</span></i><p>The SRv6 TE Policy view is displayed.</p>
</li><li>Run <a href="cmdqueryname=ifit+loss-measure+enable"><b><span class="cmdname">ifit loss-measure enable</span></b></a><p>IFIT packet loss measurement is enabled for the SRv6 TE Policy.</p>
</li><li>Run <a href="cmdqueryname=ifit+delay-measure+enable"><b><span class="cmdname">ifit delay-measure enable</span></b></a><p>IFIT delay measurement is enabled for the SRv6 TE Policy.</p>
</li><li>Run <a href="cmdqueryname=ifit+measure-mode"><b><span class="cmdname">ifit measure-mode</span></b></a> { <strong><span>e2e</span></strong> | <strong><span>trace</span></strong> }<p>An IFIT measurement mode is set for the SRv6 TE Policy.</p>
<p>By default, end-to-end measurement is used.</p>
</li><li>(Optional) Run <a href="cmdqueryname=ifit+interval"><b><span class="cmdname">ifit interval</span></b></a> <i><span class="varname">interval-value</span></i><p>An IFIT measurement interval is configured for the SRv6 TE Policy.</p>
</li><li>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a><p>The configuration is committed.</p>
</li><li>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a><p>Exit the SRv6 TE Policy view.</p>
</li><li>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a><p>Return to the system view.</p>
</li></ol>
</p></li><li><span>Run <a href="cmdqueryname=ifit"><b><span class="cmdname">ifit</span></b></a></span><p><p>IFIT is enabled globally, and its view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=node-id"><b><span class="cmdname">node-id</span></b></a> <i><span class="varname">node-id</span></i></span><p><p>A node ID is configured.</p>
</p></li><li><span>Run <a href="cmdqueryname=work-mode"><b><span class="cmdname">work-mode</span></b></a> [ <strong><span>mcp</span></strong> | <strong><span>dcp</span></strong> | <strong><span>auto</span></strong> ]</span><p><p>An IFIT working mode is configured, and its view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=service-type"><b><span class="cmdname">service-type</span></b></a> <strong><span>srv6-segment-list</span></strong></span><p><p>The service type for IFIT measurement is set to SRv6 TE Policy.</p>
</p></li><li><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the IFIT view.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=dynamic-flow+age+interval-multiplier"><b><span class="cmdname">dynamic-flow age interval-multiplier</span></b></a> <i><span class="varname">multi-value</span></i></span><p><p>The aging time of dynamic IFIT flows is set.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=reset+dynamic"><b><span class="cmdname">reset dynamic</span></b></a> <strong><span>flow</span></strong> { <i><span class="varname">flowId</span></i> | <strong><span>all</span></strong> }</span><p><p>All dynamic IFIT flows or a specific one is cleared.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001177827492__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><ul><li>Run the <a href="cmdqueryname=display+ifit"><b><span class="cmdname">display ifit</span></b></a> command to check information about IFIT flows.</li><li>Run the <a href="cmdqueryname=display+ifit+dynamic-hop"><b><span class="cmdname">display ifit dynamic-hop</span></b></a> [ <strong><span>flow-id</span></strong> <i><span class="varname">flow-id</span></i> ] command to check information about dynamic IFIT flows on transit and egress nodes. </li><li>Run the <a href="cmdqueryname=display+ifit+srv6-segment-list"><b><span class="cmdname">display ifit srv6-segment-list</span></b></a> [ <i><span class="varname">segment-list-id</span></i> ] command to check SRv6 TE Policy instance information.</li><li>Run the <a href="cmdqueryname=display+ifit+statistic-type"><b><span class="cmdname">display ifit statistic-type</span></b></a> { <strong><span>one-way-delay</span></strong> | <strong><span>two-way-delay</span></strong> | <strong><span>one-way-loss</span></strong> } { <strong><span>srv6-segment-list</span></strong> <i><span class="varname">segment-list-id</span></i> | <strong><span>flow-id</span></strong> <i><span class="varname">flowId</span></i> } command to check original performance statistics on the MCP.</li><li>Run the <a href="cmdqueryname=display+license+resource+usage+ifit+all"><b><span class="cmdname">display license resource usage ifit all</span></b></a> command to check the usage of IFIT license resources.</li><li>Run the <a href="cmdqueryname=display+ifit+resource"><b><span class="cmdname">display ifit resource</span></b></a> [ <strong><span>per-packet-delay</span></strong> ] command to check the resource usage of IFIT flows.</li></ul>
</div>
<div class="postreq"><a name="EN-US_TASK_0000001177827492__1.4.5"></a><a name="1.4.5"></a><h4 class="sectiontitle">Follow-up Procedure</h4>
<div class="p"><p>After the preceding configuration is complete, the IFIT measurement result is reported to the SPR module to facilitate intelligent traffic steering. For details, see <a href="dc_vrp_srv6_cfg_all_0294.html">Configuring TE-Class-based Traffic Steering into an SRv6 TE Policy</a>.</p>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ifit_cfg_0000.html">IFIT Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ifit_cfg_0006.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ifit_cfg_0029.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>