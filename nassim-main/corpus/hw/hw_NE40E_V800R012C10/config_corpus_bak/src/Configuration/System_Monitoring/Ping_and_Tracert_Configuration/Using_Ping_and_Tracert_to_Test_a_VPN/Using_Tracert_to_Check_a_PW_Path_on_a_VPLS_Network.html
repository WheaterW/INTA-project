
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Using Tracert to Check a PW Path on a VPLS Network">
<meta name="abstract" content="After configuring a VPLS network, you can use tracert to check a PW path on the network.">
<meta name="description" content="After configuring a VPLS network, you can use tracert to check a PW path on the network.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ping_cfg_0032.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ping_cfg_0020.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ping_cfg_0062.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Ping/Tracert">
<meta name="featuretype" content="System Monitor">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Ping/Tracert">
<meta name="featuretype" content="System Monitor">
<meta name="featurename" content="Ping/Tracert">
<meta name="featuretype" content="System Monitor">
<meta name="featurename" content="Ping/Tracert">
<meta name="featuretype" content="System Monitor">
<meta name="OWNER" content="l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="c00511010">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172373180">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Using Tracert to Check a PW Path on a VPLS Network</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0172373180"></a><a name="EN-US_TASK_0172373180"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Using Tracert to Check a PW Path on a VPLS Network</h1>
<div class="taskbody" id="taskbody418915692214104"><p id="shortdesc11812043184011">After configuring a VPLS network, you can use tracert to check a PW path on the network.</p>
<div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0172373180__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p" id="EN-US_TASK_0172373180__prereq1448331775114"><p id="EN-US_TASK_0172373180__p1499890383214104">Before you run the <a href="cmdqueryname=tracert+vpls"><b><span class="cmdname" id="EN-US_TASK_0172373180__cmdname938507206214104">tracert vpls</span></b></a> command to check PW connectivity, ensure that the VPLS network has been configured correctly.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172373180__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0172373180__context1168540087214104"><p id="EN-US_TASK_0172373180__p915290394214104">Perform the following steps on a PE of a VPLS network:</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172373180__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0172373180__steps129684191214104"><li id="EN-US_TASK_0172373180__step1377129522214104"><span id="EN-US_TASK_0172373180__cmd1984612535214104">To locate the faulty node on the VPLS network, run either of the following commands as required:</span><p><ul id="EN-US_TASK_0172373180__ul2136061430214104"><li id="EN-US_TASK_0172373180__li1804162705214104">In BGP mode, run the<a href="cmdqueryname=tracert+vpls"><b><span class="cmdname" id="EN-US_TASK_0172373180__cmdname13269143010261"> tracert vpls</span></b></a> [ <strong><span id="EN-US_TASK_0172373180__cmdparmname626920309266">-exp</span></strong> <i><span class="varname" id="EN-US_TASK_0172373180__varname8269183016264">exp-value</span></i> | <strong><span id="EN-US_TASK_0172373180__cmdparmname15269183017269">-f</span></strong> <i><span class="varname" id="EN-US_TASK_0172373180__varname626993022615">first-ttl</span></i> | <strong><span id="EN-US_TASK_0172373180__cmdparmname1426993011264">-m</span></strong> <i><span class="varname" id="EN-US_TASK_0172373180__varname112690308265">max-ttl</span></i> | <strong><span id="EN-US_TASK_0172373180__cmdparmname1726919301260">-r</span></strong> <i><span class="varname" id="EN-US_TASK_0172373180__varname326913032612">reply-mode</span></i> | <strong><span id="EN-US_TASK_0172373180__cmdparmname12269113052613">-t</span></strong> <i><span class="varname" id="EN-US_TASK_0172373180__varname102691830192610">timeout-value</span></i> | <strong><span id="EN-US_TASK_0172373180__cmdparmname11269103032612">-g</span></strong> ]<sup id="EN-US_TASK_0172373180__sup22696302267"> *</sup> <strong><span id="EN-US_TASK_0172373180__cmdparmname17269193020261">vsi</span></strong> <i><span class="varname" id="EN-US_TASK_0172373180__varname62692305261">vsi-name</span></i> <i><span class="varname" id="EN-US_TASK_0172373180__varname18269153018264">local-site-id</span></i> <i><span class="varname" id="EN-US_TASK_0172373180__varname8269153017266">remote-site-id</span></i> [ <strong><span id="EN-US_TASK_0172373180__cmdparmname426983092615">full-lsp-path</span></strong> ]<span id="EN-US_TASK_0172373180__ph1126913018265"> [ <strong><span id="EN-US_TASK_0172373180__cmdparmname226918305266">detail</span></strong> ]</span><span id="EN-US_TASK_0172373180__ph112695303267"> [ <strong><span id="EN-US_TASK_0172373180__cmdparmname426920308269">bypass</span></strong> <strong><span id="EN-US_TASK_0172373180__cmdparmname1026953016263">-si</span></strong> <i><span class="varname" id="EN-US_TASK_0172373180__varname0269203017265">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0172373180__varname192701030152615">interface-number</span></i> ]</span> command.</li><li id="EN-US_TASK_0172373180__li1867896625214104">In LDP mode, run the <a href="cmdqueryname=tracert+vpls"><b><span class="cmdname" id="EN-US_TASK_0172373180__cmdname9650103710270">tracert vpls</span></b></a> [ <strong><span id="EN-US_TASK_0172373180__cmdparmname2650193712712">-exp</span></strong> <i><span class="varname" id="EN-US_TASK_0172373180__varname7650237192719">exp-value</span></i> | <strong><span id="EN-US_TASK_0172373180__cmdparmname136501137112717">-f</span></strong> <i><span class="varname" id="EN-US_TASK_0172373180__varname15650103714277">first-ttl</span></i> | <strong><span id="EN-US_TASK_0172373180__cmdparmname1365018375273">-m</span></strong> <i><span class="varname" id="EN-US_TASK_0172373180__varname465033762710">max-ttl</span></i> | <strong><span id="EN-US_TASK_0172373180__cmdparmname186501037192711">-r</span></strong> <i><span class="varname" id="EN-US_TASK_0172373180__varname15650437142712">reply-mode</span></i> | <strong><span id="EN-US_TASK_0172373180__cmdparmname1765013373273">-t</span></strong> <i><span class="varname" id="EN-US_TASK_0172373180__varname265033713271">timeout-value</span></i> | <strong><span id="EN-US_TASK_0172373180__cmdparmname8650193752718">-g</span></strong> ]<sup id="EN-US_TASK_0172373180__sup465033752719"> *</sup> <strong><span id="EN-US_TASK_0172373180__cmdparmname12650143772716">vsi</span></strong> <i><span class="varname" id="EN-US_TASK_0172373180__varname1965013716277">vsi-name</span></i> <strong><span id="EN-US_TASK_0172373180__cmdparmname46501037102711">peer</span></strong> <i><span class="varname" id="EN-US_TASK_0172373180__varname166507375270">peer-address</span></i> [ <strong><span id="EN-US_TASK_0172373180__cmdparmname1865053792712">negotiate-vc-id</span></strong> <i><span class="varname" id="EN-US_TASK_0172373180__varname19650537112720">vc-id</span></i> ] [ <strong><span id="EN-US_TASK_0172373180__cmdparmname8650153752715">full-lsp-path</span></strong> ] <span id="EN-US_TASK_0172373180__ph365063772713">[ <strong><span id="EN-US_TASK_0172373180__cmdparmname9650153762720">control-word</span></strong> ] [ <strong><span id="EN-US_TASK_0172373180__cmdparmname116501437172711">pipe</span></strong> | <strong><span id="EN-US_TASK_0172373180__cmdparmname176501237142720">uniform</span></strong> ]</span><span id="EN-US_TASK_0172373180__ph36501337142714"> [ <strong><span id="EN-US_TASK_0172373180__cmdparmname15650937192714">detail</span></strong> ]</span><span id="EN-US_TASK_0172373180__ph1265017375274"> [ <strong><span id="EN-US_TASK_0172373180__cmdparmname15650163711271">bypass</span></strong> <strong><span id="EN-US_TASK_0172373180__cmdparmname565043718273">-si</span></strong> <i><span class="varname" id="EN-US_TASK_0172373180__varname6650153752720">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0172373180__varname196501237182717">interface-number</span></i> ]</span> command.</li></ul>
</p><p><p id="EN-US_TASK_0172373180__p74254717575">Run the <a href="cmdqueryname=tracert+vpls"><b><span class="cmdname" id="EN-US_TASK_0172373180__cmdname1919133441214405">tracert vpls</span></b></a> command to locate VPLS network faults.</p>
<pre class="screen" id="EN-US_TASK_0172373180__screen1156134340214104">&lt;<span class="keyword" id="EN-US_TASK_0172373180__en-us_cliref_0172384379_keyword1602351081214546">HUAWEI</span>&gt;<strong id="EN-US_TASK_0172373180__en-us_cliref_0172384379_b50576270214546">tracert vpls vsi test 10 10 full-lsp-path</strong>  
PW Trace Route FEC: L2 VPN ENDPOINT. Sender VEID = 10, Remote VEID = 20, press CTRL_C to break 
TTL    Replier            Time    Type      Downstream 
0                                 Ingress   10.1.1.2/[294929 32894 32888 ] 
1      10.1.1.2           93 ms   Transit   10.2.1.2/[32925 3 ] 
2      10.2.1.2           1 ms    Transit   10.3.1.2/[32881 ] 
3      4.4.4.4            2 ms    Egress </pre>
<p id="EN-US_TASK_0172373180__p717814324214104">The preceding command output contains information about each node along the PW and the response time of each hop.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ping_cfg_0032.html">Using Ping/Tracert to Test a VPN
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ping_cfg_0020.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ping_cfg_0062.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>