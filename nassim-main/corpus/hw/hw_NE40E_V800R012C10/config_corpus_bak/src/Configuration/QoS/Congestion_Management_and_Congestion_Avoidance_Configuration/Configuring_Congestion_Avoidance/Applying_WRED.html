
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Applying WRED">
<meta name="abstract" content="You can apply the configured WRED profile based on the service type.">
<meta name="description" content="You can apply the configured WRED profile based on the service type.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cmca-qos_cfg_0011.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cmca-qos_cfg_0013.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cmca-qos_cfg_0015.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909,m00390128">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Congestion Management and Congestion Avoidance">
<meta name="featuretype" content="QOS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Congestion Management and Congestion Avoidance">
<meta name="featuretype" content="QOS">
<meta name="featurename" content="Congestion Management and Congestion Avoidance">
<meta name="featuretype" content="QOS">
<meta name="featurename" content="Congestion Management and Congestion Avoidance">
<meta name="featuretype" content="QOS">
<meta name="OWNER" content="m00390128">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="m00915594">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172371181">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Applying WRED</title>
</head>
<body><a name="EN-US_TASK_0172371181"></a><a name="EN-US_TASK_0172371181"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Applying WRED</h1>
<div class="taskbody"><p>You can apply the configured WRED profile based on the service type.</p>
<div class="context"><a name="EN-US_TASK_0172371181__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Do as follows on the <span class="keyword">Router</span> that is configured with a WRED profile.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172371181__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Apply WRED<span> in the interface view</span>.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=port-queue"><b><span class="cmdname">port-queue</span></b></a> <i><span class="varname">cos-value</span></i> <strong><span>port-wred</span></strong> <i><span class="varname">wred-name</span></i> <strong><span>outbound</span></strong></span></span><p><p>A WRED profile is applied to a specified port queue in the outbound direction of the interface.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=qos+buffer-monitor+default-queue+enable"><b><span class="cmdname">qos buffer-monitor default-queue enable</span></b></a></span><p><p>Buffer monitoring is enabled for the default SQ.</p>
</p><p><p>After buffer monitoring is enabled for the default SQ on an interface, the device collects the buffer value of the default SQ on the interface. You can use the NMS or run the <a href="cmdqueryname=display+port-queue+statistics+interface+outbound+default"><b><span class="cmdname">display port-queue statistics interface outbound default</span></b></a> command to view the buffer value's change trend, determining whether traffic congestion occurs.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <span><a href="cmdqueryname=port-queue-alarm"><b><span class="cmdname">port-queue-alarm</span></b></a> <i><span class="varname">cos-value</span></i> <strong><span>buffer</span></strong> <strong><span>percentage</span></strong> <i><span class="varname">percentage-value</span></i></span></span><p><p>An alarm threshold is set for the usage of QoS queues in the outbound direction of the interface.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <span><a href="cmdqueryname=port-queue-alarm"><b><span class="cmdname">port-queue-alarm</span></b></a> <i><span class="varname">cos-value</span></i> { <strong><span>discard-packet</span></strong> <i><span class="varname">discard-packet-number</span></i> | <strong><span>discard-byte</span></strong> <i><span class="varname">discard-byte-number</span></i> | <strong><span>discard-packet-ratio</span></strong> <i><span class="varname">discard-packet-coefficient</span></i> <i><span class="varname">discard-packet-exponent</span></i> } <strong><span>interval</span></strong> <i><span class="varname">interval-time</span></i></span></span><p><p>The packet loss alarm function is enabled for port queues.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li><li class="substepexpand"><span>Run <strong>quit</strong></span><p><p>Return to the system view.</p>
</p></li></ol>
</li><li><span>Apply WRED to the MTunnel interface configured in the slot view.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=slot"><b><span class="cmdname">slot</span></b></a> <i><span class="varname">slot-id</span></i></span></span><p><p>The slot view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=port-queue"><b><span class="cmdname">port-queue</span></b></a> <i><span class="varname">cos-value</span></i> { { <strong><span>pq</span></strong> | <strong><span>wfq</span></strong> <strong><span>weight</span></strong> <i><span class="varname">weight-value</span></i> | <strong><span>lpq</span></strong> } | <strong><span>shaping</span></strong> { <i><span class="varname">shaping-value</span></i> | <strong><span>shaping-percentage</span></strong> <i><span class="varname">shaping-percentage-value</span></i> } | <strong><span>port-wred</span></strong> <i><span class="varname">wred-name</span></i> } * <strong><span>outbound</span></strong> <strong><span>bind</span></strong> <strong><span>mtunnel</span></strong></span></span><p><p>Scheduling policies are configured for multicast queues of different classes on the MTunnel interface that is bound to distributed multicast VPN, and the configured WRED profile is applied to these scheduling policies.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cmca-qos_cfg_0011.html">Configuring Congestion Avoidance
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cmca-qos_cfg_0013.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cmca-qos_cfg_0015.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>