
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="MPLS DiffServ Configuration">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_20000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/spec/MPLS_DiffServ_Mode_limitation.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_2003.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00556928,w00606909,mplsmvrp,z00809835,m00390128,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS QoS">
<meta name="featuretype" content="QOS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS QoS">
<meta name="featuretype" content="QOS">
<meta name="featurename" content="MPLS Qos">
<meta name="featuretype" content="QOS">
<meta name="OWNER" content="m00390128,s00826690">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="m00390128">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0172371584">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>MPLS DiffServ Configuration</title>
</head>
<body><a name="EN-US_CONCEPT_0172371584"></a><a name="EN-US_CONCEPT_0172371584"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">MPLS DiffServ Configuration</h1>
<div><div class="section"><h4 class="sectiontitle">BA and PHB</h4><p>This section describes MPLS DiffServ configurations, which involve BA and PHB definitions. For details about BA and PHB definitions, see <a href="dc_ne_qos_feature_060.html">BA and PHB</a>.</p>
</div>
<div class="section"><h4 class="sectiontitle">BA and PHB Implementations in an MPLS DiffServ Scenario</h4><p>Three modes are defined in MPLS DiffServ scenarios: Uniform, Pipe, and Short Pipe.</p>
<ul><li>In Uniform mode, the original priorities of packets are used for QoS implementation on an MPLS network. The original priorities of packets are reset when the packets are leaving the MPLS network.</li><li>In Pipe or Short Pipe mode, packets are allocated a desired priority on the backbone network, regardless of their original priorities. After leaving the backbone network, the original priorities of packets remain unchanged.<ul><li>In Pipe mode, the egress on the MPLS network processes a packet based on its re-allocated priorities.</li><li>In Short Pipe mode, the egress on the MPLS network processes a packet based on its original priorities.</li></ul>
</li></ul>
<div class="fignone"><span class="figcap"><b>Figure 1 </b>BA and PHB implementation on a PE</span><br><span><img class="vsd" src="images/fig_qos_feature_05702.png" width="NaN" height="NaN"></span></div>
<p>Both BA and PHB are required on the network-side interface of a PE. Therefore, run the <strong><a href="cmdqueryname=trust+upstream"><b><span class="cmdname">trust upstream</span></b></a></strong> command on the network-side interface.</p>
<div class="p">On the user-side interface of a PE, implement BA for upstream traffic and perform one of the following operations for downstream traffic:<ul><li>Uniform mode: PHB needs to be performed. That is, in Uniform node, both BA and PHB are required on the network-side interface of a PE. Therefore, run the <strong><a href="cmdqueryname=trust+upstream"><b><span class="cmdname">trust upstream</span></b></a></strong> command on the network-side interface.</li><li><p>In Pipe or Short Pipe mode, only BA is required on the user-side interface of the PE. PHB is not performed. The <strong><a href="cmdqueryname=diffserv-mode"><b><span class="cmdname">diffserv-mode</span></b></a></strong> and <strong><a href="cmdqueryname=trust+upstream"><b><span class="cmdname">trust upstream</span></b></a></strong> commands are mutually exclusive.</p>
</li></ul>
</div>
<div class="fignone"><span class="figcap"><b>Figure 2 </b>BA and PHB implementation on a P</span><br><span><img class="vsd" src="images/fig_qos_feature_05703.png" width="NaN" height="NaN"></span></div>
<p>Both BA and PHB are required on the network-side interface of a P. Therefore, run the <strong>trust upstream</strong> command on the network-side interface.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_20000.html">MPLS DiffServ Mode Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/spec/MPLS_DiffServ_Mode_limitation.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_2003.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>