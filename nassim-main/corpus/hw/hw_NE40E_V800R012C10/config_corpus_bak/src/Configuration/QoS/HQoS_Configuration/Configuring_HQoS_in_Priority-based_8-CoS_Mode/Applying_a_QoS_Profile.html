
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Applying a QoS Profile">
<meta name="abstract" content="You can define a QoS profile and apply it to interfaces to implement unified scheduling of traffic on these interfaces.">
<meta name="description" content="You can define a QoS profile and apply it to interfaces to implement unified scheduling of traffic on these interfaces.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_hqos_cfg_5011.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_hqos_cfg_5011_6.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_hqos_cfg_50173.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909,m00390128">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="HQoS">
<meta name="featuretype" content="QOS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="HQoS">
<meta name="featuretype" content="QOS">
<meta name="featurename" content="HQoS">
<meta name="featuretype" content="QOS">
<meta name="featurename" content="HQoS">
<meta name="featuretype" content="QOS">
<meta name="OWNER" content="l00425560,m00390128">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="m00915594">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0268573350">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Applying a QoS Profile</title>
</head>
<body><a name="EN-US_TASK_0268573350"></a><a name="EN-US_TASK_0268573350"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Applying a QoS Profile</h1>
<div class="taskbody"><p>You can define a QoS profile and apply it to interfaces to implement unified scheduling of traffic on these interfaces.</p>
<div class="context"><a name="EN-US_TASK_0268573350__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0268573350__en-us_task_0266976974_context522340169214058"><p id="EN-US_TASK_0268573350__en-us_task_0266976974_p198832438341">To achieve uniform scheduling of incoming traffic flows on multiple interfaces, you need to implement traffic management by user levels. Interface-based HQoS only supports classifying traffic flows on one interface into an SQ for scheduling. It does not support uniform scheduling of traffic flows on multiple interfaces. Profile-based HQoS, by comparison, supports classifying traffic flows on multiple interfaces into an SQ for scheduling. It implements uniform scheduling of traffic flows on multiple interfaces by defining QoS profiles and applying the profiles to different interfaces.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0268573350__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul id="EN-US_TASK_0268573350__en-us_task_0266976974_steps-unordered14401318164711"><li id="EN-US_TASK_0268573350__en-us_task_0266976974_step1340181815475"><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmd34011018154710">Apply a QoS profile.</span><ol id="EN-US_TASK_0268573350__en-us_task_0266976974_substeps437518542475"><li class="substepexpand" id="EN-US_TASK_0268573350__en-us_task_0266976974_substep17375454134714"><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmd3375954144715">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdname491411506214058">system-view</span></b></a></span><p><p id="EN-US_TASK_0268573350__en-us_task_0266976974_p19381258164714">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0268573350__en-us_task_0266976974_substep5888192304914"><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmd988812334912">Run <a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdname1668210475427">interface</span></b></a> <i><span class="varname" id="EN-US_TASK_0268573350__en-us_task_0266976974_varname1668244711427">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0268573350__en-us_task_0266976974_varname1682947194212">interface-number</span></i></span><p><p id="EN-US_TASK_0268573350__en-us_task_0266976974_p474952610484">The interface view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0268573350__en-us_task_0266976974_substep110082412495"><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmd18100102411492">Run any of the following commands to apply a QoS profile to a specific type of interface:</span><p><ul id="EN-US_TASK_0268573350__en-us_task_0266976974_ul2130636545214058"><li id="EN-US_TASK_0268573350__en-us_task_0266976974_li1001366659214058">To apply a QoS profile to <span id="EN-US_TASK_0268573350__en-us_task_0266976974_ph12498168203615">an IP-Trunk interface or </span>a dot1q interface, run the <a href="cmdqueryname=qos-profile"><b><span class="cmdname" id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdname956000006214058">qos-profile</span></b></a> <i><span class="varname" id="EN-US_TASK_0268573350__en-us_task_0266976974_varname1185590714214058">qos-profile-name</span></i> { <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname952214631214058">inbound</span></strong> | <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname119356442214058">outbound</span></strong> }<span id="EN-US_TASK_0268573350__en-us_task_0266976974_ph1746898052214058"> [ <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname1871931013214058">identifier</span></strong> <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname439675657214058">none</span></strong> ] </span>[ <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname185927500214058">group</span></strong> <i><span class="varname" id="EN-US_TASK_0268573350__en-us_task_0266976974_varname1164831724214058">group-name</span></i> ] command.</li><li id="EN-US_TASK_0268573350__en-us_task_0266976974_li1892403111214058">To apply a QoS profile to a Layer 2 interface or dot1q VLAN tag termination sub-interface, run the <a href="cmdqueryname=qos-profile"><b><span class="cmdname" id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdname1065552846214058">qos-profile</span></b></a> <i><span class="varname" id="EN-US_TASK_0268573350__en-us_task_0266976974_varname1111676311214058">qos-profile-name</span></i> { <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname321566264214058">inbound</span></strong> | <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname1109761812214058">outbound</span></strong> } <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname1108109919214058">vlan</span></strong> <i><span class="varname" id="EN-US_TASK_0268573350__en-us_task_0266976974_varname802100543214058">vlan-id-begin</span></i> [ <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname486031606214058">to</span></strong> <i><span class="varname" id="EN-US_TASK_0268573350__en-us_task_0266976974_varname533863242214058">vlan-id-end</span></i> ] [ <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname2103449484214058">identifier</span></strong> { <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname169213957214058">vlan-id</span></strong> | <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname1071339859214058">none</span></strong> } ] [ <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname730308654214058">group</span></strong> <i><span class="varname" id="EN-US_TASK_0268573350__en-us_task_0266976974_varname1734073807214058">group-name</span></i> ] command.</li><li id="EN-US_TASK_0268573350__en-us_task_0266976974_li742058546214058">To apply a QoS profile to a QinQ VLAN tag termination sub-interface, run the <a href="cmdqueryname=qos-profile"><b><span class="cmdname" id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdname1747136821214058">qos-profile</span></b></a> <i><span class="varname" id="EN-US_TASK_0268573350__en-us_task_0266976974_varname1182213573214058">qos-profile-name</span></i> { <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname1567676880214058">inbound</span></strong> | <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname21699122214058">outbound</span></strong> } <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname150666022214058">pe-vid</span></strong> <i><span class="varname" id="EN-US_TASK_0268573350__en-us_task_0266976974_varname208636550214058">pe-vlan-id</span></i> { <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname1255011261214058">ce-vid</span></strong> <i><span class="varname" id="EN-US_TASK_0268573350__en-us_task_0266976974_varname485975417214058">ce-vlan-id-begin</span></i> [<strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname1162112124214058"> to</span></strong> <i><span class="varname" id="EN-US_TASK_0268573350__en-us_task_0266976974_varname1893596117214058">ce-vlan-id-end</span></i> ] } [ <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname199820853214058">identifier</span></strong> { <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname26524369214058">pe-vid</span></strong> | <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname825202699214058">ce-vid</span></strong> | <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname545688530214058">pe-ce-vid</span></strong> | <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname1135555111214058">none</span></strong> } ] [ <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname1111047308214058">group</span></strong> <i><span class="varname" id="EN-US_TASK_0268573350__en-us_task_0266976974_varname290477911214058">group-name</span></i> ] command.</li><li id="EN-US_TASK_0268573350__en-us_task_0266976974_li431639834214058">To apply a QoS profile to an EVC Layer 2 sub-interface, run the <a href="cmdqueryname=qos-profile"><b><span class="cmdname" id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdname83415663214058">qos-profile</span></b></a> <i><span class="varname" id="EN-US_TASK_0268573350__en-us_task_0266976974_varname1969730653214058">qos-profile-name</span></i> { <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname1497865961214058">inbound</span></strong> | <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname142545829214058">outbound</span></strong> } [ <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname105448128214058">identifier</span></strong> { <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname1572608942214058">none</span></strong> | <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname658633924214058">vid</span></strong> | <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname757200646214058">ce-vid</span></strong> | <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname187082972214058">vid-ce-vid</span></strong> } ] [ <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname719974773214058">group</span></strong> <i><span class="varname" id="EN-US_TASK_0268573350__en-us_task_0266976974_varname697848239214058">group-name</span></i> ] command.</li><li id="EN-US_TASK_0268573350__en-us_task_0266976974_li1889563920214058">To apply a QoS profile to an NVE interface, run the <a href="cmdqueryname=qos-profile"><b><span class="cmdname" id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdname1271161554214058">qos-profile</span></b></a> <i><span class="varname" id="EN-US_TASK_0268573350__en-us_task_0266976974_varname1228594997214058">qos-profile-name</span></i> { <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname1192692835214058">inbound</span></strong> | <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname1868058664214058">outbound</span></strong> } <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname1483789476214058">vni</span></strong> <i><span class="varname" id="EN-US_TASK_0268573350__en-us_task_0266976974_varname177338173214058">vni-id</span></i> <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname745485080214058">source</span></strong> <i><span class="varname" id="EN-US_TASK_0268573350__en-us_task_0266976974_varname139565222214058">sourceip</span></i> <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname1152192278214058">peer</span></strong> <i><span class="varname" id="EN-US_TASK_0268573350__en-us_task_0266976974_varname963832095214058">peerip</span></i> command.</li></ul>
</p></li><li class="substepexpand" id="EN-US_TASK_0268573350__en-us_task_0266976974_substep125263815310"><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmd192521938165311">(Optional) Run <a href="cmdqueryname=user-queue+shaping+bgp-local-ifnet-traffic+outbound"><b><span class="cmdname" id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdname774179828214058">user-queue shaping bgp-local-ifnet-traffic outbound</span></b></a></span><p><p id="EN-US_TASK_0268573350__en-us_task_0266976974_p2347739102410">HQoS is enabled for traffic carried by a BGP local IFNET tunnel on the interface.</p>
</p><p><p id="EN-US_TASK_0268573350__en-us_task_0266976974_p2612123045415">After HQoS is configured on an outbound interface of a BGP local IFNET tunnel, if the outbound interface resides on a downstream board equipped with a non-eTM subcard, you need to perform this step to allow HQoS to take effect.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0268573350__en-us_task_0266976974_substep10999519123918"><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmd1899981983912">(Optional) Run <a href="cmdqueryname=qos+user-queue+member-link-scheduler+distribute"><b><span class="cmdname" id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdname2330169185516">qos user-queue member-link-scheduler distribute</span></b></a> </span><p><p id="EN-US_TASK_0268573350__en-us_task_0266976974_p241041616465">Weight-based bandwidth distribution among trunk member interfaces is configured when the QoS profile's user-queue is applied to the trunk interface.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0268573350__en-us_task_0266976974_substep29823468536"><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmd39823461533">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdname1262619601214058">commit</span></b></a></span><p><p id="EN-US_TASK_0268573350__en-us_task_0266976974_p114313580481">The configuration is committed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0268573350__en-us_task_0266976974_substep1438158145517"><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmd184383581554">Run <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdname147316211487">quit</span></b></a></span><p><p id="EN-US_TASK_0268573350__en-us_task_0266976974_p1852418894913">Return to the system view.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0268573350__en-us_task_0266976974_step8982759195413"><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmd598235912545">(Optional) Apply the channel profile.</span><ol id="EN-US_TASK_0268573350__en-us_task_0266976974_substeps1432454055520"><li class="substepexpand" id="EN-US_TASK_0268573350__en-us_task_0266976974_substep1417065516563"><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmd517013556566">Run <a href="cmdqueryname=slot"><b><span class="cmdname" id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdname1156555846214058">slot</span></b></a> <em id="EN-US_TASK_0268573350__en-us_task_0266976974_i19914164523710">slot-id</em></span><p><p id="EN-US_TASK_0268573350__en-us_task_0266976974_p69091920124912">The slot view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0268573350__en-us_task_0266976974_substep1595915198576"><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmd1895912195572">Run <a href="cmdqueryname=qos+channel-profile"><b><span class="cmdname" id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdname571443580214058">qos channel-profile</span></b></a> <i><span class="varname" id="EN-US_TASK_0268573350__en-us_task_0266976974_varname486455117375">channel-profile-name</span></i></span><p><p id="EN-US_TASK_0268573350__en-us_task_0266976974_p201561435134914">The channel profile is applied to the board.</p>
</p><p><div class="note" id="EN-US_TASK_0268573350__en-us_task_0266976974_note27849485816"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0268573350__en-us_task_0266976974_p10929191016466">Restart the board for this command to take effect.</p>
</div></div>
</p></li><li class="substepexpand" id="EN-US_TASK_0268573350__en-us_task_0266976974_substep242520412578"><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmd104251841145711">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdname210974600214058">commit</span></b></a></span><p><p id="EN-US_TASK_0268573350__en-us_task_0266976974_p2740247184911">The configuration is committed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0268573350__en-us_task_0266976974_substep12197143015819"><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmd131972303585">Run <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdname141452195314">quit</span></b></a></span><p><p id="EN-US_TASK_0268573350__en-us_task_0266976974_p6316185716499">Return to the system view.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0268573350__en-us_task_0266976974_substep163711379586"><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmd2063763725813">Run <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdname9993134215316">quit</span></b></a></span><p><p id="EN-US_TASK_0268573350__en-us_task_0266976974_p754851025017">Return to the user view.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0268573350__en-us_task_0266976974_substep13886104418584"><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmd168861544105813">Run <a href="cmdqueryname=reset"><b><span class="cmdname" id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdname188988707214058">reset</span></b></a> <strong><span id="EN-US_TASK_0268573350__en-us_task_0266976974_cmdparmname192061131153814">slot</span></strong> <i><span class="varname" id="EN-US_TASK_0268573350__en-us_task_0266976974_varname12064318384">slot-id</span></i></span><p><p id="EN-US_TASK_0268573350__en-us_task_0266976974_p961218218500">The board is restarted.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_hqos_cfg_5011.html">Configuring HQoS in Priority-based 8-CoS Mode
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_hqos_cfg_5011_6.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_hqos_cfg_50173.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>