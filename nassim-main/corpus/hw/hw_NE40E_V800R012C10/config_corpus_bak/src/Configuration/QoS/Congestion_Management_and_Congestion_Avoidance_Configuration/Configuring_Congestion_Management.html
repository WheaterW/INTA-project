
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Congestion Management">
<meta name="abstract" content="This section describes how to configure queue scheduling parameters to implement congestion management.">
<meta name="description" content="This section describes how to configure queue scheduling parameters to implement congestion management.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cmca-qos_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/spec/Congestion_Management_and_Congestion_Avoidance_limitation.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cmca-qos_cfg_0011.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909,m00390128">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Congestion Management and Congestion Avoidance">
<meta name="featuretype" content="QOS">
<meta name="featurename" content="Congestion Management and Congestion Avoidance">
<meta name="featuretype" content="QOS">
<meta name="featurename" content="Congestion Management and Congestion Avoidance">
<meta name="featuretype" content="QOS">
<meta name="OWNER" content="m00390128">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="m00915594">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0232394837">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Congestion Management</title>
</head>
<body><a name="EN-US_TASK_0232394837"></a><a name="EN-US_TASK_0232394837"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Congestion Management</h1>
<div class="taskbody"><p>This section describes how to configure queue scheduling parameters to implement congestion management.</p>
<div class="context"><a name="EN-US_TASK_0232394837__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Congestion management manages and controls traffic by placing packets sent from one interface into multiple queues with different priorities. These packets are then sent based on the priorities. Different queue scheduling mechanisms are designed for different situations and lead to varying results.</p>
<p>Queue scheduling parameters can be configured using a port-queue profile or directly on interfaces.</p>
<ul><li>If queue scheduling parameters are required on multiple interfaces, you can configure the queue scheduling parameters in a port-queue profile to reduce configuration workload.</li><li>If queue scheduling parameters are required only on a few interfaces and vastly vary between interfaces, you can configure the queue scheduling parameters directly on interfaces.</li></ul>

</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0232394837__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure queue scheduling parameters directly on an interface.</span><ol><li class="substepexpand"><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> command to enter the interface view.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=port-queue"><b><span class="cmdname">port-queue</span></b></a> cos-value { { <strong><span>pq</span></strong> | <strong><span>wfq weight</span></strong> weight-value | <strong><span>lpq</span></strong> } | <strong><span>shaping</span></strong> { shaping-value | <strong><span>shaping-percentage</span></strong> shaping-percentage-value } [ <strong><span>pbs</span></strong> pbs-value ] | <strong><span>port-wred</span></strong> wred-name | <strong><span>low-latency</span></strong> } * <strong><span>outbound</span></strong> or <a href="cmdqueryname=port-queue"><b><span class="cmdname">port-queue</span></b></a> <i><span class="varname">cos-value</span></i> <strong><span>cir</span></strong> { { <i><span class="varname">cir-value</span></i> [ <strong><span>cbs</span></strong> <i><span class="varname">cbs-value</span></i> ] <strong><span>cir-schedule pq pir</span></strong> <i><span class="varname">pir-value</span></i> } | { <strong><span>cir-percentage</span></strong> <i><span class="varname">cir-percentage-value</span></i> [ <strong><span>cbs</span></strong> <i><span class="varname">cbs-value</span></i> ] <strong><span>cir-schedule pq pir pir-percentage</span></strong> <i><span class="varname">pir-percentage-value</span></i> } } [ <strong><span>pbs</span></strong> <i><span class="varname">pbs-value</span></i> ] <strong><span>pir-schedule</span></strong> { <strong><span>pq</span></strong> | <strong><span>wfq weight</span></strong> <i><span class="varname">weight-value</span></i> | <strong><span>lpq</span></strong> } [ <strong><span>port-wred</span></strong> <i><span class="varname">wred-name</span></i> ] <strong><span>outbound</span></strong> command to configure queue scheduling parameters in the interface view.</span></li><li class="substepexpand" id="EN-US_TASK_0232394837__substep1329581145610"><span id="EN-US_TASK_0232394837__cmd129514114562">(Optional) Run the <strong id="EN-US_TASK_0232394837__b4295151135616"><a href="cmdqueryname=port-queue-alarm"><b><span class="cmdname" id="EN-US_TASK_0232394837__cmdname11173132785413">port-queue-alarm</span></b></a> </strong><em id="EN-US_TASK_0232394837__i129511118567"><i><span class="varname" id="EN-US_TASK_0232394837__varname137071932165418">cos-value</span></i></em><strong id="EN-US_TASK_0232394837__b3295711145612"> <strong><span id="EN-US_TASK_0232394837__cmdparmname15621340195413">buffer</span></strong></strong><strong id="EN-US_TASK_0232394837__b11295811155616"> <strong><span id="EN-US_TASK_0232394837__cmdparmname20701165715419">percentage</span></strong></strong><em id="EN-US_TASK_0232394837__i11295911165613"> <i><span class="varname" id="EN-US_TASK_0232394837__varname8329334551">percentage-value</span></i></em> command to configure an alarm threshold for the port queue usage.</span><p><div class="note" id="EN-US_TASK_0232394837__note6295171119561"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0232394837__p17295191110563">If the alarm threshold for the port queue usage needs to be configured on multiple interfaces, run the <strong id="EN-US_TASK_0232394837__b1025484025510"><a href="cmdqueryname=port-queue-alarm"><b><span class="cmdname" id="EN-US_TASK_0232394837__cmdname1425534014557">port-queue-alarm</span></b></a> </strong><em id="EN-US_TASK_0232394837__i9255040135517"><i><span class="varname" id="EN-US_TASK_0232394837__varname122551440165519">cos-value</span></i></em><strong id="EN-US_TASK_0232394837__b325584085516"> <strong><span id="EN-US_TASK_0232394837__cmdparmname1125515407553">buffer</span></strong></strong><strong id="EN-US_TASK_0232394837__b925510406556"> <strong><span id="EN-US_TASK_0232394837__cmdparmname15255340185514">percentage</span></strong></strong><em id="EN-US_TASK_0232394837__i6255340125512"> <i><span class="varname" id="EN-US_TASK_0232394837__varname132558408555">percentage-value</span></i></em> command in the slot view. The configuration in the slot view takes effect on all the interfaces in the slot. If the configuration is performed in both the slot and interface views, the configuration in the interface view takes effect preferentially.</p>
</div></div>
</p></li><li class="substepexpand" id="EN-US_TASK_0232394837__substep1329511112568"><span id="EN-US_TASK_0232394837__cmd19295711165617">(Optional) Run the <a href="cmdqueryname=port-queue-alarm"><b><span class="cmdname" id="EN-US_TASK_0232394837__cmdname1829591116565">port-queue-alarm</span></b></a> <i><span class="varname" id="EN-US_TASK_0232394837__varname8295111114564">cos-value</span></i> { <strong><span id="EN-US_TASK_0232394837__cmdparmname9295161145618">discard-packet</span></strong> <i><span class="varname" id="EN-US_TASK_0232394837__varname152953112562">discard-packet-number</span></i> | <strong><span id="EN-US_TASK_0232394837__cmdparmname192951111185610">discard-byte</span></strong> <i><span class="varname" id="EN-US_TASK_0232394837__varname229517114568">discard-byte-number</span></i> | <strong><span id="EN-US_TASK_0232394837__cmdparmname6295111113561">discard-packet-ratio</span></strong> <i><span class="varname" id="EN-US_TASK_0232394837__varname8295171113565">discard-packet-coefficient</span></i> <i><span class="varname" id="EN-US_TASK_0232394837__varname7295111175617">discard-packet-exponent</span></i> } [ <strong><span id="EN-US_TASK_0232394837__cmdparmname192952011165614">interval</span></strong> <i><span class="varname" id="EN-US_TASK_0232394837__varname329631175612">interval-time</span></i> ] command to configure alarm thresholds for discarded packets in a port queue.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li></ol>
</li><li><span>Configure queue scheduling parameters in a port-queue profile.</span><ol><li class="substepexpand"><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=port-queue-template"><b><span class="cmdname">port-queue-template</span></b></a> <i><span class="varname">port-queue-name</span></i> command to create a port-queue profile and enter its view.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=queue"><b><span class="cmdname">queue</span></b></a> <i><span class="varname">cos-value</span></i> { { <strong><span>pq</span></strong> | <strong><span>wfq weight</span></strong> <i><span class="varname">weight-value</span></i> | <strong><span>lpq</span></strong> } | <strong><span>shaping</span></strong> { <i><span class="varname">shaping-value</span></i> | <strong><span>shaping-percentage</span></strong> <i><span class="varname">shaping-percentage-value</span></i> } [ <strong><span>pbs</span></strong> <i><span class="varname">pbs-value</span></i> ] | <strong><span>port-wred</span></strong> <i><span class="varname">wred-name</span></i> | <strong><span>low-latency</span></strong>  } * or <a href="cmdqueryname=queue"><b><span class="cmdname">queue</span></b></a> <i><span class="varname">cos-value</span></i> <strong><span>cir</span></strong> { { <i><span class="varname">cir-value</span></i> [ <strong><span>cbs</span></strong> <i><span class="varname">cbs-value</span></i> ] <strong><span>cir-schedule pq pir</span></strong> <i><span class="varname">pir-value</span></i> } | { <strong><span>cir-percentage</span></strong> <i><span class="varname">cir-percentage-value</span></i> [ <strong><span>cbs</span></strong> <i><span class="varname">cbs-value</span></i> ] <strong><span>cir-schedule pq pir pir-percentage</span></strong> <i><span class="varname">pir-percentage-value</span></i> } } [ <strong><span>pbs</span></strong> <i><span class="varname">pbs-value</span></i> ] <strong><span>pir-schedule</span></strong> { <strong><span>pq</span></strong> | <strong><span>wfq weight</span></strong> <i><span class="varname">weight-value</span></i> | <strong><span>lpq</span></strong> } [ <strong><span>port-wred</span></strong> <i><span class="varname">wred-name</span></i> ] command to configure scheduling parameters for queues in the port-queue profile.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to return to the system view.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> command to enter the interface view.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=port-queue-template"><b><span class="cmdname">port-queue-template</span></b></a> <i><span class="varname">port-queue-name</span></i> <strong><span>outbound</span></strong> command to apply the port-queue profile to the interface.</span></li><li class="substepexpand"><span>(Optional) Run the <strong id="EN-US_TASK_0232394837__en-us_task_0232394837_b4295151135616"><a href="cmdqueryname=port-queue-alarm"><b><span class="cmdname" id="EN-US_TASK_0232394837__en-us_task_0232394837_cmdname11173132785413">port-queue-alarm</span></b></a> </strong><em id="EN-US_TASK_0232394837__en-us_task_0232394837_i129511118567"><i><span class="varname" id="EN-US_TASK_0232394837__en-us_task_0232394837_varname137071932165418">cos-value</span></i></em><strong id="EN-US_TASK_0232394837__en-us_task_0232394837_b3295711145612"> <strong><span id="EN-US_TASK_0232394837__en-us_task_0232394837_cmdparmname15621340195413">buffer</span></strong></strong><strong id="EN-US_TASK_0232394837__en-us_task_0232394837_b11295811155616"> <strong><span id="EN-US_TASK_0232394837__en-us_task_0232394837_cmdparmname20701165715419">percentage</span></strong></strong><em id="EN-US_TASK_0232394837__en-us_task_0232394837_i11295911165613"> <i><span class="varname" id="EN-US_TASK_0232394837__en-us_task_0232394837_varname8329334551">percentage-value</span></i></em> command to configure an alarm threshold for the port queue usage.</span><p><div class="note" id="EN-US_TASK_0232394837__en-us_task_0232394837_note6295171119561"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0232394837__en-us_task_0232394837_p17295191110563">If the alarm threshold for the port queue usage needs to be configured on multiple interfaces, run the <strong id="EN-US_TASK_0232394837__en-us_task_0232394837_b1025484025510"><a href="cmdqueryname=port-queue-alarm"><b><span class="cmdname" id="EN-US_TASK_0232394837__en-us_task_0232394837_cmdname1425534014557">port-queue-alarm</span></b></a> </strong><em id="EN-US_TASK_0232394837__en-us_task_0232394837_i9255040135517"><i><span class="varname" id="EN-US_TASK_0232394837__en-us_task_0232394837_varname122551440165519">cos-value</span></i></em><strong id="EN-US_TASK_0232394837__en-us_task_0232394837_b325584085516"> <strong><span id="EN-US_TASK_0232394837__en-us_task_0232394837_cmdparmname1125515407553">buffer</span></strong></strong><strong id="EN-US_TASK_0232394837__en-us_task_0232394837_b925510406556"> <strong><span id="EN-US_TASK_0232394837__en-us_task_0232394837_cmdparmname15255340185514">percentage</span></strong></strong><em id="EN-US_TASK_0232394837__en-us_task_0232394837_i6255340125512"> <i><span class="varname" id="EN-US_TASK_0232394837__en-us_task_0232394837_varname132558408555">percentage-value</span></i></em> command in the slot view. The configuration in the slot view takes effect on all the interfaces in the slot. If the configuration is performed in both the slot and interface views, the configuration in the interface view takes effect preferentially.</p>
</div></div>
</p></li><li class="substepexpand"><span>(Optional) Run the <a href="cmdqueryname=port-queue-alarm"><b><span class="cmdname" id="EN-US_TASK_0232394837__en-us_task_0232394837_cmdname1829591116565">port-queue-alarm</span></b></a> <i><span class="varname" id="EN-US_TASK_0232394837__en-us_task_0232394837_varname8295111114564">cos-value</span></i> { <strong><span id="EN-US_TASK_0232394837__en-us_task_0232394837_cmdparmname9295161145618">discard-packet</span></strong> <i><span class="varname" id="EN-US_TASK_0232394837__en-us_task_0232394837_varname152953112562">discard-packet-number</span></i> | <strong><span id="EN-US_TASK_0232394837__en-us_task_0232394837_cmdparmname192951111185610">discard-byte</span></strong> <i><span class="varname" id="EN-US_TASK_0232394837__en-us_task_0232394837_varname229517114568">discard-byte-number</span></i> | <strong><span id="EN-US_TASK_0232394837__en-us_task_0232394837_cmdparmname6295111113561">discard-packet-ratio</span></strong> <i><span class="varname" id="EN-US_TASK_0232394837__en-us_task_0232394837_varname8295171113565">discard-packet-coefficient</span></i> <i><span class="varname" id="EN-US_TASK_0232394837__en-us_task_0232394837_varname7295111175617">discard-packet-exponent</span></i> } [ <strong><span id="EN-US_TASK_0232394837__en-us_task_0232394837_cmdparmname192952011165614">interval</span></strong> <i><span class="varname" id="EN-US_TASK_0232394837__en-us_task_0232394837_varname329631175612">interval-time</span></i> ] command to configure alarm thresholds for discarded packets in a port queue.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cmca-qos_cfg_0001.html">Congestion Management and Congestion Avoidance Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/spec/Congestion_Management_and_Congestion_Avoidance_limitation.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cmca-qos_cfg_0011.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>