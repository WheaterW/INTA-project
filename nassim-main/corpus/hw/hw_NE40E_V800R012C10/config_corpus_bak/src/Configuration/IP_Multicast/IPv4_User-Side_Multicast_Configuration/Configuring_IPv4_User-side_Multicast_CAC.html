
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring IPv4 User-side Multicast CAC">
<meta name="abstract" content="To implement refined bandwidth control for users, configure user-side multicast CAC, which helps improve multicast service quality.">
<meta name="description" content="To implement refined bandwidth control for users, configure user-side multicast CAC, which helps improve multicast service quality.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bras-multicast_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bras-multicast_cfg_0010.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_bras-multicast_cac_cfg_0005.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="User-Side Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="User-Side Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="User-Side Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172367641">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Configuring IPv4 User-side Multicast CAC</title>
</head>
<body><a name="EN-US_TASK_0172367641"></a><a name="EN-US_TASK_0172367641"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring IPv4 User-side Multicast CAC</h1>
<div class="taskbody"><p>To implement refined bandwidth control for users, configure user-side multicast CAC, which helps improve multicast service quality.</p>
<div class="context"><a name="EN-US_TASK_0172367641__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>A conventional method to ensure multicast service quality is to limit the maximum number of multicast groups that users can join. This method becomes incompetent due to the increase of IPTV service volume, and carriers require a more refined method to manage and control bandwidth resources. User-side multicast CAC, working with the preceding conventional method, resolves these issues by allowing user-based and interface-based bandwidth limiting.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172367641__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring user-side multicast CAC, complete the tasks shown in <a href="#EN-US_TASK_0172367641__fig_dc_ne_bras-multicast_cac_cfg_000103">Figure 1</a>. For configuration details, see <a href="#EN-US_TASK_0172367641__table_dc_ne_bras-multicast_cac_cfg_000101">Table 1</a>.</p>
<div class="fignone" id="EN-US_TASK_0172367641__fig_dc_ne_bras-multicast_cac_cfg_000103"><a name="EN-US_TASK_0172367641__fig_dc_ne_bras-multicast_cac_cfg_000103"></a><a name="fig_dc_ne_bras-multicast_cac_cfg_000103"></a><span class="figcap"><b>Figure 1 </b>Pre-configuration tasks for user-side multicast CAC configurations</span><br><span><img class="vsd" src="images/fig_dc_ne_bras-multicast_cac_cfg_000103.png" width="NaN" height="NaN"></span><div class="p">
<div class="tableBorder"><a name="EN-US_TASK_0172367641__table_dc_ne_bras-multicast_cac_cfg_000101"></a><a name="table_dc_ne_bras-multicast_cac_cfg_000101"></a><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_TASK_0172367641__table_dc_ne_bras-multicast_cac_cfg_000101" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Description of each pre-configuration task</caption><thead align="left"><tr id="EN-US_TASK_0172367641__en-us_task_0172367625_row1568156463214043"><th align="left" class="cellrowborder" valign="top" width="34.04%" id="mcps1.4.2.3.3.1.2.3.1.1" liSelected="liSelected"><p id="EN-US_TASK_0172367641__en-us_task_0172367625_p1025077056214043">Item</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="65.96%" id="mcps1.4.2.3.3.1.2.3.1.2" liSelected="liSelected"><p id="EN-US_TASK_0172367641__en-us_task_0172367625_p2074686126214043">Description</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_TASK_0172367641__en-us_task_0172367625_row1209439180214043"><td class="cellrowborder" valign="top" width="34.04%" headers="mcps1.4.2.3.3.1.2.3.1.1 "><p id="EN-US_TASK_0172367641__en-us_task_0172367625_entry1354814582214043p0"><span><img class="vsd" id="EN-US_TASK_0172367641__en-us_task_0172367625_image599570533214043" src="../vrp/images/fig_dc_vrp_bras-multicast_cfg_000302.png"></span></p>
</td>
<td class="cellrowborder" valign="top" width="65.96%" headers="mcps1.4.2.3.3.1.2.3.1.2 "><p id="EN-US_TASK_0172367641__en-us_task_0172367625_p1645214714214043">Configure an IPv4 Address Pool to Assign IP Addresses to Online Users.</p>
</td>
</tr>
<tr id="EN-US_TASK_0172367641__en-us_task_0172367625_row1328218397214043"><td class="cellrowborder" valign="top" width="34.04%" headers="mcps1.4.2.3.3.1.2.3.1.1 "><p id="EN-US_TASK_0172367641__en-us_task_0172367625_entry241467083214043p0"><span><img class="vsd" id="EN-US_TASK_0172367641__en-us_task_0172367625_image1740654798214043" src="../vrp/images/fig_dc_vrp_bras-multicast_cfg_000303.png"></span></p>
</td>
<td class="cellrowborder" valign="top" width="65.96%" headers="mcps1.4.2.3.3.1.2.3.1.2 "><p id="EN-US_TASK_0172367641__en-us_task_0172367625_p1016018491214043">Configure Authentication, Authorization and Accounting (AAA) schemes.</p>
</td>
</tr>
<tr id="EN-US_TASK_0172367641__en-us_task_0172367625_row2005350020214043"><td class="cellrowborder" valign="top" width="34.04%" headers="mcps1.4.2.3.3.1.2.3.1.1 "><p id="EN-US_TASK_0172367641__en-us_task_0172367625_entry179645998214043p0"><span><img class="vsd" id="EN-US_TASK_0172367641__en-us_task_0172367625_image2095764351214043" src="../vrp/images/fig_dc_vrp_bras-multicast_cfg_000304.png"></span></p>
</td>
<td class="cellrowborder" valign="top" width="65.96%" headers="mcps1.4.2.3.3.1.2.3.1.2 "><p id="EN-US_TASK_0172367641__en-us_task_0172367625_p1465055664214043">Configure a domain to implement AAA functions and manage access users.</p>
</td>
</tr>
<tr id="EN-US_TASK_0172367641__en-us_task_0172367625_row1221481381214043"><td class="cellrowborder" valign="top" width="34.04%" headers="mcps1.4.2.3.3.1.2.3.1.1 "><p id="EN-US_TASK_0172367641__en-us_task_0172367625_entry246531396214043p0"><span><img class="vsd" id="EN-US_TASK_0172367641__en-us_task_0172367625_image957217509214043" src="../vrp/images/fig_dc_vrp_bras-multicast_cfg_000305.png"></span></p>
</td>
<td class="cellrowborder" valign="top" width="65.96%" headers="mcps1.4.2.3.3.1.2.3.1.2 "><p id="EN-US_TASK_0172367641__en-us_task_0172367625_entry1945129110214043p0">Configure the PPPoE or IPoE access mode.</p>
<ul id="EN-US_TASK_0172367641__en-us_task_0172367625_ul1679945330214043"><li id="EN-US_TASK_0172367641__en-us_task_0172367625_li1953440246214043"><p id="EN-US_TASK_0172367641__en-us_task_0172367625_p740219186214043"><a name="EN-US_TASK_0172367641__en-us_task_0172367625_li1953440246214043"></a><a name="en-us_task_0172367625_li1953440246214043"></a><a href="dc_ne_pppoe_cfg_0004.html">Configure the PPPoE access mode.</a></p>
</li><li id="EN-US_TASK_0172367641__en-us_task_0172367625_li668228719214043"><p id="EN-US_TASK_0172367641__en-us_task_0172367625_p1728090070214043"><a name="EN-US_TASK_0172367641__en-us_task_0172367625_li668228719214043"></a><a name="en-us_task_0172367625_li668228719214043"></a>Configure the IPoE access mode.</p>
</li></ul>
</td>
</tr>
<tr id="EN-US_TASK_0172367641__en-us_task_0172367625_row1274106616214043"><td class="cellrowborder" valign="top" width="34.04%" headers="mcps1.4.2.3.3.1.2.3.1.1 "><p id="EN-US_TASK_0172367641__en-us_task_0172367625_entry273190982214043p0"><span><img class="vsd" id="EN-US_TASK_0172367641__en-us_task_0172367625_image200797188214043" src="../vrp/images/fig_dc_vrp_bras-multicast_cfg_000306.png"></span></p>
</td>
<td class="cellrowborder" valign="top" width="65.96%" headers="mcps1.4.2.3.3.1.2.3.1.2 "><p id="EN-US_TASK_0172367641__en-us_task_0172367625_entry2093555013214043p0">Configure basic multicast functions.</p>
<ol id="EN-US_TASK_0172367641__en-us_task_0172367625_ol1645096272214043"><li id="EN-US_TASK_0172367641__en-us_task_0172367625_li1935846100214043"><p id="EN-US_TASK_0172367641__en-us_task_0172367625_p1388150650214043"><a name="EN-US_TASK_0172367641__en-us_task_0172367625_li1935846100214043"></a><a name="en-us_task_0172367625_li1935846100214043"></a>Configure multicast static routes.</p>
</li><li id="EN-US_TASK_0172367641__en-us_task_0172367625_li1615169434214043"><p id="EN-US_TASK_0172367641__en-us_task_0172367625_p1959379158214043"><a name="EN-US_TASK_0172367641__en-us_task_0172367625_li1615169434214043"></a><a name="en-us_task_0172367625_li1615169434214043"></a>Enable PIM-SM.</p>
</li><li id="EN-US_TASK_0172367641__en-us_task_0172367625_li654460641214043"><p id="EN-US_TASK_0172367641__en-us_task_0172367625_p108753353214043"><a name="EN-US_TASK_0172367641__en-us_task_0172367625_li654460641214043"></a><a name="en-us_task_0172367625_li654460641214043"></a>Enable IGMP.</p>
</li></ol>
</td>
</tr>
<tr id="EN-US_TASK_0172367641__en-us_task_0172367625_row1467443401214043"><td class="cellrowborder" valign="top" width="34.04%" headers="mcps1.4.2.3.3.1.2.3.1.1 "><p id="EN-US_TASK_0172367641__en-us_task_0172367625_entry414089276214043p0"><span><img class="vsd" id="EN-US_TASK_0172367641__en-us_task_0172367625_image1751445452214043" src="../vrp/images/fig_dc_vrp_bras-multicast_cfg_000307.png"></span></p>
</td>
<td class="cellrowborder" valign="top" width="65.96%" headers="mcps1.4.2.3.3.1.2.3.1.2 "><p id="EN-US_TASK_0172367641__en-us_task_0172367625_entry1738362328214043p0">Configure a BAS interface.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172367641__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure a global multicast bandwidth limit policy.</span><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=multicast+bas-policy"><b><span class="cmdname">multicast bas-policy</span></b></a></span></span><p><p>A multicast BAS policy view is created and displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=policy"><b><span class="cmdname">policy</span></b></a> <i><span class="varname">policy-name</span></i></span></span><p><p>A multicast bandwidth limit policy is created, and the policy view is displayed.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <span><a href="cmdqueryname=unspecified-channel+permit"><b><span class="cmdname">unspecified-channel permit</span></b></a></span></span><p><p>Users are allowed to join multicast groups that are not specified in a channel, and the device is configured not to count the bandwidth consumed by such groups.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=channel"><b><span class="cmdname">channel</span></b></a> <i><span class="varname">channel-name</span></i></span></span><p><p>A multicast channel is configured, and the channel view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=group"><b><span class="cmdname">group</span></b></a> <i><span class="varname">group-address</span></i> <strong><span>mask</span></strong> { <i><span class="varname">group-mask-length</span></i> | <i><span class="varname">group-mask</span></i> } [ <strong><span>source</span></strong> <i><span class="varname">source-address</span></i> <strong><span>mask</span></strong> { <i><span class="varname">source-mask-length</span></i> | <i><span class="varname">source-mask</span></i> } ] { <strong><span>per-bandwidth</span></strong> <i><span class="varname">traffic-rate</span></i> { <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> } }</span></span><p><p>A (*, G) or (S, G) multicast group range, the bandwidth occupied by each group, and the level of bandwidth resources that a group consumes are specified.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span></span><p><p>Return to the multicast bandwidth limit policy view.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span></span><p><p>Return to the multicast BAS policy view.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span></span><p><p>Return to the system view.</p>
</p></li></ol>
</li><li><span>Configure a multicast bandwidth limit policy for each user in a specific domain.</span><ol type="a"><li class="substepexpand"><span>Run <span><a href="cmdqueryname=aaa"><b><span class="cmdname">aaa</span></b></a></span></span><p><p>The AAA view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=domain"><b><span class="cmdname">domain</span></b></a> <i><span class="varname">domain-name</span></i></span></span><p><p>The AAA domain view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=multicast"><b><span class="cmdname">multicast</span></b></a> <strong><span>bas-policy</span></strong> <i><span class="varname">policy-name</span></i> <strong><span>out</span></strong> <strong><span>bandwidth</span></strong> <i><span class="varname">traffic-rate</span></i> <strong><span>level-1</span></strong> <i><span class="varname">level-1-traffic-rate</span></i> <strong><span>interface</span></strong> <strong><span>gigabitethernet</span></strong></span></span><p><p>A user-side multicast bandwidth policy, the total maximum bandwidth for each user in the domain, and the maximum level-1 bandwidth for each user are specified in the AAA domain view.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span></span><p><p>Return to the AAA view.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span></span><p><p>Return to the system view.</p>
</p></li></ol>
</li><li><span>Configure a multicast bandwidth limit policy for users on a specific interface.</span><ol type="a"><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The GE interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=multicast"><b><span class="cmdname">multicast</span></b></a> <strong><span>bas-policy</span></strong> <i><span class="varname">policy-name</span></i> <strong><span>out</span></strong> <strong><span>bandwidth</span></strong> <i><span class="varname">traffic-rate</span></i> <strong><span>level-1</span></strong> <i><span class="varname">level-1-traffic-rate</span></i></span></span><p><p>A user-side multicast bandwidth policy is bound to the GE interface, the interface-level bandwidth limit is enabled, and the bandwidth limit is specified for the program ordered by users.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span></span><p><p>Return to the GE interface view.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span></span><p><p>Return to the system view.</p>
</p></li></ol>
</li><li><span>Enable multicast user-side CAC on the interface board.</span><ol type="a"><li class="substepexpand"><span>Run <span><a href="cmdqueryname=slot"><b><span class="cmdname">slot</span></b></a> <i><span class="varname">slot-id</span></i></span></span><p><p>The slot view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=multicast"><b><span class="cmdname">multicast</span></b></a> <strong><span>bas-policy</span></strong> <strong><span>out</span></strong> <strong><span>enable</span></strong> <strong><span>interface</span></strong> <strong><span>gigabitethernet</span></strong></span><p><p>Multicast user-side CAC is enabled on the interface board.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span></span><p><p>Return to the system view.</p>
</p></li></ol>
</li></ol></div>
<div class="example"><a name="EN-US_TASK_0172367641__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+multicast+bas-policy+policy"><b><span class="cmdname">display multicast bas-policy policy</span></b></a> <i><span class="varname">policy-name</span></i> <strong><span>slot </span></strong><i><span class="varname">slot-id</span></i> command to check information about global policy entries delivered to an interface board.</p>
<p>Run the <a href="cmdqueryname=display+multicast+bas-policy+out+user"><b><span class="cmdname">display multicast bas-policy out user</span></b></a> <i><span class="varname">user-id</span></i> command to check information about the multicast BAS policy of a specific user, as well as bandwidth statistics.</p>
<p>Run the <a href="cmdqueryname=display+multicast+bas-policy+out+interface"><b><span class="cmdname">display multicast bas-policy out interface</span></b></a> <i><span class="varname">interface-type interface-number</span></i> command to check information about the multicast BAS policy and bandwidth statistics of a specified interface.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bras-multicast_cfg_0000.html">IPv4 User-Side Multicast Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bras-multicast_cfg_0010.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_bras-multicast_cac_cfg_0005.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>