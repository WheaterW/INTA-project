
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Configuring IGMP Snooping Proxy">
<meta name="abstract" content="IGMP snooping proxy enables a device to represent its upstream device and downstream hosts to send IGMP messages to maintain group memberships and use the group memberships to forward multicast traffic, which greatly reduces bandwidth consumption. Before configuring the IGMP Snooping Proxy, familiarize yourself with the usage scenario, complete the pre-configuration tasks, and obtain the data required for the configuration.">
<meta name="description" content="IGMP snooping proxy enables a device to represent its upstream device and downstream hosts to send IGMP messages to maintain group memberships and use the group memberships to forward multicast traffic, which greatly reduces bandwidth consumption. Before configuring the IGMP Snooping Proxy, familiarize yourself with the usage scenario, complete the pre-configuration tasks, and obtain the data required for the configuration.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0016.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0290.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0023.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0024.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0025.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0026.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00800033,l2multicastvrp,c00549182,w00556928,w00437000,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0172367862">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Configuring IGMP Snooping Proxy</title>
</head>
<body><a name="EN-US_CONCEPT_0172367862"></a><a name="EN-US_CONCEPT_0172367862"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring IGMP Snooping Proxy</h1>
<div><p>IGMP snooping proxy enables a device to represent its upstream device and downstream hosts to send IGMP messages to maintain group memberships and use the group memberships to forward multicast traffic, which greatly reduces bandwidth consumption. Before configuring the IGMP Snooping Proxy, familiarize yourself with the usage scenario, complete the pre-configuration tasks, and obtain the data required for the configuration.</p>
<div class="section"><h4 class="sectiontitle">Usage Scenario</h4><p>Forwarding entries are set up according to IGMP messages exchanged between a Layer 3 device and user hosts. If there are many user hosts, redundant IGMP messages increase the workload of the PE.</p>
<p>IGMP Snooping Proxy can be deployed on a Layer 2 device between the Layer 3 device and user hosts to address this problem.</p>
<div class="p">On the network shown in <a href="#EN-US_CONCEPT_0172367862__fig_dc_vrp_l2mc_cfg_002101">Figure 1</a>, IGMP Snooping Proxy is configured on the CE. The IGMP Snooping Proxy-capable CE has the following functions:<ul><li>Acting as an attached host of the Layer 3 device, the CE collects and processes Report/Leave messages received from hosts before sending them to the Layer 3 device. If a large number of users frequently join or leave multicast groups, the CE suppresses Report and Leave messages, reducing message processing workload for the upstream device.</li><li>Acting as a Layer 3 device directly connected to hosts, the CE sends Query messages and establishes the mapping between group members and interfaces.</li></ul>
</div>
<p>Uniform Report/Leave message transmission is typically configured on a Layer 2 device, and the querier function is typically configured on the upstream device of the Layer 2 device.</p>
<div class="fignone" id="EN-US_CONCEPT_0172367862__fig_dc_vrp_l2mc_cfg_002101"><a name="EN-US_CONCEPT_0172367862__fig_dc_vrp_l2mc_cfg_002101"></a><a name="fig_dc_vrp_l2mc_cfg_002101"></a><span class="figcap"><b>Figure 1 </b>IGMP Snooping Proxy</span><br><span><img class="vsd" src="images/fig_dc_vrp_l2mc_cfg_002101.png"></span><br></div>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The CE in the figure needs to be deployed with IGMP Snooping Proxy.</p>
</div></div>
</div>
<div class="section"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring IGMP Snooping Proxy, complete the following tasks:</p>
<ul><li><p>Configure a link layer protocol to ensure link connectivity between devices.</p>
</li><li><p>Enable global IGMP snooping.</p>
</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Data Preparation</h4><p>To configure an IGMP Snooping Proxy, you need the following data.</p>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" frame="border" border="1" rules="all"><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="11.84%" id="mcps1.4.3.3.1.3.1.1" liSelected="liSelected"><p>No.</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="88.16000000000001%" id="mcps1.4.3.3.1.3.1.2" liSelected="liSelected"><p>Data</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="11.84%" headers="mcps1.4.3.3.1.3.1.1 "><p>1</p>
</td>
<td class="cellrowborder" valign="top" width="88.16000000000001%" headers="mcps1.4.3.3.1.3.1.2 "><p>(Optional) Querier parameters, including the interval at which general Query messages are sent, the number of times a group-specific query message is set, the maximum response time, and the interval at which group-specific query messages are sent</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<ul class="ullinks">
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0023.html">Configuring the Querier Function</a>
</dt>
<dd>
The querier function enables a device to send Query messages for its upstream device and respond to Join/Leave messages sent from downstream devices.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0024.html">Configuring Uniform Report/Leave Message Transmission</a>
</dt>
<dd>
Configuring a uniform Report/Leave message transmission on a Layer 2 device reduces network bandwidth consumption.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0025.html">(Optional) Configuring Transparent Transmission of Protocol Messages</a>
</dt>
<dd>
To prevent IGMP snooping proxy-enabled upstream and downstream devices from learning multicast forwarding entries from each other, configure them to transparently transmit protocol messages.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0026.html">Verifying the Configuration</a>
</dt>
<dd>
After configuring IGMP snooping proxy, you can verify its configurations.</dd>
</dl>
</ul>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0000.html">Layer 2 Multicast Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0016.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0290.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>