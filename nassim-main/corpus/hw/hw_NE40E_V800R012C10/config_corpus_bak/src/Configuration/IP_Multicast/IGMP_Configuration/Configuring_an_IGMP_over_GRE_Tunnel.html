
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an IGMP over GRE Tunnel">
<meta name="abstract" content="The information system contains different services involving multicast packets. These services are isolated through GRE tunnels. Devices' GRE interfaces are required to have IGMP capabilities.">
<meta name="description" content="The information system contains different services involving multicast packets. These services are isolated through GRE tunnels. Devices' GRE interfaces are required to have IGMP capabilities.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2041.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2247.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_0114.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172366737">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring an IGMP over GRE Tunnel</title>
</head>
<body><a name="EN-US_TASK_0172366737"></a><a name="EN-US_TASK_0172366737"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an IGMP over GRE Tunnel</h1>
<div class="taskbody"><p>The information system contains different services involving multicast packets. These services are isolated through GRE tunnels. Devices' GRE interfaces are required to have IGMP capabilities.</p>
<div class="context"><a name="EN-US_TASK_0172366737__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>If the information system contains two types of services involving multicast packets, for example, both the closed-circuit monitoring system and passenger information system in the urban rail signal system involve multicast packets, these services need to be isolated through GRE tunnels and the information system needs to access devices through GRE tunnels. To meet these needs, devices' GRE interfaces must have multicast capabilities. Currently, GRE interfaces support PIM. GRE interfaces must also have IGMP capabilities.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172366737__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring IGMP over GRE, complete the following tasks:</p>
<ul><li><p>Configure a unicast routing protocol to ensure that devices are reachable.</p>
</li><li><p><a href="dc_vrp_gre_cfg_2004.html">Configure a tunnel interface.</a></p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172366737__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=interface+tunnel"><b><span class="cmdname">interface tunnel</span></b></a> <i><span class="varname">interface-number</span></i></span><p><p>The tunnel interface view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=tunnel-protocol"><b><span class="cmdname">tunnel-protocol</span></b></a> <strong><span>gre</span></strong></span><p><p>The tunnel encapsulation type is set to GRE.</p>
</p></li><li><span>Run <a href="cmdqueryname=source"><b><span class="cmdname">source</span></b></a> <i><span class="varname">ip-address</span></i></span><p><p>The source IP address or source interface of the tunnel interface is set.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Run the <a href="cmdqueryname=binding+tunnel+gre"><b><span class="cmdname">binding tunnel gre</span></b></a> command to bind GRE to the source interface or the interface where the source address resides. After the binding, a GRE tunnel can use the interface to forward packets encapsulated by GRE.</p>
</div></div>
</p></li><li><span>Run <a href="cmdqueryname=destination"><b><span class="cmdname">destination</span></b></a> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] <i><span class="varname">ip-address</span></i></span><p><p>A destination IP address is set for the tunnel interface.</p>
</p><p><p>After a tunnel interface is created, specify the source address or source interface and destination address of the tunnel.</p>
</p></li><li><span>Run <a href="cmdqueryname=pim+sm"><b><span class="cmdname">pim sm</span></b></a></span><p><p>PIM-SM is enabled.</p>
</p><p><div class="notice"><span class="noticetitle"><img src="../../../../public_sys-resources/notice_3.0-en-us.png"> </span><div class="noticebody"><p>Running the <a href="cmdqueryname=undo+pim+sm"><b><span class="cmdname">undo pim sm</span></b></a> command deletes PIM neighbor relationships on the interface and interrupt the multicast service running on the interface.</p>
</div></div>
</p></li><li><span>Run <a href="cmdqueryname=igmp+enable"><b><span class="cmdname">igmp enable</span></b></a></span><p><p>IGMP is enabled.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0172366737__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+igmp+interface+verbose"><b><span class="cmdname">display igmp interface verbose</span></b></a> command.</p>
<p>The command output shows detailed IGMP information on the GRE tunnel interface.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2041.html">IGMP Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2247.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_0114.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>