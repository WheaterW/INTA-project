
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring Multicast Source Proxy on an Interface">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_0023.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2184b.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_0025.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001362996898">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring Multicast Source Proxy on an Interface</title>
</head>
<body><a name="EN-US_TASK_0000001362996898"></a><a name="EN-US_TASK_0000001362996898"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring Multicast Source Proxy on an Interface</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001362996898__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_context20867631132915"><p id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_p2015073316292">When an interface of a device receives multicast data from an indirectly connected upstream multicast source and the RP corresponding to the multicast group is not the device, the multicast data cannot be forwarded. To enable downstream hosts to receive the data in such a case, deploy multicast source proxy, which enables the egress to send a Register message to the RP in the PIM domain. The data is then forwarded along an RPT.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001362996898__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_steps1449354204214040"><li id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_step494263434214040"><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_cmd618788642214040">Run the <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_cmdname637359275214040">system-view</span></b></a> command to enter the system view.</span></li><li id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_step1651459118214040"><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_cmd1994742398214040">Run the <span><a href="cmdqueryname=acl"><b><span class="cmdname" id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_cmdname1430753456213919">acl</span></b></a> { <strong><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_cmdparmname220197166213919">name</span></strong> <i><span class="varname" id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_varname1206592068213919">advance-acl-name</span></i> [ <strong><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_cmdparmname642336928213919">advance</span></strong> | [ <strong><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_cmdparmname943191697213919">advance</span></strong> ] <strong><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_cmdparmname221974979213919">number</span></strong> <i><span class="varname" id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_varname1130716142213919">advance-acl-number</span></i> ] | [ <strong><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_cmdparmname1690144668213919">number</span></strong> ] <i><span class="varname" id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_varname902710782213919">advance-acl-number</span></i> } [ <strong><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_cmdparmname605677149213919">match-order</span></strong> { <strong><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_cmdparmname679279458213919">config</span></strong> | <strong><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_cmdparmname1551680503213919">auto</span></strong> } ]</span> command to create an advanced ACL and enter the corresponding ACL view.</span></li><li id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_step1570638928214040"><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_cmd859473972214040">Run the <span><a href="cmdqueryname=rule"><b><span class="cmdname" id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_cmdname1310742062213919">rule</span></b></a> [ <i><span class="varname" id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_varname154816860213919">rule-id</span></i> ] [ <strong><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_cmdparmname819315159213919">name</span></strong> <i><span class="varname" id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_varname1493510189213919">rule-name</span></i> ] { <strong><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_cmdparmname1204544988213919">deny</span></strong> | <strong><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_cmdparmname1623824983213919">permit</span></strong> } <strong><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_cmdparmname1005149806213919">ip</span></strong> [ <strong><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_cmdparmname36303517213919">destination</span></strong> { <i><span class="varname" id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_varname1416475631213919">destination-ip-address</span></i> { <i><span class="varname" id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_varname1166444388213919">destination-wildcard</span></i> | <strong><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_cmdparmname1325702535213919">0</span></strong> } | <strong><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_cmdparmname200676578213919">any</span></strong> } | <strong><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_cmdparmname808928564213919">source</span></strong> { <i><span class="varname" id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_varname502480156213919">source-ip-address</span></i> { <i><span class="varname" id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_varname367199428213919">source-wildcard</span></i> | <strong><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_cmdparmname222848470213919">0</span></strong> } | <strong><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_cmdparmname2093839927213919">any</span></strong> } ] <sup id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_en-us_task_0172336153_sup1429493647213919">*</sup></span> command to configure a rule for the advanced ACL.</span><p><p id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_p1244019897214040">In the <a href="cmdqueryname=rule"><b><span class="cmdname" id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_cmdname1411904978214040">rule</span></b></a> command, the <strong><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_cmdparmname165342351747">source</span></strong> parameter is used to specify a multicast source address, and the <strong><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_cmdparmname16534135348">destination</span></strong> parameter is used to specify a multicast group address.</p>
</p></li><li id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_step604031996214040"><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_cmd810557403214040">Run the <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_cmdname2048031578214040">quit</span></b></a> command to return to the system view.</span></li><li id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_step930053733214040"><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_cmd2027107665214040">Run the <a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_cmdname1606452465214040">interface</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_varname1898519435519">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_varname18986164313519">interface-number</span></i> command to enter the interface view.</span></li><li id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_step312335602214040"><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_cmd974429546214040">Run the <a href="cmdqueryname=pim+source-proxy+enable"><b><span class="cmdname" id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_cmdname11341121320333">pim source-proxy enable</span></b></a> [ <strong><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_cmdparmname193711255331">policy</span></strong> { <i><span class="varname" id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_varname199335911550">advanced-acl-number</span></i> | <strong><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_cmdparmname16683143714338">acl-name</span></strong> <i><span class="varname" id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_varname540692425510">acl-name</span></i> } ] command to configure multicast source proxy.</span><p><div class="note" id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_note1061687554214040"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_ul341097155214040"><li id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_li667065840214040">If no ACL is configured, multicast source proxy is enabled for all multicast entries.</li><li id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_li2058364114214040">If an ACL is configured, the device filters multicast entries based on rules of the ACL and enables multicast source proxy accordingly.<ul id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_ul1608096072214040"><li id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_li928988128214040">If a multicast entry matches a rule of the ACL and the action is <strong id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_b1220588051214040">permit</strong>, multicast source proxy is enabled for the multicast entry.</li><li id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_li1321423668214040">If a multicast entry matches a rule of the ACL and the action is <strong id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_b4209234121317">deny</strong>, multicast source proxy is not enabled for the multicast entry.</li><li id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_li300563099214040">If a multicast entry does not match any rule of the ACL, multicast source proxy is not enabled for the multicast entry.</li></ul>
</li></ul>
</div></div>
</p></li><li id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_step1885090873214040"><span id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_cmd896058320214040">Run the <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001362996898__en-us_task_0000001413234173_cmdname988017417214040">commit</span></b></a> command to commit the configuration.</span></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_0023.html">Configuring PIM-SSM
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2184b.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_0025.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>