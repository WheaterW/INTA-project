
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Setting the Range of Valid C-RP Addresses">
<meta name="abstract" content="The range of valid Candidate-Rendezvous Point (C-RP) addresses and range of IPv6 multicast groups that each C-RP serves can be configured to filter packets on all Candidate-BootStrap Routers (C-BSRs) by using an IPv6 ACL. The BSR adds the C-RP information contained in an Advertisement message received from a C-RP to the RP-Set only when the address of the C-RP and IPv6 multicast groups that the C-RP serves are within the configured ranges respectively. This prevents C-RP spoofing.">
<meta name="description" content="The range of valid Candidate-Rendezvous Point (C-RP) addresses and range of IPv6 multicast groups that each C-RP serves can be configured to filter packets on all Candidate-BootStrap Routers (C-BSRs) by using an IPv6 ACL. The BSR adds the C-RP information contained in an Advertisement message received from a C-RP to the RP-Set only when the address of the C-RP and IPv6 multicast groups that the C-RP serves are within the configured ranges respectively. This prevents C-RP spoofing.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2016.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2017.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2019.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPv6 PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv6 PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IPv6 PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IPv6 PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172367472">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Setting the Range of Valid C-RP Addresses</title>
</head>
<body><a name="EN-US_TASK_0172367472"></a><a name="EN-US_TASK_0172367472"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Setting the Range of Valid C-RP Addresses</h1>
<div class="taskbody"><p>The range of valid Candidate-Rendezvous Point (C-RP) addresses and range of IPv6 multicast groups that each C-RP serves can be configured to filter packets on all Candidate-BootStrap Routers (C-BSRs) by using an IPv6 ACL. The BSR adds the C-RP information contained in an Advertisement message received from a C-RP to the RP-Set only when the address of the C-RP and IPv6 multicast groups that the C-RP serves are within the configured ranges respectively. This prevents C-RP spoofing.</p>
<div class="steps"><a name="EN-US_TASK_0172367472__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><span><a href="cmdqueryname=acl+ipv6"><b><span class="cmdname">acl ipv6</span></b></a> { <strong><span>name</span></strong> <i><span class="varname">advance-acl6-name</span></i> [ <strong><span>advance</span></strong> | [ <strong><span>advance</span></strong> ] <strong><span>number</span></strong> <i><span class="varname">advance-acl6-number</span></i> ] | [ <strong><span>number</span></strong> ] <i><span class="varname">advance-acl6-number</span></i> } [ <strong><span>match-order</span></strong> { <strong><span>config</span></strong> | <strong><span>auto</span></strong> } ]</span></span></span><p><p>An advanced ACL6 is created, and the advanced ACL6 view is displayed.</p>
</p></li><li><span>Run <span><span><a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a> [ <i><span class="varname">rule-id</span></i> ] [ <strong><span>name</span></strong> <i><span class="varname">rule-name</span></i> ] { <strong><span>deny</span></strong> | <strong><span>permit</span></strong> } <strong><span>ipv6</span></strong> [ <strong><span>destination</span></strong> { <i><span class="varname">destination-ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> | <i><span class="varname">destination-ipv6-address</span></i>/<i><span class="varname">prefix-length</span></i> | <strong><span>any</span></strong> } | <strong><span>source</span></strong> { <i><span class="varname">source-ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> | <i><span class="varname">source-ipv6-address</span></i>/<i><span class="varname">prefix-length</span></i> | <strong><span>any</span></strong> } ] <sup>*</sup></span></span></span><p><p>Rules are configured for the advanced ACL6.</p>
</p><p><p>Run the <a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a> command, set the <strong><span>source</span></strong> parameter to a valid C-RP source address range, and set the <strong><span>destination</span></strong> parameter to a multicast group address range to be served by C-RPs.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span></span><p><p>Return to the system view.</p>
</p></li><li><span>Run <a href="cmdqueryname=pim-ipv6"><b><span class="cmdname">pim-ipv6</span></b></a></span><p><p>The IPv6 PIM view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=crp-policy"><b><span class="cmdname">crp-policy</span></b></a></span> { <i><span class="varname">advanced-acl6-number</span></i> | <strong><span>acl6-name</span></strong> <i><span class="varname">acl6-name</span></i> }</span><p><p>The range of valid C-RP addresses and the range of IPv6 multicast groups that a C-RP serves are set.</p>
</p><p><ul><li><p>If the C-RP address or the address of a multicast group that a C-RP serves contained in an Advertisement message is not within the range defined by an IPv6 ACL or no action is defined in the IPv6 ACL for processing such an Advertisement message, the BSR discards the Advertisement message and does not add the C-RP information carried by the Advertisement message to the RP-Set.</p>
</li><li><p>If only <i><span class="varname">advanced-acl6-number</span></i> or <strong><span>acl6-name</span></strong> <i><span class="varname">acl6-name</span></i> is set but no ACL6 is set, the BSR denies all Advertisement messages, and all RP information cannot be added to the RP-set.</p>
</li></ul>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>If an Advertisement message from a C-RP matches an ACL rule and the action is <strong>permit</strong>, the BSR permits this message.</li><li>If an Advertisement message from a C-RP matches an ACL rule and the action is <strong>deny</strong>, the BSR denies this message.</li><li>If an Advertisement message from a C-RP does not match any ACL rule, the BSR denies this message.</li><li>If a specified ACL does not exist or does not contain rules, the BSR denies all messages from any C-RP.</li></ul>
</div></div>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2016.html">Adjusting BSR RP Parameters (IPv6)
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2017.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2019.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>