
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring Rapid Group Member Information Update">
<meta name="abstract" content="Rapid group member information update can be configured to enable devices to quickly update Layer 2 multicast entries generated based on Report/Leave messages received from group members, improving the multicast data forwarding efficiency.">
<meta name="description" content="Rapid group member information update can be configured to enable devices to quickly update Layer 2 multicast entries generated based on Report/Leave messages received from group members, improving the multicast data forwarding efficiency.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0004.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0006.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00800033,l2multicastvrp,c00549182,w00556928,w00437000,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172367841">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>(Optional) Configuring Rapid Group Member Information Update</title>
</head>
<body><a name="EN-US_TASK_0172367841"></a><a name="EN-US_TASK_0172367841"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring Rapid Group Member Information Update</h1>
<div class="taskbody"><p>Rapid group member information update can be configured to enable devices to quickly update Layer 2 multicast entries generated based on Report/Leave messages received from group members, improving the multicast data forwarding efficiency.</p>
<div class="context"><a name="EN-US_TASK_0172367841__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>After rapid group member information update is configured on a device, the device can quickly respond to a received a Join or Leave message, improving the multicast service operating efficiency and user experience.</p>
<ul><li><p>Setting the aging time for group members: After receiving a Report/Leave message for a multicast group, the device creates a multicast forwarding entry. The entry ages after a period of time. The aging time of entries should be properly set so that the device can update Layer 2 multicast entries in time. This improves system performance.</p>
</li><li><p>Prompt Join: After the prompt join function is enabled on a device, the device applies for resources for multicast groups in advance. When the device receives an IGMP Report message for a multicast group, it can immediately forward multicast data for the multicast group, improving the speed at which hosts join the multicast group and shortening the delay for the device to respond to the Report message.</p>
</li><li><p>Prompt leave: If a device with prompt leave enabled receives an IGMP Leave message from a member port, the device immediately deletes the entry corresponding to the port from the multicast forwarding table without waiting for a Report message within the age timer.</p>
<p>This function applies only to the scenario where IGMPv2 messages can be processed and each interface in a VLAN<span> or VSI</span> has only one receiver host.</p>
</li></ul>
<p>The preceding functions are optional and can be configured in any order. Configure one or more functions as required. Default settings are recommended.</p>
<p>Before configuring rapid group member information update, enable IGMP snooping both globally and in a VLAN<span> or VSI</span>.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172367841__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Perform either of the following operations based on the VLAN<span> or VPLS</span> networking:</span><p><ul><li>To enter the VLAN view, run the <a href="cmdqueryname=vlan"><b><span class="cmdname">vlan</span></b></a> <i><span class="varname">vlan-id</span></i> command.</li><li>To enter the VSI view, run the <a href="cmdqueryname=vsi"><b><span class="cmdname">vsi</span></b></a> <i><span class="varname">vsi-name</span></i> [ <strong><span>static</span></strong> ] command.</li></ul>
</p></li><li><span>Configure rapid member information update to improve multicast data forwarding efficiency. The following configurations are parallel. You can configure one or more items as required. For details, see <a href="#EN-US_TASK_0172367841__tab_dc_vrp_l2mc_cfg_000501">Table 1</a>.</span><p>
<div class="tableBorder"><a name="EN-US_TASK_0172367841__tab_dc_vrp_l2mc_cfg_000501"></a><a name="tab_dc_vrp_l2mc_cfg_000501"></a><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_TASK_0172367841__tab_dc_vrp_l2mc_cfg_000501" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Rapid group member update</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="11.17%" id="mcps1.4.2.3.2.1.2.4.1.1" liSelected="liSelected"><p>Function</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="53.68000000000001%" id="mcps1.4.2.3.2.1.2.4.1.2" liSelected="liSelected"><p>Configuration Procedure</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="35.15%" id="mcps1.4.2.3.2.1.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="11.17%" headers="mcps1.4.2.3.2.1.2.4.1.1 "><p>Dynamic member aging time</p>
</td>
<td class="cellrowborder" valign="top" width="53.68000000000001%" headers="mcps1.4.2.3.2.1.2.4.1.2 "><div class="p"><ul><li>Run the <span><a href="cmdqueryname=igmp-snooping+query-interval"><b><span class="cmdname">igmp-snooping query-interval</span></b></a></span> <i><span class="varname">query-interval</span></i> command to set an interval at which a querier sends General Query messages.</li><li>Run the <span><a href="cmdqueryname=igmp-snooping+robust-count"><b><span class="cmdname">igmp-snooping robust-count</span></b></a></span> <i><span class="varname">robust-count</span></i> command to set the number of Group-specific Query messages that a querier sends.</li><li>Run the <span><a href="cmdqueryname=igmp-snooping+max-response-time"><b><span class="cmdname">igmp-snooping max-response-time</span></b></a></span> <i><span class="varname">max-response-time</span></i> command to set the maximum time for a querier to wait for a response from downstream hosts.</li><li>Run the <span><a href="cmdqueryname=igmp-snooping+lastmember-queryinterval"><b><span class="cmdname">igmp-snooping lastmember-queryinterval</span></b></a></span> <i><span class="varname">lastmember-queryinterval</span></i> command to set an interval at which a querier sends Group-specific Query messages.</li></ul>
</div>
</td>
<td class="cellrowborder" valign="top" width="35.15%" headers="mcps1.4.2.3.2.1.2.4.1.3 "><ul><li><p>After receiving a Report message from a downstream host, the device sets the dynamic member aging time based on following formula: Dynamic member aging time = <i><span class="varname">robust-count</span></i> x <i><span class="varname">query-interval</span></i> + <i><span class="varname">max-response-time</span></i>. </p>
</li><li>When receiving a Leave message from a downstream host, an interface calculates the member aging time based on the following formula: <i><span class="varname">robust-count</span></i> x <i><span class="varname">lastmember-queryinterval</span></i>. An IGMPv1 host does not send a Leave message when leaving a multicast group. Therefore, this configuration is valid only when IGMPv2 messages can be processed in the VLAN<span> or VSI</span>.</li><li>If the querier receives a Report message within a period (<i><span class="varname">robust-count</span></i> Ã <i><span class="varname">lastmember-queryinterval</span></i>), it continues to maintain the memberships for the group. Otherwise, the querier considers that there is no member of the group left and no longer maintains the memberships for the group.</li></ul>
<p>The aging time of multicast group members on the Layer 2 device must be the same as that on the upstream Layer 3 device. Otherwise, multicast data transmission between the Layer 2 and Layer 3 networks is affected.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="11.17%" headers="mcps1.4.2.3.2.1.2.4.1.1 "><p>Prompt join</p>
</td>
<td class="cellrowborder" valign="top" width="53.68000000000001%" headers="mcps1.4.2.3.2.1.2.4.1.2 "><p>Run the <a href="cmdqueryname=l2-multicast+fast-channel"><b><span class="cmdname">l2-multicast fast-channel</span></b></a> [ <strong><span>source-address</span></strong> <i><span class="varname">source-address</span></i> { <i><span class="varname">mask</span></i> | <i><span class="varname">mask-length</span></i> } ] <strong><span>group-address</span></strong> <i><span class="varname">group-address</span></i> { <i><span class="varname">mask</span></i> | <i><span class="varname">mask-length</span></i> } command to configure prompt join.</p>
</td>
<td class="cellrowborder" valign="top" width="35.15%" headers="mcps1.4.2.3.2.1.2.4.1.3 "><p>After prompt join is configured, the device will reserve system resources for a specific multicast group. As a result, if there is no member of this multicast group, system performance will be affected.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="11.17%" headers="mcps1.4.2.3.2.1.2.4.1.1 "><p>Prompt leave</p>
</td>
<td class="cellrowborder" valign="top" width="53.68000000000001%" headers="mcps1.4.2.3.2.1.2.4.1.2 "><p>Run the <span><a href="cmdqueryname=igmp-snooping+prompt-leave"><b><span class="cmdname">igmp-snooping prompt-leave</span></b></a></span> [ <strong><span>group-policy</span></strong> { <i><span class="varname">acl-number</span></i> | <strong><span>acl-name</span></strong> <i><span class="varname">acl-name</span></i> } ] command to configure prompt leave for member ports in the VLAN<span> or VSI</span>. By default, no member port is allowed to promptly leave a multicast group.</p>
</td>
<td class="cellrowborder" valign="top" width="35.15%" headers="mcps1.4.2.3.2.1.2.4.1.3 "><p><strong><span>group-policy</span></strong> <i><span class="varname">acl-number</span></i> or <strong><span>group-policy</span></strong> <strong><span>acl-name</span></strong> <i><span class="varname">acl-name</span></i> sets the range of multicast groups that member ports are allowed to promptly leave. If <strong><span>group-policy</span></strong> <i><span class="varname">acl-number</span></i> or <strong><span>group-policy</span></strong> <strong><span>acl-name</span></strong> <i><span class="varname">acl-name</span></i> is set and a Leave message is received from a member port in the VLAN<span> or VSI</span>, the multicast entry corresponding to the member port is deleted.</p>
<p>Before setting <i><span class="varname">acl-number</span></i> or <strong><span>acl-name</span></strong> <i><span class="varname">acl-name</span></i>, configure an ACL to be referenced so that Leave messages are filtered based on the ACL in the VLAN<span> or VSI</span>.</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0001.html">Configuring IGMP Snooping
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0004.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0006.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>