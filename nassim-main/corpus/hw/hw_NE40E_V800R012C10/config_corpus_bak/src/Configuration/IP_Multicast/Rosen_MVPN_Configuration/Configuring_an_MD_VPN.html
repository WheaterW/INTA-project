
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an MD VPN">
<meta name="abstract" content="A router uses multicast domain (MD) to implement multicast VPN in Any-Source Multicast (ASM) mode, and in this situation multicast data of private networks can be transmitted over public networks.">
<meta name="description" content="A router uses multicast domain (MD) to implement multicast VPN in Any-Source Multicast (ASM) mode, and in this situation multicast data of private networks can be transmitted over public networks.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2117.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/spec/Rosen_MVPN_limitation.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2274.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_mcast_cfg_2001.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2123.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2124.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2125.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2126.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2127.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPv4 Multicast VPN_Rosen">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv4 Multicast VPN_Rosen">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IPv4 Multicast VPN_Rosen">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001270432613">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring an MD VPN</title>
</head>
<body><a name="EN-US_TASK_0000001270432613"></a><a name="EN-US_TASK_0000001270432613"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an MD VPN</h1>
<div class="taskbody"><p>A <span class="keyword">router</span> uses multicast domain (MD) to implement multicast VPN in Any-Source Multicast (ASM) mode, and in this situation multicast data of private networks can be transmitted over public networks.</p>
<div class="context"><a name="EN-US_TASK_0000001270432613__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>MD VPN only supports IP multicast in ASM mode on the public network. PIM tunnels are set up on the public network to transmit multicast data between sites in a VPN.</p>
<p>Before transmitting multicast data in a VPN, ensure that this VPN functions properly. To allow a PE to receive data from multiple VPNs, configure a public network instance and multiple VPN instances on the PE. The public network instance is responsible for the communication with the P, and the VPN instances are responsible for the communication with their connected Customer Edges (CEs).</p>
<p>A share-MDT needs to be set up to forward multicast packets in an MD VPN. Or, a special switch-multicast distribution tree (MDT) can be set up to switch multicast data of private networks flowing to the public network from the share-MDT to the switch-MDT for transmission. Multicast data can therefore be transmitted on demand, and the pressure on Provider Edges (PEs) is reduced.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001270432613__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring an MD VPN, complete the following tasks:</p>
<ul><li><p>Configure a unicast routing protocol to ensure that unicast routes are reachable.</p>
</li><li><p>Configure BGP/MPLS VPN.</p>
</li><li><p>Configure multicast on the public network.</p>
</li></ul>
</div></div>
</div>

<ul class="ullinks">
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_mcast_cfg_2001.html">(Optional) Enabling IP Multicast VPN</a>
</dt>
<dd>
Specifying a board for centralized multicast VPN service processing is a prerequisite for implementing centralized multicast VPN.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2123.html">Enabling IP Multicast Routing</a>
</dt>
<dd>
Enabling IP multicast routing for the public network instance and VPN instance is the first step in configuring multicast VPNs.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2124.html">Configuring a Share-Group and Binding it to an MTI</a>
</dt>
<dd>
After configuring an IPv4 multicast VPN, configure a Share-Group address and a multicast tunnel interface (MTI) to be bound to the VPN instance.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2125.html">Configuring an MTI</a>
</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2126.html">(Optional) Configuring a Switch-MDT</a>
</dt>
<dd>
A switch-multicast distribution tree (MDT) is set up for multicast traffic flowing from a private network to the public network. Multicast packets can be switched from the share-MDT to the switch-MDT. This reduces the pressure on PEs and bandwidth consumption and allows multicast data to be transmitted on demand.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2127.html">Verifying the MD VPN Configuration</a>
</dt>
<dd>
After configuring a multicast domain (MD) VPN, verify the Share-Group and multicast tunnel interface (MTI) information about a specified VPN instance.</dd>
</dl>
</ul>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2117.html">Rosen MVPN Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/spec/Rosen_MVPN_limitation.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2274.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>