
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring Rapid Multicast Data Forwarding on a Backup Device">
<meta name="abstract" content="In a VPLS network, you can configure a backup device to quickly switch and forward multicast data traffic in the event of a master link or device failure.">
<meta name="description" content="In a VPLS network, you can configure a backup device to quickly switch and forward multicast data traffic in the event of a master link or device failure.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0008.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0009.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00800033,l2multicastvrp,c00549182,w00556928,w00437000,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172367845">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring Rapid Multicast Data Forwarding on a Backup Device</title>
</head>
<body><a name="EN-US_TASK_0172367845"></a><a name="EN-US_TASK_0172367845"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring Rapid Multicast Data Forwarding on a Backup Device</h1>
<div class="taskbody"><p>In a VPLS network, you can configure a backup device to quickly switch and forward multicast data traffic in the event of a master link or device failure.</p>
<div class="context"><a name="EN-US_TASK_0172367845__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>As the Internet grows, more and more data, voice, and video information is exchanged across networks. These kinds of information are transmitted in multicast mode. In multicast mode, master and backup links and devices are deployed to ensure uninterrupted service transmission on a network.</p>
<p>On the network shown in <a href="#EN-US_TASK_0172367845__fig_dc_vrp_l2mc_cfg_006401">Figure 1</a>, the UPE is dual-homed to SPE1 and SPE2 through a VPLS network. SPE1 functions as the master device, and SPE2 as the backup device. The status of the PWs between the UPE and the SPEs is as follows:</p>
<ul><li>The PW between SPE1 and the UPE is the master PW, responsible for forwarding multicast protocol and data packets.</li><li>The PW between SPE2 and the UPE is the backup PW, and is blocked from forwarding multicast protocol and data packets since it has not learned any multicast forwarding entries.</li></ul>
<div class="fignone" id="EN-US_TASK_0172367845__fig_dc_vrp_l2mc_cfg_006401"><a name="EN-US_TASK_0172367845__fig_dc_vrp_l2mc_cfg_006401"></a><a name="fig_dc_vrp_l2mc_cfg_006401"></a><span class="figcap"><b>Figure 1 </b>Rapid multicast data forwarding on a backup device</span><br><span><img class="vsd" src="images/fig_dc_vrp_l2mc_cfg_006401.png"></span></div>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The UPE, SPE1 and SPE2 in the figure needs to be deployed with Rapid Multicast Data Forwarding on a Backup Device.</p>
</div></div>
<p>If the master link or device fails, the backup device cannot forward multicast data traffic immediately because it does not have a multicast forwarding table, resulting in a significant service interruption.</p>
<p>To enable the rapid switchover of multicast traffic to a backup link or device, configure the backup device (SPE2) to forward multicast protocol packets so SPE2 can also learn the Layer 2 multicast forwarding entries. If master PW fails and the backup PW becomes the master, it can immediately forward multicast protocol packets to ensure uninterrupted service transmission.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172367845__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=vsi"><b><span class="cmdname">vsi</span></b></a> <i><span class="varname">vsi-name</span></i></span></span><p><p>The VSI view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=igmp-snooping+enable"><b><span class="cmdname">igmp-snooping enable</span></b></a></span></span><p><p>The IGMP snooping function is enabled in the VSI view.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=l2-multicast+backup-query+forward"><b><span class="cmdname">l2-multicast backup-query forward</span></b></a> [ <strong><span>source-mac-replace</span></strong> ]</span></span><p><p>The backup device is configured to forward IGMP Query messages along the backup link.</p>
<p>If <strong><span>source-mac-replace</span></strong> is set, the backup device replaces the source MAC addresses of IGMP Query messages with its own MAC address.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=l2-multicast+backup-report+forward"><b><span class="cmdname">l2-multicast backup-report forward</span></b></a> [ <strong><span>source-mac-replace</span></strong> ]</span></span><p><p>The backup device is configured to receive IGMP Report/Leave messages along the backup link.</p>
<p>If <strong><span>source-mac-replace</span></strong> is specified, the backup device replaces the source MAC addresses of IGMP Report/Leave messages with its own MAC address.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0001.html">Configuring IGMP Snooping
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0008.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0009.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>