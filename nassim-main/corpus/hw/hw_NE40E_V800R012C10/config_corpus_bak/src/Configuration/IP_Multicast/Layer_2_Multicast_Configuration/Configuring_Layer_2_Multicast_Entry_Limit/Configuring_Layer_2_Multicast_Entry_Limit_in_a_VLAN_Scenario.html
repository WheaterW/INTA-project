
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Layer 2 Multicast Entry Limit in a VLAN Scenario">
<meta name="abstract" content="To limit the number of multicast groups in a VLAN scenario, configure Layer 2 multicast entry limit.">
<meta name="description" content="To limit the number of multicast groups in a VLAN scenario, configure Layer 2 multicast entry limit.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0053.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0054.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00800033,l2multicastvrp,c00549182,w00556928,w00437000,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172367893">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Configuring Layer 2 Multicast Entry Limit in a VLAN Scenario</title>
</head>
<body><a name="EN-US_TASK_0172367893"></a><a name="EN-US_TASK_0172367893"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Layer 2 Multicast Entry Limit in a VLAN Scenario</h1>
<div class="taskbody"><p>To limit the number of multicast groups in a VLAN scenario, configure Layer 2 multicast entry limit.</p>
<div class="context"><a name="EN-US_TASK_0172367893__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p">On the network shown in <a href="#EN-US_TASK_0172367893__fig_dc_vrp_l2mc_cfg_005701">Figure 1</a>, PE1 is downlinked to a residential network VLAN 20 and uplinked to PE2 through an MPLS or a VPLS network to access the IPTV server. To save link bandwidth between PE1 and the residential network and ensure good subscribers' image experience, configure Layer 2 multicast entry limit for the VLAN on PE1. If some service providers group all the programs into one or more VLAN channels, Layer 2 multicast entry limit can also be configured to limit the multicast group number for each channel. In a VLAN scenario, Layer 2 multicast entry limit can be configured for a VLAN, GE <span>0/1/1</span>, or a VLAN channel.<div class="fignone" id="EN-US_TASK_0172367893__fig_dc_vrp_l2mc_cfg_005701"><a name="EN-US_TASK_0172367893__fig_dc_vrp_l2mc_cfg_005701"></a><a name="fig_dc_vrp_l2mc_cfg_005701"></a><span class="figcap"><b>Figure 1 </b>Configuring Layer 2 multicast entry limit in a VLAN scenario</span><br><span><img class="vsd" src="images/fig_dc_vrp_l2mc_cfg_005701.png" width="NaN" height="NaN"></span><br></div>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>On this network, PE1 is a Layer 2 device in a VLAN scenario. Configure Layer 2 multicast entry limit on PE1.</p>
<p>Layer 2 multicast entry limit cannot be performed for a protection VLAN.</p>
</div></div>
</div>
<p>Layer 2 multicast entry limit can be configured for a VLAN, an interface, or a VLAN on a specified interface. Perform the following configurations as needed.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172367893__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>On PE1, configure Layer 2 multicast entry limit for a VLAN, an interface, or a VLAN on a specified interface.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>According to different restriction granularities, single-granularity or integrated deployment of the restriction on the number of channels may be implemented. The following configurations are parallel. You can configure one or more items as required. For details, see <a href="#EN-US_TASK_0172367893__tb_01">Table 1</a>.</span><p>
<div class="tableBorder"><a name="EN-US_TASK_0172367893__tb_01"></a><a name="tb_01"></a><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_TASK_0172367893__tb_01" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Configuring Layer 2 multicast entry limit based on different criteria</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="16.5%" id="mcps1.4.2.1.2.2.2.1.2.3.1.1" liSelected="liSelected"><p>Criteria</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="83.5%" id="mcps1.4.2.1.2.2.2.1.2.3.1.2" liSelected="liSelected"><p>Multicast Group Number Limit</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="16.5%" headers="mcps1.4.2.1.2.2.2.1.2.3.1.1 "><p>VLAN</p>
</td>
<td class="cellrowborder" valign="top" width="83.5%" headers="mcps1.4.2.1.2.2.2.1.2.3.1.2 "><ol type="a"><li><p>Run the <a href="cmdqueryname=l2-multicast+limit+max-entry"><b><span class="cmdname">l2-multicast limit max-entry</span></b></a> <i><span class="varname">count</span></i> <strong><span>vlan</span></strong> { <i><span class="varname">vlan-id1</span></i> [ <strong><span>to</span></strong> <i><span class="varname">vlan-id2</span></i> ] } &amp;&lt;1-10&gt; [ <strong><span>except</span></strong> { <i><span class="varname">acl-number</span></i> | <strong><span>acl-name</span></strong> <i><span class="varname">acl-name</span></i> } ] command to configure a multicast group number limit for a VLAN.</p>
<p><strong><span>except</span></strong> { <i><span class="varname">acl-number</span></i> | <strong><span>acl-name</span></strong> <i><span class="varname">acl-name</span></i> } is used to prevent groups from being counted against the limit. The ACL specified in this command must have been configured.</p>
</li></ol>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="16.5%" headers="mcps1.4.2.1.2.2.2.1.2.3.1.1 "><p>Interface</p>
</td>
<td class="cellrowborder" valign="top" width="83.5%" headers="mcps1.4.2.1.2.2.2.1.2.3.1.2 "><ol type="a"><li>Run the <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> command to enter the view of an Ethernet, a GE, or an Eth-Trunk interface.</li><li>Run the <a href="cmdqueryname=portswitch"><b><span class="cmdname">portswitch</span></b></a> command to switch the interface to a Layer 2 interface.</li><li><p>Run the <a href="cmdqueryname=l2-multicast+limit+max-entry"><b><span class="cmdname">l2-multicast limit max-entry</span></b></a> <i><span class="varname">count</span></i> [ <strong><span>except</span></strong>  { <i><span class="varname">acl-number</span></i> | <strong><span>acl-name</span></strong> <i><span class="varname">acl-name</span></i> } ] command to configure a multicast group number limit for the interface.</p>
<p><strong><span>except</span></strong> { <i><span class="varname">acl-number</span></i> | <strong><span>acl-name</span></strong> <i><span class="varname">acl-name</span></i> } is used to prevent groups from being counted against the limit. The ACL specified in this command must have been configured.</p>
</li></ol>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="16.5%" headers="mcps1.4.2.1.2.2.2.1.2.3.1.1 "><p>Interface + VLAN</p>
</td>
<td class="cellrowborder" valign="top" width="83.5%" headers="mcps1.4.2.1.2.2.2.1.2.3.1.2 "><ol type="a"><li>Run the <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> command to enter the view of an Ethernet, a GE, or an Eth-Trunk interface.</li><li>Run the <a href="cmdqueryname=portswitch"><b><span class="cmdname">portswitch</span></b></a> command to switch the interface to a Layer 2 interface.</li><li><p>Run the <a href="cmdqueryname=l2-multicast+limit+max-entry"><b><span class="cmdname">l2-multicast limit max-entry</span></b></a> <i><span class="varname">count</span></i> [ <strong><span>vlan</span></strong> { { <i><span class="varname">vlan-id1</span></i> [ <strong><span>to</span></strong> <i><span class="varname">vlan-id2</span></i> ] } &amp;&lt;1-10&gt; } ] [ <strong><span>except</span></strong>  { <i><span class="varname">acl-number</span></i> | <strong><span>acl-name</span></strong> <i><span class="varname">acl-name</span></i> } ] command to configure a multicast group number limit for a specified VLAN on the interface.</p>
<p><strong><span>except</span></strong> { <i><span class="varname">acl-number</span></i> | <strong><span>acl-name</span></strong> <i><span class="varname">acl-name</span></i> } is used to prevent groups from being counted against the limit. The ACL specified in this command must have been configured.</p>
</li></ol>
</td>
</tr>
</tbody>
</table>
</div>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0053.html">Configuring Layer 2 Multicast Entry Limit
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0054.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>