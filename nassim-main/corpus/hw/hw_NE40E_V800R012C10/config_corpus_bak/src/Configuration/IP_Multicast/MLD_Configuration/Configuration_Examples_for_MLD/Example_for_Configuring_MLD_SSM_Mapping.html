
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring MLD SSM Mapping">
<meta name="abstract" content="If a host's MLD version is MLDv1 and cannot be upgraded to MLDv2, configure Source-Specific Multicast (SSM) mapping on the IPv6 multicast network to implement version compatibility between a multicast device (running a later MLD version) and user hosts (running an earlier MLD version) and enable the multicast device to provide SSM services for the user hosts. The user hosts can then receive IPv6 multicast data from a specified source.">
<meta name="description" content="If a host's MLD version is MLDv1 and cannot be upgraded to MLDv2, configure Source-Specific Multicast (SSM) mapping on the IPv6 multicast network to implement version compatibility between a multicast device (running a later MLD version) and user hosts (running an earlier MLD version) and enable the multicast device to provide SSM services for the user hosts. The user hosts can then receive IPv6 multicast data from a specified source.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2093.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2094.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mld_cfg_2250.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MLD">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MLD">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="MLD">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="MLD">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172367450">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Example for Configuring MLD SSM Mapping</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0172367450"></a><a name="EN-US_TASK_0172367450"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring MLD SSM Mapping</h1>
<div class="taskbody"><p>If a host's MLD version is MLDv1 and cannot be upgraded to MLDv2, configure Source-Specific Multicast (SSM) mapping on the IPv6 multicast network to implement version compatibility between a multicast device (running a later MLD version) and user hosts (running an earlier MLD version) and enable the multicast device to provide SSM services for the user hosts. The user hosts can then receive IPv6 multicast data from a specified source.</p>
<div class="context"><a name="EN-US_TASK_0172367450__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>On the IPv6 multicast network shown in <a href="#EN-US_TASK_0172367450__fig_dc_vrp_multicast_cfg_209501">Figure 1</a>, PIM-SM is run and the SSM mode is configured. MLDv2 is run on the interface connecting the <span class="keyword">Router</span> to the receiver and MLDv1 is run on the receiver. The MLD version on the receiver is unable to be upgraded to MLDv2.</p>
<p>The SSM group address range is set to FF31::/32, and Sources 1, 2, and 3 all send IPv6 multicast data to multicast groups in this range. The receiver requires IPv6 multicast data only from Sources 1 and 3. To meet this requirement, configure MLD SSM mapping.</p>
<div class="fignone" id="EN-US_TASK_0172367450__fig_dc_vrp_multicast_cfg_209501"><a name="EN-US_TASK_0172367450__fig_dc_vrp_multicast_cfg_209501"></a><a name="fig_dc_vrp_multicast_cfg_209501"></a><span class="figcap"><b>Figure 1 </b>Configuring MLD SSM mapping</span><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Interfaces 1 through 3 in this example represent GE <span>0/1/0</span>, GE <span>0/2/0</span>, and GE<span>0/3/0</span>, respectively.</p>
</div></div>
<br><span><img class="vsd" src="images/fig_dc_vrp_multicast_cfg_209501.png"></span></div>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" frame="border" border="1" rules="all"><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.4.1.5.1.4.1.1" liSelected="liSelected"><p>Device</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.4.1.5.1.4.1.2" liSelected="liSelected"><p>Interface</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.4.1.5.1.4.1.3" liSelected="liSelected"><p>IP Address</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" rowspan="3" valign="top" width="33.33333333333333%" headers="mcps1.4.1.5.1.4.1.1 "><p><span class="keyword">Device</span> A</p>
<p></p>
<p></p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.1.5.1.4.1.2 "><p>GE<span>0/1/0</span></p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.1.5.1.4.1.3 "><p>2001:db8:5::2/64</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.2 "><p>GE<span>0/2/0</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.3 "><p>2001:db8:1::1/64</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.2 "><p>GE<span>0/3/0</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.3 "><p>2001:db8:3::1/64</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="3" valign="top" width="33.33333333333333%" headers="mcps1.4.1.5.1.4.1.1 "><p><span class="keyword">Device</span>B</p>
<p></p>
<p></p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.1.5.1.4.1.2 "><p>GE<span>0/1/0</span></p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.1.5.1.4.1.3 "><p>2001:db8:6::2/64</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.2 "><p>GE<span>0/2/0</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.3 "><p>2001:db8:1::2/64</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.2 "><p>GE<span>0/3/0</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.3 "><p>2001:db8:2::1/64</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="3" valign="top" width="33.33333333333333%" headers="mcps1.4.1.5.1.4.1.1 "><p><span class="keyword">Device</span>C</p>
<p></p>
<p></p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.1.5.1.4.1.2 "><p>GE<span>0/1/0</span></p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.1.5.1.4.1.3 "><p>2001:db8:7::2/64</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.2 "><p>GE<span>0/2/0</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.3 "><p>2001:db8:4::1/64</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.2 "><p>GE<span>0/3/0</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.3 "><p>2001:db8:2::2/64</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="3" valign="top" width="33.33333333333333%" headers="mcps1.4.1.5.1.4.1.1 "><p><span class="keyword">Device</span>D</p>
<p></p>
<p></p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.1.5.1.4.1.2 "><p>GE<span>0/1/0</span></p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.1.5.1.4.1.3 "><p>2001:db8:8::2/64</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.2 "><p>GE<span>0/2/0</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.3 "><p>2001:db8:4::2/64</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.2 "><p>GE<span>0/3/0</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.3 "><p>2001:db8:3::2/64</p>
</td>
</tr>
</tbody>
</table>
</div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172367450__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Precautions</h4><p>When configuring MLD SSM mapping, note the following precautions:</p>
<ul><li><p>IPv6 PIM-SM must be enabled before MLD is enabled.</p>
</li><li><p>The SSM group address ranges set on all <span class="keyword">Router</span>s in the IPv6 PIM-SM domain must be identical.</p>
</li><li><p>To make SSM source-group address mapping entries take effect, you must enable SSM mapping first.</p>
</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0172367450__1.4.3"></a><a name="1.4.3"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><p>Configure SSM mapping on the <span class="keyword">Router</span> connected to hosts so that the multicast device running a later version can provide the SSM service for hosts running an earlier version.</p>
<ol><li><p>Configure an IPv6 address for each <span class="keyword">Router</span> interface and configure a unicast routing protocol.</p>
</li><li><p>Enable IPv6 multicast routing on all <span class="keyword">Router</span>s.</p>
</li><li><p>Enable IPv6 PIM-SM on all <span class="keyword">Router</span> interfaces.</p>
</li><li><p>Enable MLD and SSM mapping on interfaces connecting <span class="keyword">Router</span>s to receivers.</p>
</li><li><p>Set the SSM group address range on all <span class="keyword">Router</span>s in the IPv6 PIM-SM domain.</p>
</li><li><p>Configure SSM mapping rules on <span class="keyword">Router</span>s connected to receivers.</p>
</li></ol>
</div></div>
<div class="context"><a name="EN-US_TASK_0172367450__1.4.4"></a><a name="1.4.4"></a>
<div class="p"><h4 class="sectiontitle">Data Preparation</h4><p>To complete the configuration, you need the following data:</p>
<ul><li><p>SSM group address range</p>
</li><li><p>IPv6 addresses of Sources 1 and 3</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172367450__1.4.5"></a><a name="1.4.5"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure an IPv6 address for each <span class="keyword">Router</span> interface and a unicast routing protocol. For configuration details, see Configuration Files in this section.</span></li><li><span>Enable IPv6 multicast routing on each <span class="keyword">Router</span> and IPv6 PIM-SM on each <span class="keyword">Router</span> interface.</span><p><p># Configure <span class="keyword">Device</span> D. The configurations of <span class="keyword">Device</span> A, <span class="keyword">Device</span> B, and <span class="keyword">Device</span> C are similar to the configuration of <span class="keyword">Device</span> D. For configuration details, see Configuration Files in this section.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>D] <strong>multicast ipv6 routing-enable</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D] <strong>interface gigabitethernet <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-GigabitEthernet<span>0/1/0</span>] <strong>pim ipv6 sm</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-GigabitEthernet<span>0/1/0</span>] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D] <strong>interface gigabitethernet <span>0/2/0</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-GigabitEthernet<span>0/2/0</span>] <strong>pim ipv6 sm</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-GigabitEthernet<span>0/2/0</span>] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D] <strong>interface gigabitethernet <span>0/3/0</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-GigabitEthernet<span>0/3/0</span>] <strong>pim ipv6 sm</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-GigabitEthernet<span>0/3/0</span>] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>D-GigabitEthernet<span>0/3/0</span>] <strong>quit</strong></pre>
</p></li><li><span>Enable MLD and SSM mapping on the interface connecting the <span class="keyword">Router</span> to the receiver.</span><p><p># Enable MLD and SSM mapping on GE <span>0/1/0</span> of <span class="keyword">Device</span> D.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>D] <strong>interface gigabitethernet <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>D-GigabitEthernet<span>0/1/0</span>] <strong>mld enable</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-GigabitEthernet<span>0/1/0</span>] <strong>mld version 2</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-GigabitEthernet<span>0/1/0</span>] <strong>mld ssm-mapping enable</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-GigabitEthernet<span>0/1/0</span>] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>D-GigabitEthernet<span>0/1/0</span>] <strong>quit</strong></pre>
</p></li><li><span>Set an SSM group address range.</span><p><p># Set the SSM group address range to FF31::/32 on all <span class="keyword">Router</span>s. The configurations of <span class="keyword">Device</span> B, <span class="keyword">Device</span> C, and <span class="keyword">Device</span> D are similar to the configuration of <span class="keyword">Device</span> A. For configuration details, see <a href="#EN-US_TASK_0172367450__example10277366214043">Configuration Files</a> in this section.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>acl ipv6 number 2000</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-acl6-basic-2000] <strong>rule permit source ff31::/32</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-acl6-basic-2000] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A] <strong>pim-ipv6</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-pim6] <strong>ssm-policy 2000</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-pim6] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-pim6] <strong>quit</strong></pre>
</p></li><li><span>Configure SSM mapping rules on the <span class="keyword">Router</span> connected to the receiver.</span><p><p># On <span class="keyword">Device</span> D, map the multicast groups in the range of FF31::/32 to Sources 1 and 3.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>D] <strong>mld</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-mld] <strong>ssm-mapping ff31:: 32 2001:db8:5::1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-mld] <strong>ssm-mapping ff31:: 32 2001:db8:7::1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-mld] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>D-mld] <strong>quit</strong></pre>
</p></li><li><span>Verify the configuration.</span><p><p># View information about SSM mapping rules on <span class="keyword">Device</span> D.</p>
<pre class="screen">&lt;<span class="keyword">Device</span>D&gt; <strong>display mld ssm-mapping group</strong>
MLD SSM-Mapping conversion table of VPN-Instance: public net
 Total 2 entries, 2 entries matched

 00001. (2001:DB8:5::1, FF31::)

 00002. (2001:DB8:7::1, FF31::)</pre>
<p>The command output shows that the receiver joins group FF31::1. # Run the <strong>display mld group ssm-mapping</strong> command to view source-group information on <span class="keyword">Router</span> D. The command output is as follows:</p>
<pre class="screen">&lt;<span class="keyword">Device</span>D&gt; <strong>display mld group ssm-mapping</strong></pre>
<pre class="screen">MLD SSM mapping Interface group report information of VPN-Instance: public net</pre>
<pre class="screen"> GigabitEthernet<span>0/1/0</span> (2001:DB8:8::2):</pre>
<pre class="screen">  Total 1 MLD SSM-Mapping Group reported</pre>
<pre class="screen">   Group Address   Last Reporter   Uptime      Expires</pre>
<pre class="screen">   FF31::1         2001:DB8:8::1   00:01:44    00:00:26</pre>
<pre class="screen">&lt;<span class="keyword">Device</span>D&gt; <strong>display mld group ssm-mapping verbose</strong></pre>
<pre class="screen">Total entry on this router: 1
Interface group report information of VPN-Instance: public net
 GigabitEthernet<span>0/1/0</span>(FE80::DD:84):
  Total entry on this interface: 1
  Total 1 MLD SSM-Mapping Group reported
   Group: FF31::1
     Uptime: 00:00:13
     Expires: 00:04:07
     Last reporter: FE80::10
     Last-listener-query-counter: 0
     Last-listener-query-timer-expiry: off
     Group mode: exclude
     Version1-host-present-timer-expiry: 00:04:07</pre>
<p># Run the <strong>display pim ipv6 routing-table</strong> command to view information about the IPv6 PIM-SM routing table on <span class="keyword">Device</span> D. The command output is as follows:</p>
<pre class="screen">&lt;<span class="keyword">Device</span>D&gt; <strong>display pim ipv6 routing-table</strong></pre>
<pre class="screen">VPN-Instance: public net</pre>
<pre class="screen"> Total 0 (*, G) entry; 2 (S, G) entries</pre>
<pre class="screen"></pre>
<pre class="screen"> (2001:DB8:5::1, FF31::1)</pre>
<pre class="screen">     Protocol: pim-ssm, Flag:SG_RCVR</pre>
<pre class="screen">     UpTime: 00:11:25</pre>
<pre class="screen">     Upstream interface: GigabitEthernet<span>0/3/0</span>, Refresh time: 00:11:25</pre>
<pre class="screen">         Upstream neighbor: 2001:DB8:3::1</pre>
<pre class="screen">         RPF prime neighbor: 2001:DB8:3::1</pre>
<pre class="screen">     Downstream interface(s) information:</pre>
<pre class="screen">     Total number of downstreams: 1</pre>
<pre class="screen">         1: GigabitEthernet<span>0/1/0</span></pre>
<pre class="screen">             Protocol: mld, UpTime: 00:11:25, Expires:-</pre>
<pre class="screen"></pre>
<pre class="screen"> (2001:DB8:7::1, FF31::1)</pre>
<pre class="screen">     Protocol: pim-ssm, Flag:SG_RCVR</pre>
<pre class="screen">     UpTime: 00:11:25</pre>
<pre class="screen">     Upstream interface: GigabitEthernet<span>0/2/0</span>, Refresh time: 00:11:25</pre>
<pre class="screen">         Upstream neighbor: 2001:DB8:4::1</pre>
<pre class="screen">         RPF prime neighbor: 2001:DB8:4::1</pre>
<pre class="screen">     Downstream interface(s) information:</pre>
<pre class="screen">     Total number of downstreams: 1</pre>
<pre class="screen">         1: GigabitEthernet<span>0/1/0</span></pre>
<pre class="screen">             Protocol: mld, UpTime: 00:11:25, Expires:-</pre>
</p></li></ol></div>
<div class="example" id="EN-US_TASK_0172367450__example10277366214043"><a name="EN-US_TASK_0172367450__example10277366214043"></a><a name="example10277366214043"></a><a name="EN-US_TASK_0172367450__1.4.6"></a><a name="1.4.6"></a><h4 class="sectiontitle">Configuration Files</h4><ul><li><p><span class="keyword">Device</span> A configuration file</p>
<pre class="screen">#
sysname <span class="keyword">Device</span>A
#
multicast ipv6 routing-enable
#
acl ipv6 number 2000
 rule permit source ff31::/32
#
isis 1
 ipv6 enable topology ipv6
 network-entity 10.0000.0000.0001.00
#
interface GigabitEthernet<span>0/1/0</span>
 undo shutdown
 ipv6 enable
 ipv6 address 2001:DB8:5::2/64
 pim ipv6 sm
 isis ipv6 enable 1
#
interface GigabitEthernet<span>0/2/0</span>
 undo shutdown
 ipv6 enable
 ipv6 address 2001:DB8:1::1/64
 pim ipv6 sm
 isis ipv6 enable 1
#
interface GigabitEthernet<span>0/3/0</span>
 undo shutdown
 ipv6 enable
 ipv6 address 2001:DB8:3::1/64
 pim ipv6 sm
 isis ipv6 enable 1
#
<span>pim-ipv6</span>
ssm-policy 2000
#
return</pre>
</li><li><p><span class="keyword">Device</span> B configuration file</p>
<pre class="screen">#
sysname <span class="keyword">Device</span>B
#
multicast ipv6 routing-enable
#
acl ipv6 number 2000
 rule permit source ff31::/32
#
isis 1
 ipv6 enable topology ipv6
 network-entity 10.0000.0000.0002.00
#
interface GigabitEthernet<span>0/1/0</span>
 undo shutdown
 ipv6 enable
 ipv6 address 2001:DB8:6::2/64
 pim ipv6 sm
 isis ipv6 enable 1
#
interface GigabitEthernet<span>0/2/0</span>
 undo shutdown
 ipv6 enable
 ipv6 address 2001:DB8:1::2
 pim ipv6 sm
 isis ipv6 enable 1
#
interface GigabitEthernet<span>0/3/0</span>
 undo shutdown
 ipv6 enable
 ipv6 address 2001:DB8:2::1/64
 pim ipv6 sm
 isis ipv6 enable 1
#
<span>pim-ipv6</span>
 ssm-policy 2000
#
return</pre>
</li><li><p><span class="keyword">Device</span> C configuration file</p>
<pre class="screen">#
sysname <span class="keyword">Device</span>C
#
multicast ipv6 routing-enable
#
acl ipv6 number 2000
 rule permit source ff31::/32
#
isis 1
 ipv6 enable topology ipv6
 network-entity 10.0000.0000.0003.00
#
interface GigabitEthernet<span>0/1/0</span>
 undo shutdown
 ipv6 enable
 ipv6 address 2001:DB8:7::2/64
 pim ipv6 sm
 isis ipv6 enable 1
#
interface GigabitEthernet<span>0/2/0</span>
 undo shutdown
 ipv6 enable
 ipv6 address 2001:DB8:4::1/64
 pim ipv6 sm
 isis ipv6 enable 1
#
interface GigabitEthernet<span>0/3/0</span>
 undo shutdown
 ipv6 enable
 ipv6 address 2001:DB8:2::2/64
 pim ipv6 sm
 isis ipv6 enable 1
#
<span>pim-ipv6</span>
 ssm-policy 2000
#
return</pre>
</li><li><p><span class="keyword">Device</span> D configuration file</p>
<pre class="screen">#
sysname <span class="keyword">Device</span>D
#
multicast ipv6 routing-enable
#
acl ipv6 number 2000
 rule permit source ff31::/32
#
isis 1
 ipv6 enable topology ipv6
 network-entity 10.0000.0000.0004.00
#
interface GigabitEthernet<span>0/1/0</span>
 undo shutdown
 ipv6 enable
 ipv6 address 2001:DB8:8::2/64
 pim ipv6 sm
 mld enable
 mld version 2
 mld ssm-mapping enable
 isis ipv6 enable 1
#
interface GigabitEthernet<span>0/2/0</span>
 undo shutdown
 ipv6 enable
 ipv6 address 2001:DB8:4::2/64
 pim ipv6 sm
 isis ipv6 enable 1
#
interface GigabitEthernet<span>0/3/0</span>
 undo shutdown
 ipv6 enable
 ipv6 address 2001:DB8:3::2/64
 pim ipv6 sm
 isis ipv6 enable 1
#
mld
 ssm-mapping ff31:: 32 2001:DB8:5::1
 ssm-mapping ff31:: 32 2001:DB8:7::1
#
<span>pim-ipv6</span>
 ssm-policy 2000
#
return</pre>
</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2093.html">Configuration Examples for MLD
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2094.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mld_cfg_2250.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>