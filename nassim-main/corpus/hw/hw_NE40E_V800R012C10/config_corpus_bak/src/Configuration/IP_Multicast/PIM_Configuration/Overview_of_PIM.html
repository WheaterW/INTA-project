
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Overview of PIM">
<meta name="abstract" content="Protocol Independent Multicast (PIM) is an intra-domain multicast routing protocol that uses unicast routing information to perform reverse path forwarding (RPF) checks on multicast packets and to create multicast routing entries. PIM can dynamically respond to network topology changes and maintain multicast forwarding tables.">
<meta name="description" content="Protocol Independent Multicast (PIM) is an intra-domain multicast routing protocol that uses unicast routing information to perform reverse path forwarding (RPF) checks on multicast packets and to create multicast routing entries. PIM can dynamically respond to network topology changes and maintain multicast forwarding tables.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_0003.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/spec/PIM_limitation.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0172366785">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Overview of PIM</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CONCEPT_0172366785"></a><a name="EN-US_CONCEPT_0172366785"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Overview of PIM</h1>
<div><p>Protocol Independent Multicast (PIM) is an intra-domain multicast routing protocol that uses unicast routing information to perform reverse path forwarding (RPF) checks on multicast packets and to create multicast routing entries. PIM can dynamically respond to network topology changes and maintain multicast forwarding tables.</p>
<p>"Protocol Independent" indicates that the unicast routing protocol that provides unicast routing information for PIM can be a static route or a dynamic routing protocol, such as Routing Information Protocol (RIP), Open Shortest Path First (OSPF), Intermediate-System to Intermediate-System (IS-IS), or Border Gateway Protocol (BGP). Multicast routing entries are generated based on a unicast routing table.</p>
<p>PIM implements multicast packet forwarding by means of the RPF mechanism. The RPF mechanism uses existing unicast routing information to build an MDT on a network. When a multicast packet reaches a <span class="keyword">Router</span>, the <span class="keyword">Router</span> performs the RPF check first.</p>
<ul><li>If the multicast packet passes the RPF check, the <span class="keyword">Router</span> creates a multicast routing entry and forwards the packet.</li><li>If the multicast packet fails the RPF check, the <span class="keyword">Router</span> discards the packet.</li></ul>
<div class="section"><h4 class="sectiontitle">PIM Mode</h4><p>PIM has <span>PIM-DM, </span>PIM-SM, <span>and </span>PIM-SSM modes. PIM-SM and PIM-SSM apply to IPv4 and IPv6 networks<span>, and PIM-DM applies only to IPv4 networks</span>. The ASM group address range is used by <span>PIM-DM, and </span>PIM-SM, and the SSM group address range is used by PIM-SSM.</p>
<ul><li><p>PIM-DM</p>
<p>The PIM-DM mode applies to a small-scale network with densely distributed members. The key mechanisms of PIM-DM are neighbor discovery, flooding, prune, graft, assert, and status refresh.</p>
</li><li><p>PIM-SM</p>
<p>PIM-SM applies to large-scale networks on which multicast data receivers are sparsely distributed. Key PIM-SM mechanisms include neighbor discovery, assert, designated router (DR) election, RP discovery, Join, Prune, Register, and SPT switchover.</p>
</li><li><p>PIM-SSM</p>
<p>PIM-SSM applies to networks on which multicast data receivers can learn source locations before they join multicast groups and require multicast data from specific multicast sources. PIM-SSM adopts only some of PIM-SM technologies. PIM-SSM does not need to maintain an RP, construct RPTs, or register multicast sources. In PIM-SSM, an SPT can be built directly between the source's DR and the receiver's DR.</p>
</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">PIM Routing Entry</h4><p>A PIM routing table records PIM routing entries and delivers them to a multicast forwarding table to guide multicast packet forwarding. PIM routing entries are categorized as (S, G) or (*, G) entries. In PIM routing entries, S indicates a multicast source address, G indicates a multicast group address, and * indicates any multicast source address.</p>
<ul><li><p>An (S, G) entry is created for a multicast packet that carries a specified source address and a specified group address.</p>
</li><li><p>An (*, G) entry is created for a multicast packet that carries a specified group address but does not carry a specified source address.</p>
</li></ul>
<p>When a PIM device receives a multicast packet with the source address being S and the group address being G and the packet passes the RPF check, the router forwards the packet based on the following rules:</p>
<ul><li><p>If a matching (S, G) entry exists, the router forwards the packet along the route specified by the (S, G) entry.</p>
</li><li><p>If a matching (S, G) entry does not exist, the router creates an (S, G) entry, and then forwards the packet along the route specified by the (S, G) entry.</p>
</li></ul>
<p>PIM routing entries contain the following information: multicast source addresses, multicast group addresses, upstream interfaces, upstream neighbors, and downstream interface lists. A multicast packet reaches from a unique upstream interface and is forwarded through one or multiple downstream interfaces. <a href="#EN-US_CONCEPT_0172366785__fig_dc_vrp_multicast_cfg_000401">Figure 1</a> shows the forwarding process of multicast packets (with the group address 225.1.1.1) on <span class="keyword">Device</span>A.</p>
<div class="fignone" id="EN-US_CONCEPT_0172366785__fig_dc_vrp_multicast_cfg_000401"><a name="EN-US_CONCEPT_0172366785__fig_dc_vrp_multicast_cfg_000401"></a><a name="fig_dc_vrp_multicast_cfg_000401"></a><span class="figcap"><b>Figure 1 </b>Multicast packet forwarding</span><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Interfaces 1, 2, and 3 in this example represent GE <span>0/1/0</span>, GE <span>0/2/0</span>, and GE <span>0/3/0</span>, respectively.</p>
</div></div>
<br><span><img class="vsd" src="images/fig_dc_vrp_multicast_cfg_000401.png"></span></div>
<p>The following example uses the PIM routing table on <span class="keyword">Device</span>A shown in <a href="#EN-US_CONCEPT_0172366785__fig_dc_vrp_multicast_cfg_000401">Figure 1</a>.</p>
<pre class="screen">&lt;<span class="keyword">Device</span>A&gt;<strong> display pim routing-table</strong>

 VPN-instance: public net
 Total 0 (*, G) entry; 1 (S, G) entry
 (10.1.8.1, 225.1.1.1)</pre>
<pre class="screen">     RP: 2.2.2.2</pre>
<pre class="screen">     Protocol: pim-sm, Flag: SPT ACT</pre>
<pre class="screen">     UpTime: 01:35:25</pre>
<pre class="screen">     Upstream interface: GigabitEthernet<span>0/2/0</span></pre>
<pre class="screen">         Upstream neighbor: 10.1.2.2</pre>
<pre class="screen">         RPF prime neighbor: 10.1.2.2</pre>
<pre class="screen">     Downstream interface(s) information:</pre>
<pre class="screen">     Total number of downstreams: 2</pre>
<pre class="screen">        1: GigabitEthernet<span>0/3/0</span></pre>
<pre class="screen">            Protocol: igmp, UpTime: 00:03:21, Expires: 00:03:10</pre>
<pre class="screen">        2: GigabitEthernet<span>0/1/0</span></pre>
<pre class="screen">            Protocol: pim-sm, UpTime: 00:03:27, Expires: 00:03:15</pre>
<p>The information used to guide packet forwarding is as follows:</p>
<ul><li><p>Source address: 10.1.8.1</p>
</li><li><p>Group address: 225.1.1.1</p>
</li><li><p>Upstream interface: GE <span>0/2/0</span></p>
</li><li><p>Upstream neighbor: 10.1.2.2</p>
</li><li><p>RPF neighbor: 10.1.2.2 (<span class="keyword">Device</span>B)</p>
</li><li><p>Downstream interface list: includes interfaces GE <span>0/1/0</span> and GE <span>0/3/0</span></p>
</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_0003.html">PIM Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/spec/PIM_limitation.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>