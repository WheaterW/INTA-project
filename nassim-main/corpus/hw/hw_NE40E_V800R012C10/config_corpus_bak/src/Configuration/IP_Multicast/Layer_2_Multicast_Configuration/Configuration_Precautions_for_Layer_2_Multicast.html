
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Configuration Precautions for Layer 2 Multicast">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0001.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Publisher" content="20240229">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TOPIC_0000001174935564">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Configuration Precautions for Layer 2 Multicast</title>
</head>
<body><a name="EN-US_TOPIC_0000001174935564"></a><a name="EN-US_TOPIC_0000001174935564"></a>

<div class="articleBoxWithoutHead">

	<h1 class="topicTitle-h1">Configuration Precautions for Layer 2 Multicast</h1>

	<div>
		
		

		<div class="section"><h4 class="sectiontitle">Feature Requirements</h4>
			
		
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Feature requirements</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="60%" id="mcps1.3.1.2.2.4.1.1" liSelected="liSelected"><p>Feature Requirements</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="15%" id="mcps1.3.1.2.2.4.1.2" liSelected="liSelected"><p>Series</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="25%" id="mcps1.3.1.2.2.4.1.3" liSelected="liSelected"><p>Models</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 "><p>1. Layer 2 multicast instances support only VLANs and VSIs, but not BDs. VSIs support only LDP and BGP-AD types (other types need to be shielded). VSIs in BD mode are not supported. </p>
<p>2. In a VPLS over P2MP scenario, only leaf and BUD nodes are supported, and the ingress is not supported. This configuration is mutually exclusive with IGMP snooping.</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 "><p>NE40E-M2</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 "><p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 "><p>MLD snooping does not support BDs.</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 "><p>NE40E-M2</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 "><p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 "><p>MLD snooping does not support BGP VPLS.</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 "><p>NE40E-M2</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 "><p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 "><p>MLD snooping does not support multicast VLANs.</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 "><p>NE40E-M2</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 "><p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 "><p>MLD snooping does not support BGP-AD VPLS over P2MP-TE or MLDP scenarios.</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 "><p>NE40E-M2</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 "><p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 "><p>MLD snooping does not support PBB VPLS.</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 "><p>NE40E-M2</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 "><p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 "><p>MLD snooping does not support VPLS PW redundancy. </p>
<p>After MLD snooping is deployed, VPLS PW redundancy does not take effect and fast switching is not supported.</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 "><p>NE40E-M2</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 "><p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 "><p>MLD snooping does not support Layer 2 multicast instances.</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 "><p>NE40E-M2</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 "><p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 "><p>MLD snooping does not support Layer 2 multicast CAC.</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 "><p>NE40E-M2</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 "><p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 "><p>MLD snooping does not support multicast HQoS.</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 "><p>NE40E-M2</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 "><p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 "><p>Layer 2 multicast supports bandwidth limit for trunk member interfaces only on the AC side of an L2MC over VPLS network, not on the PW side. </p>
<p>(Eth-Trunk sub-interface view: l2-multicast per-trunk-member limit bandwidth)</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 "><p>NE40E-M2</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 "><p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 "><p>The lossy mode of VSI Layer 2 multicast CAC applies only to trunk dot1q VLAN tag termination sub-interfaces.</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 "><p>NE40E-M2</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 "><p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 "><p>Layer 2 multicast instances, user instances, and trunk load balancing for multicast are mutually exclusive.</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 "><p>NE40E-M2</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 "><p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 "><p>eMDI detection is enabled for upstream traffic in Layer 2 multicast services. A Layer 2 multicast instance has a router interface, and traffic enters the interface. When all users in the multicast group leave and then join the group again within a short period of time, packet loss may be incorrectly reported in the eMDI detection result.</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 "><p>NE40E-M2</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 "><p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 "><p>PIM snooping and IGMP snooping cannot run on the same BAS interface at the same time. In addition, PIM over PPPoE cannot run on the BAS interface that functions as an upstream interface, and IGMP over PPPoE/IPoE cannot run on the BAS interface.</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 "><p>NE40E-M2</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 "><p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 "><p>1. In dual-homing scenarios, unicast and multicast traffic are assigned different EVPN instances. A multicast EVPN instance is bound only to one BD. Each access interface in a BD supports only one VLAN or a pair of VLANs. The VLAN configurations must be explicit, and the default VLAN cannot be used. The ESIs of different access interfaces in a BD must be different.</p>
<p>2. S-PMSI tunnels are not supported.</p>
<p>3. Static entries are not backed up through IGMP synchronous routes. The configurations on the dual-homed PEs are the same.</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 "><p>NE40E-M2</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 "><p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 "><p>1. Only the BD EVPN mode is supported. The non-BD mode and PBB EVPN mode are not supported.</p>
<p>2. Only the VLAN-based EVPN mode is supported. The EVPN in VLAN-bundle or VLAN-aware mode is not supported. </p>
<p>3. A BD cannot be simultaneously bound to an EVPN and a VPLS.</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 "><p>NE40E-M2</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 "><p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 "><p>The private MIB of the multicast feature can report traps only in the public network instance, but not in the VPN instance.</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 "><p>NE40E-M2</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 "><p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 "><p>1. In dual-homing scenarios, the sender CE does not support receiver.</p>
<p>2. IGMP snooping can be run on an EVPN only within a BD, not across BDs for communication with global PIM and MVPN.</p>
<p>3. Only EVC untagged and dot1q/QinQ termination sub-interfaces can access a BD and bound to an EVPN.</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 "><p>NE40E-M2</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 "><p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 "><p>Bearer tunnels are established using MPLS P2MP mLDP, not IR or VXLAN.</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 "><p>NE40E-M2</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 "><p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>

	</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0000.html">Layer 2 Multicast Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0001.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>