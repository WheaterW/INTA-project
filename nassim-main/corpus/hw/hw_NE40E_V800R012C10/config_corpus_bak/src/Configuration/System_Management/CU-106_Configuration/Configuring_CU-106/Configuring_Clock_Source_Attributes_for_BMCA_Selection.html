
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Clock Source Attributes for BMCA Selection">
<meta name="abstract" content="After multiple T-BCs are configured with the input of BITS signals, clock source attributes for BMCA selection can be configured on the T-BCs to allow the T-BCs to participate in BMCA selection. The local clocks of T-BCs can also be configured to participate in BMCA selection. BMCA can be used to dynamically determine the T-GM. The T-GM provides time signals for the entire CU-106 network. T-BCs use CU-106 to obtain time synchronization information from the T-GM.">
<meta name="description" content="After multiple T-BCs are configured with the input of BITS signals, clock source attributes for BMCA selection can be configured on the T-BCs to allow the T-BCs to participate in BMCA selection. The local clocks of T-BCs can also be configured to participate in BMCA selection. BMCA can be used to dynamically determine the T-GM. The T-GM provides time signals for the entire CU-106 network. T-BCs use CU-106 to obtain time synchronization information from the T-GM.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cu-106_cfg_8005.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cu-106_cfg_8007.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cu-106_cfg_9003.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="CU-106">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="CU-106">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="CU-106">
<meta name="featuretype" content="System Management">
<meta name="OWNER" content="l00425560,w00845984">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00845984">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001825720899">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Clock Source Attributes for BMCA Selection</title>
</head>
<body><a name="EN-US_TASK_0000001825720899"></a><a name="EN-US_TASK_0000001825720899"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Clock Source Attributes for BMCA Selection</h1>
<div class="taskbody"><p>After multiple T-BCs are configured with the input of BITS signals, clock source attributes for BMCA selection can be configured on the T-BCs to allow the T-BCs to participate in BMCA selection. The local clocks of T-BCs can also be configured to participate in BMCA selection. BMCA can be used to dynamically determine the T-GM. The T-GM provides time signals for the entire CU-106 network. T-BCs use CU-106 to obtain time synchronization information from the T-GM.</p>
<div class="context"><a name="EN-US_TASK_0000001825720899__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Perform the following steps on the devices connected to external BITS time sources (including PTP interfaces and external time interfaces) on the CU-106 network.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_en-us_task_0000001825841181_ul742948175416"><li id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_en-us_task_0000001825841181_li642104815414">When a time server is interconnected with a device (through a PTP interface or external time interface), it is recommended that the local priority2 (<i><span class="varname" id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_en-us_task_0000001825841181_varname528225417334">priority2-value</span></i>) be configured for the device and other parameters take the default values. When a device is interconnected with a time server or third-party device through an external time interface, you need to set priority2 (<i><span class="varname" id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_en-us_task_0000001825841181_varname189434016554">priority2-value</span></i>) for the external time interface and retain the default values for other parameters.</li><li id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_en-us_task_0000001825841181_li843114811543">You are advised to retain the default values of <i><span class="varname" id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_en-us_task_0000001825841181_varname2021951710563">time-source-value</span></i>, <i><span class="varname" id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_en-us_task_0000001825841181_varname6219101719567">clock-accuracy-value</span></i>, <i><span class="varname" id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_en-us_task_0000001825841181_varname721961715610">clock-class-value</span></i>, <em id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_en-us_task_0000001825841181_i1521931775615">priority1-value</em>, <em id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_en-us_task_0000001825841181_i4219101716560">clockid-value</em>, and <em id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_en-us_task_0000001825841181_i5219917205618">offsetscaled-logvariance-value</em> for the time source.</li></ul>
</div></div>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0000001825720899__en-us_task_0000001825841181_p0121140135216">This section uses the BITS1 external time interface as an example. The actual quantity of external time interfaces and their types and numbers vary with the hardware configuration. You need to set them based on the actual situation.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001825720899__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li><span>Run the <a href="cmdqueryname=ptp+clock-source"><b><span class="cmdname" id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_cmdname21516191440">ptp clock-source</span></b></a> { <strong><span id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_cmdparmname1733142415342">local</span></strong> | <strong><span id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_cmdparmname1333122415347">bits1</span></strong> } <strong><span id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_cmdparmname215141919443">priority2</span></strong> <i><span class="varname" id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_varname1315101964414">priority2-value</span></i> command to configure a priority2 value for the clock source.</span></li><li><span>(Optional) Run the <a href="cmdqueryname=ptp+clock-source"><b><span class="cmdname" id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_cmdname20448018154014">ptp clock-source</span></b></a> { <strong><span id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_cmdparmname44481818144014">local</span></strong> | <strong><span id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_cmdparmname5485205863310">bits1</span></strong> } <strong id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_b1844813180406">time-source</strong> <em id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_i9448181834018">time-source-value</em> command to configure a type for the clock source traced by the device.</span></li><li><span>(Optional) Run the <a href="cmdqueryname=ptp+clock-source"><b><span class="cmdname" id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_cmdname095284812119">ptp clock-source</span></b></a> { <strong><span id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_cmdparmname9404330183416">local</span></strong> | <strong><span id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_cmdparmname140411309346">bits1</span></strong> } <strong id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_b6972163521117">clock-accuracy</strong> <em id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_i897233512117">clock-accuracy-value</em> command to configure the accuracy of the clock source.</span><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In T-BC mode, the local clock accuracy defaults to 0xFE and cannot be configured.</p>
</div></div>
</p></li><li><span>(Optional) Run the <a href="cmdqueryname=ptp+clock-source"><b><span class="cmdname" id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_cmdname14986104991516">ptp clock-source</span></b></a> { <strong><span id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_cmdparmname12436123483415">local</span></strong> | <strong><span id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_cmdparmname15436183416345">bits1</span></strong> } <strong><span id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_cmdparmname186228294153">clock-class</span></strong> <em id="EN-US_TASK_0000001825720899__en-us_task_0000001778921398_i2622629171516">clock-class-value</em> command to configure a clock source level.</span><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In T-BC mode, the local clock class defaults to 248 and cannot be configured. If the locked clock class is less than 135, after the clock is unlocked, the local clock class automatically changes to 165.</p>
</div></div>
</p></li><li><span>(Optional) Run the <a href="cmdqueryname=ptp+clock-source+local-priority"><b><span class="cmdname">ptp clock-source { local | bits1 } local-priority</span></b></a> <i><span class="varname">local-priority-value</span></i> command to configure a local priority of the local time source.</span></li><li><span>(Optional) Run the <a href="cmdqueryname=ptp+clock-source"><b><span class="cmdname">ptp clock-source</span></b></a> <strong><span>bits1</span></strong> <strong><span>grandmaster-clockid</span></strong> <i><span class="varname">clockid-value</span></i> command to configure a grandmaster clock ID for the BITS time source. The BITS time source then uses the configured clock ID to participate in time source selection.</span><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>The <i><span class="varname">clockid-value</span></i> value needs to be the actual clock ID obtained from the BITS external time source and configured for the BITS time source. Otherwise, time synchronization path calculation is affected when the BITS external time source and PTP source are deployed on the same network.</li><li>In addition, when the clock ID of the BITS source changes due to factors such as BITS device replacement, you need to change the grandmaster clock ID of the BITS source on the device.</li></ul>
</div></div>
</p></li><li><span>(Optional) Run the <a href="cmdqueryname=ptp+clock-source"><b><span class="cmdname">ptp clock-source</span></b></a> <strong><span>bits1 offsetscaled-logvariance</span></strong> <em>offsetscaled-logvariance-value</em> command to configure a stability value for the clock source.</span></li><li><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cu-106_cfg_8005.html">Configuring CU-106
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cu-106_cfg_8007.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cu-106_cfg_9003.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>