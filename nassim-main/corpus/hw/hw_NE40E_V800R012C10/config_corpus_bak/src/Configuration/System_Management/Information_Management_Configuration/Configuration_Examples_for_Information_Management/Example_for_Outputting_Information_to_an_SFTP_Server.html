
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Outputting Information to an SFTP Server">
<meta name="abstract" content="Information of specified modules and severities can be output to an information file on the local device, and then the information file can be sent to an SFTP server. By checking the information on the SFTP server, maintenance engineers can learn about the running status of the device and locate faults on the device.">
<meta name="description" content="Information of specified modules and severities can be output to an information file on the local device, and then the information file can be sent to an SFTP server. By checking the information on the SFTP server, maintenance engineers can learn about the running status of the device and locate faults on the device.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_logs_cfg_2038.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_logs_cfg_2041.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00437000,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Information Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Information Management">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="Information Management">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="Information Management">
<meta name="OWNER" content="j00655225">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="j00655225">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172361200">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Example for Outputting Information to an SFTP Server</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0172361200"></a><a name="EN-US_TASK_0172361200"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Outputting Information to an SFTP Server</h1>
<div class="taskbody"><p>Information of specified modules and severities can be output to an information file on the local device, and then the information file can be sent to an SFTP server. By checking the information on the SFTP server, maintenance engineers can learn about the running status of the device and locate faults on the device.</p>
<div class="context"><a name="EN-US_TASK_0172361200__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>Information can be saved in the form of files on the device. When faults occur on the device, information can be output from the information file and used for fault location. As shown in <a href="#EN-US_TASK_0172361200__fig_dc_vrp_logs_cfg_203901">Figure 1</a>, logs can be output to the information files of <span class="keyword">Device</span>A. Storing excessive information files consumes a large number of memory resources. Generally, these files can be transmitted to an SFTP server for unified maintenance. Maintenance engineers can query logs on the SFTP server to learn the operation of <span class="keyword">Device</span>A and locate the fault on <span class="keyword">Device</span>A.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In this example, logs are output to an information file.</p>
</div></div>
<div class="fignone" id="EN-US_TASK_0172361200__fig_dc_vrp_logs_cfg_203901"><a name="EN-US_TASK_0172361200__fig_dc_vrp_logs_cfg_203901"></a><a name="fig_dc_vrp_logs_cfg_203901"></a><span class="figcap"><b>Figure 1 </b>Outputting information to the SFTP server</span><br><span><img class="vsd" src="images/fig_dc_vrp_logs_cfg_203901.png"></span></div>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Interface1 in this example represents GE <span>0/1/0</span>.</p>
</div></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172361200__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><p>The configuration roadmap is as follows:</p>
<ol><li><p>Enable the information management function.</p>
</li><li><p>Configure the information output channel.</p>
</li><li><p>Configure rules for outputting information.</p>
</li><li><p>Send information files to the SFTP server.</p>
</li></ol>
</div></div>
<div class="context"><a name="EN-US_TASK_0172361200__1.4.3"></a><a name="1.4.3"></a>
<div class="p"><h4 class="sectiontitle">Data Preparation</h4><p>To complete the configuration, you need the following data:</p>
<ul><li><p>IP address of each interface and routing protocol</p>
</li><li><p>Information channel number</p>
</li><li><p>Module and severity of the information to be output</p>
</li><li><p>IP address of the SFTP server, and the username and password for logging in to the SFTP server</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172361200__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure a routing protocol to allow the <span class="keyword">Router</span> and SFTP server to be reachable.</span></li><li><span>Configure the IP address of the SFTP server, and the username and password for logging in to the SFTP server.</span></li><li><span>Enable the information management function.</span><p><p># Enable the information management function.</p>
<pre class="screen"><strong>&lt;<span class="keyword">Device</span>A&gt; system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A]<strong> info-center enable</strong></pre>
</p></li><li><span>Configure the channel through which information is output.</span><p><p># Specify channel 8 as the channel through which information is output to an information file.</p>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A]<strong> info-center logfile channel channel8</strong></pre>
</p></li><li><span>Configure rules for outputting information.</span><p><p># Output the information of warning or higher levels generated by the IM module through a channel.</p>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A]<strong> info-center source im channel channel8 log level warning</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A]<strong> quit</strong></pre>
</p></li><li><span>Transmit information files to the SFTP server.</span><p><p># Switch to the path of the information file.</p>
<pre class="screen">&lt;<span class="keyword">Device</span>A&gt;<strong> cd <span>cfcard</span>:</strong></pre>
<p># Log in to the SFTP server.</p>
<pre class="screen">&lt;<span class="keyword">Device</span>A&gt;<strong> sftp 10.2.1.2</strong></pre>
<p># Transmit information files to the SFTP server.</p>
<pre class="screen">sftp-client&gt;<strong> put log_17_20110504041811.log</strong></pre>
<pre class="screen">sftp-client&gt;<strong> quit</strong></pre>
</p></li><li><span>Verify the configuration.</span><p><p># Check the channel information carried in the output information.</p>
<pre class="screen">&lt;<span class="keyword">Device</span>A&gt; <strong>display info-center</strong></pre>
<pre class="screen">Information Center:enabled
Log host:
        10.0.0.1, channel number 2, channel name loghost,
language English , host facility local7
Console:
        channel number : 0, channel name : console
Monitor:
        channel number : 1, channel name : monitor
SNMP Agent:
        channel number : 5, channel name : snmpagent
Log buffer:
        enabled,max buffer size 10240, current buffer size 512,
current messages 10, channel number : 4, channel name : logbuffer
dropped messages 0, overwritten messages 0
Trap buffer:
        enabled,max buffer size 1024, current buffer size 256,
current messages 3, channel number:3, channel name:trapbuffer
dropped messages 0, overwritten messages 0
<strong>logfile:</strong>
        channel number : 8, channel name : channel8, language : English
Information timestamp setting:
        log - date, trap - date, debug - date millisecond
</pre>
<p># Check the information files received on the SFTP server.</p>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0172361200__1.4.5"></a><a name="1.4.5"></a><h4 class="sectiontitle">Configuration Files</h4><pre class="screen">#</pre>
<pre class="screen">sysname <span class="keyword">Device</span>A</pre>
<pre class="screen">#</pre>
<pre class="screen">info-center logfile channel 8</pre>
<pre class="screen">info-center source im channel channel 8 log level warning</pre>
<pre class="screen">#</pre>
<pre class="screen">interface GigabitEthernet<span>0/1/0</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen"> ip address 10.2.1.1 255.255.0.0</pre>
<pre class="screen">#</pre>
<pre class="screen">return</pre>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_logs_cfg_2038.html">Configuration Examples for Information Management
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_logs_cfg_2041.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>