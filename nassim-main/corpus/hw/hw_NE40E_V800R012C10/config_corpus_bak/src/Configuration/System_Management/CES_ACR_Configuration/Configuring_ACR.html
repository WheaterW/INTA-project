
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring ACR">
<meta name="abstract" content="This section describes how to configure ACR.">
<meta name="description" content="This section describes how to configure ACR.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/cesacr_configuration.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/spec/CES_ACR_limitation.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_clock_cfg_5021.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_clock_cfg_5018.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_clock_cfg_5019.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_clock_cfg_5020.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909,l00587852">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="CES ACR Clock Synchronization">
<meta name="featuretype" content="System Management">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="CES ACR Clock Synchronization">
<meta name="featuretype" content="System Management">
<meta name="OWNER" content="w00845984">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00845984">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001778921378">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring ACR</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001778921378"></a><a name="EN-US_TASK_0000001778921378"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring ACR</h1>
<div class="taskbody"><p>This section describes how to configure ACR.</p>
<div class="context"><a name="EN-US_TASK_0000001778921378__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>Adaptive Clock Recovery (ACR) is a clock synchronization technology used to restore service clocks on a network if they are asynchronous. The accuracy of ACR is largely affected by the packet switched network (PSN).</p>
<p>In terms of transparent clock transmission, ACR can be specifically implemented in two modes, namely, the circuit emulation service (CES) mode and the timing over packet (TOP) mode. In CES mode, clock signals are transparently transmitted from the master clock to the slave clock using time division multiplexing (TDM). In TOP mode, clock signals are transmitted from the master clock to the slave clock through a dedicated PW. Currently, Huawei devices support CES-ACR for clock synchronization.</p>
<p>As shown in <a href="#EN-US_TASK_0000001778921378__fig_dc_ne_clock_cfg_501801">Figure 1</a>, in ACR, the downstream slave clock synchronizes with the upstream master clock. In this case, you need to configure a clock recovery domain on the E1 interface of the slave clock so that it can synchronize with the upstream clock.</p>
<div class="fignone" id="EN-US_TASK_0000001778921378__fig_dc_ne_clock_cfg_501801"><a name="EN-US_TASK_0000001778921378__fig_dc_ne_clock_cfg_501801"></a><a name="fig_dc_ne_clock_cfg_501801"></a><span class="figcap"><b>Figure 1 </b>Networking diagram of ACR clock synchronization</span><br><span><img class="vsd" src="figure/en-us_image_0000001779081118.png" width="NaN" height="NaN"></span><br></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001778921378__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring ACR, complete the following tasks:</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>When configuring ACR, ensure that the master and slave devices are equipped with a subcard that supports CES ACR.</p>
</div></div>
<ul><li><p>Configure link-layer protocol parameters and IP addresses for interfaces to ensure that the link layer protocol status of each interface is Up.</p>
</li><li><p>Configure static routes or an IGP to ensure reachable routes between nodes.</p>
</li><li><p>Ensure that an E1 interface exists on the involved device.</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001778921378__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li><span>Configure a clock recovery domain on the slave device that needs clock recovery.</span><p><ul><li><p># If the device is installed with an E1 subcard, perform the following operations:</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This step is supported only on the <span class="keyword">NE40E</span><span class="keyword">-M2E</span>, <span class="keyword">NE40E</span><span class="keyword">-M2F</span>, <span class="keyword">NE40E</span><span class="keyword">-M2H</span>, <span class="keyword">NE40E</span><span class="keyword">-M2K</span>.</p>
</div></div>
<ol type="a"><li><p>Run the <a href="cmdqueryname=controller+e1"><b><span class="cmdname">controller e1</span></b></a> <i><span class="varname">controller-number</span></i> command to enter the corresponding E1 interface view.</p>
</li><li><p>Run the <a href="cmdqueryname=clock"><b><span class="cmdname">clock</span></b></a> <strong><span>recovery-domain</span></strong> <em>domain-value</em> command to configure a clock recovery domain for the E1 interface.</p>
</li><li>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</li></ol>
</li></ul>
</p></li><li><span>Perform the following operations on the slave clock that needs clock recovery to configure the clock recovered by ACR as the system clock.</span><ol type="a"><li class="substepexpand"><span>Configure the attributes of a clock source in the recovery domain.</span><p><p>Run the <a href="cmdqueryname=clock+source+cesacr"><b><span class="cmdname">clock source cesacr</span></b></a> <strong><span>slot</span></strong> <i><span class="varname">slot-id</span></i> <strong><span>card</span></strong> <i><span class="varname">card-id</span></i> <strong><span>recovery-domain</span></strong> <i><span class="varname">domain-value </span></i> <strong><span>ssm</span></strong> { <strong><span>prc</span></strong> | <strong><span>ssua</span></strong> | <strong><span>ssub</span></strong> | <strong><span>sec</span></strong> | <strong><span>dnu</span></strong> | <strong><span>unk</span></strong> <span>| <strong><span>prtc </span></strong>| <strong><span>eprtc </span></strong>| <strong><span>esec </span></strong>| <strong><span>eprc </span></strong></span>} command to configure an SSM level for the CES ACR clock source.</p>
</p><p><p>Run the <a href="cmdqueryname=clock+source+cesacr"><b><span class="cmdname">clock source cesacr</span></b></a> <strong><span>slot</span></strong> <i><span class="varname">slot-id</span></i> <strong><span>card</span></strong> <i><span class="varname">card-id</span></i> <strong><span>recovery-domain</span></strong> <i><span class="varname">domain-value</span></i> <strong><span>clock-id</span></strong> <i><span class="varname">clock-id</span></i> command to configure a clock ID for the CES ACR clock source.</p>
</p><p><p>Run the <a href="cmdqueryname=clock+source+cesacr"><b><span class="cmdname">clock source cesacr</span></b></a> <strong><span>slot</span></strong> <i><span class="varname">slot-id</span></i> <strong><span>card</span></strong> <i><span class="varname">card-id</span></i> <strong><span>recovery-domain</span></strong> <i><span class="varname">domain-value</span></i> <strong><span>priority</span></strong> <i><span class="varname">priority-value</span></i> command to configure a priority for the CES ACR clock source.</p>
</p></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li></ol>
</li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0000001778921378__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p># If the ACR function on the <span class="keyword">Router</span> is normal, run the <a href="cmdqueryname=display+acr-dcr"><b><span class="cmdname">display acr-dcr</span></b></a> command to check the current ACR information.</p>
<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>display acr-dcr slot  card 1</strong></pre>
<p># Check ACR information of clock recovery domain 4 on subcard 1 of the interface board in slot <span>1</span>.</p>
<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt;<strong> display acr-dcr slot  card 1 recovery-domain 4</strong></pre>
</div></div>

<ul class="ullinks">
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_clock_cfg_5018.html">Configuring a Clock Recovery Domain</a>
</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_clock_cfg_5019.html">Configuring a Clock Signal Source as the System Clock for CES ACR</a>
</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_clock_cfg_5020.html">Verifying the Configuration</a>
</dt>
<dd>
</dd>
</dl>
</ul>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/cesacr_configuration.html">CES ACR Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/spec/CES_ACR_limitation.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_clock_cfg_5021.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>