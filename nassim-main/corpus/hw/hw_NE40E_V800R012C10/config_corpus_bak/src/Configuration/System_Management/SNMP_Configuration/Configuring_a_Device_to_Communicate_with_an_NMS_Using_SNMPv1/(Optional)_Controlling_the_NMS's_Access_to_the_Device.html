
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Controlling the NMS's Access to the Device">
<meta name="abstract" content="This section describes how to specify an NMS and manageable MIB objects for SNMPv1-based communication between the NMS and managed device to improve communication security.">
<meta name="description" content="This section describes how to specify an NMS and manageable MIB objects for SNMPv1-based communication between the NMS and managed device to improve communication security.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_snmp_cfg_0004.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_snmp_cfg_0005.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_snmp_cfg_0007.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,jwx1168690,w00556928,w00437000,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="SNMP">
<meta name="OWNER" content="j00655225">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="j00655225">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172360996">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Controlling the NMS's Access to the Device</title>
</head>
<body><a name="EN-US_TASK_0172360996"></a><a name="EN-US_TASK_0172360996"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Controlling the NMS's Access to the Device</h1>
<div class="taskbody"><p>This section describes how to specify an NMS and manageable MIB objects for SNMPv1-based communication between the NMS and managed device to improve communication security.</p>
<div class="context"><a name="EN-US_TASK_0172360996__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p">If a device is managed by multiple NMSs that use the same community name, note the following points:<ul><li><p>If all the NMSs are required to access the objects in the Viewdefault view (1.3.6.1), skip the following steps.</p>
</li><li><p>If some of the NMSs are required to access the objects in the Viewdefault view (1.3.6.1), skip steps <a href="#EN-US_TASK_0172360996__step_dc_vrp_snmp_cfg_000605">7</a> and <a href="#EN-US_TASK_0172360996__step_dc_vrp_snmp_cfg_000606">8</a>.</p>
</li><li><p>If all the NMSs are required to manage specified objects on the device, skip steps <a href="#EN-US_TASK_0172360996__step_dc_vrp_snmp_cfg_000602">2</a>, <a href="#EN-US_TASK_0172360996__step_dc_vrp_snmp_cfg_000603">3</a>, <a href="#EN-US_TASK_0172360996__step_dc_vrp_snmp_cfg_000000">4</a>, and <a href="#EN-US_TASK_0172360996__step_dc_vrp_snmp_cfg_000604">5</a>.</p>
</li><li><p>If some of the NMSs are required to manage specified objects on the device, perform all the following steps.</p>
</li></ul>
</div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172360996__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li id="EN-US_TASK_0172360996__step_dc_vrp_snmp_cfg_000602"><span id="EN-US_TASK_0172360996__">Run the <a href="cmdqueryname=acl"><b><span class="cmdname">acl</span></b></a> { <strong><span>name</span></strong> <i><span class="varname">basic-acl-name</span></i> { <strong><span>basic</span></strong> | [ <strong><span>basic</span></strong> ] <strong><span>number</span></strong> <i><span class="varname">basic-acl-number</span></i> } | [ <strong><span>number</span></strong> ] <i><span class="varname">basic-acl-number</span></i> } [ <strong><span>match-order</span></strong> { <strong><span>config</span></strong> | <strong><span>auto</span></strong> } ] command to create a basic ACL to filter network administrators.</span></li><li id="EN-US_TASK_0172360996__step_dc_vrp_snmp_cfg_000603"><span id="EN-US_TASK_0172360996__">Run the <a href="cmdqueryname=rule"><b><span class="cmdname">rule </span></b></a>[ <i><span class="varname">rule-id</span></i> ] [ <strong><span>name</span></strong> <i><span class="varname">rule-name</span></i> ] { <strong><span>permit</span></strong> | <strong><span>deny</span></strong> } [ [ <strong><span>fragment-type</span></strong> { <strong><span>fragment</span></strong> | <strong><span>fragment-subseq</span></strong> | <strong><span>non-fragment</span></strong> | <strong><span>non-subseq</span></strong> | <strong><span>fragment-spe-first</span></strong> } ] | <strong><span>source</span></strong> { <i><span class="varname">source-ip-address</span></i> { <i><span class="varname">source-wildcard</span></i> | <strong><span>0</span></strong> | <i><span class="varname">src-netmask</span></i> } | <strong><span>any</span></strong> } | <strong><span>time-range</span></strong> <i><span class="varname">time-name</span></i> | [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> | <strong><span>vpn-instance-any</span></strong> ] ] <sup>*</sup> command to configure a basic ACL rule.</span><p><ul><li><p>If the address of a login user matches an ACL rule in which the specified action is <strong>permit</strong>, the user is allowed to log in to the device.</p>
</li><li><p>If the address of a login user matches an ACL rule in which the specified action is <strong>deny</strong>, the user is not allowed to log in to the device.</p>
</li><li><p>If the address of a login user is not within the address range specified in the configured ACL rule, the user is not allowed to log in to the device.</p>
</li><li><p>If the referenced ACL does not contain any rules or does not exist, the login of users is not subject to the ACL, and any users can log in to the device.</p>
</li></ul>
</p></li><li id="EN-US_TASK_0172360996__step_dc_vrp_snmp_cfg_000000"><span id="EN-US_TASK_0172360996__">Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li><li id="EN-US_TASK_0172360996__step_dc_vrp_snmp_cfg_000604"><span id="EN-US_TASK_0172360996__">Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to return to the system view.</span></li><li><span>(Optional) Run the <a href="cmdqueryname=snmp-agent+acl"><b><span class="cmdname">snmp-agent acl</span></b></a> { <i><span class="varname">acl-number</span></i> | <i><span class="varname">acl-name</span></i> } command to configure an ACL for SNMP.</span></li><li id="EN-US_TASK_0172360996__step_dc_vrp_snmp_cfg_000605"><span id="EN-US_TASK_0172360996__">Run the <a href="cmdqueryname=snmp-agent+mib-view"><b><span class="cmdname">snmp-agent mib-view</span></b></a> <i><span class="varname">type</span></i> <i><span class="varname">view-name</span></i> <i><span class="varname">oid-tree</span></i> command to create a MIB view and specify manageable MIB objects.</span><p><ul><li><p><strong><span>excluded</span></strong>: If a few MIB objects on the device or some objects in the current MIB view do not or no longer need to be managed by the NMS, configure <strong><span>excluded</span></strong> in the command to exclude these MIB objects.</p>
</li><li><p><strong><span>included</span></strong>: If a few MIB objects on the device or some objects in the current MIB view need to be managed by the NMS, configure <strong><span>included</span></strong> in the command to include these MIB objects.</p>
</li></ul>
</p></li><li id="EN-US_TASK_0172360996__step_dc_vrp_snmp_cfg_000606"><span id="EN-US_TASK_0172360996__">Run the <a href="cmdqueryname=snmp-agent+community"><b><span class="cmdname">snmp-agent community</span></b></a> { <strong><span>read</span></strong> | <strong><span>write</span></strong> } <strong><span>cipher</span></strong> <i><span class="varname">host-string</span></i> [ <strong><span>mib-view</span></strong> <i><span class="varname">security-string-cipher</span></i><span> | <strong><span>acl</span></strong> { <i><span class="varname">acl-number</span></i> | <i><span class="varname">acl-name</span></i> }</span> <span>| <strong><span>alias</span></strong> <i><span class="varname">alias-name</span></i> </span>]<span> <sup>*</sup></span> command to specify the NMS's access permissions.</span><p><ul><li><p><strong><span>read</span></strong> needs to be configured in the command if the NMS administrator needs the read permission in a specified view. For example, a low-level administrator needs to read certain data.</p>
</li><li><p><strong><span>write</span></strong> needs to be configured in the command if the NMS administrator needs the read and write permissions in a specified view. For example, a high-level administrator needs to read and write certain data.</p>
</li><li><p><strong><span>mib-view</span></strong> <i><span class="varname">view-name</span></i> does not need to be configured in the command if some of the NMSs that use the community name need to have permissions to access the objects in the Viewdefault view (1.3.6.1).</p>
</li><li><p><strong><span>acl</span></strong> <i><span class="varname">acl-number</span></i> does not need to be configured in the command if all the NMSs that use the community name need to manage specified objects on the device.</p>
<p><strong><span>mib-view</span></strong> and <strong><span>acl</span></strong> need to be configured in the command if some of the NMSs that use the community name need to manage specified objects on the device.</p>
</li></ul>
</p></li><li><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0172360996__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Follow-up Procedure</h4>
<div class="p"><p>After the access permissions are configured, especially after the IP address of the NMS is specified, if the IP address changes (for example, the NMS changes its location, or IP addresses are reallocated due to network adjustment), you need to change the IP address of the NMS in the ACL. Otherwise, the NMS cannot access the device.</p>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_snmp_cfg_0004.html">Configuring a Device to Communicate with an NMS Using SNMPv1
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_snmp_cfg_0005.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_snmp_cfg_0007.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>