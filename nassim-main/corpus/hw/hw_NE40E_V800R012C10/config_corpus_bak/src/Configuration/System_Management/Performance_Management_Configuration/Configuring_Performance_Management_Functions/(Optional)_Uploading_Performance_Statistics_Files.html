
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Uploading Performance Statistics Files">
<meta name="abstract" content="The system generates performance statistics files based on the collected performance statistics at a specified interval. To view the performance statistics on a performance management (PM) server, upload performance statistics files to the PM server.">
<meta name="description" content="The system generates performance statistics files based on the collected performance statistics at a specified interval. To view the performance statistics on a performance management (PM) server, upload performance statistics files to the PM server.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_pm_cfg_01001.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_pm_cfg_01002.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_pm_cfg_01004.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00437000,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Performance Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Performance Management">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="Performance Management">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="Performance Management">
<meta name="OWNER" content="j00655225">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="j00655225">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172361259">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Uploading Performance Statistics Files</title>
</head>
<body><a name="EN-US_TASK_0172361259"></a><a name="EN-US_TASK_0172361259"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Uploading Performance Statistics Files</h1>
<div class="taskbody"><p>The system generates performance statistics files based on the collected performance statistics at a specified interval. To view the performance statistics on a performance management (PM) server, upload performance statistics files to the PM server.</p>
<div class="context"><a name="EN-US_TASK_0172361259__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Before uploading performance statistics files to a PM server, configure the File Transfer Protocol (FTP) or Secure File Transfer Protocol (SFTP) server functionality on the PM server, and ensure that the device on which the performance statistics are collected has been connected to the PM server.</p>
<p>Perform the following steps on the device:</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172361259__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=pm"><b><span class="cmdname">pm</span></b></a></span><p><p>The PM view is displayed.</p>
</p></li><li><span>(Optional) Run either of the following <strong><span>client-source</span></strong> commands to configure a global source IP address and VPN used for uploading performance statistics files to the PM server:</span><p><ul><li>To configure a global IPv4 source address, run the <span><strong><span>client-source</span></strong> <strong><span>interface</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> }</span> command.<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The device uses the IPv4 address and VPN configured on the interface for uploading performance statistics files.</p>
<p>If no IPv4 address is configured for the interface, files may fail to be uploaded.</p>
</div></div>
</li><li>To configure a global IPv6 source address and VPN, run the <span><strong><span>client-source</span></strong> <strong><span>ipv6</span></strong> <i><span class="varname">IPV6ADDR</span></i></span> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpnInstanceName</span></i> ] command.</li></ul>
</p></li><li><span>Run <a href="cmdqueryname=pm-server"><b><span class="cmdname">pm-server</span></b></a> <i><span class="varname">server-name</span></i></span><p><p>A PM server process is created, and the PM server view is displayed.</p>
</p></li><li><span>Run the following commands to configure parameters of the PM server to which a performance statistics file will be uploaded.</span><p><ul><li><p>Run the <a href="cmdqueryname=protocol"><b><span class="cmdname">protocol</span></b></a> <span>{ <strong><span>ftp</span></strong> | <strong><span>sftp</span></strong> }</span> <strong><span>ip-address</span></strong> <i><span class="varname">ip-address</span></i> [ <strong><span>port</span></strong> <i><span class="varname">port-number</span></i> <span>| { <strong><span>net-manager-vpn</span></strong> | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> } | { <strong><span>client-source</span></strong> <strong><span>interface</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> } | <strong><span>client-source</span></strong> <strong><span>ipv6</span></strong> <i><span class="varname">IPV6ADDR</span></i> } </span>] <span><sup>*</sup></span> command to configure the protocol, IPv4 or IPv6 address, and port number for uploading performance statistics files to the PM server.</p>
<p>Using FTP to upload performance statistics files is not secure. Therefore, using SFTP is recommended.</p>
<p>If the IP address of the PM server is a private address, use <strong><span>net-manager-vpn</span></strong> to specify a network management VPN or use <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> to specify the name of a VPN instance for uploading performance statistics files.</p>
<p>To specify a source IPv4 interface address or IPv6 address for the device to upload performance statistics files to a PM server, specify <span><strong><span>client-source</span></strong></span>. The priority of the source address configured using this way is higher than that of the global source address configured using the <span><strong><span>client-source</span></strong></span> command. After a source address is specified, use the matched VPN. If the corresponding VPN is not configured, use the public network.</p>
</li><li>To configure a username and password for logging in to the PM server, run the <a href="cmdqueryname=username"><b><span class="cmdname">username</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>password</span></strong> <i><span class="varname">password</span></i> command.</li><li>To configure the destination path where a performance statistics file is saved on the PM server, run the <a href="cmdqueryname=path"><b><span class="cmdname">path</span></b></a> <i><span class="varname">destination-path</span></i> command.</li><li><p>To configure the number of retransmissions for a performance statistics file, run the <a href="cmdqueryname=retry"><b><span class="cmdname">retry</span></b></a> <i><span class="varname">retry-times</span></i> command.</p>
</li></ul>
</p></li><li><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the PM view.</p>
</p></li><li><span>Run <a href="cmdqueryname=upload-config"><b><span class="cmdname">upload-config</span></b></a> <i><span class="varname">request-name</span></i> <strong><span>server</span></strong> <i><span class="varname">server-name</span></i></span><p><p>A request for uploading performance statistics files to a specified PM server is created.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=statistics-task"><b><span class="cmdname">statistics-task</span></b></a> <i><span class="varname">task-name</span></i></span><p><p>The performance statistics task view is displayed.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=upload+auto"><b><span class="cmdname">upload auto</span></b></a> <i><span class="varname">request-name</span></i></span><p><p>The device is enabled to automatically upload performance statistics files to the PM server at a specific interval.</p>
</p><p><p>To enable the device to automatically upload performance statistics files to the PM server at a specific interval, perform this configuration.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0172361259__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Follow-up Procedure</h4><p>Run the <a href="cmdqueryname=upload"><b><span class="cmdname">upload</span></b></a> <i><span class="varname">request-name</span></i> <strong><span>file</span></strong> <i><span class="varname">filename</span></i> &amp;&lt;1-16&gt; command to enable the device to upload performance statistics files to the PM server.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_pm_cfg_01001.html">Configuring Performance Management Functions
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_pm_cfg_01002.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_pm_cfg_01004.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>