
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Basic DCN Functions">
<meta name="abstract" content="This chapter describes how to enable DCN globally, enable DCN on an interface, enable the automatic NE report function on a GNE, and configure NE IDs and NE IP addresses.">
<meta name="description" content="This chapter describes how to enable DCN globally, enable DCN on an interface, enable the automatic NE report function on a GNE, and configure NE IDs and NE IP addresses.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dcn_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/spec/DCN_limitation.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dcn_cfg_0042.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00556928,w00437000,w00606909,s00588020,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="DCN">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="DCN">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="DCN">
<meta name="OWNER" content="f00453093">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="f00453093">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172361405">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Configuring Basic DCN Functions</title>
</head>
<body><a name="EN-US_TASK_0172361405"></a><a name="EN-US_TASK_0172361405"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Basic DCN Functions</h1>
<div class="taskbody"><p>This chapter describes how to enable DCN globally, enable DCN on an interface, enable the automatic NE report function on a GNE, and configure NE IDs and NE IP addresses.</p>
<div class="context"><a name="EN-US_TASK_0172361405__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>The construction of a large network requires significant human and material resources if software commissioning engineers have to configure devices on site, causing high operational expenditure (OPEX). DCN can reduce the OPEX by allowing GNEs to manage NEs. DCN enables NMSs to rapidly detect new NEs and remotely manage the NEs.</p>
<p>The DCN technique offers a mechanism to implement plug-and-play. After each NE is initialized, it generates an NE IP address based on its NE ID, creates a mapping entry for the NE ID and NE IP address, adds the mapping entry to its DCN core routing table, and uses OSPF to advertise the mapping entry to all other NEs on the DCN. Therefore, all the NEs on the DCN can communicate with each other.</p>
<p>The DCN feature allows NMSs to use GNEs to manage NEs. A GNE supports the automatic NE report function, enabling the GNE to automatically report a new NE's information to NMSs immediately after the GNE detects the new NE. Then the NMSs can manage the new NE in time. In addition, a GNE can send a trap to its interworking NMSs when the number of NEs connected to the GNE reaches the alarm threshold. Then the NMSs will generate alarms to inform users of this information.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172361405__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring basic DCN functions, complete the following tasks:</p>
<ul><li><p>Configure reachable routes between the GNE and NMSs.</p>
</li><li><p>Configure reachable routes between the GNE and NEs.</p>
</li></ul>
<div class="p"><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>When the GNE is connected to an NE for the first time, the SSH default user account is used for login.</p>
</div></div>
</div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172361405__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enable DCN Globally.</span><ol type="a"><li><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li><span>Run the <a href="cmdqueryname=dcn"><b><span class="cmdname">dcn</span></b></a> command to enable the DCN function globally.</span></li><li><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li></ol>
</li><li><span>Enable DCN on an interface and specify a DCN VLAN.</span><p><p>By default, DCN is enabled on some interfaces. For details, see <a href="#EN-US_TASK_0172361405__table1338383833213">Table 1</a>.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>After an interface is switched to a FlexE interface, the DCN status does not change.</p>
<p>The default DCN enabling rule of a subcard with adjustable interface bandwidth is the same as that of a subcard with only one type of interface bandwidth and is not affected by the adjustable bandwidth.</p>
</div></div>

<div class="tableBorder"><a name="EN-US_TASK_0172361405__table1338383833213"></a><a name="table1338383833213"></a><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_TASK_0172361405__table1338383833213" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Rules for enabling DCN on interfaces by default</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="25%" id="mcps1.4.3.2.2.3.2.5.1.1" liSelected="liSelected"><p>Interfaces on Fixed Boards</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="25%" id="mcps1.4.3.2.2.3.2.5.1.2" liSelected="liSelected"><p>Ethernet Interfaces on Flexible Cards</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="25%" id="mcps1.4.3.2.2.3.2.5.1.3" liSelected="liSelected"><p>POS Interface on Flexible Cards</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="25%" id="mcps1.4.3.2.2.3.2.5.1.4" liSelected="liSelected"><p>E1 and CPOS Interfaces on Subcards That Support the DCN Function</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="25%" headers="mcps1.4.3.2.2.3.2.5.1.1 "><p>DCN is enabled on all interfaces by default.</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.4.3.2.2.3.2.5.1.2 "><p>In transport mode:</p>
<ul><li>For subcards with multiple interface bandwidths, DCN is enabled on the first four interfaces by default.</li><li>For a subcard with only one type of interface bandwidth:<ul><li>For a subcard with eight or more interfaces, DCN is enabled on the first four interfaces by default.</li><li>For a subcard with five to seven interfaces, DCN is enabled on the first two interfaces by default.</li><li>For a subcard with four or fewer interfaces, DCN is enabled on the first interface by default.</li></ul>
</li></ul>
<p>In non-transport mode:</p>
<p>DCN is enabled on all interfaces by default.</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.4.3.2.2.3.2.5.1.3 "><ul><li>For a subcard with eight or more interfaces, DCN is enabled on the first four interfaces by default.</li><li>For a subcard with four to seven interfaces, DCN is enabled on the first two interfaces by default.</li><li>For a subcard with less than four interfaces, DCN is enabled on the first interface by default.</li></ul>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.4.3.2.2.3.2.5.1.4 "><ul><li>For channelized interfaces, DCN is enabled on interfaces 2, 18, 34, and 50 by default.</li><li>For unchannelized interfaces, DCN is enabled on interfaces 2 and 18 by default in transport mode; DCN is enabled on interfaces 1 and 17 by default in non-transport mode.</li></ul>
</td>
</tr>
</tbody>
</table>
</div>
</p><p><p>In router mode:</p>
</p><ol type="a"><li><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li><span>Run the <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> command to enter the interface view.</span></li><li><span>Run the <a href="cmdqueryname=dcn+%28interface+view%29"><b><span class="cmdname">dcn (interface view)</span></b></a> command to enable DCN on the interface. </span></li><li><span>Run the <span><a href="cmdqueryname=dcn+vlan"><b><span class="cmdname">dcn vlan</span></b></a> { <i><span class="varname">beginVlan</span></i> [ <strong><span>to</span></strong> <i><span class="varname">endVlan</span></i> ] } &amp;&lt;1â4094&gt; command </span>to specify a DCN VLAN. </span></li><li><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li></ol>
<p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>A DCN VLAN can be a service VLAN in router mode.</p>
</div></div>
<p></p>
</p><p><p>In transport mode:</p>
</p><ol type="a"><li class="substepexpand"><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> command to enter the interface view.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=dcn"><b><span class="cmdname">dcn</span></b></a> command to enable DCN on the interface.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=dcn+vlan"><b><span class="cmdname">dcn vlan</span></b></a> <i><span class="varname">beginvlan-id</span></i> command to specify a DCN VLAN.</span><p><p></p>
</p></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li></ol>
<p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In transport mode, only one DCN VLAN can be configured. And it is conflicted with service VLAN.</p>
</div></div>
</p></li><li><span>Configure the automatic NE report function on a GNE.</span><ol type="a"><li><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li><span>Run the <a href="cmdqueryname=dcn"><b><span class="cmdname">dcn</span></b></a> command to enter the DCN view.</span></li><li><span>Run the <a href="cmdqueryname=auto-report"><b><span class="cmdname">auto-report</span></b></a> command to enable the automatic NE report function.</span></li><li><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li></ol>
</li><li><span>Configure an NEID and NEIP.</span><ol type="a"><li><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li><span>Run the <a href="cmdqueryname=set+neid"><b><span class="cmdname">set neid</span></b></a> <i><span class="varname">ne-id</span></i> command to set an NEID.</span></li><li><span>Run the <a href="cmdqueryname=dcn"><b><span class="cmdname">dcn</span></b></a> command to enter the DCN view.</span></li><li><span>Run the <a href="cmdqueryname=ne-ip"><b><span class="cmdname">ne-ip</span></b></a> <i><span class="varname">ip-address</span></i> { <i><span class="varname">ip-mask</span></i> | <i><span class="varname">mask-length</span></i> } command to set an NEIP.</span></li><li><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li></ol>
</li><li><span>(Optional) Configure the bandwidth for DCN interfaces to send packets.</span><ol type="a"><li><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li><span>Run the <a href="cmdqueryname=dcn"><b><span class="cmdname">dcn</span></b></a> command to enter the DCN view.</span></li><li><span>Run the <a href="cmdqueryname=bandwidth"><b><span class="cmdname">bandwidth</span></b></a> { <strong><span>ethernet</span></strong> <i><span class="varname">bandwidth</span></i><span> | <strong><span>pos</span></strong> <i><span class="varname">bandwidth</span></i></span><span> | <strong><span>serial</span></strong> <i><span class="varname">bandwidth</span></i></span> } command to configure bandwidth for DCN interfaces to send packets.</span></li><li><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li></ol>
</li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0172361405__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><div class="p">Perform the following operations to check the configurations:<ul><li>Run the <a href="cmdqueryname=display+neid"><b><span class="cmdname">display neid</span></b></a> command to check the NE ID.</li><li>Run the <a href="cmdqueryname=display+dcn+brief"><b><span class="cmdname">display dcn brief</span></b></a> command to check configurations of the GNE.</li><li>Run the <a href="cmdqueryname=display+dcn+ne-info"><b><span class="cmdname">display dcn ne-info</span></b></a> command to check information about the DCN core routing table.</li><li>Run the <a href="cmdqueryname=display+dcn+global"><b><span class="cmdname">display dcn global</span></b></a> command to check whether DCN is enabled globally.</li><li>Run the <a href="cmdqueryname=display+dcn+default-port"><b><span class="cmdname">display dcn default-port</span></b></a> command to check the interface on which DCN is enabled by default.</li><li>Run the <a href="cmdqueryname=display+dcn+interface"><b><span class="cmdname">display dcn interface</span></b></a> [ <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> ] command to check DCN configurations and traffic statistics of an interface.</li><li>Run the <a href="cmdqueryname=display+dcn+warning"><b><span class="cmdname">display dcn warning</span></b></a> command to check DCN trap information.</li></ul>
</div>
<h4 class="sectiontitle">Follow-up Procedure</h4><div class="p">An NMS's IP address is a public IP address, and a GNE's NE IP address is a Layer 3 VPN address. To implement address conversion, specify the interface that connects a GNE to an NMS, bind the interface to a DCN VPN instance, and set an IP address for the interface. After DCN is enabled globally on the GNE, it automatically generates a DCN VPN instance named <strong>__dcn_vpn__</strong>. Detailed operations are as follows:<ul><li><p>Run the <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> command to enter the interface view.</p>
</li><li><p>Run the <a href="cmdqueryname=ip+binding+vpn-instance"><b><span class="cmdname">ip binding vpn-instance</span></b></a> <i><span class="varname">vpn-instance-name</span></i> command to bind a DCN VPN instance.</p>
</li><li><p>Run the <span><a href="cmdqueryname=ip+address"><b><span class="cmdname">ip address</span></b></a> { <i><span class="varname">mask</span></i> | <i><span class="varname">mask-length</span></i> }</span> command to set an interface IP address.</p>
</li></ul>
</div>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dcn_cfg_0000.html">DCN Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/spec/DCN_limitation.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dcn_cfg_0042.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>