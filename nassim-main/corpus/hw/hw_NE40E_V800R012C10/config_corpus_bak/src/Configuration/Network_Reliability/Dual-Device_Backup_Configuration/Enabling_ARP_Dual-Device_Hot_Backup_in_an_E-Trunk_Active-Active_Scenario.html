
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Enabling ARP Dual-Device Hot Backup in an E-Trunk Active-Active Scenario">
<meta name="abstract" content="ARP dual-device hot backup is configured. The E-Trunk protocol is configured. Dual-homing PEs on the access side are configured to work in active-active mode.">
<meta name="description" content="ARP dual-device hot backup is configured. The E-Trunk protocol is configured. Dual-homing PEs on the access side are configured to work in active-active mode.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_rbs_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_rbs_cfg_0015.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_rbs_cfg_0021.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00604599">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Dual-Device Backup">
<meta name="featuretype" content="Network Reliability">
<meta name="Solution" content="html_ismerge">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Dual-Device Backup">
<meta name="featuretype" content="Network Reliability">
<meta name="featurename" content="Dual-Device Backup">
<meta name="featuretype" content="Network Reliability">
<meta name="OWNER" content="w00604599">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00437000">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172362251">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Enabling ARP Dual-Device Hot Backup in an E-Trunk Active-Active Scenario</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0172362251"></a><a name="EN-US_TASK_0172362251"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Enabling ARP Dual-Device Hot Backup in an E-Trunk Active-Active Scenario</h1>
<div class="taskbody"><p>ARP dual-device hot backup is configured. The E-Trunk protocol is configured. Dual-homing PEs on the access side are configured to work in active-active mode.</p>
<div class="context"><a name="EN-US_TASK_0172362251__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>ARP dual-device hot backup is manually triggered to back up ARP entries if a link fails in an E-Trunk backup group, which prevents service interruptions in an E-Trunk active-active scenario.</p>
<div class="fignone"><span class="figcap"><b>Figure 1 </b>ARP dual-device hot backup in an E-Trunk active-active scenario</span><br><span><img class="vsd" src="images/fig_feature_image_0003991765.png" width="NaN" height="NaN"></span></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172362251__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Create an RBS.</span><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=remote-backup-service"><b><span class="cmdname">remote-backup-service</span></b></a> <i><span class="varname"><span>remote-backup-</span>service-name</span></i></span><p><p>An RBS is created, and the RBS view is displayed.</p>
</p></li><li class="substepexpand"><span>Parameters of a TCP connection for the RBS are set.</span><p><ul><li>On an IPv4 network, run:<pre class="screen"><a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">peer-ip-address</span></i> <a href="cmdqueryname=source"><b><span class="cmdname">source</span></b></a> <i><span class="varname">source-ip-address</span></i> <a href="cmdqueryname=port"><b><span class="cmdname">port</span></b></a> <i><span class="varname">port-id</span></i></pre>
</li><li>On an IPv6 network, run:<pre class="screen"><a href="cmdqueryname=peer-ipv6"><b><span class="cmdname">peer-ipv6</span></b></a> <span> <i><span class="varname" id="EN-US_TASK_0172362251__en-us_cliref_0172377314_varname1673713244481">peerIpv6</span></i> <strong><span id="EN-US_TASK_0172362251__en-us_cliref_0172377314_cmdparmname1994608825214438">source-ipv6</span></strong> <i><span class="varname" id="EN-US_TASK_0172362251__en-us_cliref_0172377314_varname1862258404214438">source-ipv6-address</span></i> <strong><span id="EN-US_TASK_0172362251__en-us_cliref_0172377314_cmdparmname783462925214438">port</span></strong> <i><span class="varname" id="EN-US_TASK_0172362251__en-us_cliref_0172377314_varname1873654040214438">port-id</span></i></span></pre>
</li></ul>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li></ol>
</li><li><span>Configure a dual-device E-Trunk backup platform.</span><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=e-trunk"><b><span class="cmdname">e-trunk</span></b></a> <i><span class="varname">e-trunk-id</span></i></span><p><p>An E-Trunk was created, and the E-Trunk view is displayed.</p>
</p></li><li class="substepexpand"><span>IP addresses are configured for the source and peer ends of an E-Trunk link.</span><p><ul><li>On an IPv4 network, run:<pre class="screen"><a href="cmdqueryname=peer-address"><b><span class="cmdname">peer-address</span></b></a> <i><span class="varname">peer-ip-address</span></i> <strong><span>source-address</span></strong> <i><span class="varname">source-ip-address</span></i></pre>
</li><li>On an IPv6 network, run:<pre class="screen"><a href="cmdqueryname=peer-ipv6"><b><span class="cmdname">peer-ipv6</span></b></a> <i><span class="varname">peer-ipv6-address</span></i> <strong><span>source-ipv6</span></strong> <i><span class="varname">source-ipv6-address</span></i></pre>
</li></ul>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=interface+eth-trunk"><b><span class="cmdname">interface eth-trunk</span></b></a> <i><span class="varname">trunk-id</span></i></span><p><p>An Eth-Trunk interface is created.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=e-trunk"><b><span class="cmdname">e-trunk</span></b></a> <i><span class="varname">e-trunk-id</span></i></span><p><p>The Eth-Trunk interface is added to the E-Trunk interface.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=e-trunk+mode"><b><span class="cmdname">e-trunk mode</span></b></a> <strong><span>force-master</span></strong></span><p><p>The E-Trunk member interface is configured to work in the active state.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li></ol>
</li><li><span>Configuring the RBP.</span><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=remote-backup-profile"><b><span class="cmdname">remote-backup-profile</span></b></a> <i><span class="varname">profile-name</span></i></span><p><p>The RBP view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=backup-id"><b><span class="cmdname">backup-id</span></b></a> <i><span class="varname">backup-id</span></i> <a href="cmdqueryname=remote-backup-service"><b><span class="cmdname">remote-backup-service</span></b></a> <i><span class="varname">service-name</span></i></span><p><p>The RBP is associated with the RBS, and the user backup ID in the RBP is set.</p>
<p>The <i><span class="varname">backup-id</span></i> parameter specifies a user backup ID. You can use a backup ID and an RBS to determine an RBP. The backup IDs configured for the same RBP must be the same on the master and backup devices and can no longer be configured for other RBPs.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=service-type+arp"><b><span class="cmdname">service-type arp</span></b></a></span><p><p>Remote backup is enabled for ARP services.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=e-trunk"><b><span class="cmdname">e-trunk</span></b></a> <i><span class="varname">e-trunk-id</span></i> <strong><span>eth-trunk</span></strong> <i><span class="varname">eth-trunk-id</span></i></span><p><p>The E-Trunk master/backup protocol is configured, and the E-Trunk is bound to the RBP.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li></ol>
</li><li><span>Bind the RBP to the Eth-Trunk interface.</span><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=interface+eth-trunk"><b><span class="cmdname">interface eth-trunk</span></b></a> <i><span class="varname">trunk-id</span></i></span><p><p>The view of the created Eth-Trunk interface is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=remote-backup-profile"><b><span class="cmdname">remote-backup-profile</span></b></a> <i><span class="varname">profile-name</span></i></span><p><p>The RBP is bound to the Eth-Trunk interface.</p>
</p></li></ol>
</li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_rbs_cfg_0000.html">Dual-Device Backup Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_rbs_cfg_0015.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_rbs_cfg_0021.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>