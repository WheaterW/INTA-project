
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Setting OAM PDU Parameters">
<meta name="abstract" content="You can set the maximum OAM PDU size, interval at which OAM PDUs are sent, and interval at which OAM PDUs are received to effectively control OAM PDU transmission.">
<meta name="description" content="You can set the maximum OAM PDU size, interval at which OAM PDUs are sent, and interval at which OAM PDUs are received to effectively control OAM PDU transmission.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_efm_cfg_2003.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_efm_cfg_2005.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_efm_cfg_2009.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z50024784,c00376497,z00603461,w00800033,jwx1168690,w00556928,w00437000,eoam-vrp,w00606909,m00390128,l00455378,wwx1270540">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Ethernet OAM">
<meta name="featuretype" content="Network Reliability">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Ethernet OAM">
<meta name="featuretype" content="Network Reliability">
<meta name="featurename" content="Ethernet OAM">
<meta name="featuretype" content="Network Reliability">
<meta name="featurename" content="Ethernet OAM">
<meta name="featuretype" content="Network Reliability">
<meta name="featurename" content="Ethernet OAM">
<meta name="featuretype" content="Network Reliability">
<meta name="OWNER" content="z00545680">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="p00915595">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172362002">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Setting OAM PDU Parameters</title>
</head>
<body><a name="EN-US_TASK_0172362002"></a><a name="EN-US_TASK_0172362002"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Setting OAM PDU Parameters</h1>
<div class="taskbody"><p>You can set the maximum OAM PDU size, interval at which OAM PDUs are sent, and interval at which OAM PDUs are received to effectively control OAM PDU transmission.</p>
<div class="context"><a name="EN-US_TASK_0172362002__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>EFM devices exchange OAM PDUs periodically to report the link status. You can set OAM PDU parameters to effectively manage networks.</p>
<div class="p">OAM PDU parameters include the maximum OAM PDU size<span>, interval at which OAM PDUs are sent,</span> and interval at which OAM PDUs are received.<ul><li><p>After the maximum OAM PDU size is set on an interface, the interface discards packets whose sizes are greater than the maximum OAM PDU size. You can also change the maximum OAM PDU size to implement interworking between Huawei and non-Huawei devices.</p>
</li><li><p>After setting up an EFM connection, two EFM devices exchange OAM PDUs at a specific interval to check whether the connection is working properly. If an EFM device does not receive any OAM PDU from its remote EFM device within the interval at which OAM PDUs are received, it considers that the link is not working properly. You can configure different intervals at which OAM PDUs are received to meet different user requirements. A short interval can be set for high-priority users or services sensitive to link quality. A long interval can be set for low-priority users or services insensitive to link quality.</p>
</li></ul>
</div>
<p>Perform the following steps on the interfaces at both ends of a link.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172362002__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Set the maximum OAM PDU size.</span><p><ol><li><p>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></p>
<p>The system view is displayed.</p>
</li><li><p>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></p>
<p>The view of the interface at one end of a link is displayed.</p>
</li><li><p>Run <a href="cmdqueryname=efm+packet+max-size"><b><span class="cmdname">efm packet max-size</span></b></a> <i><span class="varname">size</span></i></p>
<p>The maximum OAM PDU size is set.</p>
<p>If the maximum OAM PDU sizes set on the interfaces at both ends of a link are different, the interfaces negotiate the maximum OAM PDU size in the discovery phase. A smaller value between the maximum OAM PDU sizes at both ends is used.</p>
</li><li><p>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></p>
<p>The configuration is committed.</p>
</li></ol>
</p></li><li><span>Set the interval at which OAM PDUs are sent.</span><p><ol><li><p>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></p>
<p>The system view is displayed.</p>
</li><li><p>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></p>
<p>The view of the interface at one end of a link is displayed.</p>
</li><li><p>Run <a href="cmdqueryname=efm+interval"><b><span class="cmdname">efm interval</span></b></a> <i><span class="varname">interval-value</span></i></p>
<p>The interval at which OAM PDUs are sent is set.</p>
<p>You must set the same interval at which OAM PDUs are sent on the interfaces at both ends of a link. If you set different intervals at both ends, session negotiation fails or session flapping occurs.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The interval at which OAM PDUs are sent must be set for an interface only when EFM OAM has been globally enabled and EFM OAM has not been enabled on the interface.</p>
</div></div>
</li><li><p>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></p>
<p>The configuration is committed.</p>
</li></ol>
</p></li><li><span>Set the interval at which OAM PDUs are received.</span><p><ol><li><p>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></p>
<p>The system view is displayed.</p>
</li><li><p>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></p>
<p>The view of the interface at one end of a link is displayed.</p>
</li><li><p>Run <a href="cmdqueryname=efm+timeout"><b><span class="cmdname">efm timeout</span></b></a> <i><span class="varname">timeout-value</span></i></p>
<p>The interval at which OAM PDUs are received is set.</p>
<p>You must set the same interval at which OAM PDUs are received on the interfaces at both ends of a link. If you set different intervals at both ends, session negotiation fails or session flapping occurs.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The interval at which OAM PDUs are received must be set for an interface only when EFM OAM has been globally enabled and EFM OAM has not been enabled on the interface.</p>
</div></div>
</li><li><p>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></p>
<p>The configuration is committed.</p>
</li></ol>
</p></li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_efm_cfg_2003.html">Configuring Basic EFM OAM Functions
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_efm_cfg_2005.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_efm_cfg_2009.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>