
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Bit-Error-Triggered Section-Layer Protection Switching">
<meta name="abstract" content="This section describes how to configure bit-error-triggered section switching.">
<meta name="description" content="This section describes how to configure bit-error-triggered section switching.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_error-code_000001.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_error-code_000002.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_error-code_000020.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909,m00390128,q00824768,z00545680">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Bit-Error-Triggered Protection Switching">
<meta name="featuretype" content="Network Reliability">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Bit-Error-Triggered Protection Switching">
<meta name="featuretype" content="Network Reliability">
<meta name="featurename" content="Bit-Error-Triggered Protection Switching">
<meta name="featuretype" content="Network Reliability">
<meta name="OWNER" content="z00545680">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00800033">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001379407314">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Bit-Error-Triggered Section-Layer Protection Switching</title>
</head>
<body><a name="EN-US_TASK_0000001379407314"></a><a name="EN-US_TASK_0000001379407314"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Bit-Error-Triggered Section-Layer Protection Switching</h1>
<div class="taskbody"><p>This section describes how to configure bit-error-triggered section switching.</p>
<div class="context"><a name="EN-US_TASK_0000001379407314__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>Bit errors caused by optical fiber aging or optical signal jitter may exist on carrier networks. These bit errors may result in the interruption of services with high quality requirements. In a scenario in which services travel along an LDP LSP and LDP auto fast reroute (FRR) is configured for the LDP LSP, you can configure bit-error-triggered LDP LSP switching to protect services against bit errors.</p>
<p>To do so, you only need to enable bit error detection on interfaces along the primary and backup paths of the LDP LSP and set the switching type of each interface as trigger-section. If an interface encounters a bit error event after you configure bit-error-triggered LDP LSP switching, the interface changes its status to Down and triggers route convergence, which in turn triggers LDP LSP switching.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001379407314__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring bit-error-triggered section switching, complete the following tasks:</p>
<ul><li><p>Enable BFD globally.</p>
</li><li><p><a href="../vrp/dc_vrp_ldp-p2p_cfg_0049.html">Configure LDP auto FRR</a>.</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001379407314__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span><p><p>The views of the interfaces along the primary and backup paths of the LDP LSP are displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=trap-threshold+crc-error+packet-error-ratio"><b><span class="cmdname">trap-threshold crc-error packet-error-ratio</span></b></a></span><strong><span> alarm-threshold</span></strong> <i><span class="varname"><span>coef-value pow-value</span></span></i> [ <strong><span>resume-threshold</span></strong> <i><span class="varname">rsm-coe<span>f-value</span></span></i> <i><span class="varname">rsm-pow<span>-value</span></span></i> ] [<a href="cmdqueryname=trigger-lsp"><b><span class="cmdname">trigger-lsp </span></b></a>| <strong><span>trigger-section</span></strong>]</span><p><p>Bit error detection is enabled, and the thresholds for triggering bit error event alarms are set.</p>
</p><p><p>To enable bit-error-triggered LDP LSP switching to take effect, you must specify <strong><span>trigger-section</span></strong>.</p>
<p>To enable bit-error-triggered trunk update to take effect, you must specify the switching type, either <strong><span>trigger-lsp</span></strong> or <strong><span>trigger-section</span></strong>.</p>
<p>The <strong><span>alarm-threshold</span></strong> value equals <i><span class="varname">alarm-coe</span></i> multiplied by 10<sup>-<i><span class="varname">alarm-pow</span></i></sup>. If the BER detected by a trunk member interface exceeds the <strong><span>alarm-threshold</span></strong> value, the trunk member interface reports an alarm indicating that a bit error event has occurred.</p>
<p>The <strong><span>resume-threshold</span></strong> value equals <i><span class="varname">resume-coe</span></i> multiplied by 10<sup>-<i><span class="varname">resume-pow</span></i></sup>. If the BER detected by a trunk member interface falls below the <strong><span>resume-threshold</span></strong> value, the trunk member interface reports an alarm indicating that the bit error event is over.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li><p>The <strong><span>resume-threshold</span></strong> value cannot be greater than the <strong><span>alarm-threshold</span></strong> value.</p>
</li><li><p>If you do not specify the <strong><span>resume-threshold</span></strong> value, the system automatically uses tenth of the <strong><span>alarm-threshold</span></strong> value as the <strong><span>resume-threshold</span></strong> value.</p>
</li></ul>
</div></div>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0000001379407314__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>After an interface along the primary or backup paths of an LDP LSP encounters a bit error event, run the following commands to check the configurations:</p>
<ul><li><p>Run the <a href="cmdqueryname=display+interface"><b><span class="cmdname">display interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> command. The command output shows that the link protocol status of the interface that has encountered the bit error event is <strong>DOWN(bit-error-detection down)</strong>.</p>
</li><li><p>Run the <a href="cmdqueryname=display+mpls+lsp"><b><span class="cmdname">display mpls lsp</span></b></a> command. The command output shows LDP LSP configurations.</p>
</li><li><p>Before a bit error event occurs, run the <a href="cmdqueryname=tracert+lsp"><b><span class="cmdname">tracert lsp</span></b></a> <strong><span>ip</span></strong> <i><span class="varname">destination-address</span></i> <i><span class="varname">mask-length</span></i> command. The command output shows that the LDP LSP uses the primary path to transmit services.</p>
</li><li><p>After a bit error event occurs, run the <a href="cmdqueryname=tracert+lsp"><b><span class="cmdname">tracert lsp</span></b></a> <strong><span>ip</span></strong> <i><span class="varname">destination-address</span></i> <i><span class="varname">mask-length</span></i> command. The command output shows that the LDP LSP uses the backup path to transmit services.</p>
</li></ul>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_error-code_000001.html">Bit-Error-Triggered Protection Switching Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_error-code_000002.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_error-code_000020.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>