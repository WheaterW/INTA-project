
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring CC/CV">
<meta name="abstract" content="This section describes how to configure CC and CV for LSP.">
<meta name="description" content="This section describes how to configure CC and CV for LSP.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-tp_oam_cfg_0004.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-tp_oam_cfg_0005.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-tp_oam_cfg_0007.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z50024784,z00603461,w00800033,jwx1168690,tpoam_vrp,w00556928,w00437000,w00606909,m00390128,l00455378,wwx1270540">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS-TP OAM">
<meta name="featuretype" content="Network Reliability">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS-TP OAM">
<meta name="featuretype" content="Network Reliability">
<meta name="featurename" content="MPLS-TP OAM">
<meta name="featuretype" content="Network Reliability">
<meta name="featurename" content="MPLS-TP OAM">
<meta name="featuretype" content="Network Reliability">
<meta name="OWNER" content="z00545680">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="q00824768">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172362411">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring CC/CV</title>
</head>
<body><a name="EN-US_TASK_0172362411"></a><a name="EN-US_TASK_0172362411"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring CC<span>/CV</span></h1>
<div class="taskbody" id="taskbody364450061214025"><p id="shortdesc1270353075214025">This section describes how to configure CC<span> and CV</span> for <span>LSP</span>.</p>
<div class="context"><a name="EN-US_TASK_0172362411__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0172362411__context1959754951214025"><div class="p" id="EN-US_TASK_0172362411__p1644767418214025">Continuity check (CC) and connectivity verification (CV) are two fault management functions of MPLS-TP OAM. CC is used to detect loss of continuity (LOC) between MEPs in a MEG. CV is used to detect forwarding errors between MEGs or between MEPs in a MEG. CC and CV are both proactive OAM operations but have the following differences:<ul id="EN-US_TASK_0172362411__ul1747585456214025"><li id="EN-US_TASK_0172362411__li1016632869214025"><p id="EN-US_TASK_0172362411__p1168733751214025"><a name="EN-US_TASK_0172362411__li1016632869214025"></a><a name="li1016632869214025"></a>CC detects LOC on a link between any MEPs in a MEG. A MEP sends continuity check messages (CCMs) to its remote MEP (RMEP) at a specified interval. If the RMEP does not receive CCMs within a period of 3.5 times as long as the specified interval, the RMEP considers that the connectivity between the MEPs has errors, reports an alarm, and enters the Down state. After that, automatic protection switching (APS) is triggered on both MEPs. Upon receipt of a CCM from the MEP, the RMEP clears the alarm and exits from the Down state.</p>
</li><li id="EN-US_TASK_0172362411__li1040594849214025"><p id="EN-US_TASK_0172362411__p170805975214025"><a name="EN-US_TASK_0172362411__li1040594849214025"></a><a name="li1040594849214025"></a>CV enables a MEP to report alarms when receiving unexpected packets. For example, if a CV-enabled device receives a packet from an LSP and finds that this packet is incorrectly transmitted through the LSP, the device will report an alarm indicating a forwarding error.</p>
<p id="EN-US_TASK_0172362411__p328859095214025">Transport networks have strict requirements on the correctness of data forwarding. In addition, MPLS-TP requires that the data plane should be able to work without IP support, which means that packet forwarding is based on label switching only. Therefore, the correctness of label-based forwarding must be ensured.</p>
</li></ul>
</div>
<p id="EN-US_TASK_0172362411__p932527681214025">In practice, CC and CV are used together in the <span class="keyword" id="EN-US_TASK_0172362411__keyword1161823253214025">NE40E</span>. The configurations for CC and CV are the same. Perform the following steps on a MEP and its RMEP:</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172362411__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0172362411__steps894956518214025"><li id="EN-US_TASK_0172362411__step1851194782214025"><span id="EN-US_TASK_0172362411__cmd287623338214025">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172362411__cmdname1500821123214025">system-view</span></b></a></span><p><p id="EN-US_TASK_0172362411__p13864163025219">The system view is displayed.</p>
</p></li><li id="EN-US_TASK_0172362411__step123371452214025"><span id="EN-US_TASK_0172362411__cmd1182274409214025">Run <a href="cmdqueryname=mpls-tp+meg"><b><span class="cmdname" id="EN-US_TASK_0172362411__cmdname1585120121214025">mpls-tp meg</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362411__varname1602098080214025">meg-name</span></i></span><p><p id="EN-US_TASK_0172362411__p4528948145210">A MEG is created, and the MEG view is displayed.</p>
</p></li><li id="EN-US_TASK_0172362411__step311257304214025"><span id="EN-US_TASK_0172362411__cmd31344236214025">(Optional) Run either of the following commands:</span><p><div class="note" id="EN-US_TASK_0172362411__note2096888349214025"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172362411__p2872123720714">Ensure that the same value is set on the local MEP and its RMEP; otherwise, an alarm will be generated.</p>
</div></div>
<ul id="EN-US_TASK_0172362411__ul881833316214025"><li id="EN-US_TASK_0172362411__li1927567943214025"><p id="EN-US_TASK_0172362411__p1843603006214025"><a name="EN-US_TASK_0172362411__li1927567943214025"></a><a name="li1927567943214025"></a>To configure an interval at which CCMs are sent, run the <a href="cmdqueryname=cc+interval"><b><span class="cmdname" id="EN-US_TASK_0172362411__cmdname1338596227214025">cc interval</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362411__varname840505420214025">interval-value</span></i> command.</p>
<div class="p" id="EN-US_TASK_0172362411__p1472683564214025">Optional CCM transmission intervals and their usage scenarios are as follows:<ul id="EN-US_TASK_0172362411__ul1381594350214025"><li id="EN-US_TASK_0172362411__li1954415142214025">3.3 ms: 300 frames are sent per second. This interval is recommended for protection switching.</li><li id="EN-US_TASK_0172362411__li158401865214025">10 ms: 100 frames are sent per second.</li><li id="EN-US_TASK_0172362411__li514578221214025">100 ms: 10 frames are sent per second. This interval is recommended for performance monitoring.</li><li id="EN-US_TASK_0172362411__li1016300959214025">1000 ms: 1 frame is sent per second. This interval is recommended for fault management.</li><li id="EN-US_TASK_0172362411__li1229039796214025">10000 ms: 6 frames are sent per minute.</li><li id="EN-US_TASK_0172362411__li101141991214025">60000 ms: 1 frame is sent per minute.</li><li id="EN-US_TASK_0172362411__li1496800721214025">600000 ms: 6 frames are sent per hour.</li></ul>
Select a proper CCM transmission interval to meet CC application requirements.</div>
</li><li id="EN-US_TASK_0172362411__li179772435214025"><p id="EN-US_TASK_0172362411__p2073307363214025"><a name="EN-US_TASK_0172362411__li179772435214025"></a><a name="li179772435214025"></a>To configure a priority for CCMs in the MEG view, run the <a href="cmdqueryname=cc+exp"><b><span class="cmdname" id="EN-US_TASK_0172362411__cmdname1438729579214025">cc exp</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362411__varname197180898214025">exp-value</span></i> command.</p>
<p id="EN-US_TASK_0172362411__p2070165609214025">If the MPLS-TP network is severely congested and the priority of CCMs is low, CCMs fail to be sent. Therefore, configure an appropriate priority for CCMs according to network conditions.</p>
</li></ul>
</p></li><li id="EN-US_TASK_0172362411__step1057873806214025"><span id="EN-US_TASK_0172362411__cmd667943929214025">(Optional) On the local MEP, run <a href="cmdqueryname=rdi+disable"><b><span class="cmdname" id="EN-US_TASK_0172362411__cmdname52218372214025">rdi disable</span></b></a></span><p><p id="EN-US_TASK_0172362411__p35979175185">RDI is disabled.</p>
<p id="EN-US_TASK_0172362411__p755063025717">RDI is enabled by default.</p>
<p id="EN-US_TASK_0172362411__p1702097621214025">If an MEP detects a defect or fault, the RDI flag is set to 1 in CCMs. The MEP then sends the CCMs to the RMEP to notify it of the defect or fault.</p>
</p></li><li id="EN-US_TASK_0172362411__step729145561214025"><span id="EN-US_TASK_0172362411__cmd1207753945214025">Perform the following steps to enable CC<span>/CV</span> on the MEP and RMEP (this operation sequence prevents alarm misreports during the enabling process):</span><ol type="a" id="EN-US_TASK_0172362411__substeps175537853214025"><li id="EN-US_TASK_0172362411__substep1973580977214025"><span id="EN-US_TASK_0172362411__cmd2090552524214025">Run the <a href="cmdqueryname=cc+send+enable"><b><span class="cmdname" id="EN-US_TASK_0172362411__cmdname8747691214025">cc send enable</span></b></a> command on the local MEP to enable the MEP to send CCMs.</span></li><li id="EN-US_TASK_0172362411__substep1662080492214025"><span id="EN-US_TASK_0172362411__cmd119548868214025">Run the <a href="cmdqueryname=cc+send+enable"><b><span class="cmdname" id="EN-US_TASK_0172362411__cmdname1442549261214025">cc send enable</span></b></a> command on the RMEP to enable the RMEP to send CCMs.</span></li><li id="EN-US_TASK_0172362411__substep1368736793214025"><span id="EN-US_TASK_0172362411__cmd514453287214025">Run the <a href="cmdqueryname=cc+receive+enable"><b><span class="cmdname" id="EN-US_TASK_0172362411__cmdname1019972054214025">cc receive enable</span></b></a> command on the local MEP to enable the MEP to receive CCMs.</span></li><li id="EN-US_TASK_0172362411__substep1400820179214025"><span id="EN-US_TASK_0172362411__cmd721526392214025">Run the <a href="cmdqueryname=cc+receive+enable"><b><span class="cmdname" id="EN-US_TASK_0172362411__cmdname1483050313214025">cc receive enable</span></b></a> command on the RMEP to enable the RMEP to receive CCMs.</span></li></ol>
</li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-tp_oam_cfg_0004.html">Configuring MPLS-TP OAM for a Bidirectional co-routed LSP.
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-tp_oam_cfg_0005.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-tp_oam_cfg_0007.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>