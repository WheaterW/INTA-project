
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Enabling Enhanced Sending and Replication of Gratuitous ARP Packets for a VRRP Group">
<meta name="abstract" content="After enhanced sending and replication of gratuitous ARP packets is enabled for a VRRP group, when a backup device in the VRRP group assumes the master role, it sends a gratuitous ARP packet for each virtual IP address six consecutive times. At the same time, the device replicates each gratuitous ARP packet to be sent to each Eth-Trunk member interface if the VRRP group is configured on an Eth-Trunk interface or Eth-Trunk sub-interface. This ensures that downstream devices can receive the gratuitous ARP packets and update destination MAC addresses and outbound interfaces in time.">
<meta name="description" content="After enhanced sending and replication of gratuitous ARP packets is enabled for a VRRP group, when a backup device in the VRRP group assumes the master role, it sends a gratuitous ARP packet for each virtual IP address six consecutive times. At the same time, the device replicates each gratuitous ARP packet to be sent to each Eth-Trunk member interface if the VRRP group is configured on an Eth-Trunk interface or Eth-Trunk sub-interface. This ensures that downstream devices can receive the gratuitous ARP packets and update destination MAC addresses and outbound interfaces in time.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vrrp_cfg_0100.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vrrp_cfg_0144.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vrrp_cfg_0161.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00604599">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="Network Reliability">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="Network Reliability">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="Network Reliability">
<meta name="OWNER" content="w00604599">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00604599">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0190840606">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Enabling Enhanced Sending and Replication of Gratuitous ARP Packets for a VRRP Group</title>
</head>
<body><a name="EN-US_TASK_0190840606"></a><a name="EN-US_TASK_0190840606"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Enabling Enhanced Sending and Replication of Gratuitous ARP Packets for a VRRP Group</h1>
<div class="taskbody"><p>After enhanced sending and replication of gratuitous ARP packets is enabled for a VRRP group, when a backup device in the VRRP group assumes the master role, it sends a gratuitous ARP packet for each virtual IP address six consecutive times. At the same time, the device replicates each gratuitous ARP packet to be sent to each Eth-Trunk member interface if the VRRP group is configured on an Eth-Trunk interface or Eth-Trunk sub-interface. This ensures that downstream devices can receive the gratuitous ARP packets and update destination MAC addresses and outbound interfaces in time.</p>
<div class="context"><a name="EN-US_TASK_0190840606__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>To ensure that downstream devices can receive the gratuitous ARP packets and update destination MAC addresses and outbound interfaces in time, enable enhanced sending of gratuitous ARP packets for the VRRP group. After this function is enabled, when a backup device in the VRRP group assumes the master role, it sends a gratuitous ARP packet for each virtual IP address six consecutive times.</p>
<p>In the scenario where a VRRP group is configured on an Eth-Trunk interface or Eth-Trunk sub-interface, when a backup device in the VRRP group assumes the master role, it sends a gratuitous ARP packet for each virtual IP address to only one Eth-Trunk member interface by default. To ensure that downstream devices can receive the gratuitous ARP packets in time and improve network convergence performance, enable replication of gratuitous ARP packets for the VRRP group. After this function is configured, when a backup device in the VRRP group assumes the master role, it replicates each gratuitous ARP packet to be sent to each Eth-Trunk member interface. This allows downstream devices to receive the gratuitous ARP packets and update entries in time, speeding up network convergence.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0190840606__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Enable enhanced sending of gratuitous ARP packets for a VRRP group.</span><ol><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=vrrp+gratuitous-arp+enhance+enable"><b><span class="cmdname">vrrp gratuitous-arp enhance enable</span></b></a></span><p><p>Enhanced sending of gratuitous ARP packets is enabled for a VRRP group.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Enable replication of gratuitous ARP packets for a VRRP group.</span><ol><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <strong><span>eth-trunk</span></strong> <i><span class="varname">trunk-id [ .subnumber ]</span></i></span><p><p>An Eth-Trunk interface or an Eth-Trunk sub-interface is created.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=vrrp"><b><span class="cmdname">vrrp</span></b></a> <strong><span>vrid</span></strong> <i><span class="varname">virtual-router-id</span></i> [ <strong><span>virtual-ip</span></strong> <i><span class="varname">virtual-address</span></i> ]</span><p><p>A VRRP group is configured and a virtual IP address is configured for the VRRP group.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=vrrp+vrid"><b><span class="cmdname">vrrp vrid</span></b></a> <em>virtual-router-id</em><i><span class="varname">1</span></i> <strong><span>track</span></strong> <strong><span>admin-vrrp</span></strong> <strong><span>interface</span></strong> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> <strong><span>vrid</span></strong> <em>virtual-router-id2</em> <strong><span>unflowdown</span></strong></span><p><p>The VRRP group is bound to an mVRRP group in unflowdown mode.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=vrrp+vrid"><b><span class="cmdname">vrrp vrid</span></b></a> <em>virtual-router-id</em> <strong><span>gratuitous-arp copy-to-member</span></strong></span><p><p>Replication of gratuitous ARP packets is enabled for the VRRP group.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
<div class="postreq"><a name="EN-US_TASK_0190840606__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>After configuring enhanced sending and replication of gratuitous ARP packets for a VRRP group, run the <a href="cmdqueryname=display+vrrp"><b><span class="cmdname">display vrrp</span></b></a> [ [ <strong><span>interface</span></strong> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> [ <i><span class="varname">virtual-router-id</span></i> ] [ <strong><span>verbose</span></strong> | <strong><span>brief</span></strong> ] ] | <strong><span>brief</span></strong> ] command to check whether replication of gratuitous ARP packets is enabled for the VRRP group. Specifically, check whether <strong>enabled</strong> is displayed in the <strong>Arp Copy</strong> field of the command output.</p>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vrrp_cfg_0100.html">VRRP Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vrrp_cfg_0144.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vrrp_cfg_0161.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>