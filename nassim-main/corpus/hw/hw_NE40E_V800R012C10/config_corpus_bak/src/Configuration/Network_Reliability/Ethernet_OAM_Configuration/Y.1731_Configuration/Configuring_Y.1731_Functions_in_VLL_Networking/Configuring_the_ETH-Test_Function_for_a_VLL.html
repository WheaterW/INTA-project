
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring the ETH-Test Function for a VLL">
<meta name="abstract" content="The ETH-test function is short for Ethernet test signal. ETH-test instances are performed for a unidirectional on-demand service or during an on-demand-service interruption to calculate parameters, including the maximum bandwidth, frame loss ratio, and bit error rate.">
<meta name="description" content="The ETH-test function is short for Ethernet test signal. ETH-test instances are performed for a unidirectional on-demand service or during an on-demand-service interruption to calculate parameters, including the maximum bandwidth, frame loss ratio, and bit error rate.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_011513.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_y1731_cfg_0062.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_011544.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909,m00390128">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Ethernet OAM">
<meta name="featuretype" content="Network Reliability">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Ethernet OAM">
<meta name="featuretype" content="Network Reliability">
<meta name="featurename" content="Ethernet OAM">
<meta name="featuretype" content="Network Reliability">
<meta name="featurename" content="Ethernet OAM">
<meta name="featuretype" content="Network Reliability">
<meta name="featurename" content="Ethernet OAM">
<meta name="featuretype" content="Network Reliability">
<meta name="OWNER" content="z00545680">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00545680">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172362072">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring the ETH-Test Function for a VLL</title>
</head>
<body><a name="EN-US_TASK_0172362072"></a><a name="EN-US_TASK_0172362072"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring the ETH-Test Function for a VLL</h1>
<div class="taskbody"><p>The ETH-test function is short for Ethernet test signal. ETH-test instances are performed for a unidirectional on-demand service or during an on-demand-service interruption to calculate parameters, including the maximum bandwidth, frame loss ratio, and bit error rate.</p>
<div class="context"><a name="EN-US_TASK_0172362072__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>In <a href="#EN-US_TASK_0172362072__fig_dc_vrp_y1731_cfg_006301">Figure 1</a>, a VLL is established between PE1 and PE2. MEP1 is configured on an AC interface of PE1, and MEP2 is configured on an AC interface of PE2. MEP1 initiates an ETH-test and sends test packets with a specified size and code type at a specified rate and interval. Then check the number of packets MEP1 sends and the number of packets MEP2 receives. If MEP1 sends more packets than MEP2 receives, some packets have been dropped. Then MEP1 is configured to use the bisection method to continue the test and send test packets at a lower rate. The bisection method is used to send test packets at different rates between the upper and lower rate thresholds. The test process repeats until a maximum bandwidth is found when no packets are dropped in a test. In addition, check for bit errors on MEP2 that receives test packets.</p>
<div class="fignone" id="EN-US_TASK_0172362072__fig_dc_vrp_y1731_cfg_006301"><a name="EN-US_TASK_0172362072__fig_dc_vrp_y1731_cfg_006301"></a><a name="fig_dc_vrp_y1731_cfg_006301"></a><span class="figcap"><b>Figure 1 </b>ETH-test function for a VLL network</span><br><span><img class="vsd" src="images/fig_dc_vrp_y1731_cfg_006301.png" width="NaN" height="NaN"></span></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172362072__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=cfm+enable"><b><span class="cmdname">cfm enable</span></b></a></span><p><p>CFM is enabled globally.</p>
</p></li><li><span>Run <a href="cmdqueryname=cfm+md"><b><span class="cmdname">cfm md</span></b></a> <i><span class="varname">md-name</span></i></span><p><p>The MD view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=ma"><b><span class="cmdname">ma</span></b></a> <i><span class="varname">ma-name</span></i></span><p><p>The MA view is displayed.</p>
</p></li><li><span>Associate the MA with a service on the PE.</span><p><ul><li>In the LDP VLL scenario, run the <a href="cmdqueryname=map"><b><span class="cmdname">map</span></b></a> <strong><span>mpls l2vc</span></strong> <span>[ <i><span class="varname">peer-address</span></i> ] </span><i><span class="varname">l2vc-id</span></i> { <strong><span>tagged</span></strong> | <strong><span>raw</span></strong> } command to bind the MA to a specified L2VC.</li><li>In the BGP VLL scenario, run the <a href="cmdqueryname=map"><b><span class="cmdname">map</span></b></a> <strong><span>mpls l2vpn</span></strong> <i><span class="varname">l2vpn-name</span></i> <strong><span>ce</span></strong> <i><span class="varname">ce-id</span></i> <strong><span>ce-offset</span></strong> <i><span class="varname">ce-offset-id</span></i> command to bind the MA to a specified PW.</li></ul>
</p></li><li><span>Run <a href="cmdqueryname=mep+mep-id"><b><span class="cmdname">mep mep-id</span></b></a></span><p><p>A MEP is configured.</p>
</p></li><li><span>Run <a href="cmdqueryname=remote-mep+mep-id"><b><span class="cmdname">remote-mep mep-id</span></b></a> <i><span class="varname">mep-id</span></i></span><p><p>An RMEP is configured.</p>
</p></li><li><span>Run <a href="cmdqueryname=eth-test+enable"><b><span class="cmdname">eth-test enable</span></b></a> <strong><span>mep</span></strong> <i><span class="varname">mep-id</span></i></span><p><p>The ETH-test function is enabled.</p>
</p></li><li><span>Run <a href="cmdqueryname=eth-test+start"><b><span class="cmdname">eth-test start</span></b></a> <strong><span>mep</span></strong> <i><span class="varname">mep-id</span></i> { <strong><span>mac</span></strong> <i><span class="varname">mac-address</span></i> | <strong><span>remote-mep</span></strong> <i><span class="varname">mep-id</span></i> } <strong><span>rate</span></strong> <i><span class="varname">rate-value</span></i> [ [ <strong><span>timeout</span></strong> <i><span class="varname">timeout-value</span></i> ] | [ <strong><span>pattern</span></strong> { <strong><span>zero-no-crc</span></strong> | <strong><span>zero-crc</span></strong> } ] | [ <strong><span>8021p</span></strong> <i><span class="varname">8021p-value</span></i> ] | [ <strong><span>packet-size</span></strong> <i><span class="varname">packet-size-value</span></i> ] | <strong><span>out-of-service</span></strong> { <strong><span>lck-level</span></strong> <i><span class="varname">level-value</span></i> } ]</span><p><p>The MEP is enabled to send test packets.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=eth-test+stop"><b><span class="cmdname">eth-test stop</span></b></a> <strong><span>mep</span></strong> <i><span class="varname">mep-id</span></i></span><p><p>The MEP is disabled from sending test packets.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_011513.html">Configuring Y.1731 Functions in VLL Networking
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_y1731_cfg_0062.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_011544.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>