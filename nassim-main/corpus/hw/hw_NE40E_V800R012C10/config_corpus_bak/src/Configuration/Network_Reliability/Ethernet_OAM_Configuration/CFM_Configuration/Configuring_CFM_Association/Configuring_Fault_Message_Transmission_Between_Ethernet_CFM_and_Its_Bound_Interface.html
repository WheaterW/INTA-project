
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Fault Message Transmission Between Ethernet CFM and Its Bound Interface">
<meta name="abstract" content="This section describes how to configure fault message transmission between Ethernet CFM and its bound interface in the OAM management view. After the configuration is complete, the link detection results of Ethernet CFM can be associated with the interface status.">
<meta name="description" content="This section describes how to configure fault message transmission between Ethernet CFM and its bound interface in the OAM management view. After the configuration is complete, the link detection results of Ethernet CFM can be associated with the interface status.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfm_cfg_000014.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfm_cfg_000015.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfm_cfg_000017.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z50024784,c00376497,z00603461,w00800033,jwx1168690,w00556928,w00437000,eoam-vrp,w00606909,m00390128,l00455378,wwx1270540">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Ethernet OAM">
<meta name="featuretype" content="Network Reliability">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Ethernet OAM">
<meta name="featuretype" content="Network Reliability">
<meta name="featurename" content="Ethernet OAM">
<meta name="featuretype" content="Network Reliability">
<meta name="featurename" content="Ethernet OAM">
<meta name="featuretype" content="Network Reliability">
<meta name="featurename" content="Ethernet OAM">
<meta name="featuretype" content="Network Reliability">
<meta name="OWNER" content="z00545680">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="p00915595">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172361954">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Configuring Fault Message Transmission Between Ethernet CFM and Its Bound Interface</title>
</head>
<body><a name="EN-US_TASK_0172361954"></a><a name="EN-US_TASK_0172361954"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Fault Message Transmission Between Ethernet CFM and Its Bound Interface</h1>
<div class="taskbody"><p>This section describes how to configure fault message transmission between Ethernet CFM and its bound interface in the OAM management view. After the configuration is complete, the link detection results of Ethernet CFM can be associated with the interface status.</p>
<div class="context"><a name="EN-US_TASK_0172361954__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p">On the network shown in <a href="#EN-US_TASK_0172361954__fig_dc_vrp_cfm_cfg_000035">Figure 1</a>, Ethernet CFM is deployed between the PEs. If a fault occurs on the link between the PEs, a CE needs to detect the fault. Additionally, if a fault occurs between a PE and CE, the PE needs to notify the remote PE of the fault to ensure reliable service transmission. To meet the needs, deploy fault message transmission between Ethernet CFM and its associated interface on a PE. For example, deploy fault message transmission between Ethernet CFM and its associated interface on PE2. If Ethernet CFM detects a fault on the link between PE1 and PE2, the physical status of interface 2 associated with Ethernet CFM on PE2 goes down. This triggers CE2 to detect the fault. If interface 2 on PE2 goes down, Ethernet CFM associated with the interface fails. PE2 uses CFM packets to transmit fault messages to PE1.<div class="fignone" id="EN-US_TASK_0172361954__fig_dc_vrp_cfm_cfg_000035"><a name="EN-US_TASK_0172361954__fig_dc_vrp_cfm_cfg_000035"></a><a name="fig_dc_vrp_cfm_cfg_000035"></a><span class="figcap"><b>Figure 1 </b>Fault message transmission between Ethernet CFM and its associated interface</span><br><span><img class="vsd" src="figure/en-us_image_0194937178.png"></span></div>
</div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172361954__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring fault message transmission between Ethernet CFM and its bound interface, <a href="dc_vrp_cfm_cfg_000004.html">configure basic CFM functions</a>.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172361954__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=oam-mgr"><b><span class="cmdname">oam-mgr</span></b></a></span><p><p>The OAM management view is displayed.</p>
</p></li><li><span>Configure the association depending on the usage scenario.</span><p>
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Configurations for fault message transmission between Ethernet CFM and its bound interface</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.4.3.3.2.1.2.4.1.1" liSelected="liSelected"><p>Scenario</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.4.3.3.2.1.2.4.1.2" liSelected="liSelected"><p>Configuration Solution 1</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.4.3.3.2.1.2.4.1.3" liSelected="liSelected"><p>Configuration Solution 2</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.3.3.2.1.2.4.1.1 "><p>Deploying bidirectional fault message transmission between Ethernet CFM and its bound interface</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p>Run the <a href="cmdqueryname=oam-bind+cfm+md+ma+trigger+if-down+interface"><b><span class="cmdname">oam-bind cfm md ma trigger if-down interface</span></b></a> or <a href="cmdqueryname=oam-bind+interface+cfm+md+ma+trigger+if-down"><b><span class="cmdname">oam-bind interface cfm md ma trigger if-down</span></b></a> command to configure bidirectional fault message transmission between Ethernet CFM and its bound interface.</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><ul><li>The function of the <a href="cmdqueryname=oam-bind+cfm+md+ma+trigger+if-down+interface"><b><span class="cmdname">oam-bind cfm md ma trigger if-down interface</span></b></a> command is the same as that of the <a href="cmdqueryname=oam-bind+interface+cfm+md+ma+trigger+if-down"><b><span class="cmdname">oam-bind interface cfm md ma trigger if-down</span></b></a> command.</li><li>The <a href="cmdqueryname=oam-bind+ingress+cfm+md+ma+trigger+if-down+egress+interface"><b><span class="cmdname">oam-bind ingress cfm md ma trigger if-down egress interface</span></b></a> and <a href="cmdqueryname=oam-bind+ingress+interface+egress+cfm+md+ma+trigger+if-down"><b><span class="cmdname">oam-bind ingress interface egress cfm md ma trigger if-down</span></b></a> commands are displayed in the configuration file.</li></ul>
</div></div>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.3.3.2.1.2.4.1.3 "><p>You can also run both of the following commands used for unidirectional fault message transmission to configure bidirectional fault message transmission.</p>
<p>Run the following commands in any order (each command configures fault message transmission in a single direction):</p>
<ul><li>Run the <a href="cmdqueryname=oam-bind+ingress+cfm+md+ma+trigger+if-down+egress+interface"><b><span class="cmdname">oam-bind ingress cfm md ma trigger if-down egress interface</span></b></a> command to configure Ethernet CFM to transmit fault messages to its bound interface.</li><li>Run the <a href="cmdqueryname=oam-bind+ingress+interface+egress+cfm+md+ma+trigger+if-down"><b><span class="cmdname">oam-bind ingress interface egress cfm md ma trigger if-down</span></b></a> command to configure an interface bound with Ethernet CFM to transmit fault messages to Ethernet CFM.</li></ul>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.3.3.2.1.2.4.1.1 "><p>Deploying unidirectional fault message transmission between Ethernet CFM and its bound interface</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p>Select either of the following commands based on the direction in which fault messages are transmitted:</p>
<ul><li><p>To configure Ethernet CFM to transmit fault messages to its bound interface, run the <a href="cmdqueryname=oam-bind+ingress+cfm+md+ma+trigger+if-down+egress+interface"><b><span class="cmdname">oam-bind ingress cfm md ma trigger if-down egress interface</span></b></a> command.</p>
</li><li><p>To configure an interface bound with Ethernet CFM to transmit fault messages to Ethernet CFM, run the <a href="cmdqueryname=oam-bind+ingress+interface+egress+cfm+md+ma+trigger+if-down"><b><span class="cmdname">oam-bind ingress interface egress cfm md ma trigger if-down</span></b></a> command.</p>
</li></ul>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.3.3.2.1.2.4.1.3 "><p>None</p>
</td>
</tr>
</tbody>
</table>
</div>
<p></p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfm_cfg_000014.html">Configuring CFM Association
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfm_cfg_000015.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfm_cfg_000017.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>