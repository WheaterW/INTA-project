
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring Frame DM">
<meta name="abstract" content="This section describes how to configure one- and two-way frame delay measurement (DM) to collect reliability statistics for MPLS-TP services.">
<meta name="description" content="This section describes how to configure one- and two-way frame delay measurement (DM) to collect reliability statistics for MPLS-TP services.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-tp_oam_cfg_0004.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-tp_oam_cfg_0008.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-tp_oam_cfg_0011.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z50024784,z00603461,w00800033,jwx1168690,tpoam_vrp,w00556928,w00437000,w00606909,m00390128,l00455378,wwx1270540">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS-TP OAM">
<meta name="featuretype" content="Network Reliability">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS-TP OAM">
<meta name="featuretype" content="Network Reliability">
<meta name="featurename" content="MPLS-TP OAM">
<meta name="featuretype" content="Network Reliability">
<meta name="featurename" content="MPLS-TP OAM">
<meta name="featuretype" content="Network Reliability">
<meta name="OWNER" content="z00545680">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00425560">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172362414">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>(Optional) Configuring Frame DM</title>
</head>
<body><a name="EN-US_TASK_0172362414"></a><a name="EN-US_TASK_0172362414"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring Frame DM</h1>
<div class="taskbody" id="taskbody1754051807214025"><p id="shortdesc244909376214025">This section describes how to configure one- and two-way frame delay measurement (DM) to collect reliability statistics for MPLS-TP services.</p>
<div class="context"><a name="EN-US_TASK_0172362414__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0172362414__context2107334125214025"><div class="p" id="EN-US_TASK_0172362414__p1664332551214025">Frame DM, a performance monitoring function provided by MPLS-TP, calculates the delay on links. The delay can be used to calculate the delay variation. The following DM modes are supported:<ul id="EN-US_TASK_0172362414__ul1059167765214025"><li id="EN-US_TASK_0172362414__li173174990214025">One-way frame DM: In a point-to-point ME, a MEP sends DM frames to its RMEP to carry out one-way frame delay and variation measurement.<div class="note" id="EN-US_TASK_0172362414__note314208925214025"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172362414__p3410183735412">If the clocks of the two MEPs are synchronized, one-way frame DM can be conducted; otherwise, only two-way frame delay variation can be measured.</p>
</div></div>
</li><li id="EN-US_TASK_0172362414__li24008933214025">Two-way frame DM: In a point-to-point ME, a MEP sends delay measurement messages (DMMs) to its RMEP and receives delay measurement replies (DMRs) from the RMEP to carry out two-way frame delay and variation measurement.</li></ul>
One-way frame DM and two-way frame DM have the same monitoring scenario. The following table describes differences between them.
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_TASK_0172362414__tab_dc_vrp_mpls-tp_oam_cfg_01121801" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Differences between one-way frame DM and two-way frame DM</caption><thead align="left"><tr id="EN-US_TASK_0172362414__row970385507214025"><th align="left" class="cellrowborder" valign="top" width="12%" id="mcps1.4.1.1.2.2.4.1.1" liSelected="liSelected"><p id="EN-US_TASK_0172362414__entry508878382214025p0">Item</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="41.33%" id="mcps1.4.1.1.2.2.4.1.2" liSelected="liSelected"><p id="EN-US_TASK_0172362414__entry1694788075214025p0">One-Way Frame DM</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="46.67%" id="mcps1.4.1.1.2.2.4.1.3" liSelected="liSelected"><p id="EN-US_TASK_0172362414__entry993587292214025p0">Two-Way Frame DM</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_TASK_0172362414__row1777537844214025"><td class="cellrowborder" valign="top" width="12%" headers="mcps1.4.1.1.2.2.4.1.1 "><p id="EN-US_TASK_0172362414__p707563027214025">Statistics display</p>
</td>
<td class="cellrowborder" valign="top" width="41.33%" headers="mcps1.4.1.1.2.2.4.1.2 "><p id="EN-US_TASK_0172362414__p1455360641214025">Statistics about one-way frame DM can be displayed using the <a href="cmdqueryname=display+mpls-tp+oam"><b><span class="cmdname" id="EN-US_TASK_0172362414__cmdname1434005016214025">display mpls-tp oam</span></b></a> <strong><span id="EN-US_TASK_0172362414__cmdparmname309181334214025">meg</span></strong> <i><span class="varname" id="EN-US_TASK_0172362414__varname1060341915214025">meg-name</span></i> <strong><span id="EN-US_TASK_0172362414__cmdparmname688211677214025">statistic-type</span></strong> <strong><span id="EN-US_TASK_0172362414__cmdparmname2014273386214025">delay-measure</span></strong> <strong><span id="EN-US_TASK_0172362414__cmdparmname1755375748214025">one-way</span></strong> command on an RMEP.</p>
</td>
<td class="cellrowborder" valign="top" width="46.67%" headers="mcps1.4.1.1.2.2.4.1.3 "><div class="p" id="EN-US_TASK_0172362414__p1894682151214025">Statistics can be displayed using either of the following commands on a MEP:<ul id="EN-US_TASK_0172362414__ul809336146214025"><li id="EN-US_TASK_0172362414__li1093401312214025"><p id="EN-US_TASK_0172362414__p778283405214025"><a name="EN-US_TASK_0172362414__li1093401312214025"></a><a name="li1093401312214025"></a>To display statistics about two-way <span>on-demand </span>frame DM, run the <a href="cmdqueryname=delay-measure+two-way"><b><span class="cmdname" id="EN-US_TASK_0172362414__cmdname1379182826214025">delay-measure two-way</span></b></a> [ <strong><span id="EN-US_TASK_0172362414__cmdparmname1300486997214025">interval</span></strong> <i><span class="varname" id="EN-US_TASK_0172362414__varname813115069214025">interval-value</span></i> | <strong><span id="EN-US_TASK_0172362414__cmdparmname1489025806214025">count</span></strong> <i><span class="varname" id="EN-US_TASK_0172362414__varname1931337357214025">count-value</span></i> | <strong><span id="EN-US_TASK_0172362414__cmdparmname1939798166214025">exp</span></strong> <i><span class="varname" id="EN-US_TASK_0172362414__varname459055872214025">exp-value</span></i> | <strong><span id="EN-US_TASK_0172362414__cmdparmname146204836214025">two-time-stamp</span></strong> ]<sup id="EN-US_TASK_0172362414__sup455807684214025">*</sup> command.</p>
</li><li id="EN-US_TASK_0172362414__li1205583937214025"><p id="EN-US_TASK_0172362414__p741019714214025"><a name="EN-US_TASK_0172362414__li1205583937214025"></a><a name="li1205583937214025"></a>To display statistics about two-way frame DM, run the <a href="cmdqueryname=display+mpls-tp+oam"><b><span class="cmdname" id="EN-US_TASK_0172362414__cmdname322211968214025">display mpls-tp oam</span></b></a> <strong><span id="EN-US_TASK_0172362414__cmdparmname1923577845214025">meg</span></strong> <i><span class="varname" id="EN-US_TASK_0172362414__varname726821606214025">meg-name</span></i> <strong><span id="EN-US_TASK_0172362414__cmdparmname1674911607214025">statistic-type</span></strong> <strong><span id="EN-US_TASK_0172362414__cmdparmname978041083214025">delay-measure</span></strong> <strong><span id="EN-US_TASK_0172362414__cmdparmname1374806650214025">two-way</span></strong> command.</p>
</li></ul>
</div>
</td>
</tr>
<tr id="EN-US_TASK_0172362414__row950149185214025"><td class="cellrowborder" valign="top" width="12%" headers="mcps1.4.1.1.2.2.4.1.1 "><p id="EN-US_TASK_0172362414__p140173198214025">Monitoring scenario</p>
</td>
<td class="cellrowborder" valign="top" width="41.33%" headers="mcps1.4.1.1.2.2.4.1.2 "><p id="EN-US_TASK_0172362414__p1620988899214025">On-demand monitoring</p>
<p id="EN-US_TASK_0172362414__p814081633214025">Proactive monitoring</p>
</td>
<td class="cellrowborder" valign="top" width="46.67%" headers="mcps1.4.1.1.2.2.4.1.3 "><p id="EN-US_TASK_0172362414__p798664258214025">On-demand monitoring</p>
<p id="EN-US_TASK_0172362414__p2075162979214025">Proactive monitoring</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="p" id="EN-US_TASK_0172362414__p816078229214025">The procedure for configuring one-way or two-way frame DM is as follows:<div class="note" id="EN-US_TASK_0172362414__note417583146214025"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172362414__p19456237155410">All the steps must be performed on both the MEP and RMEP unless otherwise specified.</p>
</div></div>
</div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172362414__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0172362414__steps1238122249214025"><li id="EN-US_TASK_0172362414__step181038287214025"><span id="EN-US_TASK_0172362414__cmd1873645457214025">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172362414__cmdname382835980214025">system-view</span></b></a></span><p><p id="EN-US_TASK_0172362414__p6861125195615">The system view is displayed.</p>
</p></li><li id="EN-US_TASK_0172362414__step1572050356214025"><span id="EN-US_TASK_0172362414__cmd959024251214025">Run <a href="cmdqueryname=mpls-tp+meg"><b><span class="cmdname" id="EN-US_TASK_0172362414__cmdname1615330083214025">mpls-tp meg</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362414__varname1753516530214025">meg-name</span></i></span><p><p id="EN-US_TASK_0172362414__p1939511434565">A MEG is created, and the MEG view is displayed.</p>
</p></li><li id="EN-US_TASK_0172362414__step954928321214025"><span id="EN-US_TASK_0172362414__cmd1334997016214025">Choose one of the following sub-procedures as needed:</span><p><ul id="EN-US_TASK_0172362414__ul1086221149214025"><li id="EN-US_TASK_0172362414__li802704932214025"><p id="EN-US_TASK_0172362414__p569521670214025"><a name="EN-US_TASK_0172362414__li802704932214025"></a><a name="li802704932214025"></a>Configure one-way frame DM. Run any of the following commands:</p>
<ul id="EN-US_TASK_0172362414__ul1656573690214025"><li id="EN-US_TASK_0172362414__li169142577214025"><p id="EN-US_TASK_0172362414__p104801344016"><a name="EN-US_TASK_0172362414__li169142577214025"></a><a name="li169142577214025"></a>Run <a href="cmdqueryname=delay-measure+one-way"><b><span class="cmdname" id="EN-US_TASK_0172362414__cmdname839630064214025">delay-measure one-way</span></b></a> [ <strong><span id="EN-US_TASK_0172362414__cmdparmname71632257214025">interval</span></strong> <i><span class="varname" id="EN-US_TASK_0172362414__varname1353005803214025">interval-value</span></i> | <strong><span id="EN-US_TASK_0172362414__cmdparmname1519483524214025">count</span></strong> <i><span class="varname" id="EN-US_TASK_0172362414__varname1550621713214025">count-value</span></i> | <strong><span id="EN-US_TASK_0172362414__cmdparmname115919756214025">exp</span></strong> <i><span class="varname" id="EN-US_TASK_0172362414__varname1248009340214025">exp-value</span></i> ] <sup id="EN-US_TASK_0172362414__sup973047967214025">*</sup></p>
<p id="EN-US_TASK_0172362414__p480682665716">One-way on-demand frame DM is enabled.</p>
<p id="EN-US_TASK_0172362414__p1323401957214025">Run either of the following commands to view statistics about one-way on-demand frame DM as needed:</p>
<ul id="EN-US_TASK_0172362414__ul532828491214025"><li id="EN-US_TASK_0172362414__li356054852214025">If the <a href="cmdqueryname=delay-measure+one-way"><b><span class="cmdname" id="EN-US_TASK_0172362414__cmdname1481167599214025">delay-measure one-way</span></b></a> command has been run on the MEP to measure the delay on the link from the MEP to the RMEP, run the <a href="cmdqueryname=display+mpls-tp+oam"><b><span class="cmdname" id="EN-US_TASK_0172362414__cmdname1862381087214025">display mpls-tp oam</span></b></a> <strong><span id="EN-US_TASK_0172362414__cmdparmname628291884214025">meg</span></strong> <i><span class="varname" id="EN-US_TASK_0172362414__varname949927455214025">meg-name</span></i> <strong><span id="EN-US_TASK_0172362414__cmdparmname1497188935214025">statistic-type</span></strong> <strong><span id="EN-US_TASK_0172362414__cmdparmname1326100486214025">delay-measure</span></strong> <strong><span id="EN-US_TASK_0172362414__cmdparmname2119609630214025">one-way</span></strong> command on the RMEP to view DM results.</li><li id="EN-US_TASK_0172362414__li914212848214025">If the <a href="cmdqueryname=delay-measure+one-way"><b><span class="cmdname" id="EN-US_TASK_0172362414__cmdname1971357007214025">delay-measure one-way</span></b></a> command has been run on the RMEP to measure the delay on the link from the RMEP to the MEP, run the <a href="cmdqueryname=display+mpls-tp+oam"><b><span class="cmdname" id="EN-US_TASK_0172362414__cmdname935597149214025">display mpls-tp oam</span></b></a> <strong><span id="EN-US_TASK_0172362414__cmdparmname461493182214025">meg</span></strong> <i><span class="varname" id="EN-US_TASK_0172362414__varname1022032798214025">meg-name</span></i> <strong><span id="EN-US_TASK_0172362414__cmdparmname1345787867214025">statistic-type</span></strong> <strong><span id="EN-US_TASK_0172362414__cmdparmname1826867613214025">delay-measure</span></strong> <strong><span id="EN-US_TASK_0172362414__cmdparmname705526272214025">one-way</span></strong> command on the MEP to view DM results.</li></ul>
</li><li id="EN-US_TASK_0172362414__li1836413506214025"><p id="EN-US_TASK_0172362414__p1948074604"><a name="EN-US_TASK_0172362414__li1836413506214025"></a><a name="li1836413506214025"></a>On the MEP, run <a href="cmdqueryname=delay-measure+one-way+proactive"><b><span class="cmdname" id="EN-US_TASK_0172362414__cmdname1899321692214025">delay-measure one-way proactive</span></b></a> [ <strong><span id="EN-US_TASK_0172362414__cmdparmname76612903214025">interval</span></strong> <i><span class="varname" id="EN-US_TASK_0172362414__varname548922220214025">interval-value</span></i> | <strong><span id="EN-US_TASK_0172362414__cmdparmname1939420210214025">exp</span></strong> <i><span class="varname" id="EN-US_TASK_0172362414__varname1392877226214025">exp-value</span></i> ] <sup id="EN-US_TASK_0172362414__sup278859583214025">*</sup></p>
<p id="EN-US_TASK_0172362414__p470296588">One-way proactive frame DM is enabled.</p>
<p id="EN-US_TASK_0172362414__p648013417011">On the RMEP, run <a href="cmdqueryname=delay-measure+one-way+proactive+receive+enable"><b><span class="cmdname" id="EN-US_TASK_0172362414__cmdname1419099087214025">delay-measure one-way proactive receive enable</span></b></a></p>
<p id="EN-US_TASK_0172362414__p182107492587">The receive function is enabled for one-way proactive frame DM.</p>
<p id="EN-US_TASK_0172362414__p1845359517214025">Run either of the following commands to view statistics about one-way proactive frame DM as needed:</p>
<ul id="EN-US_TASK_0172362414__ul419020410214025"><li id="EN-US_TASK_0172362414__li1971911091214025">If the <a href="cmdqueryname=delay-measure+one-way+proactive"><b><span class="cmdname" id="EN-US_TASK_0172362414__cmdname698185178214025">delay-measure one-way proactive</span></b></a> command has been run on the MEP, run the <a href="cmdqueryname=display+mpls-tp+oam"><b><span class="cmdname" id="EN-US_TASK_0172362414__cmdname804203902214025">display mpls-tp oam</span></b></a> <strong><span id="EN-US_TASK_0172362414__cmdparmname1033396890214025">meg</span></strong> <i><span class="varname" id="EN-US_TASK_0172362414__varname51100040214025">meg-name</span></i> <strong><span id="EN-US_TASK_0172362414__cmdparmname404541006214025">statistic-type</span></strong> <strong><span id="EN-US_TASK_0172362414__cmdparmname385973399214025">delay-measure</span></strong> <strong><span id="EN-US_TASK_0172362414__cmdparmname1095446689214025">one-way</span></strong> command on the RMEP to view statistics about one-way proactive frame DM in the direction from the MEP to its RMEP.</li><li id="EN-US_TASK_0172362414__li912585466214025">If the <a href="cmdqueryname=delay-measure+one-way+proactive"><b><span class="cmdname" id="EN-US_TASK_0172362414__cmdname1480133003214025">delay-measure one-way proactive</span></b></a> command has been run on the RMEP, run the <a href="cmdqueryname=display+mpls-tp+oam"><b><span class="cmdname" id="EN-US_TASK_0172362414__cmdname1338563241214025">display mpls-tp oam</span></b></a> <strong><span id="EN-US_TASK_0172362414__cmdparmname2135098917214025">meg</span></strong> <i><span class="varname" id="EN-US_TASK_0172362414__varname210564006214025">meg-name</span></i> <strong><span id="EN-US_TASK_0172362414__cmdparmname1280559337214025">statistic-type</span></strong> <strong><span id="EN-US_TASK_0172362414__cmdparmname909981451214025">delay-measure</span></strong> <strong><span id="EN-US_TASK_0172362414__cmdparmname1018677854214025">one-way</span></strong> command on the MEP to view statistics about one-way proactive frame DM in the direction from the RMEP to its MEP.</li></ul>
</li></ul>
</li><li id="EN-US_TASK_0172362414__li90806810214025"><p id="EN-US_TASK_0172362414__p1476666300214025"><a name="EN-US_TASK_0172362414__li90806810214025"></a><a name="li90806810214025"></a>Configure two-way frame DM. Configure either two-way on-demand or proactive frame DM as follows:</p>
<ul id="EN-US_TASK_0172362414__ul1991905254214025"><li id="EN-US_TASK_0172362414__li648350529214025"><p id="EN-US_TASK_0172362414__p495316025214025"><a name="EN-US_TASK_0172362414__li648350529214025"></a><a name="li648350529214025"></a>To enable two-way on-demand frame DM, run the <a href="cmdqueryname=delay-measure+two-way"><b><span class="cmdname" id="EN-US_TASK_0172362414__cmdname773878447214025">delay-measure two-way</span></b></a> [ <strong><span id="EN-US_TASK_0172362414__cmdparmname612520200214025">interval</span></strong> {<strong><span id="EN-US_TASK_0172362414__cmdparmname12639171273414">1000</span></strong>|<strong><span id="EN-US_TASK_0172362414__cmdparmname1026412093415">10000</span></strong>} | <strong><span id="EN-US_TASK_0172362414__cmdparmname1291752572214025">count</span></strong> <i><span class="varname" id="EN-US_TASK_0172362414__varname778082410214025">count-value</span></i> | <strong><span id="EN-US_TASK_0172362414__cmdparmname219769060214025">exp</span></strong> <i><span class="varname" id="EN-US_TASK_0172362414__varname837088243214025">exp-value</span></i> | <strong><span id="EN-US_TASK_0172362414__cmdparmname1197628582214025">two-time-stamp</span></strong> ] <sup id="EN-US_TASK_0172362414__sup1228555576214025">*</sup> command.</p>
</li><li id="EN-US_TASK_0172362414__li16512489214025"><p id="EN-US_TASK_0172362414__p500012160214025"><a name="EN-US_TASK_0172362414__li16512489214025"></a><a name="li16512489214025"></a>To enable two-way proactive frame DM, run the <a href="cmdqueryname=delay-measure+two-way+proactive"><b><span class="cmdname" id="EN-US_TASK_0172362414__cmdname1226399869214025">delay-measure two-way proactive</span></b></a> [ <strong><span id="EN-US_TASK_0172362414__cmdparmname334345041214025">interval</span></strong> { <strong><span id="EN-US_TASK_0172362414__cmdparmname86331122122210">1000</span></strong> | <strong><span id="EN-US_TASK_0172362414__cmdparmname113073280224">10000</span></strong> } | <strong><span id="EN-US_TASK_0172362414__cmdparmname279585206214025">exp</span></strong> <i><span class="varname" id="EN-US_TASK_0172362414__varname1418616395214025">exp-value</span></i> ] <sup id="EN-US_TASK_0172362414__sup461991429214025">*</sup> command.</p>
</li></ul>
</li></ul>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-tp_oam_cfg_0004.html">Configuring MPLS-TP OAM for a Bidirectional co-routed LSP.
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-tp_oam_cfg_0008.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-tp_oam_cfg_0011.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>