
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Basic SR-MPLS TE Functions">
<meta name="abstract" content="This section describes how to configure basic SR-MPLS TE functions.">
<meta name="description" content="This section describes how to configure basic SR-MPLS TE functions.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr_all_cfg_0022.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr-te_cfg_00211_2.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr_all_cfg_0029.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909,l00587852">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Segment Routing MPLS">
<meta name="featuretype" content="Segment Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Segment Routing MPLS">
<meta name="featuretype" content="Segment Routing">
<meta name="featurename" content="Segment Routing MPLS">
<meta name="featuretype" content="Segment Routing">
<meta name="featurename" content="Segment Routing MPLS">
<meta name="featuretype" content="Segment Routing">
<meta name="OWNER" content="l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00468467">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0164089804">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Basic SR-MPLS TE Functions</title>
</head>
<body><a name="EN-US_TASK_0164089804"></a><a name="EN-US_TASK_0164089804"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Basic SR-MPLS TE Functions</h1>
<div class="taskbody"><p>This section describes how to configure basic SR-MPLS TE functions.</p>
<div class="context"><a name="EN-US_TASK_0164089804__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>SR-MPLS TE supports both strict and loose explicit paths. Strict explicit paths mainly use adjacency SIDs, whereas loose explicit paths use both adjacency and node SIDs. Adjacency and node SIDs must be generated before you configure an SR-MPLS TE tunnel.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0164089804__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure an SR-MPLS-specific SRGB range.</span><ol type="a"><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=isis"><b><span class="cmdname">isis</span></b></a> [ <i><span class="varname">process-id</span></i> ]</span><p><p>The IS-IS view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=network-entity"><b><span class="cmdname">network-entity</span></b></a> <i><span class="varname">net-addr</span></i></span><p><p>A network entity title (NET) is configured.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=cost-style"><b><span class="cmdname">cost-style</span></b></a> { <strong><span>wide</span></strong> | <strong><span>compatible</span></strong> | <strong><span>wide-compatible</span></strong> }</span></span><p><p>The IS-IS wide metric function is enabled.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=traffic-eng"><b><span class="cmdname">traffic-eng</span></b></a> [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> | <strong><span>level-1-2</span></strong> ]</span></span><p><p>IS-IS TE is enabled.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=segment-routing+mpls"><b><span class="cmdname">segment-routing mpls</span></b></a></span><p><p>IS-IS SR-MPLS is enabled.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=segment-routing+global-block"><b><span class="cmdname">segment-routing global-block</span></b></a> <i><span class="varname">begin-value</span></i> <i><span class="varname">end-value</span></i><span> [ <strong><span>ignore-conflict</span></strong> ]</span></span><p><p>An SR-MPLS-specific SRGB range is configured for the current IS-IS instance.</p>
</p><p><p id="EN-US_TASK_0164089804__en-us_task_0172368760_p102891323183819">If a message is displayed indicating that a label in the specified SRGB range is in use, you can use the <span><strong><span id="EN-US_TASK_0164089804__en-us_task_0172368760_cmdparmname16769411143111">ignore-conflict</span></strong></span> parameter to enable configuration delivery. However, the configuration will not take effect until the device is restarted and the label is released. In general, using the <strong><span id="EN-US_TASK_0164089804__en-us_task_0172368760_cmdparmname1992115286367">ignore-conflict</span></strong> parameter is not recommended.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=segment-routing+auto-adj-sid+protected"><b><span class="cmdname">segment-routing auto-adj-sid protected</span></b></a></span><p><p>The function of automatically generating dynamic protected adjacency SIDs is enabled.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=segment-routing+mpls+static+adj-sid+advertise"><b><span class="cmdname" id="EN-US_TASK_0164089804__en-us_task_0000001564830745_cmdname1696120293318">segment-routing mpls static adj-sid advertise</span></b></a></span><p><p id="EN-US_TASK_0164089804__en-us_task_0000001564830745_p197211316916">Advertisement of static adjacency SIDs is enabled.</p>
</p><p><p id="EN-US_TASK_0164089804__en-us_task_0000001564830745_p1357751153010">Typically, in SR-MPLS TE scenarios, adjacency SIDs are dynamically generated and advertised by IGP. Static adjacency SIDs are manually configured. To enable the device to advertise such SIDs, run the <a href="cmdqueryname=segment-routing+mpls+static+adj-sid+advertise"><b><span class="cmdname" id="EN-US_TASK_0164089804__en-us_task_0000001564830745_cmdname74251843123119">segment-routing mpls static adj-sid advertise</span></b></a> command in the IS-IS view.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li></ol>
</li><li><span>Configure an SR-MPLS prefix SID.</span><ol type="a"><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface+loopback"><b><span class="cmdname">interface loopback</span></b></a> <i><span class="varname">loopback-number</span></i></span></span><p><p>A loopback interface is created, and the interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=isis+enable"><b><span class="cmdname">isis enable</span></b></a> [ <i><span class="varname">process-id</span></i> ]</span><p><p>IS-IS is enabled on the interface.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=ip+address"><b><span class="cmdname">ip address</span></b></a> <i><span class="varname">ip-address</span></i> { <i><span class="varname">mask</span></i> | <i><span class="varname">mask-length</span></i> }</span></span><p><p>An IP address is configured for the loopback interface.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=isis+prefix-sid"><b><span class="cmdname">isis prefix-sid</span></b></a> { <strong><span>absolute</span></strong> <i><span class="varname">sid-value</span></i> | <strong><span>index</span></strong> <i><span class="varname">index-value</span></i> } [ <strong><span>node-disable</span></strong> ]</span><p><p>An SR-MPLS prefix SID is configured for the IP address of the interface.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>(Optional) Configure an adjacency SID.</span><p><p>After IS-IS SR is enabled, an adjacency SID is automatically generated. To disable the automatic generation of adjacency SIDs, run the <a href="cmdqueryname=segment-routing+auto-adj-sid+disable"><b><span class="cmdname">segment-routing auto-adj-sid disable</span></b></a> command. Dynamically generated adjacency SIDs may change after a device restart. If an explicit path uses such an adjacency SID and the associated device is restarted, the adjacency SID needs to be reconfigured. You can also manually configure an adjacency SID to facilitate the use of an explicit path.</p>
</p><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=segment-routing"><b><span class="cmdname">segment-routing</span></b></a></span><p><p>The SR view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=ipv4+adjacency"><b><span class="cmdname">ipv4 adjacency</span></b></a> <strong><span>local-ip-addr</span></strong> <i><span class="varname">local-ip-address</span></i> <strong><span>remote-ip-addr</span></strong> <i><span class="varname">remote-ip-address</span></i> <strong><span>sid</span></strong> <i><span class="varname">sid-value</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-name</span></i> ] or <a href="cmdqueryname=ipv4+adjacency"><b><span class="cmdname">ipv4 adjacency</span></b></a> <strong><span>local-ip-addr</span></strong> <i><span class="varname">local-ip-address</span></i> <strong><span>remote-ip-addr</span></strong> <i><span class="varname">remote-ip-address</span></i> <strong><span>sid</span></strong> <i><span class="varname">sid-value</span></i> <strong><span>protected</span></strong></span><p><p>A static SR adjacency SID is configured.</p>
</p><p><p>To enable the device to steer traffic to a VPN link based on the static adjacency SID, specify the <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-name</span></i> parameter.</p>
<p>To configure an adjacency SID carrying the protection flag so that it can be protected by another adjacency SID, specify the <strong><span>protected</span></strong> parameter.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr_all_cfg_0022.html">Configuring an IS-IS SR-MPLS TE Tunnel (Path Computation on a Forwarder)
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr-te_cfg_00211_2.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr_all_cfg_0029.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>