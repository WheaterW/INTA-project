
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring IGP Shortcut">
<meta name="abstract" content="After IGP shortcut is configured on the ingress of an RSVP-TE tunnel, the associated LSP is not advertised to or used by neighbors.">
<meta name="description" content="After IGP shortcut is configured on the ingress of an RSVP-TE tunnel, the associated LSP is not advertised to or used by neighbors.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr_all_cfg_0175.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr_all_cfg_0177.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00604599,l00587852,w00606909,p00915595">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Segment Routing MPLS">
<meta name="featuretype" content="Segment Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Segment Routing MPLS">
<meta name="featuretype" content="Segment Routing">
<meta name="featurename" content="Segment Routing MPLS">
<meta name="featuretype" content="Segment Routing">
<meta name="featurename" content="Segment Routing MPLS">
<meta name="featuretype" content="Segment Routing">
<meta name="OWNER" content="l00468467">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00468467">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001582108277">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring IGP Shortcut</title>
</head>
<body><a name="EN-US_TASK_0000001582108277"></a><a name="EN-US_TASK_0000001582108277"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring IGP Shortcut</h1>
<div class="taskbody"><p>After IGP shortcut is configured on the ingress of an RSVP-TE tunnel, the associated LSP is not advertised to or used by neighbors.</p>
<div class="context"><a name="EN-US_TASK_0000001582108277__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>During path calculation in a scenario where IGP shortcut is configured, the device calculates an SPF tree based on the paths in the IGP physical topology, and then finds the SPF nodes on which shortcut tunnels are configured. If the metric of an RSVP-TE tunnel is smaller than that of an SPF node, the device replaces the outbound interfaces of the routes to this SPF node and those of the other routes passing through the SPF node with the RSVP-TE tunnel interface.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>IGP shortcut and forwarding adjacency cannot be both configured.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001582108277__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=interface+tunnel"><b><span class="cmdname">interface tunnel</span></b></a> <i><span class="varname">tunnel-number</span></i></span><p><p>The tunnel interface view of the specified MPLS TE tunnel is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=mpls+te+igp+shortcut"><b><span class="cmdname">mpls te igp shortcut</span></b></a> <strong><span>isis</span></strong> [ <strong><span>hold-time</span></strong> <i><span class="varname">interval</span></i></span> ]</span><p><p>IGP shortcut is configured.</p>
</p><p><div class="p"><strong><span>hold-time</span></strong> <i><span class="varname">interval</span></i> specifies the period after which IGP responds to the Down status of a TE tunnel. If a TE tunnel goes Down but this parameter is not specified, routes are recalculated. If this parameter is specified, IGP responds to the Down status of the TE tunnel only when the delay period expires. Given that no other conditions trigger route recalculation during this delay, one of the following situations occurs:<ul><li>If the TE tunnel goes Up after the delay, routes are not recalculated.</li><li>If the TE tunnel remains Down after the delay, routes are recalculated.</li></ul>
</div>
</p></li><li><span>Run <a href="cmdqueryname=mpls+te+igp+metric"><b><span class="cmdname">mpls te igp metric</span></b></a> { <strong><span>absolute</span></strong> | <strong><span>relative</span></strong> } <i><span class="varname">value</span></i></span><p><p>An IGP metric is configured for the TE tunnel.</p>
</p><p><p>When specifying a metric for the TE tunnel in path calculation through IGP shortcut, pay attention to the following points:</p>
<ul><li><p>If the <strong><span>absolute</span></strong> parameter is configured, the metric of the TE tunnel is equal to the configured metric.</p>
</li><li><p>If the <strong><span>relative</span></strong> parameter is configured, the metric of the TE tunnel is the sum of the metric of the corresponding IGP path and the relative metric.</p>
</li></ul>
</p></li><li><span>For IS-IS, run <a href="cmdqueryname=isis+enable"><b><span class="cmdname">isis enable</span></b></a> [ <i><span class="varname">process-id</span></i> ]</span><p><p>The IS-IS process is enabled for the tunnel interface.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0000001582108277__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Follow-up Procedure</h4>
<div class="p"><div class="p">If a network fault occurs, IGP re-convergence is performed. In this case, a transient forwarding status inconsistency may occur among nodes because of their different convergence rates, posing the risk of microloops. To avoid microloops, perform the following steps:<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Before configuring microloop avoidance, <a href="dc_vrp_te-p2p_cfg_0058.html">configure CR-LSP backup parameters</a>.</p>
</div></div>
<ul><li>For IS-IS:<ol><li>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</li><li>Run the <a href="cmdqueryname=isis"><b><span class="cmdname">isis</span></b></a> [ <i><span class="varname">process-id</span></i> ] command to create an IS-IS process and enter its view.</li><li>Run the <a href="cmdqueryname=avoid-microloop+te-tunnel"><b><span class="cmdname">avoid-microloop te-tunnel</span></b></a> command to enable microloop avoidance for the IS-IS TE tunnel.</li><li>(Optional) Run the <a href="cmdqueryname=avoid-microloop+te-tunnel+rib-update-delay"><b><span class="cmdname">avoid-microloop te-tunnel rib-update-delay</span></b></a> <i><span class="varname">rib-update-delay</span></i> command to configure a delay in delivering IS-IS routes whose outbound interface is a TE tunnel interface.</li><li>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</li></ol>
</li></ul>
</div>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr_all_cfg_0175.html">Configuring SR-MPLS BE over RSVP-TE
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr_all_cfg_0177.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>