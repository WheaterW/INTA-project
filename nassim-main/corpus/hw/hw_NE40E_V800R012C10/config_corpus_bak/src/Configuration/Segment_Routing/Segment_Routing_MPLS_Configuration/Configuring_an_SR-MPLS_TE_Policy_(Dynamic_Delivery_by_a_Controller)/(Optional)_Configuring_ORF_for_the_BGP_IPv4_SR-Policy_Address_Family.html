
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring ORF for the BGP IPv4 SR-Policy Address Family">
<meta name="abstract" content="When a device advertises BGP IPv4 SR-Policy address family routes to peers, you can configure the outbound route filtering (ORF) function to enable the device to advertise only routes carrying the BGP router IDs of peers. This function helps reduce the network load.">
<meta name="description" content="When a device advertises BGP IPv4 SR-Policy address family routes to peers, you can configure the outbound route filtering (ORF) function to enable the device to advertise only routes carrying the BGP router IDs of peers. This function helps reduce the network load.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr_all_cfg_0067.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr_all_cfg_0167.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr_all_cfg_0069.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909,l00587852">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Segment Routing MPLS">
<meta name="featuretype" content="Segment Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Segment Routing MPLS">
<meta name="featuretype" content="Segment Routing">
<meta name="featurename" content="Segment Routing MPLS">
<meta name="featuretype" content="Segment Routing">
<meta name="featurename" content="Segment Routing MPLS">
<meta name="featuretype" content="Segment Routing">
<meta name="OWNER" content="l00468467">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00468467">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001416877017">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring ORF for the BGP IPv4 SR-Policy Address Family</title>
</head>
<body><a name="EN-US_TASK_0000001416877017"></a><a name="EN-US_TASK_0000001416877017"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring ORF for the BGP IPv4 SR-Policy Address Family</h1>
<div class="taskbody"><p>When a device advertises BGP IPv4 SR-Policy address family routes to peers, you can configure the outbound route filtering (ORF) function to enable the device to advertise only routes carrying the BGP router IDs of peers. This function helps reduce the network load.</p>
<div class="context"><a name="EN-US_TASK_0000001416877017__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>If ORF is configured for two devices between which a BGP-VPN-Target peer relationship has been established, the devices can advertise ORF routes carrying local BGP router IDs to each other in order to notify each other of their required routes. For example, in a scenario with one controller, one route reflector (RR), and multiple forwarders deployed, you can configure ORF on the RR and forwarders. This way, each of the forwarders can notify the RR of the required BGP SR-Policy routes. When the controller advertises the BGP SR-Policy routes required by all the forwarders to the RR, the RR can apply the ORF function to advertise only the target routes to the peer forwarder. This means that the peer forwarder receives only the required routes, reducing the route receiving pressure and network load.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001416877017__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> { <i><span class="varname">as-number-plain</span></i> | <i><span class="varname">as-number-dot</span></i> }</span><p><p>The BGP view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">ipv4-address</span></i> <strong><span>as-number</span></strong> { <i><span class="varname">as-number-plain</span></i> | <i><span class="varname">as-number-dot</span></i> }</span><p><p>A BGP peer is created.</p>
</p></li><li><span>Run <a href="cmdqueryname=ipv4-family+vpn-target"><b><span class="cmdname">ipv4-family vpn-target</span></b></a></span><p><p>The BGP-VPN-Target address family view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">ipv4-address</span></i> <strong><span>enable</span></strong></span><p><p>The BGP peer relationship in the local address family is enabled.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">ipv4-address</span></i> <strong><span>reflect-client</span></strong></span><p><p>The device is enabled to function as an RR, and the specified peer is configured as an RR client.</p>
</p><p><p>On a network where an RR is deployed, you also need to perform this step in the BGP-VPN-Target address family view of the RR to enable its reflector function.</p>
</p></li><li><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the BGP view.</p>
</p></li><li><span>Run <a href="cmdqueryname=ipv4-family+sr-policy"><b><span class="cmdname">ipv4-family sr-policy</span></b></a></span><p><p>The BGP IPv4 SR-Policy address family view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">ipv4-address</span></i> <strong><span>enable</span></strong></span><p><p>The BGP peer relationship in the local address family is enabled.</p>
</p></li><li><span>Run <a href="cmdqueryname=route-target-orf+enable"><b><span class="cmdname">route-target-orf enable</span></b></a></span><p><p>ORF is enabled globally.</p>
</p><p><p>This step globally enables ORF for all BGP IPv4 SR-Policy peers. If some of the peers do not need ORF, run the <a href="cmdqueryname=peer+route-target-orf+disable"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">ipv4-address</span></i> <strong><span>route-target-orf disable</span></strong> command to disable this function.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr_all_cfg_0067.html">Configuring an SR-MPLS TE Policy (Dynamic Delivery by a Controller)
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr_all_cfg_0167.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr_all_cfg_0069.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>