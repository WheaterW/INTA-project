
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Public Network IPv4 over OSPFv3 SRv6 BE">
<meta name="abstract" content="This section describes how to configure public network IPv4 over SRv6 BE.">
<meta name="description" content="This section describes how to configure public network IPv4 over SRv6 BE.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_1000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_1005.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_1007.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,f00454608,w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featuretype" content="Segment Routing">
<meta name="OWNER" content="l00587852">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00587852">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001142846094">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Public Network IPv4 over OSPFv3 SRv6 BE</title>
</head>
<body><a name="EN-US_TASK_0000001142846094"></a><a name="EN-US_TASK_0000001142846094"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Public Network IPv4 over OSPFv3 SRv6 BE</h1>
<div class="taskbody"><p>This section describes how to configure public network IPv4 over SRv6 BE.</p>
<div class="context"><a name="EN-US_TASK_0000001142846094__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>Public network IPv4 over SRv6 BE allows SRv6 BE paths on a public network to carry public network IPv4 services. The key implementation of public network IPv4 over SRv6 BE involves establishing SRv6 BE paths, advertising BGP routes, and forwarding data. <a href="#EN-US_TASK_0000001142846094__fig_dc_vrp_srv6_cfg_all_001201">Figure 1</a> shows an example where an IPv6 public network is established between PE1 and PE2. An SRv6 BE path can be deployed on the IPv6 public network to carry public network IPv4 services.</p>
<div class="fignone" id="EN-US_TASK_0000001142846094__fig_dc_vrp_srv6_cfg_all_001201"><a name="EN-US_TASK_0000001142846094__fig_dc_vrp_srv6_cfg_all_001201"></a><a name="fig_dc_vrp_srv6_cfg_all_001201"></a><span class="figcap"><b>Figure 1 </b>Public network IPv4 over SRv6 BE networking</span><br><span><img class="vsd" src="figure/en-us_image_0000001142846126.png" width="NaN" height="NaN"></span></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001142846094__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring public network IPv4 over SRv6 BE, complete the following tasks:</p>
<ul><li><p>Configure a link layer protocol.</p>
</li><li><p>Configure network-layer addresses for interfaces to ensure that neighboring devices are reachable at the network layer.</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001142846094__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure OSPFv3 on each PE and P. For configuration details, see <a href="dc_vrp_ospfv3_cfg_2003.html">Configuring Basic OSPFv3 Functions</a>.</span></li><li><span>Establish an EBGP peer relationship between PE1 and DeviceA and another one between PE2 and DeviceB.</span><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i></span><p><p>The BGP view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=router-id"><b><span class="cmdname">router-id</span></b></a> <i><span class="varname">ipv4-address</span></i></span><p><p>A BGP router ID is configured.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">ipv4-address</span></i> <a href="cmdqueryname=as-number"><b><span class="cmdname">as-number</span></b></a> <i><span class="varname">as-number</span></i></span><p><p>The address of a peer and the number of the AS where the peer resides are specified.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=ipv4-family"><b><span class="cmdname">ipv4-family</span></b></a> <strong><span>unicast</span></strong></span><p><p>The IPv4 unicast address family view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">ipv4-address</span></i> <a href="cmdqueryname=enable"><b><span class="cmdname">enable</span></b></a></span><p><p>The device is enabled to exchange routing information with the specified IPv4 peer.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Exit the IPv4 unicast address family view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Exit the BGP view.</p>
</p></li></ol>
</li><li><span>Establish an MP-IBGP peer relationship between the PEs.</span><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i></span><p><p>The BGP view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=router-id"><b><span class="cmdname">router-id</span></b></a> <i><span class="varname">ipv4-address</span></i></span><p><p>A BGP router ID is configured.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">ipv6-address</span></i> <a href="cmdqueryname=as-number"><b><span class="cmdname">as-number</span></b></a> <i><span class="varname">as-number</span></i></span><p><p>The address of a peer and the number of the AS where the peer resides are specified.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">ipv6-address</span></i> <a href="cmdqueryname=connect-interface"><b><span class="cmdname">connect-interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span><p><p>The source interface and address used to establish a TCP connection are specified.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=ipv4-family"><b><span class="cmdname">ipv4-family</span></b></a> <strong><span>unicast</span></strong></span><p><p>The IPv4 unicast address family view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">ipv6-address</span></i> <a href="cmdqueryname=enable"><b><span class="cmdname">enable</span></b></a></span><p><p>The device is enabled to exchange routing information with the specified IPv6 peer.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Exit the IPv4 unicast address family view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Exit the BGP view.</p>
</p></li></ol>
</li><li><span>Configure basic SRv6 functions.</span><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=segment-routing+ipv6"><b><span class="cmdname">segment-routing ipv6</span></b></a></span><p><p>SRv6 is enabled, and the SRv6 view is displayed.</p>
</p></li><li class="substepexpand"><span>Configure a source address for SRv6 encapsulation. Note that you only need to perform one of the following operations. If both of the operations are performed, the latest configuration overrides the previous one.</span><p><ul id="EN-US_TASK_0000001142846094__en-us_task_0172368959_ul261475310544"><li id="EN-US_TASK_0000001142846094__en-us_task_0172368959_li761411538546">Run the <a href="cmdqueryname=encapsulation+source-address"><b><span class="cmdname" id="EN-US_TASK_0000001142846094__en-us_task_0172368959_cmdname23368553547">encapsulation source-address</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001142846094__en-us_task_0172368959_varname6336145515412">ipv6-address</span></i> [ <strong><span id="EN-US_TASK_0000001142846094__en-us_task_0172368959_cmdparmname1633612551542">ip-ttl</span></strong> <i><span class="varname" id="EN-US_TASK_0000001142846094__en-us_task_0172368959_varname2033635519549">ttl-value</span></i> ] command to directly configure a source address for SRv6 encapsulation.</li><li id="EN-US_TASK_0000001142846094__en-us_task_0172368959_li1554119145516">Run the <a href="cmdqueryname=encapsulation+source-interface"><b><span class="cmdname" id="EN-US_TASK_0000001142846094__en-us_task_0172368959_cmdname10488513573">encapsulation source-interface</span></b></a> { <i><span class="varname" id="EN-US_TASK_0000001142846094__en-us_task_0172368959_varname0729113313571">intfname</span></i> | <i><span class="varname" id="EN-US_TASK_0000001142846094__en-us_task_0172368959_varname17377153912578">interfaceType</span></i> <i><span class="varname" id="EN-US_TASK_0000001142846094__en-us_task_0172368959_varname1951134465716">interfaceNum</span></i> } [ <strong id="EN-US_TASK_0000001142846094__en-us_task_0172368959_b7945154716571">ip-ttl</strong> <i><span class="varname" id="EN-US_TASK_0000001142846094__en-us_task_0172368959_varname2091014584572">ttl-value</span></i> ] command to specify the interface to which the source address used for SRv6 encapsulation belongs.<p id="EN-US_TASK_0000001142846094__en-us_task_0172368959_p2488153115910">If no IPv6 global address is configured for the interface specified using the <a href="cmdqueryname=encapsulation+source-interface"><b><span class="cmdname" id="EN-US_TASK_0000001142846094__en-us_task_0172368959_cmdname2054948195915">encapsulation source-interface</span></b></a> command, the source address for SRv6 encapsulation is not configured.</p>
</li></ul>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=locator"><b><span class="cmdname">locator</span></b></a> <i><span class="varname">locator-name</span></i> [ <strong><span>ipv6-prefix</span></strong> <i><span class="varname">ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> [ <strong><span>static</span></strong> <i><span class="varname">static-length</span></i> | <strong><span>args</span></strong> <i><span class="varname">args-length</span></i> ] <sup>*</sup> </span><span>]</span></span><p><p>An SRv6 locator is configured.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=opcode"><b><span class="cmdname" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmdname1766088994214048">opcode</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_varname722568341214048">func-opcode</span></i> <strong><span id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmdparmname234581745214048">end-dt4</span></strong> or <a href="cmdqueryname=opcode"><b><span class="cmdname" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmdname1040918348281">opcode</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_varname64093342284">func-opcode</span></i> <strong><span id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmdparmname1940993416286">end-dt46</span></strong> <strong><span id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmdparmname240918347289">vpn-instance</span></strong> <i><span class="varname" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_varname040943482810">vpn-instance-name</span></i></span><p><p id="EN-US_TASK_0000001142846094__en-us_task_0227330332_p20128143020365">An opcode for static SIDs is configured.</p>
</p><p><p id="EN-US_TASK_0000001142846094__en-us_task_0227330332_p34318168341">A SID can be either dynamically allocated by BGP or manually configured. If a dynamically allocated SID and a manually configured SID both exist, the latter takes effect. If you want to run the <span><a href="cmdqueryname=segment-routing+ipv6+locator"><b><span class="cmdname" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmdname175640204576">segment-routing ipv6 locator</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_varname165646206572">locator-name</span></i></span> command to enable dynamic End.DT4 SID allocation through BGP or the <span><a href="cmdqueryname=segment-routing+ipv6+locator"><b><span class="cmdname" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmdname348932122919">segment-routing ipv6 locator</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_varname18489221296">locator-name</span></i></span> <a href="cmdqueryname=end-dt46"><b><span class="cmdname" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmdname34893282918">end-dt46</span></b></a> command to enable dynamic End.DT46 SID allocation through BGP in the future, skip this step.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Exit the SRv6 locator view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Exit the SRv6 view.</p>
</p></li></ol>
</li><li><span>Enable OSPFv3 SRv6 on the PEs.</span><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=ospfv3"><b><span class="cmdname">ospfv3</span></b></a> [ <em>process-id</em> ]</span><p><p>The OSPFv3 process view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=segment-routing+ipv6"><b><span class="cmdname">segment-routing ipv6</span></b></a> <strong>locator</strong> <em>locator-name</em> [ <strong>auto-sid-disable</strong> ]</span><p><p>OSPFv3 SRv6 is enabled.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=segment-routing+ipv6+compatible+locator-fixed-length"><b><span class="cmdname" id="EN-US_TASK_0000001142846094__en-us_task_0000001188606207_cmdname7368133484212">segment-routing ipv6 compatible locator-fixed-length</span></b></a></span><p><p id="EN-US_TASK_0000001142846094__en-us_task_0000001188606207_p72894073517">A fixed length is configured for the Locator field in the SRv6 Locator TLV carried in an SRv6 Locator LSA.</p>
</p><p><p id="EN-US_TASK_0000001142846094__en-us_task_0000001188606207_p326112590444">As defined in <em id="EN-US_TASK_0000001142846094__en-us_task_0000001188606207_i1362531613715">draft-ietf-lsr-ospfv3-srv6-extensions-12</em> and later versions, the length of the Locator field in the SRv6 Locator TLV carried in an SRv6 Locator LSA is variable. To facilitate the interworking between protocols defining different lengths for the Locator field, you can run this command to configure the Locator field to be fixed at 128 bits.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Exit the OSPFv3 process view.</p>
</p></li></ol>
</li><li><span>Configure public network routes on PEs to carry SIDs and recurse to SRv6 BE paths based on the SIDs.</span><ol type="a" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_substeps19457825123418"><li class="substepexpand" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_substep1170240813214048"><span id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmd1582104865214048">Run <a href="cmdqueryname=bgp"><b><span class="cmdname" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmdname1186791007214048">bgp</span></b></a> { <i><span class="varname" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_varname477606664214048">as-number-plain</span></i> | <i><span class="varname" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_varname502972833214048">as-number-dot</span></i> }</span><p><p id="EN-US_TASK_0000001142846094__en-us_task_0227330332_p128146349530">The BGP view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_substep1348613278267"><span id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmd8486527162617">(Optional) Run <span><a href="cmdqueryname=segment-routing+ipv6+locator"><b><span class="cmdname" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmdname754621715276">segment-routing ipv6 locator</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_varname2546317112714">locator-name</span></i></span> <a href="cmdqueryname=end-dt46"><b><span class="cmdname" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmdname115465174274">end-dt46</span></b></a></span><p><p id="EN-US_TASK_0000001142846094__en-us_task_0227330332_p815212501356">The device is enabled to add SIDs to public network routes.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_substep449599382214048"><span id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmd1569343128214048">Run <a href="cmdqueryname=ipv4-family+unicast"><b><span class="cmdname" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmdname734042695313">ipv4-family unicast</span></b></a></span><p><p id="EN-US_TASK_0000001142846094__en-us_task_0227330332_p1530495095813">The IPv4 unicast address family view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_substep75498921214048"><span id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmd12579754174418">Run <a href="cmdqueryname=peer"><b><span class="cmdname" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmdname1132974491214048">peer</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_varname667456758214048">peerIpv6Addr</span></i> <strong><span id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmdparmname1459950268214048">prefix-sid</span></strong> [ <strong><span id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmdparmname10267121615719">advertise-srv6-locator</span></strong> ]</span><p><p id="EN-US_TASK_0000001142846094__en-us_task_0227330332_p169372478442">The device is enabled to exchange prefix SIDs with the specified peer.</p>
</p><p><p id="EN-US_TASK_0000001142846094__en-us_task_0227330332_p878281312569">In a scenario where BFD is used to check locator reachability and the P nodes between local and remote PEs summarize locator routes, you can specify the <strong><span id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmdparmname967116221577">advertise-srv6-locator</span></strong> parameter to enable PE-advertised BGP routes to carry locator length information. In this way, when the peer IPv6 address bound to the BFD session matches the locator's IPv6 address, locator reachability can be checked using BFD to complete auto FRR path switching.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_substep1792858253214048"><span id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmd1225607114214048">Run <a href="cmdqueryname=segment-routing+ipv6+best-effort"><b><span class="cmdname" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmdname1950107130214048">segment-routing ipv6 best-effort</span></b></a></span><p><p id="EN-US_TASK_0000001142846094__en-us_task_0227330332_p13392916547">The device is enabled to perform public route recursion based on the SIDs carried by routes.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_substep661154264214048"><span id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmd939325470214048">Run <span><a href="cmdqueryname=segment-routing+ipv6+locator"><b><span class="cmdname" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmdname870484682214048">segment-routing ipv6 locator</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_varname1306638660214048">locator-name</span></i></span></span><p><p id="EN-US_TASK_0000001142846094__en-us_task_0227330332_p241415313512">The device is enabled to add SIDs to public network routes.</p>
</p><p><div class="note" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_note998624472819"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0000001142846094__en-us_task_0227330332_p17986154420288">If the <span><a href="cmdqueryname=segment-routing+ipv6+locator"><b><span class="cmdname" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmdname785551516293">segment-routing ipv6 locator</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_varname58551115172914">locator-name</span></i></span> <a href="cmdqueryname=end-dt46"><b><span class="cmdname" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmdname1985541519295">end-dt46</span></b></a> command has been run in the BGP view, skip this step.</p>
</div></div>
</p></li><li class="substepexpand" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_substep24093716571"><span id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmd12370752219">(Optional) Run <a href="cmdqueryname=segment-routing+ipv6+apply-sid+per-nexthop+pop-go"><b><span class="cmdname" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmdname13551388580">segment-routing ipv6 apply-sid per-nexthop pop-go</span></b></a></span><p><p id="EN-US_TASK_0000001142846094__en-us_task_0227330332_p898117561216">The device is configured to allocate SIDs to IPv4 unicast routes received from public network IPv4 peers based on next hops.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_substep269302736214048"><span id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmd1423039723214048">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001142846094__en-us_task_0227330332_cmdname1295542468214048">commit</span></b></a></span><p><p id="EN-US_TASK_0000001142846094__en-us_task_0227330332_p13319728175418">The configuration is committed.</p>
</p></li></ol>
</li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0000001142846094__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>After configuring public network IPv4 over SRv6 BE, verify the configuration.</p>
<ul><li>Run the <a href="cmdqueryname=display+bgp+routing-table"><b><span class="cmdname">display bgp routing-table</span></b></a> <i><span class="varname">ipv4-address</span></i> [ <i><span class="varname">mask</span></i> | <i><span class="varname">mask-length</span></i> ] command to check BGP IPv4 routing table information.</li><li><p>Run the <a href="cmdqueryname=display+segment-routing+ipv6+locator"><b><span class="cmdname">display segment-routing ipv6 locator</span></b></a> [ <i><span class="varname">locator-name</span></i> ] <strong><span>verbose</span></strong> command to check SRv6 locator information.</p>
</li><li><p>Run the <a href="cmdqueryname=display+segment-routing+ipv6+local-sid"><b><span class="cmdname">display segment-routing ipv6 local-sid</span></b></a> [ <strong><span>locator</span></strong> <i><span class="varname">locator-name</span></i> ] <strong><span>forwarding</span></strong> command to check information about the SRv6 local SID table.</p>
</li></ul>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_1000.html">Configuring SRv6 BE (OSPFv3)
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_1005.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_1007.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>