
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a BGP Extended Community">
<meta name="abstract" content="This section describes how to add a BGP extended community, that is, the color extended community, to routes through a route-policy, enabling the routes to perform SRv6 recursion based on the color value.">
<meta name="description" content="This section describes how to add a BGP extended community, that is, the color extended community, to routes through a route-policy, enabling the routes to perform SRv6 recursion based on the color value.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0257.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0250a.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0261.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00556928,j00915314,w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featuretype" content="Segment Routing">
<meta name="OWNER" content="l00587852">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00587852">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001163448761">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring a BGP Extended Community</title>
</head>
<body><a name="EN-US_TASK_0000001163448761"></a><a name="EN-US_TASK_0000001163448761"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a BGP Extended Community</h1>
<div class="taskbody"><p>This section describes how to add a BGP extended community, that is, the color extended community, to routes through a route-policy, enabling the routes to perform SRv6 recursion based on the color value.</p>
<div class="context"><a name="EN-US_TASK_0000001163448761__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_context1677625172748"><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p1251191706214048">The route coloring process is as follows:</p>
<ol id="EN-US_TASK_0000001163448761__en-us_task_0173667623_ol1181791911214048"><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li39568621214048"><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p1457366224214048"><a name="EN-US_TASK_0000001163448761__en-us_task_0173667623_li39568621214048"></a><a name="en-us_task_0173667623_li39568621214048"></a>Configure a route-policy and set a specific color value for the desired route.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li519001627214048"><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p1929254522214048"><a name="EN-US_TASK_0000001163448761__en-us_task_0173667623_li519001627214048"></a><a name="en-us_task_0173667623_li519001627214048"></a>Apply the route-policy to a BGP peer or a VPN instance as an import or export policy.</p>
</li></ol>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001163448761__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0000001163448761__en-us_task_0173667623_steps10132325172748"><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_step766455984214048"><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmd1218808382214048">Configure a route-policy.</span><ol type="a" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_substeps376061186214048"><li class="substepexpand" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_substep1316269682214048"><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmd1315497627214048">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname350391867214048">system-view</span></b></a></span><p><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p11993173981019">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_substep52513914214048"><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmd2133057328214048">Run <a href="cmdqueryname=route-policy"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname1949254298214048">route-policy</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname1890522867214048">route-policy-name</span></i> { <strong><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdparmname78625711214048">deny</span></strong> | <strong><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdparmname1488138668214048">permit</span></strong> } <strong><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdparmname1514035205214048">node</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname1908357439214048">node</span></i></span><p><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p5547155516109">A route-policy with a specified node is created and the route-policy view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_substep1655693230214048"><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmd143018784214048">(Optional) Configure an if-match clause as a route-policy filter criterion. You can add or modify the color extended community only for a route-policy that meets the filter criterion.</span><p><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p320257024214048">For details about the configuration, see <a href="dc_vrp_route-policy_cfg_0009.html">(Optional) Configuring an if-match Clause</a>.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_substep1683784960214048"><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmd1981806201214048">Run <a href="cmdqueryname=apply+extcommunity"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname446571661214048">apply extcommunity</span></b></a> <strong><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdparmname1703118072214048">color</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname1137616143214048">color</span></i></span><p><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p18163123917534">The BGP color extended community is configured.</p>
<p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p11721051105916">The color value ranges from 0 to 4294967295. Currently, it can only be set to 0.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_substep140006376214048"><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmd1592567967214048">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname1818572834214048">commit</span></b></a></span><p><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p0966192219111">The configuration is committed.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_step23642332214048"><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmd72199229214048">Apply the route-policy.</span><ul id="EN-US_TASK_0000001163448761__en-us_task_0173667623_choices1483434430214048"><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_choice1669923169214048">Apply the route-policy to a BGP IPv4 unicast peer.<ol type="a" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_ol41418081214048"><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li1640407995214048">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname19651182281918">system-view</span></b></a><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p232919232194">The system view is displayed.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li1785190487214048">Run <a href="cmdqueryname=bgp"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname20257228111918">bgp</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname125752861918">as-number</span></i><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p157681228121911">The BGP view is displayed.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li172901420154011">Run <a href="cmdqueryname=peer"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname12241421104012">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname12224152104014">ipv6-address</span></i> | <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname1922512116401">group-name</span></i> } <strong><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdparmname12021520204120">as-number</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname112362360407">as-number</span></i><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p6596433111911">A BGP peer is specified.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li1187153294214048">Run <a href="cmdqueryname=ipv4-family"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname184653394192">ipv4-family</span></b></a> <strong><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdparmname4465183991916">unicast</span></strong><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p19711395197">The IPv4 unicast address family view is displayed.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li1699293007214048">Run <a href="cmdqueryname=peer"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname1176670522214048">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname1918149430214048">ipv6-address</span></i> | <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname157559444214048">group-name</span></i> } <a href="cmdqueryname=route-policy"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname963125574214048">route-policy</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname1409922479214048">route-policy-name</span></i> { <strong><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdparmname31814904214048">import</span></strong> | <strong><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdparmname1691195022214048">export</span></strong> }<p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p13203745131910">The BGP import or export route-policy is applied.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li2037061583214048">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname14272125191912">commit</span></b></a><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p137521051101913">The configuration is committed.</p>
</li></ol>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_choice810693492214048">Apply the route-policy to a BGP IPv6 unicast peer.<ol type="a" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_ol1717427792214048"><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li118716717214048">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname5832115931913">system-view</span></b></a><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p13288703209">The system view is displayed.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li1627496619214048">Run <a href="cmdqueryname=bgp"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname72040482015">bgp</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname1320413420206">as-number</span></i><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p1772711442018">The BGP view is displayed.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li41904164211">Run <a href="cmdqueryname=peer"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname15698199102016">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname3698119182011">ipv6-address</span></i> | <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname669839182016">group-name</span></i> } <strong><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdparmname116981295202">as-number</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname18698129142015">as-number</span></i><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p1020361082017">A BGP peer is specified.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li1713559196214048">Run <a href="cmdqueryname=ipv6-family"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname876421432011">ipv6-family</span></b></a> <strong><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdparmname47641147201">unicast</span></strong><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p72030156204">The IPv6 unicast address family view is displayed.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li66732767214048">Run <a href="cmdqueryname=peer"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname15251172102012">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname182511221152010">ipv6-address</span></i> | <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname14251162119203">group-name</span></i> } <a href="cmdqueryname=route-policy"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname9251102117206">route-policy</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname1425142162013">route-policy-name</span></i> { <strong><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdparmname1025182110203">import</span></strong> | <strong><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdparmname14251172162016">export</span></strong> }<p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p39051721172018">The BGP import or export route-policy is applied.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li1741541572214048">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname18411527122011">commit</span></b></a><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p889562772012">The configuration is committed.</p>
</li></ol>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_choice251911817589">Apply the route-policy to a BGP VPNv4 peer.<ol type="a" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_ol55191218185814"><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li851910185583">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname7212834112015">system-view</span></b></a><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p166791434112015">The system view is displayed.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li1451911189584">Run <a href="cmdqueryname=bgp"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname065954212207">bgp</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname17659942152016">as-number</span></i><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p13171134312012">The BGP view is displayed.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li2520161816585">Run <a href="cmdqueryname=peer"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname1322747162014">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname632217470201">ipv6-address</span></i> | <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname20322194717206">group-name</span></i> } <strong><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdparmname632264710207">as-number</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname432218478207">as-number</span></i><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p16762114719202">A BGP peer is specified.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li15520518195815">Run <a href="cmdqueryname=ipv4-family"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname18729105111206">ipv4-family</span></b></a> <strong><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdparmname1672920515209">vpnv4</span></strong><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p11071952142017">The BGP VPNv4 address family view is displayed.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li152041855813">Run <a href="cmdqueryname=peer"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname1466265613209">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname1966220563207">ipv6-address</span></i> | <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname196621056172017">group-name</span></i> } <strong><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdparmname1166295632010">enable</span></strong><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p1480165702016">The BGP VPNv4 peer relationship is enabled.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li1952001811587">Run <a href="cmdqueryname=peer"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname17648523217">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname1064810212110">ipv6-address</span></i> | <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname2648128218">group-name</span></i> } <a href="cmdqueryname=route-policy"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname1864819272115">route-policy</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname86483213216">route-policy-name</span></i> { <strong><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdparmname146489212118">import</span></strong> | <strong><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdparmname1464813210219">export</span></strong> }<p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p2951939215">The BGP import or export route-policy is applied.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li13520191817583">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname19925611212">commit</span></b></a><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p4418574213">The configuration is committed.</p>
</li></ol>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_choice1881867530214048">Apply the route-policy to a BGP VPNv6 peer.<ol type="a" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_ol1019289246214048"><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li1926197610214048">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname313646759214048">system-view</span></b></a><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p169975181319">The system view is displayed.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li843343253214048">Run <a href="cmdqueryname=bgp"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname311562615214048">bgp</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname195425505214048">as-number</span></i><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p16862138201316">The BGP view is displayed.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li1151375084215">Run <a href="cmdqueryname=peer"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname9401135114212">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname64012514423">ipv6-address</span></i> | <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname4401751174213">group-name</span></i> } <strong><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdparmname17401145114215">as-number</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname140125111422">as-number</span></i><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p143915128134">A BGP peer is created.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li1394697639214048"><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p1735712912595"><a name="EN-US_TASK_0000001163448761__en-us_task_0173667623_li1394697639214048"></a><a name="en-us_task_0173667623_li1394697639214048"></a>Run <a href="cmdqueryname=ipv6-family"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname133571399593">ipv6-family</span></b></a> <strong><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdparmname133578905914">vpnv6</span></strong></p>
<p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p5780121018593">The BGP VPNv6 address family view is displayed.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li862233626214048">Run <a href="cmdqueryname=peer"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname57342186214048">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname1992644758214048">ipv6-address</span></i> | <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname835014686214048">group-name</span></i> } <strong><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdparmname1830975698214048">enable</span></strong><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p352282151313">The BGP VPNv6 peer relationship is enabled.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li937010769214048">Run <a href="cmdqueryname=peer"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname137231719219">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname187291716213">ipv6-address</span></i> | <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname1472017142111">group-name</span></i> } <a href="cmdqueryname=route-policy"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname1572121772112">route-policy</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname117291732120">route-policy-name</span></i> { <strong><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdparmname472717122114">import</span></strong> | <strong><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdparmname07211719218">export</span></strong> }<p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p4527111710217">The BGP import or export route-policy is applied.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li924666028214048">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname202393944214048">commit</span></b></a><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p1985102891311">The configuration is committed.</p>
</li></ol>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_choice1986922021114">Apply the route-policy to a BGP EVPN peer.<ol type="a" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_ol132905120121"><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li446023111211">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname546013111217">system-view</span></b></a><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p970623341317">The system view is displayed.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li34601433126">Run <a href="cmdqueryname=bgp"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname1546014391216">bgp</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname2460153171219">as-number</span></i><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p3388237191318">The BGP view is displayed.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li246033161214">Run <a href="cmdqueryname=peer"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname14612318121">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname846119317127">ipv6-address</span></i> | <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname546143181214">group-name</span></i> } <strong><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdparmname1946118301210">as-number</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname2461183171210">as-number</span></i><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p65631041171313">A BGP peer is created.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li1650818291124"><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p179618242598"><a name="EN-US_TASK_0000001163448761__en-us_task_0173667623_li1650818291124"></a><a name="en-us_task_0173667623_li1650818291124"></a>Run <strong id="EN-US_TASK_0000001163448761__en-us_task_0173667623_b379602415591"><a href="cmdqueryname=l2vpn-family+evpn"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname279622411597">l2vpn-family evpn</span></b></a></strong></p>
<p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p2346325135920">The BGP EVPN address family view is displayed.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li6462153111214">Run <a href="cmdqueryname=peer"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname44621314127">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname16462113141210">ipv6-address</span></i> | <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname10463123161220">group-name</span></i> } <strong><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdparmname646393101211">enable</span></strong><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p1787051191311">The BGP EVPN peer relationship is enabled.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li1646315314129">Run <a href="cmdqueryname=peer"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname14578033122111">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname5578333112120">ipv6-address</span></i> | <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname145784338219">group-name</span></i> } <a href="cmdqueryname=route-policy"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname1257843382112">route-policy</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname18578123320217">route-policy-name</span></i> { <strong><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdparmname165785331219">import</span></strong> | <strong><span id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdparmname45782339217">export</span></strong> }<p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p147533414216">The BGP EVPN import or export route-policy is applied.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li164641836129">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname94641135128">commit</span></b></a><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p1723014121419">The configuration is committed.</p>
</li></ol>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_choice1942063991214048">Apply the route-policy to a VPN instance IPv4 address family.<ol type="a" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_ol1736519512214048"><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li1451549543214048">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname572183655214048">system-view</span></b></a><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p1010305131415">The system view is displayed.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li1825772114214048">Run <a href="cmdqueryname=ip+vpn-instance"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname1136089211214048">ip vpn-instance</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname687100465214048">vpn-instance-name</span></i><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p158193819149">The VPN instance view is displayed.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li1969056424214048">Run <a href="cmdqueryname=ipv4-family"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname1593545654214048">ipv4-family</span></b></a><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p10169201314142">The VPN instance IPv4 address family view is displayed.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li930159504214048">Run <a href="cmdqueryname=import+route-policy"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname1667530915214048">import route-policy</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname641568397214048">policy-name</span></i><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p152474170141">An import route-policy is configured for the VPN instance IPv4 address family.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li1979906663214048">Run <a href="cmdqueryname=export+route-policy"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname388559766214048">export route-policy</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname387527849214048">policy-name</span></i><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p17585920171410">An export route-policy is configured for the VPN instance IPv4 address family.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li145729389214048">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname1066257974214048">commit</span></b></a><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p1666912321419">The configuration is committed.</p>
</li></ol>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_choice379410015214048">Apply the route-policy to a VPN instance IPv6 address family.<ol type="a" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_ol370366897214048"><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li929490779214048">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname363200804214048">system-view</span></b></a><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p132741228121416">The system view is displayed.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li1437316920214048">Run <a href="cmdqueryname=ip+vpn-instance"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname1111426344214048">ip vpn-instance</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname1619563092214048">vpn-instance-name</span></i><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p18436113018143">The VPN instance view is displayed.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li1726897761214048">Run <a href="cmdqueryname=ipv6-family"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname1785259272214048">ipv6-family</span></b></a><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p23111335149">The VPN instance IPv6 address family view is displayed.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li1332215176214048">Run <a href="cmdqueryname=import+route-policy"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname6344946202110">import route-policy</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname4344104682113">policy-name</span></i><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p78151246112115">The import route-policy for the VPN instance IPv6 address family is applied.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li1842089388214048">Run <a href="cmdqueryname=export+route-policy"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname5466194517403">export route-policy</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_varname746694510406">policy-name</span></i><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p171201646144020">The export route-policy for the VPN instance IPv6 address family is applied.</p>
</li><li id="EN-US_TASK_0000001163448761__en-us_task_0173667623_li1069800224214048">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001163448761__en-us_task_0173667623_cmdname472497491214048">commit</span></b></a><p id="EN-US_TASK_0000001163448761__en-us_task_0173667623_p1076414446147">The configuration is committed.</p>
</li></ol>
</li></ul>
</li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0257.html">Configuring SRv6 BE Network Slicing
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0250a.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0261.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>