
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring TE Attributes">
<meta name="abstract" content="After receiving TE attributes configured for links, an IGP (IS-IS/OSPFv3) advertises them to a controller through BGP-LS. This enables the controller to adjust links based on the TE attributes during SRv6 TE Policy computation.">
<meta name="description" content="After receiving TE attributes configured for links, an IGP (IS-IS/OSPFv3) advertises them to a controller through BGP-LS. This enables the controller to adjust links based on the TE attributes during SRv6 TE Policy computation.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0116.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0117.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0118.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featuretype" content="Segment Routing">
<meta name="OWNER" content="l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00587852">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0193290465">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring TE Attributes</title>
</head>
<body><a name="EN-US_TASK_0193290465"></a><a name="EN-US_TASK_0193290465"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring TE Attributes</h1>
<div class="taskbody"><p>After receiving TE attributes configured for links, an IGP (IS-IS/OSPFv3) advertises them to a controller through BGP-LS. This enables the controller to adjust links based on the TE attributes during SRv6 TE Policy computation.</p>
<div class="context"><a name="EN-US_TASK_0193290465__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>TE link attributes are as follows:</p>
<ul><li><p>Link bandwidth</p>
<p>This attribute is mandatory if you want to limit the bandwidth of a path of an SRv6 TE Policy.</p>
</li><li>Dynamic link bandwidth<p>Dynamic bandwidth can be configured if you want TE to be aware of physical bandwidth changes on interfaces.</p>
</li><li><p>Link-specific TE metric</p>
<p>Either the IGP metric or link-specific TE metric can be used for SRv6 TE Policy computation by a controller. If the link-specific TE metric is used, SRv6 TE Policy path computation is more independent of IGP, implementing flexible tunnel path control.</p>
</li><li><p>Administrative group and affinity attribute</p>
<p>An SRv6 TE Policy's affinity attribute determines its link attribute. The administrative group and affinity attribute are used together to determine the links that can be used by the policy.</p>
</li><li><p>SRLG</p>
<p>A shared risk link group (SRLG) is a group of links that share a public physical resource, such as an optical fiber. Links in an SRLG are at the same risk of faults. If one of the links fails, other links in the SRLG also fail.</p>
<p>An SRLG enhances SRv6 TE Policy reliability on a network with CR-LSP hot standby or TE FRR enabled. Links that share the same physical resource have the same risk. For example, links on an interface and its sub-interfaces are in an SRLG. The interface and its sub-interfaces have the same risk. If the interface goes down, its sub-interfaces will also go down. Similarly, if the link of the primary path of an SRv6 TE Policy and the links of the backup paths of the SRv6 TE Policy are in an SRLG and the primary path goes down, the backup paths will most likely go down.</p>
</li></ul>
<p>To support SRv6 TE Policy over GRE, you can configure TE attributes on the desired GRE tunnel interface.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0193290465__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Enable TE attributes.</span><ol><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=te+attribute+enable"><b><span class="cmdname">te attribute enable</span></b></a></span><p><p>TE is enabled.</p>
</p><p><p>If MPLS TE has been enabled, the device automatically converts existing MPLS TE attribute configurations to TE attribute configurations when this command is run. You can also configure new TE features. The converted TE attribute configurations can be used for both MPLS TE tunnels and SRv6 TE Policies.</p>
</p></li></ol>
</li><li><span>(Optional) Configure link bandwidth.</span><p><p>In real-world applications, link bandwidth only needs to be configured for outbound interfaces along the links of an SRv6 TE Policy that requires sufficient bandwidth.</p>
</p><ol><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span><p><p>The interface view of a TE link is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=te+bandwidth+max-reservable-bandwidth"><b><span class="cmdname">te bandwidth max-reservable-bandwidth</span></b></a> <i><span class="varname">max-bw-value</span></i></span><p><p>The maximum reservable link bandwidth is configured.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=te+bandwidth+bc0"><b><span class="cmdname">te bandwidth bc0</span></b></a> <i><span class="varname">bc0Bw</span></i></span><p><p>The BC0 bandwidth is configured for the link.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li><p>The maximum reservable link bandwidth cannot be higher than the physical link bandwidth. You are advised to set the maximum reservable link bandwidth to be less than or equal to 80% of the physical link bandwidth.</p>
</li><li><p>The BC0 bandwidth cannot be higher than the maximum reservable link bandwidth.</p>
</li></ul>
</div></div>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>(Optional) Configure dynamic link bandwidth.</span><ol><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span><p><p>The interface view of a TE link is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=te+bandwidth+max-reservable-bandwidth+dynamic"><b><span class="cmdname">te bandwidth max-reservable-bandwidth dynamic</span></b></a> <i><span class="varname">max-dynamic-bw-value</span></i></span><p><p>The maximum reservable dynamic link bandwidth is configured.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If this command is run in the same interface view as the <a href="cmdqueryname=te+bandwidth+max-reservable-bandwidth"><b><span class="cmdname">te bandwidth max-reservable-bandwidth</span></b></a> command, the later configuration overrides the previous one.</p>
</div></div>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=te+bandwidth+max-reservable-bandwidth+dynamic+baseline+remain-bandwidth"><b><span class="cmdname">te bandwidth max-reservable-bandwidth dynamic baseline remain-bandwidth</span></b></a></span><p><p>The device is configured to use the remaining bandwidth of the interface when calculating the maximum dynamic reservable bandwidth for TE.</p>
</p><p><p>In scenarios such as channelized sub-interface and bandwidth lease, the remaining bandwidth of an interface changes, but the physical bandwidth does not. In this case, the actual forwarding capability of the interface decreases; however, the dynamic maximum reservable bandwidth of the TE tunnel is still calculated based on the physical bandwidth. As a result, the calculated TE bandwidth is greater than the actual bandwidth, and the actual forwarding capability of the interface does not meet the bandwidth requirement of the tunnel.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=te+bandwidth+dynamic"><b><span class="cmdname">te bandwidth dynamic</span></b></a> <strong><span>bc0</span></strong> <i><span class="varname">bc0-bw-percentage</span></i></span><p><p>The BC0 dynamic bandwidth is configured for the link.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If this command is run in the same interface view as the <a href="cmdqueryname=te+bandwidth"><b><span class="cmdname">te bandwidth</span></b></a> <strong><span>bc0</span></strong> command, the later configuration overrides the previous one.</p>
</div></div>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>(Optional) Configure a link-specific TE metric value.</span><ol><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span><p><p>The interface view of a TE link is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=te+metric"><b><span class="cmdname">te metric</span></b></a> <i><span class="varname">metric-value</span></i></span><p><p>A TE metric value is configured for the link.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>(Optional) Configure the administrative group and affinity attribute<span> in hexadecimal format</span>.</span><ol><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span><p><p>The interface view of a TE link is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=te+link+administrative+group"><b><span class="cmdname">te link administrative group</span></b></a> <i><span class="varname">group-value</span></i></span><p><p>A TE link administrative group is configured.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>(Optional) Configure the link administrative group and affinity attributes.</span><ol><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=path-constraint+affinity-mapping"><b><span class="cmdname">path-constraint affinity-mapping</span></b></a></span><p><p>An affinity name template is configured, and the affinity mapping view is displayed.</p>
</p><p><p>This template must be configured on each node involved in SRv6 TE Policy path computation, and the global mappings between the names and values of affinity bits must be the same on all the involved nodes.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=attribute"><b><span class="cmdname">attribute</span></b></a> <i><span class="varname">bit-name</span></i> <strong><span>bit-sequence</span></strong> <i><span class="varname">bit-number</span></i></span><p><p>Mappings between affinity bit values and names are configured.</p>
</p><p><p>This step configures only one bit of an affinity attribute, which has a total of 32 bits. Repeat this step as needed to configure some or all of the bits.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span><p><p>The interface view of a TE link is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=te+link+administrative+group+name"><b><span class="cmdname">te link administrative group name</span></b></a> { <i><span class="varname">bit-name</span></i> } &amp;&lt;1-32&gt;</span><p><p>A link administrative group is configured.</p>
</p><p><p>The <i><span class="varname">name-string</span></i> value must be in the range specified for the affinity attribute in the template.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>(Optional) Configure an SRLG.</span><ol><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span><p><p>The interface view of a TE link is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=te+srlg"><b><span class="cmdname">te srlg</span></b></a> <i><span class="varname">srlg-number</span></i></span><p><p>The interface is added to an SRLG.</p>
<p>On a network with hot standby or TE FRR protection, you need to configure the SRLG attribute for the outbound interface of the ingress on an SRv6 TE Policy as well as other members in the SRLG. A link joins an SRLG after the SRLG attribute is configured on an outbound interface of the link.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>To delete the SRLG configuration from all interfaces on a device, run the <a href="cmdqueryname=undo+te+srlg+all-config"><b><span class="cmdname">undo te srlg all-config</span></b></a> command.</p>
</div></div>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0116.html">Configuring an SRv6 TE Policy (Dynamic Delivery by a Controller + IS-IS as an IGP)
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0117.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0118.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>