
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring EVPN VPLS over OSPFv3 SRv6 BE">
<meta name="abstract" content="When the EVPN E-LAN model is used to carry multipoint-to-multipoint (MP2MP) VPLSs, EVPN VPLS over SRv6 BE can be configured to transmit EVPN E-LAN data over SRv6 BE paths on a public network.">
<meta name="description" content="When the EVPN E-LAN model is used to carry multipoint-to-multipoint (MP2MP) VPLSs, EVPN VPLS over SRv6 BE can be configured to transmit EVPN E-LAN data over SRv6 BE paths on a public network.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_1000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_1004.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_1006.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featuretype" content="Segment Routing">
<meta name="OWNER" content="l00468467">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00587852">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001188606209">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring EVPN VPLS over OSPFv3 SRv6 BE</title>
</head>
<body><a name="EN-US_TASK_0000001188606209"></a><a name="EN-US_TASK_0000001188606209"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring EVPN VPLS over OSPFv3 SRv6 BE</h1>
<div class="taskbody"><p>When the EVPN E-LAN model is used to carry multipoint-to-multipoint (MP2MP) VPLSs, EVPN VPLS over SRv6 BE can be configured to transmit EVPN E-LAN data over SRv6 BE paths on a public network.</p>
<div class="context"><a name="EN-US_TASK_0000001188606209__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>EVPN VPLS uses the EVPN E-LAN model to carry MP2MP VPLSs. EVPN VPLS over SRv6 BE builds on this technology and uses SRv6 BE paths over public networks to carry EVPN E-LAN services. Implementing EVPN VPLS over SRv6 BE involves establishing SRv6 BE paths, advertising EVPN routes, and forwarding data.</p>
<p><a href="#EN-US_TASK_0000001188606209__fig_dc_vrp_srv6_cfg_all_002101">Figure 1</a> shows an example where an IPv6 public network is established between PE1 and PE2. SRv6 BE can be deployed on the IPv6 public network to carry EVPN E-LAN services.</p>
<div class="fignone" id="EN-US_TASK_0000001188606209__fig_dc_vrp_srv6_cfg_all_002101"><a name="EN-US_TASK_0000001188606209__fig_dc_vrp_srv6_cfg_all_002101"></a><a name="fig_dc_vrp_srv6_cfg_all_002101"></a><span class="figcap"><b>Figure 1 </b>EVPN VPLS over SRv6 BE networking</span><br><span><img class="vsd" src="figure/en-us_image_0000001188726079.png" width="NaN" height="NaN"></span></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001188606209__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring EVPN VPLS over SRv6 BE, complete the following tasks:</p>
<ul><li><p>Configure OSPFv3 on each PE and P. For configuration details, see <a href="dc_vrp_ospfv3_cfg_2003.html">Configuring Basic OSPFv3 Functions</a>.</p>
</li></ul>
<ul><li><p><a href="dc_vrp_evpn_cfg_0065.html">Configure BD EVPN</a> on each PE.</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001188606209__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Establish a BGP EVPN peer relationship between the PEs.</span><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> { <i><span class="varname">as-number-plain</span></i> | <i><span class="varname">as-number-dot</span></i> }</span><p><p>The BGP view is displayed.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=router-id"><b><span class="cmdname">router-id</span></b></a> <i><span class="varname">ipv4-address</span></i></span><p><p>A BGP router ID is configured.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">ipv6-address</span></i> <strong><span>as-number</span></strong> { <i><span class="varname">as-number-plain</span></i> | <i><span class="varname">as-number-dot</span></i> }</span><p><p>The remote PE is configured as a peer.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">ipv6-address</span></i> <strong><span>connect-interface</span></strong> <strong><span>loopback</span></strong> <i><span class="varname">interface-number</span></i></span><p><p>The interface on which a TCP connection to the specified BGP peer is established is specified.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=l2vpn-family+evpn"><b><span class="cmdname">l2vpn-family evpn</span></b></a></span><p><p>The BGP EVPN address family view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <em>i<i><span class="varname">pv6-address</span></i></em> <strong><span>enable</span></strong></span><p><p>The device is enabled to exchange EVPN route information with the specified peer.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> { <i><span class="varname">ipv6-address</span></i> | <i><span class="varname">group-name</span></i> } <strong><span>advertise encap-type srv6</span></strong><span> [ <strong><span>advertise-srv6-locator</span></strong> ]</span></span><p><p>The device is enabled to send EVPN routes carrying SRv6-encapsulated attributes to the specified peer or peer group.</p>
</p><p><p>In a scenario where BFD is used to check locator reachability, if locator routes are summarized by a P device between local and remote PEs, the remote PE can learn only the summary locator route, not the locator on the local PE. This leads to a BFD failure. To address this issue, specify the <strong><span>advertise-srv6-locator</span></strong> parameter in the command to allow the local PE to carry locator length information in the EVPN route to be advertised to the remote PE. In this way, after receiving the EVPN route, the remote PE can calculate the locator on the local PE, enabling BFD to take effect.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=peer"><b><span class="cmdname" id="EN-US_TASK_0000001188606209__en-us_task_0176593776_cmdname1439632714419">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0000001188606209__en-us_task_0176593776_varname160111443225">ipv6-address</span></i> | <i><span class="varname" id="EN-US_TASK_0000001188606209__en-us_task_0176593776_varname1060194442213">group-name</span></i> } <strong><span id="EN-US_TASK_0000001188606209__en-us_task_0176593776_cmdparmname1939652713414">srv6-label-compatible</span></strong></span><p><p id="EN-US_TASK_0000001188606209__en-us_task_0176593776_p18744102015112">SRv6 label compatibility is enabled.</p>
</p><p><p id="EN-US_TASK_0000001188606209__en-us_task_0176593776_p131484441213">According to relevant standards, the MPLS Label2 field of IRB routes and the ESI Label field of ES-AD routes sent to SRv6 peers should both be set to 3 in non-transposition scenarios. By default, however, the value of the MPLS Label2 field in IRB routes is a specific MPLS label, and that of the ESI Label field in ES-AD routes is a specific ESI. After the <strong id="EN-US_TASK_0000001188606209__en-us_task_0176593776_en-us_task_0172368965_b1333261581113">peer srv6-label-compatible</strong> command is run, the value of the MPLS Label2 field in IRB routes and that of the ESI Label field in ES-AD routes are both changed to 3. To ensure proper interworking between Huawei and non-Huawei devices, you can run this command.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=peer+srv6-label-compatible+inclusive-route"><b><span class="cmdname" id="EN-US_TASK_0000001188606209__en-us_task_0176593776_cmdname6153144141714">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0000001188606209__en-us_task_0176593776_varname9153114141715">ipv6-address</span></i> | <i><span class="varname" id="EN-US_TASK_0000001188606209__en-us_task_0176593776_varname1415311419173">group-name</span></i> } <strong><span id="EN-US_TASK_0000001188606209__en-us_task_0176593776_cmdparmname115317441719">srv6-label-compatible inclusive-route</span></strong></span><p><p id="EN-US_TASK_0000001188606209__en-us_task_0176593776_p2420192265017">SRv6 label compatibility for inclusive routes is enabled.</p>
</p><p><p id="EN-US_TASK_0000001188606209__en-us_task_0176593776_p176421514143618">According to relevant standards, the MPLS Label field in the PMSI attribute of an inclusive route sent to an SRv6 peer should be set to 0 in non-transposition scenarios. By default, however, this field is set to 3 for such a route. After the <strong id="EN-US_TASK_0000001188606209__en-us_task_0176593776_b1460395674613">peer srv6-label-compatible inclusive-route</strong> command is run, the value of this field is changed to 0. To ensure proper interworking between Huawei and non-Huawei devices, you can run this command.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Exit the BGP EVPN address family view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Exit the BGP view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure basic SRv6 functions.</span><ol type="a"><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=evpn+srv6+next-header-field"><b><span class="cmdname">evpn srv6 next-header-field</span></b></a> { <strong><span>59</span></strong> | <strong><span>143</span></strong> }</span><p><p>A value is set for the Next Header field in an SRv6 extension header.</p>
</p><p><p>If the value is 59 in earlier versions, you can perform this step to change the value to 59 to ensure compatibility with the earlier versions.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=segment-routing+ipv6"><b><span class="cmdname">segment-routing ipv6</span></b></a></span><p><p>SRv6 is enabled, and the SRv6 view is displayed.</p>
</p></li><li class="substepexpand"><span>Configure a source address for SRv6 encapsulation. Note that you only need to perform one of the following operations. If both of the operations are performed, the latest configuration overrides the previous one.</span><p><ul id="EN-US_TASK_0000001188606209__en-us_task_0172368959_ul261475310544"><li id="EN-US_TASK_0000001188606209__en-us_task_0172368959_li761411538546">Run the <a href="cmdqueryname=encapsulation+source-address"><b><span class="cmdname" id="EN-US_TASK_0000001188606209__en-us_task_0172368959_cmdname23368553547">encapsulation source-address</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001188606209__en-us_task_0172368959_varname6336145515412">ipv6-address</span></i> [ <strong><span id="EN-US_TASK_0000001188606209__en-us_task_0172368959_cmdparmname1633612551542">ip-ttl</span></strong> <i><span class="varname" id="EN-US_TASK_0000001188606209__en-us_task_0172368959_varname2033635519549">ttl-value</span></i> ] command to directly configure a source address for SRv6 encapsulation.</li><li id="EN-US_TASK_0000001188606209__en-us_task_0172368959_li1554119145516">Run the <a href="cmdqueryname=encapsulation+source-interface"><b><span class="cmdname" id="EN-US_TASK_0000001188606209__en-us_task_0172368959_cmdname10488513573">encapsulation source-interface</span></b></a> { <i><span class="varname" id="EN-US_TASK_0000001188606209__en-us_task_0172368959_varname0729113313571">intfname</span></i> | <i><span class="varname" id="EN-US_TASK_0000001188606209__en-us_task_0172368959_varname17377153912578">interfaceType</span></i> <i><span class="varname" id="EN-US_TASK_0000001188606209__en-us_task_0172368959_varname1951134465716">interfaceNum</span></i> } [ <strong id="EN-US_TASK_0000001188606209__en-us_task_0172368959_b7945154716571">ip-ttl</strong> <i><span class="varname" id="EN-US_TASK_0000001188606209__en-us_task_0172368959_varname2091014584572">ttl-value</span></i> ] command to specify the interface to which the source address used for SRv6 encapsulation belongs.<p id="EN-US_TASK_0000001188606209__en-us_task_0172368959_p2488153115910">If no IPv6 global address is configured for the interface specified using the <a href="cmdqueryname=encapsulation+source-interface"><b><span class="cmdname" id="EN-US_TASK_0000001188606209__en-us_task_0172368959_cmdname2054948195915">encapsulation source-interface</span></b></a> command, the source address for SRv6 encapsulation is not configured.</p>
</li></ul>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=locator"><b><span class="cmdname">locator</span></b></a> <i><span class="varname">locator-name</span></i> [ <strong><span>ipv6-prefix</span></strong> <i><span class="varname">ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> [ <strong><span>static</span></strong> <i><span class="varname">static-length</span></i> | <strong><span>args</span></strong> <i><span class="varname">args-length</span></i> ] <sup>*</sup> ]</span><p><p>An SRv6 locator is configured.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=opcode"><b><span class="cmdname">opcode</span></b></a> <em>f<i><span class="varname">unc-opcode</span></i></em> <strong><span>end-dt2m</span></strong> <strong><span>bridge-domain</span></strong> <em><i><span class="varname">bd-id</span></i></em></span><p><p>An opcode for static End.DT2M SIDs is configured.</p>
</p><p><p>Perform this step if a static locator is configured using the <strong>static</strong><em> static-length</em> parameter. End.DT2M SIDs are used for BUM traffic forwarding through VPLS.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=opcode"><b><span class="cmdname">opcode</span></b></a> <em>func-opcode</em> { <strong>end-dt2u</strong> | <strong>end-dt2ul</strong> } <strong>bridge-domain</strong> <em>bd-id</em></span><p><p>An opcode for static End.DT2U and End.DT2UL SIDs is configured.</p>
</p><p><p>Perform this step if a static locator is configured through the <strong>static</strong><em> static-length</em> parameter. End.DT2U SIDs are used for the forwarding of known unicast traffic over VPLS. In a dual-homing scenario, you need to specify an End.DT2UL opcode for the bypass path to prevent traffic loops between PEs.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Exit the SRv6 locator view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Exit the SRv6 view.</p>
</p></li></ol>
</li><li><span>Enable OSPFv3 SRv6 on the PEs.</span><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=ospfv3"><b><span class="cmdname">ospfv3</span></b></a> [ <em>process-id</em> ]</span><p><p>The OSPFv3 process view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=segment-routing+ipv6"><b><span class="cmdname">segment-routing ipv6</span></b></a> <strong>locator</strong> <em>locator-name</em> [ <strong>auto-sid-disable</strong> ]</span><p><p>OSPFv3 SRv6 is enabled.</p>
</p><p><p>In this command, the value of <em>locator-name</em> must be the same as that specified using the <a href="cmdqueryname=locator"><b><span class="cmdname">locator</span></b></a> <i><span class="varname">locator-name</span></i> [ <strong><span>ipv6-prefix</span></strong> <i><span class="varname">ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> [ <strong><span>static</span></strong> <i><span class="varname">static-length</span></i> | <strong><span>args</span></strong> <i><span class="varname">args-length</span></i> ] <sup>*</sup> ] command. If a separate locator is configured for each of BUM traffic and known unicast traffic of EVPN VPLS services, you need to run this command once for each locator for OSPFv3 to advertise them both.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=segment-routing+ipv6+compatible+locator-fixed-length"><b><span class="cmdname" id="EN-US_TASK_0000001188606209__en-us_task_0000001188606207_cmdname7368133484212">segment-routing ipv6 compatible locator-fixed-length</span></b></a></span><p><p id="EN-US_TASK_0000001188606209__en-us_task_0000001188606207_p72894073517">A fixed length is configured for the Locator field in the SRv6 Locator TLV carried in an SRv6 Locator LSA.</p>
</p><p><p id="EN-US_TASK_0000001188606209__en-us_task_0000001188606207_p326112590444">As defined in <em id="EN-US_TASK_0000001188606209__en-us_task_0000001188606207_i1362531613715">draft-ietf-lsr-ospfv3-srv6-extensions-12</em> and later versions, the length of the Locator field in the SRv6 Locator TLV carried in an SRv6 Locator LSA is variable. To facilitate the interworking between protocols defining different lengths for the Locator field, you can run this command to configure the Locator field to be fixed at 128 bits.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Exit the OSPFv3 process view.</p>
</p></li></ol>
</li><li><span>Configure EVPN routes to carry SIDs and recurse to SRv6 BE paths based on the SIDs.</span><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=evpn+vpn-instance"><b><span class="cmdname">evpn vpn-instance</span></b></a> <em>vpn-instance-name</em> <strong>bd-mode</strong></span><p><p>The view of the EVPN instance that works in BD mode is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=segment-routing+ipv6+locator"><b><span class="cmdname">segment-routing ipv6 locator</span></b></a> <em>locator-name</em> [ <strong><span>unicast-locator</span></strong><em> </em><i><span class="varname">unicast-locator-name</span></i> ]</span><p><p>The device is enabled to add SIDs to EVPN routes to be advertised.</p>
</p><p><div class="p">In this command:<ul><li><p><em>locator-name</em> must be set to an End.DT2M SID, with the <strong>args</strong> parameter specified. <i><span class="varname">unicast-locator-name</span></i> must be set to an End.DT2U or End.DT2UL SID, without having the <strong>args</strong> parameter specified. If the <em>locator-name</em> and <i><span class="varname">unicast-locator-name</span></i> parameters are both required, you need to run the <a href="cmdqueryname=locator"><b><span class="cmdname">locator</span></b></a> <i><span class="varname">locator-name</span></i> [ <strong><span>ipv6-prefix</span></strong> <i><span class="varname">ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> [ <strong><span>static</span></strong> <i><span class="varname">static-length</span></i> | <strong><span>args</span></strong> <i><span class="varname">args-length</span></i> ] <sup>*</sup> ] command to create two corresponding locators before setting the two parameters.</p>
</li><li><p>In EVPN VPLS dual-homing scenarios, the <strong>args</strong> parameter is used to stitch ESI labels for End.DT2M SIDs only, which causes a waste of End.DT2U SIDs. In this case, you can separately configure a locator for End.DT2U SIDs and another locator for End.DT2M SIDs. The former locator does not require the <strong>args</strong> parameter to be specified. The two locators can then be bound to the same EVPN instance to conserve SIDs.</p>
</li><li><p>If static SIDs are configured for the locator specified using <em>locator-name</em> or <i><span class="varname">unicast-locator-name</span></i>, use the static SIDs. Otherwise, use dynamically allocated SIDs.</p>
</li></ul>
</div>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=segment-routing+ipv6+best-effort"><b><span class="cmdname">segment-routing ipv6 best-effort</span></b></a></span><p><p>The device is enabled to perform route recursion to SRv6 BE paths based on the SIDs carried by routes.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>(Optional) Configure the tunnel ID carried in the inclusive multicast route to be sent to an IPv6 neighbor.</span><p><ol type="a"><li>Run <a href="cmdqueryname=evpn"><b><span class="cmdname">evpn</span></b></a><p>The global EVPN configuration view is displayed.</p>
</li><li>Run <a href="cmdqueryname=evpn+tunnel-id"><b><span class="cmdname">evpn tunnel-id</span></b></a> <i><span class="varname">tunnel-id-value</span></i><p>The tunnel ID carried in the inclusive multicast route to be sent to an IPv6 neighbor is specified.</p>
</li><li>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a><p>Return to the system view.</p>
</li><li>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a><p>The configuration is committed.</p>
</li></ol>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0000001188606209__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>After configuring EVPN VPLS over SRv6 BE, verify the configuration.</p>
<ul><li><p>Run the <a href="cmdqueryname=display+segment-routing+ipv6+local-sid"><b><span class="cmdname">display segment-routing ipv6 local-sid</span></b></a> { <strong>end-dt2u</strong> | <strong>end-dt2ul</strong> | <strong>end-dt2m</strong> } [ <em>sid</em> ] [ <strong>bridge-domain</strong> <em>bd-id</em> ] <strong>forwarding</strong> command to check information about the SRv6 BE local SID table.</p>
</li></ul>
<ul><li><p>Run the <a href="cmdqueryname=display+bgp+evpn"><b><span class="cmdname">display bgp evpn</span></b></a> { <strong>all</strong> | <strong>route-distinguisher</strong> <em>route-distinguisher</em> | <strong>vpn-instance </strong><em>vpn-instance-name</em> } <strong>routing-table</strong> [ { <strong>ad-route</strong> | <strong>es-route</strong> | <strong>inclusive-route</strong> | <strong>mac-route</strong> | <strong>prefix-route</strong> } <em>prefix</em> ] command to check BGP EVPN route information.</p>
</li></ul>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_1000.html">Configuring SRv6 BE (OSPFv3)
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_1004.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_1006.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>