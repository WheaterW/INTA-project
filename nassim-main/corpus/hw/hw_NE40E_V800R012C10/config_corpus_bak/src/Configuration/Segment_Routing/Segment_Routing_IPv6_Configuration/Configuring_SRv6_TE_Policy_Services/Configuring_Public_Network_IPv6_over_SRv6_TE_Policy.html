
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Public Network IPv6 over SRv6 TE Policy">
<meta name="abstract" content="This section describes how to configure public network IPv6 over SRv6 TE Policy.">
<meta name="description" content="This section describes how to configure public network IPv6 over SRv6 TE Policy.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0131.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0243.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0289.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featuretype" content="Segment Routing">
<meta name="OWNER" content="l00587852">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00587852">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0304095422">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Public Network IPv6 over SRv6 TE Policy</title>
</head>
<body><a name="EN-US_TASK_0304095422"></a><a name="EN-US_TASK_0304095422"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Public Network IPv6 over SRv6 TE Policy</h1>
<div class="taskbody"><p>This section describes how to configure public network IPv6 over SRv6 TE Policy.</p>
<div class="context"><a name="EN-US_TASK_0304095422__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>Public network IPv6 over SRv6 TE Policy uses SRv6 TE Policies on a public network to carry public network IPv6 services. The key implementation of public network IPv6 over SRv6 TE Policy includes establishing SRv6 TE Policies, advertising BGP routes, and forwarding data. As shown in <a href="#EN-US_TASK_0304095422__fig_dc_vrp_srv6_cfg_all_001201">Figure 1</a>, PE1 and PE2 communicate through an IPv6 public network. An SRv6 TE Policy can be established on the IPv6 public network to carry public network IPv6 services.</p>
<div class="fignone" id="EN-US_TASK_0304095422__fig_dc_vrp_srv6_cfg_all_001201"><a name="EN-US_TASK_0304095422__fig_dc_vrp_srv6_cfg_all_001201"></a><a name="fig_dc_vrp_srv6_cfg_all_001201"></a><span class="figcap"><b>Figure 1 </b>Public network IPv6 over SRv6 TE Policy networking</span><br><span><img class="vsd" src="figure/en-us_image_0304095487.png" width="NaN" height="NaN"></span></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0304095422__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring public network IPv6 over SRv6 TE Policy, complete the following tasks:</p>
<ul><li><p>Configure a link-layer protocol.</p>
</li><li><p>Configure network-layer addresses for interfaces to ensure that neighboring devices are reachable at the network layer.</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0304095422__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure IPv6 IS-IS on the PEs and P. For configuration details, see <a href="dc_vrp_isis_cfg_1023.html">Configuring Basic IS-IS Functions (IPv6)</a>.</span></li><li><span>Establish an EBGP peer relationship between PE1 and DeviceA and another one between PE2 and DeviceB.</span><ol type="a"><li><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li><span>Run the <a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i> command to enter the BGP view.</span></li><li><span>Run the <a href="cmdqueryname=router-id"><b><span class="cmdname">router-id</span></b></a> <i><span class="varname">ipv4-address</span></i> command to configure a BGP router ID.</span></li><li><span>Run the <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">ipv6-address</span></i> <a href="cmdqueryname=as-number"><b><span class="cmdname">as-number</span></b></a> <i><span class="varname">as-number</span></i> command to specify a peer address and the AS where the peer resides.</span></li><li><span>Run the <a href="cmdqueryname=ipv6-family"><b><span class="cmdname">ipv6-family</span></b></a> <strong><span>unicast</span></strong> command to enter the BGP-IPv6 unicast address family view.</span></li><li><span>Run the <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">ipv6-address</span></i> <a href="cmdqueryname=enable"><b><span class="cmdname">enable</span></b></a> command to enable the device to exchange routing information with the specified IPv6 peer.</span></li><li><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li><li><span>Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to exit the BGP-IPv6 unicast address family view.</span></li><li><span>Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to exit the BGP view.</span></li></ol>
</li><li><span>Establish an IBGP peer relationship between the PEs.</span><ol type="a"><li><span>Run the <a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i> command to enter the BGP view.</span></li><li><span>Run the <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">ipv6-address</span></i> <a href="cmdqueryname=as-number"><b><span class="cmdname">as-number</span></b></a> <i><span class="varname">as-number</span></i> command to specify a peer address and the AS where the peer resides.</span></li><li><span>Run the <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">ipv6-address</span></i> <a href="cmdqueryname=connect-interface"><b><span class="cmdname">connect-interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> command to specify the source interface and address used to establish a TCP connection.</span></li><li><span>Run the <a href="cmdqueryname=ipv6-family"><b><span class="cmdname">ipv6-family</span></b></a> <strong><span>unicast</span></strong> command to enter the BGP-IPv6 unicast address family view.</span></li><li><span>Run the <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">ipv6-address</span></i> <a href="cmdqueryname=enable"><b><span class="cmdname">enable</span></b></a> command to enable the device to exchange routing information with the specified IPv6 peer.</span></li><li><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li><li><span>Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to exit the BGP-IPv6 unicast address family view.</span></li><li><span>Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to exit the BGP view.</span></li></ol>
</li><li><span>Configure basic SRv6 functions.</span><ol type="a"><li class="substepexpand"><span>Run the <a href="cmdqueryname=segment-routing+ipv6"><b><span class="cmdname">segment-routing ipv6</span></b></a> command to enable SRv6 and enter its view.</span></li><li class="substepexpand"><span>Configure a source address for SRv6 encapsulation. Note that you only need to perform one of the following operations. If both of the operations are performed, the latest configuration overrides the previous one.</span><p><ul id="EN-US_TASK_0304095422__en-us_task_0172368959_ul261475310544"><li id="EN-US_TASK_0304095422__en-us_task_0172368959_li761411538546">Run the <a href="cmdqueryname=encapsulation+source-address"><b><span class="cmdname" id="EN-US_TASK_0304095422__en-us_task_0172368959_cmdname23368553547">encapsulation source-address</span></b></a> <i><span class="varname" id="EN-US_TASK_0304095422__en-us_task_0172368959_varname6336145515412">ipv6-address</span></i> [ <strong><span id="EN-US_TASK_0304095422__en-us_task_0172368959_cmdparmname1633612551542">ip-ttl</span></strong> <i><span class="varname" id="EN-US_TASK_0304095422__en-us_task_0172368959_varname2033635519549">ttl-value</span></i> ] command to directly configure a source address for SRv6 encapsulation.</li><li id="EN-US_TASK_0304095422__en-us_task_0172368959_li1554119145516">Run the <a href="cmdqueryname=encapsulation+source-interface"><b><span class="cmdname" id="EN-US_TASK_0304095422__en-us_task_0172368959_cmdname10488513573">encapsulation source-interface</span></b></a> { <i><span class="varname" id="EN-US_TASK_0304095422__en-us_task_0172368959_varname0729113313571">intfname</span></i> | <i><span class="varname" id="EN-US_TASK_0304095422__en-us_task_0172368959_varname17377153912578">interfaceType</span></i> <i><span class="varname" id="EN-US_TASK_0304095422__en-us_task_0172368959_varname1951134465716">interfaceNum</span></i> } [ <strong id="EN-US_TASK_0304095422__en-us_task_0172368959_b7945154716571">ip-ttl</strong> <i><span class="varname" id="EN-US_TASK_0304095422__en-us_task_0172368959_varname2091014584572">ttl-value</span></i> ] command to specify the interface to which the source address used for SRv6 encapsulation belongs.<p id="EN-US_TASK_0304095422__en-us_task_0172368959_p2488153115910">If no IPv6 global address is configured for the interface specified using the <a href="cmdqueryname=encapsulation+source-interface"><b><span class="cmdname" id="EN-US_TASK_0304095422__en-us_task_0172368959_cmdname2054948195915">encapsulation source-interface</span></b></a> command, the source address for SRv6 encapsulation is not configured.</p>
</li></ul>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=locator"><b><span class="cmdname">locator</span></b></a> <i><span class="varname">locator-name</span></i> [ <strong><span>ipv6-prefix</span></strong> <i><span class="varname">ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> [ <strong><span>static</span></strong> <i><span class="varname">static-length</span></i> | <strong><span>args</span></strong> <i><span class="varname">args-length</span></i> ] </span><span><span><sup>*</sup></span> ]</span></span><p><p>An SRv6 locator is configured, and the SRv6 locator view is displayed.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=opcode"><b><span class="cmdname" id="EN-US_TASK_0304095422__en-us_task_0233810266_cmdname1766088994214048">opcode</span></b></a> <i><span class="varname" id="EN-US_TASK_0304095422__en-us_task_0233810266_varname722568341214048">func-opcode</span></i> <strong><span id="EN-US_TASK_0304095422__en-us_task_0233810266_cmdparmname234581745214048">end-dt6</span></strong> or <a href="cmdqueryname=opcode"><b><span class="cmdname" id="EN-US_TASK_0304095422__en-us_task_0233810266_cmdname080581214305">opcode</span></b></a> <i><span class="varname" id="EN-US_TASK_0304095422__en-us_task_0233810266_varname14805141213019">func-opcode</span></i> <strong><span id="EN-US_TASK_0304095422__en-us_task_0233810266_cmdparmname10805141233015">end-dt46</span></strong> <strong><span id="EN-US_TASK_0304095422__en-us_task_0233810266_cmdparmname280511214307">vpn-instance</span></strong> <i><span class="varname" id="EN-US_TASK_0304095422__en-us_task_0233810266_varname180541214301">vpn-instance-name</span></i></span><p><p id="EN-US_TASK_0304095422__en-us_task_0233810266_p07911315153914">An opcode for static SIDs is configured.</p>
</p><p><p id="EN-US_TASK_0304095422__en-us_task_0233810266_p34318168341">A SID can be either dynamically allocated by BGP or manually configured. If a dynamically allocated SID and a manually configured SID both exist, the latter takes effect. If you want to run the <span><a href="cmdqueryname=segment-routing+ipv6+locator"><b><span class="cmdname" id="EN-US_TASK_0304095422__en-us_task_0233810266_cmdname175640204576">segment-routing ipv6 locator</span></b></a> <i><span class="varname" id="EN-US_TASK_0304095422__en-us_task_0233810266_varname165646206572">locator-name</span></i></span> command to enable dynamic End.DT6 SID allocation through BGP or the <span><a href="cmdqueryname=segment-routing+ipv6+locator"><b><span class="cmdname" id="EN-US_TASK_0304095422__en-us_task_0233810266_cmdname1034793033020">segment-routing ipv6 locator</span></b></a> <i><span class="varname" id="EN-US_TASK_0304095422__en-us_task_0233810266_varname133471830143014">locator-name</span></i></span> <a href="cmdqueryname=end-dt46"><b><span class="cmdname" id="EN-US_TASK_0304095422__en-us_task_0233810266_cmdname5347133012301">end-dt46</span></b></a> command to enable dynamic End.DT46 SID allocation through BGP in the future, skip this step.</p>
</p></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to exit the SRv6 locator view.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to exit the SRv6 view.</span></li></ol>
</li><li><span>Enable IS-IS SRv6.</span><ol type="a"><li><span>Run the <a href="cmdqueryname=isis"><b><span class="cmdname">isis</span></b></a> [ <em>process-id</em> ] command to enter the IS-IS view.</span></li><li><span>Run the <a href="cmdqueryname=ipv6+enable+topology+ipv6"><b><span class="cmdname">ipv6 enable topology ipv6</span></b></a> command to enable the IPv6 capability for the IS-IS process in the IPv6 topology.</span></li><li><span>Run the <a href="cmdqueryname=segment-routing+ipv6+%28IS-IS+view%29"><b><span class="cmdname">segment-routing ipv6</span></b></a> <strong>locator</strong> <em>locator-name</em> [ <strong>auto-sid-disable</strong> ] command to enable IS-IS SRv6.</span></li><li><span>Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to exit the IS-IS view.</span></li></ol>
</li><li><span>Configure each PE to carry color and SID attributes in public network routes to be advertised.</span><ol type="a"><li class="substepexpand"><span>Run the <a href="cmdqueryname=route-policy"><b><span class="cmdname">route-policy</span></b></a> <i><span class="varname">route-policy-name</span></i> { <strong><span>permit</span></strong> | <strong><span>deny</span></strong> } <strong><span>node</span></strong> <i><span class="varname">node</span></i> command to create a route-policy with a specified node and enter the route-policy view.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=apply+extcommunity+color"><b><span class="cmdname">apply extcommunity color</span></b></a> <i><span class="varname">color</span></i> command to specify a color extended community attribute.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to exit the route-policy view.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i> command to enter the BGP view.</span></li><li class="substepexpand"><span>(Optional) Run <span><a href="cmdqueryname=segment-routing+ipv6+locator"><b><span class="cmdname" id="EN-US_TASK_0304095422__en-us_task_0233810266_cmdname754621715276">segment-routing ipv6 locator</span></b></a> <i><span class="varname" id="EN-US_TASK_0304095422__en-us_task_0233810266_varname19827163014511">locator-name</span></i></span> <a href="cmdqueryname=end-dt46"><b><span class="cmdname" id="EN-US_TASK_0304095422__en-us_task_0233810266_cmdname115465174274">end-dt46</span></b></a></span><p><p id="EN-US_TASK_0304095422__en-us_task_0233810266_p154201558373">The device is enabled to add SIDs to public network routes.</p>
</p></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=ipv6-family"><b><span class="cmdname">ipv6-family</span></b></a> <strong><span>unicast</span></strong> command to enter the BGP-IPv6 unicast address family view.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">ipv6-address</span></i> <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> <strong><span>export</span></strong> command to apply the export route-policy to routes to be advertised to the specified peer so that the color attribute can be carried in these routes.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">peerIpv6Addr</span></i> <strong><span>advertise-ext-community</span></strong> command to enable the device to advertise extended community attributes to the specified peer.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">ipv6-address</span></i> <strong><span>prefix-sid</span></strong> [ <strong><span>advertise-srv6-locator</span></strong> ] command to enable the device to exchange prefix SID and locator information with the specified peer.</span></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=segment-routing+ipv6+locator"><b><span class="cmdname" id="EN-US_TASK_0304095422__en-us_task_0233810266_cmdname870484682214048">segment-routing ipv6 locator</span></b></a> <i><span class="varname" id="EN-US_TASK_0304095422__en-us_task_0233810266_varname1581375315518">locator-name</span></i></span></span><p><p id="EN-US_TASK_0304095422__en-us_task_0233810266_p1594091010382">The device is enabled to add SIDs to public network routes.</p>
</p><p><div class="note" id="EN-US_TASK_0304095422__en-us_task_0233810266_note998624472819"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0304095422__en-us_task_0233810266_p17986154420288">If the <span><a href="cmdqueryname=segment-routing+ipv6+locator"><b><span class="cmdname" id="EN-US_TASK_0304095422__en-us_task_0233810266_cmdname785551516293">segment-routing ipv6 locator</span></b></a> <i><span class="varname" id="EN-US_TASK_0304095422__en-us_task_0233810266_varname124889017617">locator-name</span></i></span> <a href="cmdqueryname=end-dt46"><b><span class="cmdname" id="EN-US_TASK_0304095422__en-us_task_0233810266_cmdname1985541519295">end-dt46</span></b></a> command has been run in the BGP view, skip this step.</p>
</div></div>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=segment-routing+ipv6+color-only"><b><span class="cmdname" id="EN-US_TASK_0304095422__en-us_task_0304095421_cmdname12745135181714">segment-routing ipv6 color-only</span></b></a></span><p><p id="EN-US_TASK_0304095422__en-us_task_0304095421_p29836392462">The device is enabled to recurse public network routes to color-only SRv6 TE Policies.</p>
</p><p><div class="note" id="EN-US_TASK_0304095422__en-us_task_0304095421_note112921244101920"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0304095422__en-us_task_0304095421_p82921449191">This command applies only to color-only scenarios and supports only statically configured SRv6 TE Policies.</p>
</div></div>
</p></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li></ol>
</li><li><span>Configure an SRv6 TE Policy. For configuration details, see <a href="dc_vrp_srv6_cfg_all_0110.html">Configuring an SRv6 TE Policy (Manual Configuration + IS-IS as an IGP)</a> or <a href="dc_vrp_srv6_cfg_all_0116.html">Configuring an SRv6 TE Policy (Dynamic Delivery by a Controller + IS-IS as an IGP)</a>.</span></li><li><span>Configure public network routes to recurse to the SRv6 TE Policy.</span><ol type="a"><li><span>Run the <a href="cmdqueryname=tunnel-policy"><b><span class="cmdname">tunnel-policy</span></b></a> <i><span class="varname">policy-name</span></i> command to create a tunnel policy and enter the tunnel policy view.</span></li><li><span>Run the <a href="cmdqueryname=tunnel+select-seq+ipv6"><b><span class="cmdname">tunnel select-seq ipv6</span></b></a> <strong><span>srv6-te-policy</span></strong> <strong><span>load-balance-number</span></strong> <i><span class="varname">loadBalanceNumber</span></i> command to specify the tunnel type to be selected and the maximum number of tunnels that can participate in load balancing.</span></li><li><span>Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to exit the tunnel policy view.</span></li><li><span>Run the <a href="cmdqueryname=tunnel-selector"><b><span class="cmdname">tunnel-selector</span></b></a> <i><span class="varname">name</span></i> { <strong><span>permit</span></strong> | <strong><span>deny</span></strong> } <strong><span>node</span></strong> <i><span class="varname">node</span></i> command to create a tunnel selector and enter the tunnel selector view.</span></li><li><span>Run the <a href="cmdqueryname=apply+tunnel-policy"><b><span class="cmdname">apply tunnel-policy</span></b></a> <i><span class="varname">tunnel-policy-name</span></i> command to apply a tunnel policy to routes.</span></li><li><span>Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to exit the tunnel selector view.</span></li><li><span>Run the <a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i> command to enter the BGP view.</span></li><li><span>Run the <a href="cmdqueryname=ipv6-family"><b><span class="cmdname">ipv6-family</span></b></a> <strong><span>unicast</span></strong> command to enter the BGP-IPv6 unicast address family view.</span></li><li><span>Run the <a href="cmdqueryname=unicast-route+recursive-lookup+tunnel-v6+tunnel-selector"><b><span class="cmdname">unicast-route recursive-lookup tunnel-v6 tunnel-selector</span></b></a> <i><span class="varname">tunnel-selector-name</span></i> command to enable the function to recurse public network routes to IPv6 tunnels.</span></li><li><span>Run the <a href="cmdqueryname=segment-routing+ipv6+traffic-engineer"><b><span class="cmdname">segment-routing ipv6 traffic-engineer</span></b></a> command to enable the device to recurse routes to the SRv6 TE Policy based on the color and SID values carried in the routes.</span></li><li><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li></ol>
</li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0304095422__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>After configuring public network IPv6 over SRv6 TE Policy, verify the configuration.</p>
<ul><li>Run the <a href="cmdqueryname=display+bgp+ipv6+routing-table"><b><span class="cmdname">display bgp ipv6 routing-table</span></b></a> <i><span class="varname">ipv6-address</span></i> [ <i><span class="varname">mask</span></i> | <i><span class="varname">mask-length</span></i> ] command to check BGP IPv6 routing table information.</li><li><p>Run the <a href="cmdqueryname=display+segment-routing+ipv6+locator"><b><span class="cmdname">display segment-routing ipv6 locator</span></b></a> [ <i><span class="varname">locator-name</span></i> ] <strong><span>verbose</span></strong> command to check SRv6 locator information.</p>
</li><li><p>Run the <a href="cmdqueryname=display+segment-routing+ipv6+local-sid"><b><span class="cmdname">display segment-routing ipv6 local-sid</span></b></a> [ <strong><span>locator</span></strong> <i><span class="varname">locator-name</span></i> ] <strong><span>forwarding</span></strong> command to check information about the SRv6 local SID table.</p>
</li></ul>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0131.html">Configuring SRv6 TE Policy Services
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0243.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0289.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>