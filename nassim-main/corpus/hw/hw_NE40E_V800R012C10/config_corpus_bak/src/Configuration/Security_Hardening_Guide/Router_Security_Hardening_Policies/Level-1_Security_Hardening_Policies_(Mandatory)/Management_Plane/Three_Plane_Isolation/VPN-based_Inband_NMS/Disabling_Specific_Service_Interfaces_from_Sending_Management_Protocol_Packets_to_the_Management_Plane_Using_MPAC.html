
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Disabling Specific Service Interfaces from Sending Management Protocol Packets to the Management Plane Using MPAC">
<meta name="abstract" content="">
<meta name="description" content="">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_hardening_2027.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_hardening_2028.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00588052,y00852169">
<meta name="DC.Publisher" content="20240229">
<meta name="OWNER" content="z00588052,y00852169">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="x60031980">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001180623073">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Disabling Specific Service Interfaces from Sending Management Protocol Packets to the Management Plane Using MPAC</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CONCEPT_0000001180623073"></a><a name="EN-US_CONCEPT_0000001180623073"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Disabling Specific Service Interfaces from Sending Management Protocol Packets to the Management Plane Using MPAC</h1>
<div><p></p>
<div class="section"><h4 class="sectiontitle">Networking Requirements</h4><p>Specific service interfaces are disabled from sending management protocol packets to the management plane so that the management plane receives management protocol packets only from the other service interfaces.</p>
</div>
<div class="section"><h4 class="sectiontitle">Configuration Roadmap</h4><div class="p">Create two MPAC policy views: one for global application, and the other for interface application. Configure a rule to disable management protocol packets from being sent to the management plane in the globally applied profile. Configure a rule to allow only specific management protocol packets to be sent to the management plane in the profile applied to an interface. The configuration roadmap is as follows:<ol><li>Create two MPAC policy profiles in the system view, with one being applied globally and the other being applied to an interface.</li><li>Disable management protocol packets from being sent to the management plane in the profile for global application, and allow only specific management protocol packets to be sent to the management plane in the profile for interface application.</li><li>Bind the global MPAC policy globally, and bind the interface-based MPAC policy to GE <span>0/1/0</span>.</li><li>Check the configurations and the number of dropped packets.</li></ol>
</div>
</div>
<div class="section"><h4 class="sectiontitle">Procedure</h4><ol><li>Create two MPAC policy profiles in the system view, with one being applied globally and the other being applied to an interface.<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>service-security policy ipv4 global</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-service-sec-global] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-service-sec-global] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>service-security policy ipv4 interface</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-service-sec-interface] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-service-sec-global] <strong>quit</strong></pre>
</li><li>Disable FTP, SNMP, SSH, Telnet, and TFTP protocol packets from being sent to the management plane in the profile for global application, and allow only FTP, SNMP, SSH, Telnet, and TFTP protocol packets to be sent to the management plane in the profile for interface application.<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>service-security policy ipv4 global</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-service-sec-global] <strong>rule deny protocol ftp</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-service-sec-global] <strong>rule deny protocol snmp</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-service-sec-global] <strong>rule deny protocol ssh</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-service-sec-global] <strong>rule deny protocol telnet</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-service-sec-global] <strong>rule deny protocol tftp</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-service-sec-global] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-service-sec-global] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>service-security policy ipv4 interface</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-service-sec-interface] <strong>rule permit protocol ftp</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-service-sec-interface] <strong>rule permit protocol snmp</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-service-sec-interface] <strong>rule permit protocol ssh</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-service-sec-interface] <strong>rule permit protocol telnet</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-service-sec-interface] <strong>rule permit protocol tftp</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-service-sec-interface] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-service-sec-interface] <strong>quit</strong></pre>
</li><li>Bind the interface-based MPAC policy to GE <span>0/1/0</span>, and bind the global MPAC policy globally.<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface GigabitEthernet <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-GigabitEthernet<span>0/1/0</span>] <strong>service-security binding ipv4 interface</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-GigabitEthernet<span>0/1/0</span>] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-GigabitEthernet<span>0/1/0</span>] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>service-security global-binding ipv4 global</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>commit</strong></pre>
</li><li>Verify the configuration.<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>display service-security binding ipv4</strong></pre>
<pre class="screen">  Configured : Global
  Policy Name: global
  
Interface  : GigabitEthernet<span>0/1/0</span>
  Policy Name: interface
</pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>display service-security policy ipv4</strong></pre>
<pre class="screen">  Policy Name : global
  Step        : 5
   rule 5 deny protocol ftp
   rule 10 deny protocol snmp
   rule 15 deny protocol ssh
   rule 20 deny protocol tftp
   rule 25 deny protocol telnet

Policy Name : interface
Step        : 5
 rule 5 permit protocol ftp
 rule 10 permit protocol snmp
 rule 15 permit protocol ssh
 rule 20 permit protocol tftp
 rule 25 permit protocol telnet</pre>
</li></ol>
</div>
<div class="section"><h4 class="sectiontitle">Verifying the Security Hardening Result</h4><ul><li>Run the <strong>display service-security statistics ipv4</strong> command to check whether all service interfaces fail to send management protocol packets to the CPU and whether all management protocol packets are discarded by referring to packet statistics.</li><li>Run the <strong>display service-security binding ipv4</strong> command to check MPAC policy information on an interface.</li><li>Run the <strong>display service-security policy ipv4</strong> command to check IPv4 MPAC policy configurations.</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_hardening_2027.html">VPN-based Inband NMS
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_hardening_2028.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>