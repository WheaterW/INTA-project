
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring Timers for a PCE Client">
<meta name="abstract" content="The Keepalive timer, Hold timer, PCReq retransmission timer, and LSP Delegate-hold timer can be set for a PCE client.">
<meta name="description" content="The Keepalive timer, Hold timer, PCReq retransmission timer, and LSP Delegate-hold timer can be set for a PCE client.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_pcep_cfg_0002.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_pcep_cfg_0008.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_pcep_cfg_0011.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS TE">
<meta name="featurename" content="PCE">
<meta name="featuretype" content="MPLS">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS TE">
<meta name="featurename" content="PCE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS TE">
<meta name="featurename" content="PCE">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="l00468467">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00468467">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001196063522">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>(Optional) Configuring Timers for a PCE Client</title>
</head>
<body><a name="EN-US_TASK_0000001196063522"></a><a name="EN-US_TASK_0000001196063522"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring Timers for a PCE Client</h1>
<div class="taskbody"><p>The Keepalive timer, Hold timer, PCReq retransmission timer, and LSP Delegate-hold timer can be set for a PCE client.</p>
<div class="context"><a name="EN-US_TASK_0000001196063522__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>PCEP defines the Keepalive and Hold timers to maintain PCEP sessions. Both ends of a PCEP session start these two timers. Each time the Keepalive timer expires, the local end resends a Keepalive message. If no Keepalive message arrives after the Hold timer expires, the local end considers the PCEP session disconnected.</p>
<p>Hold timer value = 4 x Keepalive timer value</p>
<div class="p">After the Keepalive timer is set, the Hold timer value is automatically updated. However, there are restrictions:<ul><li>The Hold timer value must be greater than or equal to the Keepalive timer value.</li><li>Although setting the Keepalive timer value changes the Hold timer value, setting the Hold timer value does not change the Keepalive timer value.</li><li>If the Keepalive time is set larger than 63s, the Hold timer remains 255s.</li></ul>
</div>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Keepalive and Hold timers on both ends of a PCEP session are independent and can be assigned different values. The two ends do not negotiate for a consistent value.</p>
</div></div>
<div class="p">If a PCEP connection goes Down, a PCE client starts an LSP Delegate-hold timer. Before the LSP Delegate-hold timer expires, the PCE client attempts to restore the PCEP connection to the existing PCE server. After the LSP Delegate-hold timer expires, the PCE client attempts to select another available PCE server to establish a PCEP session. The PCE client also starts an LSP state timeout timer. Before this timeout timer expires, the delegated LSP status remains. After the timeout timer expires, the PCE client is allowed to change the delegated LSP status in the following situations:<ul><li>If the <a href="cmdqueryname=mpls+te+pce+cleanup+lsp-state"><b><span class="cmdname">mpls te pce cleanup lsp-state</span></b></a> command is run on the PCE client, the client deletes the delegate LSP status and automatically uses a local path computation function to reestablish an LSP.</li><li>If the <a href="cmdqueryname=mpls+te+pce+cleanup+lsp-state"><b><span class="cmdname">mpls te pce cleanup lsp-state</span></b></a> command is not run on the PCE client, the client keeps attempting to establish a session with a PCE server.</li></ul>
</div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001196063522__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=pce-client"><b><span class="cmdname">pce-client</span></b></a></span><p><p>The PCE client view is displayed.</p>
</p></li><li id="EN-US_TASK_0000001196063522__step15917044214045"><span id="EN-US_TASK_0000001196063522__cmd1269715514217">Run <a href="cmdqueryname=timer"><b><span class="cmdname" id="EN-US_TASK_0000001196063522__cmdname343624271214045">timer</span></b></a> { <strong><span id="EN-US_TASK_0000001196063522__cmdparmname533705529214045">keepalive</span></strong> <i><span class="varname" id="EN-US_TASK_0000001196063522__varname423732131214045">keepalive-value</span></i> | <strong><span id="EN-US_TASK_0000001196063522__cmdparmname443419337283">hold</span></strong> <i><span class="varname" id="EN-US_TASK_0000001196063522__varname20434153317281">hold-time</span></i> | <strong><span id="EN-US_TASK_0000001196063522__cmdparmname6417567214045">request</span></strong> <i><span class="varname" id="EN-US_TASK_0000001196063522__varname1676633282214045">request-time</span></i> | <strong><span id="EN-US_TASK_0000001196063522__cmdparmname791654872214045">delegate-hold</span></strong> <i><span class="varname" id="EN-US_TASK_0000001196063522__varname1341807458214045">delegate-value</span></i><span> | <strong><span id="EN-US_TASK_0000001196063522__cmdparmname1347692315214045">state-timeout</span></strong> <i><span class="varname" id="EN-US_TASK_0000001196063522__varname1922739200214045">state-timeout-value</span></i></span> }</span><p><p id="EN-US_TASK_0000001196063522__p685994918115">Timers are configured for the PCE client.</p>
</p><p><p id="EN-US_TASK_0000001196063522__p18440454152520">The following table describes the meaning of the parameters in the command. Default timer values are recommended.</p>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_TASK_0000001196063522__tab_dc_vrp_te-p2p_cfg_019001" frame="border" border="1" rules="all"><thead align="left"><tr id="EN-US_TASK_0000001196063522__row2089707325214045"><th align="left" class="cellrowborder" char="." valign="top" width="26.200000000000003%" id="mcps1.4.2.3.3.2.1.4.1.1" liSelected="liSelected"><p id="EN-US_TASK_0000001196063522__entry852707012214045p0">Parameter</p>
</th>
<th align="left" class="cellrowborder" char="." valign="top" width="19.02%" id="mcps1.4.2.3.3.2.1.4.1.2" liSelected="liSelected"><p id="EN-US_TASK_0000001196063522__entry1160122344214045p0">Description</p>
</th>
<th align="left" class="cellrowborder" char="." valign="top" width="54.779999999999994%" id="mcps1.4.2.3.3.2.1.4.1.3" liSelected="liSelected"><p id="EN-US_TASK_0000001196063522__entry1124802913214045p0">Value</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_TASK_0000001196063522__row13210203013187"><td class="cellrowborder" valign="top" width="26.200000000000003%" headers="mcps1.4.2.3.3.2.1.4.1.1 "><p id="EN-US_TASK_0000001196063522__entry704793279214045p0"><strong><span id="EN-US_TASK_0000001196063522__cmdparmname2088326948214045">keepalive</span></strong> <i><span class="varname" id="EN-US_TASK_0000001196063522__varname842050672214045">keepalive-time</span></i></p>
</td>
<td class="cellrowborder" valign="top" width="19.02%" headers="mcps1.4.2.3.3.2.1.4.1.2 "><p id="EN-US_TASK_0000001196063522__entry689566113214045p0">Sets a Keepalive timer value.</p>
</td>
<td class="cellrowborder" valign="top" width="54.779999999999994%" headers="mcps1.4.2.3.3.2.1.4.1.3 "><p id="EN-US_TASK_0000001196063522__entry2122018121214045p0">The value is an integer ranging from 0 to 255, in seconds. The default value is 30s.</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001196063522__row770991785214045"><td class="cellrowborder" char="." valign="top" width="26.200000000000003%" headers="mcps1.4.2.3.3.2.1.4.1.1 "><p id="EN-US_TASK_0000001196063522__entry162031027214045p0"><strong><span id="EN-US_TASK_0000001196063522__cmdparmname246206393214045">hold</span></strong> <i><span class="varname" id="EN-US_TASK_0000001196063522__varname1952582269214045">hold-time</span></i></p>
</td>
<td class="cellrowborder" char="." valign="top" width="19.02%" headers="mcps1.4.2.3.3.2.1.4.1.2 "><p id="EN-US_TASK_0000001196063522__entry1030908199214045p0">Sets a Hold timer value.</p>
</td>
<td class="cellrowborder" char="." valign="top" width="54.779999999999994%" headers="mcps1.4.2.3.3.2.1.4.1.3 "><p id="EN-US_TASK_0000001196063522__entry1844466040214045p0">The value is an integer ranging from 0 to 255, in seconds. The default value is 120s.</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001196063522__row10313219296"><td class="cellrowborder" valign="top" width="26.200000000000003%" headers="mcps1.4.2.3.3.2.1.4.1.1 "><p id="EN-US_TASK_0000001196063522__p031182114294"><strong><span id="EN-US_TASK_0000001196063522__cmdparmname13621132112918">request</span></strong> <i><span class="varname" id="EN-US_TASK_0000001196063522__varname36211221192914">request-time</span></i></p>
</td>
<td class="cellrowborder" valign="top" width="19.02%" headers="mcps1.4.2.3.3.2.1.4.1.2 "><p id="EN-US_TASK_0000001196063522__p203119212298">Sets a value for the PCReq retransmission timer.</p>
</td>
<td class="cellrowborder" valign="top" width="54.779999999999994%" headers="mcps1.4.2.3.3.2.1.4.1.3 "><p id="EN-US_TASK_0000001196063522__p113172142915">The value is an integer ranging from 5 to 300, in seconds. The default value is 30s.</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001196063522__row301936141214045"><td class="cellrowborder" char="." valign="top" width="26.200000000000003%" headers="mcps1.4.2.3.3.2.1.4.1.1 "><p id="EN-US_TASK_0000001196063522__entry317018345214045p0"><strong><span id="EN-US_TASK_0000001196063522__cmdparmname220396208214045">delegate-hold</span></strong> <i><span class="varname" id="EN-US_TASK_0000001196063522__varname1624364275214045">delegate-value</span></i></p>
</td>
<td class="cellrowborder" char="." valign="top" width="19.02%" headers="mcps1.4.2.3.3.2.1.4.1.2 "><p id="EN-US_TASK_0000001196063522__entry802034798214045p0">Sets a value for the LSP Delegate-hold timer.</p>
</td>
<td class="cellrowborder" char="." valign="top" width="54.779999999999994%" headers="mcps1.4.2.3.3.2.1.4.1.3 "><p id="EN-US_TASK_0000001196063522__entry2049597887214045p0">The value is an integer ranging from 30 to 255, in seconds. The default value is 30s.</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001196063522__row563871019214045"><td class="cellrowborder" char="." valign="top" width="26.200000000000003%" headers="mcps1.4.2.3.3.2.1.4.1.1 "><p id="EN-US_TASK_0000001196063522__entry1368576869214045p0"><strong><span id="EN-US_TASK_0000001196063522__cmdparmname2121577913214045">state-timeout</span></strong> <i><span class="varname" id="EN-US_TASK_0000001196063522__varname1104303035214045">state-timeout-value</span></i></p>
</td>
<td class="cellrowborder" char="." valign="top" width="19.02%" headers="mcps1.4.2.3.3.2.1.4.1.2 "><p id="EN-US_TASK_0000001196063522__entry1207160805214045p0">Sets a value for the LSP state timeout timer.</p>
</td>
<td class="cellrowborder" char="." valign="top" width="54.779999999999994%" headers="mcps1.4.2.3.3.2.1.4.1.3 "><p id="EN-US_TASK_0000001196063522__entry6959302214045p0">The value is an integer ranging from 0 to 2147483647, in seconds. The default value is 259200s (or 72 hours).</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_pcep_cfg_0002.html">Configuring PCEP to Trigger MPLS TE Tunnel Establishment
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_pcep_cfg_0008.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_pcep_cfg_0011.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>