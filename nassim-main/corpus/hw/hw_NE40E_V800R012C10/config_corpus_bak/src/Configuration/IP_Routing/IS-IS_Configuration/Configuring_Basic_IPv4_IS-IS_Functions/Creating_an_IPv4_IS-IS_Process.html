
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Creating an IPv4 IS-IS Process">
<meta name="abstract" content="To configure basic IPv4 IS-IS functions, first create an IPv4 IS-IS process and enable IPv4 IS-IS interfaces.">
<meta name="description" content="To configure basic IPv4 IS-IS functions, first create an IPv4 IS-IS process and enable IPv4 IS-IS interfaces.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_1000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_1002.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00556928,w00606909,l00455378,isis">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Route">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="z00875216">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00875216">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172365973">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Creating an IPv4 IS-IS Process</title>
</head>
<body><a name="EN-US_TASK_0172365973"></a><a name="EN-US_TASK_0172365973"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Creating an IPv4 IS-IS Process</h1>
<div class="taskbody"><p>To configure basic IPv4 IS-IS functions, first create an IPv4 IS-IS process and enable IPv4 IS-IS interfaces.</p>
<div class="context"><a name="EN-US_TASK_0172365973__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>To configure an IS-IS process, perform the following operations:</p>
<ol><li><a href="#EN-US_TASK_0172365973__step9669734112517">Create an IS-IS process and configure a NET for the device.</a></li><li>(Optional) Perform the following operations as required:<ul><li><p id="EN-US_TASK_0172365973__p698218914410"><a name="EN-US_TASK_0172365973__p698218914410"></a><a name="p698218914410"></a><a href="#EN-US_TASK_0172365973__p698218914410">Set a level for the device.</a></p>
<p>Configure a device level based on the network planning. If no device level is configured, IS-IS establishes both Level-1 and Level-2 neighbor relationships and maintains two identical LSDBs, consuming excessive system resources.</p>
</li><li><p><a href="#EN-US_TASK_0172365973__choice9689337192912">Configure IS-IS host name mapping.</a></p>
<p>After IS-IS host name mapping is configured, a host name rather than the system ID of a device is displayed when you query IS-IS information. This improves the maintainability on an IS-IS network.</p>
</li><li><p><a href="#EN-US_TASK_0172365973__choice369318143219">Enable IS-IS neighbor strict-check.</a></p>
<p>If both IPv4 and IPv6 run on a network, and the IPv6 topology type of this network is <strong><span>standard</span></strong> or <strong><span>compatible</span></strong>, enable IS-IS neighbor strict-check to ensure that an IS-IS neighbor relationship is established only when both IPv4 and IPv6 are up. IS-IS neighbor strict-check improves network reliability and prevents traffic loss.</p>
</li><li><p><a href="#EN-US_TASK_0172365973__choice2730133910327">Enable the LSDB capacity threshold alarm function.</a></p>
<p>On an IS-IS network, incorrect configurations may cause a large number of external routes to be imported. Similarly, an IS-IS device may advertise a large number of LSPs after receiving attack packets. Both instances would lead to a network fault. To prevent this problem, you can configure the LSDB capacity threshold alarm function, which generates an alarm if the number of LSPs reaches the configured threshold, facilitating troubleshooting by the administrator.</p>
</li><li><p><a href="#EN-US_TASK_0172365973__choice6551143263314">Configure IS-IS to add the POI TLV to purge LSPs.</a></p>
<p>This function helps locate the source of error packets when a fault occurs on the network.</p>
</li><li><p><a href="#EN-US_TASK_0172365973__choice11117171203619">Configure automatic IS-IS system ID recovery in case of conflicts.</a></p>
<p>Two devices on an IS-IS network cannot have the same system ID. Otherwise, network flapping may occur. </p>
</li></ul>
</li></ol>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172365973__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li id="EN-US_TASK_0172365973__step9669734112517"><span id="EN-US_TASK_0172365973__">Create an IS-IS process and configure a NET for the device.</span><ol type="a"><li class="substepexpand"><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li class="substepexpand" id="EN-US_TASK_0172365973__substep1705709628214037"><span id="EN-US_TASK_0172365973__cmd1102513993214037">Run the <a href="cmdqueryname=isis"><b><span class="cmdname" id="EN-US_TASK_0172365973__cmdname77546213214037">isis</span></b></a> [ <i><span class="varname" id="EN-US_TASK_0172365973__varname16278640432">process-id</span></i> ] command to create an IS-IS process and enter its view.</span><p><p id="EN-US_TASK_0172365973__p2002432625214037"><i><span class="varname" id="EN-US_TASK_0172365973__varname845595861311">process-id</span></i> specifies an IS-IS process ID. If the <i><span class="varname" id="EN-US_TASK_0172365973__varname197213921416">process-id</span></i> parameter is not specified, the system creates process 1 by default. <span>To associate an IS-IS process with a VPN instance, run the <a href="cmdqueryname=isis"><b><span class="cmdname" id="EN-US_TASK_0172365973__cmdname10220791152">isis</span></b></a> <i><span class="varname" id="EN-US_TASK_0172365973__varname643853507214037">process-id</span></i> <strong><span id="EN-US_TASK_0172365973__cmdparmname1295227019214037">vpn-instance</span></strong> <i><span class="varname" id="EN-US_TASK_0172365973__varname15477824214037">vpn-instance-name</span></i> command.</span></p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172365973__substep1145965501214037"><span id="EN-US_TASK_0172365973__cmd1608829011214037">Run the <a href="cmdqueryname=network-entity"><b><span class="cmdname" id="EN-US_TASK_0172365973__cmdname1304591316214037">network-entity</span></b></a> <em id="EN-US_TASK_0172365973__i96992431020">net-addr</em> command to configure a NET.</span><p><div class="p" id="EN-US_TASK_0172365973__p784277390214037">An IS-IS NET consists of the following three parts:<ul id="EN-US_TASK_0172365973__ul367853999214037"><li id="EN-US_TASK_0172365973__li833392204214037"><p id="EN-US_TASK_0172365973__p1737277825214322"><a name="EN-US_TASK_0172365973__li833392204214037"></a><a name="li833392204214037"></a>Area ID, which is variable (1 to 13 bytes).</p>
</li><li id="EN-US_TASK_0172365973__li1757176044214037"><p id="EN-US_TASK_0172365973__p1339886009214322"><a name="EN-US_TASK_0172365973__li1757176044214037"></a><a name="li1757176044214037"></a>System ID (6 bytes) of this device.</p>
</li><li id="EN-US_TASK_0172365973__li1889815422214037"><p id="EN-US_TASK_0172365973__p1697014504214322"><a name="EN-US_TASK_0172365973__li1889815422214037"></a><a name="li1889815422214037"></a>SEL, which is 1 byte and its value must be 00.</p>
</li></ul>
For example, the NET of an IS-IS device can be configured as 10.1234.6e9f.0001.00.</div>
<div class="notice" id="EN-US_TASK_0172365973__note1312690152214037"><span class="noticetitle"><img src="../../../../public_sys-resources/notice_3.0-en-us.png"> </span><div class="noticebody"><div class="p" id="EN-US_TASK_0172365973__p1283879033214037"><ul id="EN-US_TASK_0172365973__ul239222575214037"><li id="EN-US_TASK_0172365973__li836257399214037">An area ID uniquely identifies an area in a routing domain. All devices in a Level-1 area must have the same area ID. Devices in a Level-2 area can have different area IDs.</li><li id="EN-US_TASK_0172365973__li495459102214037">The system ID must be unique in the whole area and backbone area. </li><li id="EN-US_TASK_0172365973__li861509948214037">Multiple NETs can be configured, but they must have the same system ID.</li></ul>
</div>
<p id="EN-US_TASK_0172365973__p2145468362214037">In conclusion, it is recommended that you convert the loopback interface address into a NET to ensure that the NET is unique on the network. If NETs are not unique on the network, route flapping may occur. Therefore, you need to plan the network properly. To convert the IP address of a loopback interface into a system ID, extend each octet of the IP address to three digits by adding 0s at the beginning if necessary, and then divide the extended IP address into three parts, with each part consisting of four digits.</p>
</div></div>
</p></li><li class="substepexpand"><span>(Optional) Run the <a href="cmdqueryname=description"><b><span class="cmdname">description</span></b></a> <i><span class="varname">description</span></i> command to configure a description for the IS-IS process.</span><p><p>A network administrator can configure a description to facilitate subsequent maintenance and management. The description, however, is not advertised in LSPs.</p>
</p></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li></ol>
</li><li><span>(Optional) Perform the following steps as required:</span><ul><li id="EN-US_TASK_0172365973__choice3848199266">Set a level for the device.<ol type="a" id="EN-US_TASK_0172365973__ol3418220202917"><li id="EN-US_TASK_0172365973__li16418132082913">Run the <a href="cmdqueryname=is-level"><b><span class="cmdname" id="EN-US_TASK_0172365973__cmdname630972336214037">is-level</span></b></a> { <strong><span id="EN-US_TASK_0172365973__cmdparmname514177943214037">level-1</span></strong> | <strong><span id="EN-US_TASK_0172365973__cmdparmname614383109214037">level-1-2</span></strong> | <strong><span id="EN-US_TASK_0172365973__cmdparmname58263848214037">level-2</span></strong> } command to configure a level for the device.</li><li id="EN-US_TASK_0172365973__li2936728182916">Run the <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172365973__cmdname1152362670214037">commit</span></b></a> command to commit the configuration.</li></ol>
</li><li id="EN-US_TASK_0172365973__choice9689337192912"><a name="EN-US_TASK_0172365973__choice9689337192912"></a><a name="choice9689337192912"></a>Configure IS-IS host name mapping.<ol type="a" id="EN-US_TASK_0172365973__ol95918166315"><li id="EN-US_TASK_0172365973__li10591516173114">Perform the following operations as required:<ul id="EN-US_TASK_0172365973__ul15191103613112"><li id="EN-US_TASK_0172365973__li719153613117">Run the <a href="cmdqueryname=is-name"><b><span class="cmdname" id="EN-US_TASK_0172365973__cmdname1079056066214037">is-name</span></b></a> <i><span class="varname" id="EN-US_TASK_0172365973__varname894287436214037">symbolic-name</span></i> command to configure IS-IS dynamic host name mapping and configure a host name for the local device.<p id="EN-US_TASK_0172365973__p1567946718214037">This configuration is dynamic. That is, the configured <i><span class="varname" id="EN-US_TASK_0172365973__varname04216547156">symbolic-name</span></i> is advertised to other IS-IS devices in the area through LSPs.</p>
<p id="EN-US_TASK_0172365973__p769524013214037">The configured host name (<i><span class="varname" id="EN-US_TASK_0172365973__varname10308819141611">symbolic-name</span></i>), rather than the system ID of the local device, is displayed on the IS-IS neighbors when IS-IS information is checked on these neighbors.</p>
</li><li id="EN-US_TASK_0172365973__li179491841123113">Run the <a href="cmdqueryname=is-name+map"><b><span class="cmdname" id="EN-US_TASK_0172365973__cmdname444479901214037">is-name map</span></b></a> <i><span class="varname" id="EN-US_TASK_0172365973__varname1727267207214037">system-id</span></i> <i><span class="varname" id="EN-US_TASK_0172365973__varname992459893214037">symbolic-name</span></i> command to configure IS-IS static host name mapping and configure a host name for the remote IS-IS device.<p id="EN-US_TASK_0172365973__p936275085214037">This configuration is static and takes effect only on the local device. The configured <i><span class="varname" id="EN-US_TASK_0172365973__varname41241124161720">symbolic-name</span></i> is not sent through LSPs.</p>
<p id="EN-US_TASK_0172365973__p1059340620214037">Therefore, if dynamic host name mapping is configured on an IS-IS device and static host name mapping is configured (for the previous device) on the local device, the dynamic host name overrides the static one on the local device.</p>
</li></ul>
</li><li id="EN-US_TASK_0172365973__li11964182713114">Run the <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172365973__cmdname178561830183116">commit</span></b></a> command to commit the configuration.</li></ol>
</li><li id="EN-US_TASK_0172365973__choice369318143219"><a name="EN-US_TASK_0172365973__choice369318143219"></a><a name="choice369318143219"></a>Enable IS-IS neighbor strict-check.<ol type="a" id="EN-US_TASK_0172365973__ol3872112711321"><li id="EN-US_TASK_0172365973__li17872172715325">Run the <a href="cmdqueryname=adjacency-strict-check+enable"><b><span class="cmdname" id="EN-US_TASK_0172365973__cmdname420043409214037">adjacency-strict-check enable</span></b></a> command to enable IS-IS neighbor strict-check.</li><li id="EN-US_TASK_0172365973__li1545610327324">Run the <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172365973__cmdname2082692836214037">commit</span></b></a> command to commit the configuration.</li></ol>
</li><li id="EN-US_TASK_0172365973__choice2730133910327"><a name="EN-US_TASK_0172365973__choice2730133910327"></a><a name="choice2730133910327"></a>Enable the LSDB capacity threshold alarm function.<ol type="a"><li>Run the <a href="cmdqueryname=lsdb+limit"><b><span class="cmdname">lsdb limit</span></b></a> <i><span class="varname">limit-number</span></i> <strong><span>threshold-alarm</span></strong> <strong><span>upper-limit</span></strong> <i><span class="varname">upper-limit-value</span></i> <strong><span>lower-limit</span></strong> <i><span class="varname">lower-limit-value</span></i> command to enable the LSDB capacity threshold alarm function.<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p><i><span class="varname">upper-limit-value</span></i> must be greater than or equal to <i><span class="varname">lower-limit-value</span></i>.</p>
</div></div>
</li><li>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</li></ol>
</li><li id="EN-US_TASK_0172365973__choice6551143263314"><a name="EN-US_TASK_0172365973__choice6551143263314"></a><a name="choice6551143263314"></a>Configure IS-IS to add the POI TLV to purge LSPs.<ol type="a"><li>Run the <a href="cmdqueryname=purge-originator-identification+enable"><b><span class="cmdname">purge-originator-identification enable</span></b></a><span> [ <strong><span>always</span></strong> ]</span> command to configure IS-IS to add the POI TLV (as well as the host name TLV if the dynamic host name function is enabled) to purge LSPs. <ul><li>If the <a href="cmdqueryname=purge-originator-identification+enable"><b><span class="cmdname">purge-originator-identification enable</span></b></a> command is run and the <strong>send-only</strong> parameter is specified when configuring authentication, generated purge LSPs do not carry the POI TLV or host name TLV.</li><li>If the <a href="cmdqueryname=purge-originator-identification+enable"><b><span class="cmdname">purge-originator-identification enable</span></b></a> command is run and HMAC-MD5 authentication is configured, generated purge LSPs do not carry the POI TLV or host name TLV. If the command is run and authentication of another type is configured or no authentication is configured, generated purge LSPs carry the POI TLV and host name TLV. <div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>HMAC-SHA256 rather than HMAC-MD5 is recommended for the sake of security.</p>
</div></div>
</li><li>If the <a href="cmdqueryname=purge-originator-identification+enable+always"><b><span class="cmdname">purge-originator-identification enable always</span></b></a> command is run, generated purge LSPs carry the POI TLV and host name TLV, regardless of whether authentication is configured or whether the <strong>send-only</strong> parameter is specified when configuring authentication.</li></ul>
</li><li>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</li></ol>
</li><li id="EN-US_TASK_0172365973__choice11117171203619"><a name="EN-US_TASK_0172365973__choice11117171203619"></a><a name="choice11117171203619"></a>Disable automatic IS-IS system ID recovery in case of conflicts.<ol type="a"><li>Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to exit the IS-IS view and return to the system view.</li><li>Run the <a href="cmdqueryname=isis+system-id+auto-recover+disable"><b><span class="cmdname">isis system-id auto-recover disable</span></b></a> command to disable automatic IS-IS system ID recovery in case of conflicts.</li><li>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</li></ol>
</li></ul>
</li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_1000.html">Configuring Basic IPv4 IS-IS Functions
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_1002.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>