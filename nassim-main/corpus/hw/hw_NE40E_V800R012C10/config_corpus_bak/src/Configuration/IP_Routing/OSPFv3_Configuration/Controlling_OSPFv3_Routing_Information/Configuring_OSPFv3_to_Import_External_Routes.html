
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring OSPFv3 to Import External Routes">
<meta name="abstract" content="Importing the routes discovered by other routing protocols can enrich OSPFv3 routing information.">
<meta name="description" content="Importing the routes discovered by other routing protocols can enrich OSPFv3 routing information.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2025.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2027.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,56675587z00801081,w00556928,w00606909,l00455378,">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Route">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="z00875216">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00875216">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172365742">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring OSPFv3 to Import External Routes</title>
</head>
<body><a name="EN-US_TASK_0172365742"></a><a name="EN-US_TASK_0172365742"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring OSPFv3 to Import External Routes</h1>
<div class="taskbody"><p>Importing the routes discovered by other routing protocols can enrich OSPFv3 routing information.</p>
<div class="context"><a name="EN-US_TASK_0172365742__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Because OSPFv3 is a link-state routing protocol and cannot filter LSAs to be advertised directly, it can only filter routes when importing them. As such, only the routes that match the filtering conditions can be converted into LSAs and advertised.</p>
<div class="notice"><span class="noticetitle"><img src="../../../../public_sys-resources/notice_3.0-en-us.png"> </span><div class="noticebody"><p>OSPFv3 and other dynamic routing protocols such as IS-IS and BGP often import routes from each other. If no routing policy is configured or a routing policy is incorrectly configured on a device where IS-IS, OSPFv3, and BGP import routes from each other, a Layer 3 routing loop may occur due to a route selection result change. As a result, services are compromised.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172365742__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=ospfv3"><b><span class="cmdname">ospfv3</span></b></a> [ <i><span class="varname">process-id</span></i> ]</span></span><p><p>The OSPFv3 view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=default"><b><span class="cmdname">default</span></b></a> { <strong><span>cost</span></strong> <i><span class="varname">cost</span></i><em>value</em> | <strong><span>tag</span></strong> <i><span class="varname">tagvalue</span></i> | <strong><span>type</span></strong> <i><span class="varname">typevalue</span></i> } *</span></span><p><p>The default cost is set for imported routes.</p>
</p></li><li><span>Run <a href="cmdqueryname=import-route"><b><span class="cmdname">import-route</span></b></a> { <strong><span>bgp</span></strong> [ <strong><span>permit-ibgp</span></strong> ] | <strong><span>direct</span></strong> | <strong><span>static</span></strong><span> | <strong><span>unr</span></strong></span> } [ <span>{ <strong><span>cost</span></strong> <i><span class="varname">cost</span></i> | <strong><span>inherit-cost</span></strong> }</span> | <strong><span>tag</span></strong> <i><span class="varname">tag</span></i> | <strong><span>type</span></strong> <i><span class="varname">type</span></i> | { <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i><span> | <strong><span>route-filter</span></strong> <i><span class="varname">route-filter-name</span></i></span> } ] <sup>*</sup></span><p><p>The device is configured to import external routes.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The <a href="cmdqueryname=import-route"><b><span class="cmdname">import-route</span></b></a> command cannot be used to import the default route from another AS.</p>
</div></div>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=import-route+limit"><b><span class="cmdname">import-route limit</span></b></a> <i><span class="varname">limit-number</span></i> [ <strong><span>threshold-alarm</span></strong> { <strong><span>upper-limit</span></strong> <i><span class="varname">upper-limit-value</span></i> | <strong><span>lower-limit</span></strong> <i><span class="varname">lower-limit-value</span></i> } <sup>*</sup> ]</span><p><p>A limit is configured on the number of imported external routes to be advertised by OSPFv3.</p>
</p><p><p>If OSPFv3 imports a large number of external routes and advertises them to a device with a small routing table capacity, the device may restart unexpectedly. To prevent this problem, configure a limit on the number of imported external routes to be advertised by OSPFv3.</p>
<p>Ensure that <i><span class="varname">upper-limit-value</span></i> is greater than or equal to <i><span class="varname">lower-limit-value</span></i>.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2025.html">Controlling OSPFv3 Routing Information
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2027.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>