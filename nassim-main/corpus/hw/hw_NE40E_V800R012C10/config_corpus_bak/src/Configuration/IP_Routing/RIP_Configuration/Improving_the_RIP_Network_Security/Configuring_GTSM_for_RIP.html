
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring GTSM for RIP">
<meta name="abstract" content="Generalized TTL Security Mechanism (GTSM) defends against attacks by checking the TTL value.">
<meta name="description" content="Generalized TTL Security Mechanism (GTSM) defends against attacks by checking the TTL value.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_rip_cfg_0038.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_rip_cfg_0041.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_rip_cfg_0042.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,rip,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="RIP">
<meta name="featuretype" content="IP Route">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="RIP">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="RIP">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="RIP">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="z00875216">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="ccms">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172365874">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring GTSM for RIP</title>
</head>
<body><a name="EN-US_TASK_0172365874"></a><a name="EN-US_TASK_0172365874"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">Configuring GTSM for RIP</h1>



<div class="taskbody"><p>Generalized TTL Security Mechanism (GTSM) defends against
attacks by checking the TTL value. </p>

<div class="context"><a name="EN-US_TASK_0172365874__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>During network attacks, attackers may simulate RIP packets
and continuously send them to a router. If the packets are destined
for the router, it directly forwards them to the control plane for
processing without validating them. As a result, the increased processing
workload on the control plane results in high CPU usage. Generalized
TTL Security Mechanism (GTSM) defends against attacks by checking
whether the time to live (TTL) value in each IP packet header is within
a pre-defined range.</p>
</div></div>

<div class="steps"><a name="EN-US_TASK_0172365874__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol>
<li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span>
<p><p>The system view is displayed. </p>
</p>
</li>
<li><span>Run <span><a href="cmdqueryname=rip+valid-ttl-hops"><b><span class="cmdname">rip valid-ttl-hops</span></b></a> <i><span class="varname">valid-ttl-hops-value</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ]</span></span>
<p><p>GTSM is configured
for RIP.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The valid TTL range of the detected
packets is [ 255 -<i><span class="varname">valid-ttl-hops-value</span></i> + 1, 255
].</p>
</div></div>
</p>
</li>
<li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span>
<p><p>The configuration is
committed.</p>
</p>
</li>
<li><span>Set the default action for packets that do not match the GTSM
policy.</span>
<p><p>GTSM only checks the TTL values of packets that match the
GTSM policy. Packets that do not match the GTSM policy can be allowed
or dropped.</p>
<p>You can enable the log function to record packet
drop for troubleshooting.</p>
<p>Perform the following configurations
on the GTSM-enabled <span class="keyword">Router</span>:</p>
</p>
<ol type="a"><li class="substepexpand" id="EN-US_TASK_0172365874__en-us_task_0172372045_substep1445317723214100"><span id="EN-US_TASK_0172365874__en-us_task_0172372045_cmd_05">Run the <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172365874__en-us_task_0172372045_cmdname1635538118214100">system-view</span></b></a> command to enter the system view.</span></li><li class="substepexpand" id="EN-US_TASK_0172365874__en-us_task_0172372045_substep1259563513214100"><span id="EN-US_TASK_0172365874__en-us_task_0172372045_cmd_06">Run the <a href="cmdqueryname=gtsm+default-action"><b><span class="cmdname" id="EN-US_TASK_0172365874__en-us_task_0172372045_cmdname140602031214100">gtsm default-action</span></b></a> { <strong><span id="EN-US_TASK_0172365874__en-us_task_0172372045_cmdparmname2007963889214100">drop</span></strong> | <strong><span id="EN-US_TASK_0172365874__en-us_task_0172372045_cmdparmname652484850214100">pass</span></strong> } command to set a default action for the messages that do not match the GTSM policy.</span><p><div class="note" id="EN-US_TASK_0172365874__en-us_task_0172372045_note760244747214100"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172365874__en-us_task_0172372045_p2053246826214100">If the default action is configured but no GTSM policy is configured, GTSM does not take effect.</p>
<p id="EN-US_TASK_0172365874__en-us_task_0172372045_p8625412214100">This command is supported only on the Admin-VS and cannot be configured in other VSs. This command takes effect on all VSs.</p>
</div></div>
</p></li><li class="substepexpand" id="EN-US_TASK_0172365874__en-us_task_0172372045_substep458111747214100"><span id="EN-US_TASK_0172365874__en-us_task_0172372045_cmd_07">Run the <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172365874__en-us_task_0172372045_cmdname415032453214100">commit</span></b></a> command to commit the configuration.</span></li></ol>

</li>
</ol></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_rip_cfg_0038.html">Improving the RIP Network Security
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_rip_cfg_0041.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_rip_cfg_0042.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>