
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a Dynamic BGP Peer Group">
<meta name="abstract" content="Configuring dynamic BGP peer groups reduces network maintenance workload.">
<meta name="description" content="Configuring dynamic BGP peer groups reduces network maintenance workload.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3046.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3052.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Route">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00615954">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0243366745">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring a Dynamic BGP Peer Group</title>
</head>
<body><a name="EN-US_TASK_0243366745"></a><a name="EN-US_TASK_0243366745"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a Dynamic BGP Peer Group</h1>
<div class="taskbody"><p>Configuring dynamic BGP peer groups reduces network maintenance workload.</p>
<div class="context"><a name="EN-US_TASK_0243366745__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>On a BGP network, multiple peers may frequently change, causing the establishment of peer relationships to change accordingly. If you configure peers in static mode, you need to frequently add or delete peer configurations on the local device, which increases the maintenance workload. To address this problem, configure the dynamic BGP peer function to enable BGP to listen for BGP connection requests from a specified network segment, dynamically establish BGP peer relationships, and add these peers to the same dynamic peer group. This spares you from adding or deleting BGP peer configurations in response to each change in BGP peers.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0243366745__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring a dynamic BGP peer group, complete the following task:</p>
<ul><li><p><a href="dc_vrp_bgp_cfg_3004.html">Configure basic BGP functions</a>.</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0243366745__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i></span><p><p>The BGP view is displayed.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=bgp+dynamic-session-limit"><b><span class="cmdname">bgp dynamic-session-limit</span></b></a> <i><span class="varname">max-num</span></i></span><p><p>The maximum number of dynamic BGP peer sessions that can be established is set.</p>
</p></li><li><span>Run <a href="cmdqueryname=group+listen+internal+external+confederation-external"><b><span class="cmdname">group</span></b></a> <i><span class="varname">group-name</span></i> <strong><span>listen</span></strong> [ <strong><span>internal</span></strong> | <strong><span>external</span></strong> | <strong><span>confederation-external</span></strong> ]</span><p><p>A dynamic BGP peer group is created. </p>
</p></li><li><span>Run either of the following commands to configure the peer AS number or AS range from which the dynamic EBGP peer group listens for connection requests.</span><p><ul><li>To specify the peer AS number from which the dynamic EBGP peer group listens for connection requests, run the <a href="cmdqueryname=peer+listen-as"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">group-name</span></i> <strong><span>listen-as</span></strong> { <i><span class="varname">asn</span></i> } &amp;&lt;1-6&gt; command.</li><li>To specify the peer AS range from which the dynamic EBGP peer group listens for connection requests, run the <a href="cmdqueryname=peer+listen-as-segment+begin-as+end-as"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">group-name</span></i> <strong><span>listen-as-segment</span></strong> <strong><span>begin-as</span></strong> <i><span class="varname">begin-asn</span></i> <strong><span>end-as</span></strong> <i><span class="varname">end-asn</span></i> command.</li></ul>
</p></li><li><span>Run <a href="cmdqueryname=peer+listen-net"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">group-name</span></i> <strong><span>listen-net</span></strong> <i><span class="varname">ipv4-address</span></i> { <em><i><span class="varname">mask-length</span></i></em> | <em><i><span class="varname">mask</span></i></em> }</span><p><p>A network segment from which the dynamic BGP peer group listens for BGP connection requests is specified.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0243366745__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>After the configuration is complete, verify the configuration.</p>
<ul><li>Run the <a href="cmdqueryname=display+bgp+group"><b><span class="cmdname">display bgp group</span></b></a> [ <i><span class="varname">group-name</span></i> ] command to check information about a specified BGP peer group.</li><li>Run the <a href="cmdqueryname=display+bgp+peer"><b><span class="cmdname">display bgp peer</span></b></a> command to check information about dynamic peers.</li></ul>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3000.html">BGP Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3046.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3052.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>