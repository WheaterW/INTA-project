
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring BGP Auto FRR">
<meta name="abstract" content="BGP Auto FRR provides backup forwarding entries for routes, minimizing the delay for important services.">
<meta name="description" content="BGP Auto FRR provides backup forwarding entries for routes, minimizing the delay for important services.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3070.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_4083.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3097.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,bgpvrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Route">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="w00604599">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00615954">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172366400">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Example for Configuring BGP Auto FRR</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0172366400"></a><a name="EN-US_TASK_0172366400"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring BGP Auto FRR</h1>
<div class="taskbody"><p>BGP Auto FRR provides backup forwarding entries for routes, minimizing the delay for important services.</p>
<div class="context"><a name="EN-US_TASK_0172366400__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>As networks evolve continuously, voice, on-line video, and financial services raise increasingly high requirements for real-time performance. Usually, primary and backup links are deployed on a network to ensure the stability of these services. If the primary link fails, the device needs to wait for route convergence to be completed. After that, the device reselects an optimal route and delivers this route to the FIB to start a link switchover. This is the traditional switchover mode. In this mode, service interruption lasts a long time, which does not meet the services' requirement.</p>
<p>BGP Auto FRR addresses this problem. After BGP Auto FRR is enabled on a device, the device selects the optimal route to forward packets. In addition, the device automatically adds information about the sub-optimal route to the backup forwarding entries of the optimal route and delivers the backup forwarding entries to the FIB. If the primary link fails, the device quickly switches traffic to the backup link. The switchover does not depend on route convergence and reduces service interruption time. The switchover can be performed within sub-seconds.</p>
<p>As shown in <a href="#EN-US_TASK_0172366400__fig_dc_vrp_bgp_cfg_408401">Figure 1</a>, <span class="keyword">Device</span> A belongs to AS 100; <span class="keyword">Device</span> B, <span class="keyword">Device</span> C, and <span class="keyword">Device</span> D belong to AS 200. BGP Auto FRR needs to be configured to ensure that the route from <span class="keyword">Device</span> A to <span class="keyword">Device</span>D has the backup route.</p>
<div class="fignone" id="EN-US_TASK_0172366400__fig_dc_vrp_bgp_cfg_408401"><a name="EN-US_TASK_0172366400__fig_dc_vrp_bgp_cfg_408401"></a><a name="fig_dc_vrp_bgp_cfg_408401"></a><span class="figcap"><b>Figure 1 </b>Configuring BGP Auto FRR</span><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Interfaces 1 through 3 in this example represent GE <span>0/1/0</span>, GE <span>0/2/0</span>, and Loopback1, respectively. </p>
</div></div>
<br><span><img class="vsd" src="images/fig_dc_vrp_bgp_cfg_408401.png" width="NaN" height="NaN"></span><br></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172366400__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Precautions</h4><p>When configuring BGP Auto FRR, note the following rules:</p>
<ul><li><p>When configuring BGP FRR, ensure that there are at least two routes to the same destination network segment.</p>
</li><li><p>The name of a route-policy is case sensitive.</p>
</li><li>To improve security, you are advised to deploy BGP security measures. For details, see "Configuring BGP Security." Keychain authentication is used as an example. For details, see "Example for Configuring BGP Keychain."</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0172366400__1.4.3"></a><a name="1.4.3"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><p>The configuration roadmap is as follows:</p>
<ol><li><p>Configure EBGP connections between <span class="keyword">Device</span> A and <span class="keyword">Device</span> B, and between <span class="keyword">Device</span> A and <span class="keyword">Device</span> C. Configure IBGP connections between <span class="keyword">Device</span> D and <span class="keyword">Device</span> B, and between <span class="keyword">Device</span> D and <span class="keyword">Device</span> C. </p>
</li><li><p>Configure route-policies on <span class="keyword">Device</span> B and <span class="keyword">Device</span> C to change the MED values of routes to <span class="keyword">Device</span> D for route selection.</p>
</li><li><p>Configure BGP Auto FRR on <span class="keyword">Device</span> A.</p>
</li></ol>
</div></div>
<div class="context"><a name="EN-US_TASK_0172366400__1.4.4"></a><a name="1.4.4"></a>
<div class="p"><h4 class="sectiontitle">Data Preparation</h4><p>To complete the configuration, you need the following data:</p>
<ul><li><p>Router IDs and AS numbers of <span class="keyword">Device</span> A, <span class="keyword">Device</span> B, <span class="keyword">Device</span> C, and <span class="keyword">Device</span> D</p>
</li><li><p>Names of route-policies and MED values of routes on <span class="keyword">Device</span> B and <span class="keyword">Device</span> C</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172366400__1.4.5"></a><a name="1.4.5"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure an IP address for each interface. For configuration details, see <a href="#EN-US_TASK_0172366400__example882375506214038">Configuration Files</a> in this section.</span></li><li><span>Configure EBGP connections between <span class="keyword">Device</span> A and <span class="keyword">Device</span> B, and between <span class="keyword">Device</span> A and <span class="keyword">Device</span> C, and configure IBGP connections between <span class="keyword">Device</span> B and <span class="keyword">Device</span> D, and between <span class="keyword">Device</span> C and <span class="keyword">Device</span> D.</span><p><p># Configure EBGP connections on <span class="keyword">Device</span> A.</p>
<pre class="screen">&lt;<span class="keyword">Device</span>A&gt; <strong>system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>bgp 100</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-bgp] <strong>router-id 1.1.1.1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-bgp] <strong>peer 10.1.1.2 as-number 200</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-bgp] <strong>peer 10.2.1.2 as-number 200</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-bgp] <strong>commit</strong></pre>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The configurations on <span class="keyword">Device</span> B and <span class="keyword">Device</span> C are similar to the configuration on <span class="keyword">Device</span> A.</p>
</div></div>
<p># Configure IBGP connections on <span class="keyword">Device</span> D.</p>
<pre class="screen">&lt;<span class="keyword">Device</span>D&gt; <strong>system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>D] <strong>bgp 200</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-bgp] <strong>router-id 4.4.4.4</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-bgp] <strong>peer 10.3.1.1 as-number 200</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-bgp] <strong>peer 10.4.1.1 as-number 200</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-bgp] <strong>commit</strong></pre>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The configurations on <span class="keyword">Device</span> B and <span class="keyword">Device</span> C are similar to the configuration on <span class="keyword">Device</span> D.</p>
</div></div>
</p></li><li><span>Configure BFD for BGP on <span class="keyword">Device</span> A, <span class="keyword">Device</span> B, <span class="keyword">Device</span> C and <span class="keyword">Device</span> D.</span><p><p># Configure BFD for BGP on <span class="keyword">Device</span> A.</p>
<pre class="screen">&lt;<span class="keyword">Device</span>A&gt; <strong>system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>bfd</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-bfd] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A] <strong>bgp 100</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-bgp] <strong>peer 10.1.1.2 bfd enable</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-bgp] <strong>peer 10.1.1.2 bfd min-tx-interval 100 min-rx-interval 100 detect-multiplier 4</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-bgp] <strong>peer 10.2.1.2 bfd enable</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-bgp] <strong>peer 10.2.1.2 bfd min-tx-interval 100 min-rx-interval 100 detect-multiplier 4</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-bgp] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-bgp] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>quit</strong></pre>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The configurations on <span class="keyword">Device</span> B, <span class="keyword">Device</span> C and <span class="keyword">Device</span> D are similar to the configuration on <span class="keyword">Device</span> A.</p>
</div></div>
</p></li><li><span>Configure route-policies on <span class="keyword">Device</span> B and <span class="keyword">Device</span> C to ensure that the MED values of routes to <span class="keyword">Device</span> D are different.</span><p><p># Configure a route-policy on <span class="keyword">Device</span> B.</p>
<pre class="screen">&lt;<span class="keyword">Device</span>B&gt; <strong>system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B] <strong>route-policy rtb permit node 10</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-route-policy] <strong>apply cost 80</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-route-policy] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B] <strong>bgp 200</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-bgp] <strong>ipv4-family unicast</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-bgp-af-ipv4] <strong>peer 10.1.1.1 route-policy rtb export</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-bgp-af-ipv4] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B-bgp-af-ipv4] <strong>quit</strong></pre>
<p># Configure a route-policy on <span class="keyword">Device</span> C.</p>
<pre class="screen">&lt;<span class="keyword">Device</span>C&gt; <strong>system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>C] <strong>route-policy rtc permit node 10</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>C-route-policy] <strong>apply cost 120</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>C-route-policy] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>C] <strong>bgp 200</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>C-bgp] <strong>ipv4-family unicast</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>C-bgp-af-ipv4] <strong>peer 10.2.1.1 route-policy rtc export</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>C-bgp-af-ipv4] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>C-bgp-af-ipv4] <strong>quit</strong></pre>
<p># Advertise a route to 4.4.4.4/32 on <span class="keyword">Device</span> D.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>D] <strong>bgp 200</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-bgp] <strong>ipv4-family unicast</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-bgp] <strong>network 4.4.4.4 32</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-bgp] <strong>commit</strong></pre>
<p># Run the <strong>display ip routing-table verbose</strong> command on <span class="keyword">Device</span> A to check detailed information about the route to 4.4.4.4/32 it learns.</p>
<pre class="screen">&lt;<span class="keyword">Device</span>A&gt; <strong>display ip routing-table 4.4.4.4 32 verbose</strong>
<span class="keyword">Route Flags: R - relay, D - download to fib, T - to vpn-instance, B - black hole route</span>
------------------------------------------------------------------------------
Routing Table : _public_
Summary Count : 1

Destination: 4.4.4.4/32
     Protocol: EBGP            Process ID: 0
   Preference: 255                   Cost: 80
      NextHop: 10.1.1.2         Neighbour: 10.1.1.2
        State: Active Adv             Age: 00h00m12s
          Tag: 0                 Priority: low
        Label: NULL               QoSInfo: 0x0
   IndirectID: 0x4
 RelayNextHop: 0.0.0.0          Interface: GigabitEthernet<span>0/1/0</span>
     TunnelID: 0x0                  Flags:  D</pre>
<p>Because the MED value of the route learned from <span class="keyword">Device</span> B is smaller, <span class="keyword">Device</span> A selects the path <span class="keyword">Device</span> Aâ<span class="keyword">Device</span> Bâ<span class="keyword">Device</span> D to transmit traffic to 4.4.4.4/32. Because FRR has not been configured yet, no information about the backup route is available.</p>
</p></li><li><span>Enable BGP Auto FRR on <span class="keyword">Device</span> A, and check the routing information.</span><p><p># Enable BGP Auto FRR on <span class="keyword">Device</span> A.</p>
<pre class="screen">&lt;<span class="keyword">Device</span>A&gt; <strong>system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>bgp 100</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-bgp] <strong>ipv4-family unicast</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-bgp-af-ipv4] <strong>auto-frr</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-bgp-af-ipv4] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-bgp-af-ipv4] <strong>quit</strong></pre>
<p># Run the <strong>display ip routing-table verbose</strong> command on <span class="keyword">Device</span> A to check the routing information.</p>
<pre class="screen">&lt;<span class="keyword">Device</span>A&gt; <strong>display ip routing-table 4.4.4.4 32 verbose</strong>
<span class="keyword">Route Flags: R - relay, D - download to fib, T - to vpn-instance, B - black hole route</span>
------------------------------------------------------------------------------
Routing Table : _public_
Summary Count : 1

Destination: 4.4.4.4/32
     Protocol: EBGP            Process ID: 0
   Preference: 255                   Cost: 80
      NextHop: 10.1.1.2         Neighbour: 10.1.1.2
        State: Active Adv             Age: 00h52m45s
          Tag: 0                 Priority: low
        Label: NULL               QoSInfo: 0x0
   IndirectID: 0x4
 RelayNextHop: 0.0.0.0          Interface: GigabitEthernet<span>0/1/0</span>
     TunnelID: 0x0                  Flags:  D
    <strong>BkNextHop: 10.2.1.2       BkInterface: GigabitEthernet<span>0/2/0</span></strong>
      BkLabel: NULL           SecTunnelID: 0x0
 BkPETunnelID: 0x0        BkPESecTunnelID: 0x0
 BkIndirectID: 0x2  </pre>
<p>The command output shows that <span class="keyword">Device</span>A has a backup next hop and a backup outbound interface to 4.4.4.4/32.</p>
</p></li></ol></div>
<div class="example" id="EN-US_TASK_0172366400__example882375506214038"><a name="EN-US_TASK_0172366400__example882375506214038"></a><a name="example882375506214038"></a><a name="EN-US_TASK_0172366400__1.4.6"></a><a name="1.4.6"></a><h4 class="sectiontitle">Configuration Files</h4><ul><li><p><span class="keyword">Device</span>A configuration file</p>
<pre class="screen">#
sysname <span class="keyword">Device</span>A
#
bfd
#
interface GigabitEthernet<span>0/1/0</span>
 undo shutdown
 ip address 10.1.1.1 255.255.255.0
#
interface GigabitEthernet<span>0/2/0</span>
 undo shutdown
 ip address 10.2.1.1 255.255.255.0
#
bgp 100
 router-id 1.1.1.1
 peer 10.1.1.2 as-number 200
 peer 10.1.1.2 bfd min-tx-interval 100 min-rx-interval 100 detect-multiplier 4
 peer 10.1.1.2 bfd enable
 peer 10.2.1.2 as-number 200
 peer 10.2.1.2 bfd min-tx-interval 100 min-rx-interval 100 detect-multiplier 4
 peer 10.2.1.2 bfd enable
#
 ipv4-family unicast
<span>  undo synchronization</span>
  auto-frr
  peer 10.1.1.2 enable
  peer 10.2.1.2 enable
#
return</pre>
</li><li><p><span class="keyword">Device</span> B configuration file</p>
<pre class="screen">#
sysname <span class="keyword">Device</span>B
#
bfd
#
interface GigabitEthernet<span>0/1/0</span>
 undo shutdown
 ip address 10.1.1.2 255.255.255.0
#
interface GigabitEthernet<span>0/2/0</span>
 undo shutdown
 ip address 10.3.1.1 255.255.255.0
#
bgp 200
 router-id 2.2.2.2
 peer 10.1.1.1 as-number 100
 peer 10.1.1.1 bfd min-tx-interval 100 min-rx-interval 100 detect-multiplier 4
 peer 10.1.1.1 bfd enable
 peer 10.3.1.2 as-number 200
 peer 10.3.1.2 bfd min-tx-interval 100 min-rx-interval 100 detect-multiplier 4
 peer 10.3.1.2 bfd enable
#
 ipv4-family unicast
<span>  undo synchronization</span>
  peer 10.1.1.1 route-policy rtb export
  peer 10.1.1.1 enable
  peer 10.3.1.2 enable
#
route-policy rtb permit node 10
 apply cost 80
#
return</pre>
</li><li><p><span class="keyword">Device</span> C configuration file</p>
<pre class="screen">#
sysname <span class="keyword">Device</span>C
#
bfd
#
interface GigabitEthernet<span>0/1/0</span>
 undo shutdown
 ip address 10.2.1.2 255.255.255.0
#
interface GigabitEthernet<span>0/2/0</span>
 undo shutdown
 ip address 10.4.1.1 255.255.255.0
#
bgp 200
 router-id 3.3.3.3
 peer 10.2.1.1 as-number 100
 peer 10.2.1.1 bfd min-tx-interval 100 min-rx-interval 100 detect-multiplier 4
 peer 10.2.1.1 bfd enable
 peer 10.4.1.2 as-number 200
 peer 10.4.1.2 bfd min-tx-interval 100 min-rx-interval 100 detect-multiplier 4
 peer 10.4.1.2 bfd enable
 #
 ipv4-family unicast
<span>  undo synchronization</span>
  peer 10.2.1.1 route-policy rtc export
  peer 10.2.1.1 enable
  peer 10.4.1.2 enable
#
route-policy rtc permit node 10
 apply cost 120
#
return</pre>
</li><li><p><span class="keyword">Device</span> D configuration file</p>
<pre class="screen">#
sysname <span class="keyword">Device</span>D
#
bfd
#
interface GigabitEthernet<span>0/1/0</span>
 undo shutdown
 ip address 10.3.1.2 255.255.255.0
#
interface GigabitEthernet<span>0/2/0</span>
 undo shutdown
 ip address 10.4.1.2 255.255.255.0
#
interface LoopBack1
 ip address 4.4.4.4 255.255.255.255
#
bgp 200
 router-id 4.4.4.4
 peer 10.3.1.1 as-number 200
 peer 10.3.1.1 bfd min-tx-interval 100 min-rx-interval 100 detect-multiplier 4
 peer 10.3.1.1 bfd enable
 peer 10.4.1.1 as-number 200
 peer 10.4.1.1 bfd min-tx-interval 100 min-rx-interval 100 detect-multiplier 4
 peer 10.4.1.1 bfd enable
 #
 ipv4-family unicast
<span>  undo synchronization</span>
  network 4.4.4.4 255.255.255.255
  peer 10.3.1.1 enable
  peer 10.4.1.1 enable
#
return</pre>
</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3070.html">Configuration Examples for BGP
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_4083.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3097.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>