
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Establishing a 6PE Peer Relationship Between PEs">
<meta name="abstract" content="6PE peers can exchange IPv6 routes learned from their attached CEs.">
<meta name="description" content="6PE peers can exchange IPv6 routes learned from their attached CEs.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0056.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0070.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0087.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP IPv6">
<meta name="featuretype" content="IP Route">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP IPv6">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="BGP IPv6">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00615954">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172366504">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Establishing a 6PE Peer Relationship Between PEs</title>
</head>
<body><a name="EN-US_TASK_0172366504"></a><a name="EN-US_TASK_0172366504"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Establishing a 6PE Peer Relationship Between PEs</h1>
<div class="taskbody"><p>6PE peers can exchange IPv6 routes learned from their attached CEs.</p>
<div class="steps"><a name="EN-US_TASK_0172366504__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i></span></span><p><p>The BGP view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">ipv4-address</span></i> <a href="cmdqueryname=as-number"><b><span class="cmdname">as-number</span></b></a> <i><span class="varname">as-number</span></i></span></span><p><p>The IP address of the peer and the number of the AS where the peer resides are specified.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">ipv4-address</span></i> <a href="cmdqueryname=connect-interface"><b><span class="cmdname">connect-interface</span></b></a> <i><span class="varname">interface-type interface-number</span></i></span></span><p><p>The interface that is used to establish a connection with the remote PE is specified.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=ipv6-family+unicast"><b><span class="cmdname">ipv6-family</span></b></a> <strong><span>unicast</span></strong></span></span><p><p>The BGP-IPv6 unicast address family view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">ipv4-address</span></i> <a href="cmdqueryname=enable"><b><span class="cmdname">enable</span></b></a></span></span><p><p>A 6PE peer relationship is established.</p>
</p></li><li><span>Run <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">peerIpv4Addr</span></i> <a href="cmdqueryname=label-route-capability-only"><b><span class="cmdname">label-route-capability-only</span></b></a></span><p><p>The 6PE labeled route exchange capability is enabled.</p>
</p><p><p>In the 6PE scenario, after the <a href="cmdqueryname=peer+label-route-capabilit"><b><span class="cmdname">peer label-route-capability</span></b></a> command is run, peers negotiate the label and unicast capabilities and advertise labeled routes only to the specified peer. However, in the 6PE scenario, peers do not need to negotiate the unicast capability. If the <a href="cmdqueryname=peer+label-route-capability-only"><b><span class="cmdname">peer label-route-capability-only</span></b></a> command is run, the device negotiates only the label capability and advertises labeled routes only to the specified peer. Therefore, the <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <a href="cmdqueryname=label-route-capability-only"><b><span class="cmdname">label-route-capability-only</span></b></a> command is recommended in the 6PE scenario.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li><li><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Exit the BGP-IPv6 unicast address family view.</p>
</p></li><li><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Exit the BGP view.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=mpls+6pe+ttl-mode+pipe+uniform"><b><span class="cmdname">mpls 6pe ttl-mode </span></b></a>{ <strong><span>pipe</span></strong> | <strong><span>uniform</span></strong> }</span><p><p>A mode of processing MPLS TTLs in 6PE route labels is configured.</p>
</p><p></p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0056.html">Configuring BGP4+ 6PE
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0070.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0087.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>