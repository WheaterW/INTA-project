
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring BGP Best-external">
<meta name="abstract" content="Border Gateway Protocol (BGP) Best-external can speed up route convergence if the primary link fails.">
<meta name="description" content="Border Gateway Protocol (BGP) Best-external can speed up route convergence if the primary link fails.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_5113_1.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3104.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,bgpvrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Route">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="w00604599">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00615954">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172366270">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring BGP Best-external</title>
</head>
<body><a name="EN-US_TASK_0172366270"></a><a name="EN-US_TASK_0172366270"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring BGP Best-external</h1>
<div class="taskbody"><p>Border Gateway Protocol (BGP) Best-external can speed up route convergence if the primary link fails.</p>
<div class="context"><a name="EN-US_TASK_0172366270__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>If multiple routes to the same destination are available, a BGP device selects one optimal route based on BGP route selection policies and advertises the route to its BGP peers. This optimal route may be advertised by either an External Border Gateway Protocol (EBGP) peer or an Internal Border Gateway Protocol (IBGP) peer.</p>
<p>However, in scenarios with master and backup provider edges (PEs), if routes are selected based on the preceding policies and the primary link fails, the BGP route convergence takes a long time because no backup route is available. To address this problem, configure BGP Best-external on the backup PE.</p>
<p>The following figure shows the networking with master and backup PEs.</p>
<div class="fignone"><span class="figcap"><b>Figure 1 </b>Networking with master and backup PEs</span><br><span><img class="vsd" src="images/fig_dc_vrp_bgp_cfg_309102.png" width="NaN" height="NaN"></span></div>
<p>BGP Best-external must be enabled on the backup PE (PE2).</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172366270__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring BGP Best-external, <a href="dc_vrp_bgp_cfg_3004.html">configure basic BGP functions</a>.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172366270__1.4.3"></a><a name="1.4.3"></a>
<div class="p"><h4 class="sectiontitle">Configuration Procedures</h4><ol><li><p>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></p>
<p>The system view is displayed.</p>
</li><li><p>Run <span><a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i></span></p>
<p>The BGP view is displayed.</p>
</li><li><p>Run <span><a href="cmdqueryname=bestroute+best-external"><b><span class="cmdname">bestroute best-external</span></b></a></span></p>
<p>The device is enabled to select BGP Best-external routes.</p>
</li><li><p>Run <span><a href="cmdqueryname=peer+advertise+best-external"><b><span class="cmdname">peer</span></b></a> { <i><span class="varname">ipv4-address</span></i> | <i><span class="varname">group-name</span></i> } <strong><span>advertise best-external</span></strong></span></p>
<p>BGP is enabled to advertise Best-external routes to the specified peer.</p>
</li><li><p>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></p>
<p>The configuration is committed.</p>
</li></ol>
</div></div>
<div class="context"><a name="EN-US_TASK_0172366270__1.4.4"></a><a name="1.4.4"></a>
<div class="p"><h4 class="sectiontitle">Verifying the Configuration</h4><p>After the configuration is complete, verify it.</p>
<p>Run the <a href="cmdqueryname=display+bgp+peer+verbose"><b><span class="cmdname">display bgp peer</span></b></a> <strong><span>verbose</span></strong> command to check the BGP Best-external status.</p>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3000.html">BGP Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_5113_1.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3104.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>