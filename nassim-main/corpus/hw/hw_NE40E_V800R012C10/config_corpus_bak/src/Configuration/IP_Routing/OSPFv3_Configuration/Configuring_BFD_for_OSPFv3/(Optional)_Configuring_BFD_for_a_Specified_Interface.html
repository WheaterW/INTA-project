
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring BFD for a Specified Interface">
<meta name="abstract" content="To configure BFD only on a specified interface, or enable an interface to detect link failures faster after BFD for OSPFv3 is enabled globally, configure BFD on the specified interface.">
<meta name="description" content="To configure BFD only on a specified interface, or enable an interface to detect link failures faster after BFD for OSPFv3 is enabled globally, configure BFD on the specified interface.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2036.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2038.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2041.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,56675587z00801081,w00556928,w00606909,l00455378,">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Route">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="z00875216">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00875216">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172365769">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring BFD for a Specified Interface</title>
</head>
<body><a name="EN-US_TASK_0172365769"></a><a name="EN-US_TASK_0172365769"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring BFD for a Specified Interface</h1>
<div class="taskbody"><p>To configure BFD only on a specified interface, or enable an interface to detect link failures faster after BFD for OSPFv3 is enabled globally, configure BFD on the specified interface.</p>
<div class="context"><a name="EN-US_TASK_0172365769__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>To configure BFD only on a specified interface, or enable an interface to detect link failures faster after BFD for OSPFv3 is enabled globally, perform the following steps on the interface:</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172365769__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The interface view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=ospfv3+bfd"><b><span class="cmdname">ospfv3 bfd</span></b></a> <strong><span>enable</span></strong> [ <strong><span>instance</span></strong> <i><span class="varname">instance-id</span></i> ]</span><p><p>BFD is enabled on the interface to create BFD sessions.</p>
</p><p><p>When BFD is configured globally and the neighbor state is Full, BFD sessions are established using default BFD parameters.</p>
<p>To set parameters for BFD sessions as required, run the <a href="cmdqueryname=ospfv3+bfd"><b><span class="cmdname">ospfv3 bfd</span></b></a> { <strong><span>min-transmit-interval</span></strong> <i><span class="varname">min-transmit-value</span></i> | <strong><span>min-receive-interval</span></strong> <i><span class="varname">min-receive-value</span></i> | <strong><span>detect-multiplier</span></strong> <i><span class="varname">detect-multiplier-value</span></i><span> | <strong><span>frr-binding</span></strong></span> } <sup>*</sup> [ <strong><span>instance</span></strong> <i><span class="varname">instance-id</span></i> ] command.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li><p>The configuration of BFD on an interface takes precedence over that in a process. That is, if BFD session parameters are configured for both a process and an interface, the parameters on the interface will be used to establish BFD sessions on the interface.</p>
</li><li><p>If the parameters of BFD sessions are set but the <a href="cmdqueryname=ospfv3+bfd"><b><span class="cmdname">ospfv3 bfd</span></b></a> <strong><span>enable</span></strong> command is not run, BFD is not enabled on the interface.</p>
</li></ul>
</div></div>
<p>The default interval at which BFD packets are transmitted and the default detection multiplier are recommended. As such, this step can be skipped.</p>
<p>The parameters need to be configured based on network conditions and requirements on network reliability. A short transmission interval for BFD packets can be set for a link that requires higher reliability, and a long transmission interval can be used for a link that has low reliability requirements.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>Actual interval at which BFD packets are transmitted on the local device = Max { <i><span class="varname">min-transmit-value</span></i> (interval at which BFD packets are transmitted) set on the local device, <i><span class="varname">min-receive-value</span></i> (interval at which BFD packets are received) set on the peer device }</li><li>Actual interval at which BFD packets are received on the local device = Max { <i><span class="varname">min-transmit-value</span></i> (interval at which BFD packets are transmitted) set on the peer device, <i><span class="varname">min-receive-value</span></i> (interval at which BFD packets are received) set on the local device }</li><li>Actual period for BFD detection on the local device = Actual interval at which BFD packets are received on the local device x Detection multiplier specified by <i><span class="varname">detect-multiplier-value</span></i> on the peer device</li></ul>
<p>For example:</p>
<ul><li>On the local device, the interval at which BFD packets are transmitted is set to 200 ms, the interval at which BFD packets are received is set to 300 ms, and the detection multiplier is set to 4.</li><li>On the peer device, the interval at which BFD packets are transmitted is set to 100 ms, the interval at which BFD packets are received is set to 600 ms, and the detection multiplier is set to 5.</li></ul>
<p>Then:</p>
<ul><li>On the local device, the actual interval at which BFD packets are transmitted is 600 ms (calculated through Max { 200 ms, 600 ms }); the actual interval at which BFD packets are received is 300 ms (calculated through Max { 100 ms, 300 ms }); the actual detection period is 1500 ms (calculated through 300 ms x 5).</li><li>On the peer device, the actual interval at which BFD packets are transmitted is 300 ms (calculated through Max { 100 ms, 300 ms }); the actual interval at which BFD packets are received is 600 ms (calculated through Max { 200 ms, 600 ms }); the actual detection period is 2400 ms (calculated through 600 ms x 4).</li></ul>
</div></div>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=ospfv3+bfd+incr-cost"><b><span class="cmdname">ospfv3 bfd incr-cost</span></b></a> { <i><span class="varname">cost</span></i> | <strong><span>max-reachable</span></strong> } [ <strong><span>wtr</span></strong> <em>wtrIntvl</em> ]</span><p><p>The OSPFv3 interface is configured to adjust the cost based on the status of an associated BFD session.</p>
</p><p><p>If the function of adjusting the cost based on the status of an associated BFD session is configured both for a process and an interface, the configuration on the interface takes precedence.</p>
<p>The delay configured for an interface to restore the cost based on the BFD session status takes precedence over that configured for a process to restore the cost based on the BFD session status.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2036.html">Configuring BFD for OSPFv3
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2038.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2041.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>