
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring OSPFv3 Flush Source Tracing">
<meta name="abstract" content="OSPFv3 flush source tracing helps improve fault locating efficiency.">
<meta name="description" content="OSPFv3 flush source tracing helps improve fault locating efficiency.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2105.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2075.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,56675587z00801081,w00556928,w00606909,l00455378,">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Route">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="z00875216">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00875216">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172365751">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring OSPFv3 Flush Source Tracing</title>
</head>
<body><a name="EN-US_TASK_0172365751"></a><a name="EN-US_TASK_0172365751"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring OSPFv3 Flush Source Tracing</h1>
<div class="taskbody"><p>OSPFv3 flush source tracing helps improve fault locating efficiency.</p>
<div class="context"><a name="EN-US_TASK_0172365751__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>If network-wide OSPFv3 LSAs are deleted, flush LSAs are flooded, which adversely affects network stability. In this case, source tracing must be implemented to locate the root cause of the fault immediately to minimize the impact. However, OSPFv3 itself does not support source tracing. A conventional solution is isolation node by node until the faulty node is located, but the solution is complex and time-consuming. To address this problem, enable OSPFv3 flush source tracing.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The following steps are optional, and choose them as required.</p>
</div></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172365751__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring OSPFv3 flush source tracing, complete the following task:</p>
<ul><li>Configure an IP address for each interface to ensure that neighboring devices are reachable at the network layer.</li><li><a href="dc_vrp_ospfv3_cfg_2003.html">Configure basic OSPFv3 functions</a>.</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172365751__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=ospfv3+flush-source-trace+disable"><b><span class="cmdname">ospfv3 flush-source-trace disable</span></b></a></span><p><p>OSPFv3 flush source tracing is disabled globally.</p>
</p><p><p>To disable OSPFv3 flush source tracing globally, perform this step.</p>
</p></li><li><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span><p><p>The interface view is displayed.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=ospfv3+flush-source-trace+block"><b><span class="cmdname">ospfv3 flush-source-trace block</span></b></a></span><p><p>OSPFv3 flush source tracing is disabled on the interface.</p>
</p><p><p>To disable OSPFv3 flush source tracing on an interface, perform this step.</p>
</p></li><li><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li><li><span>Run <a href="cmdqueryname=ospfv3"><b><span class="cmdname">ospfv3</span></b></a> [ <i><span class="varname">process-id</span></i> ] [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ]</span><p><p>The OSPFv3 process is started, and the OSPFv3 view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li><li><span>Run <a href="cmdqueryname=ospfv3+flush-source-trace+port"><b><span class="cmdname">ospfv3 flush-source-trace port</span></b></a> <i><span class="varname">port-number</span></i></span><p><p>A UDP port number is configured for OSPFv3 flush source tracing packets.</p>
</p><p><p>An OSPFv3 flush source tracing port is used to send and receive OSPFv3 flush source tracing packets and is represented by a UDP port number. If the port number used by UDP packets conflicts with that of another application, perform this step.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li><li><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the user view.</p>
</p></li><li><span>Run <a href="cmdqueryname=reset+ospfv3"><b><span class="cmdname">reset ospfv3</span></b></a> <i><span class="varname">process-id</span></i>  <strong><span>flush-source-trace</span></strong></span><p><p>OSPFv3 flush source tracing is reset.</p>
</p><p><p>If a large number of OSPFv3 flush source tracing statistics exist on a device, you can run the <a href="cmdqueryname=reset+ospfv3+flush-source-trace"><b><span class="cmdname">reset ospfv3 flush-source-trace</span></b></a> command to reset the statistics and restart source tracing. If the command is run, all dynamic source tracing statistics are deleted, and the device needs to re-negotiate the source tracing capability with neighboring devices.</p>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0172365751__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+ospfv3"><b><span class="cmdname">display ospfv3</span></b></a> [ <i><span class="varname">process-id</span></i> ] [ <strong><span>area</span></strong> <em>area-id-integer</em> ] <strong><span>flush-source-trace analysis-info</span></strong> command to check information about determined and suspected faulty nodes identified by OSPFv3 flush source tracing.</p>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2000.html">OSPFv3 Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2105.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2075.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>