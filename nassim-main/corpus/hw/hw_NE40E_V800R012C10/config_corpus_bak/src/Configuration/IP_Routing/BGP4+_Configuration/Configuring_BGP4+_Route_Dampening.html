
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring BGP4+ Route Dampening">
<meta name="abstract" content="Configuring BGP4+ route dampening suppresses unstable BGP4+ routes.">
<meta name="description" content="Configuring BGP4+ route dampening suppresses unstable BGP4+ routes.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0092.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_5012.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,bgpvrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP IPv6">
<meta name="featuretype" content="IP Route">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP IPv6">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="w00604599">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00615954">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172366461">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring BGP4+ Route Dampening</title>
</head>
<body><a name="EN-US_TASK_0172366461"></a><a name="EN-US_TASK_0172366461"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring BGP4+ Route Dampening</h1>
<div class="taskbody"><p>Configuring BGP4+ route dampening suppresses unstable BGP4+ routes.</p>
<div class="context"><a name="EN-US_TASK_0172366461__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>BGP4+ route dampening suppresses unstable routes and improves network stability. With BGP4+ route dampening, a BGP4+ device does not add any unstable routes to its BGP4+ routing table or advertise them to its BGP4+ peers.</p>
<p>Route instability is mainly reflected by route flapping. When a route flaps, it repeatedly disappears from the routing table and then reappears. BGP4+ is applied to complex networks where routes change frequently. Frequent route flapping consumes bandwidth and CPU resources and even seriously affects network operations. Route dampening prevents the adverse impact of continuous route flapping.</p>
<p>With specified-requirement route dampening, you can use a route-policy to differentiate routes. This allows BGP4+ to apply different route dampening parameters to different routes. You can also configure different route dampening parameters for different nodes of the same route-policy. When route flapping occurs, BGP4+ can use different route dampening parameters to suppress the routes that match the route-policy. For example, on a network, set a long dampening time for routes with a long mask, and set a short dampening time for routes with a short mask (8-bit mask for example).</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172366461__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring BGP4+ route dampening, <a href="dc_vrp_bgp6_cfg_0003.html">configure basic BGP4+ functions</a>.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172366461__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i></span></span><p><p>The BGP view is displayed.</p>
</p></li><li><span>Configure BGP4+ route dampening parameters.</span><p><ul><li>Configure EBGP route dampening parameters.<ol type="a"><li>Run the <a href="cmdqueryname=ipv6-family+unicast"><b><span class="cmdname">ipv6-family</span></b></a> <strong><span>unicast</span></strong> command to enter the IPv6 unicast address family view, or run the <a href="cmdqueryname=ipv6-family+vpnv6"><b><span class="cmdname">ipv6-family</span></b></a> <strong><span>vpnv6</span></strong> command to enter the BGP-VPNv6 address family view.</li><li>Run the <a href="cmdqueryname=dampening+route-policy+update-standard"><b><span class="cmdname">dampening</span></b></a> [ <i><span class="varname">half-life-reach</span></i> <i><span class="varname">reuse</span></i> <i><span class="varname">suppress</span></i> <i><span class="varname">ceiling</span></i> | <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> | <strong><span>route-filter</span></strong> <i><span class="varname">route-filter-name</span></i> ] <sup>*</sup><span> [ <strong><span>update-standard</span></strong> ]</span> command to set EBGP route dampening parameters.</li></ol>
</li><li>Configure IBGP route dampening parameters.<ol type="a"><li>Run the <a href="cmdqueryname=ipv6-family+unicast"><b><span class="cmdname">ipv6-family</span></b></a> <strong><span>unicast</span></strong> command to enter the IPv6 unicast address family view, or run the <a href="cmdqueryname=ipv6-family+vpnv6"><b><span class="cmdname">ipv6-family</span></b></a> <strong><span>vpnv6</span></strong> command to enter the BGP-VPNv6 address family view.</li><li>Run the <a href="cmdqueryname=dampening+ibgp+route-policy+update-standard"><b><span class="cmdname">dampening ibgp</span></b></a> [ <i><span class="varname">half-life-reach</span></i> <i><span class="varname">reuse</span></i> <i><span class="varname">suppress</span></i> <i><span class="varname">ceiling</span></i> | <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> | <strong><span>route-filter</span></strong> <i><span class="varname">route-filter-name</span></i> ] <sup>*</sup> [ <strong><span>update-standard</span></strong> ] command to set IBGP route dampening parameters.</li></ol>
</li></ul>
<p>The value of <i><span class="varname">suppress</span></i> must be greater than that of <i><span class="varname">reuse</span></i> and less than that of <i><span class="varname">ceiling</span></i>.</p>
<p>If the <a href="cmdqueryname=dampening"><b><span class="cmdname">dampening</span></b></a> command is run with a route-policy referenced, BGP4+ applies the route dampening parameters only to the routes that match the route-policy.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0172366461__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>After the configuration is complete, verify it.</p>
<ul><li><p>Run the <a href="cmdqueryname=display+bgp+ipv6+routing-table+dampened"><b><span class="cmdname">display bgp ipv6 routing-table dampened</span></b></a> command to check dampened BGP4+ routes.</p>
</li><li><p>Run the <a href="cmdqueryname=display+bgp+ipv6+routing-table+dampening+parameter"><b><span class="cmdname">display bgp ipv6 routing-table dampening parameter</span></b></a> command to check configured BGP4+ route dampening parameters.</p>
</li><li><p>Run the <a href="cmdqueryname=display+bgp+ipv6+routing-table+flap-info+regular-expression"><b><span class="cmdname">display bgp ipv6 routing-table flap-info</span></b></a> [ <strong><span>regular-expression</span></strong> <i><span class="varname">as-regular-expression</span></i> | <strong><span>as-path-filter</span></strong> { <i><span class="varname">as-path-filter-number</span></i> | <i><span class="varname">as-path-filter-name</span></i> } | <i><span class="varname">network-address</span></i> [ { <i><span class="varname">mask</span></i> | <i><span class="varname">mask-length</span></i> } [ <strong><span>longer-match</span></strong> ] ] ] command to check route flapping statistics.</p>
</li><li><p>Run the <a href="cmdqueryname=display+bgp+vpnv6+routing-table+dampening+parameter"><b><span class="cmdname">display bgp vpnv6 routing-table dampening parameter</span></b></a> command to check configured BGP VPNv6 route dampening parameters.</p>
</li><li>Run the <a href="cmdqueryname=display+bgp+vpnv6+routing-table+dampened"><b><span class="cmdname">display bgp vpnv6 routing-table dampened</span></b></a> command to check dampened BGP VPNv6 routes.</li></ul>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0000.html">BGP4+ Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0092.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_5012.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>