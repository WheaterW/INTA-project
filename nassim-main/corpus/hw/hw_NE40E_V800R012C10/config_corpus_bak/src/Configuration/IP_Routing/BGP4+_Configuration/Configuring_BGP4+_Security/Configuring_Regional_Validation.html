
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Regional Validation">
<meta name="abstract" content="Resource Public Key Infrastructure (RPKI) regional validation or regional confederation validation ensures BGP4+ security by validating route advertisers.">
<meta name="description" content="Resource Public Key Infrastructure (RPKI) regional validation or regional confederation validation ensures BGP4+ security by validating route advertisers.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0081.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_30993.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_30995.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP IPv6">
<meta name="featuretype" content="IP Route">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP IPv6">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="BGP IPv6">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="w00604599">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00615954">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001216542933">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Regional Validation</title>
</head>
<body><a name="EN-US_TASK_0000001216542933"></a><a name="EN-US_TASK_0000001216542933"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Regional Validation</h1>
<div class="taskbody"><p>Resource Public Key Infrastructure (RPKI) regional validation or regional confederation validation ensures BGP4+ security by validating route advertisers.</p>
<div class="context"><a name="EN-US_TASK_0000001216542933__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>Regional validation: Users can manually combine multiple trusted ASs into a region and combine multiple regions into a regional confederation. Regional validation controls route selection results by checking whether the routes received from EBGP peers in an external region belong to the local region. This prevents intra-region routes from being hijacked by attackers outside the local region, and ensures that hosts in the local region can securely access internal services.</p>
<p>Regional validation applies to the following typical scenarios: regional validation scenario and regional confederation validation scenario.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001216542933__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring regional validation, complete the following tasks:</p>
<ul><li><a href="dc_vrp_bgp6_cfg_0003.html">Configure basic BGP4+ functions</a>.</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001216542933__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=rpki"><b><span class="cmdname">rpki</span></b></a></span><p><p>RPKI is started, and the RPKI view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=region-validation"><b><span class="cmdname">region-validation</span></b></a></span><p><p>Regional validation is enabled, and the region-validation view is displayed.</p>
</p></li><li><span>You can configure regions or regional confederation as required.</span><p><ul><li>Create a region.<ol type="a"><li>Run <a href="cmdqueryname=region"><b><span class="cmdname">region</span></b></a> <i><span class="varname">region-id</span></i><p>A region is created.</p>
</li><li>Run <a href="cmdqueryname=description"><b><span class="cmdname">description</span></b></a> <i><span class="varname">description-text</span></i><p>A description is configured for the region.</p>
</li><li>Run <a href="cmdqueryname=as-number"><b><span class="cmdname">as-number</span></b></a> { <i><span class="varname">asn</span></i> } &amp;&lt;1-100&gt;<p>An AS number list is configured so that the AS numbers in it can be added to the region.</p>
</li><li><p>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></p>
<p>Exit the RPKI region-validation-region view.</p>
</li><li>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> Return to the system view.</li></ol>
</li><li>Create a regional confederation.<ol type="a"><li>Run <a href="cmdqueryname=region"><b><span class="cmdname">region</span></b></a> <i><span class="varname">region-id</span></i><p>A region is created.</p>
</li><li>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a><p>Exit the RPKI region-validation-region view.</p>
</li><li>Run <a href="cmdqueryname=region-confederation"><b><span class="cmdname">region-confederation</span></b></a> <i><span class="varname">region-confederation-id</span></i><p>A regional confederation is created.</p>
</li><li>Run <a href="cmdqueryname=description"><b><span class="cmdname">description</span></b></a> <i><span class="varname">description-text</span></i><p>A description is configured for the regional confederation.</p>
</li><li>Run <a href="cmdqueryname=region"><b><span class="cmdname">region</span></b></a> { <i><span class="varname">region-id</span></i> } &amp;&lt;1-100&gt;<p>A region ID list is configured in the regional confederation so that regions in the list are added to the regional confederation.</p>
</li><li><p>Run <b><span class="cmdname">quit</span></b></p>
<p>Exit the RPKI region-validation-confederation view.</p>
</li><li><p>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></p>
<p>The system view is displayed.</p>
</li></ol>
</li></ul>
</p></li><li><span>Run <a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i></span><p><p>The BGP view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=ipv6-family"><b><span class="cmdname">ipv6-family</span></b></a> <strong><span>unicast</span></strong></span><p><p>The IPv6 unicast address family view is displayed.</p>
</p></li><li><span>Enable the region or regional confederation function as required.</span><p><ul><li>Run <a href="cmdqueryname=region-validation"><b><span class="cmdname">region-validation</span></b></a><p>BGP4+ regional validation is enabled.</p>
</li><li>Run <a href="cmdqueryname=region-validation+confed-check+strict"><b><span class="cmdname">region-validation confed-check strict</span></b></a><p>Strict BGP4+ regional validation is enabled.</p>
</li></ul>
</p></li><li><span>Run <a href="cmdqueryname=bestroute+region-validation+allow-invalid"><b><span class="cmdname">bestroute region-validation</span></b></a> [ <strong><span>allow-invalid</span></strong> ]</span><p><p>The device is configured to apply the BGP4+ regional validation results of RPKI to BGP4+ route selection.</p>
</p><p><p>If regional validation succeeds, the route is valid and can participate in route selection. If regional validation fails, the route is invalid and cannot participate in route selection. To allow the routes that fail regional validation to be valid and participate in route selection, configure the <strong><span>allow-invalid</span></strong> parameter in the command. The priority of such routes is reduced during route selection.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001216542933__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+rpki+session+verbose"><b><span class="cmdname">display rpki session</span></b></a> <i><span class="varname">ipv6-address</span></i> <strong><span>verbose</span></strong> command to check RPKI session configurations.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0081.html">Configuring BGP4+ Security
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_30993.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_30995.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>