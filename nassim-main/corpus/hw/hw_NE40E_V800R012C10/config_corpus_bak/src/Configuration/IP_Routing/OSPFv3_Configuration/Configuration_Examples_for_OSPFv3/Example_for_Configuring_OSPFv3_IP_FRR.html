
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring OSPFv3 IP FRR">
<meta name="abstract" content="This section describes the procedure for configuring OSPFv3 IP FRR, including how to block FRR on certain interfaces to prevent the links connected to these interfaces from functioning as backup links and how to bind OSPFv3 IP FRR to a BFD session.">
<meta name="description" content="This section describes the procedure for configuring OSPFv3 IP FRR, including how to block FRR on certain interfaces to prevent the links connected to these interfaces from functioning as backup links and how to bind OSPFv3 IP FRR to a BFD session.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2062.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2064.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2069.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,56675587z00801081,w00556928,w00606909,l00455378,">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Route">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="z00875216">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00875216">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172365806">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Example for Configuring OSPFv3 IP FRR</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0172365806"></a><a name="EN-US_TASK_0172365806"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring OSPFv3 IP FRR</h1>
<div class="taskbody"><p>This section describes the procedure for configuring OSPFv3 IP FRR, including how to block FRR on certain interfaces to prevent the links connected to these interfaces from functioning as backup links and how to bind OSPFv3 IP FRR to a BFD session.</p>
<div class="context"><a name="EN-US_TASK_0172365806__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>When a fault occurs on the network, OSPFv3 IP FRR rapidly switches traffic to the backup link without waiting for route convergence. This ensures non-stop traffic forwarding.</p>
<div class="p">As shown in <a href="#EN-US_TASK_0172365806__fig_dc_vrp_ospfv3_cfg_206601">Figure 1</a>:<ul><li>OSPFv3 runs on all devices.</li><li>The link cost meets the OSPFv3 IP FRR traffic protection inequality.</li><li><p>If the primary link T fails, it is required that the traffic from <span class="keyword">Device</span> S be rapidly redirected to the backup link that passes through <span class="keyword">Device</span> N.</p>
</li><li>Based on the network planning, the link passing through <span class="keyword">Device</span> A does not function as a backup link.</li></ul>
</div>
<div class="fignone" id="EN-US_TASK_0172365806__fig_dc_vrp_ospfv3_cfg_206601"><a name="EN-US_TASK_0172365806__fig_dc_vrp_ospfv3_cfg_206601"></a><a name="fig_dc_vrp_ospfv3_cfg_206601"></a><span class="figcap"><b>Figure 1 </b>Networking for configuring OSPFv3 IP FRR</span><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Interfaces 1 through 4 in this example represent GE<span>0/1/0</span>, GE<span>0/2/0</span>, GE<span>0/3/0</span>, and GE<span>0/1/1</span>, respectively.</p>
</div></div>
<br><span><img class="vsd" src="images/fig_dc_vrp_ospfv3_cfg_206601.png" width="NaN" height="NaN"></span></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172365806__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Precautions</h4><p>When configuring OSPFv3 IP FRR, note the following points:</p>
<ul><li>Before configuring OSPFv3 IP FRR, block FRR on certain interfaces to prevent the links connected to these interfaces from functioning as backup links. After that, the link where the interface resides is not calculated as a backup link during FRR calculation.</li><li>When OSPFv3 IP FRR is configured, the underlying layer must be able to quickly respond to link changes so that traffic can be quickly switched to the backup link. After the <a href="cmdqueryname=bfd+all-interfaces"><b><span class="cmdname">bfd all-interfaces</span></b></a> <strong><span>frr-binding</span></strong> command is run, the BFD session status is bound to the link status of the interface (when the BFD session goes down, the link status of the interface also goes down). In this manner, faults can be rapidly detected.</li><li>To improve security, you are advised to deploy OSPFv3 authentication. For details, see "Configuring OSPFv3 Authentication". OSPFv3 IPsec is used as an example. For details, see "Example for Configuring IPsec for OSPFv3."</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0172365806__1.4.3"></a><a name="1.4.3"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><div class="p">The configuration roadmap is as follows:<ol><li><p>Configure basic OSPFv3 functions on each <span class="keyword">Router</span>. (For configuration details, see <a href="dc_vrp_ospfv3_cfg_2063.html">Example for Configuring Basic OSPFv3 Functions</a>.) </p>
</li><li><p>Configure BFD for OSPFv3 on all devices in Area 0.</p>
</li><li><p>Set the costs of links to ensure that link T is selected to transmit traffic.</p>
</li><li><p>Block FRR on the specified interface on <span class="keyword">Device</span> S.</p>
</li><li>Enable OSPFv3 IP FRR on <span class="keyword">Device</span>A to protect the traffic forwarded by <span class="keyword">Device</span>A.</li></ol>
</div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172365806__1.4.4"></a><a name="1.4.4"></a>
<div class="p"><h4 class="sectiontitle">Data Preparation</h4><p>To complete the configuration, you need the following data:</p>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" frame="border" border="1" rules="all"><thead align="left"><tr><th align="left" class="cellrowborder" char="." valign="top" width="25%" id="mcps1.4.4.3.1.5.1.1" liSelected="liSelected"><p>Device</p>
</th>
<th align="left" class="cellrowborder" char="." valign="top" width="25%" id="mcps1.4.4.3.1.5.1.2" liSelected="liSelected"><p>Router ID</p>
</th>
<th align="left" class="cellrowborder" char="." valign="top" width="25%" id="mcps1.4.4.3.1.5.1.3" liSelected="liSelected"><p>Interface</p>
</th>
<th align="left" class="cellrowborder" char="." valign="top" width="25%" id="mcps1.4.4.3.1.5.1.4" liSelected="liSelected"><p>IPv6 Address</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" rowspan="3" char="." valign="top" width="25%" headers="mcps1.4.4.3.1.5.1.1 "><p><span class="keyword">Device</span> S</p>
</td>
<td class="cellrowborder" rowspan="3" char="." valign="top" width="25%" headers="mcps1.4.4.3.1.5.1.2 "><p>1.1.1.1</p>
</td>
<td class="cellrowborder" char="." valign="top" width="25%" headers="mcps1.4.4.3.1.5.1.3 "><p>GE<span>0/1/0</span></p>
</td>
<td class="cellrowborder" char="." valign="top" width="25%" headers="mcps1.4.4.3.1.5.1.4 "><p>2001:DB8:1000::1/96</p>
</td>
</tr>
<tr><td class="cellrowborder" char="." valign="top" headers="mcps1.4.4.3.1.5.1.3 "><p>GE<span>0/2/0</span></p>
</td>
<td class="cellrowborder" char="." valign="top" headers="mcps1.4.4.3.1.5.1.4 "><p>2001:DB8:1001::1/96</p>
</td>
</tr>
<tr><td class="cellrowborder" char="." valign="top" headers="mcps1.4.4.3.1.5.1.3 "><p>GE<span>0/3/0</span></p>
</td>
<td class="cellrowborder" char="." valign="top" headers="mcps1.4.4.3.1.5.1.4 "><p>2001:DB8:1002::1/96</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="2" char="." valign="top" width="25%" headers="mcps1.4.4.3.1.5.1.1 "><p><span class="keyword">Device</span> A</p>
</td>
<td class="cellrowborder" rowspan="2" char="." valign="top" width="25%" headers="mcps1.4.4.3.1.5.1.2 "><p>2.2.2.2</p>
</td>
<td class="cellrowborder" char="." valign="top" width="25%" headers="mcps1.4.4.3.1.5.1.3 "><p>GE<span>0/1/0</span></p>
</td>
<td class="cellrowborder" char="." valign="top" width="25%" headers="mcps1.4.4.3.1.5.1.4 "><p>2001:DB8:1000::2/96</p>
</td>
</tr>
<tr><td class="cellrowborder" char="." valign="top" headers="mcps1.4.4.3.1.5.1.3 "><p>GE<span>0/2/0</span></p>
</td>
<td class="cellrowborder" char="." valign="top" headers="mcps1.4.4.3.1.5.1.4 "><p>2001:DB8:2000::2/96</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="2" char="." valign="top" width="25%" headers="mcps1.4.4.3.1.5.1.1 "><p><span class="keyword">Device</span> N</p>
</td>
<td class="cellrowborder" rowspan="2" char="." valign="top" width="25%" headers="mcps1.4.4.3.1.5.1.2 "><p>3.3.3.3</p>
</td>
<td class="cellrowborder" char="." valign="top" width="25%" headers="mcps1.4.4.3.1.5.1.3 "><p>GE<span>0/1/0</span></p>
</td>
<td class="cellrowborder" char="." valign="top" width="25%" headers="mcps1.4.4.3.1.5.1.4 "><p>2001:DB8:1002::2/96</p>
</td>
</tr>
<tr><td class="cellrowborder" char="." valign="top" headers="mcps1.4.4.3.1.5.1.3 "><p>GE<span>0/2/0</span></p>
</td>
<td class="cellrowborder" char="." valign="top" headers="mcps1.4.4.3.1.5.1.4 "><p>2001:DB8:2002::2/96</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="4" char="." valign="top" width="25%" headers="mcps1.4.4.3.1.5.1.1 "><p><span class="keyword">Device</span> E</p>
</td>
<td class="cellrowborder" rowspan="4" char="." valign="top" width="25%" headers="mcps1.4.4.3.1.5.1.2 "><p>4.4.4.4</p>
</td>
<td class="cellrowborder" char="." valign="top" width="25%" headers="mcps1.4.4.3.1.5.1.3 "><p>GE<span>0/1/0</span></p>
</td>
<td class="cellrowborder" char="." valign="top" width="25%" headers="mcps1.4.4.3.1.5.1.4 "><p>2001:DB8:2000::1/96</p>
</td>
</tr>
<tr><td class="cellrowborder" char="." valign="top" headers="mcps1.4.4.3.1.5.1.3 "><p>GE<span>0/2/0</span></p>
</td>
<td class="cellrowborder" char="." valign="top" headers="mcps1.4.4.3.1.5.1.4 "><p>2001:DB8:2001::1/96</p>
</td>
</tr>
<tr><td class="cellrowborder" char="." valign="top" headers="mcps1.4.4.3.1.5.1.3 "><p>GE<span>0/3/0</span></p>
</td>
<td class="cellrowborder" char="." valign="top" headers="mcps1.4.4.3.1.5.1.4 "><p>2001:DB8:2002::1/96</p>
</td>
</tr>
<tr><td class="cellrowborder" char="." valign="top" headers="mcps1.4.4.3.1.5.1.3 "><p>GE<span>0/1/1</span></p>
</td>
<td class="cellrowborder" char="." valign="top" headers="mcps1.4.4.3.1.5.1.4 "><p>2001:DB8:3000::1/96</p>
</td>
</tr>
</tbody>
</table>
</div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172365806__1.4.5"></a><a name="1.4.5"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Assign an IPv6 address to each interface. For configuration details, see <a href="#EN-US_TASK_0172365806__section_dc_vrp_ospfv3_cfg_206606">Configuration Files</a> in this section.</span></li><li><span>Configure basic OSPFv3 functions. See <a href="dc_vrp_ospfv3_cfg_2063.html">Example for Configuring Basic OSPFv3 Functions</a>.</span></li><li><span>Configure BFD for OSPFv3 on all devices in Area 0. See <a href="dc_vrp_ospfv3_cfg_2069.html">Example for Configuring BFD for OSPFv3</a>.</span></li><li><span>Set the costs of links to ensure that link T is selected to transmit traffic.</span><p><p># Configure <span class="keyword">Device</span> S.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>S] <strong>interface gigabitethernet<span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>S-GigabitEthernet<span>0/1/0</span>] <strong>ospfv3 cost 5</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>S-GigabitEthernet<span>0/1/0</span>] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>S] <strong>interface gigabitethernet<span>0/2/0</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>S-GigabitEthernet<span>0/2/0</span>] <strong>ospfv3 cost 15</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>S-GigabitEthernet<span>0/2/0</span>] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>S] <strong>interface gigabitethernet<span>0/3/0</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>S-GigabitEthernet<span>0/3/0</span>] <strong>ospfv3 cost 10</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>S-GigabitEthernet<span>0/3/0</span>] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>S] <strong>commit</strong></pre>
</p><p><p># Configure <span class="keyword">Device</span> A.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>interface gigabitethernet<span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/0</span>] <strong>ospfv3 cost 5</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/0</span>] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A] <strong>interface gigabitethernet<span>0/2/0</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-GigabitEthernet<span>0/2/0</span>] <strong>ospfv3 cost 5</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-GigabitEthernet<span>0/2/0</span>] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A] <strong>commit</strong></pre>
</p><p><p># Configure <span class="keyword">Device</span> N.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>N] <strong>interface gigabitethernet<span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>N-GigabitEthernet<span>0/1/0</span>] <strong>ospfv3 cost 10</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>N-GigabitEthernet<span>0/1/0</span>] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>N] <strong>interface gigabitethernet<span>0/2/0</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>N-GigabitEthernet<span>0/2/0</span>] <strong>ospfv3 cost 10</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>N-GigabitEthernet<span>0/2/0</span>] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>N] <strong>commit</strong></pre>
</p></li><li><span>Block FRR on the specified interface on <span class="keyword">Device</span> S.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>S] <strong>interface gigabitethernet<span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>S-GigabitEthernet<span>0/1/0</span>] <strong>ospfv3 frr block</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>S-GigabitEthernet<span>0/1/0</span>] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>S] <strong>commit</strong></pre>
</p></li><li><span>Enable OSPFv3 IP FRR on <span class="keyword">Device</span> S.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>S] <strong>ospfv3</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>S-ospfv3-1] <strong>frr</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>S-ospfv3-1-frr] <strong>loop-free-alternate</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>S-ospfv3-1-frr] <strong>commit</strong></pre>
</p></li><li><span>Verify the configuration.</span><p><p># Run the <strong>display ospfv3 routing</strong> command on <span class="keyword">Device</span> S to view routing information.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>S-ospfv3-1-frr] <strong>display ospfv3 routing 2001:db8:3000::1 96</strong></pre>
<pre class="screen"> Codes : E2 - Type 2 External, E1 - Type 1 External, IA - Inter-Area,
         N - NSSA
 Flags: A - Added to URT6, LT - Locator Routing

 OSPFv3 Process (1)
   Destination                                Metric
     Nexthop
   2001:DB8:2000:1::/64                       3124
<strong>       via 2001:DB8:2001::1/96, GE<span>0/2/0</span>
          backup via FE80::2000:10FF:4, GE<span>0/3/0</span>, LFA LINK-NODE</strong>
     Priority      :Low</pre>
<p>The preceding command output shows that a backup link has been generated on <span class="keyword">Device</span>S through FRR calculation.</p>
</p></li></ol></div>
<div class="example" id="EN-US_TASK_0172365806__section_dc_vrp_ospfv3_cfg_206606"><a name="EN-US_TASK_0172365806__section_dc_vrp_ospfv3_cfg_206606"></a><a name="section_dc_vrp_ospfv3_cfg_206606"></a><a name="EN-US_TASK_0172365806__1.4.6"></a><a name="1.4.6"></a><h4 class="sectiontitle">Configuration Files</h4><ul><li><p><span class="keyword">Device</span> S configuration file</p>
<pre class="screen">#
sysname <span class="keyword">Device</span>S
#
 bfd
#
interface GigabitEthernet<span>0/1/0</span>
 undo shutdown
 ipv6 enable
 ipv6 address 2001:db8:1000::1/96
 ospfv3 1 area 0.0.0.1
 ospfv3 cost 5
#
interface GigabitEthernet<span>0/2/0</span>
 undo shutdown
 ipv6 enable
 ipv6 address 2001:db8:1001::1/96
 ospfv3 1 area 0.0.0.1
 ospfv3 cost 15
#
interface GigabitEthernet<span>0/3/0</span>
 undo shutdown
 ipv6 enable
 ipv6 address 2001:db8:1002::1/96
 ospfv3 1 area 0.0.0.1
 ospfv3 frr block
 ospfv3 cost 10
#
ospfv3 1
 router-id 1.1.1.1
 bfd all-interfaces enable
 bfd all-interfaces frr-binding
 frr
  loop-free-alternate
 area 0.0.0.1
#
return</pre>
</li><li><p><span class="keyword">Device</span> A configuration file</p>
<pre class="screen">#
sysname <span class="keyword">Device</span>A
#
 bfd
#
interface GigabitEthernet<span>0/1/0</span>
 undo shutdown
 ipv6 enable
 ipv6 address 2001:db8:1000::2/96
 ospfv3 1 area 0.0.0.1
 ospfv3 cost 5
#
interface GigabitEthernet<span>0/2/0</span>
 undo shutdown
 ipv6 enable
 ipv6 address 2001:db8:2000::2/96
 ospfv3 1 area 0.0.0.1
 ospfv3 cost 5
#
ospfv3 1
 router-id 2.2.2.2
 bfd all-interfaces enable
 bfd all-interfaces frr-binding
 frr
  loop-free-alternate
 area 0.0.0.1
#
return</pre>
</li><li><p><span class="keyword">Device</span> N configuration file</p>
<pre class="screen">#
sysname <span class="keyword">Device</span>N
#
 bfd
#
interface GigabitEthernet<span>0/1/0</span>
 undo shutdown
 ipv6 enable
 ipv6 address 2001:db8:1002::2/96
 ospfv3 1 area 0.0.0.1
 ospfv3 cost 10
#
interface GigabitEthernet<span>0/2/0</span>
 undo shutdown
 ipv6 enable
 ipv6 address 2001:db8:2002::2/96
 ospfv3 1 area 0.0.0.1
 ospfv3 cost 10
#
ospfv3 1
 router-id 3.3.3.3
 bfd all-interfaces enable
 bfd all-interfaces frr-binding
 frr
 area 0.0.0.1
#
return</pre>
</li><li><p><span class="keyword">Device</span> E configuration file</p>
<pre class="screen">#
sysname <span class="keyword">Device</span>E
#
 bfd
#
interface GigabitEthernet<span>0/1/0</span>
 undo shutdown
 ipv6 enable
 ipv6 address 2001:db8:2000::1/96
 ospfv3 1 area 0.0.0.1
#
interface GigabitEthernet<span>0/2/0</span>
 undo shutdown
 ipv6 enable
 ipv6 address 2001:db8:2001::1/96
 ospfv3 1 area 0.0.0.1
#
interface GigabitEthernet<span>0/3/0</span>
 undo shutdown
 ipv6 enable
 ipv6 address 2001:db8:2002::1/96
 ospfv3 1 area 0.0.0.1
#
interface GigabitEthernet<span>0/1/1</span>
 undo shutdown
 ipv6 enable
 ipv6 address 2001:db8:3000::1/96
 ospfv3 1 area 0.0.0.1
 ospfv3 cost 5
#
ospfv3 1
 router-id 4.4.4.4
 bfd all-interfaces enable
 bfd all-interfaces frr-binding
 area 0.0.0.1
#
return</pre>
</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2062.html">Configuration Examples for OSPFv3
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2064.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2069.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>