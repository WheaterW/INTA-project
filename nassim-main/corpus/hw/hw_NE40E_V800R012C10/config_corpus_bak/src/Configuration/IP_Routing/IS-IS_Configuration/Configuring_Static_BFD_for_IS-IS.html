
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Static BFD for IS-IS">
<meta name="abstract" content="BFD can provide link fault detection featuring light load and high speed (within milliseconds). Static BFD needs to be configured.">
<meta name="description" content="BFD can provide link fault detection featuring light load and high speed (within milliseconds). Static BFD needs to be configured.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_1066.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_0043.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00556928,w00606909,l00455378,isis">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Route">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="z00875216">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00875216">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172366000">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Static BFD for IS-IS</title>
</head>
<body><a name="EN-US_TASK_0172366000"></a><a name="EN-US_TASK_0172366000"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Static BFD for IS-IS</h1>
<div class="taskbody"><p>BFD can provide link fault detection featuring light load and high speed (within milliseconds). Static BFD needs to be configured.</p>
<div class="context"><a name="EN-US_TASK_0172366000__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>On IS-IS networks, IS-IS neighbors periodically send Hello packets to detect neighbor status changes. For networks that require fast convergence and zero packet loss, IS-IS is unreliable to detect link faults. To address this issue, configure BFD for IS-IS.</p>
<p>BFD includes static BFD and dynamic BFD. Static BFD is easy to control and flexible to deploy. To save memory and ensure the reliability of key links, implement BFD on these links. Static BFD helps detect link faults rapidly and implement fast route convergence.</p>
<p>To configure a static BFD session, you need to manually configure BFD session parameters, including the local and remote discriminators.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>BFD detects only the one-hop link between IS-IS neighbors because IS-IS establishes only one-hop neighbors.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172366000__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=bfd"><b><span class="cmdname">bfd</span></b></a></span></span><p><p>Global BFD is enabled on the local end.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span></span><p><p>Return to the system view.</p>
</p></li><li><span>(Optional) To configure BFD session check for an IS-IS process, perform the following steps:</span><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=isis"><b><span class="cmdname">isis</span></b></a> [ <i><span class="varname">process-id</span></i> ]</span><p><p>The IS-IS view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=bfd+session-up+check"><b><span class="cmdname">bfd session-up check</span></b></a></span><p><p>BFD session check is configured for the IS-IS process.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li></ol>
<p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>When the Layer 2 network is normal, IS-IS neighbor relationships can be established and routes can be delivered. However, if the Layer 3 network is unreachable, upper-layer traffic loss occurs. To resolve this problem, configure BFD session check for an IS-IS process by running the <a href="cmdqueryname=bfd+session-up+check"><b><span class="cmdname">bfd session-up check</span></b></a> command. This ensures that an IS-IS neighbor relationship is established only when the BFD session is up on corresponding interfaces. After this function is configured, it applies only to the neighbor relationships to be established (it does not apply to existing neighbor relationships).</p>
</div></div>
</p></li><li><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The interface view is displayed.</p>
</p><p><p>BFD can be enabled on physical interfaces only.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=isis+bfd+static"><b><span class="cmdname">isis bfd static</span></b></a></span></span><p><p>Static BFD is enabled on the interface.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span></span><p><p>Return to the system view.</p>
</p></li><li><span>Run <a href="cmdqueryname=bfd"><b><span class="cmdname">bfd</span></b></a> <em>session-name</em> <strong><span>bind</span></strong> <strong><span>peer-ip</span></strong> <i><span class="varname">peer-ip</span></i> [ <strong><span>interface</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type interface-number</span></i> } ]</span><p><p>A BFD session is created and its view is displayed.</p>
</p><p><p>If both <strong><span>peer-ip</span></strong> (IP address of the peer end) and <strong><span>interface</span></strong> (local interface) are specified, BFD only monitors a single-hop link with <strong><span>interface</span></strong> as the outbound interface and <strong><span>peer-ip</span></strong> as the next hop address.</p>
</p></li><li><span>Configure a discriminator.</span><p><ul><li>To set the local discriminator, run the <a href="cmdqueryname=discriminator"><b><span class="cmdname">discriminator</span></b></a> <strong><span>local</span></strong> <i><span class="varname">discr-value</span></i> command.</li><li>To set the remote discriminator, run the <a href="cmdqueryname=discriminator"><b><span class="cmdname">discriminator</span></b></a> <strong><span>remote</span></strong> <i><span class="varname">discr-value</span></i> command.</li></ul>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The local discriminator of the local device must be the same as the remote discriminator of the peer device, and the remote discriminator of the local device must be the same as the local discriminator of the peer device.</p>
</div></div>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0172366000__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>After the configuration is complete, verify it.</p>
<ul><li><p>Run the <a href="cmdqueryname=display+isis+bfd"><b><span class="cmdname">display isis bfd</span></b></a> [ <i><span class="varname">process-id</span></i> | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] <strong><span>session</span></strong> { <strong><span>peer</span></strong> <i><span class="varname">ip-address</span></i> | <strong><span>all</span></strong> } command to view the information about the BFD session.</p>
</li><li><p>Run the <a href="cmdqueryname=display+isis+interface"><b><span class="cmdname">display isis interface</span></b></a> <strong><span>verbose</span></strong> command to view the configurations of BFD for IS-IS on an interface.</p>
</li></ul>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_0000.html">IS-IS Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_1066.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_0043.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>