
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring BGP4+ to Generate a Summary Default Route">
<meta name="abstract" content="You can configure BGP4+ to generate a summary default route and then determine whether to advertise the default route to a peer by using a route-policy.">
<meta name="description" content="You can configure BGP4+ to generate a summary default route and then determine whether to advertise the default route to a peer by using a route-policy.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0034.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0036.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00556928,w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP IPv6">
<meta name="featuretype" content="IP Route">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP IPv6">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="w00604599">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00615954">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0200834097">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring BGP4+ to Generate a Summary Default Route</title>
</head>
<body><a name="EN-US_TASK_0200834097"></a><a name="EN-US_TASK_0200834097"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring BGP4+ to Generate a Summary Default Route</h1>
<div class="taskbody"><p>You can configure BGP4+ to generate a summary default route and then determine whether to advertise the default route to a peer by using a route-policy.</p>
<div class="context"><a name="EN-US_TASK_0200834097__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>On the network shown in <a href="#EN-US_TASK_0200834097__fig163525561417">Figure 1</a>, a VPNv6 peer relationship is established between PE1 and PE2. In addition, an EBGP-VPN peer relationship is established between PE2 and the core network device, and another EBGP-VPN peer relationship is established between PE1 and CE1. The core network device advertises routes to PE2 through the EBGP-VPN peer relationship. PE2 then advertises the received routes to PE1 through the VPNv6 peer relationship. Upon receipt, PE1 leaks the routes to its VPN instance. A default route can be generated only if routes with a specific prefix exist among the leaked routes. You can perform this configuration task so that PE1 advertises a default route to CE1 based on an IP prefix list filter. In this way, traffic corresponding to the routes that do not match the filter is not diverted to PE1, thereby conserving PE1's bandwidth resources.</p>
<div class="fignone" id="EN-US_TASK_0200834097__fig163525561417"><a name="EN-US_TASK_0200834097__fig163525561417"></a><a name="fig163525561417"></a><span class="figcap"><b>Figure 1 </b>Typical networking</span><br><span><img class="vsd" src="figure/en-us_image_0200847639.png" width="NaN" height="NaN"></span></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0200834097__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring BGP4+ to generate a summary default route, <a href="dc_vrp_bgp6_cfg_0003.html">configure basic BGP4+ functions</a>.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0200834097__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=ip+ipv6-prefix+index+match-network+greater-equal+less-equal"><b><span class="cmdname">ip ipv6-prefix</span></b></a> <i><span class="varname">ipv6-prefix-name</span></i> [ <strong><span>index</span></strong> <i><span class="varname">index-number</span></i> ] <i><span class="varname">matchMode</span></i> <i><span class="varname">ipv6-address</span></i> <i><span class="varname">masklen</span></i> <span>[ <strong><span>match-network</span></strong> ]</span> [ <strong><span>greater-equal</span></strong> <i><span class="varname">greater-equal-value</span></i> ] [ <strong><span>less-equal</span></strong> <i><span class="varname">less-equal-value</span></i> ]</span><p><p>An IPv6 prefix list is configured.</p>
</p></li><li><span>Run <a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i></span><p><p>The BGP view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=ipv6-family"><b><span class="cmdname">ipv6-family</span></b></a> <strong><span>unicast</span></strong></span><p><p>The IPv6 unicast address family view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=aggregate+default-route+origin-ipv6-prefix+attribute-policy"><b><span class="cmdname">aggregate default-route origin-ipv6-prefix</span></b></a> <i><span class="varname">ipv6-prefix-name</span></i> [ <strong><span>attribute-policy</span></strong>  <i><span class="varname">attribute-policy-name</span></i> ]</span><p><p>The device is enabled to generate a summary default route based on an IPv6 prefix list.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0200834097__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>After the configuration is complete, verify it.</p>
<p>Run the <a href="cmdqueryname=display+bgp+ipv6+routing-table"><b><span class="cmdname">display bgp ipv6 routing-table</span></b></a> command to check information about BGP4+ summary default routes.</p>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0000.html">BGP4+ Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0034.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0036.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>