
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring a Cost for IS-IS Interfaces (IPv6)">
<meta name="abstract" content="Configuring IS-IS interface costs can control IS-IS route selection. Set interface costs based on network planning.">
<meta name="description" content="Configuring IS-IS interface costs can control IS-IS route selection. Set interface costs based on network planning.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_1023.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_1025.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_1027.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00556928,w00606909,l00455378,isis">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Route">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="z00875216">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00875216">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172366022">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>(Optional) Configuring a Cost for IS-IS Interfaces (IPv6)</title>
</head>
<body><a name="EN-US_TASK_0172366022"></a><a name="EN-US_TASK_0172366022"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring a Cost for IS-IS Interfaces (IPv6)</h1>
<div class="taskbody"><p>Configuring IS-IS interface costs can control IS-IS route selection. Set interface costs based on network planning.</p>
<div class="context"><a name="EN-US_TASK_0172366022__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>The costs of IS-IS interfaces can be determined in the following modes (in descending order of priority):</p>
<ul><li><p>The interface cost takes effect only on a specified interface.</p>
</li><li><p>The global cost takes effect only on all interfaces.</p>
</li><li><p>The automatically calculated cost is a cost automatically calculated based on the interface bandwidth.</p>
</li></ul>
<p>The default cost of an IS-IS interface is 10, and the default cost style is narrow.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172366022__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure an IS-IS cost style.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=isis"><b><span class="cmdname">isis</span></b></a> [ <i><span class="varname">process-id</span></i> ]</span></span><p><p>The IS-IS view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=cost-style"><b><span class="cmdname">cost-style</span></b></a> { <strong><span>narrow</span></strong> | <strong><span>wide</span></strong> | <strong><span>wide-compatible</span></strong> | { <strong><span>narrow-compatible</span></strong> | <strong><span>compatible</span></strong> } [ <strong><span>relax-spf-limit</span></strong> ] }</span><p><p>An IS-IS cost style is configured. </p>
</p><p><p>The cost value range of an interface and the cost value range of the routes that can be accepted by the interface vary with the cost style.</p>
<ul><li><p>If the cost style is narrow, the cost of an interface ranges from 1 to 63. The maximum cost of the routes accepted by the device is 1023.</p>
</li><li><p>If the cost style is narrow-compatible or compatible, the cost of an interface ranges from 1 to 63. The cost of the routes accepted by the device is related to <strong><span>relax-spf-limit</span></strong>.</p>
<ul><li><p>If the <strong><span>relax-spf-limit</span></strong> parameter is not set:</p>
<p>If the cost of a route is not greater than 1023 and the costs of all the interfaces through which the route passes are not greater than 63, the actual cost of the route is used.</p>
<p>If the cost of a route is less than or equal to 1023 and the link cost of an interface through which the route passes is greater than 63, an IS-IS device can learn only the routes of the network segment where the interface resides and the routes imported by the interface. The actual cost of the route is used, and subsequent routes forwarded through the interface are discarded.</p>
<p>If the cost of a route is greater than 1023 and the link cost of each interface through which the route passes before the route reaches an interface with the link cost greater than 1023 is not greater than 63, the IS-IS device can learn only the routes of this interface. The local device can learn routes to the network segment where the interface resides and the routes imported by the interface. The route cost is considered as 1023, and subsequent routes forwarded through the interface are discarded.</p>
</li><li><p>If the <strong><span>relax-spf-limit</span></strong> parameter is set:</p>
<p>There is no limit on the link costs of interfaces or route costs. The route is received according to the actual cost.</p>
</li></ul>
</li><li><p>If the cost style is <strong>wide</strong> or <strong>wide-compatible</strong>, the cost of an interface ranges from 1 to 16777214 or the maximum value (16777215). If <strong><span>maximum</span></strong> is configured, the neighbor TLV (with the cost 16777215) generated on the link cannot be used for route calculation; instead, it is used only for transmitting TE information. The maximum cost of the routes accepted by the device is 0xFFFFFF.</p>
</li></ul>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure a cost for the IS-IS interface.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=isis+ipv6"><b><span class="cmdname">isis ipv6</span></b></a> [ <strong><span>topology</span></strong> <i><span class="varname">topology-name</span></i> ] <strong><span>cost</span></strong> <em>cost-value</em> [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> ]</span><p><p>A cost is configured for the IS-IS interface.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure the global IS-IS cost.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=isis"><b><span class="cmdname">isis</span></b></a> [ <i><span class="varname">process-id</span></i> ]</span></span><p><p>The IS-IS view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=ipv6+circuit-cost"><b><span class="cmdname">ipv6 circuit-cost</span></b></a> { <i><span class="varname">cost</span></i> } [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> ]</span><p><p>A global IS-IS cost is configured.</p>
</p><p><p>You can run this command to change the costs of all interfaces at a time.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Enable IS-IS to automatically calculate interface costs.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=isis"><b><span class="cmdname">isis</span></b></a> [ <i><span class="varname">process-id</span></i> ]</span></span><p><p>The IS-IS view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=ipv6+bandwidth-reference"><b><span class="cmdname">ipv6 bandwidth-reference</span></b></a> <i><span class="varname">value</span></i></span><p><p>The reference value of the bandwidth is configured. </p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=ipv6+auto-cost+enable"><b><span class="cmdname">ipv6 auto-cost enable</span></b></a><span> [ <strong><span>compatible</span></strong> ]</span></span></span><p><p>The device is enabled to automatically calculate the interface cost.</p>
</p><p><ul><li><div class="p">If the cost style of the system is wide or wide-compatible, when <a href="cmdqueryname=ipv6+auto-cost+enable"><b><span class="cmdname">ipv6 auto-cost enable</span></b></a> command is configured, Interface cost = (Bandwidth-reference/Interface bandwidth) x 10<span>, and when <a href="cmdqueryname=ipv6+auto-cost+enable"><b><span class="cmdname">ipv6 auto-cost enable</span></b></a> <strong><span>compatible</span></strong> command is configured, Interface cost = (Bandwidth-reference/Interface bandwidth)</span>.<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If the interface cost calculated through this formula is greater than 16777214, 16777214 is used as the interface cost for route calculation. That is, the interface cost will never be greater than 16777214.</p>
<p>The <a href="cmdqueryname=ipv6+auto-cost+enable"><b><span class="cmdname">ipv6 auto-cost enable</span></b></a> command can be run on Eth-Trunk interfaces as same with on physical interfaces. If the command is run on an Eth-Trunk interface, the bandwidth of the Eth-Trunk interface is equal to the total bandwidth of all its member interfaces.</p>
</div></div>
</div>
</li><li><p>If the cost-style is narrow, narrow-compatible, or compatible, the cost of each interface is determined by the interface bandwidth range. <a href="#EN-US_TASK_0172366022__tab_dc_vrp_isis_cfg_102601">Table 1</a> lists the interface costs corresponding to different interface bandwidth ranges.</p>

<div class="tableBorder"><a name="EN-US_TASK_0172366022__tab_dc_vrp_isis_cfg_102601"></a><a name="tab_dc_vrp_isis_cfg_102601"></a><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_TASK_0172366022__tab_dc_vrp_isis_cfg_102601" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Mapping between IS-IS interface costs and interface bandwidth</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="46.17%" id="mcps1.4.2.4.2.4.3.1.2.2.2.3.1.1" liSelected="liSelected"><p>Cost</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="53.83%" id="mcps1.4.2.4.2.4.3.1.2.2.2.3.1.2" liSelected="liSelected"><p>Bandwidth Range</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="46.17%" headers="mcps1.4.2.4.2.4.3.1.2.2.2.3.1.1 "><p>60</p>
</td>
<td class="cellrowborder" valign="top" width="53.83%" headers="mcps1.4.2.4.2.4.3.1.2.2.2.3.1.2 "><p>Interface bandwidth â¤ 10 Mbit/s</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="46.17%" headers="mcps1.4.2.4.2.4.3.1.2.2.2.3.1.1 "><p>50</p>
</td>
<td class="cellrowborder" valign="top" width="53.83%" headers="mcps1.4.2.4.2.4.3.1.2.2.2.3.1.2 "><p>10 Mbit/s &lt; interface bandwidth â¤ 100 Mbit/s</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="46.17%" headers="mcps1.4.2.4.2.4.3.1.2.2.2.3.1.1 "><p>40</p>
</td>
<td class="cellrowborder" valign="top" width="53.83%" headers="mcps1.4.2.4.2.4.3.1.2.2.2.3.1.2 "><p>100 Mbit/s &lt; interface bandwidth â¤ 155 Mbit/s</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="46.17%" headers="mcps1.4.2.4.2.4.3.1.2.2.2.3.1.1 "><p>30</p>
</td>
<td class="cellrowborder" valign="top" width="53.83%" headers="mcps1.4.2.4.2.4.3.1.2.2.2.3.1.2 "><p>155 Mbit/s &lt; interface bandwidth â¤ 622 Mbit/s</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="46.17%" headers="mcps1.4.2.4.2.4.3.1.2.2.2.3.1.1 "><p>20</p>
</td>
<td class="cellrowborder" valign="top" width="53.83%" headers="mcps1.4.2.4.2.4.3.1.2.2.2.3.1.2 "><p>622 Mbit/s &lt; Interface bandwidth â¤ 2.5 Gbit/s</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="46.17%" headers="mcps1.4.2.4.2.4.3.1.2.2.2.3.1.1 "><p>10</p>
</td>
<td class="cellrowborder" valign="top" width="53.83%" headers="mcps1.4.2.4.2.4.3.1.2.2.2.3.1.2 "><p>Interface bandwidth &gt; 2.5 Gbit/s</p>
</td>
</tr>
</tbody>
</table>
</div>
</li></ul>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>To change the cost of a loopback interface, run the <a href="cmdqueryname=isis+ipv6+cost"><b><span class="cmdname">isis ipv6 cost</span></b></a> command only in the loopback interface view.</p>
</div></div>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_1023.html">Configuring Basic IS-IS Functions (IPv6)
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_1025.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_1027.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>