
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring IS-IS Authentication">
<meta name="abstract" content="After IS-IS authentication is configured, authentication information can be encapsulated into LSPs, SNPs, or Hello packets to ensure packet transmission security.">
<meta name="description" content="After IS-IS authentication is configured, authentication information can be encapsulated into LSPs, SNPs, or Hello packets to ensure packet transmission security.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_0068.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_0118.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00556928,w00606909,l00455378,isis">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Route">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="z00875216">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00875216">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172366077">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring IS-IS Authentication</title>
</head>
<body><a name="EN-US_TASK_0172366077"></a><a name="EN-US_TASK_0172366077"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring IS-IS Authentication</h1>
<div class="taskbody"><p>After IS-IS authentication is configured, authentication information can be encapsulated into LSPs, SNPs, or Hello packets to ensure packet transmission security.</p>
<div class="context"><a name="EN-US_TASK_0172366077__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p">Generally, IS-IS packets do not carry authentication information, and received packets are not authenticated. To prevent malicious packets from attacking the network, configure IS-IS authentication to improve network security.<ul><li><p>Area authentication: Authentication passwords are encapsulated into IS-IS packets in Level-1 areas. The receiver only accepts the packets that have been authenticated. Therefore, you need to configure IS-IS area authentication to authenticate packets in Level-1 areas.</p>
</li><li><p>Routing domain authentication: Authentication passwords are encapsulated into IS-IS packets in Level-2 areas. The receiver only accepts the packets that have been authenticated. Therefore, you need to configure IS-IS routing domain authentication to authenticate packets in Level-2 areas.</p>
</li><li><p>Interface authentication: The authentication information is encapsulated into IS-IS Hello packets. A neighbor relationship can be established only after IS-IS Hello packets are authenticated. Therefore, you need to configure interface authentication to authenticate neighbors.</p>
</li></ul>
</div>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>When configuring IS-IS authentication, the authentication mode and passwords of the routers in the same area must be consistent so that IS-IS packets can be flooded normally.</p>
<p>An IS-IS neighbor relationship cannot be established if interface authentication fails. An IS-IS neighbor relationship can be established regardless of whether IS-IS area or routing domain authentication succeeds.</p>
<p>When configuring an authentication password, select the ciphertext mode because the password is saved in the configuration file in simple text if you select simple text mode, which has a high risk. To ensure device security, change the password periodically.</p>
<p>It is recommended that the password be at least eight characters long and contain at least two of the following character types: uppercase letters, lowercase letters, digits, and special characters.</p>
<p>For security purposes, you are advised not to use weak security algorithms in IS-IS. If you need to use such an algorithm, run the <a href="cmdqueryname=undo+crypto+weak-algorithm+disable"><b><span class="cmdname">undo crypto weak-algorithm disable</span></b></a> command to enable the weak security algorithm function first.</p>
</div></div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172366077__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure IS-IS area authentication.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=isis"><b><span class="cmdname">isis</span></b></a> [ <i><span class="varname">process-id</span></i> ]</span></span><p><p>The IS-IS view is displayed.</p>
</p></li><li class="substepexpand"><span>Run one of the following commands based on the encryption type:</span><p><ul><li><p><a href="cmdqueryname=area-authentication-mode"><b><span class="cmdname">area-authentication-mode</span></b></a> { <strong><span>simple</span></strong> { <span><strong><span>plain</span></strong> <i><span class="varname">plain</span></i> | </span>[ <strong><span>cipher</span></strong> ] <i><span class="varname">cipher</span></i> } | <strong><span>md5</span></strong> { [ <strong><span>cipher</span></strong> ] <i><span class="varname">cipher</span></i><span> | <strong><span>plain</span></strong> <i><span class="varname">plain</span></i></span> } } [ <strong><span>ip</span></strong> | <strong><span>osi</span></strong> ] [ <strong><span>snp-packet</span></strong> { <strong><span>authentication-avoid</span></strong> | <strong><span>send-only</span></strong> } | <strong><span>all-send-only</span></strong> ]</p>
</li><li><p><a href="cmdqueryname=area-authentication-mode"><b><span class="cmdname">area-authentication-mode</span></b></a> <strong><span>keychain</span></strong> <i><span class="varname">keychain-name</span></i> [ <strong><span>snp-packet</span></strong> { <strong><span>authentication-avoid</span></strong> | <strong><span>send-only</span></strong> } | <strong><span>all-send-only</span></strong> ]</p>
</li><li><p><a href="cmdqueryname=area-authentication-mode"><b><span class="cmdname">area-authentication-mode</span></b></a> <strong><span>hmac-sha256</span></strong> <strong><span>key-id</span></strong> <i><span class="varname">key-id</span></i> { <span><strong><span>plain</span></strong> <i><span class="varname">plain</span></i> | </span>[ <strong><span>cipher</span></strong> ] <i><span class="varname">cipher</span></i> } [ <strong><span>snp-packet</span></strong> { <strong><span>authentication-avoid</span></strong> | <strong><span>send-only</span></strong> } | <strong><span>all-send-only</span></strong> ]</p>
</li></ul>
<p>The area authentication mode is configured for IS-IS.</p>
<div class="notice"><span class="noticetitle"><img src="../../../../public_sys-resources/notice_3.0-en-us.png"> </span><div class="noticebody"><p>After the <a href="cmdqueryname=area-authentication-mode"><b><span class="cmdname">area-authentication-mode</span></b></a> command is run, IS-IS discards the locally stored Level-1 LSPs that fail authentication and newly received Level-1 LSPs and SNPs that fail authentication after they are automatically aged. To prevent packet loss before authentication is configured, you can specify the <strong><span>send-only</span></strong> parameter in the command when deploying authentication on a network running services.</p>
<p>The MD5 algorithm is not recommended if high security is required. To prevent routing information from being tampered with, you are advised to enable authentication and use high-security algorithms such as HMAC-SHA256 to improve security.</p>
</div></div>
<p>You can configure area authentication in any of the following ways:</p>
<ul><li><p>Do not specify <strong><span>snp-packet</span></strong> or <strong><span>all-send-only</span></strong>. In this case, the device encapsulates authentication information in the LSPs and SNPs to be sent, authenticates received LSPs and SNPs, and discards the LSPs and SNPs that fail to be authenticated.</p>
</li><li><p>Specify <strong><span>snp-packet</span></strong> and <strong><span>authentication-avoid</span></strong>. In this case, the device encapsulates authentication information in the LSPs to be sent and authenticates received LSPs; the device neither encapsulates authentication information in the SNPs to be sent nor authenticates received SNPs.</p>
</li><li><p>Specify <strong><span>snp-packet</span></strong> and <strong><span>send-only</span></strong>. In this case, the device encapsulates authentication information both in the LSPs and SNPs to be sent, but authenticates only received LSPs.</p>
</li><li><p>Specify <strong><span>all-send-only</span></strong>. In this case, the device encapsulates authentication information both in the LSPs and SNPs to be sent, but does not authenticate received LSPs or SNPs.</p>
</li></ul>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure IS-IS routing domain authentication.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=isis"><b><span class="cmdname">isis</span></b></a> [ <i><span class="varname">process-id</span></i> ]</span></span><p><p>The IS-IS view is displayed.</p>
</p></li><li class="substepexpand"><span>Run one of the following commands based on the encryption type:</span><p><ul><li><p><a href="cmdqueryname=domain-authentication-mode"><b><span class="cmdname">domain-authentication-mode</span></b></a><span> { <strong><span>simple</span></strong> { <span><strong><span>plain</span></strong> <i><span class="varname">plain</span></i> | </span><strong><span>cipher</span></strong> <i><span class="varname">cipher</span></i> } | <strong><span>md5</span></strong> { [ <strong><span>cipher</span></strong> ] <i><span class="varname">cipher</span></i><span> | <strong><span>plain</span></strong> <i><span class="varname">plain</span></i></span> } }</span> [ <strong><span>ip</span></strong> | <strong><span>osi</span></strong> ] [ <strong><span>snp-packet</span></strong> { <strong><span>authentication-avoid</span></strong> | <strong><span>send-only</span></strong> } | <strong><span>all-send-only</span></strong> ]</p>
</li><li><p><a href="cmdqueryname=domain-authentication-mode"><b><span class="cmdname">domain-authentication-mode</span></b></a> <strong><span>keychain</span></strong> <i><span class="varname">keychain-name</span></i> [ <strong><span>snp-packet</span></strong> { <strong><span>authentication-avoid</span></strong> | <strong><span>send-only</span></strong> } | <strong><span>all-send-only</span></strong> ]</p>
</li><li><p><a href="cmdqueryname=domain-authentication-mode"><b><span class="cmdname">domain-authentication-mode</span></b></a> <strong><span>hmac-sha256</span></strong> <strong><span>key-id</span></strong> <i><span class="varname">key-id</span></i> { <span><strong><span>plain</span></strong> <i><span class="varname">plain</span></i> | </span>[ <strong><span>cipher</span></strong> ] <i><span class="varname">cipher</span></i> } [ <strong><span>snp-packet</span></strong> { <strong><span>authentication-avoid</span></strong> | <strong><span>send-only</span></strong> } | <strong><span>all-send-only</span></strong> ]</p>
</li></ul>
<p>The routing domain authentication mode is configured for IS-IS.</p>
<div class="notice"><span class="noticetitle"><img src="../../../../public_sys-resources/notice_3.0-en-us.png"> </span><div class="noticebody"><p>After the <a href="cmdqueryname=domain-authentication-mode"><b><span class="cmdname">domain-authentication-mode</span></b></a> command is run, IS-IS discards the locally stored Level-2 LSPs that fail authentication and newly received Level-2 LSPs and SNPs that fail authentication after they are automatically aged. To prevent packet loss before authentication is configured, you can specify the <strong><span>send-only</span></strong> parameter in the command when deploying authentication on a network running services.</p>
<p>The MD5 algorithm is not recommended if high security is required. To prevent routing information from being tampered with, you are advised to enable authentication and use high-security algorithms such as HMAC-SHA256 to improve security.</p>
</div></div>
<p>You can configure routing domain authentication in any of the following ways:</p>
<ul><li><p>Do not specify <strong><span>snp-packet</span></strong> or <strong><span>all-send-only</span></strong>. In this case, the device encapsulates authentication information in the LSPs and SNPs to be sent, authenticates received LSPs and SNPs, and discards the LSPs and SNPs that fail to be authenticated.</p>
</li><li><p>Specify <strong><span>snp-packet</span></strong> and <strong><span>authentication-avoid</span></strong>. In this case, the device encapsulates authentication information in the LSPs to be sent and authenticates received LSPs; the device neither encapsulates authentication information in the SNPs to be sent nor authenticates received SNPs.</p>
</li><li><p>Specify <strong><span>snp-packet</span></strong> and <strong><span>send-only</span></strong>. In this case, the device encapsulates authentication information both in the LSPs and SNPs to be sent, but authenticates only received LSPs.</p>
</li><li><p>Specify <strong><span>all-send-only</span></strong>. In this case, the device encapsulates authentication information both in the LSPs and SNPs to be sent, but does not authenticate received LSPs or SNPs.</p>
</li></ul>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure IS-IS interface authentication.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run one of the following commands based on the encryption type:</span><p><ul><li><p><a href="cmdqueryname=isis+authentication-mode"><b><span class="cmdname">isis authentication-mode</span></b></a><span> { <strong><span>simple</span></strong> { <span><strong><span>plain</span></strong> <i><span class="varname">plain</span></i> | </span><strong><span>cipher</span></strong> <i><span class="varname">cipher</span></i> } | <strong><span>md5</span></strong> { [ <strong><span>cipher</span></strong> ] <i><span class="varname">cipher</span></i><span> | <strong><span>plain</span></strong> <i><span class="varname">plain</span></i></span> } }</span> [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> ] [ <strong><span>ip</span></strong> | <strong><span>osi</span></strong> ] [ <strong><span>send-only</span></strong> ]</p>
</li><li><p><a href="cmdqueryname=isis+authentication-mode"><b><span class="cmdname">isis authentication-mode</span></b></a> <strong><span>keychain</span></strong> <i><span class="varname">keychain-name</span></i> [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> ] [ <strong><span>send-only</span></strong> ]</p>
</li><li><p><a href="cmdqueryname=isis+authentication-mode"><b><span class="cmdname">isis authentication-mode</span></b></a> <strong><span>hmac-sha256</span></strong> <strong><span>key-id</span></strong> <i><span class="varname">key-id</span></i> { <span><strong><span>plain</span></strong> <i><span class="varname">plain</span></i> | </span>[ <strong><span>cipher</span></strong> ] <i><span class="varname">cipher</span></i> } [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> ] [ <strong><span>send-only</span></strong> ]</p>
</li></ul>
<p>The IS-IS authentication mode and password are configured on the interface.</p>
<div class="p"><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The MD5 algorithm is not recommended if high security is required. To prevent routing information from being tampered with, you are advised to enable authentication and use high-security algorithms such as HMAC-SHA256 to improve security.</p>
</div></div>
</div>
<div class="p">When you select parameters, note the following rules:<ul><li><p>If <strong><span>send-only</span></strong> is specified, the device encapsulates authentication information to Hello packets to be sent but does not authenticate received Hello packets. The neighbor relationships can be set up when the authentication is not required or packets are authenticated.</p>
</li><li><p>If <strong><span>send-only</span></strong> is not configured, ensure that passwords of all interfaces with the same level in the same network are consistent.</p>
</li><li><p><strong><span>Level-1 areas</span></strong> and <strong><span>level-2</span></strong> can be set only on Ethernet interfaces.</p>
</li><li><p>When IS-IS interfaces are Level-1-2 interfaces and <strong><span>Level-1 areas</span></strong> or <strong><span>level-2</span></strong> is not specified in the command, authentication modes and passwords are configured for both Level-1 areas and Level-2 Hello packets.</p>
</li></ul>
</div>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_0068.html">Improving IS-IS Network Security
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_0118.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>