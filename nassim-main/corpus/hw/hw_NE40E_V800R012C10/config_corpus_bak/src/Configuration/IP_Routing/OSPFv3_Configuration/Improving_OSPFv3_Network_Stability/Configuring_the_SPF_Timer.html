
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring the SPF Timer">
<meta name="abstract" content="By setting the interval for Shortest Path First (SPF) calculation, you can reduce resource consumption caused by frequent network changes.">
<meta name="description" content="By setting the interval for Shortest Path First (SPF) calculation, you can reduce resource consumption caused by frequent network changes.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2049.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2086.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2053.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,56675587z00801081,w00556928,w00606909,l00455378,">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Route">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="z00875216">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="d00534873">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172365792">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring the SPF Timer</title>
</head>
<body><a name="EN-US_TASK_0172365792"></a><a name="EN-US_TASK_0172365792"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring the SPF Timer</h1>
<div class="taskbody"><p>By setting the interval for Shortest Path First (SPF) calculation, you can reduce resource consumption caused by frequent network changes.</p>
<div class="context"><a name="EN-US_TASK_0172365792__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Whenever the Link-state Database (LSDB) of OSPFv3 changes, the shortest path should be recalculated. Calculating the shortest path each time the LSDB changes consumes enormous resources and lowers the efficiency of the device. In this case, you can adjust values of <i><span class="varname">delay-interval</span></i> and <i><span class="varname">hold-interval</span></i> to prevent bandwidth exhaustion and route consumption caused by frequent network changes. You can use the <strong><span>intelligent-timer</span></strong> parameter to configure the device to perform SPF calculation at an interval (at the millisecond level) based on an intelligent timer. This speeds up network convergence.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172365792__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure an SPF normal timer.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=ospfv3"><b><span class="cmdname">ospfv3</span></b></a> [ <i><span class="varname">process-id</span></i> ]</span></span><p><p>The OSPFv3 view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=spf+timers"><b><span class="cmdname">spf timers</span></b></a> <i><span class="varname">delay-interval</span></i> <i><span class="varname">hold-interval</span></i></span></span><p><p>An SPF normal timer is configured.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure an SPF intelligent timer.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=ospfv3"><b><span class="cmdname">ospfv3</span></b></a> [ <i><span class="varname">process-id</span></i> ]</span></span><p><p>The OSPFv3 view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=spf-schedule-interval"><b><span class="cmdname">spf-schedule-interval</span></b></a> { <i><span class="varname">delay-interval</span></i> <i><span class="varname">hold-interval</span></i> | <strong><span>intelligent-timer</span></strong> <i><span class="varname">max-interval</span></i> <i><span class="varname">start-interval</span></i> <i><span class="varname">hold-interval-1</span></i><span> | <strong><span>millisecond</span></strong> <i><span class="varname">interval2</span></i></span> }</span><p><p>The SPF intelligent timer is set.</p>
</p><p><div class="p">The interval for SPF calculation based on the intelligent timer is described as follows:<ol type="a"><li>The initial interval for SPF calculation is specified by <i><span class="varname">start-interval</span></i>.</li><li>The interval for SPF calculation for the nth (n â¥ 2) time equals <i><span class="varname">hold-interval</span></i> x 2<sup>(n â 2)</sup>.</li><li>After the interval specified by <i><span class="varname">hold-interval</span></i> x 2<sup>(n â 2)</sup> reaches the maximum interval specified by <i><span class="varname">max-interval</span></i>, <span>OSPFv3 keeps using the maximum interval for SPF calculation.</span></li><li><p>If no flapping occurs during the interval from the end of the last SPF calculation to the start of the next SPF calculation, and the interval exceeds the maximum interval specified by <i><span class="varname">max-interval</span></i>, the intelligent timer exits.</p>
</li><li><p>If no flapping occurs in the previous interval but occurs in the current interval, SPF calculation is delayed for a period of <i><span class="varname">start-interval</span></i>. After the SPF calculation is complete, the current interval will be applied when waiting for the next SPF calculation.</p>
</li></ol>
</div>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The normal SPF timer and intelligent SPF timer are mutually exclusive.</p>
</div></div>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2049.html">Improving OSPFv3 Network Stability
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2086.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2053.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>