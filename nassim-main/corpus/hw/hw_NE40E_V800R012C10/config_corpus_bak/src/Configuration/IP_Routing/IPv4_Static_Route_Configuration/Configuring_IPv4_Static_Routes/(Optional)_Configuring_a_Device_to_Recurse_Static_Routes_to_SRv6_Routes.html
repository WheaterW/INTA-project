
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring a Device to Recurse Static Routes to SRv6 Routes">
<meta name="abstract" content="In L3VPNv4 HoVPN over SRv6 BE, L3VPNv4 HoVPN over SRv6 TE Policy, EVPN L3VPN HoVPN over SRv6 BE, or EVPN L3VPN HoVPN over SRv6 TE Policy scenarios, you can configure a device to recurse static routes to SRv6 routes to prevent traffic black holes.">
<meta name="description" content="In L3VPNv4 HoVPN over SRv6 BE, L3VPNv4 HoVPN over SRv6 TE Policy, EVPN L3VPN HoVPN over SRv6 BE, or EVPN L3VPN HoVPN over SRv6 TE Policy scenarios, you can configure a device to recurse static routes to SRv6 routes to prevent traffic black holes.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_static-route_disjoin_cfg_0003.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_static-route_disjoin_cfg_0052.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_static-route_disjoin_cfg_0053.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Static Route">
<meta name="featuretype" content="IP Route">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Static Route">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="Static Route">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="Static Route">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="z00809835">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="h00414125">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0267158830">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring a Device to Recurse Static Routes to SRv6 Routes</title>
</head>
<body><a name="EN-US_TASK_0267158830"></a><a name="EN-US_TASK_0267158830"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring a Device to Recurse Static Routes to SRv6 Routes</h1>
<div class="taskbody"><p>In L3VPNv4 HoVPN over SRv6 BE, L3VPNv4 HoVPN over SRv6 TE Policy, EVPN L3VPN HoVPN over SRv6 BE, or EVPN L3VPN HoVPN over SRv6 TE Policy scenarios, you can configure a device to recurse static routes to SRv6 routes to prevent traffic black holes. </p>
<div class="context"><a name="EN-US_TASK_0267158830__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>In an L3VPNv4 HoVPN over SRv6 BE, L3VPNv4 HoVPN over SRv6 TE Policy, EVPN L3VPN HoVPN over SRv6 BE, or EVPN L3VPN HoVPN over SRv6 TE Policy scenario, if the next hop of a default route on an SPE is the SPE itself and the link between the SPE and an NPE fails, the UPE cannot detect the link fault. As a result, a traffic black hole occurs after traffic reaches the SPE. To resolve this problem, you need to specify the NPE's address (public or private) as the next-hop address of the default static route on the SPE. In this manner, the validity of the static route depends on whether the link between the SPE and NPE is available. In addition, you need to enable the SPE to recurse static routes to SRv6 routes. This configuration allows the SPE to withdraw this inactive route when the SPE-NPE link fails so that the UPE can detect the route withdrawal and no longer sends traffic to the SPE, thereby preventing a traffic black hole.</p>
<p></p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0267158830__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=ip+route-static+recursive-lookup+inherit-label-route+segment-routing-ipv6"><b><span class="cmdname">ip route-static recursive-lookup inherit-label-route segment-routing-ipv6</span></b></a></span><p><p>The device is enabled to recurse IPv4 static routes to SRv6 routes.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_static-route_disjoin_cfg_0003.html">Configuring IPv4 Static Routes
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_static-route_disjoin_cfg_0052.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_static-route_disjoin_cfg_0053.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>