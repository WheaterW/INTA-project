
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring BFD for an IS-IS Process">
<meta name="abstract" content="By configuring BFD for an IS-IS process, you can set parameters for dynamic BFD sessions and enable dynamic BFD for IS-IS on all IS-IS interfaces.">
<meta name="description" content="By configuring BFD for an IS-IS process, you can set parameters for dynamic BFD sessions and enable dynamic BFD for IS-IS on all IS-IS interfaces.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_0043.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_0044.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_0047.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00556928,w00606909,l00455378,isis">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Route">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="z00875216">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00875216">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172366005">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring BFD for an IS-IS Process</title>
</head>
<body><a name="EN-US_TASK_0172366005"></a><a name="EN-US_TASK_0172366005"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring BFD for an IS-IS Process</h1>
<div class="taskbody"><p>By configuring BFD for an IS-IS process, you can set parameters for dynamic BFD sessions and enable dynamic BFD for IS-IS on all IS-IS interfaces.</p>
<div class="steps"><a name="EN-US_TASK_0172366005__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=isis"><b><span class="cmdname">isis</span></b></a> <i><span class="varname">process-id</span></i></span></span><p><p>The IS-IS view is displayed.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=bfd+session-up+check"><b><span class="cmdname">bfd session-up check</span></b></a></span><p><p>BFD session check is configured for the IS-IS process.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>When the Layer 2 network is running normally, IS-IS neighbor relationships can be established and routes can be delivered. However, if the Layer 3 network is unreachable, upper-layer traffic loss occurs. To resolve this problem, configure BFD session check for an IS-IS process using the <a href="cmdqueryname=bfd+session-up+check"><b><span class="cmdname">bfd session-up check</span></b></a> command. This ensures that an IS-IS neighbor relationship is established only when the BFD session is up on corresponding interfaces. After this function is configured, it applies only to the neighbor relationships to be established, not to existing neighbor relationships.</p>
</div></div>
</p></li><li><span>Run <a href="cmdqueryname=bfd+all-interfaces+enable"><b><span class="cmdname">bfd all-interfaces enable</span></b></a></span><p><p>BFD is enabled for the IS-IS process to establish BFD sessions.</p>
</p><p><p>BFD must be enabled globally before you perform this step. If BFD is enabled globally, this step is performed, and the status of neighbors is up (or the DIS is up in the case of a broadcast network), default BFD parameters are used by all interfaces in the IS-IS process to establish BFD sessions.</p>
</p></li><li><span>(Optional) If you need to set BFD parameters for establishing a BFD session, run the <a href="cmdqueryname=bfd+all-interfaces"><b><span class="cmdname">bfd all-interfaces</span></b></a> { <strong><span>min-rx-interval</span></strong> <i><span class="varname">receive-interval</span></i> | <strong><span>min-tx-interval</span></strong> <i><span class="varname">transmit-interval</span></i> | <strong><span>detect-multiplier</span></strong> <i><span class="varname">multiplier-value</span></i><span> | <strong><span>frr-binding</span></strong></span><span> | <strong><span>tos-exp</span></strong> <i><span class="varname">tosexp-value</span></i></span> } <sup>*</sup> command.</span><p><div class="p">BFD detection intervals are calculated as follows:<ul><li>Effective interval at which BFD packets are sent by the local end = MAX { Configured minimum interval at which BFD packets are sent by the local end, Configured minimum interval at which BFD packets are received by the remote end }</li><li>Effective interval at which BFD packets are received by the local end = MAX { Configured minimum interval at which BFD packets are sent by the remote end, Configured minimum interval at which BFD packets are received by the local end }</li><li>Effective detection interval on the local end = Effective interval at which BFD packets are received by the local end x Detection multiplier configured on the remote end</li></ul>
</div>
<p>If <strong><span>tos-exp</span></strong> <i><span class="varname">tosexp-value</span></i> is specified, a priority is configured for all IS-IS BFD packets in the current process.</p>
</p></li><li><span>(Optional) Disable a specified interface from creating a BFD session.</span><p><p>After BFD is configured for an IS-IS process, all interfaces on which neighbor relationships are up in the IS-IS process create BFD sessions. If BFD is not required on specific interfaces, disable these interfaces from creating BFD sessions.</p>
</p><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span><p><p>The interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=isis+bfd+block"><b><span class="cmdname">isis bfd block</span></b></a></span><p><p>The interface is disabled from creating a BFD session.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=isis"><b><span class="cmdname">isis</span></b></a> <i><span class="varname">process-id</span></i></span><p><p>The IS-IS view is displayed.</p>
</p></li></ol>
</li><li><span>(Optional) Run <a href="cmdqueryname=bfd+all-interfaces+incr-cost"><b><span class="cmdname">bfd all-interfaces incr-cost</span></b></a> { <i><span class="varname">cost-value</span></i> | <strong><span>max-reachable</span></strong> } [ <strong><span>wtr</span></strong> <i><span class="varname">wtr-value</span></i> ]</span><p><p>The IS-IS process is enabled to adjust the cost based on the status of an associated BFD session.</p>
</p><p><p>If the function of adjusting the cost based on the status of an associated BFD session is configured both for a process and an interface, the configuration on the interface takes precedence.</p>
<p>The delay configured for an interface to restore the cost based on the BFD session status takes precedence over that configured for a process to restore the cost based on the BFD session status.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_0043.html">Configuring Dynamic BFD for IS-IS
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_0044.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_0047.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>