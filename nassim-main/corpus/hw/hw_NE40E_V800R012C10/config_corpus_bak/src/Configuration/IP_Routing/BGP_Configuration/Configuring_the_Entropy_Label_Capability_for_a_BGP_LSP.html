
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring the Entropy Label Capability for a BGP LSP">
<meta name="abstract" content="Configuring the entropy label capability for a BGP LSP helps equalize and improve the performance of load balancing.">
<meta name="description" content="Configuring the entropy label capability for a BGP LSP helps equalize and improve the performance of load balancing.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_4098.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_4104.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Route">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00615954">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0201537302">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring the Entropy Label Capability for a BGP LSP</title>
</head>
<body><a name="EN-US_TASK_0201537302"></a><a name="EN-US_TASK_0201537302"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring the Entropy Label Capability for a BGP LSP</h1>
<div class="taskbody"><p>Configuring the entropy label capability for a BGP LSP helps equalize and improve the performance of load balancing.</p>
<div class="context"><a name="EN-US_TASK_0201537302__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>On the network shown in <a href="#EN-US_TASK_0201537302__fig14980124412302">Figure 1</a>, an end-to-end BGP LSP is established between PE1 and PE2. In addition, an end-to-end VPNv4 IPv4 peer relationship is established between PE1 and PE2, an LDP LSP is established between PE1 and ASBR1, and an LDP LSP is established between ASBR2 and PE2. With the expansion of user networks, the load balancing technology is used to obtain higher bandwidth between nodes. However, load imbalance becomes increasingly severe on transit nodes. To improve load balancing performance, configure the entropy label capability for the BGP LSP on both PE1 and PE2.</p>
<div class="fignone" id="EN-US_TASK_0201537302__fig14980124412302"><a name="EN-US_TASK_0201537302__fig14980124412302"></a><a name="fig14980124412302"></a><span class="figcap"><b>Figure 1 </b>Load balancing performed on transit nodes</span><br><span><img class="vsd" src="figure/en-us_image_0201839367.png" width="NaN" height="NaN"></span></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0201537302__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i></span><p><p>The BGP view is displayed.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=ipv4-family+unicast"><b><span class="cmdname">ipv4-family</span></b></a> <strong><span>unicast</span></strong></span><p><p>The IPv4 unicast address family view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=peer+elc+padding"><b><span class="cmdname">peer</span></b></a> { <em>peerIpv4Addr</em> | <em>peerGroupName</em> } <strong>advertise-entropy-label</strong> <strong><span>elc</span></strong> [ <strong><span>padding</span></strong> <i><span class="varname">paddingValue</span></i> ]</span><p><p>The device is enabled to add the entropy label of the entropy label capability (ELC) type to BGP routes to be advertised to a specified peer or peer group.</p>
</p></li><li><span>Run <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> { <em>peerIpv4Addr</em> | <em>peerGroupName</em> } <strong>entropy-label</strong></span><p><p>The device is enabled to add the entropy label information to traffic to be forwarded to the specified peer or peer group.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0201537302__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>After the configuration is complete, verify it.</p>
<p>Run the <a href="cmdqueryname=display+bgp+routing-table"><b><span class="cmdname">display bgp routing-table</span></b></a> command to check the entropy label in BGP routes.</p>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3000.html">BGP Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_4098.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_4104.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>