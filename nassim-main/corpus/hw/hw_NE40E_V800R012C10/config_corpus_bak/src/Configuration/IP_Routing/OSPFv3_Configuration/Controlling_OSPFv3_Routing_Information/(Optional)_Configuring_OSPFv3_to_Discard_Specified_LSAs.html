
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring OSPFv3 to Discard Specified LSAs">
<meta name="abstract" content="You can configure a device to discard specified LSAs in an OSPFv3 process.">
<meta name="description" content="You can configure a device to discard specified LSAs in an OSPFv3 process.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2025.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2078.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2089.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Route">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="z00875216">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00875216">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001110945672">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring OSPFv3 to Discard Specified LSAs</title>
</head>
<body><a name="EN-US_TASK_0000001110945672"></a><a name="EN-US_TASK_0000001110945672"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring OSPFv3 to Discard Specified LSAs</h1>
<div class="taskbody"><p>You can configure a device to discard specified LSAs in an OSPFv3 process.</p>
<div class="context"><a name="EN-US_TASK_0000001110945672__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>OSPFv3 can be configured to discard specified LSAs in the following scenarios:</p>
<ul><li>When devices on the entire network restart repeatedly due to abnormal LSAs and you have located the LSA that causes protocol restarts, you can configure this function as a last resort to prevent the device from restarting continuously. However, if this function is incorrectly configured, routing loops may occur.</li><li>If an LSA is identified as an attack packet, which is not supposed to appear in the local area, and has caused serious problems, such as device restarts, you can configure this function to filter out the LSA under the condition that the attack source cannot be located temporarily and that the LSA does not affect topology path computation.</li><li>If an LSA is identified as an attack packet, which is not supposed to appear in the local area, and it affects topology path computation and has caused serious problems, such as network-wide device restarts, you can configure this function on each device to discard the LSA to prevent it from participating in network-wide calculation.<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>To filter out the LSA that affects topology path computation, you must ensure that it is removed from all the LSDBs on the entire network. Otherwise, routing loops may occur.</p>
</div></div>
</li><li>If an LSA is identified as an unreachable residual LSA and the device that advertised the LSA becomes permanently unreachable, you can configure this function to filter out the LSA upon reception under the condition that the LSA does not affect topology path computation.</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001110945672__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=ospfv3"><b><span class="cmdname">ospfv3</span></b></a> [ <i><span class="varname">process-id</span></i> ]</span><p><p>The OSPFv3 view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=ignore-receive-lsa+advertise-router"><b><span class="cmdname">ignore-receive-lsa advertise-router</span></b></a> <i><span class="varname">adv-rtr-id</span></i> [ <strong><span>lsa-type</span></strong> <i><span class="varname">type-value</span></i> [ <strong><span>area</span></strong> { <i><span class="varname">area-id</span></i> | <i><span class="varname">area-idipv4</span></i> } ] | <strong><span>link-state-id</span></strong> <i><span class="varname">ls-id</span></i> ] <sup>*</sup></span><p><p>The device is configured to discard LSAs of a specified type.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>You are not advised to run this command to filter out the LSAs that exist on the network as running this command may filter out normal LSAs.</li><li>This command cannot be used to defend against attacks as it goes against protocol processing rules and affects services. Therefore, exercise caution when running this command.</li><li>As an attack LSA can have any key, it is difficult to defend against the LSA using this command. Therefore, you are advised to directly isolate the attack source.</li><li>If this command is incorrectly configured, services cannot be restored even if the <a href="cmdqueryname=undo+ignore-receive-lsa+advertise-router"><b><span class="cmdname">undo ignore-receive-lsa advertise-router</span></b></a> <i><span class="varname">adv-rtr-id</span></i> [ <strong><span>lsa-type</span></strong> <i><span class="varname">type-value</span></i> [ <strong><span>area</span></strong> { <i><span class="varname">area-id</span></i> | <i><span class="varname">area-idipv4</span></i> } ] | <strong><span>link-state-id</span></strong> <i><span class="varname">ls-id</span></i> ] * command is run. In this case, you may need to reset the process or neighbor to restore services.</li><li>If the fault is caused by a bug, you are advised to run this command temporarily. After the patch is installed, run the <a href="cmdqueryname=undo+ignore-receive-lsa+advertise-router"><b><span class="cmdname">undo ignore-receive-lsa advertise-router</span></b></a> <i><span class="varname">adv-rtr-id</span></i> [ <strong><span>lsa-type</span></strong> <i><span class="varname">type-value</span></i> [ <strong><span>area</span></strong> { <i><span class="varname">area-id</span></i> | <i><span class="varname">area-idipv4</span></i> } ] | <strong><span>link-state-id</span></strong> <i><span class="varname">ls-id</span></i> ] * command immediately and check whether services are affected. If services are affected, re-establish all neighbor relationships to restore services.</li></ul>
</div></div>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2025.html">Controlling OSPFv3 Routing Information
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2078.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2089.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>