
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring OSPF to Import External Routes">
<meta name="abstract" content="Importing the routes discovered by other routing protocols can enrich OSPF routing information.">
<meta name="description" content="Importing the routes discovered by other routing protocols can enrich OSPF routing information.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_route-policy_cfg_0022.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_route-policy_cfg_0038.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_route-policy_cfg_0040.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00556928,w00606909,route-policyvrp,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Route Policy">
<meta name="featuretype" content="IP Route">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Route Policy">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="Route Policy">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="Route Policy">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="z00809835">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="h00414125">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172366584">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring OSPF to Import External Routes</title>
</head>
<body><a name="EN-US_TASK_0172366584"></a><a name="EN-US_TASK_0172366584"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring OSPF to Import External Routes</h1>
<div class="taskbody"><p>Importing the routes discovered by other routing protocols can enrich OSPF routing information.</p>
<div class="context"><a name="EN-US_TASK_0172366584__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>OSPF provides loop-free intra-area routes and inter-area routes; however, OSPF cannot prevent external routing loops. Therefore, you should exercise caution when configuring OSPF to import external routes.</p>
<p>Perform the following operations on the <span class="keyword">Router</span> that functions as the ASBR running OSPF:</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172366584__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure OSPF to import the routes discovered by other protocols.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=ospf"><b><span class="cmdname">ospf</span></b></a> [ <i><span class="varname">process-id</span></i> ]</span><p><p>An OSPF process is started, and the OSPF view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=import-route"><b><span class="cmdname">import-route</span></b></a> { <strong><span>bgp</span></strong> [ <strong><span>permit-ibgp</span></strong> ] | <strong><span>direct</span></strong> | <strong><span>rip</span></strong> [ <i><span class="varname">process-id-rip</span></i> ] | <strong><span>static</span></strong> | <strong><span>isis</span></strong> [ <i><span class="varname">process-id-isis</span></i> ] | <strong><span>ospf</span></strong> [ <i><span class="varname">process-id-ospf</span></i> ] } [ <strong><span>cost</span></strong> <i><span class="varname">cost</span></i> | <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> | <strong><span>tag</span></strong> <i><span class="varname">tag</span></i> | <strong><span>type</span></strong> <i><span class="varname">type</span></i> ] <sup>*</sup></span><p><p>External routes are imported.</p>
</p><p><ul><li>The <strong><span>cost</span></strong> <i><span class="varname">cost</span></i> parameter specifies the cost of a route.</li><li>The <strong><span>type</span></strong> <i><span class="varname">type</span></i> parameter specifies the type of a route. It can be 1 or 2.</li><li>The <strong><span>tag</span></strong> <i><span class="varname">tag</span></i> parameter specifies the tag in the external LSA.</li><li>The <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> parameter specifies the name of a route-policy.</li></ul>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Set parameters for OSPF to import routes.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=ospf"><b><span class="cmdname">ospf</span></b></a> [ <i><span class="varname">process-id</span></i> ]</span><p><p>An OSPF process is started, and the OSPF view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=default"><b><span class="cmdname">default</span></b></a> { <strong><span>cost</span></strong> { <i><span class="varname">cost</span></i> | <strong><span>inherit-metric</span></strong> } | <strong><span>tag</span></strong> <i><span class="varname">tag</span></i> | <strong><span>type</span></strong> <i><span class="varname">type</span></i> } <sup>*</sup></span><p><p>The default parameter (cost, tag, and type) values are configured for imported routes</p>
</p><p><ul><li>The <strong><span>cost</span></strong> <i><span class="varname">cost</span></i> parameter specifies the default cost of the external routes imported by OSPF.</li><li>The <strong><span>inherit-metric</span></strong> parameter retains the original costs of the imported routes. If the cost is not specified, the default cost set through the <a href="cmdqueryname=default"><b><span class="cmdname">default</span></b></a> command is used as the cost of the imported routes.</li></ul>
<p>When OSPF imports external routes, you can set default values for some additional parameters, such as the route cost, tag, and type. The route tag is used to identify the protocol-related information. For example, it can be used to differentiate AS numbers when OSPF imports BGP routes.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><div class="p">You can run one of the following commands to set the cost of the imported routes. The following commands are listed in descending order of priority:<ul><li>Run the <a href="cmdqueryname=apply+cost"><b><span class="cmdname">apply cost</span></b></a> command in a route-policy to set the cost of the imported routes.</li><li>Run the <a href="cmdqueryname=import-route"><b><span class="cmdname">import-route</span></b></a> command for OSPF to set the cost of the imported routes.</li><li>Run the <a href="cmdqueryname=default"><b><span class="cmdname">default</span></b></a> command to set the default cost of the imported routes.</li></ul>
</div>
</div></div>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_route-policy_cfg_0022.html">Applying Filters to Imported Routes
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_route-policy_cfg_0038.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_route-policy_cfg_0040.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>