
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an Authentication Mode for RIP-2 Packets">
<meta name="abstract" content="RIP-2 supports authentication for protocol packets. You are advised to configure authentication to ensure system security.">
<meta name="description" content="RIP-2 supports authentication for protocol packets. You are advised to configure authentication to ensure system security.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_rip_cfg_0038.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_rip_cfg_0041.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,rip,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="RIP">
<meta name="featuretype" content="IP Route">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="RIP">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="RIP">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="RIP">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="z00875216">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00875216">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172365870">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring an Authentication Mode for RIP-2 Packets</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0172365870"></a><a name="EN-US_TASK_0172365870"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an Authentication Mode for RIP-2 Packets</h1>
<div class="taskbody"><p>RIP-2 supports authentication for protocol packets. You are advised to configure authentication to ensure system security.</p>
<div class="steps"><a name="EN-US_TASK_0172365870__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span><p><p>The interface view is displayed.</p>
</p></li><li><span>Perform the following operations as required:</span><p><ul><li><p>Run <span><a href="cmdqueryname=rip+authentication-mode"><b><span class="cmdname">rip authentication-mode</span></b></a> <strong><span>simple</span></strong> { <strong><span>plain</span></strong> <i><span class="varname">plain-text</span></i> | [ <strong><span>cipher</span></strong> ] <i><span class="varname">password-key</span></i> }</span></p>
<p>Simple authentication is configured for RIP-2 packets.</p>
<p>In simple authentication mode, the password in simple text mode is transmitted along with each authentication packet. Therefore, simple authentication is not recommended on networks requiring high security.</p>
</li><li><p>Run <a href="cmdqueryname=rip+authentication-mode"><b><span class="cmdname">rip authentication-mode</span></b></a> <strong><span>md5</span></strong> { <strong><span>nonstandard</span></strong> { { <strong><span>plain</span></strong> <i><span class="varname">plain-text</span></i> | [ <strong><span>cipher</span></strong> ] <i><span class="varname">password-key</span></i> } <i><span class="varname">key-id</span></i> | <a href="cmdqueryname=keychain"><b><span class="cmdname">keychain</span></b></a> <i><span class="varname">keychain-name</span></i> } | <strong><span>usual</span></strong> { <strong><span>plain</span></strong> <i><span class="varname">plain-text</span></i> | [ <strong><span>cipher</span></strong> ] <i><span class="varname">password-key</span></i> } }</p>
<p>Message Digest 5 (MD5) authentication is configured for RIP-2 packets.</p>
<p>In MD5 authentication mode, the MD5 password is used for packet encapsulation and decapsulation. MD5 authentication is more secure than simple authentication.</p>
<p><strong><span>nonstandard</span></strong> supports nonstandard authentication packets.</p>
<p><strong><span>usual</span></strong> supports Internet Engineering Task Force (IETF) standard authentication packets.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>For the sake of security, using the HMAC-SHA256 algorithm rather than the MD5 algorithm is recommended.</p>
</div></div>
</li><li><p>Run <span><a href="cmdqueryname=rip+authentication-mode"><b><span class="cmdname">rip authentication-mode</span></b></a> <strong><span>hmac-sha256</span></strong> { <strong><span>plain</span></strong> <i><span class="varname">plain-text</span></i> | [ <strong><span>cipher</span></strong> ] <i><span class="varname">password-key</span></i> } <i><span class="varname">key-id</span></i></span></p>
<p>Hash Message Authentication Code for Secure Hash Algorithm 256 (HMAC-SHA256) authentication is configured.</p>
</li></ul>
<div class="notice"><span class="noticetitle"><img src="../../../../public_sys-resources/notice_3.0-en-us.png"> </span><div class="noticebody"><p>When configuring an authentication password, select the ciphertext mode because the password is saved in the configuration file as a plaintext if you select the plaintext mode, which has a high risk. To ensure device security, change the password periodically.</p>
<p>It is recommended that the password be at least eight characters long and contain at least two of the following character types: uppercase letters, lowercase letters, digits, and special characters.</p>
<p>For security purposes, you are not advised to use the weak security algorithm in RIP. If you need to use the weak security algorithm, run the <a href="cmdqueryname=undo+crypto+weak-algorithm+disable"><b><span class="cmdname">undo crypto weak-algorithm disable</span></b></a> command to enable the weak security algorithm function first.</p>
</div></div>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="result"><a name="EN-US_TASK_0172365870__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Result</h4>
<div class="p"><p>The following section describes the changes in the RIP neighbor relationship and data traffic during the upgrade from RIP-1 to RIP-2 with authentication.</p>
<div class="p"><strong>Scenario 1</strong>: <a href="#EN-US_TASK_0172365870__fig_dc_vrp_rip_cfg_004001">Figure 1</a> shows a P2P topology, and an upgrade is performed. <span class="keyword">Device</span>A and <span class="keyword">Device</span>B use the default configuration.<div class="fignone" id="EN-US_TASK_0172365870__fig_dc_vrp_rip_cfg_004001"><a name="EN-US_TASK_0172365870__fig_dc_vrp_rip_cfg_004001"></a><a name="fig_dc_vrp_rip_cfg_004001"></a><span class="figcap"><b>Figure 1 </b>RIP neighbor relationship over a P2P link</span><br><span><img class="vsd" src="images/fig_dc_vrp_rip_cfg_004001.png" width="NaN" height="NaN"></span></div>
</div>
<div class="p">With the default configuration, packet sending and receiving on one end of the P2P link are the same as those on the other end.<pre class="screen">Interface 1 on <span class="keyword">Device</span>A: (Default version or RIP-1-compatible version)
Send: RIP-1
Receive: RIP-1; RIP-2 in broadcast or multicast mode

Interface 2 on <span class="keyword">Device</span>B: (Default version or RIP-1-compatible version)
Send: RIP-1
Receive: RIP-1; RIP-2 in broadcast or multicast mode</pre>
</div>
<ul><li><p>Step 1: Configure authentication on interface 1 of <span class="keyword">Device</span>A.</p>
<pre class="screen">Interface 1 on <span class="keyword">Device</span>A: (Default version or RIP-1-compatible version)
Send: RIP-1
Receive: RIP-1; RIP-2 in broadcast or multicast mode, with authentication information

<span class="keyword">Device</span>B: (Default version or RIP-1-compatible version)
Send: RIP-1
Receive: RIP-1; RIP-2 in broadcast or multicast mode</pre>
<p>Authentication applies to RIP-2 packets, not to RIP-1 packets; however, the packets exchanged between <span class="keyword">Device</span>A and <span class="keyword">Device</span>B are RIP-1 packets. Therefore, the RIP neighbor relationship and data traffic remain unchanged after this step is performed.</p>
</li><li>Step 2: Configure the same authentication mode on interface 2 of <span class="keyword">Device</span>B.<pre class="screen">Interface 1 on <span class="keyword">Device</span>A: (Default version or RIP-1-compatible version)
Send: RIP-1
Receive: RIP-1; RIP-2 in broadcast or multicast mode, with authentication information

Interface 2 on <span class="keyword">Device</span>B: (Default version or RIP-1-compatible version)
Send: RIP-1
Receive: RIP-1; RIP-2 in broadcast or multicast mode, with authentication information</pre>
<p>Authentication applies to RIP-2 packets, not to RIP-1 packets; however, the packets exchanged between <span class="keyword">Device</span>A and <span class="keyword">Device</span>B are RIP-1 packets. Therefore, the RIP neighbor relationship and data traffic remain unchanged after this step is performed.</p>
</li><li>Step 3: Configure RIP-2 in broadcast mode on interface 1 of <span class="keyword">Device</span>A.<pre class="screen">Interface 1 on <span class="keyword">Device</span>A: (RIP-2 in broadcast mode)
Send: RIP-2 in broadcast mode, with authentication information
Receive: RIP-1; RIP-2 in broadcast or multicast mode, with authentication information

Interface 2 on <span class="keyword">Device</span>B: (Default version or RIP-1-compatible version)
Send: RIP-1
Receive: RIP-1; RIP-2 in broadcast or multicast mode, with authentication information</pre>
<p><span class="keyword">Device</span>A broadcasts RIP-2 packets with authentication information to <span class="keyword">Device</span>B. Because the same authentication mode is configured on <span class="keyword">Device</span>B, <span class="keyword">Device</span>B accepts these packets. <span class="keyword">Device</span>B sends RIP-1 packets without authentication information to <span class="keyword">Device</span>A, which accepts the RIP-1 packets although it runs RIP-2 (in broadcast mode with authentication information).</p>
<p>In this case, the neighbor relationship and data traffic are not affected.</p>
</li><li>Step 4: Configure RIP-2 in broadcast mode on interface 2 of <span class="keyword">Device</span>B.<pre class="screen">Interface 1 on <span class="keyword">Device</span>A: (RIP-2 in broadcast mode)
Send: RIP-2 in broadcast mode, with authentication information
Receive: RIP-1; RIP-2 in broadcast or multicast mode, with authentication information

Interface 2 on <span class="keyword">Device</span>B: (RIP-2 in broadcast mode)
Send: RIP-2 in broadcast mode, with authentication information
Receive: RIP-1; RIP-2 in broadcast or multicast mode, with authentication information</pre>
<p><span class="keyword">Device</span>A and <span class="keyword">Device</span>B exchange RIP-2 packets carrying authentication information in broadcast mode. Because authentication is configured on both <span class="keyword">Device</span>A and <span class="keyword">Device</span>B, both <span class="keyword">Device</span>A and <span class="keyword">Device</span>B can accept broadcast RIP-2 packets. In this case, the neighbor relationship and data traffic are not affected.</p>
</li><li>Step 5: Configure RIP-2 on interface 1 of <span class="keyword">Device</span>A.<pre class="screen">Interface 1 on <span class="keyword">Device</span>A: (RIP-2 in broadcast mode)
Send: RIP-2 in multicast mode, with authentication information
Receive: RIP-2 in broadcast and multicast mode, with authentication information

Interface 2 on <span class="keyword">Device</span>B:
Send: RIP-2 in broadcast mode, with authentication information
Receive: RIP-1; RIP-2 in broadcast or multicast mode, with authentication information</pre>
<p><span class="keyword">Device</span>A and <span class="keyword">Device</span>B exchange RIP-2 packets carrying authentication information in multicast mode. Because authentication has been configured on <span class="keyword">Device</span>B, <span class="keyword">Device</span> B accepts the packets from <span class="keyword">Device</span>A. <span class="keyword">Device</span>B broadcasts RIP-2 packets with authentication information to <span class="keyword">Device</span>A, which accepts the packets although it runs RIP-2. In this case, the neighbor relationship and data traffic are not affected.</p>
</li><li>Step 6: Configure RIP-2 on interface 2 of <span class="keyword">Device</span>B.<pre class="screen">Interface 1 on <span class="keyword">Device</span>A: (RIP-2)
Send: RIP-2 in multicast mode, with authentication information
Receive: RIP-2 in multicast or broadcast mode, with authentication information

Interface 2 on <span class="keyword">Device</span>B: (RIP-2)
Send: RIP-2 in multicast mode, with authentication information
Receive: RIP-2 in multicast or broadcast mode, with authentication information</pre>
<p><span class="keyword">Device</span>A and <span class="keyword">Device</span>B exchange RIP-2 packets carrying authentication information in multicast mode. Because authentication is configured on <span class="keyword">Device</span>A and <span class="keyword">Device</span>B, they can exchange the multicast RIP-2 packets. In this case, the neighbor relationship and data traffic are not affected.</p>
</li></ul>
<div class="p"><strong>Scenario 2</strong>: <a href="#EN-US_TASK_0172365870__fig_dc_vrp_rip_cfg_004002">Figure 2</a> shows a broadcast topology, and an upgrade from RIP-1 (or RIP-1-compatible version) to RIP-2 is performed on devices.<div class="fignone" id="EN-US_TASK_0172365870__fig_dc_vrp_rip_cfg_004002"><a name="EN-US_TASK_0172365870__fig_dc_vrp_rip_cfg_004002"></a><a name="fig_dc_vrp_rip_cfg_004002"></a><span class="figcap"><b>Figure 2 </b>RIP neighbor relationship over a broadcast link</span><br><span><img class="vsd" src="images/fig_dc_vrp_rip_cfg_004002.png" width="NaN" height="NaN"></span></div>
<pre class="screen">Interface 2 on <span class="keyword">Device</span>B: (Default version or RIP-1-compatible version)
Send: RIP-1
Receive: RIP-1; RIP-2 in multicast or broadcast mode

Interface 1 on <span class="keyword">Device</span>A: (RIP-1)
Send: RIP-1
Receive: RIP-1

Interface 3 on <span class="keyword">Device</span>C: (RIP-1)
Send: RIP-1
Receive: RIP-1</pre>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>All devices in the networking use interface-level RIP configuration.</p>
</div></div>
</div>
<ul><li><p>Step 1: Configure authentication on <span class="keyword">Device</span>A.</p>
<pre class="screen">Interface 2 on <span class="keyword">Device</span>B: (Default version or RIP-1-compatible version)
Send: RIP-1
Receive: RIP-1; RIP-2 in multicast or broadcast mode

Interface 1 on <span class="keyword">Device</span>A: (RIP-1)
Send: RIP-1
Receive: RIP-1

Interface 3 on <span class="keyword">Device</span>C: (RIP-1)
Send: RIP-1
Receive: RIP-1</pre>
<p>Authentication applies to RIP-2 packets, not to RIP-1 packets. Therefore, the authentication on a RIP-1 interface does not affect RIP-1 packets.</p>
</li><li>Step 2: Configure authentication on <span class="keyword">Device</span>C.<pre class="screen">Interface 2 on <span class="keyword">Device</span>B: (Default version or RIP-1-compatible version)
Send: RIP-1
Receive: RIP-1; RIP-2 in multicast or broadcast mode

Interface 1 on <span class="keyword">Device</span>A: (RIP-1)
Send: RIP-1
Receive: RIP-1

Interface 3 on <span class="keyword">Device</span>C: (RIP-1)
Send: RIP-1
Receive: RIP-1</pre>
<p>Authentication applies to RIP-2 packets, not to RIP-1 packets. Therefore, the authentication on a RIP-1 interface does not affect RIP-1 packets.</p>
</li><li>Step 3: Configure authentication on <span class="keyword">Device</span>B.<pre class="screen">Interface 2 on <span class="keyword">Device</span>B: (Default version or RIP-1-compatible version)
Send: RIP-1
Receive: RIP-1; RIP-2 in multicast or broadcast mode, with authentication information

Interface 1 on <span class="keyword">Device</span>A: (RIP-1)
Send: RIP-1
Receive: RIP-1

Interface 3 on <span class="keyword">Device</span>C: (RIP-1)
Send: RIP-1
Receive: RIP-1</pre>
<p>Authentication applies to RIP-2 packets, not to RIP-1 packets. Therefore, the authentication on an interface that runs RIP of the default version (RIP-1) does not affect RIP-1 packets. If RIP-2 packets are received, they are accepted only after they are authenticated. No RIP-2 packets are sent in this scenario. Therefore, the RIP neighbor relationships and data traffic remain unchanged after this step is performed.</p>
</li><li>Step 4: Run the <strong>undo version</strong> command on <span class="keyword">Device</span>A.<pre class="screen">Interface 2 on <span class="keyword">Device</span>B: (Default version or RIP-1-compatible version)
Send: RIP-1
Receive: RIP-1; RIP-2 in multicast or broadcast mode, with authentication information

Interface 1 on <span class="keyword">Device</span>A: (Default version or RIP-1-compatible version)
Send: RIP-1
Receive: RIP-1; RIP-2 in multicast or broadcast mode, with authentication information

Interface 3 on <span class="keyword">Device</span>C: (RIP-1)
Send: RIP-1
Receive: RIP-1</pre>
<p>If the <a href="cmdqueryname=undo+rip+version+1"><b><span class="cmdname">undo rip version 1</span></b></a> command is run on the interface of <span class="keyword">Device</span>B, the interface uses RIP of the default version (RIP-1) or RIP-1-compatible version. All the devices exchange RIP-1 packets in this scenario. Therefore, the RIP neighbor relationships and data traffic remain unchanged after this step is performed.</p>
</li><li>Step 5: Run the <strong>undo version</strong> command on <span class="keyword">Device</span>C.<pre class="screen">Interface 2 on <span class="keyword">Device</span>B: (Default version or RIP-1-compatible version)
Send: RIP-1
Receive: RIP-1; RIP-2 in multicast or broadcast mode, with authentication information

Interface 1 on <span class="keyword">Device</span>A: (Default version or RIP-1-compatible version)
Send: RIP-1
Receive: RIP-1; RIP-2 in multicast or broadcast mode, with authentication information

Interface 3 on <span class="keyword">Device</span>C: (Default version or RIP-1-compatible version)
Send: RIP-1
Receive: RIP-1; RIP-2 in multicast or broadcast mode, with authentication information</pre>
<p>If the <a href="cmdqueryname=undo+rip+version+1"><b><span class="cmdname">undo rip version 1</span></b></a> command is run on the interface of <span class="keyword">Device</span>C, the interface uses RIP-1 (default version) or RIP-1-compatible version. All the devices exchange RIP-1 packets in this scenario. Therefore, the RIP neighbor relationships and data traffic remain unchanged after this step is performed.</p>
</li><li>Step 6: Configure RIP-2 in broadcast mode on <span class="keyword">Device</span>A.<pre class="screen">Interface 2 on <span class="keyword">Device</span>B: (Default version or RIP-1-compatible version)
Send: RIP-1
Receive: RIP-1; RIP-2 in multicast or broadcast mode, with authentication information

Interface 1 on <span class="keyword">Device</span>A: (RIP-2 in broadcast mode)
Send: RIP-2 in broadcast mode, with authentication information
Receive: RIP-1; RIP-2 in multicast or broadcast mode, with authentication information

Interface 3 on <span class="keyword">Device</span>C: (Default version or RIP-1-compatible version)
Send: RIP-1
Receive: RIP-1; RIP-2 in multicast or broadcast mode, with authentication information</pre>
<p>If the <a href="cmdqueryname=rip+version+2+broadcast"><b><span class="cmdname">rip version 2 broadcast</span></b></a> command is run on the interface of <span class="keyword">Device</span>A, the interface broadcasts RIP-2 packets with authentication information. Because authentication is configured on other devices, they accept the RIP-2 packets from <span class="keyword">Device</span>A and respond with RIP-1 packets. <span class="keyword">Device</span>A accepts these RIP-1 packets. Therefore, the RIP neighbor relationships and data traffic remain unchanged after this step is performed.</p>
</li><li>Step 7: Configure RIP-2 in broadcast mode on <span class="keyword">Device</span>C.<pre class="screen">Interface 2 on <span class="keyword">Device</span>B: (Default version or RIP-1-compatible version)
Send: RIP-1
Receive: RIP-1; RIP-2 in multicast or broadcast mode, with authentication information

Interface 1 on <span class="keyword">Device</span>A: (RIP-2 in broadcast mode)
Send: RIP-2 in broadcast mode, with authentication information
Receive: RIP-1; RIP-2 in multicast or broadcast mode, with authentication information

Interface 3 on <span class="keyword">Device</span>C: (RIP-2 in broadcast mode)
Send: RIP-2 in broadcast mode, with authentication information
Receive: RIP-1; RIP-2 in multicast or broadcast mode, with authentication information</pre>
<p>If the <a href="cmdqueryname=rip+version+2+broadcast"><b><span class="cmdname">rip version 2 broadcast</span></b></a> command is run on the interface of <span class="keyword">Device</span>C, the interface broadcasts RIP-2 packets with authentication information. Because authentication is configured on other devices, they accept the RIP-2 packets from <span class="keyword">Device</span>C. <span class="keyword">Device</span> B still broadcasts RIP-1 packets. Upon receipt of these packets, <span class="keyword">Device</span>A and <span class="keyword">Device</span>C accept them. Therefore, the RIP neighbor relationships and data traffic remain unchanged after this step is performed.</p>
</li><li>Step 8: Configure RIP-2 in broadcast mode on <span class="keyword">Device</span>B.<pre class="screen">Interface 2 on <span class="keyword">Device</span>B: (RIP-2 in broadcast mode)
Send: RIP-2 in broadcast mode, with authentication information
Receive: RIP-1; RIP-2 in multicast or broadcast mode, with authentication information

Interface 1 on <span class="keyword">Device</span>A: (RIP-2 in broadcast mode)
Send: RIP-2 in broadcast mode, with authentication information
Receive: RIP-1; RIP-2 in multicast or broadcast mode, with authentication information

Interface 3 on <span class="keyword">Device</span>C: (RIP-2 in broadcast mode)
Send: RIP-2 in broadcast mode, with authentication information
Receive: RIP-1; RIP-2 in multicast or broadcast mode, with authentication information</pre>
<p>If the <a href="cmdqueryname=rip+version+2+broadcast"><b><span class="cmdname">rip version 2 broadcast</span></b></a> command is run on the interface of <span class="keyword">Device</span>B, the interface broadcasts RIP-2 packets with authentication information. Because authentication is configured on other devices, they accept the RIP-2 packets from <span class="keyword">Device</span>B and also broadcast RIP-2 packets with authentication information. All the devices accept packets from each other. Therefore, the RIP neighbor relationships and data traffic remain unchanged after this step is performed.</p>
</li><li>Step 9: Configure RIP-2 on <span class="keyword">Device</span>A.<pre class="screen">Interface 2 on <span class="keyword">Device</span>B: (RIP-2 in broadcast mode)
Send: RIP-2 in broadcast mode, with authentication information
Receive: RIP-1; RIP-2 in multicast or broadcast mode, with authentication information

Interface 1 on <span class="keyword">Device</span>A: (RIP-2)
Send: RIP-2 in multicast mode, with authentication information
Receive: RIP-2 in multicast or broadcast mode, with authentication information

Interface 3 on <span class="keyword">Device</span>C: (RIP-2 in broadcast mode)
Send: RIP-2 in broadcast mode, with authentication information
Receive: RIP-1; RIP-2 in multicast or broadcast mode, with authentication information</pre>
<p>If the <a href="cmdqueryname=rip+version+2"><b><span class="cmdname">rip version 2</span></b></a> command is run on the interface of <span class="keyword">Device</span>A, the interface multicasts RIP-2 packets with authentication information. Because authentication is configured on other devices, they accept the RIP-2 packets from <span class="keyword">Device</span>A and broadcast RIP-2 packets with authentication information. All the interfaces accept packets from each other. Therefore, the RIP neighbor relationships and data traffic remain unchanged after this step is performed.</p>
</li><li>Step 10: Configure RIP-2 on <span class="keyword">Device</span>C.<pre class="screen">Interface 2 on <span class="keyword">Device</span>B: (RIP-2 in broadcast mode)
Send: RIP-2 in broadcast mode, with authentication information
Receive: RIP-1; RIP-2 in multicast or broadcast mode, with authentication information

Interface 1 on <span class="keyword">Device</span>A: (RIP-2)
Send: RIP-2 in multicast mode, with authentication information
Receive: RIP-2 in multicast or broadcast mode, with authentication information

Interface 3 on <span class="keyword">Device</span>C: (RIP-2)
Send: RIP-2 in multicast mode, with authentication information
Receive: RIP-2 in multicast or broadcast mode, with authentication information</pre>
<p>If the <a href="cmdqueryname=rip+version+2"><b><span class="cmdname">rip version 2</span></b></a> command is run on the interface of <span class="keyword">Device</span>C, the interface multicasts RIP-2 packets with authentication information. Because authentication is configured on other devices, they accept the RIP-2 packets from <span class="keyword">Device</span>C. <span class="keyword">Device</span>B broadcasts RIP-2 packets with authentication information, and <span class="keyword">Device</span>A multicasts RIP-2 packets with authentication information. All the devices accept packets from each other. Therefore, the RIP neighbor relationships and data traffic remain unchanged after this step is performed.</p>
</li><li>Step 11: Configure RIP-2 on <span class="keyword">Device</span>B.<pre class="screen">Interface 2 on <span class="keyword">Device</span>B: (RIP-2)
Send: RIP-2 in multicast mode, with authentication information
Receive: RIP-2 in multicast or broadcast mode, with authentication information

Interface 1 on <span class="keyword">Device</span>A: (RIP-2)
Send: RIP-2 in multicast mode, with authentication information
Receive: RIP-2 in multicast or broadcast mode, with authentication information

Interface 3 on <span class="keyword">Device</span>C: (RIP-2)
Send: RIP-2 in multicast mode, with authentication information
Receive: RIP-2 in multicast or broadcast mode, with authentication information</pre>
<p>If the <a href="cmdqueryname=rip+version+2"><b><span class="cmdname">rip version 2</span></b></a> command is run on the interface of <span class="keyword">Device</span>B, the interface multicasts RIP-2 packets with authentication information. Because authentication is configured on other devices, they accept the RIP-2 packets from <span class="keyword">Device</span>B and multicast RIP-2 packets with authentication information. All the devices accept packets from each other. Therefore, the RIP neighbor relationships and data traffic remain unchanged after this step is performed.</p>
</li></ul>
<p><strong>Scenario 3</strong>: RIP-2 or RIP-2 in broadcast mode is enabled on all devices.</p>
<div class="p">In this scenario, if RIP authentication is configured on all devices, packets may be discarded in the following cases because authentication configuration synchronization cannot be ensured during authentication:<ol><li><p>RIP packets with authentication information are received by interfaces without authentication configuration.</p>
</li><li><p>RIP packets without authentication information are received by interfaces with authentication configuration.</p>
</li></ol>
</div>
<p>After all the configurations are performed, RIP packets are authenticated and accepted by all interfaces with authentication configuration. When the default timer is used, RIP considers a route invalid only if it does not receive any Update packet within six update intervals. Therefore, if all the configurations are completed within the six update intervals, no traffic is interrupted.</p>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_rip_cfg_0038.html">Improving the RIP Network Security
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_rip_cfg_0041.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>