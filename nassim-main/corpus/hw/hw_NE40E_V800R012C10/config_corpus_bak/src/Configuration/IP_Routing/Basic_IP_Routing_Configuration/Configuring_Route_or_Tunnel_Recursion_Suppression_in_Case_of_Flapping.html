
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Route or Tunnel Recursion Suppression in Case of Flapping">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ip-route_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ip-route_cfg_0067.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ip-route_cfg_0020.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00556928,ip-routevrp,s00526617,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IP Routing Basis">
<meta name="featuretype" content="IP Route">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IP Routing Basis">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="IP Routing Basis">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="z00809835">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="ccms">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172365369">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Route or Tunnel Recursion Suppression in Case of Flapping</title>
</head>
<body><a name="EN-US_TASK_0172365369"></a><a name="EN-US_TASK_0172365369"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Route or Tunnel Recursion Suppression in Case of Flapping</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0172365369__1.3.1"></a><a name="1.3.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>In route or tunnel recursion scenarios, if a route or tunnel flaps frequently, services that depend on the route or tunnel perform recursion frequently, causing frequent route updates. As a result, the CPU usage of the system keeps increasing. To solve the problem, enable route or tunnel recursion suppression in case of flapping. The suppression reduces the route update frequency and the CPU usage. To configure suppression periods for route or tunnel recursion, run the <a href="cmdqueryname=route+recursive-lookup+delay"><b><span class="cmdname">route recursive-lookup delay</span></b></a> command.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172365369__1.3.2"></a><a name="1.3.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring route or tunnel recursion suppression in case of flapping, complete the following tasks:</p>
<ul><li><p>Configure link layer protocol parameters and IPv4 addresses for interfaces and ensure that the link layer protocol of the interfaces is Up.</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172365369__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=undo+route+recursive-lookup+delay+disable"><b><span class="cmdname">undo route recursive-lookup delay disable</span></b></a></span></span><p><p>Route or tunnel recursion suppression in case of flapping is enabled.</p>
</p><p><p>To disable route or tunnel recursion suppression in case of flapping, run the <a href="cmdqueryname=route+recursive-lookup+delay+disable"><b><span class="cmdname">route recursive-lookup delay disable</span></b></a> command.</p>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=route+recursive-lookup+delay"><b><span class="cmdname">route recursive-lookup delay</span></b></a> <strong><span>start-time</span></strong> <i><span class="varname">start-time</span></i> <strong><span>increase-time</span></strong> <i><span class="varname">increase-time</span></i> <strong><span>max-time</span></strong> <i><span class="varname">max-time</span></i></span></span><p><p>Suppression periods are configured for route or tunnel recursion, including the initial suppression period, incremental suppression period since the second suppression, and the maximum suppression period.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0172365369__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Checking the Configurations</h4><p>Run the <a href="cmdqueryname=display+current-configuration"><b><span class="cmdname">display current-configuration</span></b></a> <strong><span>|</span></strong> <strong><span>include</span></strong> <strong><span>route recursive-lookup delay</span></strong> command to check configurations.</p>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ip-route_cfg_0000.html">Basic IP Routing Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ip-route_cfg_0067.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ip-route_cfg_0020.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>