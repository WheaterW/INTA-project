
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Enabling the DHCPv6 Server Function">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcpv6_server_cfg_0030.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcpv6_server_cfg_0033.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcpv6_server_cfg_0035.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,z00485179,w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="DHCP v6">
<meta name="featuretype" content="IP Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="DHCP v6">
<meta name="featuretype" content="IP Services">
<meta name="featurename" content="DHCP v6">
<meta name="featuretype" content="IP Services">
<meta name="featurename" content="DHCP v6">
<meta name="featuretype" content="IP Services">
<meta name="OWNER" content="z00485179,x00504385">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="x00504385">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001289830888">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Enabling the DHCPv6 Server Function</title>
</head>
<body><a name="EN-US_TASK_0000001289830888"></a><a name="EN-US_TASK_0000001289830888"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Enabling the DHCPv6 Server Function</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001289830888__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>There are two ways in which you can enable the DHCPv6 server function: specifying an address pool or enabling automatic searching for an address pool.</p>
<ul><li>Specifying an address pool in the interface view.<div class="p">After you enable the DHCPv6 server function on an interface and bind an IPv6 address pool to it, the device assigns IPv6 addresses or other configuration parameters (such as the DNS server address) to the clients connected to this interface from the bound address pool when the interface receives DHCPv6 request messages from the clients.<ul><li>If a DHCPv6 server and clients reside on the same link (that is, a DHCPv6 relay agent does not exist), the device can assign IPv6 addresses or other configuration parameters (such as the DNS server address) to the clients.</li><li>If a DHCPv6 server and clients reside on different links (that is, a DHCPv6 relay agent exists), the device can assign IPv6 addresses or other configuration parameters (such as the DNS server address) to the clients in one network segment through the relay agent.</li></ul>
</div>
</li></ul>
<ul><li>Enabling automatic searching for an address pool in the interface view.<p>When a DHCPv6 server and clients reside on different links (that is, a DHCPv6 relay agent exists), only one IPv6 address pool can be specified on an interface. Therefore, configuration parameters such as IPv6 addresses can be assigned to the clients only in one network segment through the relay agent. To use the DHCPv6 relay agent to assign configuration parameters (such as IPv6 addresses) to DHCPv6 clients in multiple network segments, enable automatic searching for an address pool in the interface view. The server matches an appropriate address pool based on the link address in a relay message.</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001289830888__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span><p><p>The interface view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=ipv6+enable"><b><span class="cmdname">ipv6 enable</span></b></a></span><p><p>IPv6 is enabled on the interface.</p>
</p></li><li><span>Run <a href="cmdqueryname=ipv6+address"><b><span class="cmdname">ipv6 address</span></b></a> { <i><span class="varname">ipv6-address prefix-length</span></i> |<i><span class="varname">ipv6-address</span></i>/<i><span class="varname">prefix-length</span></i> }</span><p><p>A global unicast address is configured for the interface.</p>
</p></li><li><span>Run <a href="cmdqueryname=dhcpv6+server"><b><span class="cmdname">dhcpv6 server</span></b></a> { <i><span class="varname">pool-name</span></i> | <strong><span>auto-select</span></strong> } [ <strong><span>preference</span></strong> <i><span class="varname">preference-value</span></i> | <strong><span>rapid-commit</span></strong> | <strong><span>unicast</span></strong> ] <sup>*</sup></span><p><p>The DHCPv6 server function is enabled on the interface.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>You can specify the <strong><span>auto-select</span></strong> parameter to enable automatic searching for an address pool. If the existing configurations in the IPv6 address pool view cannot identify the link of a DHCPv6 client, you can run the <a href="cmdqueryname=link-address"><b><span class="cmdname">link-address</span></b></a> <em>ipv6-address</em>/<em>prefix-length</em> command to configure a link prefix, thereby defining the link scope of the client.</p>
</div></div>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0000001289830888__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Follow-up Procedure</h4>
<div class="p"><p>For clients (such as PCs) that automatically obtain IPv6 addresses based on IPv6 RA messages by default, flags in RA messages need to be configured on the client gateway. This is necessary so that the clients can obtain IPv6 addresses using DHCPv6. When the device functions as a client gateway, perform the following operations:</p>
<ul><li>When no DHCPv6 relay agent exists and the device functions as a client gateway:<ol><li>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a><p>The system view is displayed.</p>
</li><li>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i><p>The interface view is displayed.</p>
</li><li><p>Run <a href="cmdqueryname=undo+ipv6+nd+ra+halt"><b><span class="cmdname">undo ipv6 nd ra halt</span></b></a></p>
<p>The device is enabled to send RA messages.</p>
</li><li><p>Run <a href="cmdqueryname=ipv6+nd+autoconfig+managed-address-flag"><b><span class="cmdname">ipv6 nd autoconfig managed-address-flag</span></b></a></p>
<p>The managed address configuration flag of stateful address autoconfiguration in an RA message is configured.</p>
</li><li><p>Run <a href="cmdqueryname=ipv6+nd+autoconfig+other-flag"><b><span class="cmdname">ipv6 nd autoconfig other-flag</span></b></a></p>
<p>The other configuration flag of stateful address autoconfiguration in an RA message is configured.</p>
<p>After the managed address configuration and other configuration flags of stateful address autoconfiguration in an RA message are configured, the clients can obtain IPv6 addresses using DHCPv6.</p>
</li><li>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a><p>The configuration is committed.</p>
</li></ol>
</li><li><p>When a DHCPv6 relay agent exists and functions as a client gateway, perform the preceding operations on the DHCPv6 relay agent.</p>
</li></ul>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcpv6_server_cfg_0030.html">Configuring the DHCPv6 Server
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcpv6_server_cfg_0033.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcpv6_server_cfg_0035.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>