
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a DHCP Client">
<meta name="abstract" content="With the DHCP client function configured, a device uses DHCP to dynamically request an IP address from the DHCP server. This achieves appropriate assignment and centralized management of IP addresses.">
<meta name="description" content="With the DHCP client function configured, a device uses DHCP to dynamically request an IP address from the DHCP server. This achieves appropriate assignment and centralized management of IP addresses.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp-pnp_cfg_0019_1.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp_client_cfg_0002.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,z00485179,w00556928,w00606909,dhcpvrp">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="DHCP">
<meta name="featuretype" content="IP Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="DHCP">
<meta name="featuretype" content="IP Services">
<meta name="featurename" content="DHCP">
<meta name="featuretype" content="IP Services">
<meta name="OWNER" content="z00485179,x00504385">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="x00504385">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172364712">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring a DHCP Client</title>
</head>
<body><a name="EN-US_TASK_0172364712"></a><a name="EN-US_TASK_0172364712"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a DHCP Client</h1>
<div class="taskbody"><p>With the DHCP client function configured, a device uses DHCP to dynamically request an IP address from the DHCP server. This achieves appropriate assignment and centralized management of IP addresses.</p>
<div class="context"><a name="EN-US_TASK_0172364712__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Background</h4><p>The Dynamic Host Configuration Protocol (DHCP) dynamically assigns IP addresses to hosts and centrally manages host configurations. DHCP uses the client/server model. A client applies to the server for configuration parameters (such as an IP address), and the server replies with the requested configuration parameters.</p>
<p>Some DHCP clients use a fixed IP address for a long time, and some DHCP clients use a temporary IP address. After a DHCP client's lease time is expired, the DHCP server reclaims the IP address of the DHCP client and allocates this IP address to another DHCP client. You can configure an expected lease time for a DHCP client as required. In this case, while assigning an address lease time, the DHCP server compares the expected lease time with the address lease time of the current address pool and provides the DHCP client an appropriate lease time based on address assignment rules.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172364712__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring the DHCP client function, complete the following tasks:</p>
<p>Configure another device on the network as a DHCP server. For details, see <a href="dc_vrp_dhcp_server_cfg_0011.html">Configuring a DHCP Server</a>.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172364712__1.4.3"></a><a name="1.4.3"></a>
<div class="p"><h4 class="sectiontitle">Procedure</h4><ol><li><p>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></p>
<p>The system view is displayed.</p>
</li><li>(Optional) Run <a href="cmdqueryname=dhcpc+option60+redefined"><b><span class="cmdname">dhcpc option60 redefined</span></b></a> <i><span class="varname">option60Value</span></i><p>Option 60 to be carried in DHCP messages is configured.</p>
</li><li>(Optional) Run <a href="cmdqueryname=dhcpc+unicast-flag+enable"><b><span class="cmdname">dhcpc unicast-flag enable</span></b></a><p>The Bootp flags field value in a DHCP request message is set to 0x0000 (Unicast).</p>
<p>By default, DHCP request and response messages are broadcast ones. If the client requires the server to respond in unicast mode for security, run the <a href="cmdqueryname=dhcpc+unicast-flag+enable"><b><span class="cmdname">dhcpc unicast-flag enable</span></b></a> command to set the Bootp flags field value in a DHCP request message to 0x0000 (Unicast) before enabling the DHCP client function.</p>
</li><li><p>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type interface-number</span></i></p>
<p>The view of the interface to be enabled with the DHCP client function is displayed.</p>
</li><li><p>Run <a href="cmdqueryname=ip+address+dhcp-alloc"><b><span class="cmdname">ip address dhcp-alloc</span></b></a></p>
<p>The DHCP client function is enabled on the interface.</p>
<p>After the DHCP client function is enabled, pay attention to the following points:</p>
<ul><li><p>If multiple logical interfaces are planned to apply for addresses from the same DHCP server, you are advised to configure different MAC addresses for the logical interfaces. Otherwise, address application may fail.</p>
</li><li><p>When the DHCP client function is enabled on an interface, the DHCP client cannot process FORCERENEW messages.</p>
</li><li>When the DHCP client function is enabled on an interface, the dynamic IP address obtained by the DHCP client may conflict with the MAP public address segment. As such, ensure that IP addresses do not conflict or overlap during network planning.</li></ul>
</li><li><p>(Optional) Run <a href="cmdqueryname=dhcp+client+expected-lease"><b><span class="cmdname">dhcp client expected-lease</span></b></a> <i><span class="varname">lease-time</span></i></p>
<p>The expected IP address lease time for the DHCP client is configured.</p>
</li><li><p>(Optional) Run <a href="cmdqueryname=dhcpc+option60+redefined"><b><span class="cmdname">dhcpc option60 redefined</span></b></a> <i><span class="varname">option60Value</span></i></p>
<p>Option 60 to be carried in DHCP messages is configured.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If Option 60 is configured in both the system view and interface view, the configuration in the interface view takes effect.</p>
</div></div>
</li><li><p>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></p>
<p>The configuration is committed.</p>
</li></ol>
</div></div>
<div class="context"><a name="EN-US_TASK_0172364712__1.4.4"></a><a name="1.4.4"></a>
<div class="p"><h4 class="sectiontitle">Follow-up Procedure</h4><p>When a DHCP client no longer uses the assigned IP address, run the <a href="cmdqueryname=dhcp+release"><b><span class="cmdname">dhcp release</span></b></a> command so that the DHCP client proactively sends a DHCP Release message to the DHCP server to notify the DHCP server of releasing IP address. If this command is run in the system view, the IP addresses requested by all interfaces from the DHCP server are released. If this command is run in the interface view, only the IP address requested by the specific interface is released from the DHCP server.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172364712__1.4.5"></a><a name="1.4.5"></a>
<div class="p"><h4 class="sectiontitle">Verifying the Configuration</h4><ul><li><p>Run the <a href="cmdqueryname=display+dhcp+client-info"><b><span class="cmdname">display dhcp client-info</span></b></a> [ <strong><span>interface</span></strong> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> ] command to view status information of a DHCP client.</p>
</li></ul>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp_cfg_0000.html">DHCP Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp-pnp_cfg_0019_1.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp_client_cfg_0002.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>