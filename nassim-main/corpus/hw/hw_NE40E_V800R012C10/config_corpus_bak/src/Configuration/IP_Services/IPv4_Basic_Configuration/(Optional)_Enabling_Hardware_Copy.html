
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Enabling Hardware Copy">
<meta name="abstract" content="The hardware copy function allows a device to forward the protocol packets to be broadcast through hardware instead of sending them to the CPU, achieving fast forwarding.">
<meta name="description" content="The hardware copy function allows a device to forward the protocol packets to be broadcast through hardware instead of sending them to the CPU, achieving fast forwarding.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ipv4_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_cfg_5004.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_cfg_5006.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,z00485179,w00556928,w00606909,ipv4-basicvrp">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPv4">
<meta name="featurename" content="IP Traffic Monitoring">
<meta name="featuretype" content="IP Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv4">
<meta name="featurename" content="IP Traffic Monitoring">
<meta name="featuretype" content="IP Services">
<meta name="featurename" content="IPv4">
<meta name="featuretype" content="IP Services">
<meta name="OWNER" content="z00485179,z00648985">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00485179">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172364933">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Enabling Hardware Copy</title>
</head>
<body><a name="EN-US_TASK_0172364933"></a><a name="EN-US_TASK_0172364933"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Enabling Hardware Copy</h1>
<div class="taskbody"><p>The hardware copy function allows a device to forward the protocol packets to be broadcast through hardware instead of sending them to the CPU, achieving fast forwarding.</p>
<div class="context"><a name="EN-US_TASK_0172364933__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>If a lot of VLANs are configured on a super VLANIF interface, a dot1q VLAN tag termination sub-interface, or a QinQ VLAN tag termination sub-interface, the protocol packets to be forwarded will be broadcast to all the configured VLANs, which burdens the CPU. The hardware copy function allows the protocol packets to be broadcast through hardware, which reduces CPU performance consumption.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172364933__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Enable hardware copy either globally or on an interface. </span><p><ul><li><p>To enable hardware copy globally in the system view, run <a href="cmdqueryname=broadcast-copy+fast+enable"><b><span class="cmdname">broadcast-copy fast enable</span></b></a></p>
</li><li>To enable hardware copy on a dot1q VLAN tag termination sub-interface<span> or a QinQ VLAN tag termination sub-interface</span>, run the following commands:<ol type="a"><li><p>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type interface-number</span></i>.<i><span class="varname">subinterface-number</span></i></span></p>
<p>The sub-interface view is displayed.</p>
</li><li>Run either of the following commands:<ul><li><p>To configure the sub-interface as a dot1q VLAN tag termination sub-interface, run the <a href="cmdqueryname=encapsulation+dot1q-termination"><b><span class="cmdname">encapsulation dot1q-termination</span></b></a> command.</p>
</li><li><p>To configure the sub-interface as a QinQ VLAN tag termination sub-interface, run the <a href="cmdqueryname=encapsulation+qinq-termination"><b><span class="cmdname">encapsulation qinq-termination</span></b></a> command.</p>
</li></ul>
</li><li><p>Run <span><a href="cmdqueryname=broadcast-copy+fast+enable"><b><span class="cmdname">broadcast-copy fast enable</span></b></a></span></p>
<p>The hardware copy function is enabled.</p>
</li></ol>
</li><li>To enable hardware copy on a super VLANIF interface, run the following commands:<ol type="a"><li><p>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></p>
<p>The interface view is displayed.</p>
</li><li><p>Run <span><a href="cmdqueryname=vlan"><b><span class="cmdname">vlan</span></b></a> <i><span class="varname">vlan-id</span></i></span></p>
<p>The VLAN view is displayed.</p>
</li><li><p>Run <span><a href="cmdqueryname=aggregate-vlan"><b><span class="cmdname">aggregate-vlan</span></b></a></span></p>
<p>The VLAN is configured as a super VLAN.</p>
</li><li><p>Run <span><a href="cmdqueryname=interface+vlanif"><b><span class="cmdname">interface vlanif</span></b></a> <i><span class="varname">vlanif-id</span></i></span></p>
<p>The VLANIF interface view is displayed.</p>
</li><li><p>Run <span><a href="cmdqueryname=broadcast-copy+fast+enable"><b><span class="cmdname">broadcast-copy fast enable</span></b></a></span></p>
<p>The hardware copy function is enabled.</p>
</li></ol>
</li></ul>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ipv4_cfg_0000.html">IPv4 Basic Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_cfg_5004.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_cfg_5006.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>