
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a Rate Limit for Receiving ND Messages">
<meta name="abstract" content="">
<meta name="description" content="">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ipv6_cfg_0070.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_nd_cfg_0027.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="y00852169,x00504385">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="ND">
<meta name="featuretype" content="IP Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="ND">
<meta name="featuretype" content="IP Services">
<meta name="featurename" content="ND">
<meta name="featuretype" content="IP Services">
<meta name="featurename" content="ND">
<meta name="featuretype" content="IP Services">
<meta name="OWNER" content="y00852169">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="x00504385">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0273113262">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring a Rate Limit for Receiving ND Messages</title>
</head>
<body><a name="EN-US_TASK_0273113262"></a><a name="EN-US_TASK_0273113262"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a Rate Limit for Receiving ND Messages</h1>
<div class="taskbody"><p></p>
<div class="context"><a name="EN-US_TASK_0273113262__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>If a device is attacked, it receives a large number of ND or ND Miss messages within a short period. As a result, the device consumes many CPU resources to learn and respond to ND entries, affecting the processing of other services. To resolve this issue, configure a rate limit for receiving ND messages. After the configuration is complete, the device counts the number of ND messages received per period. If the number exceeds the configured limit, the device does not process excess ND messages.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0273113262__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Configure a rate limit for receiving ND messages in the system or interface view.</span><p><ul><li>In the system view, perform any of the following operations as needed:<ul><li>Run the <a href="cmdqueryname=ipv6+nd"><b><span class="cmdname">ipv6 nd</span></b></a> { <a href="cmdqueryname=na"><b><span class="cmdname">na</span></b></a> | <a href="cmdqueryname=ns"><b><span class="cmdname">ns</span></b></a> | <a href="cmdqueryname=ra"><b><span class="cmdname">ra</span></b></a> | <a href="cmdqueryname=rs"><b><span class="cmdname">rs</span></b></a> } <a href="cmdqueryname=anti-attack+rate-limit"><b><span class="cmdname">anti-attack rate-limit</span></b></a> <i><span class="varname">limit-number</span></i> command to configure a rate limit for receiving ND messages, that is, the number of ND messages that can be processed per second.</li><li>Run the <a href="cmdqueryname=ipv6+nd+miss+anti-attack+rate-limit"><b><span class="cmdname">ipv6 nd miss anti-attack rate-limit</span></b></a> <i><span class="varname">limit-number</span></i> command to configure a rate limit for receiving ND Miss messages, that is, the number of ND Miss messages that can be processed per second.</li><li>Run the <a href="cmdqueryname=ipv6+nd"><b><span class="cmdname">ipv6 nd</span></b></a> { <a href="cmdqueryname=na"><b><span class="cmdname">na</span></b></a> | <a href="cmdqueryname=ns"><b><span class="cmdname">ns</span></b></a> | <a href="cmdqueryname=ra"><b><span class="cmdname">ra</span></b></a> | <a href="cmdqueryname=rs"><b><span class="cmdname">rs</span></b></a> } <a href="cmdqueryname=anti-attack+rate-limit+source-mac"><b><span class="cmdname">anti-attack rate-limit source-mac</span></b></a> <i><span class="varname">mac-address</span></i> <a href="cmdqueryname=maximum"><b><span class="cmdname">maximum</span></b></a> <i><span class="varname">max-value</span></i> command to configure a rate limit for receiving ND messages based on a specified source MAC address, that is, the number of ND messages that can be processed per second based on a specified source MAC address.</li><li>Run the <a href="cmdqueryname=ipv6+nd"><b><span class="cmdname">ipv6 nd</span></b></a> { <a href="cmdqueryname=na"><b><span class="cmdname">na</span></b></a> | <a href="cmdqueryname=ns"><b><span class="cmdname">ns</span></b></a> | <a href="cmdqueryname=ra"><b><span class="cmdname">ra</span></b></a> | <a href="cmdqueryname=rs"><b><span class="cmdname">rs</span></b></a> } <a href="cmdqueryname=anti-attack+rate-limit+source-mac+all"><b><span class="cmdname">anti-attack rate-limit source-mac all</span></b></a> <a href="cmdqueryname=maximum"><b><span class="cmdname">maximum</span></b></a> <i><span class="varname">max-value</span></i> command to configure a rate limit for receiving ND messages based on any source MAC address, that is, the number of ND messages that can be processed per second based on any source MAC address.</li><li>Run the <a href="cmdqueryname=ipv6+nd"><b><span class="cmdname">ipv6 nd</span></b></a> { <a href="cmdqueryname=na"><b><span class="cmdname">na</span></b></a> | <a href="cmdqueryname=ns"><b><span class="cmdname">ns</span></b></a> | <a href="cmdqueryname=ra"><b><span class="cmdname">ra</span></b></a> | <a href="cmdqueryname=rs"><b><span class="cmdname">rs</span></b></a> } <a href="cmdqueryname=anti-attack+rate-limit+source-ip"><b><span class="cmdname">anti-attack rate-limit source-ip</span></b></a> <i><span class="varname">ipv6-address</span></i> <a href="cmdqueryname=maximum"><b><span class="cmdname">maximum</span></b></a> <i><span class="varname">max-value</span></i> command to configure a rate limit for receiving ND messages based on a specified source IPv6 address, that is, the number of ND messages that can be processed per second based on a specified source IPv6 address.</li><li>Run the <a href="cmdqueryname=ipv6+nd"><b><span class="cmdname">ipv6 nd</span></b></a> { <a href="cmdqueryname=na"><b><span class="cmdname">na</span></b></a> | <a href="cmdqueryname=ns"><b><span class="cmdname">ns</span></b></a> | <a href="cmdqueryname=ra"><b><span class="cmdname">ra</span></b></a> | <a href="cmdqueryname=rs"><b><span class="cmdname">rs</span></b></a> } <a href="cmdqueryname=anti-attack+rate-limit+source-ip+all"><b><span class="cmdname">anti-attack rate-limit source-ip all</span></b></a> <a href="cmdqueryname=maximum"><b><span class="cmdname">maximum</span></b></a> <i><span class="varname">max-value</span></i> command to configure a rate limit for receiving ND messages based on any source IPv6 address, that is, the number of ND messages that can be processed per second based on any source IPv6 address.</li><li>Run the <a href="cmdqueryname=ipv6+nd"><b><span class="cmdname">ipv6 nd</span></b></a> { <strong><span>ns</span></strong> | <strong><span>na</span></strong> | <strong><span>rs</span></strong> | <strong><span>ra</span></strong> } <strong><span>anti-attack</span></strong> <strong><span>rate-limit</span></strong> <strong><span>destination-ip</span></strong> <i><span class="varname">ipv6-address</span></i> <strong><span>maximum</span></strong> <i><span class="varname">max-value</span></i> command to configure a rate limit for receiving ND messages based on a specified destination IPv6 address, that is, the number of ND messages that can be processed per second based on a specified destination IPv6 address.</li><li>Run the <a href="cmdqueryname=ipv6+nd"><b><span class="cmdname">ipv6 nd</span></b></a> { <strong><span>ns</span></strong> | <strong><span>na</span></strong> } <strong><span>anti-attack</span></strong> <strong><span>rate-limit</span></strong> <strong><span>target-ip</span></strong> <i><span class="varname">ipv6-address</span></i> <strong><span>maximum</span></strong> <i><span class="varname">max-value</span></i> command to configure a rate limit for receiving ND messages based on a specified target IPv6 address, that is, the number of ND messages that can be processed per second based on a specified target IPv6 address.</li><li>Run the <a href="cmdqueryname=ipv6+nd"><b><span class="cmdname">ipv6 nd</span></b></a> { <strong><span>ns</span></strong> | <strong><span>na</span></strong> | <strong><span>rs</span></strong> | <strong><span>ra</span></strong> } <strong><span>anti-attack</span></strong> <strong><span>rate-limit</span></strong> <strong><span>destination-ip</span></strong> <strong><span>all</span></strong> <strong><span>maximum</span></strong> <i><span class="varname">max-value</span></i> command to configure a rate limit for receiving ND messages based on any destination IPv6 address, that is, the number of ND messages that can be processed per second based on any destination IPv6 address.</li><li>Run the <a href="cmdqueryname=ipv6+nd"><b><span class="cmdname">ipv6 nd</span></b></a> { <strong><span>ns</span></strong> | <strong><span>na</span></strong> } <strong><span>anti-attack</span></strong> <strong><span>rate-limit</span></strong> <strong><span>target-ip</span></strong> <strong><span>all</span></strong> <strong><span>maximum</span></strong> <i><span class="varname">max-value</span></i> command to configure a rate limit for receiving ND messages based on any target IPv6 address, that is, the number of ND messages that can be processed per second based on any target IPv6 address.</li><li>Run the <a href="cmdqueryname=ipv6+nd+miss+anti-attack+rate-limit+source-ip"><b><span class="cmdname">ipv6 nd miss anti-attack rate-limit source-ip</span></b></a> <i><span class="varname">ipv6-address</span></i> <strong><span>maximum</span></strong> <i><span class="varname">max-value</span></i> command to configure a rate limit for receiving ND Miss messages based on a specified source IPv6 address, that is, the number of ND Miss messages that can be processed per second based on a specified source IPv6 address.</li><li>Run the <a href="cmdqueryname=ipv6+nd+miss+anti-attack+rate-limit+source-ip+all+maximum"><b><span class="cmdname">ipv6 nd miss anti-attack rate-limit source-ip all maximum</span></b></a> <i><span class="varname">max-value</span></i> command to configure a rate limit for receiving ND Miss messages based on any source IPv6 address, that is, the number of ND Miss messages that can be processed per second based on any source IPv6 address.</li></ul>
</li><li>In the interface view, perform the following steps:<ol type="a"><li>Run the <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> command to enter the interface view.</li><li>Run the <a href="cmdqueryname=ipv6+enable"><b><span class="cmdname">ipv6 enable</span></b></a> command to enable the IPv6 function for the interface.</li><li>Perform any of the following operations as needed:<ul><li>Run the <a href="cmdqueryname=ipv6+nd"><b><span class="cmdname">ipv6 nd</span></b></a> { <a href="cmdqueryname=na"><b><span class="cmdname">na</span></b></a> | <a href="cmdqueryname=ns"><b><span class="cmdname">ns</span></b></a> | <a href="cmdqueryname=ra"><b><span class="cmdname">ra</span></b></a> | <a href="cmdqueryname=rs"><b><span class="cmdname">rs</span></b></a> } <a href="cmdqueryname=anti-attack+rate-limit"><b><span class="cmdname">anti-attack rate-limit</span></b></a> <i><span class="varname">limit</span></i> command to configure a rate limit for receiving ND messages, that is, the number of ND messages that can be processed per second.</li><li>Run the <a href="cmdqueryname=ipv6+nd+miss+anti-attack+rate-limit"><b><span class="cmdname">ipv6 nd miss anti-attack rate-limit</span></b></a> <i><span class="varname">limit</span></i> command to configure a rate limit for receiving ND Miss messages, that is, the number of ND Miss messages that can be processed per second.</li><li>Run the <a href="cmdqueryname=ipv6+nd"><b><span class="cmdname">ipv6 nd</span></b></a> { <a href="cmdqueryname=na"><b><span class="cmdname">na</span></b></a> | <a href="cmdqueryname=ns"><b><span class="cmdname">ns</span></b></a> | <a href="cmdqueryname=ra"><b><span class="cmdname">ra</span></b></a> | <a href="cmdqueryname=rs"><b><span class="cmdname">rs</span></b></a> } <a href="cmdqueryname=anti-attack+rate-limit+source-ip"><b><span class="cmdname">anti-attack rate-limit source-ip</span></b></a> <i><span class="varname">ipv6-address</span></i> <a href="cmdqueryname=maximum"><b><span class="cmdname">maximum</span></b></a> <i><span class="varname">max-value</span></i> command to configure a rate limit for receiving ND messages based on a specified source IPv6 address, that is, the number of ND messages that can be processed per second based on a specified source IPv6 address.</li><li>Run the <a href="cmdqueryname=ipv6+nd+miss+anti-attack+rate-limit+source-ip"><b><span class="cmdname">ipv6 nd miss anti-attack rate-limit source-ip</span></b></a> <i><span class="varname">ipv6-address</span></i> <strong><span>maximum</span></strong> <i><span class="varname">max-value</span></i> command to configure a rate limit for receiving ND Miss messages based on a specified source IPv6 address, that is, the number of ND Miss messages that can be processed per second based on a specified source IPv6 address.</li></ul>
</li></ol>
</li></ul>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ipv6_cfg_0070.html">Configuring Rate Limiting on ND Messages
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_nd_cfg_0027.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>