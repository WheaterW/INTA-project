
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring DHCPv6 Relay Forwarding">
<meta name="abstract" content="DHCPv6 relay forwarding functions are configured on the user-side inbound interface of DHCPv6 messages. You can specify the outbound interface, destination DHCPv6 server address, or next-hop DHCPv6 relay agent address.">
<meta name="description" content="DHCPv6 relay forwarding functions are configured on the user-side inbound interface of DHCPv6 messages. You can specify the outbound interface, destination DHCPv6 server address, or next-hop DHCPv6 relay agent address.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcpv6_relay_cfg_0003.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcpv6_relay_cfg_0013.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcpv6_relay_cfg_0014.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,z00485179,w00556928,w00606909,dhcpvrp">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="DHCP v6">
<meta name="featuretype" content="IP Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="DHCP v6">
<meta name="featuretype" content="IP Services">
<meta name="featurename" content="DHCP v6">
<meta name="featuretype" content="IP Services">
<meta name="featurename" content="DHCP v6">
<meta name="featuretype" content="IP Services">
<meta name="OWNER" content="z00485179,x00504385">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="x00504385">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172364785">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring DHCPv6 Relay Forwarding</title>
</head>
<body><a name="EN-US_TASK_0172364785"></a><a name="EN-US_TASK_0172364785"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring DHCPv6 Relay Forwarding</h1>
<div class="taskbody"><p>DHCPv6 relay forwarding functions are configured on the user-side inbound interface of DHCPv6 messages. You can specify the outbound interface, destination DHCPv6 server address, or next-hop DHCPv6 relay agent address.</p>
<div class="context"><a name="EN-US_TASK_0172364785__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>To relay messages sent from DHCPv6 clients on a network segment, configure DHCPv6 relay forwarding on the DHCPv6 relay agent's interface that connects to the network segment. If multiple outbound interfaces or destination IPv6 addresses are specified, the DHCPv6 relay agent forwards one copy of messages to each outbound interface or destination IPv6 address. The destination IPv6 address can be an interface address on the next-hop DHCPv6 relay agent or the DHCPv6 server.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172364785__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=dhcpv6+relay+server+group"><b><span class="cmdname">dhcpv6 relay server group</span></b></a> <i><span class="varname">group-name</span></i></span>. A DHCPv6 relay server group is configured, and the server group view is displayed.</span><p><p>If you want to enable DHCPv6 relay on multiple interfaces and specify the same DHCPv6 relay servers for these interfaces, configure a DHCPv6 relay server group to simplify the configuration.</p>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=server"><b><span class="cmdname">server</span></b></a> <i><span class="varname">server-addr</span></i></span></span><p><p>A server is added to the DHCPv6 relay server group.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span></span><p><p>Return to the system view.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The view of the interface where DHCPv6 relay needs to be enabled is displayed.</p>
</p></li><li><span>Perform either of the following operations as required:</span><p><ul><li>To specify an outbound interface or destination IPv6 address for DHCPv6 messages on the interface, run the <a href="cmdqueryname=dhcpv6+relay"><b><span class="cmdname">dhcpv6 relay</span></b></a> { <strong><span>interface</span></strong> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <strong><span>destination</span></strong> <i><span class="varname">ipv6-address</span></i> } command.</li><li>To bind the interface to a DHCPv6 relay server group, run the <a href="cmdqueryname=dhcpv6+relay+binding+server+group"><b><span class="cmdname">dhcpv6 relay binding server group</span></b></a> <i><span class="varname">group-name</span></i> command.</li></ul>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=dhcpv6+relay+link-address"><b><span class="cmdname">dhcpv6 relay link-address</span></b></a> <i><span class="varname">ipv6-address</span></i></span><p><p>A DHCPv6 relay gateway address is configured.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>When a DHCPv6 relay agent is connected to a host, it needs to periodically send RA messages to the host. An RA message carries both the IPv6 address prefix and stateful address autoconfiguration flag. You can run the <strong>undo ipv6 nd ra halt</strong> command to enable the agent to send RA messages.</p>
</div></div>
</p></li><li><span>(Optional) For the DHCPv6 server that replies with messages based on the source IP address, the DHCPv6 relay agent uses the IP address of the relay interface as the source IP address when forwarding a DHCP request message from a DHCPv6 client. If the source IP address needs to be specified, perform either of the following operations:</span><p><ul><li>Run <span><a href="cmdqueryname=dhcpv6+relay+source-ip-address"><b><span class="cmdname">dhcpv6 relay source-ip-address</span></b></a> <i><span class="varname">ipv6-address</span></i></span><p>The source IPv6 address is specified for DHCPv6 messages on the interface.</p>
</li></ul>
<ul><li>Run <a href="cmdqueryname=dhcpv6+relay+source-interface"><b><span class="cmdname">dhcpv6 relay source-interface</span></b></a> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-num</span></i> }<p>The IPv6 address of a specified interface is configured as the source IPv6 address of DHCPv6 messages that the DHCPv6 relay agent forwards.</p>
</li></ul>
</p><p><p>Both the <a href="cmdqueryname=dhcpv6+relay+source-ip-address"><b><span class="cmdname">dhcpv6 relay source-ip-address</span></b></a> and <a href="cmdqueryname=dhcpv6+relay+source-interface"><b><span class="cmdname">dhcpv6 relay source-interface</span></b></a> commands can specify the source IP address used by a DHCP relay agent to forward messages. These two commands are mutually exclusive. If both of the two commands are run on a DHCP relay interface, the latest configuration overrides the previous one.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=dhcpv6+relay+gateway-switch+enable"><b><span class="cmdname">dhcpv6 relay gateway-switch enable</span></b></a></span><p><p>Automatic DHCPv6 relay gateway switching is enabled.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>If the <a href="cmdqueryname=dhcpv6+relay+link-address"><b><span class="cmdname">dhcpv6 relay link-address</span></b></a> command has been run on an interface to configure a gateway address, the <strong>dhcpv6 relay gateway-switch enable</strong> command does not take effect.</li><li>The gateway switching function supports only global unicast addresses.</li></ul>
</div></div>
</p></li><li><span>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span></span><p><p>Return to the system view.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=dhcpv6+rate-limit"><b><span class="cmdname">dhcpv6 rate-limit</span></b></a> { <strong><span>disable</span></strong> | <i><span class="varname">rate-limit</span></i> }</span><p><p>Global rate limiting is disabled for DHCPv6 messages or a global rate limit is configured for DHCPv6 messages.</p>
</p><p></p></li><li><span>(Optional) Run <a href="cmdqueryname=dhcpv6+source-ip-address+format+adaptive+enable"><b><span class="cmdname">dhcpv6 source-ip-address format adaptive enable</span></b></a></span><p><p>The source IPv6 address type of the response messages sent by the DHCPv6 relay agent to the DHCPv6 client is configured as link-local.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcpv6_relay_cfg_0003.html">Configuring DHCPv6 Relay
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcpv6_relay_cfg_0013.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcpv6_relay_cfg_0014.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>