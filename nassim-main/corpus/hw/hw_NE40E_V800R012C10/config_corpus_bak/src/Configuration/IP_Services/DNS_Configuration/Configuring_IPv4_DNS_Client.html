
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring IPv4 DNS Client">
<meta name="abstract" content="This section describes how to configure DNS and establish mappings between domain names and IP addresses, so that a device can communicate with other devices using domain names.">
<meta name="description" content="This section describes how to configure DNS and establish mappings between domain names and IP addresses, so that a device can communicate with other devices using domain names.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dns_cfg_0000new.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/spec/DNS_limitation.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dns_cfg_0004.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,z00485179,w00556928,dnsvrp,w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="DNS">
<meta name="featuretype" content="IP Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="DNS">
<meta name="featuretype" content="IP Services">
<meta name="featurename" content="DNS">
<meta name="featuretype" content="IP Services">
<meta name="OWNER" content="z00485179,z00648985">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00485179">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172364805">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring IPv4 DNS Client</title>
</head>
<body><a name="EN-US_TASK_0172364805"></a><a name="EN-US_TASK_0172364805"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring IPv4 DNS Client</h1>
<div class="taskbody"><p>This section describes how to configure DNS and establish mappings between domain names and IP addresses, so that a device can communicate with other devices using domain names.</p>
<div class="context"><a name="EN-US_TASK_0172364805__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><div class="p">If you want to use meaningful and easy-to-memorize domain names to access other devices, configure DNS. DNS entries record the mappings between domain names and IP addresses. In <a href="#EN-US_TASK_0172364805__fig_dc_vrp_dns_cfg_000301">Figure 1</a>, the DNS client and client program are on the same device. <ul><li>If you seldom use domain names to visit other devices or no DNS server is available, configure static DNS on the DNS client. To configure static DNS, you must know the mappings between domain names and IP addresses. If a mapping changes, you must manually modify the DNS entry on the DNS client.</li><li>If you want to use domain names to visit many devices and DNS servers are available, configure dynamic DNS on the DNS client. Dynamic DNS requires DNS servers.</li></ul>
</div>
<div class="fignone" id="EN-US_TASK_0172364805__fig_dc_vrp_dns_cfg_000301"><a name="EN-US_TASK_0172364805__fig_dc_vrp_dns_cfg_000301"></a><a name="fig_dc_vrp_dns_cfg_000301"></a><span class="figcap"><b>Figure 1 </b>Networking diagram for typical domain name resolution</span><br><span><img class="vsd" src="images/fig_dc_vrp_dns_cfg_000301.png" width="NaN" height="NaN"></span><br></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172364805__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><div class="p">Before configuring DNS, complete the following tasks:<ul><li><p>Configuring a route between the DNS client and server, so that the DNS client and server can communicate</p>
</li><li><p>Configuring DNS servers</p>
</li></ul>
</div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172364805__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure static DNS.</span><p><ol><li><p>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></p>
<p>The system view is displayed.</p>
</li><li><p>Run <a href="cmdqueryname=ip+host+vpn-instance"><b><span class="cmdname">ip host</span></b></a> <i><span class="varname">host-name</span></i> <i><span class="varname">ip-address </span></i><span>[ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-name</span></i> ]</span></p>
<p>The mapping between the domain name and IPv4 address of the host is configured.</p>
</li><li><p>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></p>
<p>The configuration is committed.</p>
</li></ol>
</p></li><li><span>Configure dynamic DNS.</span><p><ol><li><p>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></p>
<p>The system view is displayed.</p>
</li><li><p>Run <span><a href="cmdqueryname=dns+resolve"><b><span class="cmdname">dns resolve</span></b></a></span></p>
<p>Dynamic DNS is enabled.</p>
</li><li><p>Run <a href="cmdqueryname=dns+server+vpn-instance"><b><span class="cmdname">dns server</span></b></a> <i><span class="varname">ip-address</span></i><span> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-name</span></i> ]</span><span> [ <strong><span>tcp ssl-policy</span></strong> <i><span class="varname">ssl-policy-name</span></i> ]</span></p>
<p>A DNS server is configured.</p>
</li><li><p>(Optional) Run <a href="cmdqueryname=dns+server+source-ip+vpn-instance"><b><span class="cmdname">dns server source-ip</span></b></a><span> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-name</span></i> ]</span> <i><span class="varname">ipv4Addr</span></i></p>
<p>The IP address of the local <span class="keyword">Router</span> is specified.</p>
<p>An IP address is specified for the DNS client to communicate with the DNS server. Using a specified source address ensures the security of communication between the DNS client and DNS server.</p>
</li><li><p>Run <span><a href="cmdqueryname=dns+domain+vpn-instance"><b><span class="cmdname">dns domain</span></b></a> <i><span class="varname">domain-name</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-name</span></i> ]</span></p>
<p>A domain name suffix is added.</p>
</li><li><p>(Optional) Run <a href="cmdqueryname=dns+timeout"><b><span class="cmdname">dns timeout</span></b></a> <i><span class="varname">interval-time</span></i></p>
<p>A DNS query response timeout period is configured.</p>
</li><li><p>(Optional) Run <span><a href="cmdqueryname=dns+try"><b><span class="cmdname">dns try</span></b></a> <i><span class="varname">times</span></i></span></p>
<p>The number of retransmission times for DNS query packets is configured.</p>
</li><li><p>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></p>
<p>The configuration is committed.</p>
</li></ol>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>To configure multiple DNS servers, repeatedly perform Step 3. To configure multiple domain name suffixes, repeatedly perform Step 5.</p>
</div></div>
</p></li></ul></div>
<div class="postreq"><a name="EN-US_TASK_0172364805__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration of a DNS Client</h4><p>After configuring a DNS client, verify the configuration.</p>
<ul><li><p>Run the <a href="cmdqueryname=display+ip+host"><b><span class="cmdname">display ip host</span></b></a> command to view static DNS entries, including mappings between domain names and IP addresses.</p>
</li><li><p>Run the <a href="cmdqueryname=display+dns+server"><b><span class="cmdname">display dns server</span></b></a> command to view the IP addresses of all configured DNS servers.</p>
</li><li><p>Run the <a href="cmdqueryname=display+dns+domain"><b><span class="cmdname">display dns domain</span></b></a> command to view the domain name suffix list.</p>
</li><li><p>Run the <a href="cmdqueryname=display+dns+dynamic-host"><b><span class="cmdname">display dns dynamic-host</span></b></a> command to view dynamic DNS entries stored in the cache.</p>
</li></ul>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dns_cfg_0000new.html">DNS Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/spec/DNS_limitation.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dns_cfg_0004.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>