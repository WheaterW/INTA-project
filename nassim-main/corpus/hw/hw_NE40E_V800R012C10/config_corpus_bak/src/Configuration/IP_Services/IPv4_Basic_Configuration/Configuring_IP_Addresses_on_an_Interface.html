
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring IP Addresses on an Interface">
<meta name="abstract" content="This section describes how to configure IP addresses for a device so that the device can communicate with other devices on the network.">
<meta name="description" content="This section describes how to configure IP addresses for a device so that the device can communicate with other devices on the network.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ipv4_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/spec/IPv4_Basic_limitation.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ipv4_cfg_0007.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,z00485179,w00556928,w00606909,ipv4-basicvrp">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPv4">
<meta name="featurename" content="IP Traffic Monitoring">
<meta name="featuretype" content="IP Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv4">
<meta name="featurename" content="IP Traffic Monitoring">
<meta name="featuretype" content="IP Services">
<meta name="featurename" content="IPv4">
<meta name="featuretype" content="IP Services">
<meta name="OWNER" content="z00485179,z00648985">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00485179">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0139427894">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring IP Addresses on an Interface</title>
</head>
<body><a name="EN-US_TASK_0139427894"></a><a name="EN-US_TASK_0139427894"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring IP Addresses on an Interface</h1>
<div class="taskbody"><p>This section describes how to configure IP addresses for a device so that the device can communicate with other devices on the network.</p>
<div class="context"><a name="EN-US_TASK_0139427894__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>To run IP services on an interface, configure an IP address for the interface. Each interface on a device can be configured with multiple IP addresses. If IP addresses are configured in primary or secondary mode, one primary and multiple secondary IP addresses can be configured on an interface. If the primary or secondary status of IP addresses is ignored, the device does not differentiate primary IP addresses from secondary IP addresses.</p>
<p>If IP addresses are configured in primary or secondary mode, you need to configure only one primary IP address for an interface. In some special cases, you need to configure one or more secondary IP addresses for an interface. For example, a device connects to a physical network through one of its interfaces. Hosts on the physical network belong to two different Class C networks. To allow the device to communicate with all the hosts on the physical network, configure a primary IP address and a secondary IP address for the interface on the device.</p>
<p>If the device ignores the primary or secondary status of IP addresses, you need to configure only one IP address for an interface. In some special cases, you need to configure multiple IP addresses for an interface. For example, multiple IP addresses need to be configured on an interface to differentiate user services. To delete an IP address on an interface without affecting other IP addresses during a service cutover, enable the device to ignore the primary or secondary status of IP addresses so that any IP address configured on the interface can be deleted.</p>
<p>By default, IP addresses are configured in primary or secondary mode.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>For IP addresses in primary/secondary mode:<ul><li>One primary IP address and multiple secondary IP addresses can be configured on an interface.</li><li>If a secondary IP address exists, the primary IP address cannot be deleted.</li><li>If both primary and secondary IP addresses are configured on an interface of a device, you must delete the secondary IP address before enabling the device to ignore the primary/secondary status of IP addresses. Therefore, to prevent user services associated with the secondary IP address from being affected, plan the configuration in advance.</li></ul>
</li><li>For IP addresses whose primary or secondary status is ignored:<ul><li>Multiple IP addresses can be configured on an interface.</li><li>Any IP address configured on an interface can be deleted.</li><li>If multiple IP addresses are configured on an interface of a device, the device cannot be configured to directly differentiate between primary and secondary IP addresses.</li><li>The <a href="cmdqueryname=ip+address+ignore+primary-sub+enable"><b><span class="cmdname">ip address ignore primary-sub enable</span></b></a> and <a href="cmdqueryname=ip+address+conflict+check+disable"><b><span class="cmdname">ip address conflict check disable</span></b></a> commands are mutually exclusive.</li></ul>
</li></ul>
</div></div>
<h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring IP addresses on an interface, configure link layer protocol parameters for the interface and ensure that the link layer protocol of the interface is Up.</p>
</div>
</div></div>
<div class="context"><a name="EN-US_TASK_0139427894__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Procedure</h4><ul><li><div class="p"><strong>For IP addresses whose primary or secondary status is ignored:</strong><ol><li><p>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></p>
<p>The system view is displayed.</p>
</li><li><p>Run <a href="cmdqueryname=ip+address+ignore+primary-sub+enable"><b><span class="cmdname">ip address ignore primary-sub enable</span></b></a></p>
<p>The device is enabled to ignore the primary or secondary status of IP addresses.</p>
<p>For IP addresses in primary/secondary mode, the device uses the primary IP address of the interface to interact with other devices when processing certain services. For IP addresses whose primary or secondary status is ignored, the device uses the first IP address of the interface to interact with other devices when processing certain services. For example, a routing protocol uses the first IP address of an interface to establish a neighbor relationship (you can run the <a href="cmdqueryname=display+this"><b><span class="cmdname">display this</span></b></a> command on the interface to check whether the first IP address of the interface is used to establish a neighbor relationship).</p>
</li><li><p>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></p>
<p>The configuration is committed.</p>
</li><li><p>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></p>
<p>The interface view is displayed.</p>
</li><li><p>Run <a href="cmdqueryname=ip+address"><b><span class="cmdname">ip address</span></b></a> <i><span class="varname">ip-address</span></i> { <i><span class="varname">mask</span></i> | <i><span class="varname">mask-length</span></i> } [ <strong>tag</strong> <i><span class="varname">tag-value</span></i> ]</p>
<p>An IP address is configured for the interface.</p>
<p>Run this command multiple times on the interface to configure multiple IP addresses for the interface.</p>
<p>A maximum of 256 IP addresses can be configured for each interface.</p>
</li><li><p>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></p>
<p>The configuration is committed.</p>
</li></ol>
</div>
</li><li><div class="p"><strong>For IP addresses in primary/secondary mode:</strong><ol><li><p>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></p>
<p>The system view is displayed.</p>
</li><li><p>(Optional) Run <span><a href="cmdqueryname=undo+ip+address+ignore+primary-sub+enable"><b><span class="cmdname">undo ip address ignore primary-sub enable</span></b></a></span></p>
<p>The device is configured to differentiate primary IP addresses from secondary IP addresses.</p>
</li><li><p>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></p>
<p>The interface view is displayed.</p>
</li><li><p>Run <span><a href="cmdqueryname=ip+address"><b><span class="cmdname">ip address</span></b></a> <i><span class="varname">ip-address</span></i> { <i><span class="varname">mask</span></i> | <i><span class="varname">mask-length</span></i> } [ <strong>tag</strong> <i><span class="varname">tag-value</span></i> ]</span></p>
<p>A primary IP address is configured.</p>
<p>An interface can have only one primary IP address. If the <a href="cmdqueryname=ip+address"><b><span class="cmdname">ip address</span></b></a> <i><span class="varname">ip-address</span></i> { <i><span class="varname">mask</span></i> | <i><span class="varname">mask-length</span></i> } [ <strong>tag</strong> <i><span class="varname">tag-value</span></i> ] command is run more than once to configure a primary IP address for an interface, the latest configuration overrides the previous one.</p>
</li><li><p>(Optional) Run <span><a href="cmdqueryname=ip+address+sub"><b><span class="cmdname">ip address</span></b></a> <i><span class="varname">ip-address</span></i> { <i><span class="varname">mask</span></i> | <i><span class="varname">mask-length</span></i> } <strong><span>sub</span></strong> [ <strong>tag</strong> <i><span class="varname">tag-value</span></i> ]</span></p>
<p>A secondary IP address is configured for the interface.</p>
<p>To save the IP address space, you can configure secondary IP addresses with 31-bit masks for an interface.</p>
<p>A maximum of 255 secondary IP addresses can be configured for each interface.</p>
</li><li><p>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></p>
<p>The configuration is committed.</p>
</li></ol>
</div>
</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0139427894__1.4.3"></a><a name="1.4.3"></a>
<div class="p"><h4 class="sectiontitle">Verifying the Configuration</h4><ul><li>Run the <a href="cmdqueryname=display+interface"><b><span class="cmdname">display interface</span></b></a> [ <i><span class="varname">interface-type</span></i> [ <i><span class="varname">interface-number</span></i> ] ] command to check interface information.</li><li>Run the <a href="cmdqueryname=display+ip+interface+multi-address"><b><span class="cmdname">display ip interface multi-address</span></b></a> command to check all interfaces configured with multiple IP addresses.</li></ul>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ipv4_cfg_0000.html">IPv4 Basic Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/spec/IPv4_Basic_limitation.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ipv4_cfg_0007.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>