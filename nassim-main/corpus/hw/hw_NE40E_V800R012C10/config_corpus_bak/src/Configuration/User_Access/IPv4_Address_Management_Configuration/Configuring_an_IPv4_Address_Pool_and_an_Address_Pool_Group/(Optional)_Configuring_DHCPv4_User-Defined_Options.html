
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring DHCPv4 User-Defined Options">
<meta name="abstract" content="You can configure DHCPv4 user-defined options to provide more control information and parameters for clients.">
<meta name="description" content="You can configure DHCPv4 user-defined options to provide more control information and parameters for clients.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0048.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0068.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0055.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z50024784,z00603461,w00800033,z00588052,c00549182,w00556928,l00593348,ipv4-address_ne,w00606909,w00447999,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPv4 Address Management">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv4 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv4 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv4 Address Management">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="l00593348">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172373775">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring DHCPv4 User-Defined Options</title>
</head>
<body><a name="EN-US_TASK_0172373775"></a><a name="EN-US_TASK_0172373775"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring DHCPv4 User-Defined Options</h1>
<div class="taskbody"><p>You can configure DHCPv4 user-defined options to provide more control information and parameters for clients.</p>
<div class="context"><a name="EN-US_TASK_0172373775__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>If both the <a href="cmdqueryname=dhcp+option125"><b><span class="cmdname">dhcp option125</span></b></a> and <a href="cmdqueryname=option"><b><span class="cmdname">option</span></b></a> <em>125</em> commands are run, the <a href="cmdqueryname=dhcp+option125"><b><span class="cmdname">dhcp option125</span></b></a> command configuration takes effect.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172373775__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li><span>Run the <a href="cmdqueryname=ip+pool"><b><span class="cmdname">ip pool</span></b></a> <i><span class="varname">pool-name</span></i> [ <strong><span>bas</span></strong> <strong><span>local</span></strong> | <strong><span>server</span></strong> ] command to create an address pool and enter the address pool view.</span></li><li><span>Run the <strong><a href="cmdqueryname=option"><b><span class="cmdname">option</span></b></a> </strong><em><i><span class="varname">code</span></i></em> { <strong><strong><span>hex</span></strong></strong><em> <i><span class="varname">hex-string</span></i></em> | { <strong><strong><span>ip</span></strong> </strong><i><span class="varname">ip-address-1</span></i> [ <em><i><span class="varname">ip-address-2</span></i></em><i><span class="varname"> </span></i>] } | <strong><strong><span>string</span></strong></strong><em> </em><i><span class="varname">ascii-string</span></i> | <strong><span>cipher</span></strong> <i><span class="varname">cipher-text </span></i>} | { <strong><strong><span>suboption</span></strong></strong><em> </em><i><span class="varname">sub-code</span></i> { <strong><strong><span>ip</span></strong></strong> <i><span class="varname">ip-address-1</span></i> | <strong><strong><span>string</span></strong></strong><em> <i><span class="varname">sub-ascii-string</span></i></em> } } &amp;<span>&lt;1-16&gt;</span> } command to configure DHCPv4 options.</span></li><li><span>(Optional) Run the <a href="cmdqueryname=dhcp+option125"><b><span class="cmdname">dhcp option125</span></b></a> [ <strong><span>enterprise-code</span></strong> <i><span class="varname">enterprise-code</span></i> ] <i><span class="varname">option125-string</span></i> command to configure the telecom device vendor's enterprise code and related description to be encapsulated into DHCP Option 125.</span><p><p>DHCP Option 125 that carries the device vendor's enterprise code and related description will be encapsulated into a DHCP reply message.</p>
</p></li><li><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li><li><span>Run the <a href="cmdqueryname=option+force-reply"><b><span class="cmdname">option force-reply</span></b></a> { <i><span class="varname">option-code</span></i> }&amp;<span>&lt;1-16&gt;</span> command to configure the Option to be forcibly replied to the client by the DHCP server.</span><p><p>Some DHCP option information is not replied by a server if a client does not initiate a request. However, without these DHCP option information, such as the IP address, the client cannot access the Internet. To resolve this problem, you can run this command to configure the option to be forcibly replied to the client.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li><p>A maximum of 16 options to be forcibly replied can be configured in an IP address pool.</p>
</li><li><p>Information about the configured DHCP option code must be supported by the DHCP server. Otherwise, the server cannot forcibly reply the DHCP option to the client.</p>
</li></ul>
</div></div>
</p></li><li><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0172373775__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Follow-up Procedure</h4>
<div class="p"><p>The Option fields in DHCPv4 packets carry the control information and parameters that are not defined in common protocols. If the DHCPv4 server is configured with an Option, the DHCPv4 client obtains the configuration information saved in the Option field of DHCPv4 response packets.</p>
<p>You need to add the options to the attribute list of the DHCPv4 servers. For example:</p>
<ul><li><p>To configure the IP address of a log server to 10.110.204.1, run the <strong>option 7 ip 10.110.204.1</strong> command.</p>
</li><li><p>To configure the DHCPv4 Option 129 field to represent "huawei", run the <strong>option 129 string huawei</strong> command.</p>
</li></ul>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The value of a common option (such as DNS or lease) is fixed. Such a value can be 3, 6, 15, 44, 46, 50-54, 57-<span>59</span>, 82<span>, or 119</span>. When the option value is re-set, the system prompts that re-setting the value is not allowed.</p>
<p>The <strong>option</strong> command enables the DHCPv4 packets replied by the server to carry specific options.</p>
<p>Before using this command, you need to know the function of the specific option. For example, Option 77 identifies a user class or application type for DHCPv4 clients. Based on User Class in the Option field, the DHCPv4 server selects a proper address pool to assign IP addresses and related configuration parameters for clients. Option 77 is commonly configured on the client, with no need for running the <strong>option</strong> command on the server.</p>
</div></div>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0048.html">Configuring an IPv4 Address Pool and an Address Pool Group
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0068.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0055.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>