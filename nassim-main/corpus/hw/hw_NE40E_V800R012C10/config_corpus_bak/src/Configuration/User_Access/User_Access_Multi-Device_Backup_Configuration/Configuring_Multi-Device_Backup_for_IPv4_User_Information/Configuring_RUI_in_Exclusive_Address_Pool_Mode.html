
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring RUI in Exclusive Address Pool Mode">
<meta name="abstract" content="In exclusive address pool mode, each RBP is bound to an address pool to control the advertisement and withdrawal of network segment routes of the address pool.">
<meta name="description" content="In exclusive address pool mode, each RBP is bound to an address pool to control the advertisement and withdrawal of network segment routes of the address pool.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cfg_rui_0004.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cfg_rui_0009.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cfg_rui_0022.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z50024784,z00603461,w00800033,z00588052,rui_ne,c00549182,w00556928,l00593348,w00606909,w00447999,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="UP Multi-Device Backup">
<meta name="featurename" content="User Access Multi-Device Backup">
<meta name="featuretype" content="User Access">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="UP Multi-Device Backup">
<meta name="featurename" content="User Access Multi-Device Backup">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="UP Multi-Device Backup">
<meta name="featurename" content="User Access Multi-Device Backup">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="User Access Multi-Device Backup">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="l00593348">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172374355">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring RUI in Exclusive Address Pool Mode</title>
</head>
<body><a name="EN-US_TASK_0172374355"></a><a name="EN-US_TASK_0172374355"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring RUI in Exclusive Address Pool Mode</h1>
<div class="taskbody"><p>In exclusive address pool mode, each RBP is bound to an address pool to control the advertisement and withdrawal of network segment routes of the address pool.</p>
<div class="context"><a name="EN-US_TASK_0172374355__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>In exclusive address pool mode, an address pool is configured for each physical interface and bound to an RBP.</p>
<p>Perform the following steps on the devices that back up each other:</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172374355__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure address pools on the master and backup devices.</span><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=ip+pool"><b><span class="cmdname">ip pool</span></b></a> <i><span class="varname">ip-pool-name</span></i> [ <strong><span>bas</span></strong> { <strong><span>local</span></strong> | <strong><span>remote</span></strong> } <strong><span>rui-slave</span></strong> ]</span><p><p>An address pool is configured, and its view is displayed.</p>
</p><p><p>A local primary address pool and a local RUI-slave address pool must be configured on both the master and backup devices.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The <span class="keyword">Router</span> allows a third device to function as a remote DHCP server to allocate addresses to users logging in to the master and backup devices. In this case, you need to configure a remote address pool on the master device and a remote RUI-slave address pool on the backup device. The address pools must be associated with the DHCP server group on the remote DHCP server.</p>
</div></div>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=gateway"><b><span class="cmdname">gateway</span></b></a> <i><span class="varname">ip-address</span></i> { <em><i><span class="varname">mask-length</span></i></em> | <em><i><span class="varname">mask</span></i></em> }</span><p><p>A gateway address is configured for each address pool.</p>
<p>The gateway address and subnet mask are used to check whether an address is on the same subnet as the gateway. Therefore, you must configure the gateway address and mask before configuring address segments.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=section"><b><span class="cmdname">section</span></b></a> <i><span class="varname">section-number</span></i> <i><span class="varname">start-ip-address</span></i> [ <i><span class="varname">end-ip-address</span></i> ]</span><p><p>An address segment is configured for each address pool.</p>
</p><p><p>If both the master and backup devices have two address pools configured, the address pools on each device must use different address segments. In addition, the primary address pool on the master device and the secondary address pool on the backup device share the same address segment, so do the secondary address pool on the master device and the primary address pool on the backup device. This prevents address conflicts if an master/backup device switchover occurs in a load balancing scenario.</p>
</p></li><li class="substepexpand"><span><span>(Optional) </span>Run <a href="cmdqueryname=dhcp-server+group"><b><span class="cmdname">dhcp-server group</span></b></a> <i><span class="varname">group-name</span></i></span><p><p>A remote DHCP server group is associated with the specified address pool.</p>
</p><p><p>The remote DHCP server group associated with the secondary address pool on the backup device must be mapped to the master device. In a load balancing scenario, the remote DHCP server group associated with the secondary address pool on the master device must also be mapped to the backup device.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Bind an address pool to the RBP.</span><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <strong><a href="cmdqueryname=remote-backup-profile"><b><span class="cmdname">remote-backup-profile</span></b></a></strong> <em><i><span class="varname">profile-name</span></i></em></span><p><p>The RBP view is displayed.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=ip-pool"><b><span class="cmdname">ip-pool</span></b></a> [ <a href="cmdqueryname=pool-group"><b><span class="cmdname">pool-group</span></b></a> ] <i><span class="varname">source-name</span></i> <strong><span>include</span></strong> [ <a href="cmdqueryname=pool-group"><b><span class="cmdname">pool-group</span></b></a> ] <i><span class="varname">destination-name</span></i> [ <strong><span>node</span></strong> <i><span class="varname">node-id</span></i> ]</span><p><p>Address pool name mapping in the RBP is configured.</p>
</p><p><p>A source address pool can be mapped to multiple target address pools in descending order by <i><span class="varname">node-id</span></i>, which means that the mapping starts from the target address pool with the largest <i><span class="varname">node-id</span></i>.</p>
<p>If a remote DHCP server takes precedence over a local address pool in address allocation, the secondary address pool must have a higher priority than the primary address pool. However, if a local address pool takes precedence over a remote DHCP server, the primary address pool must have a higher priority than the secondary address pool.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=ip-pool"><b><span class="cmdname">ip-pool</span></b></a> <i><span class="varname">pool-name</span></i></span><p><p>An address pool is configured.</p>
</p><p><p>The name of the address pool is specified by <i><span class="varname">destination-name</span></i> in the preceding step.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=frame-route+metric"><b><span class="cmdname">frame-route metric</span></b></a> <i><span class="varname">metric-num</span></i></span><p><p>The preference of a route used by the RADIUS server to deliver an IP address is configured.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This step applies only to PPP private line users.</p>
</div></div>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cfg_rui_0004.html">Configuring Multi-Device Backup for IPv4 User Information
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cfg_rui_0009.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cfg_rui_0022.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>