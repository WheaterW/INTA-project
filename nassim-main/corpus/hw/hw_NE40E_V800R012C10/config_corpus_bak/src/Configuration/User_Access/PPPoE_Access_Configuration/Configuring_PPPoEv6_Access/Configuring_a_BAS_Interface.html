
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a BAS Interface">
<meta name="abstract" content="If an interface is used for broadband user access, you must configure it as a BAS interface and set an access type and other attributes.">
<meta name="description" content="If an interface is used for broadband user access, you must configure it as a BAS interface and set an access type and other attributes.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_pppoxv6_cfg_0012.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_pppoxv6_cfg_0019.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_pppox_cfg_0002-v6.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z50024784,z00603461,w00800033,z00588052,c00549182,w00556928,l00593348,w00606909,pppoxne,w00447999,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="dcAudienceJob" content="Configuration">
<meta name="featurename" content="PPPoE Access">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="PPPoE Access">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="PPPoE Access">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="PPPoE Access">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="c00549182">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172374113">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring a BAS Interface</title>
</head>
<body><a name="EN-US_TASK_0172374113"></a><a name="EN-US_TASK_0172374113"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a BAS Interface</h1>
<div class="taskbody"><p>If an interface is used for broadband user access, you must configure it as a BAS interface and set an access type and other attributes.</p>
<div class="context"><a name="EN-US_TASK_0172374113__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>When configuring a BAS interface, you need the following information:</p>
<ul><li><p>BAS interface number</p>
</li><li><p>Access type and authentication method</p>
</li><li><div class="p">(Optional) Specify domains on the BAS interface.
</div>
</li><li><p>(Optional) Additional functions of the BAS interface</p>
</li><li><p>(Optional) Packet processing methods</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172374113__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <em>interface-type interface-number</em> [<i><span class="varname">. subinterface-number</span></i> ]</span></span><p><p>The interface view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=bas"><b><span class="cmdname">bas</span></b></a></span><p><p>A BAS interface is created, and its view is displayed.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>You can configure an interface as the BAS interface by running the <a href="cmdqueryname=bas"><b><span class="cmdname">bas</span></b></a> command in the interface view. An Ethernet interface or its sub-interface, or an Eth-Trunk interface or its sub-interface can be configured as a BAS interface.</p>
</div></div>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li><li><span>Configure an access type.</span><p><ul><li><p>Run <span><a href="cmdqueryname=access-type"><b><span class="cmdname">access-type</span></b></a> <strong>layer2-subscriber</strong> [ <strong>default-domain</strong> [ <strong>authentication</strong>  <em>dname</em> ] ]</span></p>
<p>The access type is set to Layer 2 subscriber access, and attributes are configured for this access type.</p>
</li></ul>
</p></li><li><span>Configure an authentication method.</span><p><p>Run <a href="cmdqueryname=authentication-method-ipv6"><b><span class="cmdname">authentication-method-ipv6</span></b></a> <strong><span>ppp</span></strong> [ <strong><span>web</span></strong> ]</p>
<p>PPP or PPP+web authentication is configured for IPv6 users.</p>
</p></li><li><span>(Optional) Specify domains on the BAS interface.</span><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The <a href="cmdqueryname=permit-domain"><b><span class="cmdname">permit-domain</span></b></a> command cannot be configured together with the <a href="cmdqueryname=deny-domain"><b><span class="cmdname">deny-domain</span></b></a>, <a href="cmdqueryname=deny-domain-list"><b><span class="cmdname">deny-domain-list</span></b></a>, or <a href="cmdqueryname=permit-domain-list"><b><span class="cmdname">permit-domain-list</span></b></a> command on a BAS interface.</p>
</div></div>
<ul><li><p>Default authentication domain</p>
<p>To configure a default authentication domain, run the <a href="cmdqueryname=default-domain"><b><span class="cmdname">default-domain</span></b></a> <strong>authentication</strong>  <em>domain-name</em> command.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>To specify the default authentication domain for PPP users, run the <a href="cmdqueryname=default-domain+authentication+ppp-user"><b><span class="cmdname">default-domain authentication ppp-user</span></b></a> <i><span class="varname">domain-name</span></i> command.</p>
<ul><li>If the <a href="cmdqueryname=default-domain+authentication+ppp-user"><b><span class="cmdname">default-domain authentication ppp-user</span></b></a> <i><span class="varname">domain-name</span></i> command is configured, the authentication domain specified in this step is used as the default authentication domain for PPP users.</li><li>If the <a href="cmdqueryname=default-domain+authentication+ppp-user"><b><span class="cmdname">default-domain authentication ppp-user</span></b></a> <i><span class="varname">domain-name</span></i> command is not configured but the <a href="cmdqueryname=default-domain"><b><span class="cmdname">default-domain</span></b></a> <strong><span>authentication</span></strong> [ <strong><span>force</span></strong> | <strong><span>replace</span></strong> ] <i><span class="varname">domain-name</span></i> command is configured, the authentication domain specified using the <a href="cmdqueryname=default-domain"><b><span class="cmdname">default-domain</span></b></a> <strong><span>authentication</span></strong> [ <strong><span>force</span></strong> | <strong><span>replace</span></strong> ] <i><span class="varname">domain-name</span></i> command is used as the default authentication domain for PPP users.</li><li>If neither of the commands is configured, the default authentication domain for PPP users is default1.</li></ul>
</div></div>
</li><li><p>Roaming domain</p>
<p>To configure a roaming domain, run the <a href="cmdqueryname=roam-domain"><b><span class="cmdname">roam-domain</span></b></a> <i><span class="varname">domain-name</span></i> command. </p>
</li><li><p>Domains whose users are allowed to access the BAS interface</p>
<p>To configure a domain for user access, run the <a href="cmdqueryname=permit-domain"><b><span class="cmdname">permit-domain</span></b></a> <em>domain-name</em> &amp;<strong><span>count</span></strong> command. </p>
</li><li><p>Domains whose users are denied access to the BAS interface</p>
<p>To configure domains whose users are denied access to the BAS interface, run the <a href="cmdqueryname=deny-domain"><b><span class="cmdname">deny-domain</span></b></a> <i><span class="varname">domain-name</span></i> &amp;&lt;1-16&gt; command. </p>
<p>To configure a list of domains whose users are denied access to the BAS interface, run the <a href="cmdqueryname=deny-domain-list"><b><span class="cmdname">deny-domain-list</span></b></a><em> <i><span class="varname">domainlist-name</span></i></em> command. </p>
</li></ul>
</p></li><li><span>(Optional) Additional functions of the BAS interface</span><p><ul><li><p>Configure the accounting packet copy function.</p>
<p>Run <span><a href="cmdqueryname=accounting-copy"><b><span class="cmdname">accounting-copy</span></b></a> <strong>radius-server</strong> <em>radius-name</em></span></p>
<p>The accounting packet copy function is enabled.</p>
</li><li><p>Configure user detection parameters.</p>
<p>Run <a href="cmdqueryname=user+detect"><b><span class="cmdname">user detect</span></b></a> <strong>retransmit</strong> <em>num</em> <strong>interval</strong> <em>time</em></p>
<p>User detection parameters are configured.</p>
</li><li><p id="EN-US_TASK_0172374113__en-us_task_0172388791_p1975301121214612">Block the BAS interface.</p>
<p id="EN-US_TASK_0172374113__en-us_task_0172388791_p801133349214612">Run <span><a href="cmdqueryname=block"><b><span class="cmdname" id="EN-US_TASK_0172374113__en-us_task_0172388791_cmdname627776043214612">block</span></b></a> [ <strong><span id="EN-US_TASK_0172374113__en-us_task_0172388791_cmdparmname509679546214612">start-vlan</span></strong> <span>{ </span><i><span class="varname" id="EN-US_TASK_0172374113__en-us_task_0172388791_varname1477272519214612">start-vlan</span></i> [ <strong><span id="EN-US_TASK_0172374113__en-us_task_0172388791_cmdparmname1479322768214612">end-vlan</span></strong> <i><span class="varname" id="EN-US_TASK_0172374113__en-us_task_0172388791_varname1600065132214612">end-vlan</span></i> ] [ <strong><span id="EN-US_TASK_0172374113__en-us_task_0172388791_cmdparmname1283976973214612">qinq</span></strong> <i><span class="varname" id="EN-US_TASK_0172374113__en-us_task_0172388791_varname804594431214612">qinq-vlan</span></i> ] <span>| <strong><span id="EN-US_TASK_0172374113__en-us_task_0172388791_cmdparmname517728686214612">any</span></strong> <strong><span id="EN-US_TASK_0172374113__en-us_task_0172388791_cmdparmname1276982228214612">qinq</span></strong> <i><span class="varname" id="EN-US_TASK_0172374113__en-us_task_0172388791_varname1772256795214612">start-qinq-vlan</span></i> [ <i><span class="varname" id="EN-US_TASK_0172374113__en-us_task_0172388791_varname1284865133214612">end-qinq-vlan</span></i> ] } </span>]</span></p>
<p id="EN-US_TASK_0172374113__en-us_task_0172388791_p1764976741214612">The BAS interface is blocked.</p>
</li><li><p>Limit the number of users on the BAS interface.</p>
<p>Run <span><a href="cmdqueryname=access-limit"><b><span class="cmdname">access-limit</span></b></a> <i><span class="varname">user-number</span></i></span></p>
<p>The number of users on the BAS interface is limited.</p>
<p></p>
<p>If the command is run and the VLAN information is specified, the number of users in specified VLAN(s) on the BAS interface is limited.</p>
<p>If the command is run and the VLAN information is not specified, the number of users in each VLAN on the BAS interface is limited. If the two types of configurations coexist on a BAS interface, they do not conflict. The number of users in the specified VLAN is subject to the limit set for the specified VLAN. The number of users in any one of the other unspecified VLANs is subject to the limit set on the BAS interface.</p>
</li><li>(Optional) Run <a href="cmdqueryname=client-replace+enable"><b><span class="cmdname">client-replace enable</span></b></a><p>The device is enabled to log out an existing user when a new user whose login request packets carry the same VLAN information as the existing user requests to go online from the same BAS interface.</p>
</li></ul>
</p></li><li><span>(Optional) Configure packet processing methods.</span><p><ul><li><p>Configure a method for processing access-line-id information.</p>
<p>Run <a href="cmdqueryname=client-option82"><b><span class="cmdname">client-option82</span></b></a><span> [ <strong><span>basinfo-insert</span></strong> { <strong><span>cn-telecom</span></strong> | <strong><span>version3</span></strong> } | <strong><span>version1</span></strong> ]</span> or <a href="cmdqueryname=client-access-line-id"><b><span class="cmdname">client-access-line-id</span></b></a><span> [ <strong><span>basinfo-insert</span></strong> { <strong><span>cn-telecom</span></strong> | <strong><span>version3</span></strong> } | <strong><span>version1</span></strong> ]</span></p>
<p>The <span class="keyword">NE40E</span> is configured to trust the access-line-id information sent from the client.</p>
<p>Or run <a href="cmdqueryname=basinfo-insert+cn-telecom"><b><span class="cmdname">basinfo-insert cn-telecom</span></b></a></p>
<p>The <span class="keyword">NE40E</span> is configured to distrust the access-line-id information sent from the client and insert the access-line-id information in the format defined by cn-telecom.</p>
<p>Or run <a href="cmdqueryname=basinfo-insert+version2"><b><span class="cmdname">basinfo-insert version2</span></b></a></p>
<p>The <span class="keyword">NE40E</span> is configured to insert the access-line-id information in the format defined by <strong><span>version2</span></strong> if the <span class="keyword">NE40E</span> does not trust the access-line-id information sent from the client.</p>
<div class="p">The <span class="keyword">Router</span> transmits access-line-id information to the RADIUS server based on the following configurations:<ul><li>If the <a href="cmdqueryname=option82-relay-mode+dslam"><b><span class="cmdname">option82-relay-mode dslam</span></b></a> { <strong><span>auto-identify</span></strong> | <strong><span>config-identify</span></strong> } or <a href="cmdqueryname=access-line-id+dslam"><b><span class="cmdname">access-line-id dslam</span></b></a> { <strong><span>auto-identify</span></strong> | <strong><span>config-identify</span></strong> } command is run, the device fills in the Agent-CircuitID attribute and Agent-RemoteID attribute to be sent to the RADIUS server with a DSLAM's access-line-id field. If the <a href="cmdqueryname=option82-relay-mode+include"><b><span class="cmdname">option82-relay-mode include</span></b></a> { <strong><span>allvalue</span></strong> | { <strong><span>agent-circuit-id</span></strong> | <strong><span>agent-remote-id</span></strong> [ <i><span class="varname">separator</span></i> ] }<sup>*</sup> } or <a href="cmdqueryname=access-line-id+include"><b><span class="cmdname">access-line-id include</span></b></a> { <strong><span>allvalue</span></strong> | { <strong><span>agent-circuit-id</span></strong> | <strong><span>agent-remote-id</span></strong> [ <i><span class="varname">separator</span></i> ] }<sup>*</sup> } command is run, the device is configured to include the access-line-id information in the NAS-Port-Id attribute to be sent to the RADIUS server.</li><li>If the <a href="cmdqueryname=option82-relay-mode+subopt"><b><span class="cmdname">option82-relay-mode subopt</span></b></a> { <strong><span>agent-circuit-id</span></strong> { <strong><span>hex</span></strong> | <strong><span>string</span></strong> } | <strong><span>agent-remote-id</span></strong> { <strong><span>hex</span></strong> | <strong><span>string</span></strong> } }<sup>*</sup> or <a href="cmdqueryname=access-line-id+translate"><b><span class="cmdname">access-line-id translate</span></b></a> { <strong><span>agent-circuit-id</span></strong> { <strong><span>hex</span></strong> | <strong><span>string</span></strong> } | <strong><span>agent-remote-id</span></strong> { <strong><span>hex</span></strong> | <strong><span>string</span></strong> } }<sup>*</sup> command is run, the format in which the Agent-CircuitID or Agent-RemoteID attribute is sent is specified.</li></ul>
</div>
<p>Or run <a href="cmdqueryname=vbas"><b><span class="cmdname">vbas</span></b></a> <i><span class="varname">vbas-mac-address</span></i> [ <strong><span>auth-mode</span></strong> { <strong><span>ignore</span></strong> | <strong><span>reject</span></strong> } ]</p>
<p>The function of locating a user through the virtual BAS (VBAS) is enabled. </p>
</li><li><p>(Optional) Configure a method for processing link-account information.</p>
<p>Run <span><a href="cmdqueryname=link-account+resolve"><b><span class="cmdname">link-account resolve</span></b></a></span></p>
<p>The accounting-request packets carrying link-account information are sent to a RADIUS server.</p>
<p>Before running the command, set the access type to Layer 2 subscriber access.</p>
<p>The command affects RADIUS attribute 25 for accounting-request packets sent by the device to a RADIUS accounting server.</p>
<div class="p">An interface fills the link-account information in RADIUS attribute 25 <strong>class</strong> if both the following situations are met:<ul><li>Users getting online from the interface do not need to be authenticated and RADIUS accounting is configured on the interface.</li><li>For common Layer 2 users, VLANs and VLAN descriptions are configured on the interface.</li></ul>
</div>
</li></ul>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_pppoxv6_cfg_0012.html">Configuring PPPoEv6 Access
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_pppoxv6_cfg_0019.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_pppox_cfg_0002-v6.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>