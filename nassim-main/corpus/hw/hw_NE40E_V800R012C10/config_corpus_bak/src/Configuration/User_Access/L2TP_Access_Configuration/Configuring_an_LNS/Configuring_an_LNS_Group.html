
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an LNS Group">
<meta name="abstract" content="This section describes how to configure tunnel parameters on the LNS side, such as the source interface for tunnel setup, tunnel board, maximum number of L2TP tunnels, and priority re-marking after CAR.">
<meta name="description" content="This section describes how to configure tunnel parameters on the LNS side, such as the source interface for tunnel setup, tunnel board, maximum number of L2TP tunnels, and priority re-marking after CAR.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_l2tp_cfg_013697.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_l2tp_cfg_0137001.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_l2tp_cfg_013701.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00588052,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="L2TP">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="L2TP">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="L2TP">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="L2TP">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172374251">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring an LNS Group</title>
</head>
<body><a name="EN-US_TASK_0172374251"></a><a name="EN-US_TASK_0172374251"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an LNS Group</h1>
<div class="taskbody"><p>This section describes how to configure tunnel parameters on the LNS side, such as the source interface for tunnel setup, tunnel board, maximum number of L2TP tunnels, and priority re-marking after CAR.</p>
<div class="context"><a name="EN-US_TASK_0172374251__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>An interface IP address must be configured for each LNS group as the source address for communicating with a LAC. Based on the configured IP address, the <span class="keyword">NE40E</span> can correctly determine the LNS group that processes the tunnel connection request from a LAC. In addition to the IP address, you can also configure other parameters, such as the tunnel board and the maximum number of L2TP tunnels that can be configured, so that the LNS and LAC can communicate.</p>
<p>Perform the following steps on the <span class="keyword">NE40E</span>.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172374251__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=lns-group"><b><span class="cmdname">lns-group</span></b></a> <i><span class="varname">group-name</span></i></span><p><p>An LNS group is created, and its view is displayed.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=description"><b><span class="cmdname">description</span></b></a> <i><span class="varname">description-information</span></i></span><p><p>A description is configured for the LNS group.</p>
</p></li><li><span>Run <a href="cmdqueryname=bind+slot"><b><span class="cmdname">bind slot</span></b></a> <i><span class="varname">slot_id</span></i></span><p><p>A tunnel board is bound to the LNS group.</p>
</p><p><p>Multiple tunnel boards can be configured on the <span class="keyword">NE40E</span>. You can specify the tunnel board for an LNS group. Multiple tunnel boards can be specified for an LNS group. Load balancing is implemented among these tunnel boards based on tunnels.</p>
</p></li><li><span>Run <a href="cmdqueryname=bind+source"><b><span class="cmdname">bind source</span></b></a> { <em>interface-type</em><em> interface-num</em> | <em>i<i><span class="varname">nterface-name</span></i></em> }</span><p><p>An interface is bound to the LNS group.</p>
</p><p><p>The IP address of the source interface bound to the LNS group, that of the source interface bound to the LAC-side L2TP group, and the source IP address of the RBS tunnel in dual-device hot backup scenarios cannot be the same.</p>
</p></li><li><span>(Optional) Run either of the following commands to enable tunnel load balancing:</span><p><ul><li>To enable tunnel load balancing based on the number of tunnels on tunnel boards bound to an LNS group, run the <a href="cmdqueryname=tunnel+load-balance+by-tunnel"><b><span class="cmdname">tunnel load-balance by-tunnel</span></b></a> command.</li><li>To enable tunnel load balancing based on the number of sessions on tunnel boards bound to the LNS group, run the <a href="cmdqueryname=tunnel+load-balance+by-session"><b><span class="cmdname">tunnel load-balance by-session</span></b></a> command.</li></ul>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li><li><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=l2tp+tunnel-limit"><b><span class="cmdname">l2tp tunnel-limit</span></b></a> <i><span class="varname">tunnel-number</span></i></span><p><p>The maximum number of L2TP tunnels that can be set up is configured.</p>
</p><p><p>To prevent too many L2TP tunnels from affecting LNS performance, you can configure the maximum number of L2TP tunnels that can be set up.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=l2tp+slot"><b><span class="cmdname">l2tp slot</span></b></a> <i><span class="varname">slot-id</span></i> <strong><span>block</span></strong> <strong><span>enable</span></strong></span><p><p>A tunnel board is locked.</p>
</p><p><p>If the number of L2TP tunnels established on a tunnel board reaches the upper limit, you can lock the tunnel board to prevent the device performance from being affected by the setup of L2TP tunnels on the tunnel board.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=l2tp+lns+fast-reply+enable+slot"><b><span class="cmdname">l2tp lns fast-reply enable slot</span></b></a> <i><span class="varname">slot-id</span></i></span><p><p>The tunnel board of an LNS is enabled to send packets to the network-side outbound interface board connected to a LAC based on hardware.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=l2tp-group"><b><span class="cmdname">l2tp-group</span></b></a> <i><span class="varname">group-name</span></i></span><p><p>An L2TP group is created, and its view is displayed.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=lns+schedule+after+car"><b><span class="cmdname">lns schedule after car</span></b></a></span><p><p>The LNS is configured to re-mark the priorities of service packets entering a tunnel after performing CAR.</p>
</p><p><p>After the configuration is modified, the modification takes effect only for new tunnels.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>When an LNS is configured to re-mark the priorities of packets entering a tunnel after performing CAR, the LNS does not support last-mile QoS.</p>
</div></div>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=tunnel+retrans-queue"><b><span class="cmdname">tunnel retrans-queue</span></b></a> <i><span class="varname">number</span></i></span><p><p>The maximum number of concurrent L2TP sessions allowed for an L2TP tunnel is configured. Excess session requests are denied.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_l2tp_cfg_013697.html">Configuring an LNS
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_l2tp_cfg_0137001.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_l2tp_cfg_013701.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>