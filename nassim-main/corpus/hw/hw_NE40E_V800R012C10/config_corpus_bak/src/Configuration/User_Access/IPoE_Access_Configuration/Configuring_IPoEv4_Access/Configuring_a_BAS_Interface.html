
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a BAS Interface">
<meta name="abstract" content="When an interface is used for broadband access, you need to configure it as a BAS interface, and then specify the user access type and attributes for the interface.">
<meta name="description" content="When an interface is used for broadband access, you need to configure it as a BAS interface, and then specify the user access type and attributes for the interface.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipox_cfg_0035.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipox_cfg_0021.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipox_cfg_0007.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z50024784,z00603461,w00800033,z00588052,ipoxne,c00549182,w00556928,l00593348,w00606909,w00447999,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPoE">
<meta name="featuretype" content="User Access">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPoE">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPoE">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPoE">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="c00549182">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172373974">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring a BAS Interface</title>
</head>
<body><a name="EN-US_TASK_0172373974"></a><a name="EN-US_TASK_0172373974"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a BAS Interface</h1>
<div class="taskbody"><p>When an interface is used for broadband access, you need to configure it as a BAS interface, and then specify the user access type and attributes for the interface.</p>
<div class="context"><a name="EN-US_TASK_0172373974__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0172373974__context1580820151214107"><p id="EN-US_TASK_0172373974__p176597173214107">When configuring a BAS interface, you need the following parameters:</p>
<ul id="EN-US_TASK_0172373974__ul1135495030214107"><li id="EN-US_TASK_0172373974__li1489834382214107"><p id="EN-US_TASK_0172373974__p2134617901214107"><a name="EN-US_TASK_0172373974__li1489834382214107"></a><a name="li1489834382214107"></a>BAS interface number</p>
</li><li id="EN-US_TASK_0172373974__li1821904811214107"><p id="EN-US_TASK_0172373974__p1932319551214107"><a name="EN-US_TASK_0172373974__li1821904811214107"></a><a name="li1821904811214107"></a>Access type and authentication scheme</p>
</li><li id="EN-US_TASK_0172373974__li1969493631214107"><p id="EN-US_TASK_0172373974__p2114005006214107"><a name="EN-US_TASK_0172373974__li1969493631214107"></a><a name="li1969493631214107"></a>(Optional) Maximum number of users allowed access through the BAS interface and maximum number of users allowed access in a specified VLAN</p>
</li><li id="EN-US_TASK_0172373974__li1461455287214107"><p id="EN-US_TASK_0172373974__p1908537870214107"><a name="EN-US_TASK_0172373974__li1461455287214107"></a><a name="li1461455287214107"></a>(Optional) Default domain, roaming domain, and domains that users are allowed to access on the BAS interface</p>
</li><li id="EN-US_TASK_0172373974__li392500826214107"><p id="EN-US_TASK_0172373974__p1839102645214107"><a name="EN-US_TASK_0172373974__li392500826214107"></a><a name="li392500826214107"></a>(Optional) Whether to enable proxy ARP, DHCP broadcast, accounting packet copy, IP packet-triggered user login, and user-based multicast replication</p>
</li><li id="EN-US_TASK_0172373974__li1342097423214107"><p id="EN-US_TASK_0172373974__p1610643920214107"><a name="EN-US_TASK_0172373974__li1342097423214107"></a><a name="li1342097423214107"></a>(Optional) Whether to trust client-reported Access-Line-Id information, user detection parameters, VPN instances of non-PPP users, and BAS interface name</p>
</li></ul>
<div class="note" id="EN-US_TASK_0172373974__note160192605214107"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul id="EN-US_TASK_0172373974__ul1560102544214107"><li id="EN-US_TASK_0172373974__li1963415717214107">For security purposes, use an eight-character or longer password that contains at least two types of the following: uppercase letters, lowercase letters, digits, and special characters.</li><li id="EN-US_TASK_0172373974__li959017186214107">You are advised to configure your password in ciphertext mode and change it periodically.</li></ul>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172373974__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <em>interface-type interface-number</em> [<i><span class="varname">. subinterface-number</span></i> ]</span><p><p>The interface view is displayed.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>In scenarios of BRAS access through L2VPN termination, users need to go online through a VE interface. Before entering the interface view, run the <a href="cmdqueryname=ve-group"><b><span class="cmdname">ve-group</span></b></a> <i><span class="varname">ve-group-id</span></i> <strong><span>l2-terminate</span></strong> command to configure a VE interface as an L2VE interface to terminate an L2VPN and bind the interface to a VE-group.</li><li>In scenarios of BRAS access through L3VPN termination, users need to go online through a VE interface. Before entering the interface view, run the <a href="cmdqueryname=ve-group"><b><span class="cmdname">ve-group</span></b></a> <i><span class="varname">ve-group-id</span></i> <strong><span>l3-terminate</span></strong> command to configure a VE interface as an L3VE interface to terminate an L3VPN and bind the interface to a VE-group. Only Layer 3 static user access is supported in scenarios of BRAS access through L3VPN termination. For details, see <a href="dc_ne_cfg_014579.html"><a href="cmdqueryname=Example+for+Configuring+BRAS+Access+Through+L3VPN+Termination"><b><span class="cmdname">Example for Configuring BRAS Access Through L3VPN Termination</span></b></a></a>.</li></ul>
</div></div>
</p></li><li><span>Run <a href="cmdqueryname=bas"><b><span class="cmdname">bas</span></b></a></span><p><p>A BAS interface is created, and its view is displayed.</p>
</p><p><p>To configure an interface as a BAS interface, run the <a href="cmdqueryname=bas"><b><span class="cmdname">bas</span></b></a> command in the interface view. </p>
</p></li><li id="EN-US_TASK_0172373974__step1365390331214107"><span id="EN-US_TASK_0172373974__cmd_04">Configure a user access type and related attributes:</span><p><ul id="EN-US_TASK_0172373974__ul165593716212"><li id="EN-US_TASK_0172373974__li1412793214328">To set the access type to Layer 2 common users and configure related attributes, run the <a href="cmdqueryname=access-type"><b><span class="cmdname" id="EN-US_TASK_0172373974__cmdname1833610486327">access-type</span></b></a> <strong id="EN-US_TASK_0172373974__b6336174815329">layer2-subscriber</strong> [ <strong id="EN-US_TASK_0172373974__b11336548123212">bas-interface-name </strong><i><span class="varname" id="EN-US_TASK_0172373974__varname163361348143210">bname</span></i> | <strong><span id="EN-US_TASK_0172373974__cmdparmname43361948173219">default-domain</span></strong> { <strong id="EN-US_TASK_0172373974__b123361248183212">pre-authentication</strong> <em id="EN-US_TASK_0172373974__i6336124815321">predname</em> | <strong id="EN-US_TASK_0172373974__b633614803218">authentication</strong> [ <strong id="EN-US_TASK_0172373974__b12336748193217">force</strong> | <strong id="EN-US_TASK_0172373974__b17336174853220">replace</strong> ] <em id="EN-US_TASK_0172373974__i1033634863217">dname</em> } <sup id="EN-US_TASK_0172373974__sup1933634810329">*</sup> | <strong id="EN-US_TASK_0172373974__b53361448133212">accounting-copy </strong><strong id="EN-US_TASK_0172373974__b113361748173215">radius-server </strong><em id="EN-US_TASK_0172373974__i433644893218">rd-name</em> ] <sup id="EN-US_TASK_0172373974__sup233615480324">*</sup> command.</li><li id="EN-US_TASK_0172373974__li1065643782119">To configure the access type and related attributes for Layer 3 common users, run the <a href="cmdqueryname=access-type"><b><span class="cmdname" id="EN-US_TASK_0172373974__cmdname79687174214107">access-type</span></b></a> <strong id="EN-US_TASK_0172373974__b1685950058214107">layer3-subscriber</strong> [ <strong id="EN-US_TASK_0172373974__b1674661342214107">default-domain</strong> { [ <strong id="EN-US_TASK_0172373974__b1910136732214107">pre-authentication</strong> <em id="EN-US_TASK_0172373974__i1759707876214107">predname</em> ] <strong id="EN-US_TASK_0172373974__b1318807456214107">authentication</strong> [ <strong id="EN-US_TASK_0172373974__b1512026284214107">force</strong> | <strong id="EN-US_TASK_0172373974__b1050503503214107">replace</strong> ] <em id="EN-US_TASK_0172373974__i1828208780214107">dname</em> }<sup id="EN-US_TASK_0172373974__sup2292135842918">*</sup> ] command.<div class="note" id="EN-US_TASK_0172373974__note1763072417315"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172373974__p186301824153110">When setting the user access type on a BAS interface, you can set the service attributes of the access users at the same time or later.</p>
</div></div>
<ul id="EN-US_TASK_0172373974__ul1985783973111"><li id="EN-US_TASK_0172373974__li28571539113117">To specify an IP address segment and an associated authentication domain name for Layer 3 common users, run the <a href="cmdqueryname=layer3-subscriber"><b><span class="cmdname" id="EN-US_TASK_0172373974__cmdname8220344163112">layer3-subscriber</span></b></a> {<i><span class="varname" id="EN-US_TASK_0172373974__varname422011443316"> start-ip-address</span></i> [<i><span class="varname" id="EN-US_TASK_0172373974__varname10220844133110"> end-ip-address</span></i> ] | <i><span class="varname" id="EN-US_TASK_0172373974__varname1522094418319">start-ipv6-address</span></i> [<i><span class="varname" id="EN-US_TASK_0172373974__varname122024418312"> end-ipv6-address</span></i> ] | <strong><span id="EN-US_TASK_0172373974__cmdparmname222015448315">delegation-prefix</span></strong> <i><span class="varname" id="EN-US_TASK_0172373974__varname122054413117">start-ipv6-address</span></i> [<i><span class="varname" id="EN-US_TASK_0172373974__varname1822014463110"> end-ipv6-address</span></i> ] [<i><span class="varname" id="EN-US_TASK_0172373974__varname1022074473120"> end-ip-address</span></i> ] <i><span class="varname" id="EN-US_TASK_0172373974__varname1356759835214107">mask-length</span></i>} * [ <strong><span id="EN-US_TASK_0172373974__cmdparmname102209449313">vpn-instance</span></strong> <i><span class="varname" id="EN-US_TASK_0172373974__varname122011440311">instance-name</span></i> ] <strong><span id="EN-US_TASK_0172373974__cmdparmname142211844183112">domain-name</span></strong> <i><span class="varname" id="EN-US_TASK_0172373974__varname2221544103117">domain-name</span></i><span id="EN-US_TASK_0172373974__ph12211044123113"> and <a href="cmdqueryname=layer3-subscriber+ip-address+any"><b><span class="cmdname" id="EN-US_TASK_0172373974__cmdname14221844123114">layer3-subscriber ip-address any</span></b></a> <strong><span id="EN-US_TASK_0172373974__cmdparmname112211744133119">domain-name</span></strong> <i><span class="varname" id="EN-US_TASK_0172373974__varname1822110447314">domain-name</span></i></span> commands in the system view.</li><li id="EN-US_TASK_0172373974__li1827994711318">To specify an IPv4 address segment and an associated authentication domain name for Layer 3 static users using the mask mode, run the <a href="cmdqueryname=layer3-subscriber+subnet-session"><b><span class="cmdname" id="EN-US_TASK_0172373974__cmdname72491551163113">layer3-subscriber subnet-session</span></b></a> <i><span class="varname" id="EN-US_TASK_0172373974__varname1024955183118">start-ip-address</span></i> { <i><span class="varname" id="EN-US_TASK_0172373974__varname1424935143111">mask-address</span></i> | <i><span class="varname" id="EN-US_TASK_0172373974__varname122491951133112">mask-length</span></i> } [ <strong><span id="EN-US_TASK_0172373974__cmdparmname6249145103120">vpn-instance </span></strong><i><span class="varname" id="EN-US_TASK_0172373974__varname324995120313">instance-name</span></i> ] <strong><span id="EN-US_TASK_0172373974__cmdparmname42491511311">domain-name </span></strong><i><span class="varname" id="EN-US_TASK_0172373974__varname17249155116314">domain-name</span></i> command in the system view.</li></ul>
<div class="note" id="EN-US_TASK_0172373974__note6423838327"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul id="EN-US_TASK_0172373974__ul11804157143211"><li id="EN-US_TASK_0172373974__li880467133216">The access type cannot be configured on an Ethernet interface that is added to an Eth-Trunk interface. You can configure the access type of such an Ethernet interface only on the associated Eth-Trunk interface.</li><li id="EN-US_TASK_0172373974__li980413710324">When configuring static routes for Layer 3 users, specify the next hop as the user IP address and do not specify the outbound interface. Otherwise, network-to-user traffic may fail to be forwarded.</li></ul>
</div></div>
</li></ul>
</p><p><ul id="EN-US_TASK_0172373974__ul102811392317"><li id="EN-US_TASK_0172373974__li202801392317">To set the access type and configure related attributes for Layer 2 or Layer 3 leased line users, run the <a href="cmdqueryname=access-type"><b><span class="cmdname" id="EN-US_TASK_0172373974__cmdname814015560214107">access-type</span></b></a> <strong><span id="EN-US_TASK_0172373974__cmdparmname1042754497214107">layer2-leased-line</span></strong> <strong><span id="EN-US_TASK_0172373974__cmdparmname1451709272214107">user-name</span></strong> <i><span class="varname" id="EN-US_TASK_0172373974__varname436104812214107">uname</span></i> <strong><span id="EN-US_TASK_0172373974__cmdparmname2108967224214107">password</span></strong> { <strong><span id="EN-US_TASK_0172373974__cmdparmname1694976226214107">cipher</span></strong> <i><span class="varname" id="EN-US_TASK_0172373974__varname772345619214107">password</span></i> | <strong><span id="EN-US_TASK_0172373974__cmdparmname623666567214107">simple</span></strong> <i><span class="varname" id="EN-US_TASK_0172373974__varname644900672214107">password</span></i> } [ <strong><span id="EN-US_TASK_0172373974__cmdparmname108133196214107">bas-interface-name</span></strong> <i><span class="varname" id="EN-US_TASK_0172373974__varname866635662214107">bname</span></i> | <strong><span id="EN-US_TASK_0172373974__cmdparmname1312576180214107">default-domain</span></strong> <strong><span id="EN-US_TASK_0172373974__cmdparmname847023231214107">authentication</span></strong> <i><span class="varname" id="EN-US_TASK_0172373974__varname786908996214107">dname</span></i> | <strong><span id="EN-US_TASK_0172373974__cmdparmname989453333214107">accounting-copy</span></strong> <strong><span id="EN-US_TASK_0172373974__cmdparmname1027387321214107">radius-server</span></strong> <i><span class="varname" id="EN-US_TASK_0172373974__varname1510318864214107">rd-name</span></i> | <strong><span id="EN-US_TASK_0172373974__cmdparmname1825267835214107">nas-port-type</span></strong> { <strong><span id="EN-US_TASK_0172373974__cmdparmname1197019725214107">async</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname2109763247214107">sync</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname10038345214107">isdn-sync</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname1949979363214107">isdn-async-v120</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname1832406251214107">isdn-async-v110</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname1458244318214107">virtual</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname1592287165214107">piafs</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname723360613214107">hdlc</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname105359286214107">x.25</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname524562939214107">x.75</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname1148191991214107">g.3-fax</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname647061930214107">sdsl</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname210002504214107">adsl-cap</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname1496116969214107">adsl-dmt</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname864794969214107">idsl</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname394898130214107">ethernet</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname1616767674214107">xdsl</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname488089629214107">cable</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname817330630214107">wireless-other</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname45139012214107">802.11</span></strong> } ] <sup id="EN-US_TASK_0172373974__sup1515748657214107">*</sup> or <a href="cmdqueryname=access-type"><b><span class="cmdname" id="EN-US_TASK_0172373974__cmdname728370417214107">access-type</span></b></a> <strong><span id="EN-US_TASK_0172373974__cmdparmname1319877180214107">layer3-leased-line</span></strong> { <strong><span id="EN-US_TASK_0172373974__cmdparmname1829166153214107">user-name</span></strong> <i><span class="varname" id="EN-US_TASK_0172373974__varname828530209214107">uname</span></i> | <strong><span id="EN-US_TASK_0172373974__cmdparmname1116183012214107">user-name-template</span></strong> } <strong><span id="EN-US_TASK_0172373974__cmdparmname882363748214107">password</span></strong> { <strong><span id="EN-US_TASK_0172373974__cmdparmname216374236214107">cipher</span></strong> <i><span class="varname" id="EN-US_TASK_0172373974__varname660317200214107">password</span></i> | <strong><span id="EN-US_TASK_0172373974__cmdparmname1410729670214107">simple</span></strong> <i><span class="varname" id="EN-US_TASK_0172373974__varname1783362548214107">password</span></i> } [ <strong><span id="EN-US_TASK_0172373974__cmdparmname1443313900214107">default-domain</span></strong> <strong><span id="EN-US_TASK_0172373974__cmdparmname940748092214107">authentication</span></strong> <i><span class="varname" id="EN-US_TASK_0172373974__varname343646261214107">dname</span></i> | <strong><span id="EN-US_TASK_0172373974__cmdparmname1640727932214107">bas-interface-name</span></strong> <i><span class="varname" id="EN-US_TASK_0172373974__varname1488744257214107">bname</span></i> | <strong><span id="EN-US_TASK_0172373974__cmdparmname2096997060214107">accounting-copy</span></strong> <strong><span id="EN-US_TASK_0172373974__cmdparmname350764447214107">radius-server</span></strong> <i><span class="varname" id="EN-US_TASK_0172373974__varname2126003777214107">rd-name</span></i> | <strong><span id="EN-US_TASK_0172373974__cmdparmname1949791825214107">nas-port-type</span></strong> { <strong><span id="EN-US_TASK_0172373974__cmdparmname305730465214107">async</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname1097712743214107">sync</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname1829889509214107">isdn-sync</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname62827113214107">isdn-async-v120</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname2063621749214107">isdn-async-v110</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname1163556005214107">virtual</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname107354195214107">piafs</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname218964788214107">hdlc</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname399662051214107">x.25</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname1750162239214107">x.75</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname1059086853214107">g.3-fax</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname1704218955214107">sdsl</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname1253395651214107">adsl-cap</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname1528382195214107">adsl-dmt</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname1911533395214107">idsl</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname1751360353214107">ethernet</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname1735536428214107">xdsl</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname1847173277214107">cable</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname252630748214107">wireless-other</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname1586801965214107">802.11</span></strong> } | <strong><span id="EN-US_TASK_0172373974__cmdparmname50544975214107">mac-address</span></strong> <i><span class="varname" id="EN-US_TASK_0172373974__varname258159531214107">mac-address</span></i> | <strong><span id="EN-US_TASK_0172373974__cmdparmname1286286158214107">client-id</span></strong> <i><span class="varname" id="EN-US_TASK_0172373974__varname1826652632214107">client-id</span></i> ] <sup id="EN-US_TASK_0172373974__sup1161284986214107">*</sup> command.</li></ul>
<div class="note" id="EN-US_TASK_0172373974__note12967351816"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul id="EN-US_TASK_0172373974__ul1327151812812"><li id="EN-US_TASK_0172373974__li3273181815816">If a BAS interface has an online user, you can change the access type of the BAS interface only when the online user is a leased line user.</li><li id="EN-US_TASK_0172373974__li820674110814">After the access type is set to leased line access, the <span class="keyword" id="EN-US_TASK_0172373974__keyword4567943125810">NE40E</span> performs authentication on the leased line user immediately.</li></ul>
</div></div>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=trust+8021p-protocol"><b><span class="cmdname">trust 8021p-protocol</span></b></a></span><p><p>The BAS interface is configured to trust the 802.1p priority of user packets.</p>
</p><p><p>The <a href="cmdqueryname=trust+8021p-protocol"><b><span class="cmdname">trust 8021p-protocol</span></b></a> command can be run only when the access type is set to Layer 2 common users.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=access-limit"><b><span class="cmdname">access-limit</span></b></a> <i><span class="varname">user-number</span></i> [ <strong><span>start-vlan</span></strong> <i><span class="varname">start-vlan</span></i> [ <strong><span>end-vlan</span></strong> <i><span class="varname">end-vlan</span></i> ] [ <strong><span>qinq</span></strong> <i><span class="varname">qinq-vlan</span></i> ] [ <strong><span>user-type</span></strong> { <strong><span>ipoe</span></strong> <span>{ <strong><span>ipv4</span></strong> | <strong><span>ipv6</span></strong> }</span> | <strong><span>pppoe</span></strong> } ] ]</span><p><p>The maximum number of users allowed access through the interface is configured.</p>
</p><p><div class="p"><ul><li>If this command is configured on a BAS sub-interface, the maximum number of access users in a VLAN or VLAN range are limited.</li><li>If this command is configured on a BAS main interface and no VLAN is specified, the maximum number of access users in all VLANs bound to the main interface is limited. If the maximum number of access users in a VLAN or VLAN range has been set on a BAS sub-interface, the configuration on the BAS sub-interface takes precedence over that on the BAS main interface. The configuration on the BAS main interface takes effect if no VLAN is specified.</li><li>You can also limit the maximum number of access users based on a specified access user type.</li></ul>
</div>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=client-replace+enable"><b><span class="cmdname">client-replace enable</span></b></a></span><p><p>The device is enabled to log out an existing user when a new user whose login request packets carry the same VLAN information as the former requests to go online from the same BAS interface.</p>
</p></li><li><span>(Optional) Run <strong><a href="cmdqueryname=default-user-name+include+user-defined"><b><span class="cmdname">default-user-name include user-defined</span></b></a> </strong><em><i><span class="varname">uname</span></i></em><strong> <a href="cmdqueryname=ipoe"><b><span class="cmdname">ipoe</span></b></a></strong></span><p><p>A username is specified for a Layer 2 IPoE user on the BAS interface.</p>
</p><p><p>You need to run this command if a username needs to be specified for a Layer 2 IPoE user accessing through an interface. The username specified using this command takes precedence over that generated using the username template.</p>
</p></li><li><span>(Optional) Configure a domain.</span><ul><li>To specify the default pre-authentication domain, run the <a href="cmdqueryname=default-domain"><b><span class="cmdname">default-domain</span></b></a> <strong>pre-authentication</strong> <span><em>domain-name</em></span> command. </li><li>To specify the default authentication domain, run the <a href="cmdqueryname=default-domain"><b><span class="cmdname">default-domain</span></b></a> <strong>authentication</strong> [ <strong>force</strong> | <strong>replace</strong> ] <span><em>domain-name</em></span> command. </li><li>To specify domains whose users are allowed to access the BAS interface, run the <a href="cmdqueryname=permit-domain"><b><span class="cmdname">permit-domain</span></b></a> <em>domain-name</em> &amp;&lt;1-<span>16</span>&gt; command. <p>To specify domains whose users are denied access to the BAS interface, run the <a href="cmdqueryname=deny-domain"><b><span class="cmdname">deny-domain</span></b></a> <i><span class="varname">domain-name</span></i> &amp;&lt;1-16&gt; command. </p>
</li><li>To specify a list of domains whose users are allowed to access the BAS interface, run the <a href="cmdqueryname=permit-domain-list"><b><span class="cmdname">permit-domain-list</span></b></a> command. <p>To specify a list of domains whose users are denied access to the BAS interface, run the <a href="cmdqueryname=deny-domain-list"><b><span class="cmdname">deny-domain-list</span></b></a> command. </p>
</li></ul>
<p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The <a href="cmdqueryname=permit-domain"><b><span class="cmdname">permit-domain</span></b></a> command cannot be used together with the <a href="cmdqueryname=deny-domain"><b><span class="cmdname">deny-domain</span></b></a>, <a href="cmdqueryname=deny-domain-list"><b><span class="cmdname">deny-domain-list</span></b></a>, or <a href="cmdqueryname=permit-domain-list"><b><span class="cmdname">permit-domain-list</span></b></a> command.</p>
</div></div>
</p></li><li id="EN-US_TASK_0172373974__step_08"><span id="EN-US_TASK_0172373974__cmd1492315321567">(Optional) Run either of the following commands:</span><p><p id="EN-US_TASK_0172373974__p1577152718569">To configure the <span class="keyword" id="EN-US_TASK_0172373974__keyword456633244214107">NE40E</span> to trust the access-line-id information reported by the client, <span>run the <a href="cmdqueryname=client-option82"><b><span class="cmdname" id="EN-US_TASK_0172373974__cmdname689692955611">client-option82</span></b></a><span> [ <strong><span id="EN-US_TASK_0172373974__cmdparmname18896629115616">basinfo-insert</span></strong> { <strong><span id="EN-US_TASK_0172373974__cmdparmname18968294562">cn-telecom</span></strong></span></span><span> [ <strong><span id="EN-US_TASK_0172373974__cmdparmname88961229125618">version2</span></strong> ]</span><span><span> | <strong><span id="EN-US_TASK_0172373974__cmdparmname18896142914560">version3</span></strong> } | <strong><span id="EN-US_TASK_0172373974__cmdparmname7896112918561">version1</span></strong> ]</span></span> or <span><a href="cmdqueryname=client-access-line-id"><b><span class="cmdname" id="EN-US_TASK_0172373974__cmdname88961429105616">client-access-line-id</span></b></a><span> [ <strong><span id="EN-US_TASK_0172373974__cmdparmname1789619293568">basinfo-insert</span></strong> { <strong><span id="EN-US_TASK_0172373974__cmdparmname1589682995617">cn-telecom</span></strong></span></span><span> [ <strong><span id="EN-US_TASK_0172373974__cmdparmname17896172955617">version2</span></strong> ]</span><span><span> | <strong><span id="EN-US_TASK_0172373974__cmdparmname9896142925615">version3</span></strong> } | <strong><span id="EN-US_TASK_0172373974__cmdparmname98961729145615">version1</span></strong> ]</span></span> command.</p>
</p><p><p id="EN-US_TASK_0172373974__p1291137193214107">To configure the <span class="keyword" id="EN-US_TASK_0172373974__keyword933538525214107">NE40E</span> to insert the access-line-id information in the cn-telecom format when it does not trust the access-line-id information reported by the client, run the <a href="cmdqueryname=basinfo-insert+cn-telecom"><b><span class="cmdname" id="EN-US_TASK_0172373974__cmdname1195281547214107">basinfo-insert cn-telecom</span></b></a> command.</p>
<p id="EN-US_TASK_0172373974__p1556783701214107">To configure the <span class="keyword" id="EN-US_TASK_0172373974__keyword1594533067214107">NE40E</span> to insert the access-line-id information in version2 format when it does not trust the access-line-id information reported by the client, run the <a href="cmdqueryname=basinfo-insert+version2"><b><span class="cmdname" id="EN-US_TASK_0172373974__cmdname1389147601214107">basinfo-insert version2</span></b></a> command.</p>
</p><p><p id="EN-US_TASK_0172373974__p142007193214107">The <span class="keyword" id="EN-US_TASK_0172373974__keyword1719111298358">NE40E</span> transmits access-line-id information to the RADIUS server based on the following configurations:</p>
<ul id="EN-US_TASK_0172373974__ul1762605759214107"><li id="EN-US_TASK_0172373974__li1948340477214107">If the <a href="cmdqueryname=option82-relay-mode+dslam"><b><span class="cmdname" id="EN-US_TASK_0172373974__cmdname1920669561214107">option82-relay-mode dslam</span></b></a> { <strong><span id="EN-US_TASK_0172373974__cmdparmname1008454079214107">auto-identify</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname604925724214107">config-identify</span></strong> } command is run, the device fills in the Agent-Circuit-Id attribute and Agent-Remote-Id attribute to be sent to the RADIUS server with a DSLAM's access-line-id field. If the <a href="cmdqueryname=option82-relay-mode+include"><b><span class="cmdname" id="EN-US_TASK_0172373974__cmdname1260752740214107">option82-relay-mode include</span></b></a> { <strong><span id="EN-US_TASK_0172373974__cmdparmname678542460214107">allvalue</span></strong> | { <strong><span id="EN-US_TASK_0172373974__cmdparmname239037362214107">agent-circuit-id</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname1998578832214107">agent-remote-id</span></strong> [ <i><span class="varname" id="EN-US_TASK_0172373974__varname613177842214107">separator</span></i> ] }<sup id="EN-US_TASK_0172373974__sup1862437786214107">*</sup> } command is run, the device is configured to add access-line-id information to the NAS-Port-Id attribute of packets to be sent to the RADIUS server.</li><li id="EN-US_TASK_0172373974__li532826796214107">If the <a href="cmdqueryname=option82-relay-mode+subopt"><b><span class="cmdname" id="EN-US_TASK_0172373974__cmdname449361078214107">option82-relay-mode subopt</span></b></a> { <strong><span id="EN-US_TASK_0172373974__cmdparmname266497260214107">agent-circuit-id</span></strong> { <strong><span id="EN-US_TASK_0172373974__cmdparmname13730024214107">hex</span></strong> | <i><span class="varname" id="EN-US_TASK_0172373974__varname447246839214107">string</span></i> } | <strong><span id="EN-US_TASK_0172373974__cmdparmname1896883370214107">agent-remote-id</span></strong> { <strong><span id="EN-US_TASK_0172373974__cmdparmname2051384667214107">hex</span></strong> | <i><span class="varname" id="EN-US_TASK_0172373974__varname546504407214107">string</span></i> } }<sup id="EN-US_TASK_0172373974__sup671610174315">*</sup> command is run, the format in which the Agent-Circuit-Id or Agent-Remote-Id attribute is sent is specified.</li></ul>
</p><p><p id="EN-US_TASK_0172373974__p604378184214107">To enable the function of locating a user in virtual BAS (VBAS) mode, run the <a href="cmdqueryname=vbas"><b><span class="cmdname" id="EN-US_TASK_0172373974__cmdname1128166673214107">vbas</span></b></a> <i><span class="varname" id="EN-US_TASK_0172373974__varname948895055214107">vbas-mac-address</span></i> [ <strong><span id="EN-US_TASK_0172373974__cmdparmname1637561024214107">auth-mode</span></strong> { <strong><span id="EN-US_TASK_0172373974__cmdparmname329742977214107">ignore</span></strong> | <strong><span id="EN-US_TASK_0172373974__cmdparmname810963765214107">reject</span></strong> } ] command. </p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=access-line-id+update+online"><b><span class="cmdname">access-line-id update online</span></b></a></span><p><p>The device is enabled to update the Option 82 information of an online user through a DHCP Request message for lease renewal.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=dhcp+option82-mismatch+action+offline"><b><span class="cmdname">dhcp option82-mismatch action offline</span></b></a></span><p><p>The device is configured to log out an online user when the Option 82 information carried in the Discover, Request, or lease renewal messages sent by the user changes.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Before running this command, perform the following operations:</p>
<ul><li>Run the <a href="cmdqueryname=access-type+layer2-subscriber"><b><span class="cmdname">access-type layer2-subscriber</span></b></a> or <a href="cmdqueryname=access-type+layer2-leased-line"><b><span class="cmdname">access-type layer2-leased-line</span></b></a> command to set the user type to Layer 2 subscriber access.</li><li>Run the <a href="cmdqueryname=client-option82"><b><span class="cmdname">client-option82</span></b></a> command to configure the device to trust the access-line-id information reported by a client.</li></ul>
</div></div>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=client-option60"><b><span class="cmdname">client-option60</span></b></a></span></span><p><p>The <span class="keyword">NE40E</span> is configured to trust the Option 60 information reported by clients. </p>
</p><p><p>If user domain information is obtained from Option 60, the character string following the domain name delimiter (@ is the default) in the Option 60 field is used as the domain name. If no user domain information is obtained from Option 60, the <span class="keyword">NE40E</span> performs the following procedure to continue searching for the information. If there is no domain name delimiter in the field, the <span class="keyword">NE40E</span> performs a fuzzy or exact match of the domain name information based on the configured mode. The procedure will stop if user domain information is obtained.</p>
<ul><li>Check whether the <a href="cmdqueryname=client-option60"><b><span class="cmdname">client-option60</span></b></a> command is configured on the BAS interface. If the command is configured, obtain user domain information based on the command configuration.</li></ul>
<ul><li>Check whether the <a href="cmdqueryname=dhcp+option-60"><b><span class="cmdname">dhcp option-60</span></b></a> command is configured in the system view. If the command is configured, obtain user domain information based on the command configuration.</li></ul>
<ul><li>Use the authentication domain configured on the BAS interface as the user domain.</li></ul>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=option37-relay-mode+include+remote-id"><b><span class="cmdname">option37-relay-mode include remote-id</span></b></a></span><p><p>The device is enabled to discard the enterprise code in Option 37.</p>
</p><p><p>The following operations must have been performed:</p>
<ul><li>Run the <a href="cmdqueryname=client-option37"><b><span class="cmdname">client-option37</span></b></a> [ <strong><span>basinfo-insert ft-telecom</span></strong> ] command to enable the <span class="keyword">NE40E</span> to trust the information in the Option 37 field of DHCPv6 messages sent by clients.</li><li>Run the <a href="cmdqueryname=client-option18"><b><span class="cmdname">client-option18</span></b></a> command to configure the <span class="keyword">NE40E</span> to trust the information in the Option 18 field of DHCPv6 messages sent by clients.</li></ul>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=accounting-copy"><b><span class="cmdname">accounting-copy</span></b></a> <strong>radius-server</strong> <em>radius-name</em></span></span><p><p>The accounting packet copy function is enabled.</p>
<p></p>
</p></li><li id="EN-US_TASK_0172373974__step_font_03FAFB65"><span id="EN-US_TASK_0172373974__cmd1994992702214411">(Optional) Run <span><a href="cmdqueryname=link-account+resolve"><b><span class="cmdname" id="EN-US_TASK_0172373974__cmdname797682605214411">link-account resolve</span></b></a></span></span><p><p id="EN-US_TASK_0172373974__p34983986214411">The <span class="keyword" id="EN-US_TASK_0172373974__keyword373162617381">NE40E</span> is enabled to carry link-account information in an Accounting-Request packet to be sent to a RADIUS server.</p>
</p><p><p id="EN-US_TASK_0172373974__p251180402214107">Before running the command, set the access type to Layer 2 subscriber access.</p>
<p id="EN-US_TASK_0172373974__p1082313140214107">The command affects the RADIUS No. 25 attribute in Accounting-Request packets sent by the device to a RADIUS accounting server.</p>
<div class="p" id="EN-US_TASK_0172373974__p1103559688214107">Link-account information is filled into the RADIUS No. 25 attribute (Class) if both of the following conditions are met:<ul id="EN-US_TASK_0172373974__ul952371712214107"><li id="EN-US_TASK_0172373974__li1044966692214107">None authentication and RADIUS accounting are configured for users going online through the interface.</li><li id="EN-US_TASK_0172373974__li2129741245214107">For Layer 2 common users, VLANs and VLAN descriptions are configured on the interface.</li></ul>
</div>
</p></li><li><span>Perform the following configurations by service type:</span><p><ul><li><p>For IPoE access services:</p>
<p>Run the <a href="cmdqueryname=ip-trigger"><b><span class="cmdname">ip-trigger</span></b></a> command to enable user access triggered by IP packets or run the <a href="cmdqueryname=arp-trigger"><b><span class="cmdname">arp-trigger</span></b></a> command to enable user access triggered by ARP packets. </p>
</li><li><p>For IPoEv6 access services:</p>
<p>Run the <a href="cmdqueryname=ipv6-trigger"><b><span class="cmdname">ipv6-trigger</span></b></a> command to enable user access triggered by IPv6 packets or run the <a href="cmdqueryname=nd-trigger"><b><span class="cmdname">nd-trigger</span></b></a> command to enable user access triggered by NS/NA packets.</p>
</li></ul>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=wlan-switch+enable"><b><span class="cmdname">wlan-switch enable</span></b></a> [ <strong><span>switch-group</span></strong> <i><span class="varname">switch-group-name</span></i> ]</span></span><p><p>WLAN user roaming switchover is enabled.</p>
</p><p><div class="p">After WLAN user roaming switchover is enabled on a BAS interface, you need to configure the interface to use received user packets to trigger roaming procedures for WLAN users. Perform the following configurations based on specific roaming scenarios:<ul><li>If users do not pass through areas without Wi-Fi signals when roaming between different APs, run the <a href="cmdqueryname=ip-trigger"><b><span class="cmdname">ip-trigger</span></b></a>, <a href="cmdqueryname=arp-trigger"><b><span class="cmdname">arp-trigger</span></b></a><span>, or <a href="cmdqueryname=ipv6-trigger"><b><span class="cmdname">ipv6-trigger</span></b></a></span> command to configure the interface to use received IP/ARP packets or NS/NA/IPv6 packets to trigger roaming procedures for the WLAN users. <span>You can run either the <span><a href="cmdqueryname=ip-trigger"><b><span class="cmdname">ip-trigger</span></b></a><span> or <a href="cmdqueryname=arp-trigger"><b><span class="cmdname">arp-trigger</span></b></a></span></span> command, or both as required. To trigger roaming procedures for Layer 2 IPv6 users, run the <a href="cmdqueryname=ipv6-trigger"><b><span class="cmdname">ipv6-trigger</span></b></a> command.</span></li><li>If users pass through areas without Wi-Fi signals when roaming between different APs, run the <a href="cmdqueryname=dhcp+session-mismatch"><b><span class="cmdname">dhcp session-mismatch</span></b></a> <strong><span>action</span></strong> <strong><span>roam</span></strong> <span>{ <a href="cmdqueryname=ipv4"><b><span class="cmdname">ipv4</span></b></a> | <strong><span>ipv6</span></strong><span>|</span> <strong><span>nd</span></strong> } <sup>*</sup></span> command to configure the interface to allow users to send DHCPv4 Discover or Request messages, DHCPv6 Solicit messages, or ND RS messages for re-login.<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>The <a href="cmdqueryname=dhcp+session-mismatch"><b><span class="cmdname">dhcp session-mismatch</span></b></a> <strong><span>action</span></strong> <strong><span>roam</span></strong> <span>{ <a href="cmdqueryname=ipv4"><b><span class="cmdname">ipv4</span></b></a> | <strong><span>ipv6</span></strong> <span>|</span> <strong><span><span>nd</span></span></strong> } <sup>*</sup></span> and <a href="cmdqueryname=dhcp+session-mismatch"><b><span class="cmdname">dhcp session-mismatch</span></b></a> <strong><span>action</span></strong> <strong><span>offline</span></strong> commands override one another. If the two commands are run on the same interface, the command run later takes effect.</li></ul>
</div></div>
</li></ul>
</div>
<p>After the preceding steps are performed, WLAN users do not need to be re-authenticated for login after being logged out when roaming between different APs. This ensures that services are not interrupted.</p>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=user+detect"><b><span class="cmdname">user detect</span></b></a> <strong><span>retransmit</span></strong> <i><span class="varname">num</span></i> <strong><span>interval</span></strong> <i><span class="varname">time</span></i><span> [ </span></span><span><span><strong><span>datacheck</span></strong> ] or <a href="cmdqueryname=user+detect"><b><span class="cmdname">user detect</span></b></a> </span></span><span><span><strong><span>datacheck</span></strong></span></span></span><p><p>User detection parameters are configured.</p>
<p></p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=dhcp+session-mismatch"><b><span class="cmdname">dhcp session-mismatch</span></b></a> <strong><span>action</span></strong> <strong><span>offline</span></strong></span><p><p>The device is configured to log out online users whose physical location information is changed but MAC addresses remain unchanged when they resend DHCP or ND login requests.</p>
</p><p></p></li><li id="EN-US_TASK_0172373974__step_block"><span id="EN-US_TASK_0172373974__cmd2091445108214107">(Optional) Run <a href="cmdqueryname=block"><b><span class="cmdname" id="EN-US_TASK_0172373974__cmdname1667319563214411">block</span></b></a> [ <strong><span id="EN-US_TASK_0172373974__cmdparmname1294281954214411">start-vlan</span></strong> <span>{ </span><i><span class="varname" id="EN-US_TASK_0172373974__varname139595633214411">start-vlan</span></i> [ <strong><span id="EN-US_TASK_0172373974__cmdparmname536837868214411">end-vlan</span></strong> <i><span class="varname" id="EN-US_TASK_0172373974__varname465219514214411">end-vlan</span></i> ] [ <strong><span id="EN-US_TASK_0172373974__cmdparmname1647950542214411">qinq</span></strong> <i><span class="varname" id="EN-US_TASK_0172373974__varname535560166214411">qinq-vlan</span></i> ] <span>| <strong><span id="EN-US_TASK_0172373974__cmdparmname231547610214411">any</span></strong> <strong><span id="EN-US_TASK_0172373974__cmdparmname982559448214411">qinq</span></strong> <i><span class="varname" id="EN-US_TASK_0172373974__varname605190948214411">start-qinq-vlan</span></i> [ <i><span class="varname" id="EN-US_TASK_0172373974__varname543437057214411">end-qinq-vlan</span></i> ] } </span>]</span><p><p id="EN-US_TASK_0172373974__p1043311566478">The BAS interface is blocked.</p>
</p><p><div class="note" id="EN-US_TASK_0172373974__note8548329155419"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172373974__p4548929165419">If you run the <a href="cmdqueryname=block+start-vlan+any+qinq"><b><span class="cmdname" id="EN-US_TASK_0172373974__cmdname14641245185611">block start-vlan any qinq</span></b></a> command in the interface view to set the interface to be blocked, all the users who go online from this interface with a specified VLAN ID are prohibited from access.</p>
</div></div>
</p></li><li><span>Run <a href="cmdqueryname=authentication-method"><b><span class="cmdname">authentication-method</span></b></a> { <strong><span>bind</span></strong> | { <span><strong><span>dot1x</span></strong> | </span><strong><span>ppp</span></strong> <span>| { <strong><span>fast</span></strong> | <strong><span>web</span></strong> }</span> } <sup>*</sup> }</span><p><p>An authentication method is configured.</p>
</p><p><p>You can configure authentication methods for only Layer 2 users on BAS interfaces. Multiple authentication methods can be configured on a BAS interface but you should note the following:</p>
<ul><li>Web authentication conflicts with fast authentication.</li><li>Binding authentication conflicts with the other authentication methods.</li></ul>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=select-authentication-domain+individual"><b><span class="cmdname">select-authentication-domain individual</span></b></a></span><p><p>The device is enabled to use the domain carried in an EAP username as the authentication domain for an EAP-authentication-based RADIUS proxy user.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=dhcp-reply+trust+broadcast-flag"><b><span class="cmdname">dhcp-reply trust broadcast-flag</span></b></a></span><p><p>The device is enabled to use the broadcast flag value in a DHCP request packet to determine the destination MAC address type for a DHCP response packet.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>After the <a href="cmdqueryname=dhcp+reply+trust+broadcast-flag"><b><span class="cmdname">dhcp reply trust broadcast-flag</span></b></a> command is run, if the broadcast flag value in a DHCP request packet is 1, the device replies with a DHCP response packet that carries the broadcast address of all Fs as the destination MAC address; if the broadcast flag value in a DHCP request packet is 0, the device replies with a DHCP response packet that carries the user MAC address as the destination MAC address.</p>
<p>The <a href="cmdqueryname=dhcp-reply+trust+broadcast-flag"><b><span class="cmdname">dhcp-reply trust broadcast-flag</span></b></a> command applies only to Layer 2 access users.</p>
<p>The <a href="cmdqueryname=dhcp-reply+trust+broadcast-flag"><b><span class="cmdname">dhcp-reply trust broadcast-flag</span></b></a> command is mutually exclusive with the <a href="cmdqueryname=dhcp-broadcast"><b><span class="cmdname">dhcp-broadcast</span></b></a> command.</p>
</div></div>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=dhcpv6+user-identify-policy"><b><span class="cmdname">dhcpv6 user-identify-policy</span></b></a> { <strong><span>option79-option38</span></strong> | <strong><span>option38-option79</span></strong> | <strong><span>option79</span></strong> | <strong><span>option38</span></strong> } [ <strong><span>no-exist-action offline</span></strong> ]</span></span><p><p>A method is configured for obtaining MAC addresses of Layer 3 DHCPv6 users during login.</p>
</p></li><li><span>(Optional) Enable suppression of leased line user access.</span><p><ol type="a"><li>Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to return to the interface view.</li><li>Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to return to the system view.</li><li>Run the <a href="cmdqueryname=access+leased-line+connection+chasten"><b><span class="cmdname">access leased-line connection chasten</span></b></a> <i><span class="varname">request-session</span></i> <i><span class="varname">request-period</span></i> <i><span class="varname">blocking-period</span></i> <strong><span>quickoffline</span></strong> command to enable suppression of leased line user access.<p>If the duration or traffic volume quota delivered by the RADIUS server to a leased line user is 0, the leased line user can go online but will be logged out immediately. This results in frequent logins and logouts of the leased line user.</p>
<p>To resolve the problem, run this command to configure the maximum number of connection requests for a leased line user and a blocking period.</p>
</li></ol>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipox_cfg_0035.html">Configuring IPoEv4 Access
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipox_cfg_0021.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipox_cfg_0007.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>