
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring L2TP Tunnel Authentication">
<meta name="abstract" content="An L2TP tunnel can be successfully established only after L2TP tunnel authentication succeeds.">
<meta name="description" content="An L2TP tunnel can be successfully established only after L2TP tunnel authentication succeeds.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_l2tp_cfg_013697.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_l2tp_cfg_013699.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_l2tp_cfg_013700.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z50024784,z00603461,w00800033,z00588052,c00549182,l2tp_ne,w00556928,l00593348,w00606909,w00447999,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="L2TP">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="L2TP">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="L2TP">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="L2TP">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="l00593348">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172374249">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring L2TP Tunnel Authentication</title>
</head>
<body><a name="EN-US_TASK_0172374249"></a><a name="EN-US_TASK_0172374249"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring L2TP Tunnel Authentication</h1>
<div class="taskbody" id="taskbody150149060214108"><p id="shortdesc1980438895214413">An L2TP tunnel can be successfully established only after L2TP tunnel authentication succeeds.</p>
<div class="context"><a name="EN-US_TASK_0172374249__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0172374249__context1632492158214413"><p id="EN-US_TASK_0172374249__p1044625434214413">Tunnel authentication improves tunnel security. An L2TP tunnel supports local, remote (RADIUS), and forcible RADIUS authentication.</p>
<p id="EN-US_TASK_0172374249__p56811873214413">In local authentication mode, a tunnel password, instead of a tunnel name, is used for a LAC or LNS to authenticate a tunnel. The tunnel name is used only by the LNS to select an L2TP group to respond to a connection request from the LAC. There is no special requirement on the format of the tunnel name, but the tunnel name configured on the LAC must be the same as the LAC tunnel name configured on the LNS. No LNS tunnel name needs to be configured on the LNS.</p>
<p id="EN-US_TASK_0172374249__p246295901214413">In remote authentication mode, a LAC or LNS takes an L2TP tunnel as a user; therefore, the format of the tunnel name must be username@domain. When a tunnel is set up, the LAC or LNS sends the received username and password from each other to the AAA server (RADIUS server) for authentication. To perform authentication, a username and password must be configured in advance on the AAA server</p>
<p id="EN-US_TASK_0172374249__p99360303214413">In forcible RADIUS authentication mode, a RADIUS server determines whether tunnel authentication is performed. If the attributes delivered by the RADIUS server contain a tunnel password, the tunnel password is used for tunnel authentication; otherwise, tunnel authentication is not performed.</p>
<p id="EN-US_TASK_0172374249__p1043365249214413">Select proper configuration procedure based on the authenticate mode you want to configure.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172374249__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul id="EN-US_TASK_0172374249__steps-unordered295807432214413"><li id="EN-US_TASK_0172374249__step2070271693214413"><span id="EN-US_TASK_0172374249__cmd1526295557214413">Local authentication</span><ol id="EN-US_TASK_0172374249__substeps240158899214413"><li class="substepexpand" id="EN-US_TASK_0172374249__substep810370261214413"><span id="EN-US_TASK_0172374249__cmd551687353214413">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172374249__cmdname245865469214413">system-view</span></b></a></span></span><p><p id="EN-US_TASK_0172374249__p1701388439214413">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172374249__substep819158214413"><span id="EN-US_TASK_0172374249__cmd882686624214413">Run <span><a href="cmdqueryname=l2tp-group"><b><span class="cmdname" id="EN-US_TASK_0172374249__cmdname1985920182214413">l2tp-group</span></b></a> <i><span class="varname" id="EN-US_TASK_0172374249__varname2091067160214413">group-name</span></i></span></span><p><p id="EN-US_TASK_0172374249__p1706803764214413">An L2TP group is created, and its view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172374249__substep1129661875214413"><span id="EN-US_TASK_0172374249__cmd324209998214413">(Optional) Run <span><a href="cmdqueryname=tunnel+name"><b><span class="cmdname" id="EN-US_TASK_0172374249__cmdname2142417901214413">tunnel name</span></b></a> <i><span class="varname" id="EN-US_TASK_0172374249__varname776340677214413">tunnel-name</span></i> [ <strong><span id="EN-US_TASK_0172374249__cmdparmname811094312214413">lns-ip</span></strong> <i><span class="varname" id="EN-US_TASK_0172374249__varname2038646610214413">lns-ip-address</span></i> ]</span></span><p><p id="EN-US_TASK_0172374249__p1007994366214413">A local tunnel name is specified.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172374249__substep2027210872214413"><span id="EN-US_TASK_0172374249__cmd1505066049214413">Run <span><a href="cmdqueryname=tunnel+authentication"><b><span class="cmdname" id="EN-US_TASK_0172374249__cmdname1888605925214413">tunnel authentication</span></b></a> <span>[ <strong><span id="EN-US_TASK_0172374249__cmdparmname477824683214413">strict</span></strong> ]</span></span></span><p><p id="EN-US_TASK_0172374249__p707070798214413">Tunnel authentication is enabled.</p>
<p id="EN-US_TASK_0172374249__p1781431086214413">You can decide whether to enable tunnel authentication before creating a tunnel connection. To ensure tunnel security, it is recommended that tunnel authentication be enabled.</p>
<p id="EN-US_TASK_0172374249__p1679157326214413">A tunnel authentication request can be initiated either by a LAC or an LNS. As long as one end is enabled with tunnel authentication, identity authentication is performed in the tunnel setup process. A tunnel can be set up only if the passwords of both ends are the same and not empty; otherwise, the local end automatically tears down the tunnel. If tunnel authentication is disabled on both ends, tunnel authentication is not performed, irrespective of whether passwords on both ends are the same.</p>
<p id="EN-US_TASK_0172374249__p193544845214413">The <a href="cmdqueryname=tunnel+authentication"><b><span class="cmdname" id="EN-US_TASK_0172374249__cmdname1756237785214413">tunnel authentication</span></b></a> <span><strong><span id="EN-US_TASK_0172374249__cmdparmname1673311453214413">strict</span></strong></span> command configuration takes effect only for the L2TP group on a LAC. After strict tunnel authentication is configured, the LAC performs validity check on the remote LNS's tunnel name and password. If the LNS tunnel name and password delivered by the RADIUS server or locally configured are different from those of the remote LNS, tunnel establishment fails. After strict tunnel authentication is configured, you can configure the RADIUS server to deliver the Tunnel-Server-Auth-ID attribute or configure an LNS tunnel name in the L2TP group view of the LAC based on site requirements.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172374249__substep477502858214413"><span id="EN-US_TASK_0172374249__cmd244145567214413">Run <a href="cmdqueryname=tunnel+password"><b><span class="cmdname" id="EN-US_TASK_0172374249__cmdname1658965854214108">tunnel password</span></b></a> [ <strong><span id="EN-US_TASK_0172374249__cmdparmname578308735214108">lns-ip</span></strong> <i><span class="varname" id="EN-US_TASK_0172374249__varname81340429214108">lns-ip-address</span></i> ] { <strong><span id="EN-US_TASK_0172374249__cmdparmname17494105911414">simple</span></strong> <i><span class="varname" id="EN-US_TASK_0172374249__varname721718151155">password</span></i> | <strong><span id="EN-US_TASK_0172374249__cmdparmname1349495917412">cipher</span></strong> <i><span class="varname" id="EN-US_TASK_0172374249__varname25231139159">cipher-password</span></i> }</span><p><p id="EN-US_TASK_0172374249__p902022711214413">A password for tunnel authentication is set.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172374249__substep854907593214413"><span id="EN-US_TASK_0172374249__cmd1766317121214413">Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172374249__cmdname669603634214413">commit</span></b></a></span></span><p><p id="EN-US_TASK_0172374249__p151442807214413">The configuration is committed.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0172374249__step1709315433214413"><span id="EN-US_TASK_0172374249__cmd1575736512214413">Remote (RADIUS) authentication</span><ol id="EN-US_TASK_0172374249__substeps1812986958214413"><li class="substepexpand" id="EN-US_TASK_0172374249__substep832638324214413"><span id="EN-US_TASK_0172374249__cmd1148867616214413">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172374249__cmdname315937173214413">system-view</span></b></a></span></span><p><p id="EN-US_TASK_0172374249__p163147812214413">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172374249__substep1066917341214413"><span id="EN-US_TASK_0172374249__cmd191297737214413">Run <span><a href="cmdqueryname=l2tp-group"><b><span class="cmdname" id="EN-US_TASK_0172374249__cmdname431785365214413">l2tp-group</span></b></a> <i><span class="varname" id="EN-US_TASK_0172374249__varname1803725252214413">group-name</span></i></span></span><p><p id="EN-US_TASK_0172374249__p1682460688214413">An L2TP group is created, and its view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172374249__substep1089240752214413"><span id="EN-US_TASK_0172374249__cmd1718711836214413">Run <span><a href="cmdqueryname=tunnel+authentication"><b><span class="cmdname" id="EN-US_TASK_0172374249__cmdname1291060958214413">tunnel authentication</span></b></a></span></span><p><p id="EN-US_TASK_0172374249__p1520235498214413">Tunnel authentication is enabled.</p>
<p id="EN-US_TASK_0172374249__p1854663144214413">You can decide whether to enable tunnel authentication before creating a tunnel connection. To ensure tunnel security, it is recommended that tunnel authentication be enabled.</p>
<p id="EN-US_TASK_0172374249__p1529890167214413">A tunnel authentication request can be initiated either by a LAC or an LNS. As long as one end is enabled with tunnel authentication, identity authentication is performed in the tunnel setup process. A tunnel can be set up only if the passwords of both ends are the same and not empty; otherwise, the local end automatically tears down the tunnel. If tunnel authentication is disabled on both ends, tunnel authentication is not performed, irrespective of whether passwords on both ends are the same.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172374249__substep295636042214413"><span id="EN-US_TASK_0172374249__cmd1625282383214413">Run <span><a href="cmdqueryname=tunnel+aaa-authentication"><b><span class="cmdname" id="EN-US_TASK_0172374249__cmdname1427274313214413">tunnel aaa-authentication</span></b></a></span></span><p><p id="EN-US_TASK_0172374249__p2036674457214413">Remote authentication is enabled.</p>
<p id="EN-US_TASK_0172374249__p518540302214413">Remote authentication indicates that the L2TP tunnel is not authenticated locally, but authenticated on an AAA server (RADIUS server).</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172374249__substep1297600330214413"><span id="EN-US_TASK_0172374249__cmd1072311025214413">Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172374249__cmdname1156229526214413">commit</span></b></a></span></span><p><p id="EN-US_TASK_0172374249__p1360832980214413">The configuration is committed.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0172374249__step62771906214413"><span id="EN-US_TASK_0172374249__cmd592953465214413">Forcible RADIUS authentication</span><ol id="EN-US_TASK_0172374249__substeps2078734874214413"><li class="substepexpand" id="EN-US_TASK_0172374249__substep992187637214413"><span id="EN-US_TASK_0172374249__cmd487096104214413">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172374249__cmdname1294643616214413">system-view</span></b></a></span></span><p><p id="EN-US_TASK_0172374249__p584655473214413">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172374249__substep1763549311214413"><span id="EN-US_TASK_0172374249__cmd403974083214413">Run <span><a href="cmdqueryname=l2tp-group"><b><span class="cmdname" id="EN-US_TASK_0172374249__cmdname308503410214413">l2tp-group</span></b></a> <i><span class="varname" id="EN-US_TASK_0172374249__varname1098043684214413">group-name</span></i></span></span><p><p id="EN-US_TASK_0172374249__p1125947712214413">An L2TP group is created, and its view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172374249__substep1390937794214413"><span id="EN-US_TASK_0172374249__cmd2132006163214413">Run <span><a href="cmdqueryname=tunnel+radius-force"><b><span class="cmdname" id="EN-US_TASK_0172374249__cmdname1536334558214413">tunnel radius-force</span></b></a></span></span><p><p id="EN-US_TASK_0172374249__p1514521755214413">Forcible RADIUS authentication is enabled.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172374249__substep324251563214413"><span id="EN-US_TASK_0172374249__cmd1530006902214413">Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172374249__cmdname314251220214413">commit</span></b></a></span></span><p><p id="EN-US_TASK_0172374249__p1095441899214413">The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_l2tp_cfg_013697.html">Configuring an LNS
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_l2tp_cfg_013699.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_l2tp_cfg_013700.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>