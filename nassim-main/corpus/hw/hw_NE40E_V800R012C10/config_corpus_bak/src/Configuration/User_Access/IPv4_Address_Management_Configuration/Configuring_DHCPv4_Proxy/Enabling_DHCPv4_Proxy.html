
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Enabling DHCPv4 Proxy">
<meta name="abstract" content="To improve DHCPv4 server security, the NE40E is required not to contain real DHCPv4 server addresses in DHCPv4 packets sent to users. To meet this requirement, configure DHCPv4 proxy.">
<meta name="description" content="To improve DHCPv4 server security, the NE40E is required not to contain real DHCPv4 server addresses in DHCPv4 packets sent to users. To meet this requirement, configure DHCPv4 proxy.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0167.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z50024784,z00603461,w00800033,z00588052,c00549182,w00556928,l00593348,ipv4-address_ne,w00606909,w00447999,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPv4 Address Management">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv4 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv4 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv4 Address Management">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="l00593348">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172373791">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Enabling DHCPv4 Proxy</title>
</head>
<body><a name="EN-US_TASK_0172373791"></a><a name="EN-US_TASK_0172373791"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Enabling DHCPv4 Proxy</h1>
<div class="taskbody"><p>To improve DHCPv4 server security, the <span class="keyword">NE40E</span> is required not to contain real DHCPv4 server addresses in DHCPv4 packets sent to users. To meet this requirement, configure DHCPv4 proxy.</p>
<div class="steps"><a name="EN-US_TASK_0172373791__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <em>interface-type interface-number</em> [ <i><span class="varname">.subinterface-number</span></i> ]</span><p><p>The interface view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=bas"><b><span class="cmdname">bas</span></b></a></span><p><p>A BAS interface is created, and its view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=access-type"><b><span class="cmdname">access-type</span></b></a> <strong>layer2-subscriber</strong> [ <strong>default-domain</strong> { <strong>pre-authentication</strong> <em>predname</em> | <strong>authentication</strong> [ <strong>force</strong> | <strong>replace</strong> ] <em>dname</em> } <sup>*</sup> ]</span><p><p>The access type and related attributes are configured for Layer 2 common users.</p>
</p><p><p>When setting the user access type on a BAS interface, you can set the service attributes of the access users at the same time or later.</p>
</p></li><li><span>Run <a href="cmdqueryname=dhcp-proxy+enable"><b><span class="cmdname">dhcp-proxy enable</span></b></a></span><p><p>DHCPv4 proxy is enabled.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li><p>Currently, DHCPv4 proxy is used only for the remote address pool of the BAS. The configuration modification does not take effect on online users.</p>
</li><li><p>DHCPv4 proxy can also be used for Layer 2 users or users using Layer 2 leased line services.</p>
</li></ul>
</div></div>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=dhcp+lease-proxy"><b><span class="cmdname">dhcp lease-proxy</span></b></a> [ <i><span class="varname">lease-time</span></i> ]</span><p><p>DHCP lease proxy is enabled on the BAS interface, and the proxy lease is specified.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Using a shorter proxy lease can accelerate the identification of client or link faults. However, users renew their leases more frequently, increasing the processing load of the device. To balance the conflict between fault detection and device load, run the <a href="cmdqueryname=dhcp+lease-proxy"><b><span class="cmdname">dhcp lease-proxy</span></b></a> <strong><span>first-step</span></strong> <i><span class="varname">first-step</span></i> <strong><span>second-step</span></strong> <i><span class="varname">second-step</span></i> command to enable DHCP lease proxy with step-based proxy leases.</p>
</div></div>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=dhcp+lease-proxy+renew-packet+through-time"><b><span class="cmdname">dhcp lease-proxy renew-packet through-time</span></b></a> <i><span class="varname">time-value</span></i></span><p><p>The maximum number of times that a lease proxy user's client sends lease renewal packets to the DHCP server before T1 (1/2 of the lease) or T2 (7/8 of the lease) arrives is configured.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0167.html">Configuring DHCPv4 Proxy
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
</div>
</div>
</body>
</html>