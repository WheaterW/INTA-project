
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a RADIUS Server Group">
<meta name="abstract" content="">
<meta name="description" content="">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_aaa_cfg_0601.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_aaa_cfg_0603.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00588052,w00437000,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="AAA (Access User)">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="z00588052,w00437000">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001182417187">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Configuring a RADIUS Server Group</title>
</head>
<body><a name="EN-US_TASK_0000001182417187"></a><a name="EN-US_TASK_0000001182417187"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a RADIUS Server Group</h1>
<div class="taskbody"><p></p>
<div class="context"><a name="EN-US_TASK_0000001182417187__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>If remote authentication, authorization, and accounting are performed for users through a RADIUS server, you need to configure a RADIUS server group.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001182417187__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=radius-server+group"><b><span class="cmdname">radius-server group</span></b></a> <i><span class="varname">group-name</span></i></span><p><p>The RADIUS server group view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=radius-server+shared-key"><b><span class="cmdname">radius-server</span></b></a> <span>{</span> <strong><span>shared-key</span></strong> <i><span class="varname">key-string</span></i> <span>| <strong><span>shared-key-cipher</span></strong> <i><span class="varname">key-string-cipher</span></i> } </span>[ { <strong><span>authentication</span></strong> | <strong><span>accounting</span></strong> } { <i><span class="varname">ip-address</span></i> | <i><span class="varname">ipv6-address</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">instance-name</span></i> ] } [ <strong><span>source</span></strong> { { interface-name | interface-type interface-number } | <strong><span>ip-address</span></strong> <i><span class="varname">ip-address</span></i> } ] <i><span class="varname">port</span></i><span> [ <strong><span>weight</span></strong> <i><span class="varname">weight</span></i> ]</span> ]</span><p><p>The shared key for the communication with the RADIUS server is configured.</p>
</p></li><li><span>Configure the RADIUS authentication server as required.</span><p>
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Configuring a RADIUS authentication server</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.4.2.4.2.1.2.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.4.2.4.2.1.2.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.4.2.4.2.1.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.4.2.1.2.4.1.1 "><p>Specify an IPv4 RADIUS authentication server.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.4.2.1.2.4.1.2 "><ul><li><a href="cmdqueryname=radius-server"><b><span class="cmdname">radius-server </span></b></a><strong><span>authentication</span></strong> <i><span class="varname">ip-address</span></i> <i><span class="varname">port</span></i> { <strong><span>vpn-instance</span></strong> <i><span class="varname">instance-name</span></i> | { <strong><span>shared-key</span></strong> <i><span class="varname">key-string</span></i> | <strong><span>shared-key-cipher</span></strong> <i><span class="varname">cipher-string</span></i> } | <strong><span>source</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-num</span></i> | <strong><span>ip-address</span></strong> <i><span class="varname">ip-address</span></i> } } <sup>*</sup> [ <strong><span>weight</span></strong> <i><span class="varname">weight-value</span></i> ]</li><li><a href="cmdqueryname=radius-server"><b><span class="cmdname">radius-server</span></b></a> <strong><span>authentication</span></strong> <i><span class="varname">ip-address</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">instance-name</span></i> | <strong><span>source</span></strong> { { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-num</span></i> } | <strong><span>ip-address</span></strong> <i><span class="varname">source-ip-address</span></i> } | { <strong><span>shared-key</span></strong> <i><span class="varname">key-string</span></i> | <strong><span>shared-key-cipher</span></strong> <i><span class="varname">cipher-string </span></i>} ] <sup>*</sup> <i><span class="varname">port</span></i> [ <strong><span>weight</span></strong> <i><span class="varname">weight-value</span></i> ]</li><li><a href="cmdqueryname=radius-server"><b><span class="cmdname">radius-server</span></b></a> <strong><span>authentication</span></strong> <i><span class="varname">ip-address</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">instance-name</span></i> ] <strong><span>ppp-user-port</span></strong> <i><span class="varname">port</span></i></li></ul>
</td>
<td class="cellrowborder" rowspan="2" valign="top" width="33.33333333333333%" headers="mcps1.4.2.4.2.1.2.4.1.3 "><ul><li>Weights of authentication servers apply only to load balancing scenarios, and the default value is 0.</li><li><strong><span>ppp-user-port</span></strong> specifies that PPP users use different ports.</li></ul>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.2.4.2.1.2.4.1.1 "><p>Specify an IPv6 RADIUS authentication server.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.2.4.2.1.2.4.1.2 "><p><a href="cmdqueryname=radius-server"><b><span class="cmdname">radius-server </span></b></a><strong><span>authentication</span></strong> <i><span class="varname">ipv6-address</span></i>  [ <strong><span>vpn-instance</span></strong> <em>instance-name</em> | <strong><span>source</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-num</span></i> } | { <strong><span>shared-key</span></strong> <em>key-string</em> | <strong><span>shared-key-cipher</span></strong> <em>cipher-string</em> } ] * <i><span class="varname">port</span></i> [ <strong><span>weight</span></strong> <i><span class="varname">weight-value</span></i> ]</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li><span>Configure the RADIUS accounting server as required.</span><p>
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" frame="border" border="1" rules="all"><caption><b>Table 2 </b>Configuring a RADIUS accounting server</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.4.2.5.2.1.2.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.4.2.5.2.1.2.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.4.2.5.2.1.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.5.2.1.2.4.1.1 "><p>Specify an IPv4 RADIUS accounting server.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.5.2.1.2.4.1.2 "><ul><li><a href="cmdqueryname=radius-server"><b><span class="cmdname">radius-server </span></b></a><strong><span>accounting</span></strong> <i><span class="varname">ip-address</span></i> <i><span class="varname">port</span></i> { <strong><span>vpn-instance</span></strong> <i><span class="varname">instance-name</span></i> | { <strong><span>shared-key</span></strong> <i><span class="varname">key-string</span></i> | <strong><span>shared-key-cipher</span></strong> <i><span class="varname">cipher-string</span></i> } | <strong><span>source</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-num</span></i> | <strong><span>ip-address</span></strong> <i><span class="varname">ip-address</span></i> } } <sup>*</sup> [ <strong><span>weight</span></strong> <i><span class="varname">weight-value</span></i> ]</li><li><a href="cmdqueryname=radius-server"><b><span class="cmdname">radius-server</span></b></a> <strong><span>accounting</span></strong> <i><span class="varname">ip-address</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">instance-name</span></i> | <strong><span>source</span></strong> { { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-num</span></i> } | <strong><span>ip-address</span></strong> <i><span class="varname">source-ip-address</span></i> } | { <strong><span>shared-key</span></strong> <i><span class="varname">key-string</span></i> | <strong><span>shared-key-cipher</span></strong> <i><span class="varname">cipher-string</span></i> } ] <sup>*</sup> <i><span class="varname">port</span></i> [ <strong><span>weight</span></strong> <i><span class="varname">weight-value</span></i> ]</li></ul>
</td>
<td class="cellrowborder" rowspan="2" valign="top" width="33.33333333333333%" headers="mcps1.4.2.5.2.1.2.4.1.3 "><ul><li>Weights of accounting servers apply only to load balancing scenarios, and the default value is 0.</li><li><strong><span>ppp-user-port</span></strong> specifies that PPP users use different ports.</li></ul>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.2.5.2.1.2.4.1.1 "><p>Specify an IPv6 RADIUS accounting server.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.2.5.2.1.2.4.1.2 "><p><a href="cmdqueryname=radius-server"><b><span class="cmdname">radius-server </span></b></a><strong><span>accounting</span></strong> <i><span class="varname">ipv6-address</span></i> [ <strong><span>vpn-instance</span></strong> <em>instance-name</em> | <strong><span>source</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-num</span></i> } | { <strong><span>shared-key</span></strong> <em>key-string</em> | <strong><span>shared-key-cipher</span></strong> <em>cipher-string</em> } ] * <i><span class="varname">port</span></i> [ <strong><span>weight</span></strong> <i><span class="varname">weight-value</span></i> ]</p>
</td>
</tr>
</tbody>
</table>
</div>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>RADIUS authentication and accounting servers can use the same IP address, indicating that one server can perform both RADIUS authentication and accounting functions. If a server performs both RADIUS authentication and accounting functions, it uses a separate interface for each function.</p>
</div></div>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=radius-server+authentication+rollover-on-reject"><b><span class="cmdname">radius-server authentication rollover-on-reject</span></b></a></span><p><p>The device is enabled to poll RADIUS servers for authentication after receiving a RADIUS Access-Reject packet.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=radius-server+algorithm"><b><span class="cmdname">radius-server algorithm</span></b></a> { <strong><span>loading-share</span></strong> | <strong><span>master-backup</span></strong><span> </span>{ <strong>strict</strong> | <strong>sequence</strong> } <sup>*</sup> }</span><p><p>The algorithm for selecting a RADIUS server is configured.</p>
</p><p><p>After <strong><span>strict</span></strong> is configured, the accounting server is strictly selected based on the configured algorithm. The primary accounting server is preferentially selected, regardless of the selection result of the authentication server. If <strong><span>strict</span></strong> is not configured, the RADIUS accounting server is selected based on the selection result of the authentication server. Specifically, the RADIUS server that performs authentication for a user also performs accounting for the user.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=radius-server+alarm+disable"><b><span class="cmdname">radius-server alarm disable</span></b></a></span><p><p>The device is disabled from generating a RADIUS server down alarm if communication between it and the RADIUS server is interrupted.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=radius-server+accounting-start-packet+send+after-ppp"><b><span class="cmdname">radius-server accounting-start-packet send after-ppp</span></b></a></span><p><p>The device is configured to send Accounting Start packets to the RADIUS server immediately after NCP goes up for PPPoEv6 single-stack users who use DHCPv6 to obtain IPv6 addresses.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=radius-server+accounting-stop-packet+send+force"><b><span class="cmdname">radius-server accounting-stop-packet send force</span></b></a></span><p><p>The device is configured to forcibly send Accounting Stop packets.</p>
</p><p><p>In normal cases, a RADIUS server generates user entries only after accounting succeeds. In some cases, however, it may generate user entries in the database after authentication succeeds but before accounting starts. For example, if accounting fails after a user requesting an IP address is successfully authenticated, the requested IP address cannot be released and the user fails to go online using this IP address. In such case, run this command to configure the device to forcibly send an Accounting Stop packet to the RADIUS server to release the requested IP address.</p>
<p>This command applies only to scenarios where user authentication succeeds but accounting fails and residual user entries generated by the RADIUS server exist in the database.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_aaa_cfg_0601.html">Configuring Basic RADIUS Functions
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_aaa_cfg_0603.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>