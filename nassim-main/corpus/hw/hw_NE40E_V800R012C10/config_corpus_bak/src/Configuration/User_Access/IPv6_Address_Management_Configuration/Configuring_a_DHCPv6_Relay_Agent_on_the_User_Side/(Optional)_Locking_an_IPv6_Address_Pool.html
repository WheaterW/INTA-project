
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Locking an IPv6 Address Pool">
<meta name="abstract" content="This section describes how to lock an IPv6 address pool so that the address pool cannot be used to assign IPv6 addresses to new users.">
<meta name="description" content="This section describes how to lock an IPv6 address pool so that the address pool cannot be used to assign IPv6 addresses to new users.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0012.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_00060.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0015.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z50024784,z00603461,w00800033,z00588052,c00549182,ipv6-address_ne,w00556928,l00593348,w00606909,w00447999,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="l00593348">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172373866">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Locking an IPv6 Address Pool</title>
</head>
<body><a name="EN-US_TASK_0172373866"></a><a name="EN-US_TASK_0172373866"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Locking an IPv6 Address Pool</h1>
<div class="taskbody"><p>This section describes how to lock an IPv6 address pool
so that the address pool cannot be used to assign IPv6 addresses to
new users.</p>

<div class="context"><a name="EN-US_TASK_0172373866__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0172373866__en-us_task_0172373921_context2114628002214411"><p id="EN-US_TASK_0172373866__en-us_task_0172373921_p1845955411214411">An IPv6 address pool with an in-use IPv6 address cannot
be deleted. Therefore, configure the drain function to lock the IPv6
address pool before you delete the address pool. After an IPv6 address
pool is locked using the <a href="cmdqueryname=lock+drain"><b><span class="cmdname" id="EN-US_TASK_0172373866__en-us_task_0172373921_cmdname185370752214411">lock drain</span></b></a> command, DHCP
Renew or Rebind messages from online users will be discarded. The
IPv6 address pool can be deleted after all online users using the
address pool go offline upon lease expiry. If you only need to disable
an IPv6 address pool so that the address pool will not be used to
assign IPv6 addresses to new users but online users can still use
assigned IPv6 addresses, configure the lock function to lock the address
pool using the <strong id="EN-US_TASK_0172373866__en-us_task_0172373921_b57866581214411">lock</strong> command.</p>
</div></div>

<div class="steps"><a name="EN-US_TASK_0172373866__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0172373866__en-us_task_0172373921_steps20635093214411">
<li id="EN-US_TASK_0172373866__en-us_task_0172373921_step1055162939214411"><span id="EN-US_TASK_0172373866__en-us_task_0172373921_cmd203558847214411">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172373866__en-us_task_0172373921_cmdname371696075214411">system-view</span></b></a></span></span>
<p><p id="EN-US_TASK_0172373866__en-us_task_0172373921_p1791384259214411">The system view is displayed.</p>
</p>
</li>
<li id="EN-US_TASK_0172373866__en-us_task_0172373921_step1537470400214411"><span id="EN-US_TASK_0172373866__en-us_task_0172373921_cmd1741772096214411">Run <span><a href="cmdqueryname=ipv6+pool"><b><span class="cmdname" id="EN-US_TASK_0172373866__en-us_task_0172373921_cmdname1693072553214411">ipv6 pool</span></b></a> <i><span class="varname" id="EN-US_TASK_0172373866__en-us_task_0172373921_varname1952347112214411">pool-name</span></i> [ <strong><span id="EN-US_TASK_0172373866__en-us_task_0172373921_cmdparmname1286992580214411">bas</span></strong> { <strong><span id="EN-US_TASK_0172373866__en-us_task_0172373921_cmdparmname157876719214411">local</span></strong> | <strong><span id="EN-US_TASK_0172373866__en-us_task_0172373921_cmdparmname272923104214411">remote</span></strong> | <strong><span id="EN-US_TASK_0172373866__en-us_task_0172373921_cmdparmname2002289189214411">delegation</span></strong> | <strong><span id="EN-US_TASK_0172373866__en-us_task_0172373921_cmdparmname1679282348214411">relay</span></strong> } ]</span></span>
<p><p id="EN-US_TASK_0172373866__en-us_task_0172373921_p813855441214411">The IPv6 address pool view is displayed.</p>
</p>
</li>
<li id="EN-US_TASK_0172373866__en-us_task_0172373921_step818764643214411"><span id="EN-US_TASK_0172373866__en-us_task_0172373921_cmd2049628572214411">Perform either of the following configurations as needed:</span>
<p><ul id="EN-US_TASK_0172373866__en-us_task_0172373921_ul2022652518214411"><li id="EN-US_TASK_0172373866__en-us_task_0172373921_li858833996214411"><p id="EN-US_TASK_0172373866__en-us_task_0172373921_p1185379285214411"><a name="EN-US_TASK_0172373866__en-us_task_0172373921_li858833996214411"></a><a name="en-us_task_0172373921_li858833996214411"></a>Configure the drain function to lock the IPv6 address pool.</p>
<ol type="a" id="EN-US_TASK_0172373866__en-us_task_0172373921_ol557546622214411"><li id="EN-US_TASK_0172373866__en-us_task_0172373921_li954715375214411"><p id="EN-US_TASK_0172373866__en-us_task_0172373921_p2050980888214411"><a name="EN-US_TASK_0172373866__en-us_task_0172373921_li954715375214411"></a><a name="en-us_task_0172373921_li954715375214411"></a>Run <span><a href="cmdqueryname=lock+drain"><b><span class="cmdname" id="EN-US_TASK_0172373866__en-us_task_0172373921_cmdname1488410946214411">lock drain</span></b></a></span></p>
<p id="EN-US_TASK_0172373866__en-us_task_0172373921_p1470849453214411">The IPv6 address pool is locked
so that the address pool cannot be used to assign IPv6 addresses to
new users and Renew or Rebind messages from online users using the
address pool are discarded. </p>
<div class="note" id="EN-US_TASK_0172373866__en-us_task_0172373921_note1791974991214411"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172373866__en-us_task_0172373921_p1413008209214411">This command
does not take effect for ND users in remote address pool scenarios.</p>
</div></div>
</li><li id="EN-US_TASK_0172373866__en-us_task_0172373921_li55129876214411"><p id="EN-US_TASK_0172373866__en-us_task_0172373921_p1002374075214411"><a name="EN-US_TASK_0172373866__en-us_task_0172373921_li55129876214411"></a><a name="en-us_task_0172373921_li55129876214411"></a>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172373866__en-us_task_0172373921_cmdname1933429780214411">commit</span></b></a></span></p>
<p id="EN-US_TASK_0172373866__en-us_task_0172373921_p1699365048214411">The configuration is committed.</p>
</li></ol>
</li><li id="EN-US_TASK_0172373866__en-us_task_0172373921_li969156643214411"><p id="EN-US_TASK_0172373866__en-us_task_0172373921_p2099720053214411"><a name="EN-US_TASK_0172373866__en-us_task_0172373921_li969156643214411"></a><a name="en-us_task_0172373921_li969156643214411"></a>Configure the lock function to lock the IPv6 address pool.</p>
<ol type="a" id="EN-US_TASK_0172373866__en-us_task_0172373921_ol1055427640214411"><li id="EN-US_TASK_0172373866__en-us_task_0172373921_li667356161214411"><p id="EN-US_TASK_0172373866__en-us_task_0172373921_p2095393293214411"><a name="EN-US_TASK_0172373866__en-us_task_0172373921_li667356161214411"></a><a name="en-us_task_0172373921_li667356161214411"></a>Run <span><a href="cmdqueryname=lock"><b><span class="cmdname" id="EN-US_TASK_0172373866__en-us_task_0172373921_cmdname606828761214411">lock</span></b></a></span></p>
<p id="EN-US_TASK_0172373866__en-us_task_0172373921_p7726778214411">The IPv6 address pool is locked
so that the address pool cannot be used to assign IPv6 addresses to
new users but Renew or Rebind messages from online users can still
be processed.</p>
</li><li id="EN-US_TASK_0172373866__en-us_task_0172373921_li1608558035214411"><p id="EN-US_TASK_0172373866__en-us_task_0172373921_p363262162214411"><a name="EN-US_TASK_0172373866__en-us_task_0172373921_li1608558035214411"></a><a name="en-us_task_0172373921_li1608558035214411"></a>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172373866__en-us_task_0172373921_cmdname2060025992214411">commit</span></b></a></span></p>
<p id="EN-US_TASK_0172373866__en-us_task_0172373921_p1084719494214411">The configuration is committed.</p>
</li></ol>
</li></ul>
</p>
</li>
</ol></div>

</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0012.html">Configuring a DHCPv6 Relay Agent on the User Side
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_00060.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0015.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>