
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring Access Control on a BAS Interface">
<meta name="abstract" content="This section describes how to configure a BAS interface to filter access users so that only specified users are allowed to access the Router.">
<meta name="description" content="This section describes how to configure a BAS interface to filter access users so that only specified users are allowed to access the Router.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_pppoe_cfg_0004.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_pppox_cfg_0207.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_pppox_cfg_0001.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z50024784,z00603461,w00800033,z00588052,ipoxne,c00549182,w00556928,l00593348,w00606909,w00447999,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="dcAudienceJob" content="Configuration">
<meta name="featurename" content="PPPoE Access">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="PPPoE Access">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="PPPoE Access">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="PPPoE Access">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="c00549182">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172374100">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring Access Control on a BAS Interface</title>
</head>
<body><a name="EN-US_TASK_0172374100"></a><a name="EN-US_TASK_0172374100"></a>

<div class="articleBoxWithoutHead">





<h1 class="topicTitle-h1">(Optional) Configuring Access Control on a BAS Interface</h1>
<div class="taskbody"><p>This section describes how to configure a BAS interface to filter access users so that only specified users are allowed to access the <span class="keyword" id="en-us_task_0172373975_keyword939098807214411">Router</span>.</p>
<div class="context"><a name="EN-US_TASK_0172374100__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0172374100__en-us_task_0172373975_context1412428649214411"><p id="EN-US_TASK_0172374100__en-us_task_0172373975_p404069805214411">To filter users based on source MAC addresses, configure an ACL rule. When a DHCP<span> or PPP</span> user requests to go online, match the user's source MAC address against the ACL rule. If matched, the user is allowed to go online.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172374100__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0172374100__en-us_task_0172373975_steps1551664595214411"><li id="EN-US_TASK_0172374100__en-us_task_0172373975_step1645749539214411"><span id="EN-US_TASK_0172374100__en-us_task_0172373975_cmd523128613214411">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172374100__en-us_task_0172373975_cmdname376466441214411">system-view</span></b></a></span></span><p><p id="EN-US_TASK_0172374100__en-us_task_0172373975_p1781126024214411">The system view is displayed.</p>
</p></li><li id="EN-US_TASK_0172374100__en-us_task_0172373975_step1889546597214411"><span id="EN-US_TASK_0172374100__en-us_task_0172373975_cmd621483943214411">Run <span><span><a href="cmdqueryname=acl"><b><span class="cmdname" id="EN-US_TASK_0172374100__en-us_task_0172373975_en-us_task_0172336153_cmdname1500865050214207">acl</span></b></a> { <strong><span id="EN-US_TASK_0172374100__en-us_task_0172373975_en-us_task_0172336153_cmdparmname1452804157214207">name</span></strong> <i><span class="varname" id="EN-US_TASK_0172374100__en-us_task_0172373975_en-us_task_0172336153_varname292634670214207">link-acl-name</span></i> { <strong><span id="EN-US_TASK_0172374100__en-us_task_0172373975_en-us_task_0172336153_cmdparmname237913752214207">link</span></strong> | [ <strong><span id="EN-US_TASK_0172374100__en-us_task_0172373975_en-us_task_0172336153_cmdparmname503776537214207">link</span></strong> ] <strong><span id="EN-US_TASK_0172374100__en-us_task_0172373975_en-us_task_0172336153_cmdparmname1190099097214207">number</span></strong> <i><span class="varname" id="EN-US_TASK_0172374100__en-us_task_0172373975_en-us_task_0172336153_varname1358719564214207">link-acl-number</span></i> } | [ <strong><span id="EN-US_TASK_0172374100__en-us_task_0172373975_en-us_task_0172336153_cmdparmname1994829921214207">number</span></strong> ] <i><span class="varname" id="EN-US_TASK_0172374100__en-us_task_0172373975_en-us_task_0172336153_varname389763298214207">link-acl-number</span></i> } [ <strong><span id="EN-US_TASK_0172374100__en-us_task_0172373975_en-us_task_0172336153_cmdparmname784022120214207">match-order</span></strong> { <strong><span id="EN-US_TASK_0172374100__en-us_task_0172373975_en-us_task_0172336153_cmdparmname1268374718214207">config</span></strong> | <strong><span id="EN-US_TASK_0172374100__en-us_task_0172373975_en-us_task_0172336153_cmdparmname984458925214207">auto</span></strong> } ]</span></span></span><p><p id="EN-US_TASK_0172374100__en-us_task_0172373975_p1020598650214411">The ACL view is displayed.</p>
</p></li><li id="EN-US_TASK_0172374100__en-us_task_0172373975_step995131565214411"><span id="EN-US_TASK_0172374100__en-us_task_0172373975_cmd573570119214411">Run <span><a href="cmdqueryname=rule"><b><span class="cmdname" id="EN-US_TASK_0172374100__en-us_task_0172373975_cmdname1220712489214411">rule</span></b></a> [ <i><span class="varname" id="EN-US_TASK_0172374100__en-us_task_0172373975_varname1199038806214411">rule-id</span></i> ] { <strong><span id="EN-US_TASK_0172374100__en-us_task_0172373975_cmdparmname712917197214411">deny</span></strong> | <strong><span id="EN-US_TASK_0172374100__en-us_task_0172373975_cmdparmname724915265214411">permit</span></strong> } <strong><span id="EN-US_TASK_0172374100__en-us_task_0172373975_cmdparmname804067041214411">source-mac</span></strong> <i><span class="varname" id="EN-US_TASK_0172374100__en-us_task_0172373975_varname1248143248214411">source-mac</span></i> <i><span class="varname" id="EN-US_TASK_0172374100__en-us_task_0172373975_varname108652497214411">sourcemac-mask</span></i></span></span><p><p id="EN-US_TASK_0172374100__en-us_task_0172373975_p177945172214411">An ACL rule is configured.</p>
<div class="note" id="EN-US_TASK_0172374100__en-us_task_0172373975_note720771270214411"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172374100__en-us_task_0172373975_p47482163214411">BAS interfaces support only ACLs in the range of 4000 and 4999.</p>
<p id="EN-US_TASK_0172374100__en-us_task_0172373975_p1497382981214411">BAS interfaces support only ACL rules based on users' source MAC addresses. The source MAC address for DHCP users is the hardware address carried in DHCP packets.</p>
</div></div>
<div class="p" id="EN-US_TASK_0172374100__en-us_task_0172373975_p695700354214411">When a BAS interface uses a filter-policy to filter users, note the following:<ul id="EN-US_TASK_0172374100__en-us_task_0172373975_ul1665540551214411"><li id="EN-US_TASK_0172374100__en-us_task_0172373975_li303418759214411"><p id="EN-US_TASK_0172374100__en-us_task_0172373975_p1432904535214411"><a name="EN-US_TASK_0172374100__en-us_task_0172373975_li303418759214411"></a><a name="en-us_task_0172373975_li303418759214411"></a>If the action specified in the ACL rule is <strong><span id="EN-US_TASK_0172374100__en-us_task_0172373975_cmdparmname331168044214411">permit</span></strong>, only users matching the rule are allowed to access the <span class="keyword" id="EN-US_TASK_0172374100__en-us_task_0172373975_keyword1261257820214411">Router</span>.</p>
</li><li id="EN-US_TASK_0172374100__en-us_task_0172373975_li970888573214411"><p id="EN-US_TASK_0172374100__en-us_task_0172373975_p1143496505214411"><a name="EN-US_TASK_0172374100__en-us_task_0172373975_li970888573214411"></a><a name="en-us_task_0172373975_li970888573214411"></a>If the action specified in the ACL rule is <strong><span id="EN-US_TASK_0172374100__en-us_task_0172373975_cmdparmname36810098214411">deny</span></strong>, users matching the rule are not allowed to access the <span class="keyword" id="EN-US_TASK_0172374100__en-us_task_0172373975_keyword2060125619214411">Router</span>, and the other users are allowed to access the <span class="keyword" id="EN-US_TASK_0172374100__en-us_task_0172373975_keyword473157682214411">Router</span>.</p>
</li><li id="EN-US_TASK_0172374100__en-us_task_0172373975_li1624925872214411"><p id="EN-US_TASK_0172374100__en-us_task_0172373975_p579591805214411"><a name="EN-US_TASK_0172374100__en-us_task_0172373975_li1624925872214411"></a><a name="en-us_task_0172373975_li1624925872214411"></a>If an ACL has no rules configured, the BAS interface that references this ACL does not filter access users based on users' MAC addresses.</p>
</li><li id="EN-US_TASK_0172374100__en-us_task_0172373975_li1199639921214411"><p id="EN-US_TASK_0172374100__en-us_task_0172373975_p1771674211214411"><a name="EN-US_TASK_0172374100__en-us_task_0172373975_li1199639921214411"></a><a name="en-us_task_0172373975_li1199639921214411"></a>If the ACL referenced by a BAS interface does not exist, the BAS interface does not filter access users based on users' MAC addresses.</p>
</li></ul>
</div>
</p></li><li id="EN-US_TASK_0172374100__en-us_task_0172373975_step2123549052214411"><span id="EN-US_TASK_0172374100__en-us_task_0172373975_cmd1458187471214411">Run <span><a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0172374100__en-us_task_0172373975_cmdname1816160572214411">quit</span></b></a></span></span><p><p id="EN-US_TASK_0172374100__en-us_task_0172373975_p2022858981214411">Return to the system view.</p>
</p></li><li id="EN-US_TASK_0172374100__en-us_task_0172373975_step1069842412214411"><span id="EN-US_TASK_0172374100__en-us_task_0172373975_cmd2108325800214411">(Optional) Run <span><a href="cmdqueryname=ppp+keepalive+slow"><b><span class="cmdname" id="EN-US_TASK_0172374100__en-us_task_0172373975_cmdname861358235214411">ppp keepalive slow</span></b></a> <strong><span id="EN-US_TASK_0172374100__en-us_task_0172373975_cmdparmname1465700853214411">acl</span></strong> <i><span class="varname" id="EN-US_TASK_0172374100__en-us_task_0172373975_varname585404114214411">acl-num</span></i> <strong><span id="EN-US_TASK_0172374100__en-us_task_0172373975_cmdparmname372090114214411">source-mac</span></strong></span></span><p><p id="EN-US_TASK_0172374100__en-us_task_0172373975_p1875851199214411">PPP slow reply is configured for PPP echo packets with a specified MAC address.</p>
</p></li><li id="EN-US_TASK_0172374100__en-us_task_0172373975_step1911497789214411"><span id="EN-US_TASK_0172374100__en-us_task_0172373975_cmd_02">Run <span><a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0172374100__en-us_task_0172373975_cmdname206655851214411">interface</span></b></a> <em id="EN-US_TASK_0172374100__en-us_task_0172373975_i1886228903214411">interface-type interface-number</em> [<i><span class="varname" id="EN-US_TASK_0172374100__en-us_task_0172373975_varname2115054660214411">. subinterface-number</span></i> ]</span></span><p><p id="EN-US_TASK_0172374100__en-us_task_0172373975_p394997084214411">The interface view is displayed.</p>
</p></li><li id="EN-US_TASK_0172374100__en-us_task_0172373975_step490791385214411"><span id="EN-US_TASK_0172374100__en-us_task_0172373975_cmd_03">Run <span><a href="cmdqueryname=bas"><b><span class="cmdname" id="EN-US_TASK_0172374100__en-us_task_0172373975_cmdname1024655479214411">bas</span></b></a></span></span><p><p id="EN-US_TASK_0172374100__en-us_task_0172373975_p1330226792214411">A BAS interface is created and the BAS interface view is displayed.</p>
</p></li><li id="EN-US_TASK_0172374100__en-us_task_0172373975_step1372041765214411"><span id="EN-US_TASK_0172374100__en-us_task_0172373975_cmd226542869214411">Run <span><a href="cmdqueryname=filter-policy+acl"><b><span class="cmdname" id="EN-US_TASK_0172374100__en-us_task_0172373975_cmdname1120411378214411">filter-policy acl</span></b></a> <i><span class="varname" id="EN-US_TASK_0172374100__en-us_task_0172373975_varname568376994214411">acl-number</span></i> <strong><span id="EN-US_TASK_0172374100__en-us_task_0172373975_cmdparmname58293216435">dhcp</span></strong></span></span><p><p id="EN-US_TASK_0172374100__en-us_task_0172373975_p1176548917214411">The BAS interface is configured to filter users based on ACL rules.</p>
<div class="note" id="EN-US_TASK_0172374100__en-us_task_0172373975_note396033959214411"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul id="EN-US_TASK_0172374100__en-us_task_0172373975_ul1090926860214411"><li id="EN-US_TASK_0172374100__en-us_task_0172373975_li408815558214411"><p id="EN-US_TASK_0172374100__en-us_task_0172373975_p1162896553214411"><a name="EN-US_TASK_0172374100__en-us_task_0172373975_li408815558214411"></a><a name="en-us_task_0172373975_li408815558214411"></a>Before running the <a href="cmdqueryname=filter-policy+acl"><b><span class="cmdname" id="EN-US_TASK_0172374100__en-us_task_0172373975_cmdname903945217214411">filter-policy acl</span></b></a> command, the BAS interface must already have the <a href="cmdqueryname=access-type"><b><span class="cmdname" id="EN-US_TASK_0172374100__en-us_task_0172373975_cmdname2014219889214411">access-type</span></b></a> command configured.</p>
</li><li id="EN-US_TASK_0172374100__en-us_task_0172373975_li1745228563214411"><p id="EN-US_TASK_0172374100__en-us_task_0172373975_p1724807615214411"><a name="EN-US_TASK_0172374100__en-us_task_0172373975_li1745228563214411"></a><a name="en-us_task_0172373975_li1745228563214411"></a>An access type can be bound to only one ACL on an interface.</p>
</li></ul>
</div></div>
</p></li><li id="EN-US_TASK_0172374100__en-us_task_0172373975_step985667609214411"><span id="EN-US_TASK_0172374100__en-us_task_0172373975_cmd426651505214411">Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172374100__en-us_task_0172373975_cmdname1933853756214411">commit</span></b></a></span></span><p><p id="EN-US_TASK_0172374100__en-us_task_0172373975_p665844288214411">The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_pppoe_cfg_0004.html">Configuring PPPoE Access
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_pppox_cfg_0207.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_pppox_cfg_0001.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>