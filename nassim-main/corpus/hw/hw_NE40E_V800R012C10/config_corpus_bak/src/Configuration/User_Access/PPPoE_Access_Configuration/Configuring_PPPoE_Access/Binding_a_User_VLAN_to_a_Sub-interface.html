
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Binding a User VLAN to a Sub-interface">
<meta name="abstract" content="To restrict broadcast packets on a LAN and enhance LAN security or create virtual groups, configure VLANs. VLANs apply only to Ethernet sub-interfaces.">
<meta name="description" content="To restrict broadcast packets on a LAN and enhance LAN security or create virtual groups, configure VLANs. VLANs apply only to Ethernet sub-interfaces.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_pppoe_cfg_0004.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_pppoe_cfg_0020.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_pppox_cfg_0207.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z50024784,z00603461,w00800033,z00588052,c00549182,w00556928,l00593348,w00606909,pppoxne,w00447999,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="dcAudienceJob" content="Configuration">
<meta name="featurename" content="PPPoE Access">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="PPPoE Access">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="PPPoE Access">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="PPPoE Access">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="c00549182">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172374097">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Binding a User VLAN to a Sub-interface</title>
</head>
<body><a name="EN-US_TASK_0172374097"></a><a name="EN-US_TASK_0172374097"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Binding a User VLAN to a Sub-interface</h1>
<div class="taskbody" id="taskbody1034681563214108"><p id="shortdesc804837087214412">To restrict broadcast packets on a LAN and enhance LAN security or create virtual groups, configure VLANs. VLANs apply only to Ethernet sub-interfaces.</p>
<div class="context"><a name="EN-US_TASK_0172374097__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0172374097__context1612058082214412"><p id="EN-US_TASK_0172374097__p1206493622214412">If users access the network through a sub-interface, you must bind a user VLAN to the sub-interface.</p>
<p id="EN-US_TASK_0172374097__p959318084214412">You can bind a user VLAN to a sub-interface or configure QinQ on a sub-interface. When binding a user VLAN to a sub-interface, you need the following parameters:</p>
<ul id="EN-US_TASK_0172374097__ul2036548829214412"><li id="EN-US_TASK_0172374097__li885225605214412">Sub-interface number</li><li id="EN-US_TASK_0172374097__li1033622999214412">VLAN ID</li><li id="EN-US_TASK_0172374097__li402849694214412">QinQ ID</li></ul>
<div class="note" id="EN-US_TASK_0172374097__note1784645978214412"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul id="EN-US_TASK_0172374097__ul640854597214412"><li id="EN-US_TASK_0172374097__li452604041214412">On each interface, you can set <a href="cmdqueryname=user-vlan"><b><span class="cmdname" id="EN-US_TASK_0172374097__cmdname983115711214412">user-vlan</span></b></a> <strong><span id="EN-US_TASK_0172374097__cmdparmname1213659342214412">any-other</span></strong> only on one sub-interface. On one sub-interface, <a href="cmdqueryname=user-vlan"><b><span class="cmdname" id="EN-US_TASK_0172374097__cmdname315512640214412">user-vlan</span></b></a> <strong><span id="EN-US_TASK_0172374097__cmdparmname8172310214412">any-other</span></strong> cannot be set together with <a href="cmdqueryname=user-vlan"><b><span class="cmdname" id="EN-US_TASK_0172374097__cmdname1998507750214412">user-vlan</span></b></a> <i><span class="varname" id="EN-US_TASK_0172374097__varname747369226214412">start-vlan</span></i> or <a href="cmdqueryname=user-vlan"><b><span class="cmdname" id="EN-US_TASK_0172374097__cmdname1740283390214412">user-vlan</span></b></a> <strong><span id="EN-US_TASK_0172374097__cmdparmname1313432493214412">qinq</span></strong>.</li><li id="EN-US_TASK_0172374097__li401568452214412">The <a href="cmdqueryname=user-vlan"><b><span class="cmdname" id="EN-US_TASK_0172374097__cmdname2070507573214412">user-vlan</span></b></a> command cannot be configured on a sub-interface of a Layer 2 interface.</li><li id="EN-US_TASK_0172374097__li1084373597214412">If dot1q termination, QinQ termination, QinQ stacking, or vlan-type dot1q has been configured on a sub-interface, the <a href="cmdqueryname=user-vlan"><b><span class="cmdname" id="EN-US_TASK_0172374097__cmdname1009809365214412">user-vlan</span></b></a> command cannot be configured on this sub-interface.</li><li id="EN-US_TASK_0172374097__li1019592064214412">Different sub-interfaces cannot be configured with user VLANs with the same VLAN ID.</li></ul>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172374097__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0172374097__steps1420994114214412"><li id="EN-US_TASK_0172374097__step1546227352214412"><span id="EN-US_TASK_0172374097__cmd743492717214412">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172374097__cmdname2101196050214412">system-view</span></b></a></span></span><p><p id="EN-US_TASK_0172374097__p1137158185214412">The system view is displayed.</p>
</p></li><li id="EN-US_TASK_0172374097__step1219942833214412"><span id="EN-US_TASK_0172374097__cmd1552816322214412">(Optional) Run <span><a href="cmdqueryname=set+vlan-statistics+subinterface+enable"><b><span class="cmdname" id="EN-US_TASK_0172374097__cmdname632469287214412">set vlan-statistics subinterface enable</span></b></a></span></span><p><p id="EN-US_TASK_0172374097__p1975856559214412">PPPoE statistics collection is enabled on QinQ interfaces.</p>
</p></li><li id="EN-US_TASK_0172374097__step960274285214412"><span id="EN-US_TASK_0172374097__cmd990300790214412">Run <span><a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0172374097__cmdname1069330761214412">interface</span></b></a> <i><span class="varname" id="EN-US_TASK_0172374097__varname426200495214412">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0172374097__varname739072921214412">interface-number. subinterface-number</span></i></span></span><p><p id="EN-US_TASK_0172374097__p1541246894214412">A sub-interface is created and the sub-interface view is displayed.</p>
</p></li><li id="EN-US_TASK_0172374097__step557715375214412"><span id="EN-US_TASK_0172374097__cmd1903672117214412">Run <span><a href="cmdqueryname=user-vlan"><b><span class="cmdname" id="EN-US_TASK_0172374097__cmdname2881742114818">user-vlan</span></b></a> { <i><span class="varname" id="EN-US_TASK_0172374097__varname3882174215481">start-vlan-id</span></i> [ <i><span class="varname" id="EN-US_TASK_0172374097__varname12882164212483">end-vlan-id</span></i> <span>]</span> | <i><span class="varname" id="EN-US_TASK_0172374097__varname288213422483">cevlan</span></i> <span>}</span> <strong><span id="EN-US_TASK_0172374097__cmdparmname148823420487">qinq</span></strong> <span>{</span><i><span class="varname" id="EN-US_TASK_0172374097__varname1888274264811"> start-pe-vlan</span></i> [ <i><span class="varname" id="EN-US_TASK_0172374097__varname17882194224810">end-pe-vlan</span></i> ] | <i><span class="varname" id="EN-US_TASK_0172374097__varname488234211482">pevlan</span></i> }</span></span><p><p id="EN-US_TASK_0172374097__p597250877214412">A user VLAN is bound to the sub-interface.</p>
</p></li><li id="EN-US_TASK_0172374097__step1132681195214412"><span id="EN-US_TASK_0172374097__cmd1677797357214412">Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172374097__cmdname1103721097214412">commit</span></b></a></span></span><p><p id="EN-US_TASK_0172374097__p1601473404214412">The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_pppoe_cfg_0004.html">Configuring PPPoE Access
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_pppoe_cfg_0020.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_pppox_cfg_0207.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>