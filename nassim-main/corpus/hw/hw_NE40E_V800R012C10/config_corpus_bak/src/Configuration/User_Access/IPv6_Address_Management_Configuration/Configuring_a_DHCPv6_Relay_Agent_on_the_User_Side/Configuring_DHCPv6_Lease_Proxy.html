
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring DHCPv6 Lease Proxy">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0012.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0055.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0056.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00588052,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0275813723">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring DHCPv6 Lease Proxy</title>
</head>
<body><a name="EN-US_TASK_0275813723"></a><a name="EN-US_TASK_0275813723"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring DHCPv6 Lease Proxy</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0275813723__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>If a DHCPv6 server has assigned a long lease to a client, the user is logged out when the client or the link between the client and the BRAS fails. However, if the lease does not expire, the DHCPv6 server cannot detect the user logout or release the IPv6 address assigned to the user in a timely manner, wasting address resources. To prevent this problem, configure DHCPv6 lease proxy in a domain or on a BAS interface.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0275813723__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure DHCPv6 lease proxy in a domain.</span><ol><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=aaa"><b><span class="cmdname">aaa</span></b></a></span><p><p>The AAA view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=domain"><b><span class="cmdname">domain</span></b></a> <i><span class="varname">domain-name</span></i></span><p><p>A domain is created, and the AAA domain view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0275813723__substep6361144711574"><span id="EN-US_TASK_0275813723__cmd193612476578">Run <a href="cmdqueryname=dhcpv6+lease-proxy+preferred-lifetime"><b><span class="cmdname" id="EN-US_TASK_0275813723__cmdname173611547175712">dhcpv6 lease-proxy preferred-lifetime</span></b></a> <i><span class="varname" id="EN-US_TASK_0275813723__varname43611847135716">preferred-lifetime</span></i> <a href="cmdqueryname=valid-lifetime"><b><span class="cmdname" id="EN-US_TASK_0275813723__cmdname936184711578">valid-lifetime</span></b></a> <i><span class="varname" id="EN-US_TASK_0275813723__varname18361114765718">valid-lifetime</span></i> [ <strong><span id="EN-US_TASK_0275813723__cmdparmname2273932101817">user-detect</span></strong> ]</span><p><p id="EN-US_TASK_0275813723__p170393312516">DHCPv6 lease proxy is enabled and a proxy lease time is configured.</p>
</p><p><div class="note" id="EN-US_TASK_0275813723__note15698102419417"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0275813723__p7698162415411">If DHCPv6 lease proxy has been configured both in the BAS interface view and the AAA domain view, the command configured in the BAS interface view takes effect.</p>
</div></div>
</p></li><li class="substepexpand" id="EN-US_TASK_0275813723__substep3361194713576"><span id="EN-US_TASK_0275813723__cmd113611847145711">(Optional) Configure CAR bandwidth for lease proxy rate limiting.</span><p><ol type="a" id="EN-US_TASK_0275813723__ol1036114717577"><li id="EN-US_TASK_0275813723__li6361547165711">Run the <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0275813723__cmdname99051950105114">quit</span></b></a> command to return to the system view.</li><li id="EN-US_TASK_0275813723__li53618479574">Run the <a href="cmdqueryname=slot"><b><span class="cmdname" id="EN-US_TASK_0275813723__cmdname17146191175213">slot</span></b></a> <em id="EN-US_TASK_0275813723__i1614615112528">slot-id</em> command to enter the slot view.</li><li id="EN-US_TASK_0275813723__li1361194725718">Run the <a href="cmdqueryname=dhcpv6+lease-proxy+rate-limit"><b><span class="cmdname" id="EN-US_TASK_0275813723__cmdname67861819529">dhcpv6 lease-proxy rate-limit</span></b></a> <i><span class="varname" id="EN-US_TASK_0275813723__varname18786118165212">rate-value</span></i> command to configure the CAR bandwidth for lease proxy rate limiting.</li></ol>
</p></li><li class="substepexpand" id="EN-US_TASK_0275813723__substep124491913163817"><span id="EN-US_TASK_0275813723__cmd3450191363812">(Optional) Run <a href="cmdqueryname=access-speed+adjustment+system-state+threshold+ipoe-keepalive+cpu-usage+alarm"><b><span class="cmdname" id="EN-US_TASK_0275813723__cmdname6910111815516">access-speed adjustment system-state threshold ipoe-keepalive cpu-usage alarm</span></b></a> <i><span class="varname" id="EN-US_TASK_0275813723__varname75541583547">threshold-value</span></i> <strong><span id="EN-US_TASK_0275813723__cmdparmname414391518568">resume</span></strong> <i><span class="varname" id="EN-US_TASK_0275813723__varname968418100551">threshold-value</span></i></span><p><p id="EN-US_TASK_0275813723__p841412124245">The CPU usage threshold for increasing or resuming the DHCPv6 proxy lease is configured.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Enable DHCPv6 lease proxy on a BAS interface.</span><ol><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span><p><p>The interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=bas"><b><span class="cmdname">bas</span></b></a></span><p><p>The BAS interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <strong><a href="cmdqueryname=access-type"><b><span class="cmdname">access-type</span></b></a></strong> <strong><strong><span>layer2-subscriber</span></strong></strong> [ <strong><strong><span>bas-interface-name</span></strong> </strong><em><i><span class="varname">bname</span></i></em> | <strong><strong><span>default-domain</span></strong></strong> { <strong>pre-authentication</strong> <em><i><span class="varname">predname</span></i></em> | <strong><strong><span>authentication</span></strong></strong> [ <strong><strong><span>force</span></strong></strong> | <strong><strong><span>replace</span></strong></strong> ] <em><i><span class="varname">dname</span></i></em> } <sup>*</sup> | <strong><strong><span>accounting-copy</span></strong> </strong><strong><strong><span>radius-server</span></strong> </strong><em><i><span class="varname">rd-name</span></i></em> ] <sup>*</sup> or <strong><a href="cmdqueryname=access-type"><b><span class="cmdname">access-type</span></b></a></strong> <strong><strong><span>layer3-subscriber</span></strong></strong> [ <strong><strong><span>default-domain</span></strong></strong> { [ <strong><strong><span>pre-authentication</span></strong></strong> <em><i><span class="varname">predname</span></i></em> ] <strong><strong><span>authentication</span></strong></strong> [<strong><span> </span></strong><strong><strong><span>force</span></strong></strong> | <strong>replace</strong> ] <em>dname</em> } ]</span><p><p>The type of the BAS interface is configured.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=dhcpv6+lease-proxy+preferred-lifetime"><b><span class="cmdname" id="EN-US_TASK_0275813723__en-us_task_0275813723_cmdname173611547175712">dhcpv6 lease-proxy preferred-lifetime</span></b></a> <i><span class="varname" id="EN-US_TASK_0275813723__en-us_task_0275813723_varname43611847135716">preferred-lifetime</span></i> <a href="cmdqueryname=valid-lifetime"><b><span class="cmdname" id="EN-US_TASK_0275813723__en-us_task_0275813723_cmdname936184711578">valid-lifetime</span></b></a> <i><span class="varname" id="EN-US_TASK_0275813723__en-us_task_0275813723_varname18361114765718">valid-lifetime</span></i> [ <strong><span id="EN-US_TASK_0275813723__en-us_task_0275813723_cmdparmname2273932101817">user-detect</span></strong> ]</span><p><p id="EN-US_TASK_0275813723__en-us_task_0275813723_p170393312516">DHCPv6 lease proxy is enabled and a proxy lease time is configured.</p>
</p><p><div class="note" id="EN-US_TASK_0275813723__en-us_task_0275813723_note15698102419417"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0275813723__en-us_task_0275813723_p7698162415411">If DHCPv6 lease proxy has been configured both in the BAS interface view and the AAA domain view, the command configured in the BAS interface view takes effect.</p>
</div></div>
</p></li><li class="substepexpand"><span>(Optional) Configure CAR bandwidth for lease proxy rate limiting.</span><p><ol type="a" id="EN-US_TASK_0275813723__en-us_task_0275813723_ol1036114717577"><li id="EN-US_TASK_0275813723__en-us_task_0275813723_li6361547165711">Run the <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0275813723__en-us_task_0275813723_cmdname99051950105114">quit</span></b></a> command to return to the system view.</li><li id="EN-US_TASK_0275813723__en-us_task_0275813723_li53618479574">Run the <a href="cmdqueryname=slot"><b><span class="cmdname" id="EN-US_TASK_0275813723__en-us_task_0275813723_cmdname17146191175213">slot</span></b></a> <em id="EN-US_TASK_0275813723__en-us_task_0275813723_i1614615112528">slot-id</em> command to enter the slot view.</li><li id="EN-US_TASK_0275813723__en-us_task_0275813723_li1361194725718">Run the <a href="cmdqueryname=dhcpv6+lease-proxy+rate-limit"><b><span class="cmdname" id="EN-US_TASK_0275813723__en-us_task_0275813723_cmdname67861819529">dhcpv6 lease-proxy rate-limit</span></b></a> <i><span class="varname" id="EN-US_TASK_0275813723__en-us_task_0275813723_varname18786118165212">rate-value</span></i> command to configure the CAR bandwidth for lease proxy rate limiting.</li></ol>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=access-speed+adjustment+system-state+threshold+ipoe-keepalive+cpu-usage+alarm"><b><span class="cmdname" id="EN-US_TASK_0275813723__en-us_task_0275813723_cmdname6910111815516">access-speed adjustment system-state threshold ipoe-keepalive cpu-usage alarm</span></b></a> <i><span class="varname" id="EN-US_TASK_0275813723__en-us_task_0275813723_varname75541583547">threshold-value</span></i> <strong><span id="EN-US_TASK_0275813723__en-us_task_0275813723_cmdparmname414391518568">resume</span></strong> <i><span class="varname" id="EN-US_TASK_0275813723__en-us_task_0275813723_varname968418100551">threshold-value</span></i></span><p><p id="EN-US_TASK_0275813723__en-us_task_0275813723_p841412124245">The CPU usage threshold for increasing or resuming the DHCPv6 proxy lease is configured.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0012.html">Configuring a DHCPv6 Relay Agent on the User Side
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0055.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0056.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>