
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring DNS Services for the DHCPv4 Client">
<meta name="abstract" content="You can configure DNS server parameters for the DHCPv4 client. This allows the DHCPv4 client to automatically obtain DNS services automatically. Then, users can use easy-to-memorize domain names rather than complicated IP addresses.">
<meta name="description" content="You can configure DNS server parameters for the DHCPv4 client. This allows the DHCPv4 client to automatically obtain DNS services automatically. Then, users can use easy-to-memorize domain names rather than complicated IP addresses.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0048.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0051.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0053.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z50024784,z00603461,w00800033,z00588052,c00549182,w00556928,l00593348,ipv4-address_ne,w00606909,w00447999,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPv4 Address Management">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv4 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv4 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv4 Address Management">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="l00593348">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172373772">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring DNS Services for the DHCPv4 Client</title>
</head>
<body><a name="EN-US_TASK_0172373772"></a><a name="EN-US_TASK_0172373772"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring DNS Services for the DHCPv4 Client</h1>
<div class="taskbody"><p>You can configure DNS server parameters for the DHCPv4 client. This allows the DHCPv4 client to automatically obtain DNS services automatically. Then, users can use easy-to-memorize domain names rather than complicated IP addresses.</p>
<div class="context"><a name="EN-US_TASK_0172373772__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Perform the following operations on the device if the device that functions as a DHCPv4 server needs to provide DNS services for DHCPv4 clients.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172373772__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=ip+pool"><b><span class="cmdname">ip pool</span></b></a> <i><span class="varname">pool-name</span></i> <span> [ <strong><span>bas</span></strong> { <strong><span>local</span></strong> | <strong><span>remote</span></strong> } | <strong><span>server</span></strong> ]</span></span></span><p><p>An IP address pool is created, and the IP address pool view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=dns-suffix"><b><span class="cmdname">dns-suffix</span></b></a> <i><span class="varname">suffix-name</span></i></span></span><p><p>The DNS suffix of the IP address pool is configured.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is valid for only the local address pool and server address pool.</p>
</div></div>
</p></li><li><span>Run <span><a href="cmdqueryname=dns-server"><b><span class="cmdname">dns-server</span></b></a> <i><span class="varname">ip-address</span></i> &amp;&lt;1-8&gt;</span></span><p><p>The IP address of the DNS server for the address pool is configured.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If IP addresses are automatically allocated from the BAS address pool, the DNS server can be configured in both the domain view and the address pool view, but the configuration in the domain view takes precedence.</p>
<div class="p">If the RADIUS server is used to deliver IP addresses and gateway addresses, the following situations are available:<ul><li>If the RADIUS server also delivers the DNS server address, the DNS server address delivered by the RADIUS server takes precedence.</li><li>If the RADIUS server does not deliver the DNS server address, the DNS server must be configured in the domain view, and this configuration does not take effect for the address pool.</li></ul>
</div>
</div></div>
</p></li><li><span>Run <span><a href="cmdqueryname=domain-search-list"><b><span class="cmdname">domain-search-list</span></b></a> <i><span class="varname">domain-name</span></i></span></span><p><p>The search domain is configured.</p>
<p>If a client sends a packet carrying Option 119 to request search domain information from the DHCP server, the <a href="cmdqueryname=domain-search-list"><b><span class="cmdname">domain-search-list</span></b></a> <span><i><span class="varname">domain-name</span></i></span> command can be used to configure a search domain so that the DHCP server can send required search domain information to the user. After the <a href="cmdqueryname=domain-search-list"><b><span class="cmdname">domain-search-list</span></b></a>  <span><i><span class="varname">domain-name</span></i></span> command is run and the first domain name resolution fails, the configured search domain is used for resolution.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0172373772__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Follow-up Procedure</h4>
<div class="p"><p>On the DHCPv4 server, designate a DNS suffix for each address pool used to assign IP addresses to clients.</p>
<p>When a host accesses the Internet by using the DNS suffix, the DNS server resolves the DNS suffix into an IP address. Therefore, to ensure that the client successfully accesses the Internet, the DHCPv4 server also needs to specify the DNS server address for the client when it assigns IP addresses.</p>
<p>To improve network reliability, you can configure several DNS servers.</p>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0048.html">Configuring an IPv4 Address Pool and an Address Pool Group
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0051.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0053.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>