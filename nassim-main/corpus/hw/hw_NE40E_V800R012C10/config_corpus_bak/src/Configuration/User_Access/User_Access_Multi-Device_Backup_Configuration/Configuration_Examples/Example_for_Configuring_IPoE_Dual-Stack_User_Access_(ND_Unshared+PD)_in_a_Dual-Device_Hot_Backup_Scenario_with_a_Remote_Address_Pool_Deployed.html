
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring IPoE Dual-Stack User Access (ND Unshared+PD) in a Dual-Device Hot Backup Scenario with a Remote Address Pool Deployed">
<meta name="abstract" content="In a dual-device hot backup scenario, dual-stack users connect to the master and backup BRASs using IPoE. The BRASs assign IPv6 addresses to the users in ND unshared+PD mode to implement user access.">
<meta name="description" content="In a dual-device hot backup scenario, dual-stack users connect to the master and backup BRASs using IPoE. The BRASs assign IPv6 addresses to the users in ND unshared+PD mode to implement user access.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cfg_rui_0050.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cfg_rui_00631.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cfg_rui_0064.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00588052,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="UP Multi-Device Backup">
<meta name="featurename" content="User Access Multi-Device Backup">
<meta name="featuretype" content="User Access">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="UP Multi-Device Backup">
<meta name="featurename" content="User Access Multi-Device Backup">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="UP Multi-Device Backup">
<meta name="featurename" content="User Access Multi-Device Backup">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="User Access Multi-Device Backup">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001121618340">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Example for Configuring IPoE Dual-Stack User Access (ND Unshared+PD) in a Dual-Device Hot Backup Scenario with a Remote Address Pool Deployed</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001121618340"></a><a name="EN-US_TASK_0000001121618340"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring IPoE Dual-Stack User Access (ND Unshared+PD) in a Dual-Device Hot Backup Scenario with a Remote Address Pool Deployed</h1>
<div class="taskbody"><p>In a dual-device hot backup scenario, dual-stack users connect to the master and backup BRASs using IPoE. The BRASs assign IPv6 addresses to the users in ND unshared+PD mode to implement user access.</p>
<div class="context"><a name="EN-US_TASK_0000001121618340__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>As shown in <a href="#EN-US_TASK_0000001121618340__fig_dc_ne_cfg_rui_003101">Figure 1</a>, users access BRAS1 and BRAS2 through SW1 (LAN switch). VRRP runs on BRAS1 and BRAS2 to implement master/backup switchover protection.</p>
<p>RADIUS authentication and accounting are configured on the BRASs. The BRASs use a remote address pool to assign IPv4 addresses to users, use DHCPv6 IA_PD to assign the IPv6 prefixes to be used on the network to users, and use DHCPv6 ND to assign IPv6 addresses to users.</p>
<div class="fignone" id="EN-US_TASK_0000001121618340__fig_dc_ne_cfg_rui_003101"><a name="EN-US_TASK_0000001121618340__fig_dc_ne_cfg_rui_003101"></a><a name="fig_dc_ne_cfg_rui_003101"></a><span class="figcap"><b>Figure 1 </b>Configuring IPoE dual-stack user access (ND unshared+PD) in a dual-device hot backup scenario with a remote address pool deployed</span><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In this example, interfaces 1 through 3 represent GE<span>0/1/0</span>, GE<span>0/2/0</span>, and GE<span>0/3/0</span>, respectively.</p>
</div></div>
<br><span><img class="vsd" src="figure/en-us_image_0000001168538003.png" width="NaN" height="NaN"></span></div>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Interfaces and IP addresses</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="22.587741225877412%" id="mcps1.4.1.5.2.5.1.1" liSelected="liSelected"><p><strong>Device</strong></p>
</th>
<th align="left" class="cellrowborder" valign="top" width="23.227677232276772%" id="mcps1.4.1.5.2.5.1.2" liSelected="liSelected"><p><strong>Interface Name</strong></p>
</th>
<th align="left" class="cellrowborder" valign="top" width="23.337666233376662%" id="mcps1.4.1.5.2.5.1.3" liSelected="liSelected"><p><strong>Interface Number</strong></p>
</th>
<th align="left" class="cellrowborder" valign="top" width="30.846915308469153%" id="mcps1.4.1.5.2.5.1.4" liSelected="liSelected"><p><strong>IP Address</strong></p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" rowspan="6" valign="top" width="22.587741225877412%" headers="mcps1.4.1.5.2.5.1.1 "><p>BRAS1</p>
</td>
<td class="cellrowborder" valign="top" width="23.227677232276772%" headers="mcps1.4.1.5.2.5.1.2 "><p>interface1</p>
</td>
<td class="cellrowborder" valign="top" width="23.337666233376662%" headers="mcps1.4.1.5.2.5.1.3 "><p>GE<span>0/1/0</span>.1</p>
</td>
<td class="cellrowborder" valign="top" width="30.846915308469153%" headers="mcps1.4.1.5.2.5.1.4 "><p>192.168.1.1</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.2 "><p>interface1</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.3 "><p>GE<span>0/1/0</span>.2</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.4 "><p>BAS interface</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.2 "><p>interface2</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.3 "><p>GE<span>0/2/0</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.4 "><p>10.0.0.1, 2001:db8:1::1</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.2 "><p>interface3</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.3 "><p>GE<span>0/3/0</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.4 "><p>10.1.1.1</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.2 "><p>-</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.3 "><p>LoopBack0</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.4 "><p>10.2.2.2, 2001:db8:2::2</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.2 "><p>-</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.3 "><p>LoopBack1</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.4 "><p>10.3.3.3</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="6" valign="top" width="22.587741225877412%" headers="mcps1.4.1.5.2.5.1.1 "><p>BRAS2</p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
</td>
<td class="cellrowborder" valign="top" width="23.227677232276772%" headers="mcps1.4.1.5.2.5.1.2 "><p>interface1</p>
</td>
<td class="cellrowborder" valign="top" width="23.337666233376662%" headers="mcps1.4.1.5.2.5.1.3 "><p>GE<span>0/1/0</span>.1</p>
</td>
<td class="cellrowborder" valign="top" width="30.846915308469153%" headers="mcps1.4.1.5.2.5.1.4 "><p>192.168.1.2</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.2 "><p>interface1</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.3 "><p>GE<span>0/1/0</span>.2</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.4 "><p>BAS interface</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.2 "><p>interface2</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.3 "><p>GE<span>0/2/0</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.4 "><p>10.0.0.2, 2001:db8:2::1</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.2 "><p>interface3</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.3 "><p>GE<span>0/3/0</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.4 "><p>10.1.1.2</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.2 "><p>-</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.3 "><p>LoopBack0</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.4 "><p>10.4.4.4</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.2 "><p>-</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.3 "><p>LoopBack1</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.2.5.1.4 "><p>10.5.5.5</p>
</td>
</tr>
</tbody>
</table>
</div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001121618340__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><p>The configuration roadmap is as follows:</p>
<ol><li><p>Configure IP addresses for interfaces.</p>
</li><li><p>Configure BFD sessions and VRRP on the access side of the master and backup BRASs.</p>
</li><li><p>Configure an RBS and an RBP.</p>
</li><li><p>Configure a routing protocol.</p>
</li><li><p>Configure address pools.</p>
</li><li>Configure AAA schemes.</li><li><p>Configure a RADIUS server group.</p>
</li><li><p>Configure a domain.</p>
</li><li>Configure the DHCPv6 device to generate DUIDs in DUID-LLT mode.</li><li>Configure a BAS interface.</li></ol>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The configuration on BRAS2 is similar to that on BRAS1. The configuration procedure on BRAS1 is used as an example. For details about the configuration on BRAS2, see Configuration Files.</p>
</div></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001121618340__1.4.3"></a><a name="1.4.3"></a>
<div class="p"><h4 class="sectiontitle">Data Preparation</h4><p>To complete the configuration, you need the following data:</p>
<ul><li><p>VRRP parameters (such as the VRRP group ID and preemption delay)</p>
</li><li><p>BFD parameters (such as the local and remote discriminators of a BFD session and the expected minimum intervals at which BFD Control packets are sent and received)</p>
</li><li><p>IP address of each interface on BRAS1 and BRAS2</p>
</li><li><p>User access parameters</p>
</li><li>User authentication mode (RADIUS authentication)</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001121618340__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure IP addresses for interfaces.</span><p><p># Configure IP addresses for network-side interfaces.</p>
<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>sysname BRAS1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1] <strong>interface GigabitEthernet<span>0/2/0</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-GigabitEthernet<span>0/2/0</span>] <strong>ip address 10.0.0.1 24</strong>
[<span class="keyword">*</span>BRAS1-GigabitEthernet<span>0/2/0</span>] <strong>ipv6 enable</strong>
[<span class="keyword">*</span>BRAS1-GigabitEthernet<span>0/2/0</span>] <strong>ipv6 address 2001:db8:1::1 120</strong>
[<span class="keyword">*</span>BRAS1-GigabitEthernet<span>0/2/0</span>]<strong> ipv6 address auto link-local</strong>
[<span class="keyword">*</span>BRAS1-GigabitEthernet<span>0/2/0</span>] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-GigabitEthernet<span>0/2/0</span>] <strong>quit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1]<strong> interface LoopBack0</strong>
[<span class="keyword">*</span>BRAS1-LoopBack0] <strong>ipv6 enable</strong>
[<span class="keyword">*</span>BRAS1-LoopBack0] <strong>ipv6 address 2001:db8:2::2 128</strong>
[<span class="keyword">*</span>BRAS1-LoopBack0] <strong>ipv6 address auto link-local</strong>
[<span class="keyword">*</span>BRAS1-LoopBack0] <strong>ip address 10.2.2.2 32</strong>
[<span class="keyword">*</span>BRAS1-LoopBack0] <strong>commit</strong>
[<font style="font-size:8pt" Face="Courier New" >~</font>BRAS1-LoopBack0] <strong>quit</strong></pre>
<p># Configure an IP address for the protection tunnel interface.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1] <strong>interface LoopBack1</strong>
[<span class="keyword">*</span>BRAS1-LoopBack1] <strong>ip address 10.3.3.3 32</strong>
[<span class="keyword">*</span>BRAS1-LoopBack1] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-LoopBack1] <strong>quit</strong></pre>
</p></li><li><span>Configure BFD sessions and VRRP on the access side of the master and backup BRASs. BRAS1 is the master, and BRAS2 is the backup.</span><p><p># Configure a BFD session on the access side to allow the device to rapidly detect interface or link faults and trigger a master/backup VRRP switchover upon such a fault.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1] <strong>bfd</strong>
[<span class="keyword">*</span>BRAS1-bfd] <strong>quit</strong>
[<span class="keyword">*</span>BRAS1] <strong>bfd bfd1 bind peer-ip 192.168.1.2</strong>
[<span class="keyword">*</span>BRAS1-bfd-session-bfd1] <strong>discriminator local 8</strong>
[<span class="keyword">*</span>BRAS1-bfd-session-bfd1] <strong>discriminator remote 6</strong>
[<span class="keyword">*</span>BRAS1-bfd-session-bfd1] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-bfd-session-bfd1] <strong>quit</strong></pre>
</p><p><p># Configure a VRRP group on an interface (GE <span>0/1/0</span>.1 is used as an example), and configure VRRP to track the BFD session and network-side interface status.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1] <strong>interface GigabitEthernet<span>0/1/0</span></strong><strong>.1</strong>
[<span class="keyword">*</span>BRAS1-GigabitEthernet<span>0/1/0</span>.1] <strong>quit</strong>
[<span class="keyword">*</span>BRAS1-GigabitEthernet<span>0/1/0</span>.1] <strong>vlan-type dot1q 400</strong>
[<span class="keyword">*</span>BRAS1-GigabitEthernet<span>0/1/0</span>.1]<strong> ip address </strong><strong>192.168.1.1</strong><strong> 255.255.255.0</strong>
[<span class="keyword">*</span>BRAS1-GigabitEthernet<span>0/1/0</span>.1] <strong>vrrp vrid 1 virtual-ip </strong><strong>192.168.1.1</strong><strong>00</strong>
[<span class="keyword">*</span>BRAS1-GigabitEthernet<span>0/1/0</span>.1] <strong>vrrp vrid 1 priority 120</strong>
[<span class="keyword">*</span>BRAS1-GigabitEthernet<span>0/1/0</span>.1]<strong> vrrp vrid 1 preempt-mode timer delay 60</strong>
[<span class="keyword">*</span>BRAS1-GigabitEthernet<span>0/1/0</span>.1]<strong> vrrp vrid 1 track interface GigabitEthernet <span>0/2/0</span> reduced 50</strong>
[<span class="keyword">*</span>BRAS1-GigabitEthernet<span>0/1/0</span>.1]<strong> </strong><strong>vrrp vrid 1 track bfd-session session-name bfd1 link</strong>
[<span class="keyword">*</span>BRAS1-GigabitEthernet<span>0/1/0</span>.1]<strong> </strong><strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-GigabitEthernet<span>0/1/0</span>.1] <strong>quit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1] <strong>vrrp recover-delay 60</strong>
[<span class="keyword">*</span>BRAS1]<strong> </strong><strong>commit</strong></pre>
</p></li><li><span>Configure an RBS and an RBP.</span><p><p># Configure an interface monitoring group.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1]<strong> monitor-group group1</strong>
[<span class="keyword">*</span>BRAS1-monitor-group-group1]<strong> monitor enable</strong>
[<span class="keyword">*</span>BRAS1-monitor-group-group1] <strong>binding interface GigabitEthernet </strong><strong><span>0/2/0</span></strong>
[<span class="keyword">*</span>BRAS1-monitor-group-group1] <strong>binding interface GigabitEthernet </strong><strong><span>0/3/0</span></strong>
[<span class="keyword">*</span>BRAS1-monitor-group-group1] <strong>trigger-up-delay 100</strong>
[<span class="keyword">*</span>BRAS1-monitor-group-group1] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-monitor-group-group1] <strong>quit</strong></pre>
</p><p><p># Configure an RBS.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1] <strong>remote-backup-service s1</strong>
[<span class="keyword">*</span>BRAS1-rm-backup-srv-s1] <strong>peer 10.5.5.5 source 10.3.3.3 port 11000</strong>
[<span class="keyword">*</span>BRAS1-rm-backup-srv-s1] <strong>track monitor-group group1 switchover failure-ratio 50</strong>
[<span class="keyword">*</span>BRAS1-rm-backup-srv-s1] <strong>protect lsp-tunnel for-all-instance peer-ip 10.5.5.5</strong>
[<span class="keyword">*</span>BRAS1-rm-backup-srv-s1] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-rm-backup-srv-s1] <strong>quit</strong></pre>
</p><p><p># Configure an RBP.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1] <strong>remote-backup-profile p1</strong>
[<span class="keyword">*</span>BRAS1-rm-backup-prf-p1] <strong>service-type bras</strong>
[<span class="keyword">*</span>BRAS1-rm-backup-prf-p1] <strong>peer-backup hot</strong>
[<span class="keyword">*</span>BRAS1-rm-backup-prf-p1] <strong>backup-id 1 remote-backup-service s1</strong>
[<span class="keyword">*</span>BRAS1-rm-backup-prf-p1] <strong>vrrp-id 1 interface GigabitEthernet <span>0/1/0</span>.1</strong>
[<span class="keyword">*</span>BRAS1-rm-backup-prf-p1] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-rm-backup-prf-p1] <strong>quit</strong></pre>
<p># Bind the RBP to the interface through which users go online.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1] <strong>interface GigabitEthernet <span>0/1/0</span></strong><strong>.2</strong>
[<span class="keyword">*</span>BRAS1-GigabitEthernet<span>0/1/0</span>.2] <strong>remote-backup-profile p1</strong>
[<span class="keyword">*</span>BRAS1-GigabitEthernet<span>0/1/0</span>.2] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-GigabitEthernet<span>0/1/0</span>.2] <strong>quit</strong></pre>
</p></li><li><span>Configure a routing protocol.</span><p><p># Enable the function to automatically control a route's cost preference.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1] <strong>peer-backup route-cost auto-advertising</strong>
[<span class="keyword">*</span>BRAS1] <strong>commit</strong></pre>
</p><p><p># Configure MPLS.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1] <strong>mpls</strong>
[<span class="keyword">*</span>BRAS1-mpls] <strong>mpls ldp</strong>
[<span class="keyword">*</span>BRAS1-mpls-ldp] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-mpls-ldp] <strong>quit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1] <strong>mpls lsr-id 10.3.3.3</strong>
[<span class="keyword">*</span>BRAS1] <strong>interface GigabitEthernet<span>0/2/0</span></strong>
[<span class="keyword">*</span>BRAS1-GigabitEthernet<span>0/2/0</span>] <strong>mpls</strong>
[<span class="keyword">*</span>BRAS1-GigabitEthernet<span>0/2/0</span>]<strong> mpls ldp</strong>
[<span class="keyword">*</span>BRAS1-GigabitEthernet<span>0/2/0</span>]<strong> </strong><strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-GigabitEthernet<span>0/2/0</span>]<strong> quit</strong></pre>
<p># Configure OSPF to import UNRs.</p>
</p><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1] <strong>ospf 1</strong>
[<span class="keyword">*</span>BRAS1-ospf-1]<strong> </strong><strong>default cost inherit-metric</strong>
[<span class="keyword">*</span>BRAS1-ospf-1]<strong> </strong><strong>import-route unr</strong>
[<span class="keyword">*</span>BRAS1-ospf-1]<strong> </strong><strong>area 0</strong><strong>.0.0.0</strong>
[<span class="keyword">*</span>BRAS1-ospf-1-area-0.0.0.0]<strong> </strong><strong>network 10.0.0.1 0.0.0.255</strong>
[<span class="keyword">*</span>BRAS1-ospf-1-area-0.0.0.0]<strong> </strong><strong>network 10.3.3.3 0.0.0.0</strong>
[<span class="keyword">*</span>BRAS1-ospf-1-area-0.0.0.0]<strong> </strong><strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-ospf-1-area-0.0.0.0] <strong>quit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-ospf-1] <strong>quit</strong></pre>
</p></li><li><span>Configure address pools.</span><p><p># Configure the DHCP server.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1] <strong>dhcp check-server-pkt loose include option 3</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1]<strong> dhcp-server group ipvt-v4</strong>
[<span class="keyword">*</span>BRAS1-dhcp-server-group-ipvt-v4]<strong> dhcp-server 111.1.1.1</strong>
[<span class="keyword">*</span>BRAS1-dhcp-server-group-ipvt-v4] <strong>dhcp-server source interface LoopBack0</strong>
[<span class="keyword">*</span>BRAS1-dhcp-server-group-ipvt-v4] <strong>undo release-agent</strong>
[<span class="keyword">*</span>BRAS1-dhcp-server-group-ipvt-v4] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-dhcp-server-group-ipvt-v4] <strong>quit</strong></pre>
<p># Configure an IPv4 address pool.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1] <strong>ip pool test bas remote</strong>
[<span class="keyword">*</span>BRAS1-ip-pool-test] <strong>gateway 172.16.1.1 255.255.0.0</strong>
[<span class="keyword">*</span>BRAS1-ip-pool-test] <strong>dhcp-server group ipvt-v4</strong>
[<span class="keyword">*</span>BRAS1-ip-pool-test] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-ip-pool-test] <strong>quit</strong></pre>
<p># Configure the DHCPv6 server.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1] <strong>dhcpv6-server group iptv-v6</strong>
[<span class="keyword">*</span>BRAS1-dhcpv6-server-group-iptv-v6] <strong>dhcpv6-server destination 2001:db8:5::5</strong>
[<span class="keyword">*</span>BRAS1-dhcpv6-server-group-iptv-v6] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-dhcpv6-server-group-iptv-v6] <strong>dhcpv6-server source interface LoopBack0</strong>
[<span class="keyword">*</span>BRAS1-dhcpv6-server-group-iptv-v6] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-dhcpv6-server-group-iptv-v6] <strong>quit</strong></pre>
<p># Configure IPv6 address pools.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1] <strong>ipv6 prefix nd remote</strong>
[<span class="keyword">*</span>BRAS1-ipv6-prefix-nd]<strong> link-address 2001:db8:10::10/128</strong>
[<span class="keyword">*</span>BRAS1-ipv6-prefix-nd] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-ipv6-prefix-nd]<strong> quit </strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1] <strong>ipv6 prefix pd </strong><strong>remote</strong>
[<span class="keyword">*</span>BRAS1-ipv6-prefix-pd] <strong>link-address </strong><strong>2001:db8:11::11/128</strong>
[<span class="keyword">*</span>BRAS1-ipv6-prefix-pd] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-ipv6-prefix-pd] <strong>quit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1] <strong>ipv6 pool nd bas remote</strong>
[<span class="keyword">*</span>BRAS1-ipv6-pool-nd]<strong> prefix nd</strong>
[<span class="keyword">*</span>BRAS1-ipv6-pool-nd] <strong>dhcpv6-server group iptv-v6</strong>
[<span class="keyword">*</span>BRAS1-ipv6-pool-nd] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-ipv6-pool-nd] <strong>quit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1] <strong>ipv6 pool pd bas remote</strong>
[<span class="keyword">*</span>BRAS1-ipv6-pool-pd] <strong>prefix pd</strong>
[<span class="keyword">*</span>BRAS1-ipv6-pool-nd] <strong>dhcpv6-server group iptv-v6</strong>
[<span class="keyword">*</span>BRAS1-ipv6-pool-nd] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-ipv6-pool-pd] <strong>quit</strong></pre>
<p># Bind the RBS to the address pools.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1]<strong> </strong><strong>remote-backup-service s1</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-rm-backup-srv-s1]<strong> ip-pool test </strong>
[<span class="keyword">*</span>BRAS1-rm-backup-srv-s1]<strong> </strong><strong>ipv6-pool nd </strong>
[<span class="keyword">*</span>BRAS1-rm-backup-srv-s1]<strong> </strong><strong>ipv6-pool pd </strong>
[<span class="keyword">*</span>BRAS1-rm-backup-srv-s1]<strong> </strong><strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-rm-backup-srv-s1]<strong> </strong><strong>quit</strong></pre>
</p></li><li><span>Configure AAA schemes.</span><ol type="a"><li class="substepexpand"><span>Configure an authentication scheme.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1]<strong> aaa</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-aaa]<strong> authentication-scheme auth1</strong>
[<span class="keyword">*</span>BRAS1-aaa-authen-auth1]<strong> authentication-mode radius</strong>
[<span class="keyword">*</span>BRAS1-aaa-authen-auth1]<strong> commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-aaa-authen-auth1]<strong> quit</strong></pre>
</p></li><li class="substepexpand"><span>Configure an accounting scheme.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-aaa]<strong> accounting-scheme acct1</strong>
[<span class="keyword">*</span>BRAS1-aaa-accounting-acct1]<strong> accounting-mode radius</strong>
[<span class="keyword">*</span>BRAS1-aaa-accounting-radius]<strong> commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-aaa-accounting-radius]<strong> quit</strong></pre>
</p></li></ol>
</li><li><span>Configure a RADIUS server group.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-aaa]<strong> radius-server group rd1</strong>
[<span class="keyword">*</span>BRAS1-radius-rd1]<strong> radius-server authentication 192.168.7.249 1645</strong>
[<span class="keyword">*</span>BRAS1-radius-rd1]<strong> radius-server accounting 192.168.7.249 1646</strong>
[<span class="keyword">*</span>BRAS1-radius-rd1]<strong> radius-server shared-key-cipher YsHsjx_202206 </strong>
[<span class="keyword">*</span>BRAS1-radius-rd1]<strong> radius-server source interface LoopBack0</strong>
[<span class="keyword">*</span>BRAS1-radius-rd1]<strong> </strong><strong>radius-server calling-station-id include mac </strong>
[<span class="keyword">*</span>BRAS1-radius-rd1]<strong> commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-radius-rd1]<strong> quit</strong></pre>
</p></li><li><span>Configure a domain.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1] <strong>aaa</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-aaa] <strong>domain test</strong>
[<span class="keyword">*</span>BRAS1-aaa-domain-test] <strong>authentication-scheme auth1</strong>
[<span class="keyword">*</span>BRAS1-aaa-domain-test] <strong>accounting-scheme acct1</strong>
[<span class="keyword">*</span>BRAS1-aaa-domain-test] <strong>radius-server group rd1</strong>
[<span class="keyword">*</span>BRAS1-aaa-domain-test] <strong>prefix-assign-mode unshared</strong>
[<span class="keyword">*</span>BRAS1-aaa-domain-test] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-aaa-domain-test] <strong>ip-pool test</strong>
[<span class="keyword">*</span>BRAS1-aaa-domain-test] <strong>ipv6-pool nd</strong>
[<span class="keyword">*</span>BRAS1-aaa-domain-test] <strong>ipv6-pool pd</strong>
[<span class="keyword">*</span>BRAS1-aaa-domain-test] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-aaa-domain-test] <strong>quit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-aaa] <strong>quit</strong></pre>
</p></li><li><span>Configure the DHCPv6 device to generate DUIDs in DUID-LLT mode.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1] <strong>dhcpv6 duid llt</strong>
[<span class="keyword">*</span>BRAS1] <strong>commit</strong></pre>
</p></li><li><span>Configure a BAS interface, bind the BAS interface to the VT, and enable IPv6 on the BAS interface.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1] <strong>interface GigabitEthernet <span>0/1/0</span>.2</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-GigabitEthernet<span>0/1/0</span>.2] <strong>ipv6 enable</strong>
[<span class="keyword">*</span>BRAS1-GigabitEthernet<span>0/1/0</span>.2] <strong>ipv6 address auto link-local</strong>
[<span class="keyword">*</span>BRAS1-GigabitEthernet<span>0/1/0</span>.2] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-GigabitEthernet<span>0/1/0</span>.2] <strong>user-vlan 5   </strong>                                        
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-GigabitEthernet<span>0/1/0</span>.2-user-vlan 5] <strong>quit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-GigabitEthernet<span>0/1/0</span>.2] <strong>bas</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-GigabitEthernet<span>0/1/0</span>.2-bas] <strong>access-type layer2-subscriber default-domain authentication test</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-GigabitEthernet<span>0/1/0</span>.2-bas] <strong>client-option82</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-GigabitEthernet<span>0/1/0</span>.2-bas]<strong> authentication-method bind</strong>
[<span class="keyword">*</span>BRAS1-GigabitEthernet<span>0/1/0</span>.2-bas] <strong>authentication-method-ipv6 bind</strong>
[<span class="keyword">*</span>BRAS1-GigabitEthernet<span>0/1/0</span>.2-bas] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>BRAS1-GigabitEthernet<span>0/1/0</span>.2-bas] <strong>quit</strong></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001121618340__1.4.5"></a><a name="1.4.5"></a><h4 class="sectiontitle">Configuration Files</h4><ul><li><p>BRAS1 configuration file</p>
<pre class="screen">#
sysname BRAS1
#
vrrp recover-delay 60
#
radius-server group rd1
 radius-server shared-key-cipher %^%#b-SAV,j)4#)Ez2TokT,%2z'sNM<font style="font-size:8pt" Face="Courier New" >~</font>0@4h<font style="font-size:8pt" Face="Courier New" >~</font>G.KsQhz)%^%#
 radius-server authentication 192.168.7.249 1645 weight 0
 radius-server accounting 192.168.7.249 1646 weight 0
 radius-server source interface LoopBack0
 radius-server calling-station-id include mac 
#
bfd
#
mpls lsr-id 10.3.3.3
#
mpls
#
mpls ldp
#
ip pool test bas remote
 gateway 172.16.1.1 255.255.0.0
 dhcp-server group ipvt-v4
#
dhcp-server group ipvt-v4
 dhcp-server 111.1.1.1
 dhcp-server source interface LoopBack0
 undo release-agent
#
dhcpv6-server group iptv-v6
 dhcpv6-server destination 2001:db8:5::5
 dhcpv6-server source interface LoopBack0
#
ipv6 prefix nd remote
 link-address 2001:db8:10::10/128
#
ipv6 prefix pd remote
 link-address 2001:db8:11::11/128
#
ipv6 pool nd bas remote
 prefix nd
 dhcpv6-server group iptv-v6
#
ipv6 pool pd bas remote
 prefix pd
 dhcpv6-server group iptv-v6
#
dhcp check-server-pkt loose include option 3
#
monitor-group group1
 monitor enable
 binding interface GigabitEthernet<span>0/2/0</span> down-weight 10
 binding interface GigabitEthernet<span>0/3/0</span> down-weight 10
 trigger-up-delay 100
#
remote-backup-service s1
 peer 10.5.5.5 source 10.3.3.3 port 11000
 track monitor-group group1 switchover failure-ratio 50
 protect lsp-tunnel for-all-instance peer-ip 10.5.5.5
 ip-pool test metric 10
 ipv6-pool nd metric 10
 ipv6-pool pd metric 10
#
remote-backup-profile p1
 service-type bras
 backup-id 1 remote-backup-service s1
 peer-backup hot
 vrrp-id 1 interface GigabitEthernet<span>0/1/0</span>.1
#
dhcpv6 duid 00010001280ef7a400e0fc904b50
#
aaa
 #
 authentication-scheme auth1
 #
 accounting-scheme acct1
 #
 domain test
  authentication-scheme auth1
  accounting-scheme acct1
  radius-server group rd1
  prefix-assign-mode unshared
  ip-pool test
  ipv6-pool nd
  ipv6-pool pd
#
interface GigabitEthernet<span>0/2/0</span>
 undo shutdown
 ipv6 enable
 ip address 10.0.0.1 255.255.255.0
 ipv6 address 2001:db8:1::1/120
 ipv6 address auto link-local
 mpls
 mpls ldp
 dcn
#
interface GigabitEthernet<span>0/1/0</span>.1
 vlan-type dot1q 400
 ip address 192.168.1.1 255.255.255.0
 vrrp vrid 1 virtual-ip 192.168.1.100
 vrrp vrid 1 priority 120
 vrrp vrid 1 preempt-mode timer delay 60
 vrrp vrid 1 track interface GigabitEthernet<span>0/2/0</span> reduced 50
 vrrp vrid 1 track bfd-session session-name bfd1 link
#
interface GigabitEthernet<span>0/1/0</span>.2
 ipv6 enable
 ipv6 address auto link-local
 statistic enable
 user-vlan 5
 remote-backup-profile p1
 bas
 #
  access-type layer2-subscriber default-domain authentication test
  client-option82
  authentication-method bind
  authentication-method-ipv6 bind
 #
#
interface LoopBack0
 ipv6 enable
 ip address 10.2.2.2 255.255.255.255
 ipv6 address 2001:db8:2::2/128
 ipv6 address auto link-local
#
interface LoopBack1
 ip address 10.3.3.3 255.255.255.255
#
bfd bfd1 bind peer-ip 192.168.1.2
 discriminator local 8
 discriminator remote 6
#
ospf 1
 default cost inherit-metric
 import-route unr
 area 0.0.0.0
 network 10.0.0.1 0.0.0.255
 network 10.3.3.3 0.0.0.0
#
peer-backup route-cost auto-advertising 
#
return</pre>
</li><li><p>BRAS2 configuration file</p>
<pre class="screen">#
sysname BRAS2
#
vrrp recover-delay 60
#
radius-server group rd1
 radius-server shared-key-cipher %^%#b-SAV,j)4#)Ez2TokT,%2z'sNM<font style="font-size:8pt" Face="Courier New" >~</font>0@4h<font style="font-size:8pt" Face="Courier New" >~</font>G.KsQhz)%^%#
 radius-server authentication 192.168.7.249 1645 weight 0
 radius-server accounting 192.168.7.249 1646 weight 0
 radius-server source interface LoopBack0
 radius-server calling-station-id include mac 
#
bfd
#
mpls lsr-id 10.3.3.3
#
mpls
#
mpls ldp
#
ip pool test bas remote rui-slave
 gateway 172.16.1.1 255.255.0.0
 dhcp-server group ipvt-v4
#
dhcp-server group ipvt-v4
 dhcp-server 111.1.1.1
 dhcp-server source interface LoopBack0
 undo release-agent
#
dhcpv6-server group iptv-v6
 dhcpv6-server destination 2001:db8:5::5
 dhcpv6-server source interface LoopBack0
#
ipv6 prefix nd remote
 link-address 2001:db8:10::10/128
#
ipv6 prefix pd remote
 link-address 2001:db8:11::11/128
#
ipv6 pool nd bas remote rui-slave
 prefix nd
 dhcpv6-server group iptv-v6
#
ipv6 pool pd bas remote rui-slave
 prefix pd
 dhcpv6-server group iptv-v6
#
dhcp check-server-pkt loose include option 3
#
monitor-group group1
 monitor enable
 binding interface GigabitEthernet<span>0/2/0</span> down-weight 10
 binding interface GigabitEthernet<span>0/3/0</span> down-weight 10
 trigger-up-delay 100
#
remote-backup-service s1
 peer 10.3.3.3 source 10.5.5.5 port 11000
 track monitor-group group1 switchover failure-ratio 50
 protect lsp-tunnel for-all-instance peer-ip 10.3.3.3
 ip-pool test metric 20
 ipv6-pool nd metric 20
 ipv6-pool pd metric 20
#
remote-backup-profile p1
 service-type bras
 backup-id 1 remote-backup-service s1
 peer-backup hot
 vrrp-id 1 interface GigabitEthernet<span>0/1/0</span>.1
#
dhcpv6 duid 00010001280ef7a400e0fc904b50
#
aaa
 #
 authentication-scheme auth1
 #
 accounting-scheme acct1
 #
 domain test
  authentication-scheme auth1
  accounting-scheme acct1
  radius-server group rd1
  prefix-assign-mode unshared
  ip-pool test
  ipv6-pool nd
  ipv6-pool pd
#
interface GigabitEthernet<span>0/2/0</span>
 undo shutdown
 ipv6 enable
 ip address 10.0.0.2 255.255.255.0
 ipv6 address 2001:db8:3::3/120
 ipv6 address auto link-local
 mpls
 mpls ldp
 dcn
#
interface GigabitEthernet<span>0/1/0</span>.1
 vlan-type dot1q 400
 ip address 192.168.1.2 255.255.255.0
 vrrp vrid 1 virtual-ip 192.168.1.100
 vrrp vrid 1 priority 100
 vrrp vrid 1 preempt-mode timer delay 60
 vrrp vrid 1 track interface GigabitEthernet<span>0/2/0</span> reduced 50
 vrrp vrid 1 track bfd-session session-name bfd1 link
#
interface GigabitEthernet<span>0/1/0</span>.2
 ipv6 enable
 ipv6 address auto link-local
 statistic enable
 user-vlan 5
 remote-backup-profile p1
 bas
 #
  access-type layer2-subscriber default-domain authentication test
  client-option82
  authentication-method bind
  authentication-method-ipv6 bind
 #
#
interface LoopBack0
 ipv6 enable
 ip address 10.4.4.4 255.255.255.255
 ipv6 address 2001:db8:4::4/128
 ipv6 address auto link-local
#
interface LoopBack1
 ip address 10.5.5.5 255.255.255.255
#
bfd bfd1 bind peer-ip 192.168.1.1
 discriminator local 6
 discriminator remote 8
#
ospf 1
 default cost inherit-metric
 import-route unr
 area 0.0.0.0
 network 10.9.9.9 0.0.0.255
 network 10.5.5.5 0.0.0.0
#
peer-backup route-cost auto-advertising 
#
return</pre>
</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cfg_rui_0050.html">Configuration Examples
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cfg_rui_00631.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cfg_rui_0064.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>