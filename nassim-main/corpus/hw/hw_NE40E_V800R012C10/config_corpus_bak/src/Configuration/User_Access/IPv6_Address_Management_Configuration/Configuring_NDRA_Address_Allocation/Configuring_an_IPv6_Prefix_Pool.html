
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an IPv6 Prefix Pool">
<meta name="abstract" content="Before configuring the NDRA address assignment mode, you need to configure an IPv6 prefix pool and bind it to an address pool.">
<meta name="description" content="Before configuring the NDRA address assignment mode, you need to configure an IPv6 prefix pool and bind it to an address pool.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0020.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0023.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00588052,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172373916">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring an IPv6 Prefix Pool</title>
</head>
<body><a name="EN-US_TASK_0172373916"></a><a name="EN-US_TASK_0172373916"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an IPv6 Prefix Pool</h1>
<div class="taskbody"><p>Before configuring the NDRA address assignment mode, you need to configure an IPv6 prefix pool and bind it to an address pool.</p>
<div class="context"><a name="EN-US_TASK_0172373916__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Only one prefix and its mask can be configured in a prefix pool. After a prefix pool is locked, the leases of addresses that have been assigned cannot be renewed and new addresses cannot be assigned. The address reservation type can be configured only in a prefix pool.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172373916__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li><span>Run the <a href="cmdqueryname=ipv6+prefix"><b><span class="cmdname">ipv6 prefix</span></b></a> <i><span class="varname">prefix-name</span></i> [ <strong><span>local</span></strong> | <strong><span>delegation</span></strong> | <strong><span>remote</span></strong> ] command to create an IPv6 prefix pool and enter the IPv6 prefix pool view.</span><p><ul><li><p>After the local prefix pool is bound to the local IPv6 address pool, the local device functions as a server to assign prefixes or IPv6 addresses to users.</p>
</li><li><p>After a delegation prefix pool is bound to an IPv6 delegation address pool, the local device functions as a delegating router to assign IPv6 prefixes to requesting routers. Requesting routers exclusively use these IPv6 prefixes. The delegation prefix pool with the <a href="cmdqueryname=slaac-unshare-only"><b><span class="cmdname">slaac-unshare-only</span></b></a> command configured has a higher priority.</p>
</li><li>After a remote prefix pool is bound to a remote IPv6 address pool, the remote DHCPv6 server assigns IPv6 prefixes or addresses to users.</li></ul>
</p></li><li><span>(Optional) Run the <a href="cmdqueryname=slaac-unshare-only"><b><span class="cmdname">slaac-unshare-only</span></b></a> command to configure the delegation prefix pool to be used only in stateless address assignment mode.</span><p><p>The delegation prefix pool configured with this command can only be used for unshared prefix assignment through ND, instead of DHCPv6 IA_PD prefix assignment, and is preferred in IPv6 prefix assignment through ND.</p>
</p></li><li><span>Run the <a href="cmdqueryname=prefix"><b><span class="cmdname">prefix</span></b></a> <i><span class="varname">prefix-address/prefix-length</span></i> [ <strong><span>delegating-prefix-length</span></strong> <i><span class="varname">delegating-prefix-length</span></i> ] command to configure an IPv6 address prefix.</span><p><p>The assignable prefix length is the length of the IPv6 prefix that a delegating router assigns to a requesting router. The assignable prefix length configured in a prefix pool must be greater than the prefix length configured in the prefix pool. Otherwise, prefixes in the prefix pool cannot be assigned to users.</p>
</p></li><li><span>(Optional) Run the <a href="cmdqueryname=excluded-ipv6-address"><b><span class="cmdname">excluded-ipv6-address</span></b></a> <i><span class="varname">start-ipv6-address</span></i> [ <i><span class="varname">end-ipv6-address</span></i> ] command to exclude a specified IPv6 address or address segment.</span><p><p>The excluded IPv6 addresses must be in the assignable range of the prefix pool. If the end IPv6 address is not specified, only the start IPv6 address is excluded.</p>
</p></li><li><span>(Optional) Run the <a href="cmdqueryname=excluded-ipv6-prefix"><b><span class="cmdname">excluded-ipv6-prefix</span></b></a> <i><span class="varname">start-ipv6-prefix/prefix-length</span></i> [ <i><span class="varname">end-ipv6-prefix/prefix-length</span></i> ] command to exclude one or more IPv6 prefixes.</span><p><p>The excluded IPv6 prefix must be in the assignable range of the prefix pool. When the end IPv6 prefix is not specified, only the start IPv6 prefix is excluded.</p>
</p></li><li id="EN-US_TASK_0172373916__step_0319C321lock"><span id="EN-US_TASK_0172373916__cmd2075992167214107">(Optional) Run the <a href="cmdqueryname=lock"><b><span class="cmdname" id="EN-US_TASK_0172373916__cmdname1824756784214107">lock</span></b></a> command to lock an IPv6 prefix pool.</span><p><p id="EN-US_TASK_0172373916__p1633793510214107">After this command is run, no prefix in the locked prefix pool can be assigned, preventing new users from going online using prefixes in the prefix pool.</p>
<p id="EN-US_TASK_0172373916__p1262849142214107">This method is typically used when a prefix pool cannot be deleted because its prefixes are in use by online users. You can lock the prefix pool first to stop it from assigning prefixes. After all users go offline, the prefixes in the prefix pool are all released, and the prefix pool can then be deleted.</p>
</p></li><li id="EN-US_TASK_0172373916__step_09_vpn"><span id="EN-US_TASK_0172373916__cmd1399446804214107">(Optional) Run the <a href="cmdqueryname=vpn-instance"><b><span class="cmdname" id="EN-US_TASK_0172373916__cmdname477134557214107">vpn-instance</span></b></a> <i><span class="varname" id="EN-US_TASK_0172373916__varname1443902391214107">vpn-instance-name</span></i> command to bind a VPN instance to the prefix pool.</span></li><li id="EN-US_TASK_0172373916__step_03193681lifetime"><span id="EN-US_TASK_0172373916__cmd1439982628214107">(Optional) Run the <a href="cmdqueryname=lifetime+preferred-lifetime"><b><span class="cmdname" id="EN-US_TASK_0172373916__cmdname1829019909214107">lifetime preferred-lifetime</span></b></a> { <strong><span id="EN-US_TASK_0172373916__cmdparmname1376698838214107">days</span></strong> <i><span class="varname" id="EN-US_TASK_0172373916__varname112781231214107">days-value</span></i> [ <strong><span id="EN-US_TASK_0172373916__cmdparmname831736457214107">hours</span></strong> <i><span class="varname" id="EN-US_TASK_0172373916__varname1230165390214107">hours-value</span></i> [ <strong><span id="EN-US_TASK_0172373916__cmdparmname1855702265214107">minutes</span></strong> <i><span class="varname" id="EN-US_TASK_0172373916__varname1811140316214107">minutes-value</span></i> ] ] | <strong><span id="EN-US_TASK_0172373916__cmdparmname1858169560214107">infinite</span></strong> } <strong><span id="EN-US_TASK_0172373916__cmdparmname164933457214107">valid-lifetime</span></strong> { <strong><span id="EN-US_TASK_0172373916__cmdparmname1969727102214107">days</span></strong> <i><span class="varname" id="EN-US_TASK_0172373916__varname1166081639214107">days-value</span></i> [ <strong><span id="EN-US_TASK_0172373916__cmdparmname1164596323214107">hours</span></strong> <i><span class="varname" id="EN-US_TASK_0172373916__varname1863083766214107">hours-value</span></i> [ <strong><span id="EN-US_TASK_0172373916__cmdparmname611530095214107">minutes</span></strong> <i><span class="varname" id="EN-US_TASK_0172373916__varname997365017214107">minutes-value</span></i> ] ] | <strong><span id="EN-US_TASK_0172373916__cmdparmname1337631574214107">infinite</span></strong> } command to configure the lifetime of IPv6 prefixes.</span><p><p id="EN-US_TASK_0172373916__p762939954214107">The <strong><span id="EN-US_TASK_0172373916__cmdparmname75610748214107">preferred-lifetime</span></strong> parameter is used to calculate the lease renewal time and rebinding time of the IPv6 prefix pool. The time value must be no less than 1 minute. The default value is two days.</p>
<p id="EN-US_TASK_0172373916__p1846273907214107">The <strong><span id="EN-US_TASK_0172373916__cmdparmname71343301214107">valid-lifetime</span></strong> parameter specifies the validity period of a specified IPv6 prefix. The user using the prefix will be logged out after the validity period expires. The time value must be no less than 1 minute and the <strong><span id="EN-US_TASK_0172373916__cmdparmname79772045102518">preferred-lifetime</span></strong> value. The default value is three days.</p>
</p></li><li><span>(Optional) Run the <a href="cmdqueryname=conflict+auto-recycle"><b><span class="cmdname">conflict auto-recycle</span></b></a> <strong><span>interval</span></strong> <i><span class="varname">interval-time</span></i> command to configure the interval for automatically reclaiming conflicting prefixes.</span><p><p>This command takes effect only in the local prefix pool.</p>
</p></li><li id="EN-US_TASK_0172373916__step_031D93B1_reserved"><span id="EN-US_TASK_0172373916__cmd826549647214107">(Optional) Run the <a href="cmdqueryname=reserved+prefix"><b><span class="cmdname" id="EN-US_TASK_0172373916__cmdname766425839214107">reserved prefix</span></b></a> { <strong><span id="EN-US_TASK_0172373916__cmdparmname34775626214107">duid</span></strong> | <strong><span id="EN-US_TASK_0172373916__cmdparmname189545442214107">mac</span></strong> } [ <strong><span id="EN-US_TASK_0172373916__cmdparmname1660026298214107">lease</span></strong> ] command to configure the reservation type of user prefixes in the prefix pool.</span><p><p id="EN-US_TASK_0172373916__p6957418203615">This command can be run only in the local and delegation prefix pools.</p>
</p></li><li id="EN-US_TASK_0172373916__step_07_recycle"><span id="EN-US_TASK_0172373916__cmd1751383093214107">(Optional) Run the <a href="cmdqueryname=recycle+prefix"><b><span class="cmdname" id="EN-US_TASK_0172373916__cmdname525182631214107">recycle prefix</span></b></a> <i><span class="varname" id="EN-US_TASK_0172373916__varname231907286214107">start-prefix</span></i> [ <i><span class="varname" id="EN-US_TASK_0172373916__varname1197019665214107">end-prefix</span></i> ] command to configure the prefix status as idle.</span></li><li><span>(Optional) Run the <a href="cmdqueryname=reserved+ipv6-address"><b><span class="cmdname">reserved ipv6-address</span></b></a> { <strong><span>duid</span></strong> | <strong><span>mac</span></strong> } [ <strong><span>lease</span></strong> ] command to configure the reservation type of user addresses in the prefix pool.</span><p><p>This command can be configured only in the remote prefix pool.</p>
</p></li><li><span>(Optional) Run the <a href="cmdqueryname=recycle+ipv6-address"><b><span class="cmdname">recycle ipv6-address</span></b></a> <i><span class="varname">start-prefix</span></i> [ <i><span class="varname">end-prefix</span></i> ] command to configure the address status as idle.</span><p><p>The command can only be run in the local prefix pool.</p>
</p></li><li><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0020.html">Configuring NDRA Address Allocation
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0023.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>