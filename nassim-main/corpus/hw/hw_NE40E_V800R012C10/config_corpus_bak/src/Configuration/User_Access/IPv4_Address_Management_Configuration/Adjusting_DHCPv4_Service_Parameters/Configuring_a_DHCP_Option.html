
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a DHCP Option">
<meta name="abstract" content="DHCP provides a framework for parameter transmission over the TCP/IP network. The DHCP client and server can transmit the negotiated parameters and control information to each other through options.">
<meta name="description" content="DHCP provides a framework for parameter transmission over the TCP/IP network. The DHCP client and server can transmit the negotiated parameters and control information to each other through options.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0041.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0037.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0253.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z50024784,z00603461,w00800033,z00588052,c00549182,w00556928,l00593348,ipv4-address_ne,w00606909,w00447999,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPv4 Address Management">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv4 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv4 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv4 Address Management">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="l00593348">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172373795">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring a DHCP Option</title>
</head>
<body><a name="EN-US_TASK_0172373795"></a><a name="EN-US_TASK_0172373795"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a DHCP Option</h1>
<div class="taskbody"><p>DHCP provides a framework for parameter transmission over the TCP/IP network. The DHCP client and server can transmit the negotiated parameters and control information to each other through options.</p>
<div class="context"><a name="EN-US_TASK_0172373795__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>When a terminal device, such as the set top box of the digital TV, accesses the network, the <span class="keyword">NE40E</span> cannot identify its domain according to its user name. Therefore, the <span class="keyword">NE40E</span> cannot allocate any IP address to the device. In this case, the terminal device uses Option 60 to carry the domain information when initiating the DHCP request. After receiving the DHCP request, the <span class="keyword">NE40E</span> allocates an IP address to the device according to the domain information contained in Option 60.</p>
<p>Option 121 allows a DHCP server to allocate static routes to DHCP clients.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172373795__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=dhcp+option-60"><b><span class="cmdname">dhcp option-60</span></b></a> <span>[ <strong><span>cn</span></strong> | [ <strong><span>offset</span></strong> <i><span class="varname">offset-value</span></i> ] { <strong><span>length</span></strong> <i><span class="varname">length</span></i> | <strong><span>sub-option</span></strong> <i><span class="varname">suboption-id</span></i> [ <strong><span>sub-offset</span></strong> <i><span class="varname">sub-offset-id</span></i> ] [ <strong><span>sub-length</span></strong> <i><span class="varname">sub-length</span></i> ] } ] </span>{ <strong><span>domain-included</span></strong> | <strong><span>included-in-domain</span></strong> } { <strong><span>partial-match</span></strong> | <strong><span>exact-match</span></strong> }<span> [ <strong><span>encrypt</span></strong> ]</span></span></span><p><p>The Option 60 attribute is set for DHCP packets. This attribute allows the device to allocate IP addresses from a corresponding address pool based on the domain name. Option 60 can be configured to contain the domain name. Partial match or exact match of the domain name can be configured.<span> You can configure <strong>encrypt</strong> to encrypt the Option 60 attribute.</span></p>
<div class="p">If user domain information is obtained from the vendor-class information, the character string following the domain name delimiter (defaulting to @) in the vendor-class field is used as the domain name. If no user domain information is obtained from the vendor-class information, the <span class="keyword">NE40E</span> performs the following procedure to continue searching for the information. If there is no domain name delimiter in the field, the <span class="keyword">NE40E</span> performs a fuzzy or exact match of the domain name information based on the configured mode. The procedure will stop after user domain information is obtained.<ol type="a"><li>Check if the <a href="cmdqueryname=dhcp+option-60"><b><span class="cmdname">dhcp option-60</span></b></a> command is configured in the system view. If the command is configured, obtain user domain information from the Option 60 attribute carried in user packets.</li><li>Use the authorization domain configured on the BAS interface as the user domain.</li></ol>
</div>
</p></li><li><span>Run <span><a href="cmdqueryname=aaa"><b><span class="cmdname">aaa</span></b></a></span></span><p><p>The AAA view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=domain"><b><span class="cmdname">domain</span></b></a> <i><span class="varname">domain-name</span></i></span></span><p><p>A domain is created, and the domain view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=dhcp+option121+route"><b><span class="cmdname">dhcp option121 route</span></b></a> <i><span class="varname">ip-addr</span></i> <i><span class="varname">mask</span></i> <i><span class="varname">gateway-address</span></i></span><p><p>Static routes are allocated to domain users.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0041.html">Adjusting DHCPv4 Service Parameters
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0037.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0253.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>