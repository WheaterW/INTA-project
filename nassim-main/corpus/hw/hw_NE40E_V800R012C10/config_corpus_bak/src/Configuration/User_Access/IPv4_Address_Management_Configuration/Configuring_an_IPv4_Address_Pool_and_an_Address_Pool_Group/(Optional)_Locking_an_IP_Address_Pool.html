
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Locking an IP Address Pool">
<meta name="abstract" content="This section describes how to lock an IP address pool so that the address pool cannot be used to assign IP addresses to new users.">
<meta name="description" content="This section describes how to lock an IP address pool so that the address pool cannot be used to assign IP addresses to new users.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0048.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0171.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0153.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z50024784,z00603461,w00800033,z00588052,c00549182,w00556928,l00593348,ipv4-address_ne,w00606909,w00447999,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPv4 Address Management">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv4 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv4 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv4 Address Management">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="l00593348">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172373779">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Locking an IP Address Pool</title>
</head>
<body><a name="EN-US_TASK_0172373779"></a><a name="EN-US_TASK_0172373779"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">(Optional) Locking an IP Address Pool</h1>



<div class="taskbody"><p>This section describes how to lock an IP address pool so
that the address pool cannot be used to assign IP addresses to new
users.</p>

<div class="context"><a name="EN-US_TASK_0172373779__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>An IP address pool with an in-use IP address cannot be
deleted. Therefore, configure the drain function to lock the address
pool before you delete the address pool. After an IP address pool
is locked using the <a href="cmdqueryname=lock+drain"><b><span class="cmdname">lock drain</span></b></a> command, DHCP Request
messages for lease renewal from online users will be discarded. The
address pool can be deleted after all online users using the address
pool go offline upon lease expiry. If you only need to disable an
IP address pool so that the address pool will not be used to assign
IP addresses to new users but online users can still use assigned
IP addresses, configure the lock function to lock the address pool
using the <strong>lock</strong> command.</p>
</div></div>

<div class="steps"><a name="EN-US_TASK_0172373779__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol>
<li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span>
<p><p>The system view is displayed.</p>
</p>
</li>
<li><span>Run <span><a href="cmdqueryname=ip+pool"><b><span class="cmdname">ip pool</span></b></a> <i><span class="varname">pool-name</span></i> [ <strong><span>bas</span></strong> { <strong><span>local</span></strong> | <strong><span>remote</span></strong> } ]</span></span>
<p><p>The IP address pool view is displayed.</p>
</p>
</li>
<li><span>Perform either of the following configurations as needed:</span>
<p><ul><li><p>Configure the drain function to lock the address pool.</p>
<ol type="a"><li><p>Run <span><a href="cmdqueryname=lock+drain"><b><span class="cmdname">lock
drain</span></b></a></span></p>
<p>The IP address pool is locked so
that the address pool cannot be used to assign IP addresses to new
users and Request messages for lease renewal from online users using
the address pool are discarded. </p>
</li><li><p>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></p>
<p>The configuration is committed.</p>
</li></ol>
</li><li><p>Configure the lock function to lock the address pool.</p>
<ol type="a"><li><p>Run <span><a href="cmdqueryname=lock"><b><span class="cmdname">lock</span></b></a></span></p>
<p>The IP address pool is locked so
that the address pool cannot be used to assign IP addresses to new
users but Request messages for lease renewal from online users can
still be processed.</p>
</li><li><p>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></p>
<p>The configuration is committed.</p>
</li></ol>
</li></ul>
</p>
</li>
</ol></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0048.html">Configuring an IPv4 Address Pool and an Address Pool Group
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0171.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0153.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>