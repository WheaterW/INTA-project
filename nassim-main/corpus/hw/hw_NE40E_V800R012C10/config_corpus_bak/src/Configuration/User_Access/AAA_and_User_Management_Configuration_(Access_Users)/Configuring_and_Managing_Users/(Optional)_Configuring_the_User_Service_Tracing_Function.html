
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring the User Service Tracing Function">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_aaa_cfg_0270.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_aaa_cfg_09001.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_aaa_cfg_0466.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00588052,w00437000,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="User Access">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="AAA (Access User)">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="z00588052,w00437000">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172373732">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring the User Service Tracing Function</title>
</head>
<body><a name="EN-US_TASK_0172373732"></a><a name="EN-US_TASK_0172373732"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring the User Service Tracing Function</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0172373732__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>You can configure this function during fault diagnosis. Using the service tracing function decreases the performance of the <span class="keyword">NE40E</span> to some extent. Therefore, you are recommended to use this function only when you need to locate faults. This function is not enabled in normal cases.</p>
<p>Step 3<span> and Step 4</span> can be performed as required. If this function is enabled when the status of a large number of users changes, you need to configure the objects to be traced as accurately as possible to avoid consumption of too many device resources. Otherwise, normal user services will be affected.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172373732__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li><span>Run the <a href="cmdqueryname=trace+enable"><b><span class="cmdname">trace enable</span></b></a> command to enable the service tracing function.</span></li><li><span>Run the <a href="cmdqueryname=trace+access-user+object"><b><span class="cmdname">trace access-user object </span></b></a><i><span class="varname">id</span></i> { <strong><span>interface</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> } | <strong><span>ip-address</span></strong> <i><span class="varname">ip-address</span></i> | <strong><span>mac-address</span></strong> <i><span class="varname">mac-address</span></i> | <strong><span>ce-vlan</span></strong> <i><span class="varname">ce-vid</span></i> | <strong><span>pe-vlan</span></strong> <i><span class="varname">pe-vid</span></i> | <strong><span>ipv6-address</span></strong> <i><span class="varname">prefix-address/prefix-length</span></i> | <strong><span>user-name</span></strong> <i><span class="varname">username</span></i> | <strong><span>tunnel-id</span></strong> <i><span class="varname">tunnel-id</span></i> | <strong><span>access-mode</span></strong> { <strong><span>pppoe</span></strong> | <strong><span>ipoe</span></strong> } }<sup>*</sup> [ <strong><span>output</span></strong> { <strong><span>file</span></strong> <i><span class="varname">file-name</span></i> [ <strong><span>anonymize</span></strong> <strong><span>personal-data</span></strong> ] | <strong><span>syslog-server</span></strong> <i><span class="varname">ip-address</span></i> [ <strong><span>bind</span></strong> <strong><span>ssl-policy</span></strong> <i><span class="varname">ssl-policy-name</span></i> ] [ <strong><span>anonymize</span></strong> <strong><span>personal-data</span></strong> ] | <strong><span>vty</span></strong> } | [ <strong><span>-t</span></strong> <i><span class="varname">time-value</span></i> ] | [ <strong><span>mode</span></strong> <strong><span>packet</span></strong> ] | [ <strong><span>flow-report</span></strong> ]]<sup>*</sup></span><p><p><span>or <a href="cmdqueryname=trace+access-user"><b><span class="cmdname">trace access-user</span></b></a> <strong><span>object</span></strong> <i><span class="varname">object-id</span></i> <strong><span>calling-number</span></strong> [ <strong><span>output</span></strong> { <strong><span>file</span></strong> <i><span class="varname">file-name</span></i> | <strong><span>syslog-server</span></strong> <i><span class="varname">ip-address</span></i> | <strong><span>vty</span></strong> }]<span> [ <strong><span>mode</span></strong> <strong><span>packet</span></strong> ]</span> [ <strong><span>-t</span></strong> <i><span class="varname">time</span></i> ] [| <strong><span>include</span></strong> ] <strong><span>calling-number-content</span></strong> <i><span class="varname">text</span></i></span></p>
<p><span>or <a href="cmdqueryname=trace+access-user"><b><span class="cmdname">trace access-user</span></b></a> <strong><span>object</span></strong> <i><span class="varname">object-id</span></i> { <strong><span>circuit-id</span></strong> <i><span class="varname">text</span></i> | <strong><span>remote-id</span></strong> <i><span class="varname">text</span></i> }<sup>*</sup> { <strong><span>exact-match</span></strong> | <strong><span>partial-match</span></strong> } [ <strong><span>output</span></strong> { <strong><span>file</span></strong> <i><span class="varname">file-name</span></i> | <strong><span>syslog-server</span></strong> <i><span class="varname">ip-address</span></i><span>[ <strong><span>bind</span></strong> <strong><span>ssl-policy</span></strong> <i><span class="varname">ssl-policy-name</span></i> ]</span> | <strong><span>vty</span></strong> } | <strong><span>-t</span></strong> <i><span class="varname">time</span></i> | <strong><span>mode</span></strong> <strong><span>packet</span></strong> <span>| <strong><span>flow-report</span></strong></span> ]<sup>*</sup></span> command to create a service tracing object and configure the information output position<span>, SSL policy to be bound to the tracing object,</span> and aging time.</p>
</p></li><li><span>Run the <a href="cmdqueryname=trace+access-user+object+online-fail+top"><b><span class="cmdname">trace access-user object online-fail top</span></b></a><i><span class="varname"> topnum</span></i> [ <strong><span>-t</span></strong> <i><span class="varname">time-value</span></i> ] command to configure the device to sort the causes of user login failures in descending order by how many times a user login failure occurs within 20 minutes. For the top <i><span class="varname">topNum</span></i> user login failure causes, the device identifies the last user who failed to log in successfully among the login failure records based on each failure cause and automatically traces the user based on the MAC address.</span><p><p>The device can trace the top 5 login failure causes at a time to locate the last users who failed to log in successfully. That is, the device can concurrently trace a maximum of five users who experienced a login failure.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_aaa_cfg_0270.html">Configuring and Managing Users
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_aaa_cfg_09001.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_aaa_cfg_0466.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>