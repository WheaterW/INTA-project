
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring the NAT64 Alarm Function">
<meta name="abstract" content="You can configure the NAT64 alarm function to strengthen the device administrator's capability to monitor NAT64 services in real time.">
<meta name="description" content="You can configure the NAT64 alarm function to strengthen the device administrator's capability to monitor NAT64 services in real time.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat64_cfg_0032.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat64_cfg_0033.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat64_cfg_0035.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="c00549182">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="NAT64">
<meta name="featuretype" content="NAT and IPv6 Transition">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="NAT64">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="NAT64">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="NAT64">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="OWNER" content="c00549182">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="c00549182">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172374927">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring the NAT64 Alarm Function</title>
</head>
<body><a name="EN-US_TASK_0172374927"></a><a name="EN-US_TASK_0172374927"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring the NAT64 Alarm Function</h1>
<div class="taskbody"><p>You can configure the NAT64 alarm function to strengthen the device administrator's capability to monitor NAT64 services in real time.</p>
<div class="context"><a name="EN-US_TASK_0172374927__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>The total number of addresses and the total number of ports available in the system are important resources of NAT64 services. If these resources are exhausted, NAT64 cannot be performed for the traffic of users just going online. Therefore, usage of these resources must be properly monitored. The NAT64 alarm function generates an alarm when the resource usage reaches a certain extent, notifying the customer of the necessity to implement capacity expansion or service adjustment.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172374927__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Set the maximum number of alarm packets that a service board sends every second.</span><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In VS mode, this configuration process is supported only by the admin VS.</p>
</div></div>
</p><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=nat+alarm+rate"><b><span class="cmdname">nat alarm rate</span></b></a> <i><span class="varname">threshold-value</span></i></span></span><p><p>The maximum number of alarm packets that a service board sends every second is set.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Set an alarm threshold for user tables.</span><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In VS mode, this configuration process is supported only by the admin VS.</p>
</div></div>
</p><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <span><a href="cmdqueryname=undo+nat+alarm+user-table"><b><span class="cmdname">undo nat alarm user-table</span></b></a> { <strong><span>log</span></strong> | <strong><span>trap</span></strong> } <strong><span>disable</span></strong></span></span><p><p>The log and trap functions of the user table are enabled.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=nat+alarm+user-table+threshold"><b><span class="cmdname">nat alarm user-table threshold</span></b></a> <i><span class="varname">threshold-value</span></i></span></span><p><p>An alarm threshold is set for the user tables.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Set an alarm threshold for a No-PAT address pool.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=nat64+instance"><b><span class="cmdname">nat64 instance</span></b></a> <i><span class="varname">instance-name</span></i> [ <strong><span>id</span></strong> <i><span class="varname">id</span></i> ]</span></span><p><p>The NAT64 instance view is displayed.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <span><a href="cmdqueryname=undo+nat64+alarm+port-number"><b><span class="cmdname">undo nat64 alarm port-number</span></b></a> { <strong><span>log</span></strong> | <strong><span>trap</span></strong> } <strong><span>address-group</span></strong> <strong><span>disable</span></strong></span></span><p><p>The log and alarm functions of port usage of a No-PAT NAT64 public IP address pool are enabled.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=nat64+alarm"><b><span class="cmdname">nat64 alarm</span></b></a> <strong><span>address-group</span></strong> <strong><span>port-number</span></strong> <strong><span>threshold</span></strong> <i><span class="varname">value</span></i></span></span><p><p>The device is enabled to generate an alarm when the number of used ports in a No-PAT NAT64 address pool exceeds a configured threshold.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure the log or trap function for CPU forwarding performance on dedicated boards.</span><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In VS mode, this configuration process is supported only by the admin VS.</p>
</div></div>
</p><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=vsm+alarm+cpu-performance"><b><span class="cmdname">vsm alarm cpu-performance</span></b></a> { <strong><span>log</span></strong> | <strong><span>trap</span></strong> } <strong><span>disable</span></strong></span><p><p>The log or trap function for CPU forwarding performance on the dedicated board is disabled.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=vsm+alarm+cpu-performance+threshold"><b><span class="cmdname">vsm alarm cpu-performance threshold</span></b></a> <i><span class="varname">threshold-value</span></i></span><p><p>An alarm threshold for CPU forwarding performance on the dedicated board is configured.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat64_cfg_0032.html">Configuring NAT64 Maintainability
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat64_cfg_0033.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat64_cfg_0035.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>