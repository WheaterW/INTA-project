
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Association of CGN Board Faults with Inter-chassis NAT Cold Backup">
<meta name="abstract" content="You can associate CGN board faults with inter-chassis NAT cold backup to improve NAT device reliability.">
<meta name="description" content="You can associate CGN board faults with inter-chassis NAT cold backup to improve NAT device reliability.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0035_1.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0036_1.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0085_1.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="c00549182">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="OWNER" content="c00549182">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="c00549182">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001092997676">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Association of CGN Board Faults with Inter-chassis NAT Cold Backup</title>
</head>
<body><a name="EN-US_TASK_0000001092997676"></a><a name="EN-US_TASK_0000001092997676"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Association of CGN Board Faults with Inter-chassis NAT Cold Backup</h1>
<div class="taskbody"><p>You can associate CGN board faults with inter-chassis NAT cold backup to improve NAT device reliability.</p>
<div class="context"><a name="EN-US_TASK_0000001092997676__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_context641512015435"><p id="EN-US_TASK_0000001092997676__en-us_task_0172374554_p1884465109214110">Two NAT devices equipped with CGN boards cannot detect the board faults. To resolve this issue, bind interfaces to an HA status monitoring group. The NAT devices can then detect the running status of the CGN boards. If one board fails, a master/backup device switchover is triggered, preventing services from being interrupted for a long time.</p>
<div class="note" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_note581604457214110"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0000001092997676__en-us_task_0172374554_p12634335153417">The association function takes effect only on <a href="dc_ne_nat_feature_0008.html#EN-US_CONCEPT_0172359138__li1033371595">dedicated boards</a>.</p>
<p id="EN-US_TASK_0000001092997676__en-us_task_0172374554_p1766294057214110">Do not configure the same public and private IP addresses for the master and backup CGN devices. Otherwise, packet loss may occur due to faults on access-side interfaces.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001092997676__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0000001092997676__en-us_task_0172374554_steps65836231214110"><li id="EN-US_TASK_0000001092997676__en-us_task_0172374554_step441141575214110"><span id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmd1152901581214110">Configure basic HA group functions.</span><ol type="a" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_substeps1225500623214110"><li class="substepexpand" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_substep681809400214110"><span id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmd923195956214415">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmdname1680474069214415">system-view</span></b></a></span></span><p><p id="EN-US_TASK_0000001092997676__en-us_task_0172374554_p946579911214415">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_substep1190627333214110"><span id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmd620962985214110">Run <a href="cmdqueryname=service-location"><b><span class="cmdname" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmdname1214784506214110">service-location</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_varname115243152214110">service-location-id</span></i></span><p><p id="EN-US_TASK_0000001092997676__en-us_task_0172374554_p1853102918324">An HA group is created, and its view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_substep1549861935214110"><span id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmd1700387082214110">Run <a href="cmdqueryname=location"><b><span class="cmdname" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmdname1618113133214110">location</span></b></a> <strong><span id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmdparmname447706644214110">slot</span></strong> <i><span class="varname" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_varname2122738278214110">slot-id</span></i> [ <strong><span id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmdparmname243696213214110">backup</span></strong> <strong><span id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmdparmname1163022264214110">slot</span></strong> <i><span class="varname" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_varname1094608908214110">backup-slot-id</span></i> ]</span><p><p id="EN-US_TASK_0000001092997676__en-us_task_0172374554_p1351164252">The active/standby information of the HA group is configured.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_substep879744098214110"><span id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmd613548411214415">Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmdname1666244735214415">commit</span></b></a></span></span><p><p id="EN-US_TASK_0000001092997676__en-us_task_0172374554_p1126361181214415">The configuration is committed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_substep982193031214110"><span id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmd1566972232214415">Run <span><a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmdname496133910214415">quit</span></b></a></span></span><p><p id="EN-US_TASK_0000001092997676__en-us_task_0172374554_p586685479214415">Return to the system view.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0000001092997676__en-us_task_0172374554_step1709543448214110"><span id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmd1113017323214110">Create an HA status monitoring group and bind it to the service-location group.</span><ol type="a" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_substeps2048846215214110"><li class="substepexpand" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_substep787263282214110"><span id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmd249825274214415">Run <a href="cmdqueryname=monitor-location-group"><b><span class="cmdname" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmdname1820914311214110">monitor-location-group</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_varname1401666735214110">group-name</span></i></span><p><p id="EN-US_TASK_0000001092997676__en-us_task_0172374554_p1791582790214415">An HA status monitoring group is created, and its view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_substep1976673726214110"><span id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmd383293792214110">Run <span><a href="cmdqueryname=service-location"><b><span class="cmdname" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmdname1029724699214415">service-location</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_varname2061753113214415">service-location-id</span></i></span></span><p><p id="EN-US_TASK_0000001092997676__en-us_task_0172374554_p362348122018">The HA status monitoring group is bound to the service-location group.</p>
<div class="note" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_note871115165208"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0000001092997676__en-us_task_0172374554_p147116169205">One HA status monitoring group can be bound to up to 64 service-location groups, and one service-location group can be shared by multiple HA status monitoring groups.</p>
</div></div>
</p></li><li class="substepexpand" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_substep1523275971214110"><span id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmd1546688710214110">Run <a href="cmdqueryname=down-number"><b><span class="cmdname" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmdname1845562673214110">down-number</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_varname350666363214110">number</span></i></span><p><p id="EN-US_TASK_0000001092997676__en-us_task_0172374554_p7319783344">A status change threshold is configured for the HA status monitoring group.</p>
</p><p><div class="note" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_note1002154764214110"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0000001092997676__en-us_task_0172374554_p500875127214110">The status change of an HA status monitoring group must meet threshold requirements. When the number of faulty HA backup groups is greater than or equal to the threshold, the HA status monitoring group becomes Down, and services are switched to the backup device. When the number is less than the threshold, the interface status is restored.</p>
</div></div>
</p></li><li class="substepexpand" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_substep595364709214110"><span id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmd2076124478214415">Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmdname249505759214415">commit</span></b></a></span></span><p><p id="EN-US_TASK_0000001092997676__en-us_task_0172374554_p603465119214415">The configuration is committed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_substep520881208214110"><span id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmd696291402214415">Run <span><a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmdname321781963214415">quit</span></b></a></span></span><p><p id="EN-US_TASK_0000001092997676__en-us_task_0172374554_p1676189321214415">Return to the system view.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0000001092997676__en-us_task_0172374554_step992637380214110"><span id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmd1603475764214110">Bind an interface to the HA status monitoring group.</span><ol type="a" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_substeps620938585214110"><li class="substepexpand" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_substep93732129214110"><span id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmd1250378852214110">Run <a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmdname1144762152214110">interface</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_varname1500317118214110">interface-name</span></i> <i><span class="varname" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_varname110216561787">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_varname5155181498">interface-number</span></i></span><p><p id="EN-US_TASK_0000001092997676__en-us_task_0172374554_p7465144518226">The interface view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_substep209828976214110"><span id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmd869176531214415">Run <span><a href="cmdqueryname=track+monitor-location-group"><b><span class="cmdname" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmdname1611936199214415">track monitor-location-group</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_varname6941090214415">group-name</span></i></span></span><p><p id="EN-US_TASK_0000001092997676__en-us_task_0172374554_p1812889663214415">The interface is bound to the HA status monitoring group.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_substep493359493214110"><span id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmd1051383191214415">Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001092997676__en-us_task_0172374554_cmdname1687916045214415">commit</span></b></a></span></span><p><p id="EN-US_TASK_0000001092997676__en-us_task_0172374554_p1535357958214415">The configuration is committed.</p>
</p></li></ol>
</li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0035_1.html">Configuring NAT Reliability
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0036_1.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0085_1.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>