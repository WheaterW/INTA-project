
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring the NAT64 Log Function">
<meta name="abstract" content="You can configure the NAT64 log function to record NAT operation information in real time, which strengthens device maintainability.">
<meta name="description" content="You can configure the NAT64 log function to record NAT operation information in real time, which strengthens device maintainability.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat64_cfg_0032.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat64_cfg_0034.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="c00549182">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="NAT64">
<meta name="featuretype" content="NAT and IPv6 Transition">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="NAT64">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="NAT64">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="NAT64">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="OWNER" content="c00549182">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="c00549182">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172374926">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring the NAT64 Log Function</title>
</head>
<body><a name="EN-US_TASK_0172374926"></a><a name="EN-US_TASK_0172374926"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring the NAT64 Log Function</h1>
<div class="taskbody"><p>You can configure the NAT64 log function to record NAT operation information in real time, which strengthens device maintainability.</p>
<div class="context"><a name="EN-US_TASK_0172374926__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>NAT64 logs are system information generated by a NAT64 device during NAT64 translation. The information contains basic user information and NAT64 translation information. The logs record internal users' access to external networks. When internal users access an external network through a NAT64 device, they share a public IP address. For this reason, the users accessing the external network cannot be located. The log function helps trace and record internal users' access to external networks in real time, enhancing network maintainability.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172374926__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=nat64+instance"><b><span class="cmdname">nat64 instance</span></b></a> <i><span class="varname">instance-name</span></i> [ <strong><span>id</span></strong> <i><span class="varname">id</span></i> ]</span><p><p>The NAT64 instance view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=nat64+log"><b><span class="cmdname">nat64 log</span></b></a> <strong><span>session</span></strong> <strong><span>enable</span></strong> [ <strong><span>elog</span></strong> | <strong><span>syslog</span></strong> ]</span><p><p>The NAT64 session log function is enabled.</p>
</p></li><li><span>Run <a href="cmdqueryname=nat64+log+host"><b><span class="cmdname">nat64 log host</span></b></a> <i><span class="varname">host-ip-address</span></i> <i><span class="varname">host-port</span></i> <strong><span>source</span></strong> <i><span class="varname">source-ip-address</span></i> <i><span class="varname">source-port</span></i> [ <strong><span>name</span></strong> <i><span class="varname">host-name</span></i> ] [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ]</span><p><p>A NAT64 log server is configured.</p>
</p></li><li><span>(Optional) Configure a flexible NAT64 log template.</span><p><ol type="a"><li><p>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></p>
<p>Return to the system view.</p>
</li><li><p>Run <a href="cmdqueryname=nat+syslog+flexible+template"><b><span class="cmdname">nat syslog flexible template</span></b></a> <strong><span>session</span></strong></p>
<p>A NAT flexible syslog template is created, and its view is displayed.</p>
</li><li><p>(Optional) Run <a href="cmdqueryname=nat64+time+local"><b><span class="cmdname">nat64 time local</span></b></a></p>
<p>The time in syslogs is configured as the local time.</p>
</li><li>(Optional) Run <a href="cmdqueryname=nat64+time"><b><span class="cmdname">nat64 time</span></b></a> { <strong>endtime-second-dec</strong> | <strong>endtime-second-hex</strong> | <strong>starttime-second-dec</strong> | <strong>starttime-second-hex</strong> | <strong>starttime</strong> | <strong>timestamp-second-dec</strong> | <strong>timestamp-second-hex</strong> | <strong>timestamp</strong> } { <strong>local</strong> | <strong>utc</strong> }<p>The end time, start time, or timestamp in the logs is set to the local time or UTC time.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The time format configured using the <strong>nat64 time</strong> command takes precedence over that configured using the <strong>nat64 time local</strong> command in the flexible log template view. If the <strong>nat64 time</strong> command is run, the time format of the end time, start time, or timestamp takes effect according to the configured format. If the <strong>nat64 time </strong>command is not configured, the <strong>nat64 time local </strong>command takes effect. If neither the <strong>nat64 time</strong> nor <strong>nat64 time local</strong> command is run, the default UTC time takes effect.</p>
</div></div>
</li><li><p>Enter the NAT64 flexible flow log template view and run the <a href="cmdqueryname=nat64+position"><b><span class="cmdname">nat64 position</span></b></a> command to configure a NAT64 flexible flow log template. </p>
</li><li><p>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></p>
<p>Return to the system view.</p>
</li><li><p>Run <a href="cmdqueryname=nat+syslog+descriptive+format"><b><span class="cmdname">nat syslog descriptive format</span></b></a> { <strong>type3 | flexible template session</strong> }</p>
<p>A flexible log template type is specified.</p>
</li></ol>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat64_cfg_0032.html">Configuring NAT64 Maintainability
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat64_cfg_0034.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>