
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Creating a Global Static Address Pool">
<meta name="abstract" content="A global static address pool is a prerequisite for CGN load balancing.">
<meta name="description" content="A global static address pool is a prerequisite for CGN load balancing.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0077_1.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0078_1.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0080_1.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="c00549182">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="OWNER" content="c00549182">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="g00814582">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001139739799">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Creating a Global Static Address Pool</title>
</head>
<body><a name="EN-US_TASK_0000001139739799"></a><a name="EN-US_TASK_0000001139739799"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Creating a Global Static Address Pool</h1>
<div class="taskbody"><p>A global static address pool is a prerequisite for CGN load balancing.</p>
<div class="context"><a name="EN-US_TASK_0000001139739799__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0000001139739799__en-us_task_0172374532_context1039588544214109"><p id="EN-US_TASK_0000001139739799__en-us_task_0172374532_p437707016214109">During load balancing, one NAT instance can be bound to the CPUs of multiple service boards. These CPUs share the same global static address pool, ensuring flexible extension for a single NAT user and the same public network address for multi-core CPUs.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001139739799__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0000001139739799__en-us_task_0172374532_steps1829025918214109"><li id="EN-US_TASK_0000001139739799__en-us_task_0172374532_step1525237701214109"><span id="EN-US_TASK_0000001139739799__en-us_task_0172374532_cmd1209586074214415">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0000001139739799__en-us_task_0172374532_cmdname359478677214415">system-view</span></b></a></span></span><p><p id="EN-US_TASK_0000001139739799__en-us_task_0172374532_p1352306992214415">The system view is displayed.</p>
</p></li><li id="EN-US_TASK_0000001139739799__en-us_task_0172374532_step600028710214109"><span id="EN-US_TASK_0000001139739799__en-us_task_0172374532_cmd560494140214415">Run <a href="cmdqueryname=nat+ip-pool"><b><span class="cmdname" id="EN-US_TASK_0000001139739799__en-us_task_0172374532_cmdname1601636588214109">nat ip-pool</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001139739799__en-us_task_0172374532_varname247161814214109">pool-name</span></i> [ <strong><span id="EN-US_TASK_0000001139739799__en-us_task_0172374532_cmdparmname218568468214109">vpn-instance</span></strong> <i><span class="varname" id="EN-US_TASK_0000001139739799__en-us_task_0172374532_varname1470628605214109">vpn-instance-name</span></i> ] [ <strong><span id="EN-US_TASK_0000001139739799__en-us_task_0172374532_cmdparmname1954762565214109">no-pat</span></strong> ] [ <strong><span id="EN-US_TASK_0000001139739799__en-us_task_0172374532_cmdparmname1592605186214109">slave</span></strong> ]</span><p><p id="EN-US_TASK_0000001139739799__en-us_task_0172374532_p1971659728214415">A global static address pool is created, and its view is displayed.</p>
</p></li><li id="EN-US_TASK_0000001139739799__en-us_task_0172374532_step501467325214109"><span id="EN-US_TASK_0000001139739799__en-us_task_0172374532_cmd866271258214415">Run <span><a href="cmdqueryname=section"><b><span class="cmdname" id="EN-US_TASK_0000001139739799__en-us_task_0172374532_cmdname20157903214415">section</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001139739799__en-us_task_0172374532_varname1698855473214415">section-id</span></i> <i><span class="varname" id="EN-US_TASK_0000001139739799__en-us_task_0172374532_varname83667190214415">start-ip</span></i> <strong><span id="EN-US_TASK_0000001139739799__en-us_task_0172374532_cmdparmname122627892214415">mask</span></strong> <i><span class="varname" id="EN-US_TASK_0000001139739799__en-us_task_0172374532_varname1814103427214415">mask-length</span></i></span></span><p><p id="EN-US_TASK_0000001139739799__en-us_task_0172374532_p249819894214415">An address segment is configured for the global static address pool.</p>
</p></li><li id="EN-US_TASK_0000001139739799__en-us_task_0172374532_step97597794214109"><span id="EN-US_TASK_0000001139739799__en-us_task_0172374532_cmd1668553882214415">(Optional) Run <span><a href="cmdqueryname=nat-instance+subnet+length+initial"><b><span class="cmdname" id="EN-US_TASK_0000001139739799__en-us_task_0172374532_cmdname1306493515214415">nat-instance subnet length initial</span></b></a> { <i><span class="varname" id="EN-US_TASK_0000001139739799__en-us_task_0172374532_varname745813504214415">mask-length</span></i> | <i><span class="varname" id="EN-US_TASK_0000001139739799__en-us_task_0172374532_varname2120267948214415">mask</span></i> } [ <strong><span id="EN-US_TASK_0000001139739799__en-us_task_0172374532_cmdparmname2122448189214415">extend</span></strong> { <i><span class="varname" id="EN-US_TASK_0000001139739799__en-us_task_0172374532_varname1485220688214415">mask-length</span></i> | <i><span class="varname" id="EN-US_TASK_0000001139739799__en-us_task_0172374532_varname1045757792214415">mask</span></i> } ]</span></span><p><p id="EN-US_TASK_0000001139739799__en-us_task_0172374532_p1816964177214415">The mask lengths/masks are configured for the initial and extended address segments of the global static address pool.</p>
</p></li><li id="EN-US_TASK_0000001139739799__en-us_task_0172374532_step129605759214109"><span id="EN-US_TASK_0000001139739799__en-us_task_0172374532_cmd4167622144611">(Optional) Run <a href="cmdqueryname=nat-instance+ip+used-threshold+upper-limit"><b><span class="cmdname" id="EN-US_TASK_0000001139739799__en-us_task_0172374532_cmdname617459160214109">nat-instance ip used-threshold upper-limit</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001139739799__en-us_task_0172374532_varname1146916411214109">upper-value</span></i> <strong><span id="EN-US_TASK_0000001139739799__en-us_task_0172374532_cmdparmname567850835214109">lower-limit</span></strong> <i><span class="varname" id="EN-US_TASK_0000001139739799__en-us_task_0172374532_varname298271844214109">lower-value</span></i></span><p><p id="EN-US_TASK_0000001139739799__en-us_task_0172374532_p1565618161466">The upper and lower thresholds for address segments that the instance can apply for are configured.</p>
</p><p><p id="EN-US_TASK_0000001139739799__en-us_task_0172374532_p18655318153516">It is recommended that the default upper and lower thresholds for the number of address segments in a global address pool be used, and the difference between <i><span class="varname" id="EN-US_TASK_0000001139739799__en-us_task_0172374532_varname6600706783483">upper-value</span></i> and <i><span class="varname" id="EN-US_TASK_0000001139739799__en-us_task_0172374532_varname7577354673483">lower-value</span></i> be greater than 60 (for example, use the <strong id="EN-US_TASK_0000001139739799__en-us_task_0172374532_b1864968513483">nat-instance ip used-threshold upper-limit 90 lower-limit 20</strong> configuration).</p>
</p></li><li id="EN-US_TASK_0000001139739799__en-us_task_0172374532_step1990398222214109"><span id="EN-US_TASK_0000001139739799__en-us_task_0172374532_cmd339372343214415">(Optional) Run <span><a href="cmdqueryname=nat+ip-pool+load-balance+enable"><b><span class="cmdname" id="EN-US_TASK_0000001139739799__en-us_task_0172374532_cmdname1238235483214415">nat ip-pool load-balance enable</span></b></a></span></span><p><p id="EN-US_TASK_0000001139739799__en-us_task_0172374532_p1353442865214415">The load balancing function is enabled for IP addresses in the global static address pool.</p>
</p></li><li id="EN-US_TASK_0000001139739799__en-us_task_0172374532_step930366041214109"><span id="EN-US_TASK_0000001139739799__en-us_task_0172374532_cmd389256098214415">(Optional) Run <span><a href="cmdqueryname=section"><b><span class="cmdname" id="EN-US_TASK_0000001139739799__en-us_task_0172374532_cmdname742323741214415">section</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001139739799__en-us_task_0172374532_varname1055117550214415">section-id</span></i> <strong><span id="EN-US_TASK_0000001139739799__en-us_task_0172374532_cmdparmname690167058214415">exclude-ip-address</span></strong> <i><span class="varname" id="EN-US_TASK_0000001139739799__en-us_task_0172374532_varname490674640214415">start-address</span></i> [ <i><span class="varname" id="EN-US_TASK_0000001139739799__en-us_task_0172374532_varname966650977214415">end-address</span></i> ]</span></span><p><p id="EN-US_TASK_0000001139739799__en-us_task_0172374532_p1198434020214415">An IP address or an address segment is excluded from a specified section of the global static address pool.</p>
</p></li><li id="EN-US_TASK_0000001139739799__en-us_task_0172374532_step1914965783214109"><span id="EN-US_TASK_0000001139739799__en-us_task_0172374532_cmd120603446214415">(Optional) Run <span><a href="cmdqueryname=section"><b><span class="cmdname" id="EN-US_TASK_0000001139739799__en-us_task_0172374532_cmdname1444529123214415">section</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001139739799__en-us_task_0172374532_varname868708208214415">section-id</span></i> <strong><span id="EN-US_TASK_0000001139739799__en-us_task_0172374532_cmdparmname857511569214415">lock</span></strong></span></span><p><p id="EN-US_TASK_0000001139739799__en-us_task_0172374532_p532004684214415">An address segment of the global static address pool is locked.</p>
</p></li><li id="EN-US_TASK_0000001139739799__en-us_task_0172374532_step1425783248214109"><span id="EN-US_TASK_0000001139739799__en-us_task_0172374532_cmd1685804865214415">(Optional) Run <span><a href="cmdqueryname=lock"><b><span class="cmdname" id="EN-US_TASK_0000001139739799__en-us_task_0172374532_cmdname378557329214415">lock</span></b></a></span></span><p><p id="EN-US_TASK_0000001139739799__en-us_task_0172374532_p1903612386214415">The global static address pool is locked.</p>
</p></li><li id="EN-US_TASK_0000001139739799__en-us_task_0172374532_step1518707937214109"><span id="EN-US_TASK_0000001139739799__en-us_task_0172374532_cmd2132038763214415">Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001139739799__en-us_task_0172374532_cmdname964037807214415">commit</span></b></a></span></span><p><p id="EN-US_TASK_0000001139739799__en-us_task_0172374532_p772541657214415">The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0077_1.html">Configuring NAT Load Balancing
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0078_1.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0080_1.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>