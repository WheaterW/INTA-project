
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Setting the Limit on the Number of Forward DS-Lite Sessions">
<meta name="abstract" content="A forward session is established for packets transmitted from the user side to the network side. To prevent individual users from consuming excessive session table resources to cause connection failures of other users, enable the limit on the number of forward DS-Lite sessions.">
<meta name="description" content="A forward session is established for packets transmitted from the user side to the network side. To prevent individual users from consuming excessive session table resources to cause connection failures of other users, enable the limit on the number of forward DS-Lite sessions.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ds-lite_cfg_0038.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ds-lite_cfg_0040.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="c00549182">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="DS-Lite">
<meta name="featuretype" content="NAT and IPv6 Transition">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="DS-Lite">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="DS-Lite">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="DS-Lite">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="OWNER" content="c00549182">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00425560">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172374729">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Setting the Limit on the Number of Forward DS-Lite Sessions</title>
</head>
<body><a name="EN-US_TASK_0172374729"></a><a name="EN-US_TASK_0172374729"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Setting the Limit on the Number of Forward DS-Lite Sessions</h1>
<div class="taskbody"><p>A forward session is established for packets transmitted from the user side to the network side. To prevent individual users from consuming excessive session table resources to cause connection failures of other users, enable the limit on the number of forward DS-Lite sessions.</p>
<div class="context"><a name="EN-US_TASK_0172374729__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>If the number of established Transmission Control Protocol (TCP), User Datagram Protocol (UDP), Internet Control Message Protocol (ICMP) DS-Lite sessions, or the total number of DS-Lite sessions involving the same source or destination IP address exceeds a configured threshold, a device stops establishing such sessions. The limit helps prevent resource overconsumption from resulting in a failure to establish connections for other users.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172374729__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Perform one of the following operations:</span><ol type="a"><li class="substepexpand"><span>Set the limit on the number of forward DS-Lite sessions that can be established in the DS-Lite instance view.</span><p><ol class="substepthirdol"><li><p>Run <span><a href="cmdqueryname=ds-lite+instance"><b><span class="cmdname">ds-lite instance</span></b></a> <i><span class="varname">instance-name</span></i> [ <strong><span>id</span></strong> <i><span class="varname">id</span></i> ]</span></p>
<p>The DS-Lite instance view is displayed.</p>
</li><li><p>(Optional) Run <span><a href="cmdqueryname=ds-lite+session-limit+enable"><b><span class="cmdname">ds-lite session-limit enable</span></b></a></span></p>
<p>The user-based DS-Lite session number limit function is enabled.</p>
</li><li><p>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></p>
<p>The configuration is committed.</p>
</li></ol>
</p></li><li class="substepexpand"><span>Set the limit on the number of forward DS-Lite sessions that can be established in the NAT policy template view.</span><p><ol class="substepthirdol"><li><p>Run <span><a href="cmdqueryname=nat-policy+template"><b><span class="cmdname">nat-policy template</span></b></a> <i><span class="varname">template-name</span></i></span></p>
<p>A NAT policy template is created.</p>
</li><li><p>Run <span><a href="cmdqueryname=nat+session-limit"><b><span class="cmdname">nat session-limit</span></b></a> { <strong><span>tcp</span></strong> | <strong><span>udp</span></strong> | <strong><span>icmp</span></strong> | <strong><span>total</span></strong> } <i><span class="varname">session-number</span></i></span></p>
<p>The limit on the number of forward DS-Lite sessions that can be established is set.</p>
</li><li><p>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></p>
<p>The configuration is committed.</p>
</li></ol>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><div class="p"><ul><li>The limit on the number of forward DS-Lite sessions configured in the NAT policy template prevails. If a limit is set in the template, the setting takes effect. If no limit is set in the DS-Lite instance or the NAT policy template, the default value in the template takes effect. If a delivered NAT policy template is invalid, the setting in the DS-Lite instance takes effect.</li><li>The status of the limit on the number of forward DS-Lite sessions is determined by the configuration in a DS-Lite instance. If the limit function is disabled in the DS-Lite instance, forward DS-Lite sessions can be established without restriction.</li></ul>
</div>
</div></div>
</p></li></ol>
</li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ds-lite_cfg_0038.html">Configuring DS-Lite Security
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ds-lite_cfg_0040.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>