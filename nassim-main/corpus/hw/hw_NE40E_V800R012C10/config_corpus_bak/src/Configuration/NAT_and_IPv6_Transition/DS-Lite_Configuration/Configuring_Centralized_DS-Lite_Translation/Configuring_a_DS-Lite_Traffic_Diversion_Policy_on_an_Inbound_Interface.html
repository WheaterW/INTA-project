
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a DS-Lite Traffic Diversion Policy on an Inbound Interface">
<meta name="abstract" content="A DS-Lite traffic diversion policy is configured on an inbound interface so that user traffic can be processed using DS-Lite.">
<meta name="description" content="A DS-Lite traffic diversion policy is configured on an inbound interface so that user traffic can be processed using DS-Lite.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ds-lite_cfg_0023.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ds-lite_cfg_0025.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="c00549182">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="DS-Lite">
<meta name="featuretype" content="NAT and IPv6 Transition">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="DS-Lite">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="DS-Lite">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="DS-Lite">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="OWNER" content="c00549182">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00875216">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172374715">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring a DS-Lite Traffic Diversion Policy on an Inbound Interface</title>
</head>
<body><a name="EN-US_TASK_0172374715"></a><a name="EN-US_TASK_0172374715"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a DS-Lite Traffic Diversion Policy on an Inbound Interface</h1>
<div class="taskbody"><p>A DS-Lite traffic diversion policy is configured on an inbound interface so that user traffic can be processed using DS-Lite.</p>
<div class="context"><a name="EN-US_TASK_0172374715__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>A DS-Lite service board does not provide any interface. Therefore, an inbound interface board must direct user traffic to a DS-Lite service board for DS-Lite processing. You can configure a traffic diversion policy to direct packets matching the configured traffic diversion policy to the DS-Lite service board.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172374715__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Configure a traffic classification rule.</span><ol type="a"><li class="substepexpand"><span>Run one of the following commands to create an ACL6 and enter the ACL6 view based on the ACL type:</span><p><ul><li><p>For a basic ACL6 (the ACL number ranges from 2000 to 2999), run the <span><a href="cmdqueryname=acl+ipv6"><b><span class="cmdname" id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdname902577050214034">acl ipv6</span></b></a> { <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname1441160416214034">name</span></strong> <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname1001603808214034">basic-acl6-name</span></i> <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname119426288214034">basic</span></strong> | [ <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname1766942738214034">number</span></strong> ] <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname1818197482214034">basic-acl6-number</span></i> } [ <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname431232168214034">match-order</span></strong> { <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname520770577214034">config</span></strong> | <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname1339553828214034">auto</span></strong> } ]</span> command.</p>
</li><li><p>For an advanced ACL6 (the ACL number ranges from 3000 to 3999), run the <span><a href="cmdqueryname=acl+ipv6"><b><span class="cmdname" id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdname1771878164213919">acl ipv6</span></b></a> { <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname2146547182213919">name</span></strong> <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname133037961213919">advance-acl6-name</span></i> [ <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname828016576213919">advance</span></strong> | [ <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname1484573091213919">advance</span></strong> ] <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname1604452427213919">number</span></strong> <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname107241100213919">advance-acl6-number</span></i> ] | [ <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname1971496885213919">number</span></strong> ] <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname2140889519213919">advance-acl6-number</span></i> } [ <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname1692141329213919">match-order</span></strong> { <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname211691899213919">config</span></strong> | <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname1181058952213919">auto</span></strong> } ]</span> command.</p>
</li></ul>
</p></li><li class="substepexpand" id="EN-US_TASK_0172374715__substep_02"><a name="EN-US_TASK_0172374715__substep_02"></a><a name="substep_02"></a><span id="EN-US_TASK_0172374715__">Run one of the following commands to create an ACL6 rule based on the ACL type:</span><p><ul><li><p id="EN-US_TASK_0172374715__en-us_task_0172374906_p1284678963214110">For a basic ACL6 (ACL number ranging from 2000 to 2999), run the <span><a href="cmdqueryname=rule"><b><span class="cmdname" id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdname2556413218">rule</span></b></a> [ <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname8556419214">rule-id</span></i> ] [ <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname8554412218">name</span></strong> <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname125510432118">rule-name</span></i> ] { <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname1355164192115">deny</span></strong> | <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname45514202111">permit</span></strong> } [ <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname25517472110">fragment</span></strong> | <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname185554132112">source</span></strong> { <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname135510417216">source-ipv6-address</span></i> <span>{ </span><i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname355342215">prefix-length</span></i><span> | <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname12555414218">source-wildcard</span></i> }</span> | <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname11551941211">source-ipv6-address</span></i>/<i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname1355104152114">prefix-length</span></i> | <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname115594152118">any</span></strong> } | <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname55518412211">time-range</span></strong> <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname11551462114">time-name</span></i> | <span>[ </span><strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname6557462113">vpn-instance</span></strong> <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname85513452119">vpn-instance-name</span></i><span> | <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname4551446211">vpn-instance-any</span></strong> ]</span> | <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname35510416215">logging</span></strong> ] <sup id="EN-US_TASK_0172374715__en-us_task_0172374906_sup9554472112">*</sup></span> command.</p>
</li><li><p id="EN-US_TASK_0172374715__en-us_task_0172374906_p26023582118">For an advanced ACL6 (ACL number ranging from 3000 to 3999), run:</p>
<p id="EN-US_TASK_0172374715__en-us_task_0172374906_p1460173582115"><span><a href="cmdqueryname=rule"><b><span class="cmdname" id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdname1460153542116">rule</span></b></a> [ <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname20605356214">rule-id</span></i> ] [ <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname1160535132118">name</span></strong> <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname156013352212">rule-name</span></i> ] { <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname46043516211">permit</span></strong> | <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname176043513211">deny</span></strong> } { <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname260113532119">protocol</span></i> | <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname36023516218">udp</span></strong> } [ [ <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname116012352211">dscp</span></strong> <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname1860535102111">dscp</span></i> | [ <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname960335132111">precedence</span></strong> <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname16033515211">precedence</span></i> | <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname2060183572119">tos</span></strong> <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname86093512112">tos</span></i> ] <sup id="EN-US_TASK_0172374715__en-us_task_0172374906_sup17603359216">*</sup> ] | <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname1460435162113">destination</span></strong> { <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname1460143542117">destination-ipv6-address</span></i> <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname13601435192117">prefix-length</span></i> | <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname460735142112">destination-ipv6-address</span></i>/<i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname18601135152118">prefix-length</span></i> | <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname76063522118">any</span></strong> } | <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname26015352212">destination-port</span></strong> <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname1660135152119">operator</span></i> <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname7601635112118">port</span></i> | <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname1360135192120">fragment</span></strong> | <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname760173517211">source</span></strong> { <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname176083512115">source-ipv6-address</span></i> <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname1760193592119">prefix-length</span></i> | <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname160235172116">source-ipv6-address</span></i>/<i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname160143552118">prefix-length</span></i> | <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname26053532118">any</span></strong> }<span> <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname16608357218">source-pool</span></strong> <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname360203511219">source-pool-name</span></i> }</span> | <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname36011355214">source-port</span></strong> <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname10601235122117">operator</span></i> <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname11601735192114">port</span></i> | <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname16602352218">time-range</span></strong> <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname1261735112116">time-name</span></i> | <span>[ </span><strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname9611635192111">vpn-instance</span></strong> <i><span class="varname" id="EN-US_TASK_0172374715__en-us_task_0172374906_varname13611635132118">vpn-instance-name</span></i><span> | <strong><span id="EN-US_TASK_0172374715__en-us_task_0172374906_cmdparmname76113514210">vpn-instance-any</span></strong> ]</span> ] <sup id="EN-US_TASK_0172374715__en-us_task_0172374906_sup1661143512211">*</sup></span></p>
<p id="EN-US_TASK_0172374715__en-us_task_0172374906_p561735152116">The preceding configuration uses UDP as the example protocol. The configurations of the other protocols are similar. For details, see the <strong id="EN-US_TASK_0172374715__en-us_task_0172374906_b1189231932213">rule (Advanced ACL6 view) (tcp)</strong>, <strong id="EN-US_TASK_0172374715__en-us_task_0172374906_b161265465119">rule (Advanced ACL6 view) (icmpv6)</strong>, and <strong id="EN-US_TASK_0172374715__en-us_task_0172374906_b3313141365211">rule (Advanced ACL6 view) (protocol)</strong> commands.</p>
</li></ul>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Generally, the source IP address is matched against in an ACL rule. To specify multiple ACL rules, repeat Step <a href="#EN-US_TASK_0172374715__substep_02">2.b</a>.</p>
</div></div>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span></span><p><p>Return to the system view.</p>
</p></li></ol>
</li><li><span>Configure a traffic classifier.</span><ol type="a"><li class="substepexpand"><span>Run <span><a href="cmdqueryname=traffic+classifier"><b><span class="cmdname">traffic classifier</span></b></a> <i><span class="varname">classifier-name</span></i> [ <strong><span>operator</span></strong> { <strong><span>and</span></strong> | <strong><span>or</span></strong> } ]</span></span><p><p>A traffic classifier is configured, and the traffic classifier view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=if-match+ipv6+acl"><b><span class="cmdname">if-match ipv6 acl</span></b></a> <i><span class="varname">acl-number</span></i></span><p><p>An ACL-based matching rule is configured for MF traffic classification.</p>
<p>To configure multiple ACL-based matching rules, repeat this step.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span></span><p><p>Return to the system view.</p>
</p></li></ol>
</li><li><span>Configure a traffic behavior.</span><ol type="a"><li class="substepexpand"><span>Run <span><a href="cmdqueryname=traffic+behavior"><b><span class="cmdname">traffic behavior</span></b></a> <i><span class="varname">behavior-name</span></i></span></span><p><p>A traffic behavior is configured, and the traffic behavior view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=ds-lite+bind+instance"><b><span class="cmdname">ds-lite bind instance</span></b></a> <i><span class="varname">instance-name</span></i></span></span><p><p>The traffic behavior is bound to the DS-Lite instance.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The <a href="cmdqueryname=ds-lite+bind+instance"><b><span class="cmdname">ds-lite bind instance</span></b></a> and <a href="cmdqueryname=redirect+ip-nexthop"><b><span class="cmdname">redirect ip-nexthop</span></b></a> commands are mutually exclusive.</p>
</div></div>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span></span><p><p>Return to the system view.</p>
</p></li></ol>
</li><li><span>Configure a traffic policy.</span><ol type="a"><li class="substepexpand"><span>Run <span><a href="cmdqueryname=traffic+policy"><b><span class="cmdname">traffic policy</span></b></a> <i><span class="varname">policy-name</span></i></span></span><p><p>A traffic policy is configured, and the traffic policy view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=classifier"><b><span class="cmdname">classifier</span></b></a> <i><span class="varname">classifier-name</span></i> <strong><span>behavior</span></strong> <i><span class="varname">behavior-name</span></i></span></span><p><p>A traffic behavior is specified for a specified traffic classifier in the traffic policy.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span></span><p><p>Return to the system view.</p>
</p></li></ol>
</li><li><span>Apply the traffic policy to an interface.</span><p><p># Apply the traffic diversion policy to a user-side Layer 3 interface.</p>
</p><ol type="a"><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=traffic-policy"><b><span class="cmdname">traffic-policy</span></b></a> <i><span class="varname">policy-name</span></i> <strong><span>inbound</span></strong> [ <strong><span>link-layer</span></strong> | <strong><span>all-layer</span></strong> | <strong><span>mpls-layer</span></strong> ]</span></span><p><p>A traffic policy is applied to the interface.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
<p><p># Apply the traffic diversion policy to a user-side Layer 2 Ethernet interface that is added to a VLAN.</p>
</p><ol type="a"><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=portswitch"><b><span class="cmdname">portswitch</span></b></a></span></span><p><p>The Layer 3 interface is switched to the Layer 2 mode.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=port+link-type"><b><span class="cmdname">port link-type</span></b></a> { <strong><span>access</span></strong> | <strong><span>dot1q-tunnel </span></strong> | <strong><span>hybrid</span></strong> | <strong><span>trunk</span></strong> }</span></span><p><p>Attributes are set for the Layer 2 Ethernet interface.</p>
</p></li><li class="substepexpand"><span>Run one of the following commands to add an interface to a VLAN:</span><p><ul><li><p>For an access or QinQ interface:</p>
<ol class="substepthirdol"><li><p>Run the <span><a href="cmdqueryname=port+default+vlan"><b><span class="cmdname">port default vlan</span></b></a> <i><span class="varname">vlan-id</span></i></span> command.</p>
<p>To add interfaces to a VLAN in batches, run the <a href="cmdqueryname=port"><b><span class="cmdname">port</span></b></a> <i><span class="varname">interface-type</span></i> { <i><span class="varname">interface-number1</span></i> [ <strong><span>to</span></strong> <i><span class="varname">interface-number2</span></i> ] } &amp;&lt;1-10&gt; command in the VLAN view.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p><i><span class="varname">interface-number2</span></i> must be greater than <i><span class="varname">interface-number1</span></i>. <i><span class="varname">interface-number2</span></i> and <i><span class="varname">interface-number1</span></i> must specify the same type of interface. Interfaces in the range defined by <i><span class="varname">interface-number2</span></i> and <i><span class="varname">interface-number1</span></i> must exist.</p>
<p>In a <a href="cmdqueryname=port"><b><span class="cmdname">port</span></b></a> <i><span class="varname">interface-type</span></i> { <i><span class="varname">interface-number1</span></i> [ <strong><span>to</span></strong> <i><span class="varname">interface-number2</span></i> ] } &amp;&lt;1-10&gt; command instance, a maximum of 10 <strong><span>to</span></strong> parameters can be used to define 10 ranges of ports.</p>
</div></div>
</li></ol>
</li><li><p>For a hybrid interface:</p>
<ol class="substepthirdol"><li><p><span>Run the <a href="cmdqueryname=port+trunk+allow-pass+vlan"><b><span class="cmdname">port trunk allow-pass vlan</span></b></a> { { <i><span class="varname">vlan-id1</span></i> [ <strong><span>to</span></strong> <i><span class="varname">vlan-id2</span></i> ] } &amp;&lt;1-10&gt; | <strong><span>all</span></strong> }</span> command.</p>
</li><li><p>(Optional) Run the <a href="cmdqueryname=port+default+vlan"><b><span class="cmdname">port default vlan</span></b></a> <i><span class="varname">vlan-id</span></i> command to configure a default VLAN for the trunk interface.</p>
</li></ol>
</li></ul>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=traffic-policy"><b><span class="cmdname">traffic-policy</span></b></a> <i><span class="varname">policy-name</span></i> <strong><span>inbound</span></strong> [ <strong><span>vlan</span></strong> { <strong><span>all</span></strong> | <i><span class="varname">vlan-id1</span></i> [ <strong><span>to</span></strong> <i><span class="varname">vlan-id2</span></i> ] } ] [ <strong><span>link-layer</span></strong> | <strong><span>all-layer</span></strong> | <strong><span>mpls-layer</span></strong> ]</span></span><p><p>A traffic policy is applied to the Layer 2 interface.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ds-lite_cfg_0023.html">Configuring Centralized DS-Lite Translation
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ds-lite_cfg_0025.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>