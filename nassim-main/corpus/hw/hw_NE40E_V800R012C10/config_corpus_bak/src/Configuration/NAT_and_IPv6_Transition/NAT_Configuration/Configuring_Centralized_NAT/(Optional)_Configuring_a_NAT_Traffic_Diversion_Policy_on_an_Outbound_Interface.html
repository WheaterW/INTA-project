
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring a NAT Traffic Diversion Policy on an Outbound Interface">
<meta name="abstract" content="You can configure a NAT traffic diversion policy on an outbound interface so that traffic destined for the public network matches the NAT policy.">
<meta name="description" content="You can configure a NAT traffic diversion policy on an outbound interface so that traffic destined for the public network matches the NAT policy.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0018.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0020.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0022.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="c00549182">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="OWNER" content="c00549182">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="c00549182">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172374518">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring a NAT Traffic Diversion Policy on an Outbound Interface</title>
</head>
<body><a name="EN-US_TASK_0172374518"></a><a name="EN-US_TASK_0172374518"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring a NAT Traffic Diversion Policy on an Outbound Interface</h1>
<div class="taskbody"><p>You can configure a NAT traffic diversion policy on an outbound interface so that traffic destined for the public network matches the NAT policy.</p>
<div class="context"><a name="EN-US_TASK_0172374518__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>The <span class="keyword">Router</span> is deployed on the egress of an enterprise network, whereas NAT does not need to be performed for a great amount of traffic transmitted within the enterprise network. To prevent an inbound interface from enforcing a NAT traffic policy that directs intra-enterprise network traffic to a NAT service board for NAT processing, the NAT traffic policy can be configured on an outbound interface connected to a public network. This enables the device to match traffic only destined for a public network against the NAT traffic policy.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172374518__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Configure a traffic classification rule.</span><ol type="a"><li class="substepexpand"><span>Run either of the following commands to create an ACL and enter the ACL view:</span><p><ul id="EN-US_TASK_0172374518__en-us_task_0172374516_ul2048425473214109"><li id="EN-US_TASK_0172374518__en-us_task_0172374516_li1921008092214109"><p id="EN-US_TASK_0172374518__en-us_task_0172374516_p1113853246214109"><a name="EN-US_TASK_0172374518__en-us_task_0172374516_li1921008092214109"></a><a name="en-us_task_0172374516_li1921008092214109"></a>For a basic ACL (numbered from 2000 to 2999), run the <span><a href="cmdqueryname=acl+name+basic+basic+number+number+match-order+config+auto"><b><span class="cmdname" id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdname547462670213919">acl</span></b></a> { <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname333081481213919">name</span></strong> <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname1649705180213919">basic-acl-name</span></i> { <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname130385082213919">basic</span></strong> | [ <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1919927319213919">basic</span></strong> ] <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname996521187213919">number</span></strong> <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname1239767987213919">basic-acl-number</span></i> } | [ <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname567414068213919">number</span></strong> ] <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname1436955381213919">basic-acl-number</span></i> } [ <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1375230762213919">match-order</span></strong> { <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname29057725213919">config</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1419228288213919">auto</span></strong> } ]</span> command.</p>
</li><li id="EN-US_TASK_0172374518__en-us_task_0172374516_li1619196928214109"><p id="EN-US_TASK_0172374518__en-us_task_0172374516_p929994112214109"><a name="EN-US_TASK_0172374518__en-us_task_0172374516_li1619196928214109"></a><a name="en-us_task_0172374516_li1619196928214109"></a>For an advanced ACL (numbered from 3000 to 3999), run the <span><a href="cmdqueryname=acl+name+advance+advance+number+number+match-order+config+auto"><b><span class="cmdname" id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdname1430753456213919">acl</span></b></a> { <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname220197166213919">name</span></strong> <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname1206592068213919">advance-acl-name</span></i> [ <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname642336928213919">advance</span></strong> | [ <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname943191697213919">advance</span></strong> ] <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname221974979213919">number</span></strong> <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname1130716142213919">advance-acl-number</span></i> ] | [ <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1690144668213919">number</span></strong> ] <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname902710782213919">advance-acl-number</span></i> } [ <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname605677149213919">match-order</span></strong> { <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname679279458213919">config</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1551680503213919">auto</span></strong> } ]</span> command.</p>
</li></ul>
</p></li><li class="substepexpand"><span>Run either of the following commands to create an ACL rule:</span><p><ul id="EN-US_TASK_0172374518__ul1217376752214109"><li id="EN-US_TASK_0172374518__li633490133214109"><p id="EN-US_TASK_0172374518__en-us_task_0172374516_p94832444467"><a name="EN-US_TASK_0172374518__li633490133214109"></a><a name="li633490133214109"></a>For a basic ACL (numbered from 2000 to 2999), run the following command:</p>
<p id="EN-US_TASK_0172374518__en-us_task_0172374516_p1279709564214207"><span><a href="cmdqueryname=rule+name+deny+permit+fragment-type+fragment+non-fragment"><b><span class="cmdname" id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdname1104269681214207">rule</span></b></a> [ <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname219497657214207">rule-id</span></i> ] [ <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1800750702214207">name</span></strong> <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname810980588214207">rule-name</span></i> ] { <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1051531468214207">deny</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1452464033214207">permit</span></strong> } [ <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1356484618214207">fragment-type</span></strong> { <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1796362702214207">fragment</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname480715200214207">non-fragment</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1245647539214207">non-subseq</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname102102577214207">fragment-subseq</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1269223371214207">fragment-spe-first</span></strong> } | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname390672785214207">source</span></strong> { <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname1251458860214207">source-ip-address</span></i> { <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname266564955214207">source-wildcard</span></i> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1521877709214207">0</span></strong><span> | <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname9033958214207">src-netmask</span></i></span> } | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1600490352214207">any</span></strong> } | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname199720580214207">time-range</span></strong> <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname429236689214207">time-name</span></i> | [ <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1481278975214207">vpn-instance</span></strong> <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname355630956214207">vpn-instance-name</span></i> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname195222767214207">vpn-instance-any</span></strong> ] | <strong id="EN-US_TASK_0172374518__en-us_task_0172374516_b18353202594614">logging</strong> ] <sup id="EN-US_TASK_0172374518__en-us_task_0172374516_sup1801761977214207">*</sup></span></p>
</li><li id="EN-US_TASK_0172374518__li147218028214109"><p id="EN-US_TASK_0172374518__en-us_task_0172374516_p189714730214109"><a name="EN-US_TASK_0172374518__li147218028214109"></a><a name="li147218028214109"></a>For an advanced ACL (numbered from 3000 to 3999), run the following command as required by the protocol type:</p>
<p id="EN-US_TASK_0172374518__en-us_task_0172374516_p8574730204911"><span><a href="cmdqueryname=rule+name+deny+permit+tcp+dscp+precedence+tos+destination+0+any"><b><span class="cmdname" id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdname205494465213919">rule</span></b></a> [ <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname935488928213919">rule-id</span></i> ] [ <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1828209180213919">name</span></strong> <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname1060464998213919">rule-name</span></i> ] { <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1053008442213919">deny</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname196494665213919">permit</span></strong> } { <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname1410746687213919">protocol</span></i> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname2074921663213919">tcp</span></strong> } [ [ <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1504460802213919">dscp</span></strong> <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname53704463213919">dscp</span></i> | [ <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname146944233213919">precedence</span></strong> <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname1118123941213919">precedence</span></i> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1488818893213919">tos</span></strong> <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname720089276213919">tos</span></i> ] <sup id="EN-US_TASK_0172374518__en-us_task_0172374516_sup861502165213919">*</sup> ] | { <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname2054161905213919">destination</span></strong> { <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname146647869213919">destination-ip-address</span></i> { <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname654896667213919">destination-wildcard</span></i> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname156741362213919">0</span></strong> | <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname720047697213919">des-netmask</span></i> } | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname187854697213919">any</span></strong> } | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1830805705213919">destination-pool</span></strong> <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname1294996967213919">destination-pool-name</span></i> } | { <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1055758391213919">destination-port</span></strong> <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname411597170213919">operator</span></i> <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname542054646213919">port-number</span></i> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname940908533213919">destination-port-pool</span></strong> <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname501482644213919">destination-port-pool-name</span></i> } | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1706899774213919">fragment-type</span></strong> { <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1477252711213919">fragment</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1414421433213919">non-fragment</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1291766395213919">non-subseq</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname203348574213919">fragment-subseq</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1664666094213919">fragment-spe-first</span></strong> } | { <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname652872542213919">source</span></strong> { <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname966797917213919">source-ip-address</span></i> { <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname1228944744213919">source-wildcard</span></i> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname536898029213919">0</span></strong> | <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname404635941213919">src-netmask</span></i> } | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1226203403213919">any</span></strong> } | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname859983820213919">source-pool</span></strong> <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname845282763213919">source-pool-name</span></i> } | { <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1036210061213919">source-port</span></strong> <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname7816914213919">operator</span></i> <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname1764245575213919">port-number</span></i> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname277104113213919">source-port-pool</span></strong> <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname1256135975213919">source-port-pool-name</span></i> } | <span>{ </span><strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname461261579213919">tcp-flag</span></strong><span> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname127922434213919">syn-flag</span></strong> }</span> { <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname494068845213919">tcp-flag</span></i> [ <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1745373629213919">mask</span></strong> <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname625474776213919">mask-value</span></i> ] | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1383723005213919">established</span></strong> |{ <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname46610216213919">ack</span></strong> [ <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname597558999213919">fin</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname2082922854213919">psh</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname438233024213919">rst</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname635706117213919">syn </span></strong>| <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname766949066213919">urg</span></strong> ] <sup id="EN-US_TASK_0172374518__en-us_task_0172374516_sup262228806213919">*</sup> } | { <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname958741631213919">fin</span></strong> [ <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname2133625197213919">ack</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname907582943213919">psh</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname137936045213919">rst</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1555924062213919">syn </span></strong>| <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname383357732213919">urg</span></strong> ] <sup id="EN-US_TASK_0172374518__en-us_task_0172374516_sup1296687562213919">*</sup> } | { <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname153120145213919">psh</span></strong> [ <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1067890373213919">fin</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname772319326213919">ack</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname342912127213919">rst </span></strong>| <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname443281755213919">syn</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname665622824213919">urg</span></strong> ] <sup id="EN-US_TASK_0172374518__en-us_task_0172374516_sup835130396213919">*</sup> } | { <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname2028181671213919">rst</span></strong> [ <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname2117452975213919">fin</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname875543336213919">psh</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1060844540213919">ack</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname956793760213919">syn</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname642091801213919">urg</span></strong> ] <sup id="EN-US_TASK_0172374518__en-us_task_0172374516_sup372361119213919">*</sup> } | { <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname633288866213919">syn</span></strong> [ <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1366781479213919">fin</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1739459694213919">psh</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1138475368213919">rst</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname534184455213919">syn </span></strong>| <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname497901016213919">urg</span></strong> ] <sup id="EN-US_TASK_0172374518__en-us_task_0172374516_sup1322666089213919">*</sup> } | { <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname720028705213919">urg</span></strong> [ <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1355486378213919">fin</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname815332107213919">psh</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname871213298213919">rst</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1580306366213919">syn</span></strong> | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1821693418213919">urg</span></strong> ] <sup id="EN-US_TASK_0172374518__en-us_task_0172374516_sup104069940213919">*</sup> } } | <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1169343020213919">time-range</span></strong> <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname823803037213919">time-name</span></i> <span>| <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname386836490213919">ttl</span></strong> <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname1424309400213919">ttl-operation</span></i> <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname198458539213919">ttl-value</span></i> </span><span>| <strong><span id="EN-US_TASK_0172374518__en-us_task_0172374516_cmdparmname1210934341213919">packet-length</span></strong> <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname1907685389213919">length-operation</span></i> <i><span class="varname" id="EN-US_TASK_0172374518__en-us_task_0172374516_varname4514646213919">length-value</span></i> </span>] <sup id="EN-US_TASK_0172374518__en-us_task_0172374516_sup2112023694213919">*</sup></span></p>
<p id="EN-US_TASK_0172374518__en-us_task_0172374516_p48367916289">The preceding configuration uses TCP as the example protocol. The configurations of the other protocols are similar. For details, see the <strong id="EN-US_TASK_0172374518__en-us_task_0172374516_b2677357144015">rule (Advanced ACL view) (UDP)</strong>, <strong id="EN-US_TASK_0172374518__en-us_task_0172374516_b15694717194110">rule (advanced ACL view) (ICMP)</strong>, and <strong id="EN-US_TASK_0172374518__en-us_task_0172374516_b52811556194210">rule (Advanced ACL view) (gre-igmp-ip-ipinip-ospf)</strong> commands.</p>
</li></ul>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>ACL rules usually match against source IP addresses. In each ACL rule, a protocol number, source IP address, destination IP address, source port number, destination port number, VPN instance name, and fragment flag can be specified for matching data flows. The ACL rule requires the consecutive subnet masks whose 0s or 1s must be consecutive, for example, 255.255.255.0.</p>
<p>An ACL configured in the NAT traffic diversion policy on an outbound interface contains multiple ACL rules. The ACL rules are used in ascending order by sequence number to match packets.</p>
</div></div>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span></span><p><p>Return to the system view.</p>
</p></li></ol>
</li><li><span>Apply the traffic policy to an interface.</span><ol type="a"><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The interface view is displayed.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The following interfaces are supported: GE main interface and its sub-interfaces<span>; POS interface</span>; Eth-Trunk main interface and its sub-interfaces; Ethernet main interface and its sub-interfaces<span>; IP-Trunk interface</span><span>; VLANIF interface</span><span>; serial interfaces, including <span>Trunk-serial</span> interfaces</span><span>; MP-group interface</span>; tunnel interfaces.</p>
</div></div>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=nat+bind+acl"><b><span class="cmdname">nat bind acl</span></b></a><span> { <i><span class="varname">acl-index</span></i> | <strong><span>name</span></strong> <i><span class="varname">acl-name</span></i> }</span> <span>[ <strong><span>mode</span></strong> <strong><span>deny-forward</span></strong> ] </span><strong><span>instance</span></strong> <i><span class="varname">instance-name</span></i></span></span><p><p>The ACL is bound to the NAT instance.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0018.html">Configuring Centralized NAT
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0020.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0022.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>