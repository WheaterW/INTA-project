
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Setting an MSS Value for MAP-T Services">
<meta name="abstract" content="The MSS value in the TCP protocol is used to specify the length of a TCP packet that can be transmitted without being fragmented. During the TCP connection establishment, the MSS value is carried in a SYN packet to notify the peer end of the maximum size of a packet that can be received by the local end.">
<meta name="description" content="The MSS value in the TCP protocol is used to specify the length of a TCP packet that can be transmitted without being fragmented. During the TCP connection establishment, the MSS value is carried in a SYN packet to notify the peer end of the maximum size of a packet that can be received by the local end.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_map_cfg_0040.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_map_cfg_0046.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_map_cfg_0008.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="c00549182">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MAP">
<meta name="featuretype" content="NAT and IPv6 Transition">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MAP">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="MAP">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="MAP">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="MAP">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="OWNER" content="c00549182">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="g00814582">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172374793">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Setting an MSS Value for MAP-T Services</title>
</head>
<body><a name="EN-US_TASK_0172374793"></a><a name="EN-US_TASK_0172374793"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Setting an MSS Value for MAP-T Services</h1>
<div class="taskbody" id="taskbody1292068743214110"><p id="shortdesc986166530214110">The MSS value in the TCP protocol is used to specify the length of a TCP packet that can be transmitted without being fragmented. During the TCP connection establishment, the MSS value is carried in a SYN packet to notify the peer end of the maximum size of a packet that can be received by the local end.</p>
<div class="context"><a name="EN-US_TASK_0172374793__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0172374793__context1252285999214110"><p id="EN-US_TASK_0172374793__p1831044593214110">After the MSS value is set in the MAP instance view, a device changes the MSS value in all TCP packets that belong to the MAP service. If the MSS value in the negotiation process is greater than the configured MSS value, the device uses the MSS value configured by the user. If the MSS value during the negotiation is smaller than the configured MSS value, the MSS value in the negotiation process is retained. When the maximum packet length is set, the maximum length of IP packets that can be sent by the interface is calculated using a formula (Maximum packet length + 20-byte IP header + 20-byte TCP header). The maximum length of IP packets that can be sent by the interface is limited by the MTU value. Therefore, when the value calculated using the formula (Maximum packet length + 20-byte IP header + 20-byte TCP header) is greater than the MTU value, the packets are fragmented. Therefore, you are advised to set the TCP MSS value as large as possible without causing packet fragmentation to improve packet transmission efficiency. If the size of packets for MAP processing is larger than a link MTU, the packets are fragmented. You can reduce the MSS value in TCP, which prevents a service board from fragmenting packets and helps improve MAP efficiency.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172374793__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0172374793__steps294567126214110"><li id="EN-US_TASK_0172374793__step848500308214417"><span id="EN-US_TASK_0172374793__cmd1453260476214417">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172374793__cmdname432261298214417">system-view</span></b></a></span></span><p><p id="EN-US_TASK_0172374793__p758279537214417">The system view is displayed.</p>
</p></li><li id="EN-US_TASK_0172374793__step1460078523214417"><span id="EN-US_TASK_0172374793__cmd244101792214417">Run <span><span><a href="cmdqueryname=map-t+instance"><b><span class="cmdname" id="EN-US_TASK_0172374793__cmdname222372743214417">map-t instance</span></b></a> <i><span class="varname" id="EN-US_TASK_0172374793__varname261796123214417">map-t-instance-name</span></i> [ <strong><span id="EN-US_TASK_0172374793__cmdparmname1865788658214417">id</span></strong> <i><span class="varname" id="EN-US_TASK_0172374793__varname163055554214417">id</span></i> ]</span></span></span><p><p id="EN-US_TASK_0172374793__p105851141214417">The MAP-T instance view is displayed.</p>
</p></li><li id="EN-US_TASK_0172374793__step1683407345214417"><span id="EN-US_TASK_0172374793__cmd2077681837214417">Run <span><span><a href="cmdqueryname=map+tcp+adjust-mss"><b><span class="cmdname" id="EN-US_TASK_0172374793__cmdname1363661690214417">map tcp adjust-mss</span></b></a> <i><span class="varname" id="EN-US_TASK_0172374793__varname1368963960214417">mss-value</span></i></span></span></span><p><p id="EN-US_TASK_0172374793__p1830617180214417">An MSS value is set in TCP SYN and SYN ACK packets.</p>
</p></li><li id="EN-US_TASK_0172374793__step232642723214417"><span id="EN-US_TASK_0172374793__cmd1606007921214417">Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172374793__cmdname1277710829214417">commit</span></b></a></span></span><p><p id="EN-US_TASK_0172374793__p603163202214417">The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_map_cfg_0040.html">Configuring a MAP-BR
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_map_cfg_0046.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_map_cfg_0008.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>