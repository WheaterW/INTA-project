
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an IPv6 Address Pool">
<meta name="abstract" content="In a distributed MAP-T scenario, a prefix pool, a DMR prefix, and an FMR flag bit need to be configured in an IPv6 delegation address pool. An IPv6 prefix pool can be configured in either delegation or remote mode. Configuring an IPv6 remote address pool includes binding a prefix pool to the address pool and configuring route advertisement information for the address pool.">
<meta name="description" content="In a distributed MAP-T scenario, a prefix pool, a DMR prefix, and an FMR flag bit need to be configured in an IPv6 delegation address pool. An IPv6 prefix pool can be configured in either delegation or remote mode. Configuring an IPv6 remote address pool includes binding a prefix pool to the address pool and configuring route advertisement information for the address pool.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_map_cfg_0041.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_map_cfg_0032_1_distributed.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_map_cfg_0005_distributed.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="c00549182">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MAP">
<meta name="featuretype" content="NAT and IPv6 Transition">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MAP">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="MAP">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="MAP">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="OWNER" content="c00549182">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="g00814582">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001549783970">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring an IPv6 Address Pool</title>
</head>
<body><a name="EN-US_TASK_0000001549783970"></a><a name="EN-US_TASK_0000001549783970"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an IPv6 Address Pool</h1>
<div class="taskbody"><p>In a distributed MAP-T scenario, a prefix pool, a DMR prefix, and an FMR flag bit need to be configured in an IPv6 delegation address pool. An IPv6 prefix pool can be configured in either delegation or remote mode. Configuring an IPv6 remote address pool includes binding a prefix pool to the address pool and configuring route advertisement information for the address pool.</p>
<div class="steps-unordered"><a name="EN-US_TASK_0000001549783970__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure an IPv6 delegation address pool.</span><ol><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=ipv6+pool"><b><span class="cmdname">ipv6 pool</span></b></a> <i><span class="varname">pool-name</span></i> <strong><span>bas delegation</span></strong></span><p><p>An IPv6 delegation address pool is created, and its view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=option-s46+dmr-prefix"><b><span class="cmdname">option-s46 dmr-prefix</span></b></a> <i><span class="varname">dmr-prefix-name</span></i></span><p><p>A DMR prefix name is bound to the IPv6 address pool. The <span class="keyword">HUAWEI NE40E-M2 series</span> encapsulates the IPv6 prefix as Option 91 information (OPTION_S46_DMR) into the DHCPv6 Response message sent to MAP-T users.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=option-s46+fmr-flag+disable"><b><span class="cmdname">option-s46 fmr-flag disable</span></b></a></span><p><p>The F-flag bit is set to 0 in DHCPv6 OPTION_S46_RULE (option 89).</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure an IPv6 remote address pool.</span><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Only PPPoE users can go online using IPv6 remote address pools.</p>
</div></div>
</p><ol><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run the following commands to configure a DHCPv6 server group:</span><p><ol type="a"><li><p>Run <a href="cmdqueryname=dhcpv6-server+group"><b><span class="cmdname">dhcpv6-server group</span></b></a> <i><span class="varname">group-name</span></i></p>
<p>A DHCPv6 server group is created, and its view is displayed.</p>
</li><li><p>Run <a href="cmdqueryname=dhcpv6-server"><b><span class="cmdname">dhcpv6-server</span></b></a> { <strong><span>destination</span></strong> <i><span class="varname">ipv6-address</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance</span></i> ] | <strong><span>interface</span></strong> <i><span class="varname">interface-type</span></i><em> </em><i><span class="varname">interface-number</span></i> } [ <strong><span>weight</span></strong> <i><span class="varname">weight-value</span></i> ]</p>
<p>An IPv6 address or outbound interface is configured for the DHCPv6 server.</p>
</li></ol>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=ipv6+pool"><b><span class="cmdname">ipv6 pool</span></b></a> <i><span class="varname">pool-name</span></i> <strong><span>bas remote</span></strong></span><p><p>An IPv6 remote address pool is created, and its view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=prefix"><b><span class="cmdname">prefix</span></b></a> <i><span class="varname">prefix-name</span></i></span><p><p>An IPv6 prefix pool is bound to the IPv6 address pool.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=export+host-route"><b><span class="cmdname">export host-route</span></b></a></span><p><p>Routes in the address pool are advertised.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=dhcpv6-server+group"><b><span class="cmdname">dhcpv6-server group</span></b></a> <i><span class="varname">group-name</span></i></span><p><p>The remote address pool is associated with the created DHCPv6 server group.</p>
</p><p><p>Associating an IPv6 address pool with a DHCPv6 server group is required only when the IPv6 remote address pool is used.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=access+map-t+support+pool-type+remote+user-type+pppoe"><b><span class="cmdname">access map-t support pool-type remote user-type pppoe</span></b></a></span><p><p>PPPoE MAP-T users are enabled to go online from a remote address pool.</p>
</p><p><p>In a MAP-T scenario, run this command in the system view to enable the DHCPv6 server to assign MAP prefixes and rules to PPPoE users.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_map_cfg_0041.html">Configuring Distributed MAP-T
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_map_cfg_0032_1_distributed.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_map_cfg_0005_distributed.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>