
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring DS-Lite ECMP and Trunk Load Balancing">
<meta name="abstract" content="If multiple next hops are used to forward user packets destined for the same destination, configure a proper hash algorithm and its harsh factor to implement equal cost multi-path (ECMP) and trunk load balancing on a DS-Lite network.">
<meta name="description" content="If multiple next hops are used to forward user packets destined for the same destination, configure a proper hash algorithm and its harsh factor to implement equal cost multi-path (ECMP) and trunk load balancing on a DS-Lite network.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ds-lite_cfg_0009.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ds-lite_cfg_0014.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ds-lite_cfg_0017.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="DS-Lite">
<meta name="featuretype" content="NAT and IPv6 Transition">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="DS-Lite">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="DS-Lite">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="DS-Lite">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="OWNER" content="c00549182">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="c00549182">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000002048384573">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring DS-Lite ECMP and Trunk Load Balancing</title>
</head>
<body><a name="EN-US_TASK_0000002048384573"></a><a name="EN-US_TASK_0000002048384573"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring DS-Lite ECMP and Trunk Load Balancing</h1>
<div class="taskbody"><p>If multiple next hops are used to forward user packets destined for the same destination, configure a proper hash algorithm and its harsh factor to implement equal cost multi-path (ECMP) and trunk load balancing on a DS-Lite network.</p>
<div class="context"><a name="EN-US_TASK_0000002048384573__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>In a DS-Lite ECMP and trunk load balancing scenario, multiple traffic models are used. If the default hash algorithm does not meet your expectation, configure another hash algorithm or change the hash factor, which implements best load balancing performance.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Only the <span class="keyword">NE40E</span><span class="keyword">-M2K</span> and <span class="keyword">NE40E</span><span class="keyword">-M2K-B</span> support this configuration.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000002048384573__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=ds-lite+instance"><b><span class="cmdname">ds-lite instance</span></b></a> <i><span class="varname">instance-name</span></i> [ <strong><span>id</span></strong> <i><span class="varname">id</span></i> ]</span></span><p><p>The view of a DS-Lite instance is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=ds-lite+load-balance+hash-arithmetic"><b><span class="cmdname">ds-lite load-balance hash-arithmetic</span></b></a> { <strong><span>hash-arithmetic1</span></strong> | <strong><span>hash-arithmetic2</span></strong> | <strong><span>hash-arithmetic3</span></strong> }</span></span><p><p>A hash algorithm for ECMP and trunk load balancing is configured.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=ds-lite+load-balance+hash-fields"><b><span class="cmdname">ds-lite load-balance hash-fields</span></b></a> <strong><span>ip</span></strong> { <strong><span>l3</span></strong> | <strong><span>l4</span></strong> }</span></span><p><p>A hash element for ECMP and trunk load balancing is configured.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ds-lite_cfg_0009.html">Configuring Basic DS-Lite Functions
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ds-lite_cfg_0014.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ds-lite_cfg_0017.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>