
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring the Single-Chassis Inter-Board Hot Backup Function for a DS-Lite Device">
<meta name="abstract" content="The single-chassis inter-board hot backup function improves the reliability of a DS-Lite device.">
<meta name="description" content="The single-chassis inter-board hot backup function improves the reliability of a DS-Lite device.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cgn-reliability_cfg_0005.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0036_copy.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cgn-reliability_cfg_0011.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="c00549182">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="CGN Reliability">
<meta name="featuretype" content="NAT and IPv6 Transition">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="CGN Reliability">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="CGN Reliability">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="CGN Reliability">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="OWNER" content="c00549182">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="m00390128">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172362447">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring the Single-Chassis Inter-Board Hot Backup Function for a DS-Lite Device</title>
</head>
<body><a name="EN-US_TASK_0172362447"></a><a name="EN-US_TASK_0172362447"></a>

<div class="articleBoxWithoutHead">




<h1 class="topicTitle-h1">Configuring the Single-Chassis Inter-Board Hot Backup Function for a DS-Lite Device</h1>
<div class="taskbody"><p>The single-chassis inter-board hot backup function improves the reliability of a DS-Lite device.</p>
<div class="context"><a name="EN-US_TASK_0172362447__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0172362447__en-us_task_0172374724_context950852345214110"><p id="EN-US_TASK_0172362447__en-us_task_0172374724_p1549545088214110">If two service boards are installed on a DS-Lite device, the service boards can be configured to work in active/standby mode in the same chassis to implement inter-board backup. The inter-board backup mechanism verifies that the data stored on the active service board is consistent with that stored on the standby service board. If the active service board fails, an active/standby service board switchover is performed to ensure that services are running properly. In this situation, services are properly transmitted, and users are unaware of the fault.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172362447__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0172362447__en-us_task_0172374724_steps1017845219214110"><li id="EN-US_TASK_0172362447__en-us_task_0172374724_step1673655655214110"><span id="EN-US_TASK_0172362447__en-us_task_0172374724_cmd1389785179214110">(Optional) Configure value-added service management (VSM) high availability (HA) hot backup functions.</span><ol type="a" id="EN-US_TASK_0172362447__en-us_task_0172374724_substeps2061964248214110"><li class="substepexpand" id="EN-US_TASK_0172362447__en-us_task_0172374724_substep885208000214110"><span id="EN-US_TASK_0172362447__en-us_task_0172374724_cmd1507290375214416">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172362447__en-us_task_0172374724_cmdname952081412214416">system-view</span></b></a></span></span><p><p id="EN-US_TASK_0172362447__en-us_task_0172374724_p463134641214416">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172362447__en-us_task_0172374724_substep1352899310214110"><span id="EN-US_TASK_0172362447__en-us_task_0172374724_cmd505618069214416">Run <span><a href="cmdqueryname=service-ha+hot-backup+enable"><b><span class="cmdname" id="EN-US_TASK_0172362447__en-us_task_0172374724_cmdname2006556196214416">service-ha hot-backup enable</span></b></a></span></span><p><p id="EN-US_TASK_0172362447__en-us_task_0172374724_p15493160214416">The HA hot backup function is enabled.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172362447__en-us_task_0172374724_substep74075451214110"><span id="EN-US_TASK_0172362447__en-us_task_0172374724_cmd111636344214416">Run <span><a href="cmdqueryname=service-ha+delay-time"><b><span class="cmdname" id="EN-US_TASK_0172362447__en-us_task_0172374724_cmdname1453407407214416">service-ha delay-time</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362447__en-us_task_0172374724_varname100680027214416">delay-time</span></i></span></span><p><p id="EN-US_TASK_0172362447__en-us_task_0172374724_p1429378937214416">The delay time is set for VSM HA hot backup.</p>
</p><p><div class="note" id="EN-US_TASK_0172362447__en-us_task_0172374724_note1672126488214110"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172362447__en-us_task_0172374724_p1458879174214110">On a device with the <a href="cmdqueryname=service-ha+delay-time"><b><span class="cmdname" id="EN-US_TASK_0172362447__en-us_task_0172374724_cmdnamefb983f3133124c92aa05219203e9422b153436">service-ha delay-time</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362447__en-us_task_0172374724_varname1646882418214416">delay-time</span></i> command run, session entries can be backed up only if the active time of session traffic is longer than the delay time configured for VSM HA hot backup.</p>
</div></div>
</p></li><li class="substepexpand" id="EN-US_TASK_0172362447__en-us_task_0172374724_substep1321717617214110"><span id="EN-US_TASK_0172362447__en-us_task_0172374724_cmd479571698214416">(Optional) Run <span><a href="cmdqueryname=service-ha+preempt-time"><b><span class="cmdname" id="EN-US_TASK_0172362447__en-us_task_0172374724_cmdname822291185214416">service-ha preempt-time</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362447__en-us_task_0172374724_varname1675167540214416">preempt-time</span></i></span></span><p><p id="EN-US_TASK_0172362447__en-us_task_0172374724_p461451309214416">A preemption delay is set.</p>
</p><p><div class="note" id="EN-US_TASK_0172362447__en-us_task_0172374724_note2092607683214110"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172362447__en-us_task_0172374724_p1117641262214110">You can set a preemption delay for the former master service board to become the master again after it recovers.</p>
</div></div>
</p></li><li class="substepexpand" id="EN-US_TASK_0172362447__en-us_task_0172374724_substep557036532214110"><span id="EN-US_TASK_0172362447__en-us_task_0172374724_cmd740657861214416">Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172362447__en-us_task_0172374724_cmdname1497202266214416">commit</span></b></a></span></span><p><p id="EN-US_TASK_0172362447__en-us_task_0172374724_p1754466676214416">The configuration is committed.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0172362447__en-us_task_0172374724_step515214605214110"><span id="EN-US_TASK_0172362447__en-us_task_0172374724_cmd557801531214110">Configure a service-location group that implements single-chassis inter-board VSM HA hot backup.</span><ol type="a" id="EN-US_TASK_0172362447__en-us_task_0172374724_substeps1185706928214110"><li class="substepexpand" id="EN-US_TASK_0172362447__en-us_task_0172374724_substep1492819970214110"><span id="EN-US_TASK_0172362447__en-us_task_0172374724_cmd1427972416214416">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172362447__en-us_task_0172374724_cmdname1024993989214416">system-view</span></b></a></span></span><p><p id="EN-US_TASK_0172362447__en-us_task_0172374724_p591830446214416">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172362447__en-us_task_0172374724_substep1215412806214110"><span id="EN-US_TASK_0172362447__en-us_task_0172374724_cmd1571597243214416">Run <span><a href="cmdqueryname=service-location"><b><span class="cmdname" id="EN-US_TASK_0172362447__en-us_task_0172374724_cmdname338960812214416">service-location</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362447__en-us_task_0172374724_varname1208496605214416">service-location-id</span></i></span></span><p><p id="EN-US_TASK_0172362447__en-us_task_0172374724_p670638921214416">A service-location group is created, and the service-location group view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172362447__en-us_task_0172374724_substep866954849214110"><span id="EN-US_TASK_0172362447__en-us_task_0172374724_cmd16549184910579">Run <a href="cmdqueryname=location"><b><span class="cmdname" id="EN-US_TASK_0172362447__en-us_task_0172374724_cmdname15443371214110">location</span></b></a> <strong><span id="EN-US_TASK_0172362447__en-us_task_0172374724_cmdparmname687693912214110">slot</span></strong> <i><span class="varname" id="EN-US_TASK_0172362447__en-us_task_0172374724_varname2036507763214110">slot-id</span></i> <strong><span id="EN-US_TASK_0172362447__en-us_task_0172374724_cmdparmname1698334083214110">backup</span></strong> <strong><span id="EN-US_TASK_0172362447__en-us_task_0172374724_cmdparmname2104579722214110">slot</span></strong> <i><span class="varname" id="EN-US_TASK_0172362447__en-us_task_0172374724_varname1990595920214110">backup-slot-id</span></i> </span><p><p id="EN-US_TASK_0172362447__en-us_task_0172374724_p843024295711">The CPUs of the active and standby service boards are bound to the service-location group.</p>
</p><p><div class="note" id="EN-US_TASK_0172362447__en-us_task_0172374724_note727677343214110"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172362447__en-us_task_0172374724_p153734136214110">Before hot backup is configured, the <span class="keyword" id="EN-US_TASK_0172362447__en-us_task_0172374724_keyword1710642260214416">NE40E</span> must be equipped with two service boards.</p>
</div></div>
</p></li><li class="substepexpand" id="EN-US_TASK_0172362447__en-us_task_0172374724_substep1521783448214110"><span id="EN-US_TASK_0172362447__en-us_task_0172374724_cmd1292744764214416">Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172362447__en-us_task_0172374724_cmdname1971738291214416">commit</span></b></a></span></span><p><p id="EN-US_TASK_0172362447__en-us_task_0172374724_p613464009214416">The configuration is committed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172362447__en-us_task_0172374724_substep585656166214110"><span id="EN-US_TASK_0172362447__en-us_task_0172374724_cmd701634695214416">Run <span><a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0172362447__en-us_task_0172374724_cmdname1672221612214416">quit</span></b></a></span></span><p><p id="EN-US_TASK_0172362447__en-us_task_0172374724_p2038054382214416">Return to the system view.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0172362447__en-us_task_0172374724_step1331118402214110"><span id="EN-US_TASK_0172362447__en-us_task_0172374724_cmd1769831615214110">Create a service-instance group and bind it to the service-location group.</span><ol type="a" id="EN-US_TASK_0172362447__en-us_task_0172374724_substeps1466797906214110"><li class="substepexpand" id="EN-US_TASK_0172362447__en-us_task_0172374724_substep447251850214110"><span id="EN-US_TASK_0172362447__en-us_task_0172374724_cmd2006723036214416">Run <span><a href="cmdqueryname=service-instance-group"><b><span class="cmdname" id="EN-US_TASK_0172362447__en-us_task_0172374724_cmdname371461546214416">service-instance-group</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362447__en-us_task_0172374724_varname318676171214416">service-instance-group-name</span></i></span></span><p><p id="EN-US_TASK_0172362447__en-us_task_0172374724_p1868331569214416">A service-instance group is created, and the service-instance group view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172362447__en-us_task_0172374724_substep1914251128214110"><span id="EN-US_TASK_0172362447__en-us_task_0172374724_cmd44148591544">Run <a href="cmdqueryname=service-location"><b><span class="cmdname" id="EN-US_TASK_0172362447__en-us_task_0172374724_cmdname718646364214110">service-location</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362447__en-us_task_0172374724_varname890151573214110">service-location-id</span></i> [ <strong><span id="EN-US_TASK_0172362447__en-us_task_0172374724_cmdparmname168401320174315">weight</span></strong> <i><span class="varname" id="EN-US_TASK_0172362447__en-us_task_0172374724_varname511261417439">weight-value</span></i> ]</span><p><p id="EN-US_TASK_0172362447__en-us_task_0172374724_p395811527548">The service-location group is bound to the service-instance group.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172362447__en-us_task_0172374724_substep432013767214110"><span id="EN-US_TASK_0172362447__en-us_task_0172374724_cmd385974482214416">Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172362447__en-us_task_0172374724_cmdname1783852502214416">commit</span></b></a></span></span><p><p id="EN-US_TASK_0172362447__en-us_task_0172374724_p803749621214416">The configuration is committed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172362447__en-us_task_0172374724_substep1863778361214110"><span id="EN-US_TASK_0172362447__en-us_task_0172374724_cmd324802675214416">Run <span><a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0172362447__en-us_task_0172374724_cmdname1918097312214416">quit</span></b></a></span></span><p><p id="EN-US_TASK_0172362447__en-us_task_0172374724_p409768801214416">Return to the system view.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0172362447__en-us_task_0172374724_step1939933376214110"><span id="EN-US_TASK_0172362447__en-us_task_0172374724_cmd1363521678214110">Bind a DS-Lite instance to a service-instance group.</span><ol type="a" id="EN-US_TASK_0172362447__en-us_task_0172374724_substeps1771893802214110"><li class="substepexpand" id="EN-US_TASK_0172362447__en-us_task_0172374724_substep1158922521214110"><span id="EN-US_TASK_0172362447__en-us_task_0172374724_cmd1178998661214416">Run <span><a href="cmdqueryname=ds-lite+instance"><b><span class="cmdname" id="EN-US_TASK_0172362447__en-us_task_0172374724_cmdname241415292214416">ds-lite instance</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362447__en-us_task_0172374724_varname1061862003214416">instance-name</span></i> [ <strong><span id="EN-US_TASK_0172362447__en-us_task_0172374724_cmdparmname1940204959214416">id</span></strong> <i><span class="varname" id="EN-US_TASK_0172362447__en-us_task_0172374724_varname364205136214416">id</span></i> ]</span></span><p><p id="EN-US_TASK_0172362447__en-us_task_0172374724_p339395572214416">The DS-Lite instance view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172362447__en-us_task_0172374724_substep348740375214110"><span id="EN-US_TASK_0172362447__en-us_task_0172374724_cmd610664833214416">Run <span><a href="cmdqueryname=service-instance-group"><b><span class="cmdname" id="EN-US_TASK_0172362447__en-us_task_0172374724_cmdname1915858550214416">service-instance-group</span></b></a> <i><span class="varname" id="EN-US_TASK_0172362447__en-us_task_0172374724_varname2046249498214416">service-instance-group-name</span></i></span></span><p><p id="EN-US_TASK_0172362447__en-us_task_0172374724_p442364190214416">The DS-Lite instance is bound to the service-instance group.</p>
</p><p><div class="note" id="EN-US_TASK_0172362447__en-us_task_0172374724_note680951274214110"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172362447__en-us_task_0172374724_p807707255214110">One DS-Lite instance can only be bound to one service-instance group. Different DS-Lite instances can be bound to the same service-instance group.</p>
</div></div>
</p></li><li class="substepexpand" id="EN-US_TASK_0172362447__en-us_task_0172374724_substep533363044214110"><span id="EN-US_TASK_0172362447__en-us_task_0172374724_cmd539160616214416">Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172362447__en-us_task_0172374724_cmdname2077803358214416">commit</span></b></a></span></span><p><p id="EN-US_TASK_0172362447__en-us_task_0172374724_p553376316214416">The configuration is committed.</p>
</p></li></ol>
</li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cgn-reliability_cfg_0005.html">Configuring Inter-Board Hot Backup
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0036_copy.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cgn-reliability_cfg_0011.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>