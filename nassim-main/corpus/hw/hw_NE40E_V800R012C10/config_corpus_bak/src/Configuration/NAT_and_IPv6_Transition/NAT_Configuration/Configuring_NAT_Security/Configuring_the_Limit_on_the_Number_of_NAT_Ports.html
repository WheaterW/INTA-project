
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring the Limit on the Number of NAT Ports">
<meta name="abstract" content="To prevent individual users from occupying excessive port resources to cause the connection failure of other users, you can enable the NAT port number limit function.">
<meta name="description" content="To prevent individual users from occupying excessive port resources to cause the connection failure of other users, you can enable the NAT port number limit function.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0038.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0040.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0053.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="c00549182">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="OWNER" content="c00549182">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="c00549182">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001092838004">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring the Limit on the Number of NAT Ports</title>
</head>
<body><a name="EN-US_TASK_0000001092838004"></a><a name="EN-US_TASK_0000001092838004"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring the Limit on the Number of NAT Ports</h1>
<div class="taskbody"><p>To prevent individual users from occupying excessive port resources to cause the connection failure of other users, you can enable the NAT port number limit function.</p>
<div class="context"><a name="EN-US_TASK_0000001092838004__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0000001092838004__en-us_task_0172374560_context74671213174416"><p id="EN-US_TASK_0000001092838004__en-us_task_0172374560_p2057672138214110">By checking whether the total number of TCP/UDP/ICMP/TOTAL ports used for connections involving the same source or destination address exceeds the configured threshold, the system can determine whether to restrict the initiation of new connections in the direction, preventing individual users from occupying excessive port resources and causing the connection failure of other users.</p>
<div class="note" id="EN-US_TASK_0000001092838004__en-us_task_0172374560_note65191571001"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0000001092838004__en-us_task_0172374560_p1951965719011">Only dedicated boards support this configuration.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001092838004__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0000001092838004__en-us_task_0172374560_steps1729224428214110"><li id="EN-US_TASK_0000001092838004__en-us_task_0172374560_step992678240214110"><span id="EN-US_TASK_0000001092838004__en-us_task_0172374560_cmd1633329234214415">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0000001092838004__en-us_task_0172374560_cmdname230074568214415">system-view</span></b></a></span></span><p><p id="EN-US_TASK_0000001092838004__en-us_task_0172374560_p2073246434214415">The system view is displayed.</p>
</p></li><li id="EN-US_TASK_0000001092838004__en-us_task_0172374560_step1772257158214110"><span id="EN-US_TASK_0000001092838004__en-us_task_0172374560_cmd250850195214415">Run <span><a href="cmdqueryname=nat+instance"><b><span class="cmdname" id="EN-US_TASK_0000001092838004__en-us_task_0172374560_cmdname892627161214415">nat instance</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001092838004__en-us_task_0172374560_varname1261523802214415">instance-name</span></i> [ <strong><span id="EN-US_TASK_0000001092838004__en-us_task_0172374560_cmdparmname1861682140214415">id</span></strong> <i><span class="varname" id="EN-US_TASK_0000001092838004__en-us_task_0172374560_varname471241569214415">id</span></i> ]</span></span><p><p id="EN-US_TASK_0000001092838004__en-us_task_0172374560_p1868109174214415">The NAT instance view is displayed.</p>
</p></li><li id="EN-US_TASK_0000001092838004__en-us_task_0172374560_step498701001214110"><span id="EN-US_TASK_0000001092838004__en-us_task_0172374560_cmd1753010959214415">Run <span><a href="cmdqueryname=nat+port-limit+enable"><b><span class="cmdname" id="EN-US_TASK_0000001092838004__en-us_task_0172374560_cmdname1045006737214415">nat port-limit enable</span></b></a></span></span><p><p id="EN-US_TASK_0000001092838004__en-us_task_0172374560_p1687800327214415">The user-based port number limit function is enabled.</p>
</p></li><li id="EN-US_TASK_0000001092838004__en-us_task_0172374560_step424826085214110"><span id="EN-US_TASK_0000001092838004__en-us_task_0172374560_cmd1114857211214415">Run <a href="cmdqueryname=nat+port-limit"><b><span class="cmdname" id="EN-US_TASK_0000001092838004__en-us_task_0172374560_cmdname1789454255214110">nat port-limit</span></b></a> { <strong><span id="EN-US_TASK_0000001092838004__en-us_task_0172374560_cmdparmname1938207389214110">tcp</span></strong> | <strong><span id="EN-US_TASK_0000001092838004__en-us_task_0172374560_cmdparmname1387573151214110">udp</span></strong> | <strong><span id="EN-US_TASK_0000001092838004__en-us_task_0172374560_cmdparmname1783554944214110">icmp</span></strong> | <strong><span id="EN-US_TASK_0000001092838004__en-us_task_0172374560_cmdparmname244092536214110">total</span></strong> } <i><span class="varname" id="EN-US_TASK_0000001092838004__en-us_task_0172374560_varname1634081154813">limit-value</span></i></span><p><p id="EN-US_TASK_0000001092838004__en-us_task_0172374560_p1488480689214415">The limit on the number of user-based ports is configured.</p>
</p></li><li id="EN-US_TASK_0000001092838004__en-us_task_0172374560_step1246047164213"><span id="EN-US_TASK_0000001092838004__en-us_task_0172374560_cmd046144712421">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001092838004__en-us_task_0172374560_cmdname710210186541">commit</span></b></a></span><p><p id="EN-US_TASK_0000001092838004__en-us_task_0172374560_p1897710507526">The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0038.html">Configuring NAT Security
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0040.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0053.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>