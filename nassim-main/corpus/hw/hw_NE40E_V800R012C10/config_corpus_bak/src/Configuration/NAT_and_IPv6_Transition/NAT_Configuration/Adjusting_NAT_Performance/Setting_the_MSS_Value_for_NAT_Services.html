
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Setting the MSS Value for NAT Services">
<meta name="abstract" content="The MSS value defined in TCP specifies the length of a TCP packet. Two devices exchange SYN packets to negotiate the MSS value for a TCP connection to be established.">
<meta name="description" content="The MSS value defined in TCP specifies the length of a TCP packet. Two devices exchange SYN packets to negotiate the MSS value for a TCP connection to be established.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0052.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0055.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="c00549182">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="OWNER" content="c00549182">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="c00549182">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172374579">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Setting the MSS Value for NAT Services</title>
</head>
<body><a name="EN-US_TASK_0172374579"></a><a name="EN-US_TASK_0172374579"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Setting the MSS Value for NAT Services</h1>
<div class="taskbody"><p>The MSS value defined in TCP specifies the length of a TCP packet. Two devices exchange SYN packets to negotiate the MSS value for a TCP connection to be established.</p>
<div class="context"><a name="EN-US_TASK_0172374579__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>If the size of packets for NAT processing is larger than a link MTU, the packets are fragmented. You can reduce the MSS value in TCP, which prevents a NAT service board from fragmenting packets and helps improve NAT efficiency.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172374579__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=nat+tcp-mss"><b><span class="cmdname">nat tcp-mss</span></b></a> <i><span class="varname">mss-value</span></i></span></span><p><p>The MSS value carried in TCP SYN packets for NAT processing is set.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Only the <span class="keyword">NE40E</span><span class="keyword">-M2K</span> and <span class="keyword">NE40E</span><span class="keyword">-M2K-B</span> support the following configurations.</p>
</div></div>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=nat+instance"><b><span class="cmdname">nat instance</span></b></a> <i><span class="varname">instance-name</span></i> [ <strong><span>id</span></strong> <i><span class="varname">id</span></i> ]</span><p><p>A NAT instance is created, and its view is displayed.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=nat+tcp+adjust-mss"><b><span class="cmdname">nat tcp adjust-mss</span></b></a> <i><span class="varname">mss-value</span></i></span><p><p>The MSS value of packets sent by the interfaces at both ends in the negotiation is set.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If the configured MSS value is smaller than the MSS value of TCP packets and the MSS values are configured in both the NAT instance view and system view, the MSS value configured in the NAT instance view takes precedence over that configured in the system view. In other situations, the globally configured MSS value takes effect.</p>
</div></div>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0052.html">Adjusting NAT Performance
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0055.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>