
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring NAT Port Filtering">
<meta name="abstract" content="To maintain network security and prevent virus intrusion, deploy the port filtering function for NAT services. The function prevents a port from being converted into a filtered port after NAT. Without this function, packets fail to be forwarded.">
<meta name="description" content="To maintain network security and prevent virus intrusion, deploy the port filtering function for NAT services. The function prevents a port from being converted into a filtered port after NAT. Without this function, packets fail to be forwarded.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0038.html">
<meta name="DC.Relation" scheme="URI" content="../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0053.html">
<meta name="DC.Relation" scheme="URI" content="../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0107_1.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="OWNER" content="g00814582">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="g00814582">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001482697861">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>Configuring NAT Port Filtering</title>
</head>
<body><a name="EN-US_TASK_0000001482697861"></a><a name="EN-US_TASK_0000001482697861"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring NAT Port Filtering</h1>
<div class="taskbody"><p>To maintain network security and prevent virus intrusion, deploy the port filtering function for NAT services. The function prevents a port from being converted into a filtered port after NAT. Without this function, packets fail to be forwarded.</p>
<div class="context"><a name="EN-US_TASK_0000001482697861__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>The centralized NAT deployment scenario is used as an example. The port filter function is configured on two network interfaces of the NAT device to filter out packets with destination port 1434 (Worm.NetKiller2003). When a packet from the public network side reaches the private network side, the NAT device checks the packet's destination port. If the port is within the filtered port range, the device discards the packet. After NAT services are deployed on the private network side, a filtered port on the NAT device may be used as the post-NAT source port of a packet sent from the private network side to the public network side. After receiving a return packet, the NAT device finds that the packet's destination port is within the filtered port range and discards the packet, impacting user services. To resolve this issue, deploy the port filtering function for NAT services to filter out the filtered ports on the NAT device. This prevents returned user packets from being discarded by the NAT device.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001482697861__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=nat+instance"><b><span class="cmdname">nat instance</span></b></a> <i><span class="varname">instance-name</span></i> [ <a href="cmdqueryname=id"><b><span class="cmdname">id</span></b></a> <i><span class="varname">id</span></i> ]</span><p><p>The NAT instance view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=exclude-port"><b><span class="cmdname">exclude-port</span></b></a> { <i><span class="varname">start-port</span></i> [ <a href="cmdqueryname=to"><b><span class="cmdname">to</span></b></a> <i><span class="varname">end-port</span></i> ] } &amp; &lt;1â10&gt;</span><p><p>The NAT port filtering function is configured.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0038.html">Configuring NAT Security
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0053.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0107_1.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>