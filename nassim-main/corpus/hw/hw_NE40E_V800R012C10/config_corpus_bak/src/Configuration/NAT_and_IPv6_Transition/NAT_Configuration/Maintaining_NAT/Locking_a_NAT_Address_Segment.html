
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Locking a NAT Address Segment">
<meta name="abstract" content="Locking an address segment that is faulty or needs to be reclaimed can prevent user offline. This function is applicable to both the centralized and distributed scenarios.">
<meta name="description" content="Locking an address segment that is faulty or needs to be reclaimed can prevent user offline. This function is applicable to both the centralized and distributed scenarios.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0046.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0050_1.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0049.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="c00549182">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="OWNER" content="c00549182">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="c00549182">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001092709530">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Locking a NAT Address Segment</title>
</head>
<body><a name="EN-US_TASK_0000001092709530"></a><a name="EN-US_TASK_0000001092709530"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Locking a NAT Address Segment</h1>
<div class="taskbody"><p>Locking an address segment that is faulty or needs to be reclaimed can prevent user offline. This function is applicable to both the centralized and distributed scenarios.</p>
<div class="context"><a name="EN-US_TASK_0000001092709530__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_context519354416019"><p id="EN-US_TASK_0000001092709530__en-us_task_0172374572_p210705002214110">The function of locking an address segment allows reclaiming of useless IP addresses and prevents new users from using these IP addresses. The IP addresses in the locked address segment are reclaimed after all the old users go offline. In distributed scenarios, after an address segment is locked, the CGN device does not allocate IP addresses from the address segment after it is associated with online users. In centralized scenarios, after an address segment is locked, the CGN device does not allocate IP addresses from the address segment after a user table is created.</p>
<div class="note" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_note98102031145210"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0000001092709530__en-us_task_0172374572_p18810531185214">Only the <span class="keyword" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_keyword1152414571330">NE40E</span><span class="keyword" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_keyword3501321048">-M2K</span> and <span class="keyword" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_keyword84407551658">NE40E</span><span class="keyword" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_keyword18823101016414">-M2K-B</span> support this configuration.</p>
</div></div>
<div class="note" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_note65191571001"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0000001092709530__en-us_task_0172374572_p1951965719011">Only dedicated boards support this configuration.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001092709530__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0000001092709530__en-us_task_0172374572_steps1984951606214110"><li id="EN-US_TASK_0000001092709530__en-us_task_0172374572_step1770526373214110"><span id="EN-US_TASK_0000001092709530__en-us_task_0172374572_cmd1018776921214415">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_cmdname1368095072214415">system-view</span></b></a></span></span><p><p id="EN-US_TASK_0000001092709530__en-us_task_0172374572_p551089081214415">The system view is displayed.</p>
</p></li><li id="EN-US_TASK_0000001092709530__en-us_task_0172374572_step1536333661214110"><span id="EN-US_TASK_0000001092709530__en-us_task_0172374572_cmd1963952546214110">Lock NAT address segments in a specific scenario.</span><ol type="a" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_substeps635839446214110"><li class="substepexpand" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_substep732326696214110"><span id="EN-US_TASK_0000001092709530__en-us_task_0172374572_cmd985998715214110">Local an address segment in a global static address pool.</span><p><ol class="substepthirdol" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_ol1527078790214110"><li id="EN-US_TASK_0000001092709530__en-us_task_0172374572_li766528508214110">Run the <a href="cmdqueryname=nat+ip-pool"><b><span class="cmdname" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_cmdname1054417284214110">nat ip-pool</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_varname1955548215214415">pool-name</span></i> [ <strong><span id="EN-US_TASK_0000001092709530__en-us_task_0172374572_cmdparmname135285262214415">vpn-instance</span></strong> <i><span class="varname" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_varname2108290965214415">vpn-instance-name</span></i> ] [ <strong><span id="EN-US_TASK_0000001092709530__en-us_task_0172374572_cmdparmname1910621614214415">no-pat</span></strong> ] [ <strong><span id="EN-US_TASK_0000001092709530__en-us_task_0172374572_cmdparmname513816402214415">slave</span></strong> ] command to enter the global static address pool view.</li><li id="EN-US_TASK_0000001092709530__en-us_task_0172374572_li240665977214110">Run the <a href="cmdqueryname=section"><b><span class="cmdname" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_cmdname635427783214110">section</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_varname1647713638214415">section-id</span></i> <strong><span id="EN-US_TASK_0000001092709530__en-us_task_0172374572_cmdparmname700381056214415">lock</span></strong> command to lock an address segment in the global static address pool.</li><li id="EN-US_TASK_0000001092709530__en-us_task_0172374572_li1403444549214110">Run the <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_cmdname1625738524214110">commit</span></b></a> command to commit the configuration.</li></ol>
</p></li><li class="substepexpand" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_substep853132080214110"><span id="EN-US_TASK_0000001092709530__en-us_task_0172374572_cmd1990041188214110">Local an address segment in a NAT address pool.</span><p><ol class="substepthirdol" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_ol878960213214110"><li id="EN-US_TASK_0000001092709530__en-us_task_0172374572_li609598183214110">Run the <a href="cmdqueryname=nat+instance"><b><span class="cmdname" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_cmdname1391382755214110">nat instance</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_varname1542774974214415">instance-name</span></i> [ <strong><span id="EN-US_TASK_0000001092709530__en-us_task_0172374572_cmdparmname652199395214415">id</span></strong> <i><span class="varname" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_varname2135416384214415">id</span></i> ] command to enter the NAT instance view.</li><li id="EN-US_TASK_0000001092709530__en-us_task_0172374572_li1252738216214110">Run the <a href="cmdqueryname=nat+address-group"><b><span class="cmdname" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_cmdname118231926214110">nat address-group</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_varname1322452354214415">address-group-name</span></i> [ <strong><span id="EN-US_TASK_0000001092709530__en-us_task_0172374572_cmdparmname68182903214415">group-id</span></strong> <i><span class="varname" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_varname836461411214415">id</span></i> ] command to enter the NAT address pool view.</li><li id="EN-US_TASK_0000001092709530__en-us_task_0172374572_li665981041214110">Run the <a href="cmdqueryname=section"><b><span class="cmdname" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_cmdname168412778214110">section</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_varname243355543214415">section-num</span></i> <strong><span id="EN-US_TASK_0000001092709530__en-us_task_0172374572_cmdparmname1023194918214415">lock</span></strong> command to lock an address segment in the address pool.</li><li id="EN-US_TASK_0000001092709530__en-us_task_0172374572_li391399733214110">Run the <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_cmdname340689332214110">commit</span></b></a> command to commit the configuration.</li></ol>
</p></li></ol>
<p><p id="EN-US_TASK_0000001092709530__en-us_task_0172374572_p1950423494214110">IP addresses in the locked address segment cannot be allocated to users any more. To restore this address segment, run the <a href="cmdqueryname=undo+section+lock"><b><span class="cmdname" id="EN-US_TASK_0000001092709530__en-us_task_0172374572_cmdname737072382214110">undo section lock</span></b></a> command.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0046.html">Maintaining NAT
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0050_1.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0049.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>