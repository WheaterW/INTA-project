
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring HTTP for Device Login">
<meta name="abstract" content="This section provides an example for configuring HTTP for device login, so that you can log in to an HTTP server from an HTTP client to download the desired certificate.">
<meta name="description" content="This section provides an example for configuring HTTP for device login, so that you can log in to an HTTP server from an HTTP client to download the desired certificate.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_basic_cfg_0108.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_basic_cfg_0129.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="basicvrp,w00800033,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Accessing Other Devices">
<meta name="featuretype" content="Basic Configurations">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Accessing Other Devices">
<meta name="featuretype" content="Basic Configurations">
<meta name="featurename" content="Accessing Other Devices">
<meta name="featuretype" content="Basic Configurations">
<meta name="featurename" content="Accessing Other Devices">
<meta name="featuretype" content="Basic Configurations">
<meta name="OWNER" content="lwx1238418">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00799643">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172360153">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Example for Configuring HTTP for Device Login</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0172360153"></a><a name="EN-US_TASK_0172360153"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring HTTP for Device Login</h1>
<div class="taskbody"><p>This section provides an example for configuring HTTP for device login, so that you can log in to an HTTP server from an HTTP client to download the desired certificate.</p>
<div class="context"><a name="EN-US_TASK_0172360153__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>An HTTP client can download a certificate from an HTTP server through HTTP. On the network shown in <a href="#EN-US_TASK_0172360153__fig_dc_vrp_http_cfg_001101">Figure 1</a>, the HTTP client and server are routable to each other. To download a certificate from the server to the client, log in to the server from the client.</p>
<p>The server supports SSL policies. To improve data transmission security, configure an SSL policy on the HTTP client.</p>
<div class="fignone" id="EN-US_TASK_0172360153__fig_dc_vrp_http_cfg_001101"><a name="EN-US_TASK_0172360153__fig_dc_vrp_http_cfg_001101"></a><a name="fig_dc_vrp_http_cfg_001101"></a><span class="figcap"><b>Figure 1 </b>Device login using HTTP</span><br><span><img class="vsd" src="images/fig_dc_vrp_http_cfg_001101.png" width="NaN" height="NaN"></span><br></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172360153__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><p>The configuration roadmap is as follows:</p>
<ol><li><p>Configure an SSL policy on the HTTP client.</p>
</li><li><p>Configure the HTTP client.</p>
</li></ol>
</div></div>
<div class="context"><a name="EN-US_TASK_0172360153__1.4.3"></a><a name="1.4.3"></a>
<div class="p"><h4 class="sectiontitle">Data Preparation</h4><p>To complete the configuration, you need the following data:</p>
<ul><li><p>SSL policy name <strong>policy1</strong> to be configured on the HTTP client</p>
</li><li>Domain name <strong>domain1</strong></li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172360153__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure an SSL policy on the HTTP client.</span><p><p># Configure a PKI domain.</p>
<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>pki domain domain1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-pki-domain-domain1] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-pki-domain-domain1] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>pki import-certificate ca domain domain1 filename test.crt</strong></pre>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The CA certificate is used as an example. During the actual configuration, you need to replace <strong>ca</strong> and <strong>test.crt</strong> with the existing certificate type and name on the device. You can directly upload the certificate to the device for installation, or apply for and download the certificate for installation. For details, see "Obtaining a Certificate" in <em>PKI Configuration</em>.</p>
</div></div>
<p># Configure an SSL policy and bind it to the PKI domain.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ssl policy policy1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ssl-policy-policy1] <strong>pki-domain domain1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ssl-policy-policy1] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-ssl-policy-policy1] <strong>quit</strong></pre>
</p></li><li><span>Configure the HTTP client.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>http</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-http] <strong>client ssl-policy policy1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-http] <strong>client ssl-verify peer </strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-http] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-http] <strong>quit</strong></pre>
</p></li><li><span>Check whether the HTTP client is successfully configured.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>display ssl policy</strong></pre>
<pre class="screen">       SSL Policy Name: policy1
            PKI domain: domain1
     Policy Applicants: HTTP-CLIENT
         Key-pair Type:
 Certificate File Type:
      Certificate Type:
  Certificate Filename:
     Key-file Filename:
              CRL File:
       Trusted-CA File:</pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0172360153__1.4.5"></a><a name="1.4.5"></a><h4 class="sectiontitle">Configuration Files</h4><ul><li><p>HTTP client configuration file</p>
<pre class="screen">#
ssl policy policy1
 pki-domain domain1
#
http
 client ssl-policy policy1
 client ssl-verify peer
#
return</pre>
</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_basic_cfg_0108.html">Configuration Examples for Accessing Other Devices
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_basic_cfg_0129.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>