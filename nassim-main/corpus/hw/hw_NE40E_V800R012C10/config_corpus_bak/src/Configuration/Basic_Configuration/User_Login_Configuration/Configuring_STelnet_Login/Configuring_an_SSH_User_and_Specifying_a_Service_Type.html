
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an SSH User and Specifying a Service Type">
<meta name="abstract" content="To use STelnet to log in to a device, configure an SSH user, configure the device to generate a local key pair, configure an authentication mode, and specify a service type for the SSH user.">
<meta name="description" content="To use STelnet to log in to a device, configure an SSH user, configure the device to generate a local key pair, configure an authentication mode, and specify a service type for the SSH user.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_basic_cfg_0037.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_basic_cfg_0039.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_basic_cfg_0041.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="User Login">
<meta name="featuretype" content="Basic Configurations">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="User Login">
<meta name="featuretype" content="Basic Configurations">
<meta name="featurename" content="User Login">
<meta name="featuretype" content="Basic Configurations">
<meta name="featurename" content="User Login">
<meta name="featuretype" content="Basic Configurations">
<meta name="OWNER" content="lwx1238418">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="lwx1238418">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172359819">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Configuring an SSH User and Specifying a Service Type</title>
</head>
<body><a name="EN-US_TASK_0172359819"></a><a name="EN-US_TASK_0172359819"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an SSH User and Specifying a Service Type</h1>
<div class="taskbody"><p>To use STelnet to log in to a device, configure an SSH user, configure the device to generate a local key pair, configure an authentication mode, and specify a service type for the SSH user.</p>
<div class="context"><a name="EN-US_TASK_0172359819__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0172359819__context_1"><p id="EN-US_TASK_0172359819__p1549679977214017">SSH users support the all, RSA, DSA, ECC, <span>SM2, </span>X509v3-SSH-RSA, password, password-RSA, password-ECC, password-DSA<span>, password-SM2</span>, and password-X509v3-RSA authentication modes.</p>
<p id="EN-US_TASK_0172359819__p1766537280214017">If the authentication mode of an SSH user is RSA, DSA, <span>SM2, </span>or ECC, a local RSA, DSA, <span>SM2, </span>or ECC key pair must be generated on both the server and client. In addition, the server needs to edit the public key of the client locally. After the editing, the public key is bound to the local user.</p>
<div class="p" id="EN-US_TASK_0172359819__p911671830214017"><a href="#EN-US_TASK_0172359819__tab_1">Table 1</a> compares the RSA, DSA, <span>SM2, </span>X509v3-SSH-RSA, and ECC algorithms.
<div class="tableBorder"><a name="EN-US_TASK_0172359819__tab_1"></a><a name="tab_1"></a><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_TASK_0172359819__tab_1" frame="border" border="1" rules="all"><caption><b>Table 1 </b>RSA, DSA, <span>SM2, </span>X509v3-SSH-RSA, and ECC algorithms</caption><thead align="left"><tr id="EN-US_TASK_0172359819__row715717796214017"><th align="left" class="cellrowborder" valign="top" width="13.86%" id="mcps1.4.1.3.3.2.3.1.1" liSelected="liSelected"><p id="EN-US_TASK_0172359819__p1819560883214017">Algorithm</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="86.14%" id="mcps1.4.1.3.3.2.3.1.2" liSelected="liSelected"><p id="EN-US_TASK_0172359819__p65923181214017">Application Scenarios</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_TASK_0172359819__row1610146954214017"><td class="cellrowborder" valign="top" width="13.86%" headers="mcps1.4.1.3.3.2.3.1.1 "><p id="EN-US_TASK_0172359819__p2058408913214017">RSA/DSA</p>
</td>
<td class="cellrowborder" valign="top" width="86.14%" headers="mcps1.4.1.3.3.2.3.1.2 "><p id="EN-US_TASK_0172359819__p1073427961214017">An asymmetric public key encryption algorithm, which improves encryption efficiency and simplifies key management. This algorithm allows the server to check whether the SSH user, public key, and digital signature are valid. User authentication succeeds only if all of them are the same as those configured on the server.</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row1982061213214017"><td class="cellrowborder" valign="top" width="13.86%" headers="mcps1.4.1.3.3.2.3.1.1 "><p id="EN-US_TASK_0172359819__p986002902214017">ECC</p>
</td>
<td class="cellrowborder" valign="top" width="86.14%" headers="mcps1.4.1.3.3.2.3.1.2 "><div class="p" id="EN-US_TASK_0172359819__p170088949214017">An asymmetric encryption algorithm similar to RSA and DSA. Compared with the RSA and DSA algorithms, the ECC algorithm has the following advantages:<ul id="EN-US_TASK_0172359819__ul298620073214017"><li id="EN-US_TASK_0172359819__li1927518696214017">Provides the same security with a shorter key length than the RSA algorithm.</li><li id="EN-US_TASK_0172359819__li704439713214017">Features a shorter computing process and higher processing speed.</li><li id="EN-US_TASK_0172359819__li662158837214017">Requires less storage space.</li><li id="EN-US_TASK_0172359819__li806752674214017">Requires lower bandwidth.</li></ul>
</div>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row862988549214017"><td class="cellrowborder" valign="top" width="13.86%" headers="mcps1.4.1.3.3.2.3.1.1 "><p id="EN-US_TASK_0172359819__p1326649297214017">SM2</p>
</td>
<td class="cellrowborder" valign="top" width="86.14%" headers="mcps1.4.1.3.3.2.3.1.2 "><p id="EN-US_TASK_0172359819__p182968301214017">SM2 is an ECC-based asymmetric encryption algorithm.</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row725863920819"><td class="cellrowborder" valign="top" width="13.86%" headers="mcps1.4.1.3.3.2.3.1.1 "><p id="EN-US_TASK_0172359819__p4260183917811">X509v3-SSH-RSA</p>
</td>
<td class="cellrowborder" valign="top" width="86.14%" headers="mcps1.4.1.3.3.2.3.1.2 "><p id="EN-US_TASK_0172359819__p52601239382">The X509v3-SSH-RSA algorithm is based on a PKI certificate and features better scalability and higher security. A PKI certificate must be bound to the user and server.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p id="EN-US_TASK_0172359819__p13580171711475"><a href="#EN-US_TASK_0172359819__table338718267498">Table 2</a> describes the application scenarios of various authentication modes.</p>
<p id="EN-US_TASK_0172359819__p17260122416315"></p>

<div class="tableBorder"><a name="EN-US_TASK_0172359819__table338718267498"></a><a name="table338718267498"></a><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_TASK_0172359819__table338718267498" frame="border" border="1" rules="all"><caption><b>Table 2 </b>Application scenario of each authentication type</caption><thead align="left"><tr id="EN-US_TASK_0172359819__row15388112634913"><th align="left" class="cellrowborder" valign="top" width="50%" id="mcps1.4.1.6.2.3.1.1" liSelected="liSelected"><p id="EN-US_TASK_0172359819__p14388132634913">Authentication Mode</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="50%" id="mcps1.4.1.6.2.3.1.2" liSelected="liSelected"><p id="EN-US_TASK_0172359819__p11389172611495">Application Scenarios</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_TASK_0172359819__row10389202617493"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.4.1.6.2.3.1.1 "><p id="EN-US_TASK_0172359819__p12238336502">RSA authentication and DSA authentication</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.4.1.6.2.3.1.2 "><p id="EN-US_TASK_0172359819__p162380319503">RSA and DSA are public key encryption systems and asymmetric encryption algorithms. They can effectively improve the encryption efficiency and simplify key management. The server checks whether the SSH user, public key, and digital signature are valid. User authentication succeeds only if all of them are the same as those configured on the server.</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row93897266491"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.4.1.6.2.3.1.1 "><p id="EN-US_TASK_0172359819__p1323883185019">ECC authentication</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.4.1.6.2.3.1.2 "><div class="p" id="EN-US_TASK_0172359819__p92383325014">Like RSA authentication, the server first checks the validity of the SSH user and whether the public key and the digital signature are valid. If all of them are consistent with those configured on the server, user authentication succeeds. User authentication succeeds only if all of them are the same as those configured on the server. Compared with RSA authentication, ECC authentication has the following advantages:<ul id="EN-US_TASK_0172359819__ul1723818310503"><li id="EN-US_TASK_0172359819__li1123919312506"><p id="EN-US_TASK_0172359819__p11239834502"><a name="EN-US_TASK_0172359819__li1123919312506"></a><a name="li1123919312506"></a>Provides the same security with a shorter key length.</p>
</li><li id="EN-US_TASK_0172359819__li192391536508"><p id="EN-US_TASK_0172359819__p172391315505"><a name="EN-US_TASK_0172359819__li192391536508"></a><a name="li192391536508"></a>Features a shorter computing process and higher processing speed.</p>
</li><li id="EN-US_TASK_0172359819__li1123913175018"><p id="EN-US_TASK_0172359819__p19239935502"><a name="EN-US_TASK_0172359819__li1123913175018"></a><a name="li1123913175018"></a>Requires less storage space.</p>
</li><li id="EN-US_TASK_0172359819__li72398355010"><p id="EN-US_TASK_0172359819__p8239839501"><a name="EN-US_TASK_0172359819__li72398355010"></a><a name="li72398355010"></a>Requires lower bandwidth.</p>
</li></ul>
</div>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row103901526164912"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.4.1.6.2.3.1.1 "><p id="EN-US_TASK_0172359819__p1824010319508">Password authentication</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.4.1.6.2.3.1.2 "><p id="EN-US_TASK_0172359819__p1824053115010">On the server, the AAA module assigns each authorized user a password for login. The server has the mapping between usernames and passwords. When a user requests to access the server, the server authenticates the username and password. If either of them fails to be authenticated, the access request of the user is denied.</p>
<div class="note" id="EN-US_TASK_0172359819__note1680514134209"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TASK_0172359819__p081811118561">You are advised to select public key authentication instead of password authentication as the client identity authentication mode.</p>
</div></div>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row939016262497"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.4.1.6.2.3.1.1 "><p id="EN-US_TASK_0172359819__p15240163165014">password-RSA, password-DSA, password-ECC, password-SM2, or password-x509v3-rsa authentication</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.4.1.6.2.3.1.2 "><p id="EN-US_TASK_0172359819__p1524016315019">An SSH server authenticates a client by checking both the public key and the password, and returns an authentication success result only when both the public key and the password are consistent with those configured on the server.</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row4390182664919"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.4.1.6.2.3.1.1 "><p id="EN-US_TASK_0172359819__p122401133501">SM2 authentication</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.4.1.6.2.3.1.2 "><p id="EN-US_TASK_0172359819__p124114395012">SM2 is a standard encryption algorithm. The server checks whether the SSH user, the public key assigned to the user, and the digital signature of the user are valid. User authentication succeeds only if all of them are the same as those configured on the server.</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row3391182674910"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.4.1.6.2.3.1.1 "><p id="EN-US_TASK_0172359819__p17241203195013">X509v3-SSH-RSA authentication</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.4.1.6.2.3.1.2 "><p id="EN-US_TASK_0172359819__p324115319501">The X509v3-SSH-RSA algorithm is based on a PKI certificate and features better scalability and higher security.</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row3391162644910"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.4.1.6.2.3.1.1 "><p id="EN-US_TASK_0172359819__p1324113155019">All authentication</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.4.1.6.2.3.1.2 "><p id="EN-US_TASK_0172359819__p2024120317506">The SSH server authenticates a client by checking the public key or password. The client can be authenticated when either the public key or password meets the requirement.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p id="EN-US_TASK_0172359819__p758581713478"></p>
<div class="note" id="EN-US_TASK_0172359819__note667423142214017"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172359819__p1459275124720">For security purposes, you are advised not to use the RSA algorithm with a key length of less than 3072 bits for SSH user authentication. Using the ECC authentication algorithm for higher security is recommended.</p>
<div class="p" id="EN-US_TASK_0172359819__p1443533824214017">The user level depends on the authentication mode and configuration selected by the access user.<ul id="EN-US_TASK_0172359819__ul684632014214017"><li id="EN-US_TASK_0172359819__li1747109426214017">If password authentication is used for SSH users, the SSH user level is the same as that configured in the AAA view.</li><li id="EN-US_TASK_0172359819__li1594956638214017"><div class="p" id="EN-US_TASK_0172359819__p1545333012214017"><a name="EN-US_TASK_0172359819__li1594956638214017"></a><a name="li1594956638214017"></a>If public key authentication or PKI certificate authentication is used for SSH users and the <a href="cmdqueryname=ssh+authorization-type+default"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname736795146214017">ssh authorization-type default</span></b></a> {<strong><span id="EN-US_TASK_0172359819__cmdparmname1471169207214017"> </span></strong><strong><span id="EN-US_TASK_0172359819__cmdparmname48661452152711">aaa</span></strong> | <strong><span id="EN-US_TASK_0172359819__cmdparmname1414432657214017">root</span></strong> } command has been run to set the user authorization mode to AAA, the SSH user level is determined by the level configured in the AAA view based on the specified authorization mode.<ul id="EN-US_TASK_0172359819__ul1107375540214017"><li id="EN-US_TASK_0172359819__li376763797214017">If the authorization mode is AAA, the user level is the one configured in the AAA view.</li><li id="EN-US_TASK_0172359819__li480196871214017">If the authorization type is root, the user level is the one configured in the VTY user interface.</li></ul>
</div>
</li><li id="EN-US_TASK_0172359819__li501174492214017">If public key authentication or PKI certificate authentication is used for SSH users but the <a href="cmdqueryname=ssh+authorization-type+default"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname325247060214017">ssh authorization-type default</span></b></a> {<strong><span id="EN-US_TASK_0172359819__cmdparmname1211797757214017"> aaa</span></strong> | <strong><span id="EN-US_TASK_0172359819__cmdparmname1316844663214017">root</span></strong> } command has not been run to set a user authorization mode, the SSH user level is determined by the level configured in the AAA view.</li></ul>
</div>
</div></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172359819__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Data Preparation</h4><p>Before editing a public key, you need to generate a key pair. For details about how to generate a key pair, see Step 1 in <a href="dc_vrp_basic_cfg_0135.html">Using STelnet to Log In to a Server</a>.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172359819__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li id="EN-US_TASK_0172359819__step_1"><span id="EN-US_TASK_0172359819__cmd1206697928214301">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname1457108472214301">system-view</span></b></a></span><p><p id="EN-US_TASK_0172359819__p1953298752214301">The system view is displayed.</p>
</p></li><li id="EN-US_TASK_0172359819__step_2"><span id="EN-US_TASK_0172359819__cmd12369194214435">Run <a href="cmdqueryname=ssh+user"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname1171370423214017">ssh user</span></b></a> <i><span class="varname" id="EN-US_TASK_0172359819__varname1891175804214017">user-name</span></i></span><p><p id="EN-US_TASK_0172359819__p791153614433">An SSH user is created.</p>
</p><p><p id="EN-US_TASK_0172359819__p1197905044214017">If <span>password, password-RSA, password-DSA, password-SM2<span><span></span>, password-X509v3-RSA</span>, or password-ECC</span> authentication is configured for the SSH user, create a local user with the same name and set the access type of the local user to SSH in the AAA view. For configuration details, see <a href="#EN-US_TASK_0172359819__tab_dc_vrp_basic_cfg_004001">Table 3</a>.</p>
<p id="EN-US_TASK_0172359819__p121068935214017">If RSA, DSA, <span>SM2, </span>X509v3-SSH-RSA, or ECC authentication is configured for the SSH user, and the default authorization mode AAA is configured for the SSH connection, create a local user with the same name in the AAA view and set the access type of the local user to SSH. If the preceding conditions are not met, run the <a href="cmdqueryname=ssh+authorization-type+default"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname78132936214017">ssh authorization-type default</span></b></a> <strong><span id="EN-US_TASK_0172359819__cmdparmname601991014214017">root</span></strong> command in the system view to set the authorization mode of the SSH connection to Root. For configuration details, see <a href="#EN-US_TASK_0172359819__tab_dc_vrp_basic_cfg_004001">Table 3</a>.</p>

<div class="tableBorder"><a name="EN-US_TASK_0172359819__tab_dc_vrp_basic_cfg_004001"></a><a name="tab_dc_vrp_basic_cfg_004001"></a><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_TASK_0172359819__tab_dc_vrp_basic_cfg_004001" frame="border" border="1" rules="all"><caption><b>Table 3 </b>Configuring a local user</caption><thead align="left"><tr id="EN-US_TASK_0172359819__row1873779535214017"><th align="left" class="cellrowborder" valign="top" width="19.5%" id="mcps1.4.3.2.3.3.2.3.1.1" liSelected="liSelected"><p id="EN-US_TASK_0172359819__p571519572214017">Item</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="80.5%" id="mcps1.4.3.2.3.3.2.3.1.2" liSelected="liSelected"><p id="EN-US_TASK_0172359819__p203223407214017">Operation</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_TASK_0172359819__row403974559214017"><td class="cellrowborder" valign="top" width="19.5%" headers="mcps1.4.3.2.3.3.2.3.1.1 "><p id="EN-US_TASK_0172359819__p1681972247214017">(Optional) Set the encryption mode of the local user password.</p>
</td>
<td class="cellrowborder" valign="top" width="80.5%" headers="mcps1.4.3.2.3.3.2.3.1.2 "><p id="EN-US_TASK_0172359819__p2100519102214017">Run the <a href="cmdqueryname=crypto+password+irreversible-algorithm+hmac-sha256"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname1351947906214017">crypto password irreversible-algorithm hmac-sha256</span></b></a> command in the system view.</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row10280083214017"><td class="cellrowborder" valign="top" width="19.5%" headers="mcps1.4.3.2.3.3.2.3.1.1 "><p id="EN-US_TASK_0172359819__p917848864214017">Enter the AAA view.</p>
</td>
<td class="cellrowborder" valign="top" width="80.5%" headers="mcps1.4.3.2.3.3.2.3.1.2 "><p id="EN-US_TASK_0172359819__p1201276718214017">Run the <a href="cmdqueryname=aaa"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname931153328214017">aaa</span></b></a> command in the system view.</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row355854098214017"><td class="cellrowborder" valign="top" width="19.5%" headers="mcps1.4.3.2.3.3.2.3.1.1 "><p id="EN-US_TASK_0172359819__p802542404214017">Configure the local username and password.</p>
</td>
<td class="cellrowborder" valign="top" width="80.5%" headers="mcps1.4.3.2.3.3.2.3.1.2 "><p id="EN-US_TASK_0172359819__p1006659019214017">Run the <a href="cmdqueryname=local-user"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname1661356831214017">local-user</span></b></a> <i><span class="varname" id="EN-US_TASK_0172359819__varname1221218902214017">user-name</span></i> <strong><span id="EN-US_TASK_0172359819__cmdparmname1967899699214017">password</span></strong> [ <span><strong><span id="EN-US_TASK_0172359819__cmdparmname1199296910214017">cipher</span></strong> <i><span class="varname" id="EN-US_TASK_0172359819__varname189102614214017">password</span></i> | </span><strong><span id="EN-US_TASK_0172359819__cmdparmname1953438083214017">irreversible-cipher</span></strong> <i><span class="varname" id="EN-US_TASK_0172359819__varname200280895214017">irreversible-cipher-password</span></i> ] command.</p>
<ul id="EN-US_TASK_0172359819__ul420873765214017"><li id="EN-US_TASK_0172359819__en-us_task_0172359738_li1795861027214017"><p id="EN-US_TASK_0172359819__en-us_task_0172359738_p_3"><a name="EN-US_TASK_0172359819__en-us_task_0172359738_li1795861027214017"></a><a name="en-us_task_0172359738_li1795861027214017"></a>If <span><strong><span id="EN-US_TASK_0172359819__en-us_task_0172359738_cmdparmname2039532054214017">cipher</span></strong> or </span><strong><span id="EN-US_TASK_0172359819__en-us_task_0172359738_cmdparmname1696013664214017">irreversible-cipher</span></strong> is not specified, a password is entered in man-machine interaction mode and the system does not display the entered password.</p>
<div class="p" id="EN-US_TASK_0172359819__en-us_task_0172359738_p617389544214535"><span><span>When the user security policy is configured, the value is a string of 8 to 128 case-sensitive characters without spaces. When the user security policy is not configured, the value is a string of 1 to 128 case-sensitive characters without spaces.</span></span> <span>When the user security policy is configured, the password cannot be the same as the user name or its reverse. The password must contain the following characters: upper-case character, lower-case character, digit, and special character.</span><div class="note" id="EN-US_TASK_0172359819__en-us_task_0172359738_note1869949771214017"><span class="notetitle"> NOTE: </span><div class="notebody"><div class="p" id="EN-US_TASK_0172359819__en-us_task_0172359738_p_2">Special characters do not include question marks (?) or spaces. However, when double quotation marks are used around a password, spaces are allowed in the password.<ul id="EN-US_TASK_0172359819__en-us_task_0172359738_ul440198930214017"><li id="EN-US_TASK_0172359819__en-us_task_0172359738_li1278157499214017">Double quotation marks cannot contain double quotation marks if spaces are used in a password.</li><li id="EN-US_TASK_0172359819__en-us_task_0172359738_li1820836051214017">Double quotation marks can contain double quotation marks if no space is used in a password.</li></ul>
</div>
<p id="EN-US_TASK_0172359819__en-us_task_0172359738_p_6">For example, the password "Aa123"45"" is valid, but the password "Aa 123"45"" is invalid.</p>
</div></div>
</div>
</li><li id="EN-US_TASK_0172359819__en-us_task_0172359738_li_1"><p id="EN-US_TASK_0172359819__en-us_task_0172359738_p448384893214017"><a name="EN-US_TASK_0172359819__en-us_task_0172359738_li_1"></a><a name="en-us_task_0172359738_li_1"></a>If <strong><span id="EN-US_TASK_0172359819__en-us_task_0172359738_cmdparmname133208978214017">cipher</span></strong> is specified, a password can be entered in either simple text or cipher text.</p>
<p id="EN-US_TASK_0172359819__en-us_task_0172359738_p1591201830214017">If a password is entered in simple text, the password requirements are the same as those when <strong><span id="EN-US_TASK_0172359819__en-us_task_0172359738_cmdparmname445728327214017">cipher</span></strong> is not specified. When you input a password in simple text, the system displays the password in simple text mode, which brings risks.</p>
<p id="EN-US_TASK_0172359819__en-us_task_0172359738_p288381559214017">A password is displayed in cipher text in the configuration file regardless of whether it is entered in simple text or cipher text.</p>
</li><li id="EN-US_TASK_0172359819__en-us_task_0172359738_li_3"><p id="EN-US_TASK_0172359819__en-us_task_0172359738_p171025542214017"><a name="EN-US_TASK_0172359819__en-us_task_0172359738_li_3"></a><a name="en-us_task_0172359738_li_3"></a>If <strong><span id="EN-US_TASK_0172359819__en-us_task_0172359738_cmdparmname1096647271214017">irreversible-cipher</span></strong> is specified, a password can be entered in either simple text or irreversible cipher text.</p>
<p id="EN-US_TASK_0172359819__en-us_task_0172359738_p1155902225214017">If a password is entered in simple text, the password requirements are the same as those when <strong><span id="EN-US_TASK_0172359819__en-us_task_0172359738_cmdparmname2117986838214017">irreversible-cipher</span></strong> is not specified.</p>
<p id="EN-US_TASK_0172359819__en-us_task_0172359738_p283102005214017">A password is displayed in cipher text in the configuration file regardless of whether it is entered in simple text or irreversible cipher text.</p>
</li></ul>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row1731433813214017"><td class="cellrowborder" valign="top" width="19.5%" headers="mcps1.4.3.2.3.3.2.3.1.1 "><p id="EN-US_TASK_0172359819__p281835561214017">Set the local user's access type to SSH.</p>
</td>
<td class="cellrowborder" valign="top" width="80.5%" headers="mcps1.4.3.2.3.3.2.3.1.2 "><p id="EN-US_TASK_0172359819__p501156839214017">Run the <a href="cmdqueryname=local-user"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname246704797214017">local-user</span></b></a> <i><span class="varname" id="EN-US_TASK_0172359819__varname170480495214301">user-name</span></i> <strong><span id="EN-US_TASK_0172359819__cmdparmname756867192214301">service-type</span></strong> <strong><span id="EN-US_TASK_0172359819__cmdparmname1009338950214301">ssh</span></strong> command.</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row1433685925214017"><td class="cellrowborder" valign="top" width="19.5%" headers="mcps1.4.3.2.3.3.2.3.1.1 "><p id="EN-US_TASK_0172359819__p614414920214017">Exit the AAA view and return to the system view.</p>
</td>
<td class="cellrowborder" valign="top" width="80.5%" headers="mcps1.4.3.2.3.3.2.3.1.2 "><p id="EN-US_TASK_0172359819__p244245212214017">Run the <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname2042340110214017">quit</span></b></a> command.</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li id="EN-US_TASK_0172359819__step_3"><span id="EN-US_TASK_0172359819__cmd1958523213214017">Perform any of the operations listed in <a href="#EN-US_TASK_0172359819__tab_dc_vrp_basic_cfg_004002">Table 4</a> based on the SSH user authentication mode to be configured.</span><p>
<div class="tableBorder"><a name="EN-US_TASK_0172359819__tab_dc_vrp_basic_cfg_004002"></a><a name="tab_dc_vrp_basic_cfg_004002"></a><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_TASK_0172359819__tab_dc_vrp_basic_cfg_004002" frame="border" border="1" rules="all"><caption><b>Table 4 </b>Configuring an SSH user authentication mode</caption><thead align="left"><tr id="EN-US_TASK_0172359819__row2094743715214017"><th align="left" class="cellrowborder" valign="top" width="21.85%" id="mcps1.4.3.3.2.1.2.4.1.1" liSelected="liSelected"><p id="EN-US_TASK_0172359819__p1478748342214017">Item</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="40.07%" id="mcps1.4.3.3.2.1.2.4.1.2" liSelected="liSelected"><p id="EN-US_TASK_0172359819__p300394102214017">Operation</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="38.080000000000005%" id="mcps1.4.3.3.2.1.2.4.1.3" liSelected="liSelected"><p id="EN-US_TASK_0172359819__p1098064398214017">Remarks</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_TASK_0172359819__row392346866214017"><td class="cellrowborder" valign="top" width="21.85%" headers="mcps1.4.3.3.2.1.2.4.1.1 "><p id="EN-US_TASK_0172359819__p206462358214017">Configure password authentication.</p>
</td>
<td class="cellrowborder" valign="top" width="40.07%" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p1576094975214017">Run the <a href="cmdqueryname=ssh+user"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname1965074013214017">ssh user</span></b></a> <i><span class="varname" id="EN-US_TASK_0172359819__varname188100395400">user-name</span></i> <strong><span id="EN-US_TASK_0172359819__cmdparmname88101839184010">authentication-type</span></strong> <strong><span id="EN-US_TASK_0172359819__cmdparmname6810143916406">password</span></strong> command.</p>
</td>
<td class="cellrowborder" valign="top" width="38.080000000000005%" headers="mcps1.4.3.3.2.1.2.4.1.3 "><p id="EN-US_TASK_0172359819__p749386067214017">If local or HWTACACS authentication is used and only a few users need to be authenticated, use password authentication.</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row1054725440214017"><td class="cellrowborder" rowspan="7" valign="top" width="21.85%" headers="mcps1.4.3.3.2.1.2.4.1.1 "><p id="EN-US_TASK_0172359819__p1972459835214017">Configure RSA authentication.</p>
</td>
<td class="cellrowborder" valign="top" width="40.07%" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p1152028369214017">1. Run the <a href="cmdqueryname=ssh+user"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname1151994720214017">ssh user</span></b></a> <i><span class="varname" id="EN-US_TASK_0172359819__varname1229599933214017">user-name</span></i> <strong><span id="EN-US_TASK_0172359819__cmdparmname1171358418214017">authentication-type</span></strong> <strong><span id="EN-US_TASK_0172359819__cmdparmname1801211376214017">rsa</span></strong> command to configure RSA authentication.</p>
</td>
<td class="cellrowborder" valign="top" width="38.080000000000005%" headers="mcps1.4.3.3.2.1.2.4.1.3 "><p id="EN-US_TASK_0172359819__p1689837704214017">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row1865773837214017"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__id_8">2. Run the <a href="cmdqueryname=rsa+peer-public-key"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname1662996126214017">rsa peer-public-key</span></b></a> <i><span class="varname" id="EN-US_TASK_0172359819__varname1278444417214017">key-name</span></i> <strong><span id="EN-US_TASK_0172359819__cmdparmname1322262406214017">encoding-type</span></strong> <i><span class="varname" id="EN-US_TASK_0172359819__varname19212717193313">enc-type</span></i> command to enter the RSA public key view.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.3 "><p id="EN-US_TASK_0172359819__p99941958214017">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row475426740214017"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p124198195214017">3. Run the <a href="cmdqueryname=public-key-code+begin"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname1850430070214017">public-key-code begin</span></b></a> command to enter the public key edit view.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.3 "><p id="EN-US_TASK_0172359819__p898307248214017">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row1724409345214017"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p1556606119214017">4. Enter <em id="EN-US_TASK_0172359819__i1750763017405">hex-data</em> to edit the public key.</p>
<div class="note" id="EN-US_TASK_0172359819__note1628884243214017"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TASK_0172359819__p535940145214017">Before editing the public key, you need to use the SSH client software to generate the RSA key pair on the SSH client. The following uses the PuTTYGen.exe software as an example. For the configuration procedure, see Step 1 in <a href="dc_vrp_basic_cfg_0135.html">Using STelnet to Log In to a Server</a>. Copy all the public keys generated in Step 1.c here.</p>
<p id="EN-US_TASK_0172359819__p1009161400214017">When editing the public key generated by PuTTY, set the encoding mode in Step 2 to <strong><span id="EN-US_TASK_0172359819__cmdparmname1542313294424">openssh</span></strong> through the <a href="cmdqueryname=rsa+peer-public-key"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname388688243214017">rsa peer-public-key</span></b></a> <i><span class="varname" id="EN-US_TASK_0172359819__varname183473204214017">key-name</span></i> <strong><span id="EN-US_TASK_0172359819__cmdparmname907473029214017">encoding-type</span></strong> <strong><span id="EN-US_TASK_0172359819__cmdparmname989662967214017">openssh</span></strong> command.</p>
</div></div>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.3 "><div class="p" id="EN-US_TASK_0172359819__p1927840722214017"><ul id="EN-US_TASK_0172359819__ul2133232365214017"><li id="EN-US_TASK_0172359819__li1905924983214017">In the public key edit view, the public key must be a hexadecimal string in the public key format. This key is randomly generated by the SSH client software. For detailed operations, see the help document for the SSH client software.</li><li id="EN-US_TASK_0172359819__li1845285939214017">After entering the public key edit view, you can send the RSA public key generated on the SSH client to the SSH server. Specifically, copy and paste the RSA public key to the device functioning as the SSH server.</li></ul>
</div>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row2054176793214017"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p1117389590214017">5. Run the <a href="cmdqueryname=public-key-code+end"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname349609025214017">public-key-code end</span></b></a> command to exit the public key edit view.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.3 "><p id="EN-US_TASK_0172359819__p909699852214017">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row280337437214017"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p875560928214017">6. Run the <a href="cmdqueryname=peer-public-key+end"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname1833302563214017">peer-public-key end</span></b></a> command to exit the public key view and return to the system view.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.3 "><div class="p" id="EN-US_TASK_0172359819__p1782753563214017"><ul id="EN-US_TASK_0172359819__ul1047290397214017"><li id="EN-US_TASK_0172359819__li783742339214017">A public key can be generated only after a valid <em id="EN-US_TASK_0172359819__i138461154183519">hex-data</em> complying with the public key format is entered and the <a href="cmdqueryname=peer-public-key+end"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname1700767990214017">peer-public-key end</span></b></a> command is run.</li><li id="EN-US_TASK_0172359819__li2114583506214017">If you run the <a href="cmdqueryname=peer-public-key+end"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname1651327216214017">peer-public-key end</span></b></a> command after <i><span class="varname" id="EN-US_TASK_0172359819__varname12645422133612">key-name</span></i> specified in Step 2 is deleted in another view, the system displays a message, indicating that the key does not exist. The system then returns to the system view.</li></ul>
</div>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row1238648591214017"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p1479570994214017">7. Run the <a href="cmdqueryname=ssh+user"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname2043429241214017">ssh user</span></b></a> <i><span class="varname" id="EN-US_TASK_0172359819__varname12640950143612">user-name</span></i> <strong><span id="EN-US_TASK_0172359819__span1664095083610">assign</span></strong> <strong><span id="EN-US_TASK_0172359819__span26407506368">rsa-key</span></strong> <i><span class="varname" id="EN-US_TASK_0172359819__varname136402505362">key-name</span></i> command to allocate an RSA public key to the SSH user.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.3 "><p id="EN-US_TASK_0172359819__p1079275235214017">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row1963791614214017"><td class="cellrowborder" rowspan="7" valign="top" width="21.85%" headers="mcps1.4.3.3.2.1.2.4.1.1 "><p id="EN-US_TASK_0172359819__p473250257214017">Configure DSA authentication.</p>
</td>
<td class="cellrowborder" valign="top" width="40.07%" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p1730563182214017">1. Run the <a href="cmdqueryname=ssh+user"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname434392227214017">ssh user</span></b></a> <i><span class="varname" id="EN-US_TASK_0172359819__varname1377295105214017">user-name</span></i> <strong><span id="EN-US_TASK_0172359819__cmdparmname1226572048214017">authentication-type</span></strong> <strong><span id="EN-US_TASK_0172359819__cmdparmname1126273055214017">dsa</span></strong> command to configure DSA authentication.</p>
</td>
<td class="cellrowborder" valign="top" width="38.080000000000005%" headers="mcps1.4.3.3.2.1.2.4.1.3 "><p id="EN-US_TASK_0172359819__p180633702214017">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row541425779214017"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__id_9">2. Run the <a href="cmdqueryname=dsa+peer-public-key"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname1162994818214017">dsa peer-public-key</span></b></a> <i><span class="varname" id="EN-US_TASK_0172359819__varname356576836214017">key-name</span></i> <strong><span id="EN-US_TASK_0172359819__cmdparmname113957343214017">encoding-type</span></strong> <i><span class="varname" id="EN-US_TASK_0172359819__varname1647372515332">enc-type</span></i> command to enter the DSA public key view.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.3 "><p id="EN-US_TASK_0172359819__p1841707391214017">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row1817934239214017"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p835322905214017">3. Run the <a href="cmdqueryname=public-key-code+begin"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname663624376214017">public-key-code begin</span></b></a> command to enter the public key edit view.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.3 "><p id="EN-US_TASK_0172359819__p1032713405214017">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row949970557214017"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p1713219885214017">4. Enter <em id="EN-US_TASK_0172359819__i17281925174720">hex-data</em> to edit the public key.</p>
<div class="note" id="EN-US_TASK_0172359819__note453214075214017"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TASK_0172359819__p44462616214017">Before editing a public key, use the SSH client software to generate a DSA key pair on the SSH client. The following uses the PuTTYGen.exe software as an example to describe how to generate an RSA key pair. For the configuration procedure, see Step 1 in <a href="dc_vrp_basic_cfg_0135.html">Using STelnet to Log In to a Server</a>. Copy all the public keys generated in Step 1.c here.</p>
<p id="EN-US_TASK_0172359819__p202804305214017">When editing the public key generated by PuTTY, set the encoding mode in Step 2 to <strong><span id="EN-US_TASK_0172359819__span756215817453">openssh</span></strong> through the <a href="cmdqueryname=dsa+peer-public-key"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname666031267214017">dsa peer-public-key</span></b></a> <i><span class="varname" id="EN-US_TASK_0172359819__varname105629815452">key-name</span></i> <strong><span id="EN-US_TASK_0172359819__span1556219816455">encoding-type</span></strong> <strong><span id="EN-US_TASK_0172359819__span956217854516">openssh</span></strong> command.</p>
</div></div>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.3 "><div class="p" id="EN-US_TASK_0172359819__p1240105632214017"><ul id="EN-US_TASK_0172359819__ul1126562889214017"><li id="EN-US_TASK_0172359819__li1338387631214017">In the public key edit view, the public key must be a hexadecimal string in the public key format. This key is randomly generated by the SSH client software. For detailed operations, see the help document for the SSH client software.</li><li id="EN-US_TASK_0172359819__li308383464214017">After entering the public key edit view, you can send the DSA public key generated on the SSH client to the SSH server. Specifically, copy and paste the DSA public key to the device functioning as the SSH server.</li></ul>
</div>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row384131438214017"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p2094293548214017">5. Run the <a href="cmdqueryname=public-key-code+end"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname56745025214017">public-key-code end</span></b></a> command to exit the public key edit view.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.3 "><p id="EN-US_TASK_0172359819__p442670420214017">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row1141620998214017"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p39525260214017">6. Run the <a href="cmdqueryname=peer-public-key+end"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname593099685214017">peer-public-key end</span></b></a> command to exit the public key view and return to the system view.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.3 "><div class="p" id="EN-US_TASK_0172359819__p1476347290214017"><ul id="EN-US_TASK_0172359819__ul942845592214017"><li id="EN-US_TASK_0172359819__li1572417927214017">A public key can be generated only after a valid <em id="EN-US_TASK_0172359819__i4849254163510">hex-data</em> complying with the public key format is entered and the <a href="cmdqueryname=peer-public-key+end"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname54030625214017">peer-public-key end</span></b></a> command is run.</li><li id="EN-US_TASK_0172359819__li610221259214017">If you run the <a href="cmdqueryname=peer-public-key+end"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname789427452214017">peer-public-key end</span></b></a> command after <i><span class="varname" id="EN-US_TASK_0172359819__varname18647722113616">key-name</span></i> specified in Step 2 is deleted in another view, the system displays a message, indicating that the key does not exist. The system then returns to the system view.</li></ul>
</div>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row1191805320214017"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p1744518386214017">7. Run the <a href="cmdqueryname=ssh+user"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname1867293531214017">ssh user</span></b></a> <i><span class="varname" id="EN-US_TASK_0172359819__varname1961992373716">user-name</span></i> <strong><span id="EN-US_TASK_0172359819__span261912238376">assign</span></strong> <strong><span id="EN-US_TASK_0172359819__span176208235375">dsa-key</span></strong> <i><span class="varname" id="EN-US_TASK_0172359819__varname162022315372">key-name</span></i> command to allocate a DSA public key to the SSH user.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.3 "><p id="EN-US_TASK_0172359819__p476889396214017">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row833855120214017"><td class="cellrowborder" rowspan="7" valign="top" width="21.85%" headers="mcps1.4.3.3.2.1.2.4.1.1 "><p id="EN-US_TASK_0172359819__p1313353958214017">Configure ECC authentication.</p>
</td>
<td class="cellrowborder" valign="top" width="40.07%" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p212352362214017">1. Run the <a href="cmdqueryname=ssh+user"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname9571218214017">ssh user</span></b></a> <i><span class="varname" id="EN-US_TASK_0172359819__varname559825153214017">user-name</span></i> <strong><span id="EN-US_TASK_0172359819__cmdparmname226449514214017">authentication-type</span></strong> <strong><span id="EN-US_TASK_0172359819__cmdparmname2119305843214017">ecc</span></strong> command to configure ECC authentication.</p>
</td>
<td class="cellrowborder" valign="top" width="38.080000000000005%" headers="mcps1.4.3.3.2.1.2.4.1.3 "><p id="EN-US_TASK_0172359819__p443623797214017">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row39581315214017"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__id_10">2. Run the <a href="cmdqueryname=ecc+peer-public-key"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname3975135712339">ecc peer-public-key</span></b></a> <i><span class="varname" id="EN-US_TASK_0172359819__varname119754578337">key-name</span></i> [ <strong><span id="EN-US_TASK_0172359819__cmdparmname18975195714332">encoding-type</span></strong> <i><span class="varname" id="EN-US_TASK_0172359819__varname89751157113317">enc-type</span></i> ] command to enter the ECC public key view.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.3 "><p id="EN-US_TASK_0172359819__p506355894214017">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row1252661793214017"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p1505757590214017">3. Run the <a href="cmdqueryname=public-key-code+begin"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname1864841676214017">public-key-code begin</span></b></a> command to enter the public key edit view.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.3 "><p id="EN-US_TASK_0172359819__p2004889771214017">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row2063998139214017"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p1780358381214017">4. Enter <em id="EN-US_TASK_0172359819__i135591235510">hex-data</em> to edit the public key.</p>
<div class="note" id="EN-US_TASK_0172359819__note534663778214017"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TASK_0172359819__p1022537798214017">Before editing a public key, use the SSH client software to generate an ECC key pair on the SSH client. The following uses the PuTTYGen.exe software as an example to describe how to generate an RSA key pair. For the configuration procedure, see Step 1 in <a href="dc_vrp_basic_cfg_0135.html">Using STelnet to Log In to a Server</a>. Copy all the public keys generated in Step 1.c here.</p>
<p id="EN-US_TASK_0172359819__p1696475001214017">When editing the public key generated by PuTTY, set the encoding mode in Step 2 to <strong><span id="EN-US_TASK_0172359819__span15601148164019">openssh</span></strong> through the <a href="cmdqueryname=ecc+peer-public-key"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname1334826477214017">ecc peer-public-key</span></b></a> <i><span class="varname" id="EN-US_TASK_0172359819__varname195601481402">key-name</span></i> <strong><span id="EN-US_TASK_0172359819__span145601948154012">encoding-type</span></strong> <strong><span id="EN-US_TASK_0172359819__span1956010486406">openssh</span></strong> command.</p>
</div></div>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.3 "><div class="p" id="EN-US_TASK_0172359819__p1069073138214017"><ul id="EN-US_TASK_0172359819__ul2064039564214017"><li id="EN-US_TASK_0172359819__li1908136330214017">In the public key edit view, the public key must be a hexadecimal string in the public key format. This key is randomly generated by the SSH client software. For detailed operations, see the help document for the SSH client software.</li><li id="EN-US_TASK_0172359819__li905590088214017">After entering the public key edit view, you can send the ECC public key generated on the SSH client to the SSH server. Specifically, copy and paste the ECC public key to the device functioning as the SSH server.</li></ul>
</div>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row883911177214017"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p1479350038214017">5. Run the <a href="cmdqueryname=public-key-code+end"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname1907027605214017">public-key-code end</span></b></a> command to exit the public key edit view.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.3 "><p id="EN-US_TASK_0172359819__p1684905934214017">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row1949276356214017"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p48404905214017">6. Run the <a href="cmdqueryname=peer-public-key+end"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname298457467214017">peer-public-key end</span></b></a> command to exit the public key view and return to the system view.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.3 "><div class="p" id="EN-US_TASK_0172359819__p383591390214017"><ul id="EN-US_TASK_0172359819__ul274583436214017"><li id="EN-US_TASK_0172359819__li1787115805214017">A public key can be generated only after a valid <em id="EN-US_TASK_0172359819__i1285285433517">hex-data</em> complying with the public key format is entered and the <a href="cmdqueryname=peer-public-key+end"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname784851400214017">peer-public-key end</span></b></a> command is run.</li><li id="EN-US_TASK_0172359819__li322775094214017">If you run the <a href="cmdqueryname=peer-public-key+end"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname291699655214017">peer-public-key end</span></b></a> command after <i><span class="varname" id="EN-US_TASK_0172359819__varname36481822103616">key-name</span></i> specified in Step 2 is deleted in another view, the system displays a message, indicating that the key does not exist. The system then returns to the system view.</li></ul>
</div>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row238337767214017"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p483784596214017">7. Run the <a href="cmdqueryname=ssh+user"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname1493736519214017">ssh user</span></b></a> <i><span class="varname" id="EN-US_TASK_0172359819__varname1532191726214017">user-name</span></i> <strong><span id="EN-US_TASK_0172359819__cmdparmname1693922364214017">assign</span></strong> <strong><span id="EN-US_TASK_0172359819__cmdparmname1339154381214017">ecc-key</span></strong> <i><span class="varname" id="EN-US_TASK_0172359819__varname1126130294214017">key-name</span></i> command to allocate an ECC public key to the SSH user.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.3 "><p id="EN-US_TASK_0172359819__p1504385145214017">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row467995495214017"><td class="cellrowborder" rowspan="8" valign="top" width="21.85%" headers="mcps1.4.3.3.2.1.2.4.1.1 "><p id="EN-US_TASK_0172359819__p1686416893214017">Configure SM2 authentication.</p>
</td>
<td class="cellrowborder" valign="top" width="40.07%" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p971486084214017">1. Run the <a href="cmdqueryname=ssh+server+publickey"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname1505871806214017">ssh server publickey</span></b></a> <strong><span id="EN-US_TASK_0172359819__cmdparmname337254941214017">sm2</span></strong> command to enable the public key algorithm for the SSH server.</p>
</td>
<td class="cellrowborder" valign="top" width="38.080000000000005%" headers="mcps1.4.3.3.2.1.2.4.1.3 "><p id="EN-US_TASK_0172359819__p472820329214017">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row1017140510214017"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p1666813276214017">2. Run the <a href="cmdqueryname=ssh+user"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname1229874367214017">ssh user</span></b></a> <i><span class="varname" id="EN-US_TASK_0172359819__varname722515592214017">user-name</span></i> <strong><span id="EN-US_TASK_0172359819__cmdparmname1469083194214017">authentication-type</span></strong> <strong><span id="EN-US_TASK_0172359819__cmdparmname287072402214017">sm2</span></strong> command to configure SM2 authentication.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.3 "><p id="EN-US_TASK_0172359819__p1182867670214017">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row1918740296214017"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p1219069395214017">3. Run the <a href="cmdqueryname=sm2+peer-public-key"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname1742313278214017">sm2 peer-public-key</span></b></a> <i><span class="varname" id="EN-US_TASK_0172359819__varname1691947599214017">key-name</span></i> command to enter the SM2 public key view.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.3 "><p id="EN-US_TASK_0172359819__p13912154318517">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row1856683343214017"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p1292068734214017">4. Run the <a href="cmdqueryname=public-key-code+begin"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname857492405214017">public-key-code begin</span></b></a> command to enter the public key edit view.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.3 "><p id="EN-US_TASK_0172359819__p1532802877214017">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row1607805139214017"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p173785507214017">5. Enter <em id="EN-US_TASK_0172359819__i119431822583">hex-data</em> to edit the public key.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.3 "><div class="p" id="EN-US_TASK_0172359819__p1031769024214017"><ul id="EN-US_TASK_0172359819__ul11536843214017"><li id="EN-US_TASK_0172359819__li1740266997214017">In the public key edit view, the public key must be a hexadecimal string in the public key format. This key is randomly generated by the SSH client software. For detailed operations, see the help document for the SSH client software.</li><li id="EN-US_TASK_0172359819__li2090721193214017">After entering the public key edit view, you can send the SM2 public key generated on the SSH client to the SSH server. Specifically, copy and paste the SM2 public key to the device functioning as the SSH server.</li></ul>
</div>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row415934652214017"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p1581705504214017">6. Run the <a href="cmdqueryname=public-key-code+end"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname1052335675214017">public-key-code end</span></b></a> command to exit the public key edit view.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.3 "><p id="EN-US_TASK_0172359819__p859037160214017">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row1634546898214017"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p1087017809214017">7. Run the <a href="cmdqueryname=peer-public-key+end"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname575720495214017">peer-public-key end</span></b></a> command to exit the public key view and return to the system view.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.3 "><div class="p" id="EN-US_TASK_0172359819__p1380223351214017"><ul id="EN-US_TASK_0172359819__ul295505363214017"><li id="EN-US_TASK_0172359819__li1789849100214017">A public key can be generated only after a valid <em id="EN-US_TASK_0172359819__i685595415357">hex-data</em> complying with the public key format is entered and the <a href="cmdqueryname=peer-public-key+end"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname841077880214017">peer-public-key end</span></b></a> command is run.</li><li id="EN-US_TASK_0172359819__li1331214480214017">If you run the <a href="cmdqueryname=peer-public-key+end"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname1959959780214017">peer-public-key end</span></b></a> command after <i><span class="varname" id="EN-US_TASK_0172359819__varname19650122211362">key-name</span></i> specified in Step 2 is deleted in another view, the system displays a message, indicating that the key does not exist. The system then returns to the system view.</li></ul>
</div>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row1427181054214017"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p297033742214017">8. Run the <a href="cmdqueryname=ssh+user"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname916047591214017">ssh user</span></b></a> <i><span class="varname" id="EN-US_TASK_0172359819__varname308247698214017">user-name</span></i> <strong><span id="EN-US_TASK_0172359819__cmdparmname350399107214017">assign</span></strong> <strong><span id="EN-US_TASK_0172359819__cmdparmname304055601214017">sm2-key</span></strong> <i><span class="varname" id="EN-US_TASK_0172359819__varname770537463214017">key-name</span></i> command to allocate an SM2 public key to the SSH user.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.3 "><p id="EN-US_TASK_0172359819__p1041726185214017">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row125101980258"><td class="cellrowborder" rowspan="2" valign="top" width="21.85%" headers="mcps1.4.3.3.2.1.2.4.1.1 "><p id="EN-US_TASK_0172359819__p4572132492518">Configure X509v3-SSH-RSA authentication.</p>
</td>
<td class="cellrowborder" valign="top" width="40.07%" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p19572102414256">1. Run the <a href="cmdqueryname=ssh+user"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname157272472516">ssh user</span></b></a> <i><span class="varname" id="EN-US_TASK_0172359819__varname35722249253">user-name</span></i> <strong><span id="EN-US_TASK_0172359819__cmdparmname457242412511">authentication-type</span></strong> <strong><span id="EN-US_TASK_0172359819__cmdparmname757212248252">x509v3-rsa</span></strong> command to configure X509v3-SSH-RSA authentication.</p>
</td>
<td class="cellrowborder" valign="top" width="38.080000000000005%" headers="mcps1.4.3.3.2.1.2.4.1.3 "><p id="EN-US_TASK_0172359819__p6572624182515">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0172359819__row1599681011255"><td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0172359819__p957232482514">2. Run the <a href="cmdqueryname=ssh+user"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname1757232492518">ssh user</span></b></a> <i><span class="varname" id="EN-US_TASK_0172359819__varname25721324202515">user-name</span></i> <strong><span id="EN-US_TASK_0172359819__cmdparmname15721424162519">assign</span></strong> <strong><span id="EN-US_TASK_0172359819__cmdparmname65721024202515">pki</span></strong> <i><span class="varname" id="EN-US_TASK_0172359819__varname75729245256">pki-name</span></i> command to allocate a PKI certificate to the SSH user.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.3.3.2.1.2.4.1.3 "><p id="EN-US_TASK_0172359819__p76421549175610">-</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li><span>Run <a href="cmdqueryname=ssh+user"><b><span class="cmdname">ssh user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>service-type</span></strong> { <strong><span>stelnet</span></strong> | <strong><span>all</span></strong> }</span><p><p>The service type of the SSH user is configured.</p>
</p><p></p></li><li><span>(Optional) Run <a href="cmdqueryname=ssh+server+rsa-key+min-length"><b><span class="cmdname">ssh server rsa-key min-length</span></b></a> <i><span class="varname">min-length-val</span></i></span><p><p>The minimum length of the RSA public key is specified.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=ssh+user"><b><span class="cmdname">ssh user</span></b></a> <i><span class="varname">user-name</span></i><strong> </strong><a href="cmdqueryname=cert-verify-san+enable"><b><span class="cmdname">cert-verify-san enable</span></b></a></span><p><p>SAN/CN verification is configured for the SSH user.</p>
</p></li><li id="EN-US_TASK_0172359819__step18772164185216"><span id="EN-US_TASK_0172359819__cmd1785858435214017">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172359819__cmdname1023740719214017">commit</span></b></a></span><p><p id="EN-US_TASK_0172359819__p1997316275198">The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_basic_cfg_0037.html">Configuring STelnet Login
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_basic_cfg_0039.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_basic_cfg_0041.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>