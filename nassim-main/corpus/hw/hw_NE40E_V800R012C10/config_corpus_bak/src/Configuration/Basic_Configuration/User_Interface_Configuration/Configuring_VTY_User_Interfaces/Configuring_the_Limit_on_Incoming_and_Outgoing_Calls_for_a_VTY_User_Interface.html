
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring the Limit on Incoming and Outgoing Calls for a VTY User Interface">
<meta name="abstract" content="An access control list (ACL) can be configured to limit incoming and outgoing calls for a VTY user interface.">
<meta name="description" content="An access control list (ACL) can be configured to limit incoming and outgoing calls for a VTY user interface.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_basic_cfg_0013.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_basic_cfg_0014.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_basic_cfg_0016.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="basicvrp,w00800033,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="User Interface">
<meta name="featuretype" content="Basic Configurations">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="User Interface">
<meta name="featuretype" content="Basic Configurations">
<meta name="featurename" content="User Interface">
<meta name="featuretype" content="Basic Configurations">
<meta name="featurename" content="User Interface">
<meta name="featuretype" content="Basic Configurations">
<meta name="OWNER" content="lwx1238418">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="lWX1238418">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172359742">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring the Limit on Incoming and Outgoing Calls for a VTY User Interface</title>
</head>
<body><a name="EN-US_TASK_0172359742"></a><a name="EN-US_TASK_0172359742"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring the Limit on <span>Incoming and </span>Outgoing Calls for a VTY User Interface</h1>
<div class="taskbody"><p>An access control list (ACL) can be configured to limit <span>incoming and </span>outgoing calls for a VTY user interface.</p>
<div class="context"><a name="EN-US_TASK_0172359742__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p">An ACL can be configured to either allow or deny Telnet connections based on source or destination IP addresses:<ul><li>A basic ACL, with its number ranging from 2000 to 2999, controls Telnet connections based on source IP addresses.</li><li>An advanced ACL, with its number ranging from 3000 to 3999, controls Telnet connections based on both source and destination IP addresses.</li></ul>
</div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172359742__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Compared to a basic ACL that filters packets based on source addresses, an advanced ACL supports richer filtering rules: not based only on packet source addresses but also based on packet destination address or priorities. Run either of the following commands:</span><p><ul><li><p>For a basic ACL:</p>
<p>To enter the ACL view, run the <span><a href="cmdqueryname=acl"><b><span class="cmdname">acl</span></b></a> { <strong><span>name</span></strong> <i><span class="varname">basic-acl-name</span></i> { <strong><span>basic</span></strong> | [ <strong><span>basic</span></strong> ] <strong><span>number</span></strong> <i><span class="varname">basic-acl-number</span></i> } | [ <strong><span>number</span></strong> ] <i><span class="varname">basic-acl-number</span></i> } [ <strong><span>match-order</span></strong> { <strong><span>config</span></strong> | <strong><span>auto</span></strong> } ]</span> command.</p>
<p>To enter the ACL6 view, run the <span><a href="cmdqueryname=acl+ipv6"><b><span class="cmdname">acl ipv6</span></b></a> { <strong><span>name</span></strong> <i><span class="varname">basic-acl6-name</span></i> <strong><span>basic</span></strong> | [ <strong><span>number</span></strong> ] <i><span class="varname">basic-acl6-number</span></i> } [ <strong><span>match-order</span></strong> { <strong><span>config</span></strong> | <strong><span>auto</span></strong> } ]</span> command.</p>
</li><li><p>For an advanced ACL:</p>
<p>To enter the ACL view, run the <span><a href="cmdqueryname=acl"><b><span class="cmdname">acl</span></b></a> { <strong><span>name</span></strong> <i><span class="varname">advance-acl-name</span></i> [ <strong><span>advance</span></strong> | [ <strong><span>advance</span></strong> ] <strong><span>number</span></strong> <i><span class="varname">advance-acl-number</span></i> ] | [ <strong><span>number</span></strong> ] <i><span class="varname">advance-acl-number</span></i> } [ <strong><span>match-order</span></strong> { <strong><span>config</span></strong> | <strong><span>auto</span></strong> } ]</span> command.</p>
<p>To enter the ACL6 view, run the <span><a href="cmdqueryname=acl+ipv6"><b><span class="cmdname">acl ipv6</span></b></a> { <strong><span>name</span></strong> <i><span class="varname">advance-acl6-name</span></i> [ <strong><span>advance</span></strong> | [ <strong><span>advance</span></strong> ] <strong><span>number</span></strong> <i><span class="varname">advance-acl6-number</span></i> ] | [ <strong><span>number</span></strong> ] <i><span class="varname">advance-acl6-number</span></i> } [ <strong><span>match-order</span></strong> { <strong><span>config</span></strong> | <strong><span>auto</span></strong> } ]</span> command.</p>
</li></ul>
<p>The user interface supports the basic ACL ranging from 2000 to 2999 and the advanced ACL ranging from 3000 to 3999.</p>
</p></li><li><span>Run either of the following commands:</span><p><ul><li><p>For a basic ACL:</p>
<p>To configure a basic ACL rule, run the <span><a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a> [ <i><span class="varname">rule-id</span></i> ] [ <strong><span>name</span></strong> <i><span class="varname">rule-name</span></i> ] { <strong><span>deny</span></strong> | <strong><span>permit</span></strong> } [ <strong><span>fragment-type</span></strong> { <strong><span>fragment</span></strong> | <strong><span>non-fragment</span></strong> | <strong><span>non-subseq</span></strong> | <strong><span>fragment-subseq</span></strong> | <strong><span>fragment-spe-first</span></strong> } | <strong><span>source</span></strong> { <i><span class="varname">source-ip-address</span></i> { <i><span class="varname">source-wildcard</span></i> | <strong><span>0</span></strong><span> | <i><span class="varname">src-netmask</span></i></span> } | <strong><span>any</span></strong> } | <strong><span>time-range</span></strong> <i><span class="varname">time-name</span></i> | [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> | <strong><span>vpn-instance-any</span></strong> ] ] <sup>*</sup></span> command.</p>
<p>To configure a basic ACL6 rule, run the <span><a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a> [ <i><span class="varname">rule-id</span></i> ] [ <strong><span>name</span></strong> <i><span class="varname">rule-name</span></i> ] { <strong><span>deny</span></strong> | <strong><span>permit</span></strong> } [ <strong><span>fragment</span></strong> | <strong><span>source</span></strong> { <i><span class="varname">source-ipv6-address</span></i> <span>{ </span><i><span class="varname">prefix-length</span></i><span> | <i><span class="varname">source-wildcard</span></i> }</span> | <i><span class="varname">source-ipv6-address</span></i>/<i><span class="varname">prefix-length</span></i> | <strong><span>any</span></strong> } | <strong><span>time-range</span></strong> <i><span class="varname">time-name</span></i> | <span>[ </span><strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i><span> | <strong><span>vpn-instance-any</span></strong> ]</span> ] <sup>*</sup></span> command.</p>
</li><li><p>For an advanced ACL:</p>
<p>To configure an advanced ACL rule, run the <span><a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a> [ <i><span class="varname">rule-id</span></i> ] [ <strong><span>name</span></strong> <i><span class="varname">rule-name</span></i> ] { <strong><span>deny</span></strong> | <strong><span>permit</span></strong> } { <i><span class="varname">protocol</span></i> | <strong><span>gre</span></strong> | <strong><span>ip</span></strong> | <strong><span>ipinip</span></strong> | <strong><span>igmp</span></strong> | <strong><span>ospf</span></strong> } [ [ <strong><span>dscp</span></strong> <i><span class="varname">dscp</span></i> | [ <strong><span>precedence</span></strong> <i><span class="varname">precedence</span></i> | <strong><span>tos</span></strong> <i><span class="varname">tos</span></i> ] <sup>*</sup> ] | { <strong><span>destination</span></strong> { <i><span class="varname">destination-ip-address</span></i> { <i><span class="varname">destination-wildcard</span></i> | <strong><span>0</span></strong> | <i><span class="varname">des-netmask</span></i> } | <strong><span>any</span></strong> } | <strong><span>destination-pool</span></strong> <i><span class="varname">destination-pool-name</span></i> } | <strong><span>fragment-type</span></strong> { <strong><span>fragment</span></strong> | <strong><span>non-fragment</span></strong> | <strong><span>non-subseq</span></strong> | <strong><span>fragment-subseq</span></strong> | <strong><span>fragment-spe-first</span></strong> } | { <strong><span>source</span></strong> { <i><span class="varname">source-ip-address</span></i> { <i><span class="varname">source-wildcard</span></i> | <strong><span>0</span></strong> | <i><span class="varname">src-netmask</span></i> } | <strong><span>any</span></strong> } | <strong><span>source-pool</span></strong> <i><span class="varname">source-pool-name</span></i> } | <strong><span>time-range</span></strong> <i><span class="varname">time-name</span></i> | [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> | <strong><span>vpn-instance-any</span></strong> ] | <strong><span>ttl</span></strong> <i><span class="varname">ttl-operation</span></i> <i><span class="varname">ttl-value</span></i> <span>| <strong><span>packet-length</span></strong> <i><span class="varname">length-operation</span></i> <i><span class="varname">length-value</span></i> </span>] <sup>*</sup></span> command.</p>
<p>To configure an advanced ACL6 rule, run the <a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a> [ <i><span class="varname">rule-id</span></i> ] [ <strong><span>name</span></strong> <i><span class="varname">rule-name</span></i> ] { <strong><span>permit</span></strong> | <strong><span>deny</span></strong> } { <strong><span>hoport</span></strong> [ <strong><span>option-code</span></strong> <i><span class="varname">option-value</span></i> ] | <strong><span>1</span></strong> | <strong><span>5</span></strong> | <i><span class="varname">protocol</span></i> | <strong><span>gre</span></strong> | <strong><span>ipv6</span></strong> | <strong><span>ipv6-frag</span></strong> | <strong><span>ipv6-ah</span></strong> | <strong><span>ipv6-esp</span></strong> | <strong><span>ospf</span></strong> | <i><span class="varname">7-16</span></i> | <i><span class="varname">18-42</span></i> | { <i><span class="varname">43</span></i> | <strong><span>ipv6-routing</span></strong> } [ <strong><span>routing-type</span></strong> <i><span class="varname">routing-number</span></i> ] | <i><span class="varname">44-57</span></i> | <i><span class="varname">59</span></i> | { <i><span class="varname">60</span></i> | <strong><span>ipv6-destination</span></strong> } [ <strong><span>option-code</span></strong> <i><span class="varname">option-value</span></i> ] | <i><span class="varname">61-255</span></i> } [ <strong><span>destination</span></strong> { <i><span class="varname">destination-ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> | <i><span class="varname">dest-ipv6-addr-prefix</span></i> | <strong><span>any</span></strong> } | <strong><span>fragment</span></strong> | { <strong><span>source</span></strong> { <i><span class="varname">source-ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> | <i><span class="varname">src-ipv6-addr-prefix</span></i> | <strong><span>any</span></strong> } | <strong><span>source-pool</span></strong> <i><span class="varname">source-pool-name</span></i> } | <strong><span>time-range</span></strong> <i><span class="varname">time-name</span></i> | [ <strong><span>dscp</span></strong> <i><span class="varname">dscp</span></i> | [ <strong><span>precedence</span></strong> { <i><span class="varname">precedence</span></i> | <strong><span>critical</span></strong> | <strong><span>flash</span></strong> | <strong><span>flash-override</span></strong> | <strong><span>immediate</span></strong> | <strong><span>internet</span></strong> | <strong><span>network</span></strong> | <strong><span>priority</span></strong> | <strong><span>routine</span></strong> } | <strong><span>tos</span></strong> { <i><span class="varname">tos</span></i> | <strong><span>max-reliability</span></strong> | <strong><span>max-throughput</span></strong> | <strong><span>min-delay</span></strong> | <strong><span>min-monetary-cost</span></strong> | <strong><span>normal</span></strong> } ] <sup>*</sup> ] | [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> | <strong><span>vpn-instance-any</span></strong> ] ] <sup>*</sup> command.</p>
</li></ul>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li><p>By default, the deny action in an ACL rule is taken for all the login user packets. Only users whose source IP addresses match the ACL rule with a permit action can log in to the device.</p>
<div class="p">In the following example, two rules are configured to prohibit users with the IP address 10.1.1.10 from logging in to the device whereas allowing the other users to log in to the device:<ul><li><strong>rule deny source 10.1.1.10 0</strong></li><li><strong>rule permit source any</strong></li></ul>
If the <strong>rule permit source any</strong> command is not configured, users whose source IP addresses are not 10.1.1.10 will also be prohibited from logging in to the device.</div>
</li><li><p>If a user's source IP address does not match the ACL rule that allows login, the user is prohibited from logging in to the device.</p>
</li><li><p>If the ACL referenced by VTY does not contain any rules or does not exist, any user can log in to the device.</p>
</li></ul>
</div></div>
</p></li><li><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=user-interface"><b><span class="cmdname">user-interface</span></b></a> <strong><span>vty</span></strong> <i><span class="varname">first-ui-number</span></i> [ <i><span class="varname">last-ui-number</span></i> ]</span><p><p>One or more VTY user interface views are displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=acl"><b><span class="cmdname">acl</span></b></a><span> [ <strong><span>ipv6</span></strong> ]</span> { <i><span class="varname">acl-number</span></i> | <i><span class="varname">acl-name</span></i> }{ <span><strong><span>inbound</span></strong> | </span><strong><span>outbound</span></strong> }</span><p><p>The limit on <span>incoming and </span>outgoing calls is set for the VTY user interfaces.</p>
</p><p><ul><li>To limit the login of users at a specified IP address or within a specified address range to a router, specify <strong><span>inbound</span></strong>.</li><li>To limit the login of online users to other devices, specify <strong><span>outbound</span></strong>.</li></ul>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172359742__en-us_task_0172359735_cmdname1158910251214017">commit</span></b></a></span><p><p id="EN-US_TASK_0172359742__en-us_task_0172359735_p12071952618">The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_basic_cfg_0013.html">Configuring VTY User Interfaces
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_basic_cfg_0014.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_basic_cfg_0016.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>