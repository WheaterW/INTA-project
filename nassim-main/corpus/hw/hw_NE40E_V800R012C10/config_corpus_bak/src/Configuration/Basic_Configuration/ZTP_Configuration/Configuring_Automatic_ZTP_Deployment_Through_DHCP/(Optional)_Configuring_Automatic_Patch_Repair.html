
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring Automatic Patch Repair">
<meta name="abstract" content="You can configure ZTP-based automatic patch repair to resolve a non-environment problem that occurs during automatic ZTP deployment.">
<meta name="description" content="You can configure ZTP-based automatic patch repair to resolve a non-environment problem that occurs during automatic ZTP deployment.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ztp_cfg_0002.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ztp_cfg_0011_01.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ztp_cfg_0003.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="ZTP">
<meta name="featuretype" content="Basic Configurations">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="ZTP">
<meta name="featuretype" content="Basic Configurations">
<meta name="featurename" content="ZTP">
<meta name="featuretype" content="Basic Configurations">
<meta name="featurename" content="ZTP">
<meta name="featuretype" content="Basic Configurations">
<meta name="OWNER" content="lwx1238418">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00799643">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001536587625">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring Automatic Patch Repair</title>
</head>
<body><a name="EN-US_TASK_0000001536587625"></a><a name="EN-US_TASK_0000001536587625"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring Automatic Patch Repair</h1>
<div class="taskbody"><p>You can configure ZTP-based automatic patch repair to resolve a non-environment problem that occurs during automatic ZTP deployment.</p>
<div class="context"><a name="EN-US_TASK_0000001536587625__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>The automatic patch repair mechanism of ZTP can be used to resolve a non-environment problem (examples of environment problems include a device failing to run stably after startup, or a server failing to start) that occurs during automatic ZTP deployment. Using this mechanism can eliminate the need to perform an on-site repair or return the device to the factory for repair. After the root cause is manually located and a manually generated repair patch is loaded, ZTP automatically identifies the patch, sets it, and then restarts the device for the patch to take effect. ZTP runs again upon the device restart, allowing it to successfully complete deployment given the problem is resolved.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001536587625__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Specify a repair patch in the ZTP intermediate file. For details, see <a href="dc_ne_ztp_feature_0014.html">Automatic Patch Repair Mechanism</a>.</span></li><li><span>Upload both the repair patch and ZTP intermediate file to the file server.</span></li><li><span>Restart the unconfigured device. After ZTP restarts, it identifies the repair patch in the intermediate file and automatically completes the repair.</span><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>After setting the repair patch during the repair process, ZTP immediately checks whether itself is enabled. If ZTP is disabled, the next-startup patch is restored to the patch used on the device before ZTP deployment.</li><li>After the repair is complete, the next-startup system software package, patch, and configuration file are all set by ZTP. If ZTP is disabled in this case, the next-startup patch is restored to the repair patch instead of the patch used on the device before the deployment.</li></ul>
</div></div>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ztp_cfg_0002.html">Configuring Automatic ZTP Deployment Through DHCP
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ztp_cfg_0011_01.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ztp_cfg_0003.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>