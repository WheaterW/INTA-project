
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Establishing a BFD Session">
<meta name="abstract" content="You can establish a BFD session on both ends of a direct link to rapidly detect link faults.">
<meta name="description" content="You can establish a BFD session on both ends of a direct link to rapidly detect link faults.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bfd_cfg_0003.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bfd_cfg_0005.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_bfd_cfg_0001.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="q00824768,w00606909,m00390128">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BFD">
<meta name="featuretype" content="Network Reliability">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BFD">
<meta name="featuretype" content="Network Reliability">
<meta name="featurename" content="BFD">
<meta name="featuretype" content="Network Reliability">
<meta name="featurename" content="BFD">
<meta name="featuretype" content="Network Reliability">
<meta name="OWNER" content="q00824768,p00915595">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="h00414125">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172361576">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Establishing a BFD Session</title>
</head>
<body><a name="EN-US_TASK_0172361576"></a><a name="EN-US_TASK_0172361576"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Establishing a BFD Session</h1>
<div class="taskbody"><p>You can establish a BFD session on both ends of a direct link to rapidly detect link faults.</p>
<div class="steps"><a name="EN-US_TASK_0172361576__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>According to whether BFD detects an IPv4<span> or IPv6</span> link, perform <span>either of </span>the following operations:</span><p><div class="p"><ul><li>Run either of the following commands to configure the binding information about a BFD for IPv4 session. The command you run will depend on whether the peer end is configured with an IP address.<ul><li><p>For a Layer 3 interface with an IP address:</p>
<p>To create the binding information about a BFD for IPv4 session, run the <a href="cmdqueryname=bfd"><b><span class="cmdname">bfd</span></b></a> <em>session-name</em><strong> <a href="cmdqueryname=bind"><b><span class="cmdname">bind</span></b></a></strong><strong> peer-ip</strong><em> <i><span class="varname">peer-ip</span></i></em> [ <strong>vpn-instance</strong><em><strong><span> </span></strong>vpn-name</em> ] [ <strong>interface</strong> { <em>interface-name</em> | <em>interface-type </em><em>interface-number</em> } ] [ <strong>source-ip</strong><em> <i><span class="varname">source-ip</span></i></em> ] command.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>If a single-hop BFD for IPv4 session is created for the first time, a peer IPv4 address must be specified for the BFD session, and the BFD session must be bound to the local interface. The binding cannot be modified after being created.</li><li>When a BFD for IPv4 session is created, the system checks only the validity of the IPv4 address format. Binding the BFD for IPv4 session to an incorrect remote or local IPv4 address results in a failure in establishing the BFD for IPv4 session.</li><li>If BFD and unicast reverse path forwarding (URPF) are used together, <strong><span>source-ip</span></strong> must be configured correctly before a BFD session is bound to the IPv4 address to prevent BFD packets from being discarded. URPF checks the format of the source IPv4 addresses in received packets and discards the packets whose source IPv4 addresses are incorrect.</li></ul>
</div></div>
</li><li><p>To bind a BFD for IPv4 session to a Layer 2 interface or a Layer 3 member interface without an IP address, run the <a href="cmdqueryname=bfd"><b><span class="cmdname">bfd</span></b></a> <em>session-name</em><strong> </strong><strong><span>bind</span></strong> <strong><span>peer-ip</span></strong> <strong><span>default-ip</span></strong> <strong><span>interface</span></strong> <i><span class="varname">interface-type interface-number</span></i> [ <strong><span>source-ip</span></strong> <i><span class="varname">source-ip</span></i> ] command.</p>
</li></ul>
</li><li><p>Run <span><a href="cmdqueryname=bfd"><b><span class="cmdname">bfd</span></b></a> <i><span class="varname">session-name</span></i> <strong><span>bind</span></strong> <strong><span>peer-ipv6</span></strong> <i><span class="varname">peer-ipv6</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-name</span></i> ] [ <strong><span>interface</span></strong> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> ] [ <strong><span>source-ipv6</span></strong> <i><span class="varname">source-ipv6</span></i> ]</span></p>
<p>A BFD for IPv6 session is bound to an interface.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>If a single-hop BFD for IPv6 session is created for the first time, a peer IPv6 address must be specified for the BFD session, and the BFD session must be bound to the local interface. The binding cannot be modified after being created.</li><li>When a BFD for IPv6 session is created, the system checks only the validity of the IPv6 address format. Binding the BFD for IPv6 session to an incorrect remote or local IPv6 address results in a failure in establishing the BFD for IPv6 session.</li><li>If BFD and URPF are used together, <strong><span>source-ipv6</span></strong> must be configured correctly before a BFD session is bound to the IPv6 address to prevent BFD packets from being discarded. URPF checks the format of the source IPv6 addresses in received packets and discards the packets whose source IPv6 addresses are incorrect.</li></ul>
</div></div>
</li></ul>
</div>
</p></li><li><span>Run <span><a href="cmdqueryname=discriminator"><b><span class="cmdname">discriminator</span></b></a> <strong><span>local</span></strong> <i><span class="varname">discr-value</span></i></span></span><p><p>The local discriminator of the BFD session is created.</p>
</p></li><li><span>Run <a href="cmdqueryname=discriminator"><b><span class="cmdname">discriminator</span></b></a> <strong><span>remote</span></strong> <i><span class="varname">discr-value</span></i></span><p><p>The remote discriminator of the BFD session is created.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The local and remote discriminators on the two ends of a BFD session must be correctly associated. That is, the local discriminator of the local device must be the same as the remote discriminator of the remote device, and the remote discriminator of the local device must be the same as the local discriminator of the remote device. If the association is incorrect, a BFD session cannot be set up.</p>
</div></div>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bfd_cfg_0003.html">Configuring BFD to Monitor an IP Link
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bfd_cfg_0005.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_bfd_cfg_0001.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>