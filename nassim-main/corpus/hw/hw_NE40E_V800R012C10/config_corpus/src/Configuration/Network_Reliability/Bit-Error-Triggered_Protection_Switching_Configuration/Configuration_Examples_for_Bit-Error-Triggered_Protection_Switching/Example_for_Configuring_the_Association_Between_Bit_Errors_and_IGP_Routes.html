
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring the Association Between Bit Errors and IGP Routes">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_error-code_000010.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cfg_error-code_000016.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_error-code_000015.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909,m00390128,q00824768,z00545680">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Bit-Error-Triggered Protection Switching">
<meta name="featuretype" content="Network Reliability">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Bit-Error-Triggered Protection Switching">
<meta name="featuretype" content="Network Reliability">
<meta name="featurename" content="Bit-Error-Triggered Protection Switching">
<meta name="featuretype" content="Network Reliability">
<meta name="featurename" content="Bit-Error-Triggered Protection Switching">
<meta name="featuretype" content="Network Reliability">
<meta name="OWNER" content="z00545680">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00545680">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172362293">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Example for Configuring the Association Between Bit Errors and IGP Routes</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0172362293"></a><a name="EN-US_TASK_0172362293"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring the Association Between Bit Errors and IGP Routes</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0172362293__1.3.1"></a><a name="1.3.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>When a link's BER exceeds a certain threshold, the link's interface reports link quality information. IS-IS adjusts the interface's cost value based on the link quality information, switching routes to a link with a smaller BER.</p>
<p>As shown in <a href="#EN-US_TASK_0172362293__fig_dc_vrp_cfg_error-code_00002201">Figure 1</a>:</p>
<ul><li><p>Four devices run IS-IS.</p>
</li><li><p>Four devices are all Level-1-2 devices.</p>
</li><li><p>The primary link of IS-IS is <span class="keyword">Device</span>A -&gt; <span class="keyword">Device</span>C -&gt; <span class="keyword">Device</span>D (that is, link T), and its backup link is <span class="keyword">Device</span>A -&gt; <span class="keyword">Device</span>B -&gt; <span class="keyword">Device</span>D. In normal circumstances, traffic between <span class="keyword">Device</span>A and <span class="keyword">Device</span>D travels along the primary link. Assume that <span class="keyword">Device</span>A's GE<span>0/1/0</span> has a high BER (that is, the primary link's quality deteriorates). To resolve this issue, configure bit-error-triggered route switching (that is, on <span class="keyword">Device</span>A's GE<span>0/1/0</span>, enable CRC  bit error detection, enable bit error detection, set BER thresholds for determining link quality, and enable IS-IS to adjust the interface's cost value based on the interface's link quality information). When the primary link's BER exceeds a certain threshold, IS-IS dynamically adjusts the cost value of the link's interface, switching traffic to the backup link.</p>
</li></ul>
<div class="fignone" id="EN-US_TASK_0172362293__fig_dc_vrp_cfg_error-code_00002201"><a name="EN-US_TASK_0172362293__fig_dc_vrp_cfg_error-code_00002201"></a><a name="fig_dc_vrp_cfg_error-code_00002201"></a><span class="figcap"><b>Figure 1 </b>Configuring the association between bit errors and IGP routes</span><br><span><img class="vsd" src="images/fig_dc_vrp_cfg_error-code_00002201.png"></span><br></div>
<div class="p"><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In this example, interface0 and interface1 represent GE<span>0/1/0</span> and GE<span>0/2/0</span>, respectively.</p>
</div></div>
</div>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" frame="border" border="1" rules="all"><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="33.223322332233224%" id="mcps1.3.1.7.1.4.1.1" liSelected="liSelected"><p>Device Name</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.223322332233224%" id="mcps1.3.1.7.1.4.1.2" liSelected="liSelected"><p>Interface</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.55335533553355%" id="mcps1.3.1.7.1.4.1.3" liSelected="liSelected"><p>IP Address</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" rowspan="2" valign="top" width="33.223322332233224%" headers="mcps1.3.1.7.1.4.1.1 "><p><span class="keyword">Device</span>A</p>
</td>
<td class="cellrowborder" valign="top" width="33.223322332233224%" headers="mcps1.3.1.7.1.4.1.2 "><p>GE <span>0/1/0</span></p>
</td>
<td class="cellrowborder" valign="top" width="33.55335533553355%" headers="mcps1.3.1.7.1.4.1.3 "><p>10.0.1.1/24</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.1.7.1.4.1.2 "><p>GE <span>0/2/0</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.1.7.1.4.1.3 "><p>10.1.1.1/24</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="2" valign="top" width="33.223322332233224%" headers="mcps1.3.1.7.1.4.1.1 "><p><span class="keyword">Device</span>B</p>
</td>
<td class="cellrowborder" valign="top" width="33.223322332233224%" headers="mcps1.3.1.7.1.4.1.2 "><p>GE <span>0/1/0</span></p>
</td>
<td class="cellrowborder" valign="top" width="33.55335533553355%" headers="mcps1.3.1.7.1.4.1.3 "><p>10.1.1.2/32</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.1.7.1.4.1.2 "><p>GE <span>0/2/0</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.1.7.1.4.1.3 "><p>10.2.1.1/24</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="2" valign="top" width="33.223322332233224%" headers="mcps1.3.1.7.1.4.1.1 "><p><span class="keyword">Device</span>C</p>
</td>
<td class="cellrowborder" valign="top" width="33.223322332233224%" headers="mcps1.3.1.7.1.4.1.2 "><p>GE <span>0/1/0</span></p>
</td>
<td class="cellrowborder" valign="top" width="33.55335533553355%" headers="mcps1.3.1.7.1.4.1.3 "><p>10.0.1.2/24</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.1.7.1.4.1.2 "><p>GE <span>0/2/0</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.1.7.1.4.1.3 "><p>10.3.1.1/24</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="3" valign="top" width="33.223322332233224%" headers="mcps1.3.1.7.1.4.1.1 "><p><span class="keyword">Device</span>D</p>
</td>
<td class="cellrowborder" valign="top" width="33.223322332233224%" headers="mcps1.3.1.7.1.4.1.2 "><p>GE <span>0/1/0</span></p>
</td>
<td class="cellrowborder" valign="top" width="33.55335533553355%" headers="mcps1.3.1.7.1.4.1.3 "><p>10.3.1.2/24</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.1.7.1.4.1.2 "><p>GE <span>0/2/0</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.1.7.1.4.1.3 "><p>10.2.1.2/24</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.1.7.1.4.1.2 "><p>GE <span>0/3/0</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.1.7.1.4.1.3 "><p>10.4.1.1/24</p>
</td>
</tr>
</tbody>
</table>
</div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172362293__1.3.2"></a><a name="1.3.2"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><p>The configuration roadmap is as follows:</p>
<ol><li><p>Configure basic IS-IS functions on each device.</p>
</li><li><p>Enable BFD globally on each device.</p>
</li><li><p>Configure a large cost on <span class="keyword">Device</span>A's GE<span>0/2/0</span> so that traffic preferentially travels along link T.</p>
</li><li><p>On each interface of each device, enable bit error detection and set BER thresholds for determining link quality.</p>
</li><li><p>On each interface of each device, enable IS-IS to adjust the interface's cost based on the interface's link quality information.</p>
</li></ol>
</div></div>
<div class="context"><a name="EN-US_TASK_0172362293__1.3.3"></a><a name="1.3.3"></a>
<div class="p"><h4 class="sectiontitle">Data Preparation</h4><p>To complete the configuration, you need the following data:</p>
<ul><li><p>IP address of each interface on each device</p>
</li><li><p>NET of each device</p>
</li><li><p>Level of each device</p>
</li><li><p>Cost of each interface on each device</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172362293__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure an IP address for each interface. For details, see <a href="#EN-US_TASK_0172362293__section_dc_vrp_cfg_00649405">Configuration Files</a>.</span></li><li><span>Configure basic IS-IS functions.</span><p><p># Configure <span class="keyword">Device</span>A.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>isis 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-isis-1] <strong>is-level level-1-2</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-isis-1] <strong>network-entity 10.0000.0000.0001.00</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-isis-1] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A] <strong>interface gigabitethernet <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/0</span>] <strong>isis enable 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/0</span>] <strong><span>quit</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A] <strong>interface gigabitethernet <span>0/2/0</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-GigabitEthernet<span>0/2/0</span>] <strong>isis enable 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-GigabitEthernet<span>0/2/0</span>] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-GigabitEthernet<span>0/2/0</span>] <strong>quit</strong></pre>
<p># Configure <span class="keyword">Device</span>B.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B] <strong>isis 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-isis-1] <strong>is-level level-1-2</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-isis-1] <strong>network-entity 10.0000.0000.0002.00</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-isis-1] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B] <strong>interface gigabitethernet <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-GigabitEthernet<span>0/1/0</span>] <strong>isis enable 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-GigabitEthernet<span>0/1/0</span>] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B] <strong>interface gigabitethernet <span>0/2/0</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-GigabitEthernet<span>0/2/0</span>] <strong>isis enable 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-GigabitEthernet<span>0/2/0</span>] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B-GigabitEthernet<span>0/2/0</span>] <strong>quit</strong></pre>
<p># Configure <span class="keyword">Device</span>C.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>C] <strong>isis 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>C-isis-1] <strong>is-level level-1-2</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>C-isis-1] <strong>network-entity 10.0000.0000.0003.00</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>C-isis-1] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>C] <strong>interface gigabitethernet <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>C-GigabitEthernet<span>0/1/0</span>] <strong>isis enable 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>C-GigabitEthernet<span>0/1/0</span>] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>C] <strong>interface gigabitethernet <span>0/2/0</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>C-GigabitEthernet<span>0/2/0</span>] <strong>isis enable 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>C-GigabitEthernet<span>0/2/0</span>] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>C-GigabitEthernet<span>0/2/0</span>] <strong>quit</strong></pre>
<p># Configure <span class="keyword">Device</span>D.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>D] <strong>isis 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-isis-1] <strong>is-level level-1-2</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-isis-1] <strong>network-entity 10.0000.0000.0004.00</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-isis-1] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D] <strong>interface gigabitethernet <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-GigabitEthernet<span>0/1/0</span>] <strong>isis enable 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-GigabitEthernet<span>0/1/0</span>] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D] <strong>interface gigabitethernet <span>0/2/0</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-GigabitEthernet<span>0/2/0</span>] <strong>isis enable 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-GigabitEthernet<span>0/2/0</span>] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>D-GigabitEthernet<span>0/2/0</span>] <strong>quit</strong></pre>
</p></li><li><span>Enable BFD globally.</span><p><p># Configure <span class="keyword">Device</span>A.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>bfd</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-bfd] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-bfd] <strong>quit</strong></pre>
<p>The configuration of other devices is similar to the configuration of <span class="keyword">Device</span>A.</p>
</p></li><li><span>Set the cost of <span class="keyword">Device</span>A's GE<span>0/2/0</span> to 30, and check routing information.</span><p><p># Set the cost of <span class="keyword">Device</span>A's GE<span>0/2/0</span> to 30.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>interface gigabitethernet <span>0/2/0</span></strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-GigabitEthernet<span>0/2/0</span>] <strong>isis cost 30</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-GigabitEthernet<span>0/2/0</span>] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-GigabitEthernet<span>0/2/0</span>] <strong>quit</strong></pre>
<p># Check information about the link from <span class="keyword">Device</span>A to <span class="keyword">Device</span>D. IS-IS preferentially selects link T to transmit traffic forwarded by <span class="keyword">Device</span>A because link T has the smallest cost.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>display isis route verbose</strong>
                                                                                
                         Route information for IS-IS(1)                          
                         -----------------------------                          
                                                                                
                        IS-IS(1) Level-1 Forwarding Table                        
                        --------------------------------                        
                                                                                
 IPV4 Dest  : 10.20.1.0/24       Int. Cost : 30            Ext. Cost : NULL     
 Admin Tag  : -                  Src Count : 1             Flags     : A/-/L/-/-
 Priority   : Low 
 NextHop    :                    Interface :               ExitIndex :           
    <strong>10.0.1.2                        GE<span>0/1/0</span>                 0x00000003</strong>         
                                                                                
     Flags: D-Direct, A-Added to URT, L-Advertised in LSPs, S-IGP Shortcut,
                                 U-Up/Down Bit Set   
                                                                                
                                                                                
                        IS-IS(1) Level-2 Forwarding Table                        
                        --------------------------------                        
                                                                                
 IPV4 Dest  : 10.20.1.0/24       Int. Cost : 30            Ext. Cost : NULL     
 Admin Tag  : -                  Src Count : 3             Flags     : -/-/-/-/-
                                                                                
     Flags: D-Direct, A-Added to URT, L-Advertised in LSPs, S-IGP Shortcut,
                                 U-Up/Down Bit Set   </pre>
</p></li><li><span>On each interface of each device, enable bit error detection and set BER thresholds for determining link quality.</span><p><p># Configure <span class="keyword">Device</span>A.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>interface gigabitethernet <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/0</span>] <strong>link-quality low bit-error-threshold error-ratio 1 3 resume-ratio 1 6</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/0</span>] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/0</span>] <strong>quit</strong></pre>
<p>The configuration of other devices is similar to the configuration of <span class="keyword">Device</span>A.</p>
</p></li><li><span>On each interface of each device, enable IS-IS to adjust the interface's cost based on the interface's link quality information.</span><p><p># Configure <span class="keyword">Device</span>A.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>interface gigabitethernet <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/0</span>] <strong>isis link-quality low incr-cost max-reachable</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/0</span>] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/0</span>] <strong>quit</strong></pre>
<p>The configuration of other devices is similar to the configuration of <span class="keyword">Device</span>A.</p>
</p></li><li><span>Verify the configuration.</span><p><p># Check detailed information about all interfaces with IS-IS enabled on <span class="keyword">Device</span>A, including the interfaces' link quality information and whether costs have been adjusted based on link quality.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>display isis interface verbose</strong></pre>
<pre class="screen">                       Interface information for IS-IS(1)
                       ---------------------------------
 Interface         Id      IPV4.State          IPV6.State      MTU  Type  DIS
 GE<span>0/1/0</span>           002         Up          Mtu:Up/Lnk:Up/IP:Up 1497 L1/L2 Yes/Yes
  Circuit MT State            : Standard  
  Description                 : 
  SNPA Address                : 00e0-fc12-7890
  IP Address                  : 10.0.1.1
  IPV6 Link Local Address     : 
  IPV6 Global Address(es)     : 
  Csnp Timer Value            :  L1    10  L2    10
  Hello Timer Value           :  L1    10  L2    10
  DIS Hello Timer Value       :  L1     3  L2     3
  Hello Multiplier Value      :  L1     3  L2     3
  LSP-Throttle Timer          :  L12    50 &lt;50ms&gt;
  Cost                        :  L1    10  L2    10
  Ipv6 Cost                   :  L1     0  L2     0
  Priority                    :  L1    64  L2    64
  Retransmit Timer Value      :  L1     5  L2     5
  Bandwidth-Value             :  Low  100000000  High          0
  Static Bfd                  :  NO
  Dynamic Bfd                 :  YES
  Static IPv6 Bfd             :  NO
  Dynamic IPv6 Bfd            :  NO
  Suppress Base               :  NO
  IPv6 Suppress Base          :  NO
  Extended-Circuit-Id Value   :  0000000000
  Circuit State               :  OSI:UP   / IP:UP   / MTU:UP   / IPBorrow:UP   /
                                 BandWidth:UP   / IsEnable:UP   / Interface:UP  
  Circuit Ipv6 State          :  OSI:UP   / IP:UP   / MTU:UP   / IPBorrow:UP   /
                                 BandWidth:UP   / IsEnable:DOWN / Interface:UP
  BFD Incr-Cost State         :  MT0 L1 : NO / MT0 L2 : NO / MT2 L1 : NO / MT2 L2 : NO 
<strong>  Link quality adjust cost    :  YES</strong>
<strong>  Link quality                :  0x4(LOW)</strong>
  </pre>
</p></li></ol></div>
<div class="example" id="EN-US_TASK_0172362293__section_dc_vrp_cfg_00649405"><a name="EN-US_TASK_0172362293__section_dc_vrp_cfg_00649405"></a><a name="section_dc_vrp_cfg_00649405"></a><a name="EN-US_TASK_0172362293__1.3.5"></a><a name="1.3.5"></a><h4 class="sectiontitle">Configuration Files</h4><ul><li><p><span class="keyword">Device</span>A configuration file</p>
<pre class="screen">#</pre>
<pre class="screen">sysname <span class="keyword">Device</span>A</pre>
<pre class="screen">#
bfd</pre>
<pre class="screen">#</pre>
<pre class="screen">isis 1</pre>
<pre class="screen"> is-level level-1-2</pre>
<pre class="screen"> network-entity 10.0000.0000.0001.00</pre>
<pre class="screen">#</pre>
<pre class="screen">interface gigabitethernet <span>0/1/0</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen"> ip address 10.0.1.1 255.255.255.0</pre>
<pre class="screen"> link-quality low bit-error-threshold error-ratio 1 3 resume-ratio 1 6</pre>
<pre class="screen"> isis enable 1</pre>
<pre class="screen"> isis link-quality low incr-cost max-reachable</pre>
<pre class="screen">#</pre>
<pre class="screen">interface gigabitethernet <span>0/2/0</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen"> ip address 10.1.1.1 255.255.255.0</pre>
<pre class="screen"> link-quality low bit-error-threshold error-ratio 1 3 resume-ratio 1 6</pre>
<pre class="screen"> isis enable 1</pre>
<pre class="screen"> isis cost 30</pre>
<pre class="screen"> isis link-quality low incr-cost max-reachable</pre>
<pre class="screen">#</pre>
<pre class="screen">return</pre>
</li><li><p><span class="keyword">Device</span>B configuration file</p>
<pre class="screen">#</pre>
<pre class="screen"> sysname <span class="keyword">Device</span>B</pre>
<pre class="screen">#
bfd</pre>
<pre class="screen">#</pre>
<pre class="screen">isis 1</pre>
<pre class="screen"> is-level level-1-2</pre>
<pre class="screen"> network-entity 10.0000.0000.0002.00</pre>
<pre class="screen">#</pre>
<pre class="screen">interface gigabitethernet <span>0/1/0</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen"> ip address 10.1.1.2 255.255.255.0</pre>
<pre class="screen"><strong> </strong></pre>
<pre class="screen"> link-quality low bit-error-threshold error-ratio 1 3 resume-ratio 1 6</pre>
<pre class="screen"> isis enable 1</pre>
<pre class="screen"> isis link-quality low incr-cost max-reachable</pre>
<pre class="screen">#</pre>
<pre class="screen">interface gigabitethernet <span>0/2/0</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen"> ip address 10.2.1.1 255.255.255.0</pre>
<pre class="screen"> link-quality low bit-error-threshold error-ratio 1 3 resume-ratio 1 6</pre>
<pre class="screen"> isis enable 1</pre>
<pre class="screen"> isis link-quality low incr-cost max-reachable</pre>
<pre class="screen">#</pre>
<pre class="screen">return</pre>
</li><li><p><span class="keyword">Device</span>C configuration file</p>
<pre class="screen">#</pre>
<pre class="screen">sysname <span class="keyword">Device</span>C</pre>
<pre class="screen">#
bfd</pre>
<pre class="screen">#</pre>
<pre class="screen">isis 1</pre>
<pre class="screen"> is-level level-1-2</pre>
<pre class="screen"> network-entity 10.0000.0000.0003.00</pre>
<pre class="screen">#</pre>
<pre class="screen">interface gigabitethernet <span>0/1/0</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen"> ip address 10.0.1.2 255.255.255.0</pre>
<pre class="screen"><strong> </strong></pre>
<pre class="screen"> link-quality low bit-error-threshold error-ratio 1 3 resume-ratio 1 6</pre>
<pre class="screen"> isis enable 1</pre>
<pre class="screen"> isis link-quality low incr-cost max-reachable</pre>
<pre class="screen">#</pre>
<pre class="screen">interface gigabitethernet <span>0/2/0</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen"> ip address 10.3.1.1 255.255.255.0</pre>
<pre class="screen"> link-quality low bit-error-threshold error-ratio 1 3 resume-ratio 1 6</pre>
<pre class="screen"> isis enable 1</pre>
<pre class="screen"> isis link-quality low incr-cost max-reachable</pre>
<pre class="screen">#</pre>
<pre class="screen">return</pre>
</li><li><p><span class="keyword">Device</span>D configuration file</p>
<pre class="screen">#</pre>
<pre class="screen">sysname <span class="keyword">Device</span>D</pre>
<pre class="screen">#
bfd</pre>
<pre class="screen">#</pre>
<pre class="screen">isis 1</pre>
<pre class="screen"> is-level level-1-2</pre>
<pre class="screen"> network-entity 10.0000.0000.0004.00</pre>
<pre class="screen">#</pre>
<pre class="screen">interface gigabitethernet <span>0/1/0</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen"> ip address 10.3.1.2 255.255.255.0</pre>
<pre class="screen"> link-quality low bit-error-threshold error-ratio 1 3 resume-ratio 1 6</pre>
<pre class="screen"> isis enable 1</pre>
<pre class="screen"> isis link-quality low incr-cost max-reachable</pre>
<pre class="screen">#</pre>
<pre class="screen">interface gigabitethernet <span>0/2/0</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen"> ip address 10.2.1.2 255.255.255.0</pre>
<pre class="screen"> link-quality low bit-error-threshold error-ratio 1 3 resume-ratio 1 6</pre>
<pre class="screen"> isis enable 1</pre>
<pre class="screen"> isis link-quality low incr-cost max-reachable</pre>
<pre class="screen">#</pre>
<pre class="screen">interface gigabitethernet <span>0/3/0</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen"> ip address 10.4.1.1 255.255.255.0</pre>
<pre class="screen">#</pre>
<pre class="screen">return</pre>
</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_error-code_000010.html">Configuration Examples for Bit-Error-Triggered Protection Switching
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cfg_error-code_000016.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_error-code_000015.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>