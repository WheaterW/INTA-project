
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Associating a VRRP Group with a BFD Session">
<meta name="abstract" content="In this example, a VRRP group is associated with a BFD session. If the interface on which the VRRP status is Master or the link monitored by BFD goes Down, a backup device in the VRRP group preempts the Master state and takes over.">
<meta name="description" content="In this example, a VRRP group is associated with a BFD session. If the interface on which the VRRP status is Master or the link monitored by BFD goes Down, a backup device in the VRRP group preempts the Master state and takes over.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vrrp_cfg_0120.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vrrp_cfg_0125.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vrrp_cfg_0204.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00604599">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="Network Reliability">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="Network Reliability">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="Network Reliability">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="Network Reliability">
<meta name="OWNER" content="w00604599">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00604599">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172361814">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Example for Associating a VRRP Group with a BFD Session</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0172361814"></a><a name="EN-US_TASK_0172361814"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Associating a VRRP Group with a BFD Session</h1>
<div class="taskbody"><p>In this example, a VRRP group is associated with a BFD session. If the interface on which the VRRP status is Master or the link monitored by BFD goes Down, a backup device in the VRRP group preempts the Master state and takes over.</p>
<div class="context"><a name="EN-US_TASK_0172361814__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>To improve link reliability, a user gateway is dual-homed to an upper-layer network and VRRP is configured to determine the active/standby status of dual-homing links and perform active/standby link switchovers if a fault occurs on the active link.</p>
<p>If a link fails, negotiating the VRRP status takes a certain period of time. To speed up link switchovers, enable BFD to monitor links and associate VRRP with BFD. If an interface or a link fails on the master device in the VRRP group, BFD rapidly detects the fault and notifies the VRRP group of the fault. After receiving the notification, the VRRP group performs a master/backup VRRP switchover. The backup device enters the Master state.</p>
<p>On the network shown in <a href="#EN-US_TASK_0172361814__fig_dc_vrp_vrrp_cfg_012601">Figure 1</a>, <span class="keyword">Device</span>A, <span class="keyword">Device</span>B, <span class="keyword">Device</span>C, <span class="keyword">Device</span>D, and a universal media gateway (UMG) form a simple next generation network (NGN) functioning as a bearer network.</p>
<div class="p">The networking is as follows:<ul><li><p>The UMG is dual-homed to <span class="keyword">Device</span>A and <span class="keyword">Device</span>B through <span class="keyword">Device</span>C and <span class="keyword">Device</span>D, respectively.</p>
</li><li><p>A VRRP group is configured on <span class="keyword">Device</span>A and <span class="keyword">Device</span>B. <span class="keyword">Device</span>A is the master device, and <span class="keyword">Device</span>B is the backup device. </p>
</li></ul>
</div>
<div class="p">If <span class="keyword">Device</span>A fails or the GE link between <span class="keyword">Device</span>A and <span class="keyword">Device</span>B fails, the VRRP group is required to perform a master/backup switchover within 1 second, implementing rapid route convergence on the bearer network. To meet this requirement, associate the VRRP group with a BFD session.<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Interface 1 in this example represents GE <span>0/1/0</span>.</p>
</div></div>
</div>
<div class="fignone" id="EN-US_TASK_0172361814__fig_dc_vrp_vrrp_cfg_012601"><a name="EN-US_TASK_0172361814__fig_dc_vrp_vrrp_cfg_012601"></a><a name="fig_dc_vrp_vrrp_cfg_012601"></a><span class="figcap"><b>Figure 1 </b>Associating a VRRP group with a BFD session</span><br><span><img class="vsd" src="images/fig_dc_vrp_vrrp_cfg_012601.png"></span><br></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172361814__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Precautions</h4><p>The IP address of GE <span>0/1/0</span> on <span class="keyword">Device</span>A and IP address of GE <span>0/1/0</span> on <span class="keyword">Device</span>B must be on the same network segment.</p>
<p>To improve security, you are advised to configure a VRRP security policy. For details, see "Example for Configuring a VRRP Group."</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172361814__1.4.3"></a><a name="1.4.3"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><p>The configuration roadmap is as follows:</p>
<ol><li><p>Configure a BFD session on <span class="keyword">Device</span>A and <span class="keyword">Device</span>B to monitor <span class="keyword">Device</span>A, <span class="keyword">Device</span>B, the link from <span class="keyword">Device</span>A to <span class="keyword">Device</span>C, and the link from <span class="keyword">Device</span>B to <span class="keyword">Device</span>D.</p>
</li><li><p>Configure a VRRP group on GE <span>0/1/0</span> of <span class="keyword">Device</span>A and GE <span>0/1/0</span> of <span class="keyword">Device</span>B. <span class="keyword">Device</span>A is the master device, and <span class="keyword">Device</span>B is the backup device.</p>
</li><li><p>Associate the VRRP group on <span class="keyword">Device</span>B (backup) with the BFD session. If the BFD session goes Down, the VRRP group immediately performs a master/backup switchover.</p>
</li></ol>
</div></div>
<div class="context"><a name="EN-US_TASK_0172361814__1.4.4"></a><a name="1.4.4"></a>
<div class="p"><h4 class="sectiontitle">Data Preparation</h4><p>To complete the configuration, you need the following data:</p>
<ul><li><p>Local and remote discriminators of BFD sessions</p>
</li><li><p>Virtual IP address and ID of a VRRP group</p>
</li><li><p>Priority of each device in a VRRP group</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172361814__1.4.5"></a><a name="1.4.5"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure a BFD session.</span><p><p># Configure <span class="keyword">Device</span>A.</p>
<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>sysname <span class="keyword">Device</span>A</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>bfd</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-bfd] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>interface gigabitethernet <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/0</span>] <strong>ip address 10.1.1.1 24</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/0</span>] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A] <strong>bfd trackbfd bind peer-ip 10.1.1.2 interface gigabitethernet <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-bfd-session-trackbfd] <strong>discriminator local 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-bfd-session-trackbfd] <strong>discriminator remote 2</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-bfd-session-trackbfd] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-bfd-session-trackbfd] <strong>quit</strong></pre>
<p># Configure <span class="keyword">Device</span>B.</p>
<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>sysname <span class="keyword">Device</span>B</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B] <strong>bfd</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B-bfd] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B] <strong>interface gigabitethernet <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B-GigabitEthernet<span>0/1/0</span>] <strong>ip address 10.1.1.2 24</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-GigabitEthernet<span>0/1/0</span>] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B] <strong>bfd trackbfd bind peer-ip 10.1.1.1 interface gigabitethernet <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-bfd-session-trackbfd] <strong>discriminator local 2</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-bfd-session-trackbfd] <strong>discriminator remote 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-bfd-session-trackbfd] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B-bfd-session-trackbfd] <strong>quit</strong></pre>
<p>After completing the configurations, run the <a href="cmdqueryname=display+bfd+session+all"><b><span class="cmdname">display bfd session all</span></b></a> command on <span class="keyword">Device</span>A or <span class="keyword">Device</span>B. The command output shows that a BFD session has been established and its status is Up. The following example uses the command output on <span class="keyword">Device</span>A.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>display bfd session all</strong></pre>
<pre class="screen"><span>(w): State in WTR 
(*): State is invalid</span>
------------------------------------------------------------------------------
Local Remote PeerIpAddr      State     Type        InterfaceName
------------------------------------------------------------------------------
1     2      10.1.1.2        <strong>Up</strong>        S_IP_IF     GigabitEthernet<span>0/1/0</span>
------------------------------------------------------------------------------
     Total UP/DOWN Session Number : 1/0</pre>
</p></li><li><span>Configure VRRP group 1.</span><p><p># Configure VRRP group 1 on <span class="keyword">Device</span>A, and set the VRRP priority of <span class="keyword">Device</span>A to 120 so that <span class="keyword">Device</span>A functions as the master device.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>interface gigabitethernet <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/0</span>] <strong>vrrp vrid 1 virtual-ip 10.1.1.111</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/0</span>] <strong>vrrp vrid 1 priority 120</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/0</span>] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/0</span>] <strong>quit</strong></pre>
<p># Configure VRRP group 1 on <span class="keyword">Device</span>B, and retain the default VRRP priority for <span class="keyword">Device</span>B so that <span class="keyword">Device</span>B functions as the backup device.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B] <strong>interface gigabitethernet <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B-GigabitEthernet<span>0/1/0</span>] <strong>vrrp vrid 1 virtual-ip 10.1.1.111</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-GigabitEthernet<span>0/1/0</span>] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B-GigabitEthernet<span>0/1/0</span>] <strong>quit</strong></pre>
<p>After completing the configurations, run the <a href="cmdqueryname=display+vrrp"><b><span class="cmdname">display vrrp</span></b></a> command on <span class="keyword">Device</span>A and <span class="keyword">Device</span>B. The command outputs show that the VRRP status of <span class="keyword">Device</span>A is Master and that the VRRP status of <span class="keyword">Device</span>B is Backup.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>display vrrp</strong></pre>
<pre class="screen">GigabitEthernet<span>0/1/0</span> | Virtual Router 1
<strong>State             : Master</strong>
Virtual IP        : 10.1.1.111
Master IP         : 10.1.1.1
Local IP          : 10.1.1.1
PriorityRun       : 120
PriorityConfig    : 120
MasterPriority    : 120
Preempt           : YES      Delay Time : 0s
Hold Multiplier   : 4
TimerRun          : 1s
TimerConfig       : 1s
Auth Type         : NONE
Virtual MAC       : 0000-5e00-0101
Passive Mode      : NO
Check TTL         : YES
Config Type       : normal-vrrp
<span>Backup-forward    : disabled</span>
Create Time          : 2011-12-29 05:41:23
Last Change Time     : 2011-12-29 05:41:33</pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B] <strong>display vrrp</strong></pre>
<pre class="screen">GigabitEthernet<span>0/1/0</span> | Virtual Router 1
<strong>State             : Backup</strong>
Virtual IP        : 10.1.1.111
Master IP         : 10.1.1.1
Local IP          : 10.1.1.2
PriorityRun       : 100
PriorityConfig    : 100
MasterPriority    : 120
Preempt           : YES      Delay Time : 0s
Hold Multiplier   : 4
TimerRun          : 1s
TimerConfig       : 1s
Auth Type         : NONE
Virtual MAC       : 0000-5e00-0102
Passive Mode      : NO
Check TTL         : YES
Config Type       : normal-vrrp
<span>Backup-forward    : disabled</span>
Create Time          : 2011-12-29 05:41:23
Last Change Time     : 2011-12-29 05:41:33</pre>
</p></li><li><span>Associate the VRRP group with the BFD session on <span class="keyword">Device</span>B.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B] <strong>interface gigabitethernet <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B-GigabitEthernet<span>0/1/0</span>] <strong>vrrp vrid 1 track bfd-session 2 increased 40</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-GigabitEthernet<span>0/1/0</span>] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B-GigabitEthernet<span>0/1/0</span>] <strong>quit</strong></pre>
<p>After completing the configurations, run the <a href="cmdqueryname=display+vrrp"><b><span class="cmdname">display vrrp</span></b></a> command on <span class="keyword">Device</span>B to view the associated BFD session and its status.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B] <strong>display vrrp</strong></pre>
<pre class="screen">GigabitEthernet<span>0/1/0</span> | Virtual Router 1
<strong>State             : Backup</strong>
Virtual IP        : 10.1.1.111
Master IP         : 10.1.1.1
Local IP          : 10.1.1.2
PriorityRun       : 100
PriorityConfig    : 100
MasterPriority    : 120
Preempt           : YES      Delay Time : 0s
Hold Multiplier   : 4
TimerRun          : 1s
TimerConfig       : 1s
Auth Type         : NONE
Virtual MAC       : 0000-5e00-0102
Passive Mode      : NO
Check TTL         : YES
Config Type       : normal-vrrp
<span>Backup-forward    : disabled</span>
<strong>Track BFD         : 2</strong>                     Priority Increased : 40
<strong>BFD-Session State : UP</strong>
Create Time          : 2011-12-29 05:41:23
Last Change Time     : 2011-12-29 05:41:33</pre>
</p></li><li><span>Verify the configuration.</span><p><p># Run the <a href="cmdqueryname=shutdown"><b><span class="cmdname">shutdown</span></b></a> command on GE <span>0/1/0</span> of <span class="keyword">Device</span>A to simulate a link fault.</p>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A] <strong>interface gigabitethernet <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/0</span>] <strong>shutdown</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/0</span>] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/0</span>] <strong>quit</strong></pre>
<p>Run the <a href="cmdqueryname=display+vrrp"><b><span class="cmdname">display vrrp</span></b></a> command on <span class="keyword">Device</span>A. The command output shows that the VRRP status of <span class="keyword">Device</span>A has become Initialize.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>display vrrp</strong></pre>
<pre class="screen">GigabitEthernet<span>0/1/0</span> | Virtual Router 1
<strong>State             : Initialize</strong>
Virtual IP        : 10.1.1.111
Master IP         : 0.0.0.0
Local IP          : 10.1.1.1
PriorityRun       : 0
PriorityConfig    : 120
MasterPriority    : 0   
Preempt           : YES      Delay Time : 0s
Hold Multiplier   : 4
TimerRun          : 1s
TimerConfig       : 1s
Auth Type         : NONE
Virtual MAC       : 0000-5e00-0101
Passive Mode      : NO
Check TTL         : YES
Config Type       : normal-vrrp
<span>Backup-forward    : disabled</span>
Create Time          : 2011-12-29 05:41:23
Last Change Time     : 2011-12-29 05:41:33</pre>
<p>Run the <a href="cmdqueryname=display+vrrp"><b><span class="cmdname">display vrrp</span></b></a> command on <span class="keyword">Device</span>B. The command output shows that the VRRP status of <span class="keyword">Device</span>B has become Master.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B] <strong>display vrrp</strong></pre>
<pre class="screen">GigabitEthernet<span>0/1/0</span> | Virtual Router 1
<strong>State             : Master</strong>
Virtual IP        : 10.1.1.111
Master IP         : 10.1.1.2
Local IP          : 10.1.1.2
PriorityRun       : 140
PriorityConfig    : 100
MasterPriority    : 140
Preempt           : YES      Delay Time : 0s
Hold Multiplier   : 4
TimerRun          : 1s
TimerConfig       : 1s
Auth Type         : NONE
Virtual MAC       : 0000-5e00-0102
Passive Mode      : NO
Check TTL         : YES
Config Type       : normal-vrrp
<span>Backup-forward    : disabled</span>
<strong>Track BFD         : 2</strong>              Priority Increased :40
<strong>BFD-Session State : DOWN</strong>
Create Time          : 2011-12-29 05:41:23
Last Change Time     : 2011-12-29 05:41:33</pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0172361814__1.4.6"></a><a name="1.4.6"></a><h4 class="sectiontitle">Configuration Files</h4><ul><li><p><span class="keyword">Device</span>A configuration file</p>
<pre class="screen">#
sysname <span class="keyword">Device</span>A
#
bfd
#
interface GigabitEthernet<span>0/1/0</span>
 undo shutdown
 ip address 10.1.1.1 255.255.255.0
 vrrp vrid 1 virtual-ip 10.1.1.111
 vrrp vrid 1 priority 120
#
bfd trackbfd bind peer-ip 10.1.1.2 interface gigabitethernet<span>0/1/0</span>
 discriminator local 1
 discriminator remote 2
return</pre>
</li><li><p><span class="keyword">Device</span>B configuration file</p>
<pre class="screen">#
sysname <span class="keyword">Device</span>B
#
bfd
#
interface GigabitEthernet<span>0/1/0</span>
 undo shutdown
 ip address 10.1.1.2 255.255.255.0
 vrrp vrid 1 virtual-ip 10.1.1.111
 <span>vrrp vrid 1 track bfd-session 2 increased 40</span>
#
bfd trackbfd bind peer-ip 10.1.1.1 interface gigabitethernet<span>0/1/0</span>
 discriminator local 2
 discriminator remote 1
return</pre>
</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vrrp_cfg_0120.html">Configuration Examples for VRRP
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vrrp_cfg_0125.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vrrp_cfg_0204.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>