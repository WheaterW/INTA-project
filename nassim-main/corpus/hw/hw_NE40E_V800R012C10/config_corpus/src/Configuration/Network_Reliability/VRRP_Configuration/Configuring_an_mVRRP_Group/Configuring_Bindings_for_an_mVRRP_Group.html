
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Bindings for an mVRRP Group">
<meta name="abstract" content="VRRP groups, service interfaces, and service PWs can be bound to an mVRRP group. After the bindings are configured, the mVRRP group determines the status of the bound objects.">
<meta name="description" content="VRRP groups, service interfaces, and service PWs can be bound to an mVRRP group. After the bindings are configured, the mVRRP group determines the status of the bound objects.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vrrp_cfg_0110.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vrrp_cfg_0111.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vrrp_cfg_0113.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00604599">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="Network Reliability">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="Network Reliability">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="Network Reliability">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="Network Reliability">
<meta name="OWNER" content="w00604599">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00800033">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172361769">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Configuring Bindings for an mVRRP Group</title>
</head>
<body><a name="EN-US_TASK_0172361769"></a><a name="EN-US_TASK_0172361769"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Bindings for an mVRRP Group</h1>
<div class="taskbody"><p>VRRP groups, service interfaces<span>, and service PWs</span> can be bound to an mVRRP group. After the bindings are configured, the mVRRP group determines the status of the bound objects.</p>
<div class="context"><a name="EN-US_TASK_0172361769__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p"><a href="#EN-US_TASK_0172361769__tab_dc_vrp_vrrp_cfg_014201">Table 1</a> describes objects that can be bound to an mVRRP group and usage scenarios.
<div class="tableBorder"><a name="EN-US_TASK_0172361769__tab_dc_vrp_vrrp_cfg_014201"></a><a name="tab_dc_vrp_vrrp_cfg_014201"></a><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_TASK_0172361769__tab_dc_vrp_vrrp_cfg_014201" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Objects that can be bound to an mVRRP group and usage scenarios</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="27.169999999999998%" id="mcps1.4.1.1.2.2.3.1.1" liSelected="liSelected"><p>Object</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="72.83%" id="mcps1.4.1.1.2.2.3.1.2" liSelected="liSelected"><p>Usage Scenario</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="27.169999999999998%" headers="mcps1.4.1.1.2.2.3.1.1 "><p>Common VRRP group</p>
</td>
<td class="cellrowborder" valign="top" width="72.83%" headers="mcps1.4.1.1.2.2.3.1.2 "><p>If multiple VRRP groups are configured to forward traffic, large numbers of VRRP Advertisement packets are generated, which consumes network bandwidth resources and affects CPU performance. To resolve this issue, configure an mVRRP group and bind common VRRP groups to the mVRRP group. The mVRRP group sends VRRP Advertisement packets to determine the master/backup status of the common VRRP groups.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="27.169999999999998%" headers="mcps1.4.1.1.2.2.3.1.1 "><p>VRRP-disabled interface</p>
</td>
<td class="cellrowborder" valign="top" width="72.83%" headers="mcps1.4.1.1.2.2.3.1.2 "><p>VRRP-disabled interfaces can be bound to an mVRRP group. A master/backup mVRRP switchover can trigger an active/standby switchover on these interfaces, preventing traffic loss.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="27.169999999999998%" headers="mcps1.4.1.1.2.2.3.1.1 "><p>Service PW</p>
</td>
<td class="cellrowborder" valign="top" width="72.83%" headers="mcps1.4.1.1.2.2.3.1.2 "><p>Service PWs can be bound to an mVRRP group. A master/backup mVRRP switchover can trigger a primary/secondary switchover on these service PWs, preventing traffic loss.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172361769__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Bind a common VRRP group to an mVRRP group.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> [ <i><span class="varname">subinterface-number</span></i> ]</span></span><p><p>The view of the interface on which a common VRRP group is configured is displayed.</p>
</p><p><p>A common VRRP group and an mVRRP group must be configured on different interfaces.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=vrrp+vrid"><b><span class="cmdname">vrrp vrid</span></b></a> <i><span class="varname">virtual-router-id1</span></i> <strong><span>track</span></strong> <strong><span>admin-vrrp</span></strong> <strong><span>interface</span></strong> <i><span class="varname">interface-type interface-number</span></i> <strong><span>vrid</span></strong> <i><span class="varname">virtual-router-id2</span></i> [ <strong><span>unflowdown</span></strong> ]</span></span><p><p>The common VRRP group is bound to an mVRRP group.</p>
</p><p><div class="p">Member VRRP groups can be bound to the mVRRP group in flowdown or unflowdown mode.<ul><li><p>flowdown: This mode is used on a network where the upstream and downstream traffic forwarding paths must be the same. On a network configured with a firewall and a VRRP group, upstream traffic flows through the master device and the downstream traffic flows through either the master or backup device. If downstream traffic flows through the backup device and the firewall detects inconsistency between the upstream traffic path and downstream traffic path, the backup device has to discard downstream traffic. The default flowdown mode is used to allow the downstream traffic to be forwarded through the master device so that the firewall allows the packets to pass through.</p>
</li><li><p>unflowdown: This mode is used on a network where the upstream and downstream traffic forwarding paths do not need to be the same. <strong>unflowdown</strong> can be configured to allow the mVRRP group to determine the states of its bound VRRP group. This means that upstream traffic travels through the master device and then reaches the upper-layer network and downstream traffic travels through either the master or backup device and reaches the user.</p>
</li></ul>
</div>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Bind a VRRP-disabled interface to an mVRRP group.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> [ <i><span class="varname">subinterface-number</span></i> ]</span></span><p><p>The view of the VRRP-disabled interface is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=track+admin-vrrp"><b><span class="cmdname">track admin-vrrp</span></b></a> <strong><span>interface</span></strong> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> <strong><span>vrid</span></strong> <i><span class="varname">virtual-router-id</span></i></span></span><p><p>The VRRP-disabled interface is bound to an mVRRP group.</p>
</p><p><p>After the binding is complete, the status of the VRRP-disabled interface depends on the status of the mVRRP group.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Bind a service PW to an mVRRP group.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The view of the interface on which a service PW is configured is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=mpls+l2vc+track+admin-vrrp"><b><span class="cmdname">mpls l2vc track admin-vrrp</span></b></a> <strong><span>interface</span></strong> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> <strong><span>vrid</span></strong> <i><span class="varname">virtual-router-id</span></i> <strong><span>pw-redundancy</span></strong></span><p><p>The service PW is bound to an mVRRP group.</p>
</p><p><p>After the binding is complete, the status of the service PW depends on the status of the mVRRP group.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vrrp_cfg_0110.html">Configuring an mVRRP Group
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vrrp_cfg_0111.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vrrp_cfg_0113.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>