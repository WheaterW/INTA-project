
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Overview of VRRP">
<meta name="abstract" content="The Virtual Router Redundancy Protocol (VRRP) is a fault-tolerant protocol running on routers. VRRP implements egress gateway backup and ensures communication continuity and reliability.">
<meta name="description" content="The Virtual Router Redundancy Protocol (VRRP) is a fault-tolerant protocol running on routers. VRRP implements egress gateway backup and ensures communication continuity and reliability.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vrrp_cfg_0100.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/spec/VRRP_limitation.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00604599">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="Network Reliability">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="Network Reliability">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="Network Reliability">
<meta name="OWNER" content="w00604599">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00805567">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0172361732">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Overview of VRRP</title>
</head>
<body><a name="EN-US_CONCEPT_0172361732"></a><a name="EN-US_CONCEPT_0172361732"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">Overview of VRRP</h1>



<div><p>The Virtual Router Redundancy Protocol (VRRP) is a fault-tolerant protocol running on routers. VRRP implements egress gateway backup and ensures communication continuity and reliability.</p>
<div class="section" id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_section_dc_vrp_vrrp_feature_012801"><h4 class="sectiontitle">Definition</h4><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p1668404364214008">The Virtual Router Redundancy Protocol (VRRP) is a standard-defined fault-tolerant protocol that groups several physical routing devices into a virtual one. If a physical routing device (master) that serves as the next hop of hosts fails, the virtual device switches traffic to a different physical routing device (backup), thereby ensuring service continuity and reliability.</p>
<p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p1921326119214008">VRRP allows logical and physical devices to work separately and implements route selection among multiple egress gateways.</p>
<p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p2136647042214008">On the network shown in <a href="#EN-US_CONCEPT_0172361732__en-us_concept_0172351596_fig_dc_vrp_vrrp_cfg_010202">Figure 1</a>, a VRRP group is configured on two <span class="keyword" id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_keyword1475638427214008">Router</span>s, one of which serves as the master, and the other as the backup. The two devices form a virtual <span class="keyword" id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_keyword093817451309">Router</span> that is assigned a virtual IP address and a virtual MAC address. Hosts are only aware of this virtual <span class="keyword" id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_keyword8199547703">Router</span>, as opposed to the master and backup <span class="keyword" id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_keyword1864164819011">Router</span>s, and they use it to communicate with devices on different network segments.</p>
<p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p1711143636214008">A virtual <span class="keyword" id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_keyword160406661214008">Router</span> consists of a master <span class="keyword" id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_keyword951348163711">Router</span> and one or more backup <span class="keyword" id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_keyword12705165119370">Router</span>s. Only the master <span class="keyword" id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_keyword7532254123720">Router</span> forwards packets. If the master <span class="keyword" id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_keyword1081381324214008">Router</span> fails, a backup <span class="keyword" id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_keyword124144120414">Router</span> is elected as the new master <span class="keyword" id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_keyword5934131384218">Router</span> through VRRP negotiation and takes over traffic.</p>
<div class="fignone" id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_fig_dc_vrp_vrrp_cfg_010202"><a name="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_fig_dc_vrp_vrrp_cfg_010202"></a><a name="en-us_concept_0172351596_fig_dc_vrp_vrrp_cfg_010202"></a><span class="figcap"><b>Figure 1 </b>Network diagram of a VRRP group</span><br><span><img class="vsd" id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_image380336726214008" src="images/fig_dc_vrp_vrrp_cfg_010202.png" width="NaN" height="NaN"></span><br></div>
<p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p1476724577214008">On a multicast or broadcast LAN such as an Ethernet network, a logical VRRP gateway ensures reliability for key links. VRRP is highly reliable and prevents service interruption if a physical VRRP-enabled gateway fails. VRRP configuration is simple and takes effect without modifying configurations such as routing protocols.</p>
</div>
<div class="section" id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_section_dc_vrp_vrrp_feature_012802"><h4 class="sectiontitle">Purpose</h4><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p1740779027214008">As networks rapidly develop and applications diversify, various value-added services (VASs), such as Internet Protocol television (IPTV) and video conferencing, are being widely deployed. As a result, network reliability is required to ensure uninterrupted service transmission for users.</p>
<p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p1841667089214008">Hosts are usually connected to an external network through a default gateway. If the default gateway fails, communication between the hosts and external network is interrupted. System reliability can be improved using dynamic routing protocols (such as RIP and OSPF) or ICMP Router Discovery Protocol (IRDP). However, this method requires complex configurations and each host must support dynamic routing protocols.</p>
<p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p822751856214008">VRRP provides a better option, which involves grouping multiple routing devices into a virtual router without changing existing networking. The IP address of the virtual router is configured as the default gateway address. If a gateway fails, VRRP selects a different gateway to forward traffic, thereby ensuring reliable communication.</p>
<p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p706360671214008">Hosts on a local area network (LAN) are usually connected to an external network through a default gateway. When the hosts send packets destined for addresses not within the local network segment, these packets follow a default route to an egress gateway (PE in <a href="#EN-US_CONCEPT_0172361732__en-us_concept_0172351596_fig_dc_vrp_vrrp_cfg_010201">Figure 2</a>). Subsequently, PE forwards packets to the external network to enable the hosts to communicate with the external network.</p>
<div class="fignone" id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_fig_dc_vrp_vrrp_cfg_010201"><a name="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_fig_dc_vrp_vrrp_cfg_010201"></a><a name="en-us_concept_0172351596_fig_dc_vrp_vrrp_cfg_010201"></a><span class="figcap"><b>Figure 2 </b>Network diagram of a default gateway on a LAN</span><br><span><img class="vsd" id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_image74383878214008" src="images/fig_dc_vrp_vrrp_cfg_010201.png" width="NaN" height="NaN"></span><br></div>
<p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p1687129992214008">If PE fails, the hosts connected to it will not be able to communicate with the external network, causing service interruptions. This communication failure persists even if an additional <span class="keyword" id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_keyword982855499214008">Router</span> is added to the LAN. The reasons for this are that only one default gateway can be configured for most hosts on a LAN and hosts send packets destined for addresses beyond the local network segment only through the default gateway even if they are connected to multiple <span class="keyword" id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_keyword77182049183116">Router</span>.</p>
<p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p597081154214008">One common method of improving system reliability is by configuring multiple egress gateways. However, this works only if hosts support route selection among multiple egress gateways. Another method involves deploying a dynamic routing protocol, such as Routing Information Protocol (RIP), or Open Shortest Path First (OSPF), as well as Internet Control Message Protocol (ICMP). However, it is difficult to run a dynamic routing protocol on every host due to possible management or security issues, as well as the fact that a host's operating system may not support the dynamic routing protocol.</p>
<p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p728274448214008">VRRP resolves this issue. VRRP is configured only on involved <span class="keyword" id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_keyword109747882214008">Router</span>s to implement gateway backup, without any networking changes or burden on hosts.</p>
</div>
<div class="section" id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_section_dc_vrp_vrrp_feature_012803"><h4 class="sectiontitle">Benefits</h4><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p2027119922214008">Benefits to carriers:</p>
<ul id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_ul1805663688214008"><li id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_li1395761783214008">Simplified network management: On a multicast or broadcast LAN such as an Ethernet network, VRRP provides a highly reliable default link that is applicable even if a device fails. Furthermore, it prevents network interruptions caused by single link faults without changing configurations, such as those of dynamic routing and route discovery protocols.</li><li id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_li1613252102214008">Strong adaptability: VRRP Advertisement packets are encapsulated into IP packets, supporting various upper-layer protocols.</li><li id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_li673288968214008">Small network overheads: VRRP defines only VRRP Advertisement packets.</li></ul>
<p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p1279903295214008">Benefits to users:</p>
<ul id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_ul990957199214008"><li id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_li216911805214008">Simple configuration: Users only need to specify a gateway address, without the need to configure complex routing protocols on their hosts.</li><li id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_li654834807214008">Improved user experience: Users are unaware of single point of failures on gateways, and their hosts can uninterruptedly communicate with external networks.</li></ul>
</div>
<div class="section" id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_section_dc_vrp_vrrp_cfg_010203"><h4 class="sectiontitle">Implementation Differences Between VRRP and VRRP6</h4><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p142961040615">VRRP supports both IPv4 and IPv6, but some features are different, as shown in the following table.</p>
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_simpletable1152919591245"><tr><th valign="bottom" align="left" id="en-us_concept_0172351596_stentry106941241972"><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p5529155910414">Feature</p>
</th>
<th valign="bottom" align="left" id="en-us_concept_0172351596_stentry1694241470"><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p952919599413">Supported by IPv4</p>
</th>
<th valign="bottom" align="left" id="en-us_concept_0172351596_stentry196944414710"><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p13529175915420">Supported by IPv6</p>
</th>
<th valign="bottom" align="left" id="en-us_concept_0172351596_stentry1969419415718"><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p452985917410">Implementation Difference</p>
</th>
</tr>
<tr id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_strow25291559147"><td valign="top" id="en-us_concept_0172351596_stentry1529859146" headers="en-us_concept_0172351596_stentry106941241972"><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p1446813391666"><a href="feature_0029070718.html">Association between VRRP and an interface monitoring group</a></p>
</td>
<td valign="top" id="en-us_concept_0172351596_stentry1952965918418" headers="en-us_concept_0172351596_stentry1694241470"><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p11529195915416">Yes</p>
</td>
<td valign="top" id="en-us_concept_0172351596_stentry25291599416" headers="en-us_concept_0172351596_stentry196944414710"><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p85295598414">No</p>
</td>
<td valign="top" id="en-us_concept_0172351596_stentry1652915591242" headers="en-us_concept_0172351596_stentry1969419415718"><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p452919591941">-</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_strow1452914592417"><td valign="top" id="en-us_concept_0172351596_stentry145291159146" headers="en-us_concept_0172351596_stentry106941241972"><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p96859442612"><a href="feature_0003993407.html">Association between VRRP and EFM</a></p>
</td>
<td valign="top" id="en-us_concept_0172351596_stentry165291959845" headers="en-us_concept_0172351596_stentry1694241470"><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p1098123931115">Yes</p>
</td>
<td valign="top" id="en-us_concept_0172351596_stentry1052915920420" headers="en-us_concept_0172351596_stentry196944414710"><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p698113913114">No</p>
</td>
<td valign="top" id="en-us_concept_0172351596_stentry16529155918412" headers="en-us_concept_0172351596_stentry1969419415718"><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p1098143921116">-</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_strow1529159542"><td valign="top" id="en-us_concept_0172351596_stentry13529185912410" headers="en-us_concept_0172351596_stentry106941241972"><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p1537914521762"><a href="feature_0003997816.html">Association between VRRP and NQA</a></p>
</td>
<td valign="top" id="en-us_concept_0172351596_stentry1852916591948" headers="en-us_concept_0172351596_stentry1694241470"><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p10867840151117">Yes</p>
</td>
<td valign="top" id="en-us_concept_0172351596_stentry18529125916417" headers="en-us_concept_0172351596_stentry196944414710"><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p886718404114">No</p>
</td>
<td valign="top" id="en-us_concept_0172351596_stentry1252914592410" headers="en-us_concept_0172351596_stentry1969419415718"><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p128671040101110">-</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_strow8194105616611"><td valign="top" id="en-us_concept_0172351596_stentry12194856867" headers="en-us_concept_0172351596_stentry106941241972"><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p1805631875"><a href="feature_0003993733.html">Association between VRRP and route status</a></p>
</td>
<td valign="top" id="en-us_concept_0172351596_stentry1619425617615" headers="en-us_concept_0172351596_stentry1694241470"><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p7374241111111">Yes</p>
</td>
<td valign="top" id="en-us_concept_0172351596_stentry1019415561765" headers="en-us_concept_0172351596_stentry196944414710"><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p1374104151111">No</p>
</td>
<td valign="top" id="en-us_concept_0172351596_stentry1619413560611" headers="en-us_concept_0172351596_stentry1969419415718"><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p19374114116112">-</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_strow174301559667"><td valign="top" id="en-us_concept_0172351596_stentry34313598615" headers="en-us_concept_0172351596_stentry106941241972"><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p3762871374"><a href="feature_0029070719.html">Unicast VRRP</a></p>
</td>
<td valign="top" id="en-us_concept_0172351596_stentry1743114591868" headers="en-us_concept_0172351596_stentry1694241470"><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p12781144141110">Yes</p>
</td>
<td valign="top" id="en-us_concept_0172351596_stentry7431659968" headers="en-us_concept_0172351596_stentry196944414710"><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p978113415113">No</p>
</td>
<td valign="top" id="en-us_concept_0172351596_stentry144318596618" headers="en-us_concept_0172351596_stentry1969419415718"><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p117816416115">-</p>
</td>
</tr>
</table></div>
<div class="note" id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_note929634010115"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_CONCEPT_0172361732__en-us_concept_0172351596_p1729612401510">In this document, if a VRRP function supports both IPv4 and IPv6, the implementation of this VRRP function is the same for IPv4 and IPv6 unless otherwise specified.</p>
</div></div>
</div>
</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vrrp_cfg_0100.html">VRRP Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/spec/VRRP_limitation.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>