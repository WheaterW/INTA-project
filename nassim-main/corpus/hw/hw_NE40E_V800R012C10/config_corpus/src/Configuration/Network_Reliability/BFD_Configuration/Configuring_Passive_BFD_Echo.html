
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Passive BFD Echo">
<meta name="abstract" content="This section describes how to configure passive BFD echo to implement interworking between devices that support the echo function. Passive BFD echo applies only to single-hop BFD sessions.">
<meta name="description" content="This section describes how to configure passive BFD echo to implement interworking between devices that support the echo function. Passive BFD echo applies only to single-hop BFD sessions.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bfd_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bfd_cfg_0045.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bfd_cfg_0032.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909,m00390128">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BFD">
<meta name="featuretype" content="Network Reliability">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BFD">
<meta name="featuretype" content="Network Reliability">
<meta name="featurename" content="BFD">
<meta name="featuretype" content="Network Reliability">
<meta name="OWNER" content="p00915595,l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="s00826690">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172361659">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Passive BFD Echo</title>
</head>
<body><a name="EN-US_TASK_0172361659"></a><a name="EN-US_TASK_0172361659"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Passive BFD Echo</h1>
<div class="taskbody"><p>This section describes how to configure passive BFD echo to implement interworking between devices that support the echo function. Passive BFD echo applies only to single-hop BFD sessions.</p>
<div class="context"><a name="EN-US_TASK_0172361659__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>BFD provides the asynchronous detection mode. An auxiliary function of the asynchronous mode is the echo function, which must work with the asynchronous mode. When the echo function is activated, the local system sends a BFD control packet and the remote system loops the packet back through the forwarding channel. If several consecutive echo packets are not received, the session is declared to be down.</p>
<p>If a device that supports the echo function is deployed on a network, you can enable passive BFD echo for interworking with other vendors' devices.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172361659__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring passive BFD echo, complete the following tasks:</p>
<ul><li><p>Enable BFD globally.</p>
</li><li>(Optional) Create an ACL.</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172361659__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=acl"><b><span class="cmdname" id="EN-US_TASK_0172361659__en-us_task_0172336153_cmdname830329318214207">acl</span></b></a> { <strong><span id="EN-US_TASK_0172361659__en-us_task_0172336153_cmdparmname1836897817214207">name</span></strong> <i><span class="varname" id="EN-US_TASK_0172361659__en-us_task_0172336153_varname1833174039214207">basic-acl-name</span></i> { <strong><span id="EN-US_TASK_0172361659__en-us_task_0172336153_cmdparmname812104027214207">basic</span></strong> | [ <strong><span id="EN-US_TASK_0172361659__en-us_task_0172336153_cmdparmname2098561743214207">basic</span></strong> ] <strong><span id="EN-US_TASK_0172361659__en-us_task_0172336153_cmdparmname2073793852214207">number</span></strong> <i><span class="varname" id="EN-US_TASK_0172361659__en-us_task_0172336153_varname1517281059214207">basic-acl-number</span></i> } | [ <strong><span id="EN-US_TASK_0172361659__en-us_task_0172336153_cmdparmname958027286214207">number</span></strong> ] <i><span class="varname" id="EN-US_TASK_0172361659__en-us_task_0172336153_varname235500026214207">basic-acl-number</span></i> } [ <strong><span id="EN-US_TASK_0172361659__en-us_task_0172336153_cmdparmname48680667214207">match-order</span></strong> { <strong><span id="EN-US_TASK_0172361659__en-us_task_0172336153_cmdparmname157204654214207">config</span></strong> | <strong><span id="EN-US_TASK_0172361659__en-us_task_0172336153_cmdparmname507297311214207">auto</span></strong> } ]</span></span><p><p>The basic ACL view is displayed.</p>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=rule"><b><span class="cmdname" id="EN-US_TASK_0172361659__en-us_task_0172336153_cmdname1993062488214207">rule</span></b></a> [ <i><span class="varname" id="EN-US_TASK_0172361659__en-us_task_0172336153_varname859153543214207">rule-id</span></i> ] [ <strong><span id="EN-US_TASK_0172361659__en-us_task_0172336153_cmdparmname1446371756214207">name</span></strong> <i><span class="varname" id="EN-US_TASK_0172361659__en-us_task_0172336153_varname1516501376214207">rule-name</span></i> ] { <strong><span id="EN-US_TASK_0172361659__en-us_task_0172336153_cmdparmname1764568478214207">deny</span></strong> | <strong><span id="EN-US_TASK_0172361659__en-us_task_0172336153_cmdparmname761045443214207">permit</span></strong> } [ <strong><span id="EN-US_TASK_0172361659__en-us_task_0172336153_cmdparmname350204750214207">fragment-type</span></strong> { <strong><span id="EN-US_TASK_0172361659__en-us_task_0172336153_cmdparmname2057248666214207">fragment</span></strong> | <strong><span id="EN-US_TASK_0172361659__en-us_task_0172336153_cmdparmname232427091214207">non-fragment</span></strong> | <strong><span id="EN-US_TASK_0172361659__en-us_task_0172336153_cmdparmname2108634181214207">non-subseq</span></strong> | <strong><span id="EN-US_TASK_0172361659__en-us_task_0172336153_cmdparmname1558997990214207">fragment-subseq</span></strong> | <strong><span id="EN-US_TASK_0172361659__en-us_task_0172336153_cmdparmname1149675104214207">fragment-spe-first</span></strong> } | <strong><span id="EN-US_TASK_0172361659__en-us_task_0172336153_cmdparmname810735923214207">source</span></strong> { <i><span class="varname" id="EN-US_TASK_0172361659__en-us_task_0172336153_varname673241813214207">source-ip-address</span></i> { <i><span class="varname" id="EN-US_TASK_0172361659__en-us_task_0172336153_varname58053590214207">source-wildcard</span></i> | <strong><span id="EN-US_TASK_0172361659__en-us_task_0172336153_cmdparmname1238085223214207">0</span></strong><span> | <i><span class="varname" id="EN-US_TASK_0172361659__en-us_task_0172336153_varname1849892084214207">src-netmask</span></i></span> } | <strong><span id="EN-US_TASK_0172361659__en-us_task_0172336153_cmdparmname336857444214207">any</span></strong> } | <strong><span id="EN-US_TASK_0172361659__en-us_task_0172336153_cmdparmname1089666193214207">time-range</span></strong> <i><span class="varname" id="EN-US_TASK_0172361659__en-us_task_0172336153_varname1818489711214207">time-name</span></i> | <strong><span id="EN-US_TASK_0172361659__en-us_task_0172336153_cmdparmname2122804462214207">vpn-instance</span></strong> <i><span class="varname" id="EN-US_TASK_0172361659__en-us_task_0172336153_varname1001938923214207">vpn-instance-name</span></i> ] <sup id="EN-US_TASK_0172361659__en-us_task_0172336153_sup1574448225214207">*</sup></span></span><p><p>An ACL rule is created.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li><li><span>Run <a href="cmdqueryname=bfd"><b><span class="cmdname">bfd</span></b></a></span><p><p>The BFD view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=echo-passive"><b><span class="cmdname">echo-passive</span></b></a> { <strong><span>all</span></strong> | <strong><span>acl</span></strong> <i><span class="varname">basic-acl-number</span></i> }</span><p><p>Passive BFD echo is enabled.</p>
</p><p><ul><li>To enable passive echo for all BFD sessions, specify the <strong><span>all</span></strong> parameter.</li><li>To enable passive echo for BFD sessions that match a configured ACL rule, specify the <strong><span>acl</span></strong> parameter. Passive echo is enabled for the BFD control packets that are permitted by the ACL, not for the BFD control packets that are denied by the ACL or do not match any ACL rules.</li></ul>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If an ACL rule is created or modified after a BFD session goes up through negotiations, this ACL rule can take effect only after the BFD session goes up from down or the parameters of the BFD session are modified.</p>
</div></div>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bfd_cfg_0000.html">BFD Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bfd_cfg_0045.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bfd_cfg_0032.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>