
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Creating a VRRP Group">
<meta name="abstract" content="You can create a Virtual Router Redundancy Protocol (VRRP) backup group and set VRRP priorities to determine the master and backup Routers. The master Router transmits data traffic. You can create multiple VRRP groups to load-balance data traffic.">
<meta name="description" content="You can create a Virtual Router Redundancy Protocol (VRRP) backup group and set VRRP priorities to determine the master and backup Routers. The master Router transmits data traffic. You can create multiple VRRP groups to load-balance data traffic.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vrrp_cfg_0104.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vrrp_cfg_0106.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00604599">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="Network Reliability">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="Network Reliability">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="Network Reliability">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="Network Reliability">
<meta name="OWNER" content="w00604599">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00604599">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172361749">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Creating a VRRP Group</title>
</head>
<body><a name="EN-US_TASK_0172361749"></a><a name="EN-US_TASK_0172361749"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Creating a VRRP Group</h1>
<div class="taskbody"><p>You can create a Virtual Router Redundancy Protocol (VRRP) backup group and set VRRP priorities to determine the master and backup <span class="keyword">Router</span>s. The master <span class="keyword">Router</span> transmits data traffic. You can create multiple VRRP groups to load-balance data traffic.</p>
<div class="context"><a name="EN-US_TASK_0172361749__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p">VRRP load balancing is classified as multi-gateway load balancing.<ul><li><p>Multi-gateway load balancing: Multiple VRRP groups with virtual IP addresses are created and specified as gateways for different users to implement load balancing.</p>
<div class="fignone" id="EN-US_TASK_0172361749__fig_dc_vrp_vrrp_cfg_010501"><a name="EN-US_TASK_0172361749__fig_dc_vrp_vrrp_cfg_010501"></a><a name="fig_dc_vrp_vrrp_cfg_010501"></a><span class="figcap"><b>Figure 1 </b>Multi-gateway load balancing</span><br><span><img class="vsd" src="images/fig_dc_vrp_vrrp_cfg_010501.png" width="NaN" height="NaN"></span></div>
<div class="p">As shown in <a href="#EN-US_TASK_0172361749__fig_dc_vrp_vrrp_cfg_010501">Figure 1</a>, VRRP groups 1 and 2 are deployed on the network.<ul><li>VRRP group 1: <span class="keyword">Device</span> A is the master device, and <span class="keyword">Device</span> B is the backup device.</li><li>VRRP group 2: <span class="keyword">Device</span> B is the master device, and <span class="keyword">Device</span> A is the backup device.</li></ul>
</div>
<p>Some users access the Internet using VRRP group 1, and others access the Internet using VRRP group 2. The backup groups can load-balance service traffic and back up each other.</p>
</li></ul>
</div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172361749__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Create a VRRP group working in master/backup mode.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=vrrp+vrid"><b><span class="cmdname">vrrp vrid</span></b></a> <i><span class="varname">virtual-router-id</span></i> <strong><span>virtual-ip</span></strong> <i><span class="varname">virtual-address</span></i></span><p><p>A VRRP group is created and assigned a virtual IP address.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li><p>VRRP groups cannot share virtual IP addresses.</p>
</li><li><p>Two devices in a single VRRP group must be configured with the same virtual router ID (VRID).</p>
</li><li><p>VRRP groups on different interfaces of a device can be configured with the same VRID.</p>
</li></ul>
</div></div>
<p>Multiple virtual IP addresses can be assigned to a VRRP group. A single virtual IP address serves a separate user group, in which users have the same reliability requirements. This setting helps prevent the default gateway addresses from varying according to changes in VRRP device locations.</p>
<p>A VRRP group is created and assigned the first virtual IP address at the same time. If another virtual IP address is assigned to the VRRP group, the system only adds the virtual IP address to the virtual IP address list for the VRRP group. </p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Direct routes destined for virtual IP addresses of a VRRP group can be imported to OSPF, IS-IS, and RIP. On a live network, there may be a large number of routes destined for virtual IP addresses of VRRP groups; therefore, if OSPF, IS-IS, or RIP imports and advertises these routes to neighbors, some devices on the network may be overloaded, and network performance may be impacted. To resolve this issue, run the <a href="cmdqueryname=vrrp+virtual-ip+route-advertise+disable"><b><span class="cmdname">vrrp virtual-ip route-advertise disable</span></b></a> command to disable OSPF, IS-IS, and RIP from advertising the routes destined for virtual IP addresses of VRRP groups to neighbors.</p>
</div></div>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=vrrp+vrid"><b><span class="cmdname">vrrp vrid</span></b></a> <i><span class="varname">virtual-router-id</span></i> <strong><span>priority</span></strong> <i><span class="varname">priority-value</span></i></span><p><p>A VRRP priority is set for the <span class="keyword">Router</span>.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li><p>The master device's priority must be higher than a backup device's priority. Using the default priority on a backup device is recommended.</p>
</li><li><p>If devices have the same VRRP priority, the device that enters the Master state earlier than others is the master device. Other devices are backup devices and stop preempting the Master state.</p>
</li></ul>
</div></div>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Create VRRP groups working in multi-gateway load balancing mode.</span><p><p>If VRRP groups need to work in multi-gateway load balancing mode, repeat the steps to configure two or more VRRP groups on the interface and assign different VRIDs to them.</p>
</p></li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vrrp_cfg_0104.html">Configuring Basic VRRP Functions
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vrrp_cfg_0106.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>