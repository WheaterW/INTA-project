
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring ARP Security">
<meta name="abstract" content="This example describes ARP security configuration procedures.">
<meta name="description" content="This example describes ARP security configuration procedures.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_arp-sec_cfg_0018.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_arpsec_cfg_5012_v8r22c00go.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="arpsec,z00603461,w00800033,w00556928,w00606909,l00455378,z00805567">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="ARP Security">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="ARP Security">
<meta name="featuretype" content="Security">
<meta name="featurename" content="ARP Security">
<meta name="featuretype" content="Security">
<meta name="featurename" content="ARP Security">
<meta name="featuretype" content="Security">
<meta name="OWNER" content="q00517581">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="h00522387">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172371911">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Example for Configuring ARP Security</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0172371911"></a><a name="EN-US_TASK_0172371911"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring ARP Security</h1>
<div class="taskbody"><p>This example describes ARP security configuration procedures.</p>
<div class="context"><a name="EN-US_TASK_0172371911__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>ARP is a basic link layer protocol that can be used on the Ethernet. It maps devices' IP addresses to MAC addresses. ARP is simple to use but does not have any security guarantee. Attackers may send forged ARP packets to attack networks, causing normal services to be interrupted and devices to break down. Therefore, carriers want to enhance backbone network security.</p>
<p>As shown in <a href="#EN-US_TASK_0172371911__fig_dc_vrp_arp_cfg_201901">Figure 1</a>, an Internet bar is connected to the Internet through the <span class="keyword">Device</span>. ARP security needs to be configured on the <span class="keyword">Device</span> to protect the Internet bar against ARP attacks.</p>
<div class="fignone" id="EN-US_TASK_0172371911__fig_dc_vrp_arp_cfg_201901"><a name="EN-US_TASK_0172371911__fig_dc_vrp_arp_cfg_201901"></a><a name="fig_dc_vrp_arp_cfg_201901"></a><span class="figcap"><b>Figure 1 </b>Networking diagram of configuring ARP security</span><br><span><img class="vsd" src="images/fig_dc_vrp_arp_cfg_201901.png"></span><br></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172371911__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Precautions</h4><p>None.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172371911__1.4.3"></a><a name="1.4.3"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><p>The configuration roadmap is as follows:</p>
<ul><li><p>Limit the ARP packet processing rate on interface boards. This effectively prevents devices from continuously processing a large number of invalid ARP packets (with destination IP addresses unable to be resolved) sent by attackers. Burdens on the devices' CPUs are relieved and valid packets can be properly processed on the devices.</p>
</li><li><p>Limit the number of ARP entries on interfaces. This effectively prevents devices from processing invalid ARP packets with forged source IP addresses sent by attackers. The devices can then process valid ARP packets and generate valid ARP entries, ensuring proper data forwarding.</p>
</li><li><p>Configure strict ARP entry learning on interfaces. This effectively prevents devices from receiving invalid ARP packets sent by attackers.</p>
</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0172371911__1.4.4"></a><a name="1.4.4"></a>
<div class="p"><h4 class="sectiontitle">Data Preparation</h4><p>To complete the configuration, you need the following data:</p>
<ul><li><p>Interface board slot number: <span>1</span>; number of ARP packets that the interface board processes every second: 50</p>
</li><li><p>Maximum number of ARP entries that an interface can learn: 20</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172371911__1.4.5"></a><a name="1.4.5"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure the interface board<span> in slot <span>1</span></span> to process 50 ARP packets to a specific destination every second.</span><p><pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong> sysname <span class="keyword">Device</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>]<strong> arp speed-limit destination-ip maximum 50<span> slot <span>1</span></span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>]<strong> commit</strong></pre>
</p></li><li><span>Configure GE <span>0/1/0</span> to learn a maximum of 20 ARP entries and enable strict ARP entry learning on GE <span>0/1/0</span>.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>] <strong>interface gigabitethernet <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>-GigabitEthernet<span>0/1/0</span>]<strong> arp-limit maximum 20</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>-GigabitEthernet<span>0/1/0</span>]<strong> arp learning strict force-enable</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>-GigabitEthernet<span>0/1/0</span>]<strong> commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>-GigabitEthernet<span>0/1/0</span>]<strong> quit</strong></pre>
</p></li><li><span>Verify the configuration.</span><p><p>Use a tool to send gratuitous ARP packets to the <span class="keyword">Device</span>. Run the <strong>display arp</strong> command on the <span class="keyword">Device</span>. The command output shows that the <span class="keyword">Device</span> has not learned the received gratuitous ARP packets.</p>
<pre class="screen">&lt;<span class="keyword">Device</span>&gt; <strong>display arp all</strong></pre>
<pre class="screen">IP ADDRESS      MAC ADDRESS     EXPIRE(M) TYPE        INTERFACE   VPN-INSTANCE</pre>
<pre class="screen">                                          VLAN/CEVLAN PVC</pre>
<pre class="screen">------------------------------------------------------------------------------</pre>
<pre class="screen">192.168.1.200   00e0-fc7f-7258            I -         GE<span>0/1/0</span></pre>
<pre class="screen">172.16.1.180    00e0-fc56-7741  9         D-0         GE<span>0/2/0</span></pre>
<pre class="screen">10.2.1.1        00e0-fc11-8894            I -         GE<span>0/1/1</span></pre>
<pre class="screen">10.1.1.1        00e0-fc39-f564            I -         GE<span>0/2/1</span></pre>
<pre class="screen">10.1.1.2        00e0-fc22-18d5  9         D-3         GE<span>0/2/1</span></pre>
<pre class="screen">------------------------------------------------------------------------------</pre>
<pre class="screen">Total:5         Dynamic:2       Static:0    Interface:3    Remote:0</pre>
<pre class="screen">Redirect:0</pre>
<p>Run the <strong>display arp speed-limit</strong> command on the <span class="keyword">Device</span> to view the configured ARP packet processing rate.</p>
<pre class="screen">&lt;<span class="keyword">Device</span>&gt; <strong>display arp speed-limit destination-ip<span> slot <span>1</span></span></strong></pre>
<pre class="screen">Slot     SuppressType    SuppressValue</pre>
<pre class="screen"> ---------------------------------------------------</pre>
<pre class="screen"> <span>1</span>        ARP          50</pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0172371911__1.4.6"></a><a name="1.4.6"></a><h4 class="sectiontitle">Configuration Files</h4><pre class="screen">#
sysname <span class="keyword">Device</span>
arp speed-limit destination-ip maximum 50<span> slot <span>1</span></span> 
#
interface GigabitEthernet<span>0/1/0</span>
 undo shutdown
 arp learning strict force-enable
 arp-limit maximum 20 
#
return</pre>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_arp-sec_cfg_0018.html">Configuration Examples for ARP Security
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_arpsec_cfg_5012_v8r22c00go.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>