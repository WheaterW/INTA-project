
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring AAA Schemes for the Domain">
<meta name="abstract" content="Associate the remote authentication, authorization, and accounting schemes of the domain user with the server template by configuring a domain. Then, corresponding authentication, authorization, and accounting will be implemented for the users accessing the domain.">
<meta name="description" content="Associate the remote authentication, authorization, and accounting schemes of the domain user with the server template by configuring a domain. Then, corresponding authentication, authorization, and accounting will be implemented for the users accessing the domain.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_aaa_cfg_1003.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_aaa_cfg_0555.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_aaa_cfg_1031.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="aaavrp,z00603461,w00800033,z00588052,w00556928,w00606909,l00455378,z00805567">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="AAA (Administrative User)">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="AAA (Administrative User)">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="AAA (Administrative User)">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="AAA (Administrative User)">
<meta name="featuretype" content="Security">
<meta name="OWNER" content="z00603461,z00588052">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172371794">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring AAA Schemes for the Domain</title>
</head>
<body><a name="EN-US_TASK_0172371794"></a><a name="EN-US_TASK_0172371794"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring AAA Schemes for the Domain</h1>
<div class="taskbody"><p>Associate the remote authentication, authorization, and accounting schemes of the domain user with the server template by configuring a domain. Then, corresponding authentication, authorization, and accounting will be implemented for the users accessing the domain.</p>
<div class="steps"><a name="EN-US_TASK_0172371794__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=aaa"><b><span class="cmdname">aaa</span></b></a></span></span><p><p>The AAA view is displayed.</p>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=service-type+terminal+force-domain"><b><span class="cmdname">service-type terminal force-domain</span></b></a> <i><span class="varname">domain-name</span></i></span></span><p><p>A forced domain is configured for a console interface.</p>
</p><p><p>When users logging
in through the console interface and users logging in using other
login methods must be distinguished, run the <b><span class="cmdname" id="EN-US_TASK_0172371794__en-us_cliref_0172383266_cmdname578409320214536">service-type
terminal force-domain</span></b> command to specify a forced domain
for the console interface. After the configuration becomes effective,
users logging in through the console interface automatically enter
the forced domain and are not allocated any other domain based on
the user names. In this manner, users logging in through the console
interface and users logging using other methods are distinguished
and allocated different rights.</p>
<p><span>In VS mode, this command is supported only by the admin VS.</span></p>
</p></li><li><span>(Optional) Run <span><span><a href="cmdqueryname=default-domain"><b><span class="cmdname">default-domain</span></b></a> { <strong><span>admin</span></strong> | <strong><span>access</span></strong> } <i><span class="varname">domain-name</span></i></span></span></span><p><p>The domain name created in the preceding step is configured as the default domain name.</p>
</p><p><p>After a user manually creates a domain name (for example, first_domain) and the name is not the default domain name in the system, you must suffix @first_domain to the username during authentication, which is inconvenient. To facilitate user authentication, run the <a href="cmdqueryname=default-domain"><b><span class="cmdname">default-domain</span></b></a> command to set the domain name <strong>first_domain</strong> as the default domain name. With this configuration, <strong>@first_domain</strong> is automatically suffixed to user names.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=domain-name-delimiter"><b><span class="cmdname">domain-name-delimiter</span></b></a> <i><span class="varname">delimiter</span></i></span><p><p>The domain name delimiter is configured.</p>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=domain-location"><b><span class="cmdname">domain-location</span></b></a> { <strong><span>after-delimiter</span></strong> | <strong><span>before-delimiter</span></strong> }</span></span><p><p>The domain name location is configured so that the system can correctly parse the username and domain name.</p>
</p><p></p></li><li><span>(Optional) Run <a href="cmdqueryname=domainname-parse-direction"><b><span class="cmdname">domainname-parse-direction</span></b></a> { <strong><span>left-to-right</span></strong> | <strong><span>right-to-left</span></strong> }</span><p><p>The direction in which the domain name is parsed is configured so that the system can correctly parse the username and domain name.</p>
</p><p><p>When a domain username contains multiple domain name delimiters, run the <a href="cmdqueryname=domainname-parse-direction"><b><span class="cmdname">domainname-parse-direction</span></b></a> command to configure the direction in which the domain name is parsed.<span>Use <strong id="EN-US_TASK_0172371794__en-us_cliref_0172383110_b292748687214534">user1@abcd@domain1</strong> as an example. When the domain name is parsed from left to right, the first delimiter @ from the left is considered the domain name delimiter. When the domain name is parsed from right to left, the first delimiter @ from the right is considered the domain name delimiter. The other delimiters are considered part of the user name or domain name.</span></p>
</p></li><li><span>Run <span><a href="cmdqueryname=domain"><b><span class="cmdname">domain</span></b></a> <i><span class="varname">domain-name</span></i></span></span><p><p>A domain is created and the AAA domain view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=authentication-scheme"><b><span class="cmdname">authentication-scheme</span></b></a> <i><span class="varname">scheme-name</span></i></span><p><p>The authentication scheme is configured for the domain.</p>
</p></li><li><span>Run <a href="cmdqueryname=authorization-scheme"><b><span class="cmdname">authorization-scheme</span></b></a> <i><span class="varname">authorization-scheme-name</span></i></span><p><p>The authorization scheme is configured for the domain.</p>
</p></li><li><span>Run <a href="cmdqueryname=accounting-scheme"><b><span class="cmdname">accounting-scheme</span></b></a> <i><span class="varname">accounting-scheme-name</span></i></span><p><p>The accounting scheme is configured for the domain.</p>
</p></li><li><span>Select the server template according to the configured authentication, authorization, and accounting modes.</span><p><ul><li><p>Run the <a href="cmdqueryname=radius-server+group"><b><span class="cmdname">radius-server group</span></b></a> <i><span class="varname">group-name</span></i> command to configure a RADIUS server template for the domain.</p>
<p><span>In VS mode, this command is supported only by the admin VS.</span></p>
</li><li><p>Run the <a href="cmdqueryname=hwtacacs-server"><b><span class="cmdname">hwtacacs-server</span></b></a> <i><span class="varname">template-name</span></i> command to configure the HWTACACS server template for the domain.</p>
</li></ul>
</p></li><li><span>Run <span><a href="cmdqueryname=block"><b><span class="cmdname">block</span></b></a></span></span><p><p>The status of the domain is configured.</p>
</p><p><p>When a domain is in block state, users of the domain cannot access the network.</p>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=access-limit"><b><span class="cmdname">access-limit</span></b></a> <em>access-limit-number</em></span></span><p><p>The maximum number of access users for the domain is set.</p>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=adminuser-priority"><b><span class="cmdname">adminuser-priority</span></b></a> <i><span class="varname">level</span></i></span></span><p><p>The default user level for administrators in a specific AAA domain is configured.</p>
</p><p><p>If a user level is not assigned by the local device (using the <a href="cmdqueryname=local-user+level"><b><span class="cmdname" id="EN-US_TASK_0172371794__en-us_cliref_0172382997_cmdname1191475121214533">local-user level</span></b></a> command) or by a remote server, administrators are not allowed to access a specific domain in management mode. To resolve this issue, run the <b><span class="cmdname" id="EN-US_TASK_0172371794__en-us_cliref_0172382997_cmdname923756631214533">adminuser-priority</span></b> command to configure a default level for administrators in a specific AAA domain. Then, the administrators will take this user level for login.</p>
<p>A user level assigned by the local device or a remote server takes precedence over a user level configured using the <b><span class="cmdname" id="EN-US_TASK_0172371794__en-us_cliref_0172382997_cmdname388655192214533">adminuser-priority</span></b> command. When the user is added to a user group, the configuration of user group takes precedence over a user level configured using the <b><span class="cmdname" id="EN-US_TASK_0172371794__en-us_cliref_0172382997_cmdname179386851214533">adminuser-priority</span></b> command.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The configured default level of the local user cannot be higher than that of the login-in user.</p>
</div></div>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=service-type"><b><span class="cmdname">service-type</span></b></a><strong> </strong>{ <strong>ftp</strong> | <strong>ppp</strong> | <strong>ssh</strong> | <strong>telnet</strong> | <strong>terminal</strong> | <strong>snmp</strong> | <strong>qx</strong> | <strong>mml</strong> | <strong>http</strong> } <sup>*</sup></span><p><p>The access type is set for users in the domain.</p>
</p><p><p>The <strong><span>terminal</span></strong><span>, <strong><span>qx</span></strong>, and <strong><span>mml</span></strong></span> parameters can be specified only for the admin VS.</p>
<p>The <a href="cmdqueryname=local-user+service-type"><b><span class="cmdname" id="EN-US_TASK_0172371794__en-us_cliref_0172383265_cmdname276596320214536">local-user service-type</span></b></a> command configures the user access type for a specific user. When a user attempts to log in, the access type configured in the domain view and the access type configured using the <a href="cmdqueryname=local-user+service-type"><b><span class="cmdname" id="EN-US_TASK_0172371794__en-us_cliref_0172383265_cmdname1412057674214536">local-user service-type</span></b></a> command are checked in sequence. The user is allowed to log in only when both access types are authenticated.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_aaa_cfg_1003.html">Configuring AAA
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_aaa_cfg_0555.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_aaa_cfg_1031.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>