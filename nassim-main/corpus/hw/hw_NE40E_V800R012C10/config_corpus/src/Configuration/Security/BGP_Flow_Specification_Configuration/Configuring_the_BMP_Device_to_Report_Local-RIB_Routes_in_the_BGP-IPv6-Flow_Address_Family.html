
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring the BMP Device to Report Local-RIB Routes in the BGP-IPv6-Flow Address Family">
<meta name="abstract" content="BGP Monitoring Protocol (BMP) allows the BGP status of devices on the network to be monitored in real time.">
<meta name="description" content="BGP Monitoring Protocol (BMP) allows the BGP status of devices on the network to be monitored in real time.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_flowspec_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_flowspec_cfg_0030.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_flowspec_cfg_0010.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP Flow Specfication">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP Flow Specfication">
<meta name="featuretype" content="Security">
<meta name="OWNER" content="l00369725">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00615954">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001216291077">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring the BMP Device to Report Local-RIB Routes in the BGP-IPv6-Flow Address Family</title>
</head>
<body><a name="EN-US_TASK_0000001216291077"></a><a name="EN-US_TASK_0000001216291077"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring the BMP Device to Report Local-RIB Routes in the BGP-IPv6-Flow Address Family</h1>
<div class="taskbody"><p>BGP Monitoring Protocol (BMP) allows the BGP status of devices on the network to be monitored in real time.</p>
<div class="context"><a name="EN-US_TASK_0000001216291077__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p id="EN-US_TASK_0000001216291077__en-us_task_0000001171206670_p16703251010">BMP is mainly used on a network where a monitoring server exists and the BGP status of devices on the network needs to be monitored. The status includes the establishment and disconnection of peer relationships and update of routing information. BMP greatly improves the efficiency of network monitoring, because without it, BGP status of devices can be obtained only through manual query.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001216291077__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p id="EN-US_TASK_0000001216291077__en-us_task_0172366492_p2012378205214039">Before configuring BMP, <a href="dc_vrp_bgp6_cfg_0003.html">configure basic BGP4+ functions</a>.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001216291077__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=bmp"><b><span class="cmdname">bmp</span></b></a></span><p><p>BMP is enabled, and the BMP view is displayed.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=statistics-timer"><b><span class="cmdname">statistics-timer</span></b></a> <i><span class="varname">time</span></i></span><p><p>An interval at which the BMP device sends BGP4+ running statistics to a monitoring server is configured.</p>
</p><p><p>You can configure the interval at which the BMP device sends BGP4+ running statistics to a monitoring server based on BGP4+ stability requirements. Generally, if high network quality is required, you need to set a small interval for reporting the statistics. However, if the statistics are frequently reported, some network bandwidth resources are occupied.</p>
</p></li><li><span>Run <a href="cmdqueryname=bmp-session+alias"><b><span class="cmdname">bmp-session</span></b></a> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vrf-name</span></i> ] <i><span class="varname">ipv6-address</span></i> [ <strong><span>alias</span></strong> <i><span class="varname">alias-name</span></i> ]</span><p><p>An IPv6 session address is specified for the TCP connection to be established between the BMP device and the monitoring server.</p>
</p><p><p><strong><span>alias</span></strong> <i><span class="varname">alias-name</span></i> specifies a session alias. If the device needs to establish TCP connections with monitoring servers that have the same destination IPv6 address but different destination port numbers, specify different values for the <strong><span>alias</span></strong> <i><span class="varname">alias-name</span></i> parameter to differentiate the connections.</p>
</p></li><li><span>Run one of the following commands to enter the BMP-Monitor view:</span><p><ul><li><a href="cmdqueryname=monitor+public"><b><span class="cmdname">monitor public</span></b></a>: displays the BMP-Monitor view and allows the status of all BGP4+ peers in public address families to be monitored.</li><li><a href="cmdqueryname=monitor+vpn-instance"><b><span class="cmdname">monitor vpn-instance</span></b></a>: displays the BMP-Monitor view and allows the status of all BGP4+ peers in address families of a specified VPN instance to be monitored.</li></ul>
</p></li><li><span>Run <a href="cmdqueryname=route-mode+ipv6-family+flow+local-rib+report+route-identifier"><b><span class="cmdname">route-mode</span></b></a> <strong><span>ipv6-family</span></strong> <strong><span>flow</span></strong> <strong><span>local-rib</span></strong> [ <strong><span>report route-identifier</span></strong> ]</span><p><p>The BMP device is configured to send statistics about Local-RIB routes of BGP4+ peers in the BGP-IPv6-Flow address family to the monitoring server.</p>
</p></li><li><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the BMP session view.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0000001216291077__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>After the configuration is complete, verify the configuration.</p>
<ul><li>Run the <a href="cmdqueryname=display+bmp+session+vpn-instance+alias+verbose"><b><span class="cmdname">display bmp session</span></b></a> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vrf-name</span></i> ] [ <i><span class="varname">ipv6-address</span></i> [ <strong><span>alias</span></strong> <i><span class="varname">alias-name</span></i> ] <strong><span>verbose</span></strong> ] command to check BMP session configurations.</li><li>Run the <a href="cmdqueryname=display+bgp+bmp-monitor+all"><b><span class="cmdname">display bgp bmp-monitor</span></b></a> <strong><span>all</span></strong> command to check information about all the BGP4+ peers monitored by BMP.</li></ul>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_flowspec_cfg_0000.html">BGP Flow Specification Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_flowspec_cfg_0030.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_flowspec_cfg_0010.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>