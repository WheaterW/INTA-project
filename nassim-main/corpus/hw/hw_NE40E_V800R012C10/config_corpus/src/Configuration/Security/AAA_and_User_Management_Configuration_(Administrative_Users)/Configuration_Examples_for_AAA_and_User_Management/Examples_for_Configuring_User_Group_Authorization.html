
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Examples for Configuring User Group Authorization">
<meta name="abstract" content="This section provides an example for configuring user group authentication on a network so that the user groups network and service in the domain huawei can manage the routing module and service module respectively.">
<meta name="description" content="This section provides an example for configuring user group authentication on a network so that the user groups network and service in the domain huawei can manage the routing module and service module respectively.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_aaa_cfg_1020.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_aaa_cfg_1022.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="aaavrp,z00603461,w00800033,z00588052,w00556928,w00606909,l00455378,z00805567">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="AAA (Administrative User)">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="AAA (Administrative User)">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="AAA (Administrative User)">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="AAA (Administrative User)">
<meta name="featuretype" content="Security">
<meta name="OWNER" content="z00603461,z00588052">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172371839">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Examples for Configuring User Group Authorization</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0172371839"></a><a name="EN-US_TASK_0172371839"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Examples for Configuring User Group Authorization</h1>
<div class="taskbody"><p>This section provides an example for configuring user group authentication on a network so that the user groups <strong>network</strong> and <strong>service</strong> in the domain <strong>huawei</strong> can manage the routing module and service module respectively.</p>
<div class="context"><a name="EN-US_TASK_0172371839__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>As shown in <a href="#EN-US_TASK_0172371839__fig_dc_vrp_aaa_cfg_102101">Figure 1</a>, two administrators (<strong>adminA</strong> and <strong>adminB</strong>) simultaneously manage the <span class="keyword">Device</span>. To normalize the operations, <strong>adminA</strong> and <strong>adminB</strong> are required to manage the route module and MPLS module, respectively. In addition, they have no permission to operate each other's module.</p>
<div class="fignone" id="EN-US_TASK_0172371839__fig_dc_vrp_aaa_cfg_102101"><a name="EN-US_TASK_0172371839__fig_dc_vrp_aaa_cfg_102101"></a><a name="fig_dc_vrp_aaa_cfg_102101"></a><span class="figcap"><b>Figure 1 </b>User group authorization</span><br><span><img class="vsd" src="images/fig_dc_vrp_aaa_cfg_102101.png"></span><br></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172371839__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Precautions</h4><p>During the configuration, note the following:</p>
<ul><li><p><strong>adminA</strong> and <strong>adminB</strong> must belong to different user groups.</p>
</li><li><p>The user groups to which <strong>adminA</strong> and <strong>adminB</strong> belong cannot overlap on routes or MPLS permissions.</p>
</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0172371839__1.4.3"></a><a name="1.4.3"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><p>The configuration roadmap is as follows:</p>
<ol><li><p>Configure task groups and add task instances of the corresponding modules.</p>
</li><li><p>Configure user groups and add corresponding task groups.</p>
</li><li><p>Configure users and specify user groups for them.</p>
</li></ol>
</div></div>
<div class="context"><a name="EN-US_TASK_0172371839__1.4.4"></a><a name="1.4.4"></a>
<div class="p"><h4 class="sectiontitle">Data Preparation</h4><p>To complete the configuration, you need the following data:</p>
<ul><li><p>Task group names</p>
</li><li><p>User group names</p>
</li><li><p>Domain name</p>
</li><li>Local authentication for users</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172371839__1.4.5"></a><a name="1.4.5"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure task groups.</span><p><p># Configure a task group for the routing module.</p>
<pre class="screen">&lt;<span class="keyword">Device</span>&gt; <strong>system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>] <strong>aaa</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>-aaa] <strong>task-group route</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>-aaa-task-group-route] <strong>task ospf read write</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>-aaa-task-group-route] <strong>task isis read write</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>-aaa-task-group-route] <strong>task bgp read write</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>-aaa-task-group-route] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>-aaa-task-group-route] <strong>quit</strong></pre>
<p># Configure a task group for the MPLS module.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>-aaa] <strong>task-group mpls</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>-aaa-task-group-mpls] <strong>task mpls-base read write</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>-aaa-task-group-mpls] <strong>task mpls-ldp read write</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>-aaa-task-group-mpls] <strong>task mpls-te read write</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>-aaa-task-group-mpls] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>-aaa-task-group-mpls] <strong>quit</strong></pre>
</p></li><li><span>Configure user groups.</span><p><p># Configure the user group <strong>groupA</strong>.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>-aaa] <strong>user-group groupA</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>-aaa-user-group-groupa] <strong>task-group route</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>-aaa-user-group-groupa] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>-aaa-user-group-groupa] <strong>quit</strong></pre>
<p># Configure the user group <strong>groupB</strong>.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>-aaa] <strong>user-group groupB</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>-aaa-user-group-groupb] <strong>task-group mpls</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>-aaa-user-group-groupb] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>-aaa-user-group-groupb] <strong>quit</strong></pre>
</p></li><li><span>Configure users.</span><p><p>Configure the user <strong>adminA</strong>.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>-aaa] <strong>local-user adminA password</strong>
Please configure the password (<span>8-128</span>)
Enter Password:
Confirm Password:
[<span class="keyword">*</span><span class="keyword">Device</span>-aaa] <strong>local-user adminA user-group groupA</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>-aaa] <strong>commit</strong></pre>
<p>Configure the user <strong>adminB</strong>.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>-aaa] <strong>local-user adminB password</strong>
Please configure the password (<span>8-128</span>)
Enter Password:
Confirm Password:
[<span class="keyword">*</span><span class="keyword">Device</span>-aaa] <strong>local-user adminB user-group groupB</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>-aaa] <strong>commit</strong></pre>
</p></li><li><span>Verify the configuration.</span><p><p>After the preceding configurations are complete, run the <a href="cmdqueryname=display+task-group"><b><span class="cmdname">display task-group</span></b></a> [ <i><span class="varname">task-group-name</span></i> ] command to check the user group information.</p>
<pre class="screen">&lt;<span class="keyword">Device</span>&gt; <strong>display task-group route</strong>
-----------------------------------------------------------
Task group name     : route
-----------------------------------------------------------

Task authorization
-----------------------------------------------------------
TaskName                          Authorization            
-----------------------------------------------------------
ospf                              read write               
bgp                               read write               
interface-mgr                     read write execute       
config                            read write execute       
vlan                              read write execute       
isis                              read write               
shell                             read write execute       
cli                               read execute             
-----------------------------------------------------------
Total 8, 8 printed</pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0172371839__1.4.6"></a><a name="1.4.6"></a><h4 class="sectiontitle">Configuration Files</h4><pre class="screen">#
diffserv domain default
#
admin
#
user-interface con 0
#
 aaa
 #
 authentication-scheme default
 #
 authorization-scheme default
 #
 accounting-scheme default
 #
 task-group route
  task ospf read write
  task bgp read write
  task isis read write
 #
 task-group mpls
  task mpls-base read write
  task mpls-ldp read write
  task mpls-te read write
 #
 user-group groupa
  task-group route
 #
 user-group groupb
  task-group mpls
 #
 domain default
 local-user admina password cipher %^%#pPgn;|W90$J72.Ak$Y,IQ:gqIfPBTLjqW%,N`M_<font style="font-size:8pt" Face="Courier New" >~</font>%^%#
 local-user admina user-group groupa
 local-user adminb password cipher %^%#pPgn4@^7&amp;QB*OY_,UMTLjqW%D0PV(YTLjqW%O1!!%^%#
 local-user adminb user-group groupb
 #
 task defaultTask1
 #
 task defaultTask2
return  </pre>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_aaa_cfg_1020.html">Configuration Examples for AAA and User Management
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_aaa_cfg_1022.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>