
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring the DHCP Snooping Binding Table">
<meta name="abstract" content="Dynamic entries in the DHCP snooping binding table are automatically generated when DHCP snooping is enabled. Static entries in the DHCP snooping binding table must be manually configured.">
<meta name="description" content="Dynamic entries in the DHCP snooping binding table are automatically generated when DHCP snooping is enabled. Static entries in the DHCP snooping binding table must be manually configured.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp-snooping_cfg_0041.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp-snooping_cfg_0042.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp-snooping_cfg_0016_1.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00800033,w00556928,dhcpsnp,w00606909,l00455378,z00805567">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="DHCP Snooping">
<meta name="featuretype" content="Security">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="DHCP Snooping">
<meta name="featuretype" content="Security">
<meta name="featurename" content="DHCP Snooping">
<meta name="featuretype" content="Security">
<meta name="featurename" content="DHCP Snooping">
<meta name="featuretype" content="Security">
<meta name="OWNER" content="y00852169">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="y00852169">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172372009">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring the DHCP Snooping Binding Table</title>
</head>
<body><a name="EN-US_TASK_0172372009"></a><a name="EN-US_TASK_0172372009"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring the DHCP Snooping Binding Table</h1>
<div class="taskbody"><p>Dynamic entries in the DHCP snooping binding table are automatically generated when DHCP snooping is enabled. Static entries in the DHCP snooping binding table must be manually configured.</p>
<div class="context"><a name="EN-US_TASK_0172372009__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The static IP address and the IP address allocated to a user in static mode are the IP addresses that are manually configured on the client. Static users are those who use static IP addresses.</p>
</div></div>
<p>If the IP addresses allocated to users are static IP addresses, static binding entries can be configured for these IP addresses, ensuring static IP address anti-embezzlement. If there are a large number of static users, static binding entries must be configured for each static IP address; otherwise, unauthorized users who attempt to embezzle static IP addresses cannot be isolated.</p>
<p>Dynamic entries in the DHCP snooping binding table do not need to be configured. They are automatically generated when DHCP snooping is enabled. However, static entries in the DHCP snooping binding table must be configured by running commands.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>For the IP addresses dynamically allocated to users, devices automatically learn the MAC addresses of users and create a binding relationship table. The table does not need to be configured manually.</li><li>For the IP addresses statically allocated to users, devices cannot create a binding relationship table. The table must be created manually.</li></ul>
</div></div>
<p>If the binding relationship table for static users is not created manually, the following situations occur:</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>If the device is configured to forward packets that do not match any entry in the binding relationship table, the packets of all static users are forwarded. All static users can access the DHCP server normally. This is the default condition of the devices.</li><li>If the device is configured for discard packets that do not match any entry in the binding relationship table, the packets of all static users are discarded. All static users cannot access the DHCP server.</li></ul>
</div></div>
<p>If the created binding table must contain interface information, the Option82 function must be enabled. If the Option82 function is not enabled and DHCP snooping is enabled on the VLANIF interface, entries in the created DHCP snooping binding table do not contain interface information. For details, see the description of how to <a href="dc_vrp_dhcp-snooping_cfg_0016_1.html">"configure the Option82 function"</a>.</p>
<p>When an interface receives an Address Resolution Protocol (ARP) or IP packet, the interface matches the source IP address and source MAC address of the ARP or IP packet with entries in the DHCP snooping binding table. The interface checks the MAC address, IP address, interface, and virtual local area network (VLAN) information. Based on this check, the interface performs the following actions:</p>
<ul><li>The ARP or IP packet is discarded if its source IP address and source MAC address do not match any entry in the DHCP snooping binding table.</li><li>The ARP or IP packet is forwarded if its source IP address and source MAC address match an entry in the DHCP snooping binding table.</li></ul>
<p>When an interface receives an ARP or IP packet, the interface matches the source IP address and source MAC address of the ARP or IP packet with entries in the DHCP snooping binding table. The ARP or IP packet is forwarded if its source IP address and source MAC address match an entry in the DHCP snooping binding table, or is discarded if its source IP address and source MAC address do not match any entry in the DHCP snooping binding table.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172372009__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure DHCP snooping static entries for a VLAN.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=vlan"><b><span class="cmdname">vlan</span></b></a> <i><span class="varname">vlan-id</span></i></span></span><p><p>The VLAN view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=dhcp+snooping+bind-table+static"><b><span class="cmdname">dhcp snooping bind-table static</span></b></a> <strong><span>ip-address</span></strong> <i><span class="varname">ip-address</span></i> [ <strong><span>mac-address</span></strong> <i><span class="varname">mac-address</span></i> ] [ <strong><span>interface</span></strong> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> [ <strong><span>ce-vlan</span></strong> <i><span class="varname">ce-vlan-id</span></i> ] ]</span></span></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure static DHCP snooping binding entries.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=bridge-domain"><b><span class="cmdname">bridge-domain</span></b></a> <i><span class="varname">bd-id</span></i></span></span><p><p>The BD view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=dhcp+snooping+bind-table+static"><b><span class="cmdname">dhcp snooping bind-table static</span></b></a> <strong><span>ip-address</span></strong> <i><span class="varname">ip-address</span></i> [ <strong><span>mac-address</span></strong> <i><span class="varname">mac-address</span></i> ] [ <strong><span>vlan</span></strong> <i><span class="varname">vlan-id</span></i> [ <strong><span>ce-vlan</span></strong> <i><span class="varname">ce-vlan-id</span></i> ] ]</span></span></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure static DHCP snooping binding entries.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=dhcp+snooping+bind-table+static"><b><span class="cmdname">dhcp snooping bind-table static</span></b></a> <strong><span>ip-address</span></strong> <i><span class="varname">ip-address</span></i> [ <strong><span>mac-address</span></strong> <i><span class="varname">mac-address</span></i> ] [ <strong><span>vlan</span></strong> <i><span class="varname">vlan-id</span></i> [ <strong><span>ce-vlan</span></strong> <i><span class="varname">ce-vlan-id</span></i> ] ]</span></span><p><p>The static DHCP snooping entry is configured.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure backup for the DHCP snooping binding table.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=dhcp+snooping+bind-table"><b><span class="cmdname">dhcp snooping bind-table</span></b></a> <strong><span>autosave</span></strong> <i><span class="varname">filename</span></i></span></span><p><p>Automatic backup is configured for the DHCP snooping binding table.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>(Optional) Configure the file integrity check mode of the DHCP snooping binding table.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=dhcp+snooping+database+authentication-mode"><b><span class="cmdname">dhcp snooping database authentication-mode</span></b></a> { <strong><span>check</span></strong> | <strong><span>no-check</span></strong> | <strong><span>force-check</span></strong> }</span><p><p>The file integrity check mode of the DHCP snooping binding table is configured.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp-snooping_cfg_0041.html">Configuring Defense Against Man-in-the-Middle Attacks and IP/MAC Address Spoofing
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp-snooping_cfg_0042.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp-snooping_cfg_0016_1.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>