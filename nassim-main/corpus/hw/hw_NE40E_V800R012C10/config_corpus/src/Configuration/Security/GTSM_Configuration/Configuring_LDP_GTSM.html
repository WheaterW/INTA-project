
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring LDP GTSM">
<meta name="abstract" content="To apply LDP GTSM, you need to configure GTSM on both ends of the corresponding LDP peer relationship.">
<meta name="description" content="To apply LDP GTSM, you need to configure GTSM on both ends of the corresponding LDP peer relationship.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_gtsm_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_gtsm_cfg_0013.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_gtsm_cfg_0015.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00800033,w00556928,w00606909,gtsm,l00455378,z00805567">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="GTSM">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="GTSM">
<meta name="featuretype" content="Security">
<meta name="featurename" content="GTSM">
<meta name="featuretype" content="Security">
<meta name="OWNER" content="y00852169">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="y00852169">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172372047">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring LDP GTSM</title>
</head>
<body><a name="EN-US_TASK_0172372047"></a><a name="EN-US_TASK_0172372047"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring LDP GTSM</h1>
<div class="taskbody"><p>To apply LDP GTSM, you need to configure GTSM on both ends of the corresponding LDP peer relationship.</p>
<div class="context"><a name="EN-US_TASK_0172372047__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>GTSM checks TTL values to defend against attacks. Attackers may simulate unicast LDP messages and continuously send them to a device. After receiving these messages, an interface board on the device sends them directly to the control plane for LDP processing, without validating them, if they are destined for the device. Consequently, the device becomes extremely busy, and CPU usage is high because the control plane needs to process these unverified messages.</p>
<p>GTSM protects the device by checking whether the TTL value in the IP header is within a predefined range, thereby improving system security.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172372047__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring LDP GTSM, complete the following task:</p>
<ul><li><p>Enable MPLS and MPLS LDP.</p>
</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0172372047__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Perform the following steps on both ends of the LDP peer relationship for which GTSM is to be enabled:</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172372047__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li><span>Run the <a href="cmdqueryname=mpls+ldp"><b><span class="cmdname">mpls ldp</span></b></a> command to enter the MPLS-LDP view.</span></li><li><span>Run the <a href="cmdqueryname=gtsm+peer"><b><span class="cmdname">gtsm peer</span></b></a> <i><span class="varname">ip-address</span></i> <strong><span>valid-ttl-hops</span></strong> <i><span class="varname">hops</span></i> command to configure LDP GTSM.</span><p><p>If the value of <i><span class="varname">hops</span></i> is set to the maximum number of valid hops permitted by GTSM, when the TTL values carried in the messages sent by an LDP peer are within the range [255 â <em>hops</em> + 1, 255], the messages are accepted; otherwise, the messages are dropped.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The valid TTL range is from 1 to 255 or from 1 to 64, depending on the device vendor. If a Huawei device is connected to a non-Huawei device, set <i><span class="varname">hops</span></i> to an appropriate value based on the valid TTL range defined by the vendor. Otherwise, the Huawei device will drop messages sent by the non-Huawei device, causing LDP session interruption.</p>
</div></div>
</p></li><li><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0172372047__1.4.5"></a><a name="1.4.5"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>After the configuration is complete, verify the configuration.</p>
<ul><li><p>Run the <a href="cmdqueryname=display+gtsm+statistics"><b><span class="cmdname">display gtsm statistics</span></b></a> { <i><span class="varname">slot-id</span></i> | <strong><span>all</span></strong> } command to check GTSM statistics.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p><span>In VS mode, this command is supported only by the admin VS.</span></p>
</div></div>
</li></ul>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_gtsm_cfg_0000.html">GTSM Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_gtsm_cfg_0013.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_gtsm_cfg_0015.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>