
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Caching and Retransmission Mechanisms for RADIUS Packets">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_aaa_cfg_1610.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_aaa_cfg_1612.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00588052,w00437000,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="AAA (Administrative User)">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="AAA (Administrative User)">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="AAA (Administrative User)">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="AAA (Administrative User)">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="AAA (Administrative User)">
<meta name="featuretype" content="Security">
<meta name="OWNER" content="z00588052,w00437000">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001174788370">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Configuring Caching and Retransmission Mechanisms for RADIUS Packets</title>
</head>
<body><a name="EN-US_TASK_0000001174788370"></a><a name="EN-US_TASK_0000001174788370"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Caching and Retransmission Mechanisms for RADIUS Packets</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001174788370__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_context1677625172748"><p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p59234335910">To ensure that factors such as network faults or delay do not prevent the device from receiving response packets sent by the RADIUS server, configure the caching and retransmission mechanisms for request packets to be sent to the RADIUS server. Perform configurations based on site requirements.</p>
<p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p9960103533115"></p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001174788370__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_steps10132325172748"><li id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_step5253145172748"><span id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmd7907968172748">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmdname1155554378214107">system-view</span></b></a></span><p><p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p18635165415149">The system view is displayed.</p>
</p></li><li id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_step83201215141013"><span id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmd23207159103">Run <a href="cmdqueryname=radius-server+group"><b><span class="cmdname" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmdname1287234752214059">radius-server group</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_varname10270517175011">group-name</span></i></span><p><p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p23787810151">The RADIUS server group view is displayed.</p>
</p></li><li id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_step412726023214059"><span id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmd314088751214059">Run <a href="cmdqueryname=radius-server"><b><span class="cmdname" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmdname11684135016537">radius-server </span></b></a>{ <strong><span id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmdparmname86841350185314">authentication</span></strong> | <strong><span id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmdparmname166841350175317">accounting</span></strong> } <strong><span id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmdparmname0684950125313">retransmit</span></strong> <i><span class="varname" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_varname868475035312">retry-times</span></i> <strong><span id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmdparmname15684135035312">timeout</span></strong> <i><span class="varname" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_varname66842508533">second</span></i></span><p><p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p15713132021516">The number of transmissions and the retransmission timeout period are configured for request packets to be sent to the RADIUS server.</p>
</p><p><p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p81912327182">When you run this command:</p>
<ul id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_ul1823810438182"><li id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_li155591247151810">If neither the <strong><span id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmdparmname9918104213528">authentication</span></strong> nor the <strong><span id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmdparmname8919342115214">accounting</span></strong> parameter is specified, the configuration takes effect for all RADIUS authentication and accounting servers in the RADIUS server group.</li><li id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_li68721654101814">If only the <strong><span id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmdparmname1665614495539">authentication</span></strong> parameter is specified, the configuration takes effect for all RADIUS authentication servers in the RADIUS server group.</li><li id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_li2238174391819">If only the <strong><span id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmdparmname2937627165413">accounting</span></strong> parameter is specified, the configuration takes effect for all RADIUS accounting servers in the RADIUS server group.</li></ul>
</p></li><li id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_step6241651154016"><span id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmd424115117404">Configure the caching and retransmission of accounting packets as required.</span><p>
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_table482322314116" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Configuring the caching and retransmission of accounting packets</caption><thead align="left"><tr id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_row1682472344110"><th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.2.4.2.1.2.4.1.1" liSelected="liSelected"><p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p28241423154112">Operation</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.2.4.2.1.2.4.1.2" liSelected="liSelected"><p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p682422315411">Command</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.2.4.2.1.2.4.1.3" liSelected="liSelected"><p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p108245235419">Description</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_row108241123124115"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.2.4.2.1.2.4.1.1 "><p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p68241923194119">Configure the caching and retransmission of Accounting Start packets.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.2.4.2.1.2.4.1.2 "><p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p138241823154113"><a href="cmdqueryname=radius-server+accounting-start-packet+resend"><b><span class="cmdname" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmdname12547733144216">radius-server accounting-start-packet resend</span></b></a> [ <i><span class="varname" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_varname1454713334426">resend-times</span></i> ]</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.2.4.2.1.2.4.1.3 "><p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p2082442394112">Run this command to specify the number of retransmissions for Accounting Start packets entering a cache queue.</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_row28241923204113"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.2.4.2.1.2.4.1.1 "><p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p1582432310414">Configure the caching and retransmission of Accounting Stop packets.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.2.4.2.1.2.4.1.2 "><p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p682492313419"><a href="cmdqueryname=radius-server+accounting-stop-packet+resend"><b><span class="cmdname" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmdname1274389553214059">radius-server accounting-stop-packet resend</span></b></a> [ <i><span class="varname" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_varname1710576753214059">resend-times</span></i> ]</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.2.4.2.1.2.4.1.3 "><p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p18824182384118">Run this command to specify the number of retransmissions for Accounting Stop packets entering a cache queue.</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_row6824132318417"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.2.4.2.1.2.4.1.1 "><p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p19824132314419">Configure the caching and retransmission of real-time accounting packets.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.2.4.2.1.2.4.1.2 "><p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p7824323154113"><a href="cmdqueryname=radius-server+accounting-interim-packet+resend"><b><span class="cmdname" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmdname710549686214059">radius-server accounting-interim-packet resend</span></b></a> [ <i><span class="varname" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_varname913989850214059">resend-times</span></i> ]</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.2.4.2.1.2.4.1.3 "><p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p13824192364119">Run this command to enable RADIUS real-time accounting packet caching and to specify the number of retransmissions for real-time accounting packets entering a cache queue.</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_step20602135111010"><span id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmd1860216514106">Run <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmdname1282828953214107">quit</span></b></a></span><p><p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p787212424158">Return to the system view.</p>
</p></li><li id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_step163518610214059"><span id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmd1625693757214059">Run <a href="cmdqueryname=radius-server+accounting+cache"><b><span class="cmdname" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmdname2134456973214059">radius-server accounting cache</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_varname15441545111211">max-packet-number</span></i></span><p><p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p18652578159">The maximum number of accounting packets that can be cached is configured.</p>
</p><p><div class="note" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_note761203314214059"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p984013219214059">If the value specified by <i><span class="varname" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_varname1707464973214059">max-packet-number</span></i> is not 8192, the system limits the maximum number of accounting packets that can be cached based on the specified value but no longer limits the number of users whose accounting packets can be cached.</p>
</div></div>
</p></li><li id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_step18321182420449"><span id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmd832112434419">Run <a href="cmdqueryname=radius-server+accounting+cache-warning-threshold"><b><span class="cmdname" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmdname122353327444">radius-server accounting cache-warning-threshold</span></b></a> <strong><span id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmdparmname9236132134414">upper-limit</span></strong> <i><span class="varname" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_varname1523653274418">upper-limit</span></i> <strong><span id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmdparmname1523663210448">lower-limit</span></strong> <i><span class="varname" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_varname162368322441">lower-limit</span></i></span><p><p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p472912153162">The accounting packet cache alarm function is enabled, and alarm thresholds for caching accounting packets are configured.</p>
</p><p><p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p1934776018214059">Accounting packet cache usage = Number of cached accounting packets/Maximum number of accounting packets that can be cached</p>
</p></li><li id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_step510749108214059"><span id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmd668121097214059">Run <a href="cmdqueryname=radius-server+accounting+cache+retransmit"><b><span class="cmdname" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmdname668223516214059">radius-server accounting cache retransmit</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_varname11425184417213">retransmit</span></i> <strong><span id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmdparmname1643144410213">timeout</span></strong> <i><span class="varname" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_varname3431164442114">timeout</span></i></span><p><p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p19121329191614">The interval for retransmitting cached RADIUS accounting packets and the number of users for each retransmission are configured.</p>
</p><p></p></li><li id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_step122053641214059"><span id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmd508661402214059">Run <a href="cmdqueryname=radius-server+accounting+cache+memory-threshold"><b><span class="cmdname" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmdname1573851933214059">radius-server accounting cache memory-threshold</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_varname191191374338">memory-threshold-value</span></i></span><p><p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p17771044191618">A memory usage threshold is configured for the main control board.</p>
</p><p></p></li><li id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_step1928495919214059"><span id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmd260226462214059">Run <a href="cmdqueryname=radius-server+cache+keep+packet"><b><span class="cmdname" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmdname489200427214059">radius-server cache keep packet</span></b></a></span><p><p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p1257517587167">The device is configured not to delete cached packets when the number of retransmissions reaches the specified threshold.</p>
</p><p></p></li><li id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_step313513081219"><span id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmd18135160181212">Run <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmdname1482513011125">quit</span></b></a></span><p><p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p94321111151719">Return to the user view.</p>
</p></li><li id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_step1706897244214059"><span id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmd1735423282214059">Run <a href="cmdqueryname=radius-server+cache+resend+packet"><b><span class="cmdname" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmdname13817438214059">radius-server cache resend packet</span></b></a></span><p><p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p1364815222175">The function to retransmit cached packets is manually triggered.</p>
</p></li><li id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_step18616152118220"><span id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmd116168211216">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_cmdname859118746214107">commit</span></b></a></span><p><p id="EN-US_TASK_0000001174788370__en-us_task_0000001136064454_p7658340172">The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_aaa_cfg_1610.html">(Optional) Configuring RADIUS Packets and Attributes Carried in the Packets
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_aaa_cfg_1612.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>