
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Setting the Maximum Number of DHCP Clients">
<meta name="abstract" content="This section describes how to configure the maximum number of DHCP snooping users on an interface.">
<meta name="description" content="This section describes how to configure the maximum number of DHCP snooping users on an interface.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp-snooping_cfg_0001_1.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp-snooping_cfg_0014_1.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp-snooping_cfg_0049.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00800033,w00556928,dhcpsnp,w00606909,l00455378,z00805567">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="DHCP Snooping">
<meta name="featuretype" content="Security">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="DHCP Snooping">
<meta name="featuretype" content="Security">
<meta name="featurename" content="DHCP Snooping">
<meta name="featuretype" content="Security">
<meta name="OWNER" content="y00852169">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="y00852169">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172372024">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Setting the Maximum Number of DHCP Clients</title>
</head>
<body><a name="EN-US_TASK_0172372024"></a><a name="EN-US_TASK_0172372024"></a>

<div class="articleBoxWithoutHead">





<h1 class="topicTitle-h1">Setting the Maximum Number of DHCP Clients</h1>
<div class="taskbody"><p>This section describes how to configure the maximum number of DHCP snooping users on an interface.</p>
<div class="context"><a name="EN-US_TASK_0172372024__1.4.1"></a><a name="1.4.1"></a>
<div class="p" id="EN-US_TASK_0172372024__en-us_task_0172371953_context1894050334214100"><h4 class="sectiontitle">Usage Scenario</h4><p id="EN-US_TASK_0172372024__en-us_task_0172371953_p1880509118214100">After the number of login users reaches the maximum number, no users can obtain IP addresses. To prevent malicious IP address application, configure the maximum number of DHCP snooping users.</p>
<p id="EN-US_TASK_0172372024__en-us_task_0172371953_p772739434214100">When the number of access users on a DHCP snooping device reaches the maximum, the device checks whether the IP address in the DHCP ACK packet exists in the binding table to determine whether the user is a new user. In this case, you can configure strict MAC address check for DHCP snooping. DHCP snooping can determine whether the user is a new user based on the MAC address in the DHCP Discover packet sent by the user. If the MAC address of the user does not exist in the DHCP snooping binding table, the user is not allowed to go online and packets are not sent to the DHCP server. This reduces the impact of excessive users on the DHCP server.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172372024__1.4.2"></a><a name="1.4.2"></a>
<div class="p" id="EN-US_TASK_0172372024__en-us_task_0172371953_context744213751214100"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p id="EN-US_TASK_0172372024__en-us_task_0172371953_p228340286214100">Before configuring the maximum number of DHCP snooping users, enable DHCP snooping and configure trusted interfaces.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172372024__1.4.3"></a><a name="1.4.3"></a>
<div class="p" id="EN-US_TASK_0172372024__en-us_task_0172371953_context801303533214100"><h4 class="sectiontitle">Procedure</h4><ul id="EN-US_TASK_0172372024__en-us_task_0172371953_ul490664451214100"><li id="EN-US_TASK_0172372024__en-us_task_0172371953_li1129731457214100">Configure the maximum number of DHCP snooping users in a VLAN.<ol id="EN-US_TASK_0172372024__en-us_task_0172371953_ol106378874214100"><li id="EN-US_TASK_0172372024__en-us_task_0172371953_li1698918499214100">Run <span id="EN-US_TASK_0172372024__en-us_task_0172371953_ph174781654164116"><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172372024__en-us_task_0172371953_cmdname4478165417415">system-view</span></b></a></span><p id="EN-US_TASK_0172372024__en-us_task_0172371953_p1634595913418">The system view is displayed.</p>
</li><li id="EN-US_TASK_0172372024__en-us_task_0172371953_li383928364214100"><p id="EN-US_TASK_0172372024__en-us_task_0172371953_p1643138160214100"><a name="EN-US_TASK_0172372024__en-us_task_0172371953_li383928364214100"></a><a name="en-us_task_0172371953_li383928364214100"></a>(Optional) Run <span><a href="cmdqueryname=dhcp+snooping+strict-check+mac-address"><b><span class="cmdname" id="EN-US_TASK_0172372024__en-us_task_0172371953_cmdname850571610423">dhcp snooping strict-check mac-address</span></b></a></span></p>
<p id="EN-US_TASK_0172372024__en-us_task_0172371953_p136693208424">DHCP snooping is enabled to strictly check the MAC addresses of login users.</p>
</li><li id="EN-US_TASK_0172372024__en-us_task_0172371953_li1640528393214100">Run <span id="EN-US_TASK_0172372024__en-us_task_0172371953_ph12128173554213"><a href="cmdqueryname=vlan"><b><span class="cmdname" id="EN-US_TASK_0172372024__en-us_task_0172371953_cmdname1812893518424">vlan</span></b></a> <i><span class="varname" id="EN-US_TASK_0172372024__en-us_task_0172371953_varname212853510426">vlan-id</span></i></span><p id="EN-US_TASK_0172372024__en-us_task_0172371953_p11132739154214">The VLAN view is displayed.</p>
</li><li id="EN-US_TASK_0172372024__en-us_task_0172371953_li106807821214100"><p id="EN-US_TASK_0172372024__en-us_task_0172371953_p1970202302214100"><a name="EN-US_TASK_0172372024__en-us_task_0172371953_li106807821214100"></a><a name="en-us_task_0172371953_li106807821214100"></a>Run <span><a href="cmdqueryname=dhcp+snooping+max-user-number"><b><span class="cmdname" id="EN-US_TASK_0172372024__en-us_task_0172371953_cmdname16596153717433">dhcp snooping max-user-number</span></b></a> <i><span class="varname" id="EN-US_TASK_0172372024__en-us_task_0172371953_varname1259603713430">max-user-number</span></i> [ <strong><span id="EN-US_TASK_0172372024__en-us_task_0172371953_cmdparmname11596103717438">interface</span></strong> <i><span class="varname" id="EN-US_TASK_0172372024__en-us_task_0172371953_varname0596937154316">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0172372024__en-us_task_0172371953_varname85963372435">interface-number</span></i> ]</span></p>
<p id="EN-US_TASK_0172372024__en-us_task_0172371953_p12741644154311">The maximum number of DHCP snooping users is configured in the VLAN.</p>
</li><li id="EN-US_TASK_0172372024__en-us_task_0172371953_li493706514214100"><p id="EN-US_TASK_0172372024__en-us_task_0172371953_p1996052437214100"><a name="EN-US_TASK_0172372024__en-us_task_0172371953_li493706514214100"></a><a name="en-us_task_0172371953_li493706514214100"></a>(Optional) Run <span><a href="cmdqueryname=dhcp+snooping+alarm+user-limit+enable"><b><span class="cmdname" id="EN-US_TASK_0172372024__en-us_task_0172371953_cmdname16287241442">dhcp snooping alarm user-limit enable</span></b></a> [ <strong><span id="EN-US_TASK_0172372024__en-us_task_0172371953_cmdparmname16287448444">interface</span></strong> <i><span class="varname" id="EN-US_TASK_0172372024__en-us_task_0172371953_varname32872464413">interface-type interface-number</span></i> ]</span></p>
<p id="EN-US_TASK_0172372024__en-us_task_0172371953_p1233491311443">The device is enabled to generate an alarm when the number of DHCP snooping users in the VLAN reaches the maximum.</p>
</li><li id="EN-US_TASK_0172372024__en-us_task_0172371953_li1010547339214100"><p id="EN-US_TASK_0172372024__en-us_task_0172371953_p1968446097214100"><a name="EN-US_TASK_0172372024__en-us_task_0172371953_li1010547339214100"></a><a name="en-us_task_0172371953_li1010547339214100"></a>(Optional) Run <span><a href="cmdqueryname=dhcp+snooping+alarm+user-limit+threshold"><b><span class="cmdname" id="EN-US_TASK_0172372024__en-us_task_0172371953_cmdname258122954416">dhcp snooping alarm user-limit threshold</span></b></a> <i><span class="varname" id="EN-US_TASK_0172372024__en-us_task_0172371953_varname1358122915443">threshold</span></i> [ <strong><span id="EN-US_TASK_0172372024__en-us_task_0172371953_cmdparmname1358172916444">interface</span></strong> <i><span class="varname" id="EN-US_TASK_0172372024__en-us_task_0172371953_varname195832974414">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0172372024__en-us_task_0172371953_varname0581529184414">interface-number</span></i> ]</span></p>
<p id="EN-US_TASK_0172372024__en-us_task_0172371953_p16117635184411">The maximum number of DHCP snooping users is configured in the VLAN.</p>
</li><li id="EN-US_TASK_0172372024__en-us_task_0172371953_li1198636737214100">Run <span id="EN-US_TASK_0172372024__en-us_task_0172371953_ph06164478443"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172372024__en-us_task_0172371953_cmdname461694720444">commit</span></b></a></span><p id="EN-US_TASK_0172372024__en-us_task_0172371953_p147114517447">The configuration is committed.</p>
</li></ol>
</li><li id="EN-US_TASK_0172372024__en-us_task_0172371953_li585723893214100">Configure the maximum number of DHCP snooping users for an interface.<ol id="EN-US_TASK_0172372024__en-us_task_0172371953_ol746947582214100"><li id="EN-US_TASK_0172372024__en-us_task_0172371953_li1707606614214100">Run <span id="EN-US_TASK_0172372024__en-us_task_0172371953_ph3424131134517"><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172372024__en-us_task_0172371953_cmdname1742491144513">system-view</span></b></a></span><p id="EN-US_TASK_0172372024__en-us_task_0172371953_p133306510455">The system view is displayed.</p>
</li><li id="EN-US_TASK_0172372024__en-us_task_0172371953_li1653359370214100"><p id="EN-US_TASK_0172372024__en-us_task_0172371953_p1720023057214100"><a name="EN-US_TASK_0172372024__en-us_task_0172371953_li1653359370214100"></a><a name="en-us_task_0172371953_li1653359370214100"></a>(Optional) Run <span><a href="cmdqueryname=dhcp+snooping+strict-check+mac-address"><b><span class="cmdname" id="EN-US_TASK_0172372024__en-us_task_0172371953_cmdname12537141215458">dhcp snooping strict-check mac-address</span></b></a></span></p>
<p id="EN-US_TASK_0172372024__en-us_task_0172371953_p1764802210454">DHCP snooping is enabled to strictly check the MAC addresses of login users.</p>
</li><li id="EN-US_TASK_0172372024__en-us_task_0172371953_li1282660691214100">Run <span id="EN-US_TASK_0172372024__en-us_task_0172371953_ph1181637104520"><a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0172372024__en-us_task_0172371953_cmdname12811376456">interface</span></b></a> <i><span class="varname" id="EN-US_TASK_0172372024__en-us_task_0172371953_varname158153764518">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0172372024__en-us_task_0172371953_varname781037124510">interface-number</span></i></span><p id="EN-US_TASK_0172372024__en-us_task_0172371953_p1941364274510">The interface view is displayed.</p>
</li><li id="EN-US_TASK_0172372024__en-us_task_0172371953_li1532005601214100"><p id="EN-US_TASK_0172372024__en-us_task_0172371953_p89208477214100"><a name="EN-US_TASK_0172372024__en-us_task_0172371953_li1532005601214100"></a><a name="en-us_task_0172371953_li1532005601214100"></a>Run <span><span><a href="cmdqueryname=dhcp+snooping+max-user-number"><b><span class="cmdname" id="EN-US_TASK_0172372024__en-us_task_0172371953_cmdname493113501454">dhcp snooping max-user-number</span></b></a></span> <i><span class="varname" id="EN-US_TASK_0172372024__en-us_task_0172371953_varname10931850124512">max-user-number</span></i></span></p>
<p id="EN-US_TASK_0172372024__en-us_task_0172371953_p6423155710456">The maximum number of DHCP snooping users is configured for the interface.</p>
</li><li id="EN-US_TASK_0172372024__en-us_task_0172371953_li86440342214100"><p id="EN-US_TASK_0172372024__en-us_task_0172371953_p1103882622214100"><a name="EN-US_TASK_0172372024__en-us_task_0172371953_li86440342214100"></a><a name="en-us_task_0172371953_li86440342214100"></a>(Optional) Run <span><a href="cmdqueryname=dhcp+snooping+alarm+user-limit+enable"><b><span class="cmdname" id="EN-US_TASK_0172372024__en-us_task_0172371953_cmdname156761912134612">dhcp snooping alarm user-limit enable</span></b></a></span></p>
<p id="EN-US_TASK_0172372024__en-us_task_0172371953_p5860141944619">The device is enabled to generate an alarm when the number of DHCP snooping users on the interface reaches the maximum.</p>
</li><li id="EN-US_TASK_0172372024__en-us_task_0172371953_li1374148055214100"><p id="EN-US_TASK_0172372024__en-us_task_0172371953_p1267220547214100"><a name="EN-US_TASK_0172372024__en-us_task_0172371953_li1374148055214100"></a><a name="en-us_task_0172371953_li1374148055214100"></a>(Optional) Run <span><a href="cmdqueryname=dhcp+snooping+alarm+user-limit+threshold"><b><span class="cmdname" id="EN-US_TASK_0172372024__en-us_task_0172371953_cmdname13190942154613">dhcp snooping alarm user-limit threshold</span></b></a> <i><span class="varname" id="EN-US_TASK_0172372024__en-us_task_0172371953_varname419094211463">threshold-value</span></i></span></p>
<p id="EN-US_TASK_0172372024__en-us_task_0172371953_p2335105413466">The maximum number of DHCP snooping users is configured for the interface.</p>
</li><li id="EN-US_TASK_0172372024__en-us_task_0172371953_li32131674712">Run <span id="EN-US_TASK_0172372024__en-us_task_0172371953_ph192161604719"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172372024__en-us_task_0172371953_cmdname921116104710">commit</span></b></a></span><p id="EN-US_TASK_0172372024__en-us_task_0172371953_p10838111654715">The configuration is committed.</p>
</li></ol>
</li><li id="EN-US_TASK_0172372024__en-us_task_0172371953_li484830700214100">Configure the maximum number of DHCP snooping users for a BD.<ol id="EN-US_TASK_0172372024__en-us_task_0172371953_ol1936821921214100"><li id="EN-US_TASK_0172372024__en-us_task_0172371953_li9629133012485">Run <span id="EN-US_TASK_0172372024__en-us_task_0172371953_ph262910304487"><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172372024__en-us_task_0172371953_cmdname1362993064820">system-view</span></b></a></span><p id="EN-US_TASK_0172372024__en-us_task_0172371953_p182952310489">The system view is displayed.</p>
</li><li id="EN-US_TASK_0172372024__en-us_task_0172371953_li51579583214100">Run <span id="EN-US_TASK_0172372024__en-us_task_0172371953_ph1715723719486"><a href="cmdqueryname=bridge-domain"><b><span class="cmdname" id="EN-US_TASK_0172372024__en-us_task_0172371953_cmdname101572037174816">bridge-domain</span></b></a> <i><span class="varname" id="EN-US_TASK_0172372024__en-us_task_0172371953_varname815720376483">bd-id</span></i></span><p id="EN-US_TASK_0172372024__en-us_task_0172371953_p76031641114810">The BD view is displayed.</p>
</li><li id="EN-US_TASK_0172372024__en-us_task_0172371953_li743998334214100"><p id="EN-US_TASK_0172372024__en-us_task_0172371953_p1730206704214100"><a name="EN-US_TASK_0172372024__en-us_task_0172371953_li743998334214100"></a><a name="en-us_task_0172371953_li743998334214100"></a>Run <span><a href="cmdqueryname=dhcp+snooping+max-user-number"><b><span class="cmdname" id="EN-US_TASK_0172372024__en-us_task_0172371953_cmdname1336944714819">dhcp snooping max-user-number</span></b></a> <i><span class="varname" id="EN-US_TASK_0172372024__en-us_task_0172371953_varname1136914477486">max-user-number</span></i></span></p>
<p id="EN-US_TASK_0172372024__en-us_task_0172371953_p895815418482">The maximum number of DHCP snooping users is configured for the BD.</p>
</li><li id="EN-US_TASK_0172372024__en-us_task_0172371953_li819503627214100">Run <span id="EN-US_TASK_0172372024__en-us_task_0172371953_ph145031611497"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172372024__en-us_task_0172371953_cmdname1150417115498">commit</span></b></a></span><p id="EN-US_TASK_0172372024__en-us_task_0172371953_p141725519490">The configuration is committed.</p>
</li></ol>
</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0172372024__1.4.4"></a><a name="1.4.4"></a>
<div class="p" id="EN-US_TASK_0172372024__en-us_task_0172371953_context1537416747214100"><h4 class="sectiontitle">Verifying the Configuration</h4><p id="EN-US_TASK_0172372024__en-us_task_0172371953_p2013800076214100">Run the <a href="cmdqueryname=display+dhcp+snooping"><b><span class="cmdname" id="EN-US_TASK_0172372024__en-us_task_0172371953_cmdname174452040154915">display dhcp snooping</span></b></a> { <strong><span id="EN-US_TASK_0172372024__en-us_task_0172371953_cmdparmname4445114084912">interface</span></strong> <i><span class="varname" id="EN-US_TASK_0172372024__en-us_task_0172371953_varname444584034915">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0172372024__en-us_task_0172371953_varname10445144011491">interface-number</span></i> | <strong><span id="EN-US_TASK_0172372024__en-us_task_0172371953_cmdparmname12445140164914">vlan</span></strong> <i><span class="varname" id="EN-US_TASK_0172372024__en-us_task_0172371953_varname8445164018492">vlan-id</span></i> [ <strong><span id="EN-US_TASK_0172372024__en-us_task_0172371953_cmdparmname04452403494">interface</span></strong> <i><span class="varname" id="EN-US_TASK_0172372024__en-us_task_0172371953_varname20445164024916">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0172372024__en-us_task_0172371953_varname544534016494">interface-number</span></i> ]<span> | <strong><span id="EN-US_TASK_0172372024__en-us_task_0172371953_cmdparmname1044517405498">bridge-domain</span></strong> <i><span class="varname" id="EN-US_TASK_0172372024__en-us_task_0172371953_varname10445184018494">bd-id</span></i></span> } command to check the maximum number of DHCP snooping users.</p>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp-snooping_cfg_0001_1.html">DHCP Snooping Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp-snooping_cfg_0014_1.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp-snooping_cfg_0049.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>