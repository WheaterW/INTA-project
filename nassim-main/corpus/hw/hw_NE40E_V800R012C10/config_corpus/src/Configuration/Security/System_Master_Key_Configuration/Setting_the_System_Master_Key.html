
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Setting the System Master Key">
<meta name="abstract" content="You can set the system master key to improve data security and reliability.">
<meta name="description" content="You can set the system master key to improve data security and reliability.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_kmc_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/spec/System_Master_Key_limitation.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00800033,w00556928,w00606909,l00455378,z00805567,kmc">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Master Key">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Master Key">
<meta name="featuretype" content="Security">
<meta name="featurename" content="Master Key">
<meta name="featuretype" content="Security">
<meta name="OWNER" content="y00852169">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="y00852169">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172372700">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Setting the System Master Key</title>
</head>
<body><a name="EN-US_TASK_0172372700"></a><a name="EN-US_TASK_0172372700"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Setting the System Master Key</h1>
<div class="taskbody"><p>You can set the system master key to improve data security and reliability.</p>
<div class="context"><a name="EN-US_TASK_0172372700__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Context</h4><p>In real-world situations, networks and devices are provided and maintained by network providers, while data is owned by tenants. To ensure secure data transmission and storage on a network, you must fully control the key, preventing the key from being leaked to the network provider or other tenants.</p>
<p>To achieve this, you can manually change the system master key to enhance data security and reliability.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172372700__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run the <a href="cmdqueryname=set+master-key"><b><span class="cmdname">set master-key</span></b></a> command in the user view to set the system master key.</span><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>To clear historical system master keys, run the <a href="cmdqueryname=clear+master-key"><b><span class="cmdname">clear master-key</span></b></a> command.</p>
</div></div>
<div class="p">When changing the system master key, note the following points:<ul><li>After the new master key is entered, enter <strong>Y</strong> on the terminal interface to proceed to the next operation. If you enter <strong>N</strong>, the system exits the master key change process.</li><li>Enter the new master key twice. The system proceeds to the next operation only when the two inputs are the same.</li></ul>
</div>
<p>If an error occurs during the master key change, the system prompts a message indicating a master key change failure and advising you to try again. If the failure persists, contact technical support.</p>
<div class="p">After the master key is changed, the configuration file of the device cannot be shared to other devices. After a configuration file is copied from another device to the local device for next startup, if the master key on that remote device is not the default one and does not exist on the local device, the configuration fails. To resolve this issue, use one of the following methods:<ul><li>Change the master key on the local device to be the same as that on the remote device.</li><li>Change the master key on the remote device to be the same as that on the local device. Then, save and export the configuration file, upload it to the local device, and specify the configuration file for next startup.</li><li>Specify the master key on the remote device as the default one. Then, save and export the configuration file, upload it to the local device, and specify the configuration file for next startup.</li></ul>
</div>
<div class="p">After the master key is changed and an encrypted file is copied from another device to the local device for next startup, if the master key on that remote device is not the default one and does not exist on the local device, the local device cannot decrypt the copied file due to master key mismatch. To resolve this issue, use one of the following methods:<ul><li>Change the master key on the local device to be the same as that on the remote device.</li><li>Change the master key on the remote device to be the same as that on the local device. Then, export the encrypted file and upload it to the local device for decryption.</li><li>Specify the master key on the remote device as the default one. Then, export the encrypted file and upload it to the local device for decryption.</li></ul>
</div>
</p></li><li><span>(Optional) Run the <a href="cmdqueryname=set+master-key+auto-update"><b><span class="cmdname">set master-key auto-update</span></b></a> <strong><span>interval</span></strong> <i><span class="varname">interval-time</span></i> command in the system view to enable automatic update of the system master key at a specified interval.</span><p><p>The system master key can be the default or a manually configured one.</p>
<p>Using the default master key for an extended period poses a risk of theft and cracking. Periodically change and maintain a manually configured master key.</p>
<p>To reduce manual maintenance workload, run the <a href="cmdqueryname=set+master-key+auto-update"><b><span class="cmdname">set master-key auto-update</span></b></a> <strong><span>interval</span></strong> <i><span class="varname">interval-time</span></i> command to enable automatic update of the master key. The system then periodically generates a new master key composed of 32 characters. </p>
<p>To disable the automatic update function, run the <a href="cmdqueryname=undo+set+master-key+auto-update"><b><span class="cmdname">undo set master-key auto-update</span></b></a> [ <strong><span>interval</span></strong> <i><span class="varname">interval-time</span></i> ] command. After the automatic update function is disabled, the system retains the last automatically generated master key and does not automatically update it any more.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In scenarios where automatic update of the master key is enabled, if you run the <a href="cmdqueryname=set+master-key"><b><span class="cmdname">set master-key</span></b></a> command to manually set the master key, the system displays a message indicating that this operation will disable the automatic update function.</p>
</div></div>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0172372700__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><div class="p">After the configuration is complete, you can run the following commands to check the configuration.<ul><li><p>Run the <a href="cmdqueryname=display+master-key+configuration"><b><span class="cmdname">display master-key configuration</span></b></a> command to check the configuration of the system master key.</p>
<p><span>In VS mode, this command is supported only by the admin VS.</span></p>
</li><li><p>Run the <a href="cmdqueryname=display+master-key+version"><b><span class="cmdname">display master-key version</span></b></a> command to check the KMC version information of all boards on the device.</p>
<p><span>In VS mode, this command is supported only by the admin VS.</span></p>
</li></ul>
</div>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_kmc_cfg_0000.html">System Master Key Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/spec/System_Master_Key_limitation.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>