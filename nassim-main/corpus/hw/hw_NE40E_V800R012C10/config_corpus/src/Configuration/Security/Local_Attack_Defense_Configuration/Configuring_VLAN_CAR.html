
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring VLAN CAR">
<meta name="abstract" content="When an access device is under attack, you can configure VLAN CAR to restrict the rate at which specific packets are sent to the CPU to protect the CPU against attacks.">
<meta name="description" content="When an access device is under attack, you can configure VLAN CAR to restrict the rate at which specific packets are sent to the CPU to protect the CPU against attacks.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_sysattack_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_sysattack_cfg_0017.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_sysattack_cfg_0060.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="l00455378,z00805567,sysattack_ne,w00606909,h00522387,w00800033,y00852169">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Local Attack Defense">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Local Attack Defense">
<meta name="featuretype" content="Security">
<meta name="featurename" content="Local Attack Defense">
<meta name="featuretype" content="Security">
<meta name="OWNER" content="z00485179">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00485179">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172372235">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring VLAN CAR</title>
</head>
<body><a name="EN-US_TASK_0172372235"></a><a name="EN-US_TASK_0172372235"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring VLAN CAR</h1>
<div class="taskbody"><p>When an access device is under attack, you can configure VLAN CAR to restrict the rate at which specific packets are sent to the CPU to protect the CPU against attacks.</p>
<div class="context"><a name="EN-US_TASK_0172372235__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>When an access device is under attack, you can configure port+VLAN-based CAR to restrict the rate at which packets are sent to the CPU to protect the CPU against attacks.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172372235__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Prerequisites</h4><p>None</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172372235__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li><span>Run the <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> command to enter the interface view.</span></li><li><span>Perform one of the following operations as required:</span><p><ul><li><p>On an Ethernet interface, Ethernet sub-interface, GE interface, GE sub-interface, Eth-Trunk interface, or Eth-Trunk sub-interface<span>, POS interface</span><span>, IP-Trunk interface</span><span>, and EVC sub-interface on which packets are encapsulated in untag or default mode</span>, run the <a href="cmdqueryname=cp-rate-limit+port+dhcp+dhcpv6+icmp+icmpv6+ldp-hello+rsvp+ospf"><b><span class="cmdname">cp-rate-limit</span></b></a> { <strong><span>port</span></strong> | { <strong><span>dhcp</span></strong> | <strong><span>dhcpv6</span></strong> | <strong><span>icmp</span></strong> | <strong><span>icmpv6</span></strong><span> | <strong><span>ldp-hello</span></strong> | <strong><span>rsvp</span></strong> | <strong><span>ospf</span></strong> | <strong><span>rip</span></strong> | <strong><span>pim</span></strong> | <strong><span>isis</span></strong> | <strong><span>vrrp</span></strong></span><span> | <strong><span>ospfv3</span></strong> | <strong><span>ripng</span></strong> | <strong><span>pimv6</span></strong> | <strong><span>vrrpv6</span></strong></span> }<sub>*</sub> } <strong><span>cir</span></strong> <i><span class="varname">cir-value</span></i> [ <strong><span>cbs</span></strong> <i><span class="varname">cbs-value</span></i> ]<span> [ <strong><span>prior</span></strong> ]</span> command to set the rate at which ICMP/DHCP/DHCPv6/ICMPv6<span>/LDP-HELLO/RSVP/OSPF/RIP/PIM/ISIS/VRRP</span><span>/OSPFv3/RIPNG/PIMv6/VRRPv6</span> packets are sent to the CPU.</p>
</li><li><p>On a sub-interface for dot1q VLAN tag termination<span>, and EVC sub-interface on which packets are encapsulated in dot1q, untag or default mode</span>, run the <a href="cmdqueryname=cp-rate-limit+port+dhcp+dhcpv6+icmp+icmpv6+ldp-hello+rsvp+ospf"><b><span class="cmdname">cp-rate-limit</span></b></a> { <strong><span>port</span></strong> | { <strong><span>dhcp</span></strong> | <strong><span>dhcpv6</span></strong> | <strong><span>icmp</span></strong> | <strong><span>icmpv6</span></strong><span> | <strong><span>ldp-hello</span></strong> | <strong><span>rsvp</span></strong> | <strong><span>ospf</span></strong> | <strong><span>rip</span></strong> | <strong><span>pim</span></strong> | <strong><span>isis</span></strong> | <strong><span>vrrp</span></strong></span><span> | <strong><span>ospfv3</span></strong> | <strong><span>ripng</span></strong> | <strong><span>pimv6</span></strong> | <strong><span>vrrpv6</span></strong></span> } } <strong><span>vlan</span></strong> <i><span class="varname">vlan-id-begin</span></i> [<strong><span>to</span></strong> <i><span class="varname">vlan-id-end</span></i> ] <strong><span>cir</span></strong> <i><span class="varname">cir-value</span></i> [ <strong><span>cbs</span></strong> <i><span class="varname">cbs-value</span></i><span> [ <strong><span>prior</span></strong> ]</span> ] command to set the rate at which ICMP/DHCP/DHCPv6/ICMPv6<span>/LDP-HELLO/RSVP/OSPF/RIP/PIM/ISIS/VRRP</span><span>/OSPFv3/RIPNG/PIMv6/VRRPv6</span> packets are sent to the CPU.</p>
</li><li><p>On a sub-interface for QinQ VLAN tag termination<span>, and EVC sub-interface on which packets are encapsulated in QinQ, untag or default mode</span>, run the <a href="cmdqueryname=cp-rate-limit+port+dhcp+dhcpv6+icmp+icmpv6+ldp-hello+rsvp+ospf"><b><span class="cmdname">cp-rate-limit</span></b></a> { <strong><span>port</span></strong> | { <strong><span>dhcp</span></strong> | <strong><span>dhcpv6</span></strong> | <strong><span>icmp</span></strong> | <strong><span>icmpv6</span></strong><span> | <strong><span>ldp-hello</span></strong> | <strong><span>rsvp</span></strong> | <strong><span>ospf</span></strong> | <strong><span>rip</span></strong> | <strong><span>pim</span></strong> | <strong><span>isis</span></strong> | <strong><span>vrrp</span></strong></span><span> | <strong><span>ospfv3</span></strong> | <strong><span>ripng</span></strong> | <strong><span>pimv6</span></strong> | <strong><span>vrrpv6</span></strong></span> } } <strong><span>pe-vid</span></strong> <i><span class="varname">pe-vid</span></i> <strong><span>ce-vid</span></strong> <i><span class="varname">ce-vid-begin</span></i> [ <strong><span>to</span></strong> <i><span class="varname">ce-vid-end</span></i> ] <strong><span>cir</span></strong> <i><span class="varname">cir-value</span></i> [ <strong><span>cbs</span></strong> <i><span class="varname">cbs-value</span></i> ]<span> [ <strong><span>prior</span></strong> ]</span> command to set the rate at which ICMP/DHCP/DHCPv6/ICMPv6<span>/LDP-HELLO/RSVP/OSPF/RIP/PIM/ISIS/VRRP</span><span>/OSPFv3/RIPNG/PIMv6/VRRPv6</span> packets are sent to the CPU.</p>
</li></ul>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0172372235__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Checking the Configurations</h4><p>After configuring VLAN CAR, check the configurations.</p>
<p>Run the <a href="cmdqueryname=display+cp-rate-limit"><b><span class="cmdname">display cp-rate-limit</span></b></a> command to check statistics about all protocol packets or specific protocol packets that attack an interface.</p>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_sysattack_cfg_0000.html">Local Attack Defense Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_sysattack_cfg_0017.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_sysattack_cfg_0060.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>