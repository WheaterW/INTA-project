
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Enabling Automatic Bandwidth Adjustment for a PCC-Initiated SR-MPLS TE Policy">
<meta name="abstract" content="You can enable automatic bandwidth adjustment for a PCC-initiated SR-MPLS TE Policy in order to better respond to service requirement changes.">
<meta name="description" content="You can enable automatic bandwidth adjustment for a PCC-initiated SR-MPLS TE Policy in order to better respond to service requirement changes.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_pcep_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_pcep_cfg_0022.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_pcep_cfg_0012.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS TE">
<meta name="featurename" content="PCE">
<meta name="featuretype" content="MPLS">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS TE">
<meta name="featurename" content="PCE">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="l00468467">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00468467">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001386800256">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Enabling Automatic Bandwidth Adjustment for a PCC-Initiated SR-MPLS TE Policy</title>
</head>
<body><a name="EN-US_TASK_0000001386800256"></a><a name="EN-US_TASK_0000001386800256"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Enabling Automatic Bandwidth Adjustment for a PCC-Initiated SR-MPLS TE Policy</h1>
<div class="taskbody"><p>You can enable automatic bandwidth adjustment for a PCC-initiated SR-MPLS TE Policy in order to better respond to service requirement changes.</p>
<div class="context"><a name="EN-US_TASK_0000001386800256__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>After configuring automatic bandwidth adjustment for a PCC-initiated SR-MPLS TE Policy, you can perform sampling at fixed interval A (for example, 5 minutes) to obtain the maximum bandwidth of the traffic forwarded over the SR-MPLS TE Policy within the automatic bandwidth adjustment period B (for example, 24 hours). According to the requested bandwidth sent to the controller based on the sampling value, the controller re-computes an SR-MPLS TE Policy path and then delivers the new path.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001386800256__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=pce-client"><b><span class="cmdname">pce-client</span></b></a></span><p><p>The device is configured as a PCE client, and the PCE client view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=capability+auto-bandwidth"><b><span class="cmdname">capability auto-bandwidth</span></b></a></span><p><p>The PCE client is enabled to support automatic bandwidth adjustment.</p>
</p></li><li><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li><li><span>Run <a href="cmdqueryname=segment-routing"><b><span class="cmdname">segment-routing</span></b></a></span><p><p>Segment Routing is enabled globally, and the Segment Routing view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=sr-te-policy+auto-bandwidth+adjustment+enable"><b><span class="cmdname">sr-te-policy auto-bandwidth adjustment enable</span></b></a></span><p><p>Automatic bandwidth adjustment is enabled for SR-MPLS TE Policies.</p>
</p></li><li><span>Run <a href="cmdqueryname=sr-te-policy+auto-bandwidth+sample+interval"><b><span class="cmdname">sr-te-policy auto-bandwidth sample interval</span></b></a><strong> </strong>[ <em>sample-interval-value</em> ]</span><p><p>The automatic bandwidth adjustment function is enabled to sample the outbound traffic rate of SR-MPLS TE Policies, and a global sampling interval is specified.</p>
</p></li><li><span>Run <a href="cmdqueryname=sr-te+policy"><b><span class="cmdname">sr-te policy</span></b></a> <i><span class="varname">policy-name</span></i><i><span class="varname"> </span></i>[ <strong><span>endpoint</span></strong> <i><span class="varname">ipv4-address</span></i> <strong><span>color</span></strong> <i><span class="varname">color-value</span></i> ]</span><p><p>The SR-MPLS TE Policy view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=auto-bandwidth+adjustment"><b><span class="cmdname">auto-bandwidth adjustment</span></b></a></span><p><p>The automatic bandwidth adjustment function is enabled for the PCC-Initiate SR-MPLS TE Policy, and the SR-MPLS TE Policy automatic bandwidth adjustment view is displayed.</p>
</p><ol type="a"><li class="substepexpand"><span>Run the <a href="cmdqueryname=adjustment+threshold"><b><span class="cmdname">adjustment threshold</span></b></a><strong> </strong>{ <strong><span>absolute-bw</span></strong><strong> </strong><em>absolute-bw-value</em> | <strong><span>percent</span></strong><em> percent-value</em> [ <strong><span>minimum-bw</span></strong><em> minimum-bw-value</em> ]}<sup>*</sup> [ <strong><span>downadjustment</span></strong> { <strong><span>down-absolute-bw</span></strong><em> down-absolute-bw-value</em> | <strong><span>down-percent</span></strong><em> down-percent-value</em> [ <strong><span>down-minimum-bw</span></strong><em> down-minimum-bw-value</em> ]}<sup>*</sup> ] command to configure periodic bandwidth adjustment parameters for the SR-MPLS TE Policy.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=bandwidth"><b><span class="cmdname">bandwidth</span></b></a><strong> </strong>{ <strong><span>minimum</span></strong><em> min-bandwidth-value</em> | <strong><span>maximum</span></strong><em> max-bandwidth-value</em> } <sup>*</sup> command to configure the upper and lower bandwidth limits for automatic bandwidth adjustment of the SR-MPLS TE Policy.</span><p><p>This command configures the maximum and minimum bandwidth that can be reserved for automatic bandwidth adjustment. When the maximum traffic rate is not within the bandwidth range configured using this command (that is, when the maximum traffic rate is lower than the configured minimum bandwidth or higher than the configured maximum bandwidth), bandwidth is requested based on the configured minimum and maximum bandwidth.</p>
</p></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=overflow-limit"><b><span class="cmdname">overflow-limit</span></b></a><strong> </strong>{ <strong><span>absolute-bw</span></strong><em> absolute-bw-value</em><strong> </strong><strong><span>count</span></strong><em> count-value</em> | <strong><span>percent</span></strong><em> percent-value</em><strong> </strong><strong><span>count</span></strong><em> percent-count-value</em> [ <strong><span>minimum-bw</span></strong><em> minimum-bw-value</em> ] } <sup>*</sup> command to configure thresholds for automatic upward bandwidth adjustment of the SR-MPLS TE Policy.</span><p><p>Perform this step to implement fast automatic bandwidth adjustment. If the difference between the continuously sampled value and the reserved bandwidth is greater than or equal to a specified fast adjustment threshold, the system adjusts the bandwidth to the sampled maximum traffic rate immediately, without waiting for the automatic upward bandwidth adjustment interval to be reached. This command sets the minimum threshold for fast automatic bandwidth adjustment, absolute upward adjustment threshold, relative upward adjustment threshold, and overflow count. This command can be used together with the command that sets the periodic bandwidth adjustment threshold. After either fast bandwidth adjustment or periodic bandwidth adjustment is triggered, all bandwidth statistics are cleared, bandwidth statistic collection is restarted, and automatic bandwidth adjustment is restarted.</p>
</p></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=underflow-limit"><b><span class="cmdname">underflow-limit</span></b></a><strong> </strong>{ <strong><span>absolute-bw</span></strong><em> absolute-bw-value</em><strong> </strong><strong><span>count</span></strong><em> count-value</em> | <strong><span>percent</span></strong><strong> </strong><em>percent-value</em><strong> </strong><strong><span>count</span></strong><em> percent-count-value</em> [ <strong><span>minimum-bw</span></strong><em> minimum-bw-value</em> ] } <sup>*</sup> command to configure thresholds for automatic downward bandwidth adjustment of the SR-MPLS TE Policy.</span><p><p>Perform this step to implement fast automatic downward bandwidth adjustment. If the difference between the continuously sampled value and the reserved bandwidth is greater than or equal to a specified fast adjustment threshold, the system adjusts the bandwidth to the sampled maximum traffic rate immediately, without waiting for the automatic downward bandwidth adjustment interval to be reached. This command sets the minimum threshold for fast downward automatic bandwidth adjustment, absolute downward adjustment threshold, relative downward adjustment threshold, and overflow count. If this command is not run, the thresholds for fast upward bandwidth adjustment are used. This command can be used together with the command that sets the periodic bandwidth adjustment threshold. After either fast bandwidth adjustment or periodic bandwidth adjustment is triggered, all bandwidth statistics are cleared, bandwidth statistic collection is restarted, and automatic bandwidth adjustment is restarted.</p>
</p></li></ol>
</li><li><span>(Optional) Run <a href="cmdqueryname=adjustment+interval"><b><span class="cmdname">adjustment interval</span></b></a><strong> </strong><i><span class="varname">adjustment-interval-value</span></i> [ <strong><span>down</span></strong> <strong><span>adjustment</span></strong> <strong><span>interval</span></strong><i><span class="varname"> down-adjustment-interval-value</span></i> ]</span><p><p>An automatic bandwidth adjustment interval is configured for the SR-MPLS TE Policy.</p>
</p><p><p>By default, the automatic bandwidth adjustment interval is 86400 seconds (1 day).</p>
<p>If the global bandwidth sampling interval configured using the <a href="cmdqueryname=sr-te-policy+auto-bandwidth+sample+interval"><b><span class="cmdname">sr-te-policy auto-bandwidth sample interval</span></b></a> command is longer than the automatic bandwidth adjustment interval configured using this command, automatic bandwidth adjustment does not take effect.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0000001386800256__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>After configuring automatic bandwidth adjustment for the PCC-initiated SR-MPLS TE Policy, verify the configuration.</p>
<ul><li>Run the <a href="cmdqueryname=display+sr-te+policy+auto-bandwidth+adjustment"><b><span class="cmdname">display sr-te policy auto-bandwidth adjustment</span></b></a> [ <strong><span>policy-name</span></strong> <i><span class="varname">policy-name</span></i><i><span class="varname"> </span></i>| <strong><span>endpoint</span></strong> <i><span class="varname">ipv4-address</span></i> <strong><span>color</span></strong> <i><span class="varname">color-value</span></i> | <strong><span>binding-sid</span></strong> <em>sid-value</em> ] command to check detailed information about automatic bandwidth adjustment of the SR-MPLS TE Policy.</li><li>Run the <a href="cmdqueryname=display+pce+protocol+session"><b><span class="cmdname">display pce protocol session</span></b></a><strong> </strong><strong>verbose</strong> command to check the congestion status of PCEPv4 automatic bandwidth adjustment and the remaining time of involved timers.</li></ul>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_pcep_cfg_0000.html">PCEP Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_pcep_cfg_0022.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_pcep_cfg_0012.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>