
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an SA Cache">
<meta name="abstract" content="An SA cache is used to locally save (S, G) information carried in the Source Active (SA) messages. If a Router needs to receive multicast data, it directly obtains useful (S, G) information from the SA cache. Setting the maximum number of (S, G) entries in an SA cache can prevent Deny of Service (DoS) attacks. You are allowed to disable the SA cache function on the NE40E.">
<meta name="description" content="An SA cache is used to locally save (S, G) information carried in the Source Active (SA) messages. If a Router needs to receive multicast data, it directly obtains useful (S, G) information from the SA cache. Setting the maximum number of (S, G) entries in an SA cache can prevent Deny of Service (DoS) attacks. You are allowed to disable the SA cache function on the NE40E.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_0061.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_0065.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MSDP">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MSDP">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="MSDP">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="MSDP">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172367014">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring an SA Cache</title>
</head>
<body><a name="EN-US_TASK_0172367014"></a><a name="EN-US_TASK_0172367014"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an SA Cache</h1>
<div class="taskbody"><p>An SA cache is used to locally save (S, G) information carried in the Source Active (SA) messages. If a <span class="keyword">Router</span> needs to receive multicast data, it directly obtains useful (S, G) information from the SA cache. Setting the maximum number of (S, G) entries in an SA cache can prevent Deny of Service (DoS) attacks. You are allowed to disable the SA cache function on the <span class="keyword">NE40E</span>.</p>
<div class="context"><a name="EN-US_TASK_0172367014__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>By default, the SA cache function is enabled on the <span class="keyword">Router</span> configured with an MSDP peer.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172367014__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Set the maximum number of (S, G) entries in an SA cache.</span><p><p>To prevent DoS attacks, performing this configuration on all MSDP peers is recommended.</p>
</p><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=msdp"><b><span class="cmdname">msdp</span></b></a> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ]</span></span><p><p>The MSDP view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">peer-address</span></i> <strong><span>sa-cache-maximum</span></strong> <i><span class="varname">sa-limit</span></i></span></span><p><p>The maximum number of (S, G) entries in the SA cache is set.</p>
</p><p><ul><li><p><i><span class="varname">peer-address</span></i>: specifies the IP address of a remote MSDP peer.</p>
</li><li><p><i><span class="varname">sa-limit</span></i>: specifies the maximum number of (S, G) entries in the SA cache. If the specified maximum number is smaller than the SA cache specification, the specified value takes effect; otherwise, the SA cache specification takes effect.</p>
</li></ul>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Disable the SA cache function.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=msdp"><b><span class="cmdname">msdp</span></b></a> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ]</span></span><p><p>The MSDP view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=undo+cache-sa-enable"><b><span class="cmdname">undo cache-sa-enable</span></b></a></span></span><p><p>The SA cache function is disabled.</p>
</p><p><p>After the SA cache function is disabled, the RP directly forwards the received SA messages to other remote MSDP peers and does not save the (S, G) information carried in the SA messages locally. If the device needs to receive multicast data, it must wait for the SA message sent by the MSDP peer in the next sending period. This may result in a delay in obtaining multicast information.</p>
<p>To enable the SA cache function, run the <span><a href="cmdqueryname=cache-sa-enable"><b><span class="cmdname">cache-sa-enable</span></b></a></span> command in the MSDP view.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_0061.html">Adjusting the Parameters of SA Messages
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_0065.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>