
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Enabling Traffic Statistics Collection for GTMv6 over BIERv6">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_bierv6_cfg_0048.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_bierv6_cfg_00544.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BIERv6">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BIERv6">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="BIERv6">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="BIERv6">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001217521969">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Enabling Traffic Statistics Collection for GTMv6 over BIERv6</title>
</head>
<body><a name="EN-US_TASK_0000001217521969"></a><a name="EN-US_TASK_0000001217521969"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Enabling Traffic Statistics Collection for GTMv6 over BIERv6</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001217521969__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>On a GTMv6 over BIERv6 network, multicast traffic is transmitted to multicast users through BIERv6 tunnels. After statistics collection is enabled for traffic along tunnels, the device can collect statistics such as the number of forwarded packets, number of bytes in the packets, inbound interface information, and traffic rate within 15 seconds. The traffic statistics collection function takes effect only after the function is configured on the ingress, transit, and egress nodes.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001217521969__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>(On transit and egress nodes) Run <a href="cmdqueryname=bier+ipv6+statistics+enable"><b><span class="cmdname">bier ipv6 statistics enable</span></b></a></span><p><p>Global traffic statistics collection is enabled for GTMv6 over BIERv6.</p>
</p></li><li><span>Enable global traffic statistics collection for GTMv6 over BIERv6 on the ingress.</span><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=multicast+ipv6+routing-enable"><b><span class="cmdname">multicast ipv6 routing-enable</span></b></a></span><p><p>Multicast routing is enabled.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=multicast+ipv6+vpn-public"><b><span class="cmdname">multicast ipv6 vpn-public</span></b></a></span><p><p>The public network IPv6 address family MVPN view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=bier+ipv6+statistics"><b><span class="cmdname">bier ipv6 statistics</span></b></a> { <strong><span>all</span></strong> | <strong><span>group</span></strong> <i><span class="varname">flow-grp-addr</span></i> <strong><span>source</span></strong> <i><span class="varname">flow-src-addr</span></i> }</span><p><p>Global traffic statistics collection is enabled for GTMv6 over BIERv6, and the device is enabled to generate dynamic flow labels.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=bier+ipv6+group"><b><span class="cmdname">bier ipv6 group</span></b></a> <i><span class="varname">flow-grp-address</span></i> <a href="cmdqueryname=source"><b><span class="cmdname">source</span></b></a> <i><span class="varname">flow-src-addr</span></i> <a href="cmdqueryname=flow-label"><b><span class="cmdname">flow-label</span></b></a> <i><span class="varname">flow-label-value</span></i></span><p><p>A static flow label is configured on the ingress in a GTMv6 over BIERv6 scenario.</p>
</p><p><p>If no static flow label is configured, dynamically allocated flow labels are used by default.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li></ol>
</li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0000001217521969__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><ul><li>Run the <a href="cmdqueryname=display+bier+ipv6+statistics+sub-domain"><b><span class="cmdname">display bier ipv6 statistics sub-domain</span></b></a> <i><span class="varname">sub-domain</span></i> <strong><span>bsl</span></strong> <i><span class="varname">bsl</span></i> [ <strong><span>flow-label</span></strong> <i><span class="varname">flow-label</span></i> <strong><span>source-dt</span></strong> <i><span class="varname">source-address</span></i> ] command to check BIERv6 statistics.</li><li>Run the <a href="cmdqueryname=display+mvpn+ipv6"><b><span class="cmdname">display mvpn ipv6</span></b></a> {<strong><span> vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> | <strong><span>all-instance</span></strong> | <strong><span>public</span></strong> } <a href="cmdqueryname=ingress+bier+ipv6"><b><span class="cmdname">ingress bier ipv6</span></b></a> [ <strong><span>group</span></strong> <i><span class="varname">group-address</span></i> <strong><span>source</span></strong> <i><span class="varname">source-address</span></i> ] command to check flow information on the ingress in a GTMv6 over BIERv6 scenario.</li></ul>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_bierv6_cfg_0048.html">Maintaining BIERv6
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_bierv6_cfg_00544.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>