
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Multicast Replication">
<meta name="abstract" content="This section describes how to configure multicast replication. The NE40E uses a configured multicast replication method to copy multicast packets to its downstream Layer 2 devices.">
<meta name="description" content="This section describes how to configure multicast replication. The NE40E uses a configured multicast replication method to copy multicast packets to its downstream Layer 2 devices.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_mcontrol_cfg_0004.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_mcontrol_cfg_0010.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_mcontrol_cfg_0013.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00800033,c00549182,Controllablemulticast,w00556928,w00437000,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Controllable Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Controllable Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="Controllable Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="Controllable Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172367743">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Multicast Replication</title>
</head>
<body><a name="EN-US_TASK_0172367743"></a><a name="EN-US_TASK_0172367743"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Multicast Replication</h1>
<div class="taskbody"><p>This section describes how to configure multicast replication. The <span class="keyword">NE40E</span> uses a configured multicast replication method to copy multicast packets to its downstream Layer 2 devices.</p>
<div class="context"><a name="EN-US_TASK_0172367743__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p">You can configure all the multicast replication methods, which are listed in descending order of priority. Broadband access server (BAS) interfaces support multicast replication by:<ol><li><p>Replication by interface + VLAN</p>
</li><li><p>Replication by session</p>
</li><li><p>Replication by multicast VLAN</p>
</li><li><p>Replication by interface</p>
</li></ol>
</div>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Before you enable multicast replication on a BAS interface, you must enable the Internet Group Management Protocol (IGMP) on the interface by running the command <a href="cmdqueryname=igmp+enable"><b><span class="cmdname">igmp enable</span></b></a>.</p>
<p>This configuration process is supported only on the Admin-VS.</p>
</div></div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172367743__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure multicast replication by interface+VLAN.</span><p><p>If multiple IP over X (IPoX) users order the same program from the same VLAN on an interface and IGMP snooping is enabled on the <span class="keyword">NE40E</span>'s downstream Layer 2 device, configure multicast replication by interface+VLAN to reduce the <span class="keyword">NE40E</span>'s copy burden. After the configuration is complete, the <span class="keyword">NE40E</span> copies only one multicast packet to this interface. The interface copies the packet to its directly connected Layer 2 device. The downstream Layer 2 device then copies the packet to the IPoX users.</p>
</p><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number.subinterface-number</span></i></span></span><p><p>The sub-interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=bas"><b><span class="cmdname">bas</span></b></a></span></span><p><p>A BAS interface is created, and the BAS interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=multicast+copy+by-vlan"><b><span class="cmdname">multicast copy by-vlan</span></b></a></span></span><p><p>Multicast replication by interface+VLAN is configured.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li><p>Only Ethernet, GE, Eth-Trunk's sub-interfaces support multicast replication by interface+VLAN.</p>
</li><li><p>If you run the <a href="cmdqueryname=multicast+copy+by-vlan"><b><span class="cmdname">multicast copy by-vlan</span></b></a> or <a href="cmdqueryname=undo+multicast+copy+by-vlan"><b><span class="cmdname">undo multicast copy by-vlan</span></b></a> command on an interface, the IPoX users who have gone online from the interface automatically leave the multicast group. As a result, the users' services are interrupted. The users join the multicast group only after they reorder a program.</p>
</li><li><p>Multicast replication by interface+VLAN is mutually exclusive with IGMPv3, which can be configured using the <a href="cmdqueryname=igmp+version+3"><b><span class="cmdname">igmp version 3</span></b></a> command.</p>
</li></ul>
</div></div>
</p></li></ol>
</li><li><span>Configure multicast replication by user session.</span><p><p>If the <span class="keyword">Router</span>'s downstream Layer 2 device does not provide IGMP snooping for user identification, configure multicast replication by user session on the <span class="keyword">Router</span>'s interface connected to the downstream Layer 2 device. After the configuration is complete, the <span class="keyword">Router</span> directly copies multicast packets to each user.</p>
<p>Because the <span class="keyword">Router</span>'s downstream Layer 2 device cannot parse Point-to-Point Protocol over Ethernet (PPPoE) sessions, you must configure multicast replication by user session on the <span class="keyword">Router</span>'s interface for PPPoE users.</p>
</p><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=bas"><b><span class="cmdname">bas</span></b></a></span></span><p><p>A BAS interface is created, and the BAS interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=multicast+copy+by-session"><b><span class="cmdname">multicast copy by-session</span></b></a></span></span><p><p>Multicast replication by user session is configured.</p>
</p></li></ol>
</li><li><span>Configure multicast replication by user aggregation.</span><p><p>To isolate multicast packets from other types of packets and ensure multicast packet security, configure multicast replication by user aggregation. After the configuration is complete, multicast packets are aggregated and transmitted over an aggregation VLAN to reduce bandwidth consumption.</p>
</p><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=multicast+user-aggregation"><b><span class="cmdname">multicast user-aggregation</span></b></a></span> <a href="cmdqueryname=vlan"><b><span class="cmdname">vlan</span></b></a> <i><span class="varname">vlan-id</span></i></span><p><p>Multicast replication by user aggregation is configured.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_mcontrol_cfg_0004.html">Configuring Multicast Control
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_mcontrol_cfg_0010.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_mcontrol_cfg_0013.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>