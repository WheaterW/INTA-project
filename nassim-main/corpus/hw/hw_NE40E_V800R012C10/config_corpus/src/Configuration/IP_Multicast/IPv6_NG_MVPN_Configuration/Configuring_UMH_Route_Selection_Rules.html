
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring UMH Route Selection Rules">
<meta name="abstract" content="This section describes how to configure upstream multicast hop (UMH) route selection rules on receiver PEs on an IPv6 NG MVPN, so that the receiver PEs can select the same sender PE as their root node during VPN route selection.">
<meta name="description" content="This section describes how to configure upstream multicast hop (UMH) route selection rules on receiver PEs on an IPv6 NG MVPN, so that the receiver PEs can select the same sender PE as their root node during VPN route selection.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0200.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0204.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_1120.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPv6 Multicast VPN">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv6 Multicast VPN">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IPv6 Multicast VPN">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172367582">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring UMH Route Selection Rules</title>
</head>
<body><a name="EN-US_TASK_0172367582"></a><a name="EN-US_TASK_0172367582"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring UMH Route Selection Rules</h1>
<div class="taskbody" id="taskbody1644702083214043"><p id="shortdesc788065372214043">This section describes how to configure upstream multicast hop (UMH) route selection rules on receiver PEs on an IPv6 NG MVPN, so that the receiver PEs can select the same sender PE as their root node during VPN route selection.</p>
<div class="context"><a name="EN-US_TASK_0172367582__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0172367582__context327014989214043"><p id="EN-US_TASK_0172367582__p730267450214043">On an IPv6 NG MVPN, when multiple sender PEs exist, receiver PEs select routes based on preferred unicast routes by default. In this case, different receiver PEs select different sender PEs as their root nodes. This requires multiple P2MP tunnels to be established. As a result, many public network tunnel resources are consumed. To resolve the preceding issue, enable the highest IP address to be selected as the UMH on receiver PEs, so that the receiver PEs select the same sender PE as their root node during VPN route selection.</p>
<p id="EN-US_TASK_0172367582__p270476095214043">Perform the following steps in the VPN instance MVPN view of a PE.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172367582__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0172367582__steps1951052063214043"><li id="EN-US_TASK_0172367582__step630780148214328"><span id="EN-US_TASK_0172367582__cmd1542665844214328">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172367582__cmdname2069681912214328">system-view</span></b></a></span><p><p id="EN-US_TASK_0172367582__p2101048089214328">The system view is displayed.</p>
</p></li><li id="EN-US_TASK_0172367582__step423829561214328"><span id="EN-US_TASK_0172367582__cmd100174628214328">Run <a href="cmdqueryname=ip+vpn-instance"><b><span class="cmdname" id="EN-US_TASK_0172367582__cmdname2137142416214328">ip vpn-instance</span></b></a><i><span class="varname" id="EN-US_TASK_0172367582__varname1757396967214328">vpn-instance-name</span></i></span><p><p id="EN-US_TASK_0172367582__p1624398836214328">The VPN instance view is displayed.</p>
</p></li><li id="EN-US_TASK_0172367582__step918473308214328"><span id="EN-US_TASK_0172367582__cmd668432920214328">Run <a href="cmdqueryname=ipv6-family"><b><span class="cmdname" id="EN-US_TASK_0172367582__cmdname1758527091214328">ipv6-family</span></b></a></span><p><p id="EN-US_TASK_0172367582__p597235624214328">The VPN instance IPv6 address family view is displayed.</p>
</p></li><li id="EN-US_TASK_0172367582__step1582660133214328"><span id="EN-US_TASK_0172367582__cmd1036403589214328">Run <a href="cmdqueryname=mvpn"><b><span class="cmdname" id="EN-US_TASK_0172367582__cmdname1547689616214328">mvpn</span></b></a></span><p><p id="EN-US_TASK_0172367582__p1191751566214328">The VPN instance IPv6 address family MVPN view is displayed.</p>
</p></li><li id="EN-US_TASK_0172367582__step2074205664214328"><span id="EN-US_TASK_0172367582__cmd1072553097214328">Run <a href="cmdqueryname=umh-select+highest-ip"><b><span class="cmdname" id="EN-US_TASK_0172367582__cmdname97673639214328">umh-select highest-ip</span></b></a></span><p><p id="EN-US_TASK_0172367582__p886466993214328">The maximum IP address is selected as the upstream multicast hop (UHM) in an MVPN instance.</p>
</p></li><li id="EN-US_TASK_0172367582__step612534053214328"><span id="EN-US_TASK_0172367582__cmd1970708700214328">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172367582__cmdname1014674339214328">commit</span></b></a></span><p><p id="EN-US_TASK_0172367582__p948519269214328">The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0200.html">IPv6 NG MVPN Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0204.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_1120.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>