
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring IGMP Querier Control Parameters">
<meta name="abstract" content="IGMP querier control parameters include the interval at which General Query messages are sent, robustness variable, maximum response time of Query messages, keepalive time of other IGMP queriers, and interval at which IGMP last-member query messages are sent.">
<meta name="description" content="IGMP querier control parameters include the interval at which General Query messages are sent, robustness variable, maximum response time of Query messages, keepalive time of other IGMP queriers, and interval at which IGMP last-member query messages are sent.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2044.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2046.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2253.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172366714">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring IGMP Querier Control Parameters</title>
</head>
<body><a name="EN-US_TASK_0172366714"></a><a name="EN-US_TASK_0172366714"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring IGMP Querier Control Parameters</h1>
<div class="taskbody"><p>IGMP querier control parameters include the interval at which General Query messages are sent, robustness variable, maximum response time of Query messages, keepalive time of other IGMP queriers, and interval at which IGMP last-member query messages are sent.</p>
<div class="context"><a name="EN-US_TASK_0172366714__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>An IGMP multicast <span class="keyword">Router</span> can either be a querier or a non-querier. IGMP queriers are elected by the IGMP protocol. When receiving a Report message from a group member, a querier refreshes group memberships. If non-queriers have not received any general query message within the Keepalive time of other IGMP queriers, they consider the current IGMP querier faulty and trigger a new round of querier election automatically. You can adjust IGMP querier control parameters based on actual network conditions or whether hosts can quickly respond. IGMP querier control parameters supported by each IGMP version are as follows:</p>
<ul><li>IGMPv1 allows you to set only the interval at which General Query messages are sent and the robustness variable. Therefore, among the following steps for configuring IGMP querier control parameters, IGMPv1 supports only Steps 3 and 4.</li><li>IGMPv2 and IGMPv3 allow you to configure all IGMP querier control parameters.</li></ul>
<div class="notice"><span class="noticetitle"><img src="../../../../public_sys-resources/notice_3.0-en-us.png"> </span><div class="noticebody"><p>Interfaces that connect multicast devices to the same user network segment must have the same IGMP parameter configurations; otherwise, these multicast devices fail to communicate.</p>
</div></div>
<p>You can configure parameters of an IGMP querier either globally or on an interface.</p>
<ul><li><a href="#EN-US_TASK_0172366714__step_dc_vrp_multicast_cfg_225201">Global configuration</a>: takes effect on all interfaces.</li><li><a href="#EN-US_TASK_0172366714__step_dc_vrp_multicast_cfg_225202">Interface-specific configuration</a>: takes precedence over the global configuration. If an interface-specific configuration is not available, the interface uses the global configuration.</li></ul>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>During the configuration, ensure that the interval for sending general query messages is greater than the maximum response time of Query messages but smaller than the keepalive time of other IGMP queriers.</p>
</div></div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172366714__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li id="EN-US_TASK_0172366714__step_dc_vrp_multicast_cfg_225201"><span id="EN-US_TASK_0172366714__">Global configuration</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=igmp"><b><span class="cmdname">igmp</span></b></a> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ]</span></span><p><p>The IGMP view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=timer+query"><b><span class="cmdname">timer query</span></b></a> <i><span class="varname">interval</span></i></span></span><p><p>The interval at which the device sends general query messages is set.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=robust-count"><b><span class="cmdname">robust-count</span></b></a> <i><span class="varname">robust-value</span></i></span></span><p><p>An IGMP robustness variable is set.</p>
</p><p><p>When a <span class="keyword">Router</span> starts, the <span class="keyword">Router</span> sends general query messages for the number of <i><span class="varname">robust-value</span></i> times. The sending interval is 1/4 of the interval for sending IGMP general query messages.</p>
<p>After the <span class="keyword">Router</span> receives a Leave message:</p>
<ul><li><p>In IGMPv2, a <span class="keyword">Router</span> sends group-specific query messages for the number of <i><span class="varname">robust-value</span></i> times. The sending interval is set using the <strong>lastmember-queryinterval</strong> command.</p>
</li><li><p>In IGMPv3, the <span class="keyword">Router</span> sends group-specific or group-and-source-specific query messages for the number of <i><span class="varname">robust-value</span></i> times. The sending interval is set using the <strong>lastmember-queryinterval query</strong> command.</p>
</li></ul>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=max-response-time"><b><span class="cmdname">max-response-time</span></b></a> <i><span class="varname">interval</span></i></span></span><p><p>The maximum response time of IGMP Query messages is set.</p>
</p><p></p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=timer+other-querier-present"><b><span class="cmdname">timer other-querier-present</span></b></a> <i><span class="varname">interval</span></i></span></span><p><p>The keepalive time of other IGMP queriers is set.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=lastmember-queryinterval"><b><span class="cmdname">lastmember-queryinterval</span></b></a> <i><span class="varname">interval</span></i></span></span><p><p>The interval for sending IGMP last-member query messages is set.</p>
</p><p></p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0172366714__step_dc_vrp_multicast_cfg_225202"><span id="EN-US_TASK_0172366714__">Interface-specific configuration</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=igmp+timer+query"><b><span class="cmdname">igmp timer query</span></b></a> <i><span class="varname">interval</span></i></span></span><p><p>The interval at which the interface sends general query messages is set.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=igmp+max-response-time"><b><span class="cmdname">igmp max-response-time</span></b></a> <i><span class="varname">interval</span></i></span></span><p><p>The maximum response time of IGMP Query messages is set.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=igmp+timer+other-querier-present"><b><span class="cmdname">igmp timer other-querier-present</span></b></a> <i><span class="varname">interval</span></i></span></span><p><p>The keepalive time of other IGMP queriers is set.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=igmp+robust-count"><b><span class="cmdname">igmp robust-count</span></b></a> <i><span class="varname">robust-value</span></i></span></span><p><p>An IGMP robustness variable is set.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=igmp+lastmember-queryinterval"><b><span class="cmdname">igmp lastmember-queryinterval</span></b></a> <i><span class="varname">interval</span></i></span></span><p><p>The interval at which IGMP last-member query messages are sent is set.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2044.html">Configuring Basic IGMP Functions
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2046.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2253.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>