
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring IPv6 SSM Mapping">
<meta name="abstract" content="Some hosts can run only MLDv1. To enable such hosts to obtain the MLDv2 service, configure SSM mapping.">
<meta name="description" content="Some hosts can run only MLDv1. To enable such hosts to obtain the MLDv2 service, configure SSM mapping.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0080.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0086.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00800033,l2multicastvrp,c00549182,w00556928,w00437000,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172367951">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring IPv6 SSM Mapping</title>
</head>
<body><a name="EN-US_TASK_0172367951"></a><a name="EN-US_TASK_0172367951"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring IPv6 SSM Mapping</h1>
<div class="taskbody"><p>Some hosts can run only MLDv1. To enable such hosts to obtain the MLDv2 service, configure SSM mapping.</p>
<div class="context"><a name="EN-US_TASK_0172367951__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Compared to the traditional any-source multicast (ASM) technology, source-specific multicast (SSM) can conserve multicast addresses and has higher security, but MLDv2 only supports SSM. The majority of the latest multicast devices support MLDv2, but most legacy multicast terminals only support MLDv1 and hope to enjoy the MLDv2 multicast service. SSM mapping enables the compatibility in the SSM range by supporting hosts running MLDv1.</p>
<p>When the upstream Layer 3 device runs MLDv2, SSM mapping maps (*, G) information in MLDv1 messages to (S, G) information in MLDv2 messages. In this manner, hosts running MLD of an earlier version can also obtain multicast services within the SSM group address range.</p>
<p>If a user joins an ASM group and wants to use MLDv2 services, add the multicast group address to the SSM group address range and then configure Layer 2 SSM mapping.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172367951__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=acl+ipv6"><b><span class="cmdname">acl ipv6</span></b></a> { <strong><span>number</span></strong> <i><span class="varname">basic-acl6-number</span></i> | <strong><span>name</span></strong> <i><span class="varname">basic-acl-name</span></i> }</span><p><p>The ACL6 view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a> <strong><span>permit</span></strong> <strong><span>source</span></strong> <i><span class="varname">source-ipv6-address</span></i> <i><span class="varname">prefix-length</span></i></span><p><p>A rule is configured for the basic ACL.</p>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a> <strong><span>deny</span></strong> <strong><span>source</span></strong> <strong><span>any</span></strong></span></span><p><p>The device is configured to process other multicast group addresses as ASM ones.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Set <strong><span>permit</span></strong> in the <a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a> command when configuring a rule for the ACL6. Otherwise, the SSM group range configuration does not take effect. If you set <strong><span>deny</span></strong> or the specified address is not a multicast address, the configuration does not take effect either.</p>
</div></div>
</p></li><li><span>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span></span><p><p>Return to the system view.</p>
</p></li><li><span>Perform either of the following operations based on the VLAN<span> or VPLS</span> networking:</span><p><ul><li>To enter the VLAN view, run the <a href="cmdqueryname=vlan"><b><span class="cmdname">vlan</span></b></a> <i><span class="varname">vlan-id</span></i> command.</li><li>To enter the VSI view, run the <a href="cmdqueryname=vsi"><b><span class="cmdname">vsi</span></b></a> <i><span class="varname">vsi-name</span></i> [ <strong><span>static</span></strong> ] command.</li></ul>
</p></li><li><span>Run <a href="cmdqueryname=mld-snooping+enable"><b><span class="cmdname">mld-snooping enable</span></b></a></span><p><p>MLD snooping is enabled for the VLAN<span> or VSI</span>.</p>
</p></li><li><span>Run <a href="cmdqueryname=mld-snooping+version+2"><b><span class="cmdname">mld-snooping version 2</span></b></a></span><p><p>MLDv2 is set as the version of MLD snooping.</p>
</p></li><li><span>Run <a href="cmdqueryname=mld-snooping+ssm-policy"><b><span class="cmdname">mld-snooping ssm-policy</span></b></a> { <i><span class="varname">basic-acl6-number</span></i> | <strong><span>acl6-name</span></strong> <i><span class="varname">acl6-name</span></i> }</span><p><p>The specified multicast address is added to the SSM group address range.</p>
</p></li><li><span>Run <a href="cmdqueryname=mld-snooping+ssm-mapping+enable"><b><span class="cmdname">mld-snooping ssm-mapping enable</span></b></a> <strong><span>policy</span></strong> <i><span class="varname">policy-name</span></i></span><p><p>SSM mapping is enabled for the VLAN<span> or VSI</span>.</p>
</p></li><li><span>Run <a href="cmdqueryname=mld-snooping+ssm-mapping"><b><span class="cmdname">mld-snooping ssm-mapping</span></b></a> <i><span class="varname">group-address</span></i> <i><span class="varname">mask-length</span></i> <i><span class="varname">source-address</span></i></span><p><p>The multicast address in the specified range is mapped to a specified source address.</p>
</p><p><p>The specified multicast address is in the SSM address range.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0000.html">Layer 2 Multicast Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0080.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0086.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>