
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring IPv6 PIM IPsec">
<meta name="abstract" content="If you want to encrypt and authenticate sent and received IPv6 PIM messages, configure IPv6 PIM IP Security (IPsec). IPv6 PIM IPsec protects a device against attacks launched using forged IPv6 PIM messages.">
<meta name="description" content="If you want to encrypt and authenticate sent and received IPv6 PIM messages, configure IPv6 PIM IP Security (IPsec). IPv6 PIM IPsec protects a device against attacks launched using forged IPv6 PIM messages.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2002.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2289.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_pimv6_2259.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPv6 PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv6 PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IPv6 PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172367515">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring IPv6 PIM IPsec</title>
</head>
<body><a name="EN-US_TASK_0172367515"></a><a name="EN-US_TASK_0172367515"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring IPv6 PIM IPsec</h1>
<div class="taskbody"><p>If you want to encrypt and authenticate sent and received IPv6 PIM messages, configure IPv6 PIM IP Security (IPsec). IPv6 PIM IPsec protects a device against attacks launched using forged IPv6 PIM messages. </p>
<div class="context"><a name="EN-US_TASK_0172367515__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>IPv6 PIM IPsec provides a complete set of security protection mechanisms to authenticate the sent and received IPv6 PIM messages, protecting devices against attacks launched using forged IPv6 PIM messages. </p>
<p>IPv6 PIM IPsec configured in the interface view has the same effect as that configured in the IPv6 PIM view, but their application scopes are different: </p>
<ul><li>IPv6 PIM IPsec configured in the interface view: applies only to the current interface.</li><li>IPv6 PIM IPsec configured in the IPv6 PIM view: applies to all interfaces.</li></ul>
<p>IPv6 PIM IPsec configured in the interface view takes precedence over IPv6 PIM IPsec configured in the IPv6 PIM view. If no IPv6 PIM IPsec configuration exists in the interface view, the interface uses the IPv6 PIM IPsec configuration in the IPv6 PIM view.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172367515__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring IPv6 PIM IPsec, complete the following tasks:</p>
<ul><li><p><a href="dc_vrp_multicast_cfg_2005.html">Configure IPv6 PIM-SM</a>. </p>
</li><li><p>Configure basic IPsec functions.</p>
</li></ul>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172367515__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li id="EN-US_TASK_0172367515__step_dc_vrp_multicast_cfg_223401"><span id="EN-US_TASK_0172367515__cmd1492189828214043">Configure global IPv6 PIM IPsec.</span><ul id="EN-US_TASK_0172367515__choices1636578419214043"><li id="EN-US_TASK_0172367515__choice769013796214043"><p id="EN-US_TASK_0172367515__p1258281726214043"><a name="EN-US_TASK_0172367515__choice769013796214043"></a><a name="choice769013796214043"></a>Configure IPsec authentication for IPv6 PIM messages.</p>
</li></ul>
<ol id="EN-US_TASK_0172367515__substeps1345968595214043"><li class="substepexpand" id="EN-US_TASK_0172367515__substep1925144198214043"><span id="EN-US_TASK_0172367515__cmd2027114748214328">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172367515__cmdname620286880214328">system-view</span></b></a></span><p><p id="EN-US_TASK_0172367515__p735265667214328">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172367515__substep2045380869214043"><span id="EN-US_TASK_0172367515__cmd368520984214328">Run <a href="cmdqueryname=pim-ipv6"><b><span class="cmdname" id="EN-US_TASK_0172367515__cmdname1143109947214043">pim-ipv6</span></b></a></span><p><p id="EN-US_TASK_0172367515__p1946847819214328">The IPv6 PIM view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172367515__substep1605408472214043"><span id="EN-US_TASK_0172367515__cmd409174772214328">Run <span><a href="cmdqueryname=ipsec"><b><span class="cmdname" id="EN-US_TASK_0172367515__cmdname1017527447214043">ipsec</span></b></a> [ <strong><span id="EN-US_TASK_0172367515__cmdparmname929268993214043">unicast-message</span></strong> ] <strong><span id="EN-US_TASK_0172367515__cmdparmname1850312877214043">sa</span></strong> <i><span class="varname" id="EN-US_TASK_0172367515__varname1261010742214043">sa-name</span></i></span></span><p><p id="EN-US_TASK_0172367515__p1310858473214328">IPv6 PIM IPsec is configured globally, enabling the device to authenticate the sent and received IPv6 PIM messages based on the specified SA policy. If you specify <a href="cmdqueryname=unicast-message"><b><span class="cmdname" id="EN-US_TASK_0172367515__cmdname1793399675214043">unicast-message</span></b></a> in the command, the device authenticates only the sent and received IPv6 PIM unicast messages based on the specified SA policy.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172367515__substep914038020214043"><span id="EN-US_TASK_0172367515__cmd637676363214328">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172367515__cmdname1547846008214328">commit</span></b></a></span><p><p id="EN-US_TASK_0172367515__p1645797839214328">The configuration is committed.</p>
</p></li></ol>
<ul id="EN-US_TASK_0172367515__choices1404838393214043"><li id="EN-US_TASK_0172367515__choice1962413759214043"><p id="EN-US_TASK_0172367515__p1234196887214043"><a name="EN-US_TASK_0172367515__choice1962413759214043"></a><a name="choice1962413759214043"></a>Configure IPsec authentication only for IPv6 PIM Hello messages.</p>
</li></ul>
<ol id="EN-US_TASK_0172367515__substeps90324091214043"><li class="substepexpand" id="EN-US_TASK_0172367515__substep313923602214043"><span id="EN-US_TASK_0172367515__cmd914154272214328">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172367515__cmdname495050905214328">system-view</span></b></a></span><p><p id="EN-US_TASK_0172367515__p1904974676214328">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172367515__substep809083983214043"><span id="EN-US_TASK_0172367515__cmd1015034215214328">Run <a href="cmdqueryname=pim-ipv6"><b><span class="cmdname" id="EN-US_TASK_0172367515__cmdname1412090298214043">pim-ipv6</span></b></a></span><p><p id="EN-US_TASK_0172367515__p108849627214328">The IPv6 PIM view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172367515__substep278333950214043"><span id="EN-US_TASK_0172367515__cmd150613905214328">Run <a href="cmdqueryname=hello+ipsec"><b><span class="cmdname" id="EN-US_TASK_0172367515__cmdname460800869214328">hello ipsec</span></b></a> <strong><span id="EN-US_TASK_0172367515__cmdparmname190044354214328">sa</span></strong> <i><span class="varname" id="EN-US_TASK_0172367515__varname720517167214328">sa-name</span></i></span><p><p id="EN-US_TASK_0172367515__p1498213315214328">IPv6 PIM IPsec is configured globally, enabling the device to authenticate the sent and received IPv6 PIM Hello messages based on the specified SA policy.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172367515__substep178122876214043"><span id="EN-US_TASK_0172367515__cmd855366184214328">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172367515__cmdname120379505214328">commit</span></b></a></span><p><p id="EN-US_TASK_0172367515__p1823491765214328">The configuration is committed.</p>
</p></li></ol>
<p><div class="note" id="EN-US_TASK_0172367515__note996605385214043"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172367515__p1721742742214043">If the <a href="cmdqueryname=ipsec+sa"><b><span class="cmdname" id="EN-US_TASK_0172367515__cmdname73508654214043">ipsec sa</span></b></a> and <a href="cmdqueryname=hello+ipsec+sa"><b><span class="cmdname" id="EN-US_TASK_0172367515__cmdname407577832214043">hello ipsec sa</span></b></a> commands are both configured, the command configured later overrides the command configured earlier.</p>
</div></div>
</p></li><li id="EN-US_TASK_0172367515__step_dc_vrp_multicast_cfg_223402"><span id="EN-US_TASK_0172367515__cmd988029534214043">Configure IPv6 PIM IPsec in the interface view.</span><ul id="EN-US_TASK_0172367515__choices808052004214043"><li id="EN-US_TASK_0172367515__choice667465665214043"><p id="EN-US_TASK_0172367515__p1788343374214043"><a name="EN-US_TASK_0172367515__choice667465665214043"></a><a name="choice667465665214043"></a>Configure IPsec authentication for IPv6 PIM messages.</p>
</li></ul>
<ol id="EN-US_TASK_0172367515__substeps879451264214043"><li class="substepexpand" id="EN-US_TASK_0172367515__substep99367858214043"><span id="EN-US_TASK_0172367515__cmd1945303766214328">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172367515__cmdname1880425852214328">system-view</span></b></a></span><p><p id="EN-US_TASK_0172367515__p197707061214328">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172367515__substep1597009618214043"><span id="EN-US_TASK_0172367515__cmd1515799662214328">Run <a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0172367515__cmdname2123072049214328">interface</span></b></a> <i><span class="varname" id="EN-US_TASK_0172367515__varname1348435844214328">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0172367515__varname783727512214328">interface-number</span></i></span><p><p id="EN-US_TASK_0172367515__p1655359174214328">The interface view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172367515__substep2074784153214043"><span id="EN-US_TASK_0172367515__cmd122128122214328">Run <a href="cmdqueryname=pim+ipv6+ipsec+sa"><b><span class="cmdname" id="EN-US_TASK_0172367515__cmdname2089253180214328">pim ipv6 ipsec sa</span></b></a> <i><span class="varname" id="EN-US_TASK_0172367515__varname474374306214328">sa-name</span></i></span><p><p id="EN-US_TASK_0172367515__p60118162214328">IPv6 PIM IPsec is configured on the interface, enabling the interface to authenticate the sent and received IPv6 PIM messages based on the specified SA policy.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172367515__substep39810969214043"><span id="EN-US_TASK_0172367515__cmd1793278383214328">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172367515__cmdname799085529214328">commit</span></b></a></span><p><p id="EN-US_TASK_0172367515__p631294181214328">The configuration is committed.</p>
</p></li></ol>
<ul id="EN-US_TASK_0172367515__choices426143268214043"><li id="EN-US_TASK_0172367515__choice1943087258214043"><p id="EN-US_TASK_0172367515__p683725277214043"><a name="EN-US_TASK_0172367515__choice1943087258214043"></a><a name="choice1943087258214043"></a>Configure IPsec authentication for IPv6 PIM Hello messages.</p>
</li></ul>
<ol id="EN-US_TASK_0172367515__substeps1063964130214043"><li class="substepexpand" id="EN-US_TASK_0172367515__substep695501634214043"><span id="EN-US_TASK_0172367515__cmd236984354214328">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172367515__cmdname342205409214328">system-view</span></b></a></span><p><p id="EN-US_TASK_0172367515__p2110478037214328">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172367515__substep962240167214043"><span id="EN-US_TASK_0172367515__cmd840842619214328">Run <a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0172367515__cmdname96229961214328">interface</span></b></a> <i><span class="varname" id="EN-US_TASK_0172367515__varname1473647263214328">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0172367515__varname2063611241214328">interface-number</span></i></span><p><p id="EN-US_TASK_0172367515__p1982906729214328">The interface view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172367515__substep889864413214043"><span id="EN-US_TASK_0172367515__cmd118822190214328">Run <a href="cmdqueryname=pim+ipv6+hello+ipsec+sa"><b><span class="cmdname" id="EN-US_TASK_0172367515__cmdname341169557214328">pim ipv6 hello ipsec sa</span></b></a> <i><span class="varname" id="EN-US_TASK_0172367515__varname86160810214328">sa-name</span></i></span><p><p id="EN-US_TASK_0172367515__p1875035078214328">IPv6 PIM IPsec is configured on the interface, enabling the interface to authenticate the sent and received IPv6 PIM Hello messages based on the specified SA policy.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172367515__substep149882123214043"><span id="EN-US_TASK_0172367515__cmd33301931214328">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172367515__cmdname650626911214328">commit</span></b></a></span><p><p id="EN-US_TASK_0172367515__p1209240092214328">The configuration is committed.</p>
</p></li></ol>
<p><div class="note" id="EN-US_TASK_0172367515__note972941140214043"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172367515__p1281251722214043">If the <a href="cmdqueryname=pim+ipv6+ipsec+sa"><b><span class="cmdname" id="EN-US_TASK_0172367515__cmdname620911060214328">pim ipv6 ipsec sa</span></b></a> and <a href="cmdqueryname=pim+ipv6+hello+ipsec+sa"><b><span class="cmdname" id="EN-US_TASK_0172367515__cmdname1172009833214328">pim ipv6 hello ipsec sa</span></b></a> commands are both configured, the command configured later overrides the command configured earlier. </p>
</div></div>
</p></li></ul></div>
<div class="example"><a name="EN-US_TASK_0172367515__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Checking the Configurations</h4><p>Run the <a href="cmdqueryname=display+pim+ipv6+interface"><b><span class="cmdname">display pim ipv6 interface</span></b></a> <i><span class="varname">interface-type interface-number</span></i> <strong><span>verbose</span></strong> command to check the detailed IPv6 PIM IPsec configuration on an interface.</p>
<p># Display the IPv6 PIM IPsec configuration on GE<span>0/1/0</span>. The command output shows that IPv6 PIM IPsec has been configured on GE<span>0/1/0</span>, the SA policy is named <strong>1</strong>, and IPsec authentication applies only to IPv6 PIM Hello messages. </p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2002.html">IPv6 PIM Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2289.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_pimv6_2259.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>