
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring IGMP SSM Mapping">
<meta name="abstract" content="If hosts' IGMP version can be upgraded to IGMPv1 or IGMPv2, not to IGMPv3, configure Source-Specific Multicast (SSM) mapping to implement version compatibility between a multicast device (running a higher IGMP version) and user hosts (running lower IGMP versions) and enable the multicast device to provide SSM services for the user hosts. The user hosts can then receive multicast data from a specified source.">
<meta name="description" content="If hosts' IGMP version can be upgraded to IGMPv1 or IGMPv2, not to IGMPv3, configure Source-Specific Multicast (SSM) mapping to implement version compatibility between a multicast device (running a higher IGMP version) and user hosts (running lower IGMP versions) and enable the multicast device to provide SSM services for the user hosts. The user hosts can then receive multicast data from a specified source.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2067.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2068.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2291.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172366771">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Example for Configuring IGMP SSM Mapping</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0172366771"></a><a name="EN-US_TASK_0172366771"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring IGMP SSM Mapping</h1>
<div class="taskbody"><p>If hosts' IGMP version can be upgraded to IGMPv1 or IGMPv2, not to IGMPv3, configure Source-Specific Multicast (SSM) mapping to implement version compatibility between a multicast device (running a higher IGMP version) and user hosts (running lower IGMP versions) and enable the multicast device to provide SSM services for the user hosts. The user hosts can then receive multicast data from a specified source.</p>
<div class="context"><a name="EN-US_TASK_0172366771__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>On the multicast network shown in <a href="#EN-US_TASK_0172366771__fig_dc_vrp_multicast_cfg_206901">Figure 1</a>, PIM-SM is run and the SSM mode is configured. IGMPv3 is run on the interface connecting the <span class="keyword">Router</span> to the receiver and IGMPv2 is run on the receiver. The IGMP version on the receiver is unable to be upgraded to IGMPv3.</p>
<p>The SSM group address range is set to 232.1.1.0/24, and Sources 1, 2, and 3 all send multicast data to multicast groups in this range. The receiver requires multicast data only from Sources 1 and 3. To meet this requirement, configure IGMP SSM mapping.</p>
<div class="fignone" id="EN-US_TASK_0172366771__fig_dc_vrp_multicast_cfg_206901"><a name="EN-US_TASK_0172366771__fig_dc_vrp_multicast_cfg_206901"></a><a name="fig_dc_vrp_multicast_cfg_206901"></a><span class="figcap"><b>Figure 1 </b>Configuring IGMP SSM mapping</span><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Interfaces 1, 2, and 3 in this example represent GigabitEthernet<span>0/1/0</span>, GigabitEthernet<span>0/2/0</span>, and GigabitEthernet<span>0/3/0</span>, respectively.</p>
</div></div>
<br><span><img class="vsd" src="images/fig_dc_vrp_multicast_cfg_206901.png" width="NaN" height="NaN"></span></div>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" frame="border" border="1" rules="all"><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.4.1.5.1.4.1.1" liSelected="liSelected"><p>Device</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.4.1.5.1.4.1.2" liSelected="liSelected"><p>Interface</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.4.1.5.1.4.1.3" liSelected="liSelected"><p>IP Address</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" rowspan="3" valign="top" width="33.33333333333333%" headers="mcps1.4.1.5.1.4.1.1 "><p>DeviceA</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.1.5.1.4.1.2 "><p>GE<span>0/1/0</span></p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.1.5.1.4.1.3 "><p>10.10.1.2/24</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.2 "><p>GE<span>0/2/0</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.3 "><p>192.168.1.1/24</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.2 "><p>GE<span>0/3/0</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.3 "><p>192.168.4.2/24</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="3" valign="top" width="33.33333333333333%" headers="mcps1.4.1.5.1.4.1.1 "><p>DeviceB</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.1.5.1.4.1.2 "><p>GE<span>0/1/0</span></p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.1.5.1.4.1.3 "><p>10.10.2.2/24</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.2 "><p>GE<span>0/2/0</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.3 "><p>192.168.1.2/24</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.2 "><p>GE<span>0/3/0</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.3 "><p>192.168.2.1/24</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="3" valign="top" width="33.33333333333333%" headers="mcps1.4.1.5.1.4.1.1 "><p>DeviceC</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.1.5.1.4.1.2 "><p>GE<span>0/1/0</span></p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.1.5.1.4.1.3 "><p>10.10.3.2/24</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.2 "><p>GE<span>0/2/0</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.3 "><p>192.168.3.1/24</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.2 "><p>GE<span>0/3/0</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.3 "><p>192.168.2.2/24</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="3" valign="top" width="33.33333333333333%" headers="mcps1.4.1.5.1.4.1.1 "><p>DeviceD</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.1.5.1.4.1.2 "><p>GE<span>0/1/0</span></p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.1.5.1.4.1.3 "><p>10.10.4.2/24</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.2 "><p>GE<span>0/2/0</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.3 "><p>192.168.3.2/24</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.2 "><p>GE<span>0/3/0</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.5.1.4.1.3 "><p>192.168.4.1/24</p>
</td>
</tr>
</tbody>
</table>
</div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172366771__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Precautions</h4><p>During configuration, note the following precautions:</p>
<ul><li><p>PIM-SM and IGMP need to be enabled in succession on the interfaces connecting to the hosts.</p>
</li><li><p>The ranges of SSM group addresses configured on all <span class="keyword">Router</span>s in a PIM-SM domain must be the same.</p>
</li><li><p>The basic IGMP function must be configured before IGMP SSM mapping is configured. For detailed configuration information, see the <a href="dc_vrp_multicast_cfg_2068.html">Example for Configuring Basic IGMP Functions</a>.</p>
</li><li><p>To make SSM source-group address mapping entries take effect, you must enable SSM mapping first.</p>
</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0172366771__1.4.3"></a><a name="1.4.3"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><ol><li><p>Assign IP addresses to <span class="keyword">Router</span> interfaces and configure a unicast routing protocol.</p>
</li><li><p>Enable multicast routing on all <span class="keyword">Router</span>s that provide multicast services.</p>
</li><li><p>Enable PIM-SM on all interfaces of <span class="keyword">Router</span>s that provide multicast services.</p>
</li><li><p>Enable IGMP and SSM mapping on interfaces connected to hosts.</p>
</li><li><p>Configure the SSM group address range on all <span class="keyword">Router</span>s in the PIM-SM domain.</p>
</li><li><p>Configure static SSM mapping rules on <span class="keyword">Router</span>s connected to hosts.</p>
</li></ol>
</div></div>
<div class="context"><a name="EN-US_TASK_0172366771__1.4.4"></a><a name="1.4.4"></a>
<div class="p"><h4 class="sectiontitle">Data Preparation</h4><p>To complete the configuration, you need the following data:</p>
<ul><li><p>SSM group address range</p>
</li><li><p>IP addresses of Sources 1 and 3</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172366771__1.4.5"></a><a name="1.4.5"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure an IP address for each <span class="keyword">Router</span> interface and a unicast routing protocol. For configuration details, see Configuration Files in this section.</span></li><li><span>Enable the multicast function on each <span class="keyword">Router</span>, and enable PIM-SM on <span class="keyword">Router</span> interfaces.</span><p><p># Configure <span class="keyword">Device</span> D. The configurations of <span class="keyword">Device</span> A, <span class="keyword">Device</span> B, and <span class="keyword">Device</span> C are similar to the configuration of <span class="keyword">Device</span> D. For configuration details, see Configuration Files in this section.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>D] <strong>multicast routing-enable</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D] <strong>interface gigabitethernet <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-GigabitEthernet<span>0/1/0</span>] <strong>pim sm</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-GigabitEthernet<span>0/1/0</span>] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D] <strong>interface gigabitethernet <span>0/2/0</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-GigabitEthernet<span>0/2/0</span>] <strong>pim sm</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-GigabitEthernet<span>0/2/0</span>] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D] <strong>interface gigabitethernet <span>0/3/0</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-GigabitEthernet<span>0/3/0</span>] <strong>pim sm</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-GigabitEthernet<span>0/3/0</span>] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>D-GigabitEthernet<span>0/3/0</span>] <strong>quit</strong></pre>
</p></li><li><span>Enable IGMP and SSM mapping on interfaces connected to hosts.</span><p><p># Enable IGMP and SSM mapping on GE <span>0/1/0</span> of <span class="keyword">Device</span> D.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>D] <strong>interface gigabitethernet <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>D-GigabitEthernet<span>0/1/0</span>] <strong>igmp enable</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-GigabitEthernet<span>0/1/0</span>] <strong>igmp version 3</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-GigabitEthernet<span>0/1/0</span>] <strong>igmp ssm-mapping enable</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-GigabitEthernet<span>0/1/0</span>] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>D-GigabitEthernet<span>0/1/0</span>] <strong>quit</strong></pre>
</p></li><li><span>Set the SSM group address range.</span><p><p>Set the SSM group address range to 232.1.1.0/24 on all <span class="keyword">Router</span>s in the PIM-SM domain. The configurations of <span class="keyword">Device</span> B, <span class="keyword">Device</span> C, and <span class="keyword">Device</span> D are similar to the configuration of <span class="keyword">Device</span> A. For configuration details, see Configuration Files in this section.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>acl number 2000</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-acl4-basic-2000] <strong>rule permit source 232.1.1.0 0.0.0.255</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-acl4-basic-2000] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A] <strong>pim</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-pim] <strong>ssm-policy 2000</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-pim] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-pim] <strong>quit</strong></pre>
</p></li><li><span>Configure SSM mapping rules on the <span class="keyword">Router</span> connected to the receiver.</span><p><p># On <span class="keyword">Device</span> D, map the multicast groups in the range of 232.1.1.0/24 to Sources 1 and 3.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>D] <strong>igmp</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-igmp] <strong>ssm-mapping 232.1.1.0 24 10.10.1.1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-igmp] <strong>ssm-mapping 232.1.1.0 24 10.10.3.1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D-igmp] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>D-igmp] <strong>quit</strong></pre>
</p></li><li><span>Verify the configuration.</span><p><p># View information about SSM mapping rules on <span class="keyword">Device</span> D.</p>
<pre class="screen">&lt;<span class="keyword">Device</span>D&gt; <strong>display igmp ssm-mapping group</strong></pre>
<pre class="screen">IGMP SSM-Mapping conversion table of VPN-Instance: public net</pre>
<pre class="screen"> Total 2 entries    2 entries matched</pre>
<pre class="screen"> 00001. (10.10.1.1, 232.1.1.0)</pre>
<pre class="screen"> 00002. (10.10.3.1, 232.1.1.0)</pre>
<pre class="screen"> Total 2 entries matched</pre>
<p># Run the <strong>display igmp group ssm-mapping</strong> command to view source-group information on <span class="keyword">Router</span>s. The command output on <span class="keyword">Device</span>D is as follows:</p>
<pre class="screen">&lt;<span class="keyword">Device</span>D&gt; <strong>display igmp group ssm-mapping</strong></pre>
<pre class="screen">IGMP SSM mapping Interface group report information of VPN-Instance: public net</pre>
<pre class="screen"> GigabitEthernet<span>0/1/0</span> (10.10.4.2):</pre>
<pre class="screen">  Total 1 IGMP SSM-Mapping Group reported</pre>
<pre class="screen">   Group Address   Last Reporter   Uptime      Expires</pre>
<pre class="screen">   232.1.1.1       10.10.4.1     00:01:44    00:00:26</pre>
<pre class="screen">&lt;<span class="keyword">Device</span>D&gt; <strong>display igmp group ssm-mapping verbose</strong></pre>
<pre class="screen">Interface group report information of VPN-Instance: public net </pre>
<pre class="screen"> Limited entry of this VPN-Instance: - </pre>
<pre class="screen"> GigabitEthernet<span>0/1/0</span> (10.10.4.2):</pre>
<pre class="screen">  Total entry on this interface: 1</pre>
<pre class="screen">  Limited entry on this interface: - </pre>
<pre class="screen">  Total 1 IGMP SSM-Mapping Group reported</pre>
<pre class="screen">   Group: 232.1.1.1</pre>
<pre class="screen">     Uptime: 00:01:52</pre>
<pre class="screen">     Expires: 00:00:18</pre>
<pre class="screen">     Last reporter: 10.10.4.1</pre>
<pre class="screen">     Last-member-query-counter: 0</pre>
<pre class="screen">     Last-member-query-timer-expiry: off</pre>
<pre class="screen">     Group mode: exclude</pre>
<pre class="screen">     Version1-host-present-timer-expiry: off</pre>
<pre class="screen">     Version2-host-present-timer-expiry: 00:00:17</pre>
<p># Run the <strong>display pim routing-table</strong> command to view information about the PIM-SM routing table. The command output on <span class="keyword">Device</span>D is as follows:</p>
<pre class="screen">&lt;<span class="keyword">Device</span>D&gt; <strong>display pim routing-table</strong></pre>
<pre class="screen">VPN-Instance: public net</pre>
<pre class="screen"> Total 0 (*, G) entry; 2 (S, G) entries</pre>
<pre class="screen"></pre>
<pre class="screen"> (10.10.1.1, 232.1.1.1)</pre>
<pre class="screen">     Protocol: pim-ssm, Flag:SG_RCVR</pre>
<pre class="screen">     UpTime: 00:11:25</pre>
<pre class="screen">     Upstream interface: GigabitEthernet<span>0/3/0</span>, Refresh time: 00:11:25</pre>
<pre class="screen">         Upstream neighbor: 192.168.4.2</pre>
<pre class="screen">         RPF prime neighbor: 192.168.4.2</pre>
<pre class="screen">     Downstream interface(s) information:</pre>
<pre class="screen">     Total number of downstreams: 1</pre>
<pre class="screen">         1: GigabitEthernet<span>0/1/0</span></pre>
<pre class="screen">             Protocol: ssm-map, UpTime: 00:11:25, Expires:-</pre>
<pre class="screen"></pre>
<pre class="screen"> (10.10.3.1, 232.1.1.1)</pre>
<pre class="screen">     Protocol: pim-ssm, Flag:SG_RCVR</pre>
<pre class="screen">     UpTime: 00:11:25</pre>
<pre class="screen">     Upstream interface: GigabitEthernet<span>0/2/0</span>, Refresh time: 00:11:25</pre>
<pre class="screen">         Upstream neighbor: 192.168.3.1</pre>
<pre class="screen">         RPF prime neighbor: 192.168.3.1</pre>
<pre class="screen">     Downstream interface(s) information:</pre>
<pre class="screen">     Total number of downstreams: 1</pre>
<pre class="screen">         1: GigabitEthernet<span>0/1/0</span></pre>
<pre class="screen">             Protocol: ssm-map, UpTime: 00:11:25, Expires:-</pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0172366771__1.4.6"></a><a name="1.4.6"></a><h4 class="sectiontitle">Configuration Files</h4><ul><li><p><span class="keyword">Device</span> A configuration file</p>
<pre class="screen">#
sysname <span class="keyword">Device</span>A
#
multicast routing-enable
#
acl number 2000
 rule permit source 232.1.1.0 0.0.0.255
#
isis 1
 network-entity 10.0000.0000.0001.00
#
interface GigabitEthernet<span>0/1/0</span>
 undo shutdown
 ip address 10.10.1.2 255.255.255.0
 pim sm
 isis enable 1
#
interface GigabitEthernet<span>0/2/0</span>
 undo shutdown
 ip address 192.168.1.1 255.255.255.0
 pim sm
 isis enable 1
#
interface GigabitEthernet<span>0/3/0</span>
 undo shutdown
 ip address 192.168.4.2 255.255.255.0
 pim sm
 isis enable 1
#
pim
 ssm-policy 2000
#
return</pre>
</li><li><p><span class="keyword">Device</span> B configuration file</p>
<pre class="screen">#
sysname <span class="keyword">Device</span>B
#
multicast routing-enable
#
acl number 2000
 rule permit source 232.1.1.0 0.0.0.255
#
isis 1
 network-entity 10.0000.0000.0002.00
#
interface GigabitEthernet<span>0/1/0</span>
 undo shutdown
 ip address 10.10.2.2 255.255.255.0
 pim sm
 isis enable 1
#
interface GigabitEthernet<span>0/2/0</span>
 undo shutdown
 ip address 192.168.1.2 255.255.255.0
 pim sm
 isis enable 1
#
interface GigabitEthernet<span>0/3/0</span>
 undo shutdown
 ip address 192.168.2.1 255.255.255.0
 pim sm
 isis enable 1
#
pim
 ssm-policy 2000
#
return</pre>
</li><li><p><span class="keyword">Device</span> C configuration file</p>
<pre class="screen">#
sysname <span class="keyword">Device</span>C
#
multicast routing-enable
#
acl number 2000
 rule permit source 232.1.1.0 0.0.0.255
#
isis 1
 network-entity 10.0000.0000.0003.00
#
interface GigabitEthernet<span>0/1/0</span>
 undo shutdown
 ip address 10.10.3.2 255.255.255.0
 pim sm
 isis enable 1
#
interface GigabitEthernet<span>0/2/0</span>
 undo shutdown
 ip address 192.168.3.1 255.255.255.0
 pim sm
 isis enable 1
#
interface GigabitEthernet<span>0/3/0</span>
 undo shutdown
 ip address 192.168.2.2 255.255.255.0
 pim sm
 isis enable 1
#
pim
 ssm-policy 2000
#
return</pre>
</li><li><p><span class="keyword">Device</span> D configuration file</p>
<pre class="screen">#
sysname <span class="keyword">Device</span>D
#
multicast routing-enable
#
acl number 2000
 rule permit source 232.1.1.0 0.0.0.255
#
isis 1
 network-entity 10.0000.0000.0004.00
#
interface GigabitEthernet<span>0/1/0</span>
 undo shutdown
 ip address 10.10.4.2 255.255.255.0
 isis enable 1
 pim sm
 igmp enable
 igmp version 3
 igmp ssm-mapping enable
#
interface GigabitEthernet<span>0/2/0</span>
 undo shutdown
 
 pim sm
 isis enable 1
#
interface GigabitEthernet<span>0/3/0</span>
 undo shutdown
 ip address 192.168.4.1 255.255.255.0
 pim sm
 isis enable 1
#
igmp
 ssm-mapping 232.1.1.0 255.255.255.0 10.10.1.1
 ssm-mapping 232.1.1.0 255.255.255.0 10.10.3.1
#
pim
 ssm-policy 2000
#
return</pre>
</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2067.html">Configuration Examples for IGMP
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2068.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2291.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>