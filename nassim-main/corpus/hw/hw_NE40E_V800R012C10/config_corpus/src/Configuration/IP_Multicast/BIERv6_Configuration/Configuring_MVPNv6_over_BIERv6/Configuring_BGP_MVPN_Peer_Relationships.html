
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring BGP MVPN Peer Relationships">
<meta name="abstract" content="BGP MVPN peer relationships between PEs in the same MVPN allow the PEs to exchange MVPN A-D routes and C-multicast routes.">
<meta name="description" content="BGP MVPN peer relationships between PEs in the same MVPN allow the PEs to exchange MVPN A-D routes and C-multicast routes.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_bierv6_cfg_0016.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_bierv6_cfg_0018.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BIERv6">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BIERv6">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="BIERv6">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="BIERv6">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0271431868">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/thickbox.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/jquery.min.js"></script>
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/imageResize.js"></script>
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/jquery-migrate-1.2.1.min.js"></script>
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/jquery-ui.min.js"></script>
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/jquery.mousewheel.min.js"></script>
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/thickbox.js"></script>
<title>Configuring BGP MVPN Peer Relationships</title>
</head>
<body><a name="EN-US_TASK_0271431868"></a><a name="EN-US_TASK_0271431868"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring BGP MVPN Peer Relationships</h1>
<div class="taskbody"><p>BGP MVPN peer relationships between PEs in the same MVPN allow the PEs to exchange MVPN A-D routes and C-multicast routes.</p>
<div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0271431868__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>Before configuring BGP MVPN peers, configure L3VPNv6/EVPN L3VPNv6 over SRv6. For details, see the configuration examples in this document.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0271431868__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>In the typical MVPNv6 over BIERv6 networking shown in <a href="#EN-US_TASK_0271431868__fig12181260228">Figure 1</a>, one sender PE and multiple receiver PEs are deployed. Because multicast traffic is transmitted between the multicast source and receivers, BGP MVPN peer relationships must be established between the sender PE and all receiver PEs.</p>
<div class="fignone" id="EN-US_TASK_0271431868__fig12181260228"><a name="EN-US_TASK_0271431868__fig12181260228"></a><a name="fig12181260228"></a><span class="figcap"><b>Figure 1 </b>MVPNv6 over BIERv6 networking</span><br><span><img class="imgResize" src="figure/en-us_image_0283039348.png" width="516.40824375" height="290.5418250000001" title="Click to enlarge"></span></div>
<p></p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0271431868__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure the sender PE.</span><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i></span><p><p>The BGP view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=ipv6-family+mvpn"><b><span class="cmdname">ipv6-family mvpn</span></b></a></span><p><p>The BGP-IPv6 MVPN address family view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=peer+enable+%28BGP-MVPN+address+family+view%29"><b><span class="cmdname">peer</span></b></a> <em>ipv6-address</em> <strong><span>enable</span></strong></span><p><p>The sender PE is enabled to establish a BGP MVPN peer relationship with a specified receiver PE. You need to run this command for each receiver PE with which the sender PE needs to establish a BGP MVPN peer relationship.</p>
</p><p><p>It is recommended that the IPv6 address be set to the loopback interface address of each receiver PE.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Exit the BGP-IPv6 MVPN address family view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Exit the BGP view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure a receiver PE.</span><p><p>Perform the following operations on all receiver PEs.</p>
</p><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i></span><p><p>The BGP view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=ipv6-family+mvpn"><b><span class="cmdname">ipv6-family mvpn</span></b></a></span><p><p>The BGP-IPv6 MVPN address family view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=peer+enable+%28BGP-MVPN+address+family+view%29"><b><span class="cmdname">peer</span></b></a> <em>ipv6-address</em> <strong><span>enable</span></strong></span><p><p>The receiver PE is enabled to establish a BGP MVPN peer relationship with the sender PE.</p>
</p><p><p>It is recommended that the IPv6 address be set to the loopback interface address of the sender PE.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Exit the BGP-IPv6 MVPN address family view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Exit the BGP view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_bierv6_cfg_0016.html">Configuring MVPNv6 over BIERv6
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_bierv6_cfg_0018.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>

<script language="JavaScript">
<!--
image_size('.imgResize');
var msg_imageMax = "view original image";
var msg_imageClose = "close";
//--></script></body>
</html>