
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring a Multicast Group Security Policy">
<meta name="abstract" content="A multicast group policy can be configured to limit the range and number of multicast groups that some hosts can join or to add security messages to multicast data packets.">
<meta name="description" content="A multicast group policy can be configured to limit the range and number of multicast groups that some hosts can join or to add security messages to multicast data packets.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0007.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0064.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00800033,l2multicastvrp,c00549182,w00556928,w00437000,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172367844">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring a Multicast Group Security Policy</title>
</head>
<body><a name="EN-US_TASK_0172367844"></a><a name="EN-US_TASK_0172367844"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring a Multicast Group Security Policy</h1>
<div class="taskbody"><p>A multicast group policy can be configured to limit the range and number of multicast groups that some hosts can join or to add security messages to multicast data packets.</p>
<div class="context"><a name="EN-US_TASK_0172367844__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p">A multicast group security policy provides the following functions:<ul><li><p>Restriction on multicast group models: There are two models of multicast groups: Any-Source Multicast (ASM) and Source-Specific Multicast (SSM). When IGMPv3 multicast services are deployed, you can configure a device to forward the data of only ASM or SSM groups in the VLAN<span>/VSI</span>.</p>
</li><li><p>Limit on the multicast group address range: You can limit the range of multicast groups that user hosts are allowed to join on an interface or sub-interface or in a VLAN<span>/VSI</span>.</p>
</li><li><p>Multicast protocol message security protection: This function is used to ensure protocol security. After this function is enabled on a device and the device receives an IGMP message from the VLAN<span> or VSI</span>, the device directly discards the message if it does not carry the Router Alert option in the IP header.</p>
</li><li><p>Multicast protocol message filtering based on the source or destination IP address: An ACL can be configured to filter the source and destination IP addresses in IGMP Query, Report, or Leave messages, which prevents multicast service interruptions caused by forged IGMP Query, Report, or Leave messages.</p>
</li></ul>
</div>
<p>The preceding functions are optional and can be configured in any order. Configure one or more functions as required. Default settings are recommended.</p>
<p>Before configuring a multicast group security policy, enable IGMP snooping both globally and in a specified VLAN<span>/VSI</span>.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172367844__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Set a multicast group model.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Perform either of the following operations based on the VLAN or VPLS networking:</span><p><ul><li>To enter the VLAN view, run the <a href="cmdqueryname=vlan"><b><span class="cmdname">vlan</span></b></a> <i><span class="varname">vlan-id</span></i> command.</li><li>To enter the VSI view, run the <a href="cmdqueryname=vsi"><b><span class="cmdname">vsi</span></b></a> <i><span class="varname">vsi-name</span></i> [ <strong><span>static</span></strong> ] command.</li></ul>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=igmp-snooping+version"><b><span class="cmdname">igmp-snooping version</span></b></a> <strong><span>3</span></strong></span><p><p>The version number of IGMP snooping is set to 3 in the VLAN<span> or VSI</span>.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=igmp-snooping"><b><span class="cmdname">igmp-snooping</span></b></a> { <strong><span>ssm-only</span></strong> | <strong><span>asm-only</span></strong> | <strong><span>asm-ssm</span></strong> }</span><p><p>A multicast group type is set in the VLAN<span> or VSI</span>.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Limit the multicast address range in a VLAN<span> or VSI</span>.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Perform either of the following operations based on the VLAN or VPLS networking:</span><p><ul><li>To enter the VLAN view, run the <a href="cmdqueryname=vlan"><b><span class="cmdname">vlan</span></b></a> <i><span class="varname">vlan-id</span></i> command.</li><li>To enter the VSI view, run the <a href="cmdqueryname=vsi"><b><span class="cmdname">vsi</span></b></a> <i><span class="varname">vsi-name</span></i> [ <strong><span>static</span></strong> ] command.</li></ul>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=igmp-snooping+group-policy"><b><span class="cmdname">igmp-snooping group-policy</span></b></a> { <i><span class="varname">acl-number</span></i> | <strong><span>acl-name</span></strong> <i><span class="varname">acl-name</span></i> } [ <strong><span>version</span></strong> <i><span class="varname">number</span></i> ]</span><p><p>The multicast group address range is limited in the VLAN<span> or VSI</span>. Interfaces in the the VLAN<span> or VSI</span> are allowed to join only multicast groups in the range defined by a specified ACL.</p>
<p>By default, the multicast address range is not limited in the VLAN<span> or VSI</span>.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Set the range of multicast groups that hosts can join on a sub-interface.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> { <strong><span>ethernet</span></strong> | <strong><span>gigabitethernet</span></strong> |<strong><span>eth-trunk</span></strong>} <i><span class="varname">interface-number.subnumber</span></i></span></span><p><p>The sub-interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=igmp-snooping+group-policy"><b><span class="cmdname">igmp-snooping group-policy</span></b></a> { <i><span class="varname">acl-number</span></i> | <strong><span>acl-name</span></strong> <i><span class="varname">acl-name</span></i> } [ <strong><span>version</span></strong> <i><span class="varname">number</span></i> ]</span><p><p>The multicast group address range is limited on the sub-interface, and the sub-interface is allowed to join only multicast groups in the range defined by a specified ACL.</p>
</p><p></p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure a security policy for multicast protocol messages.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Perform either of the following operations based on the VLAN<span> or VPLS</span> networking:</span><p><ul><li>To enter the VLAN view, run the <a href="cmdqueryname=vlan"><b><span class="cmdname">vlan</span></b></a> <i><span class="varname">vlan-id</span></i> command.</li><li>To enter the VSI view, run the <a href="cmdqueryname=vsi"><b><span class="cmdname">vsi</span></b></a> <i><span class="varname">vsi-name</span></i> [ <strong><span>static</span></strong> ] command.</li></ul>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=igmp-snooping+require-router-alert"><b><span class="cmdname">igmp-snooping require-router-alert</span></b></a></span><p><p>The device is configured to accept only the IGMP messages that contain the Router Alert option in the IP header.</p>
</p><p><p>If the IP header of an IGMP message received by the device does not contain the Router Alert option, the device discards the message.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=igmp-snooping+send-router-alert"><b><span class="cmdname">igmp-snooping send-router-alert</span></b></a></span><p><p>The device is configured to send IGMP messages that carry the Router Alert option in the IP header.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure multicast message filtering based on source or destination IP addresses.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Perform either of the following operations based on the VLAN<span> or VPLS</span> networking:</span><p><ul><li>To enter the VLAN view, run the <a href="cmdqueryname=vlan"><b><span class="cmdname">vlan</span></b></a> <i><span class="varname">vlan-id</span></i> command.</li><li>To enter the VSI view, run the <a href="cmdqueryname=vsi"><b><span class="cmdname">vsi</span></b></a> <i><span class="varname">vsi-name</span></i> command.</li></ul>
</p></li><li class="substepexpand"><span>Perform either of the following operations to configure IGMP Query, Report, or Leave message filtering based on source or destination IP addresses.</span><p><ul><li><p>Run the <a href="cmdqueryname=igmp-snooping+query-ip-policy"><b><span class="cmdname">igmp-snooping query-ip-policy</span></b></a> { <i><span class="varname">acl-number</span></i> | <strong><span>acl-name</span></strong> <i><span class="varname">acl-name</span></i> } command to configure IGMP Query message filtering based on source IP addresses.</p>
<p>After the configuration is complete and the device receives forged IGMP Query messages from a user host, the device does not forward subsequent IGMP Report or Leave messages to the user host. This configuration prevents multicast service interruptions.</p>
</li><li><p>Run the <a href="cmdqueryname=igmp-snooping+ip-policy"><b><span class="cmdname">igmp-snooping ip-policy</span></b></a> { <i><span class="varname">acl-number</span></i> | <strong><span>acl-name</span></strong> <i><span class="varname">acl-name</span></i> } command to configure IGMP Report or Leave message filtering based on source or destination IP addresses.</p>
<p>After the configuration is complete and the device receives forged IGMP Report or Leave messages from a user host, the device does not forward multicast traffic to the user host. This configuration prevents bandwidth resource waste.</p>
</li></ul>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0001.html">Configuring IGMP Snooping
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0007.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0064.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>