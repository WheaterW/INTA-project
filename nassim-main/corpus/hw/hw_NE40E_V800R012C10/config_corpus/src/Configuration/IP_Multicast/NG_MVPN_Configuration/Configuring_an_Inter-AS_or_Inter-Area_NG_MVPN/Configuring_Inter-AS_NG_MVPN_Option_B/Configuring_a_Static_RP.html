
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a Static RP">
<meta name="abstract" content="To use a static Rendezvous Point (RP) in a PIM-SM domain, configure the same RP address and same address range of multicast groups that the RP serves on all routers in the PIM-SM domain.">
<meta name="description" content="To use a static Rendezvous Point (RP) in a PIM-SM domain, configure the same RP address and same address range of multicast groups that the RP serves on all routers in the PIM-SM domain.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0024.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0027.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0029.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPv4 Multicast VPN_NG MVPN">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv4 Multicast VPN_NG MVPN">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IPv4 Multicast VPN_NG MVPN">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IPv4 Multicast VPN_NG MVPN">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IPv4 Multicast VPN_NG MVPN">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001270313593">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring a Static RP</title>
</head>
<body><a name="EN-US_TASK_0000001270313593"></a><a name="EN-US_TASK_0000001270313593"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a Static RP</h1>
<div class="taskbody"><p>To use a static Rendezvous Point (RP) in a PIM-SM domain, configure the same RP address and same address range of multicast groups that the RP serves on all <span class="keyword">router</span>s in the PIM-SM domain.</p>
<div class="context"><a name="EN-US_TASK_0000001270313593__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>If a network is divided into multiple PIM-SM domains and the static RP needs to be used, configure the same static RP address on all the CEs and PEs in one PIM-SM domain to specify the range of each PIM-SM domain.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001270313593__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Configure a basic numbered ACL or a naming ACL as needed.</span><p><ul><li><p>Configure a basic numbered ACL.</p>
<ol type="a"><li>Run <span><a href="cmdqueryname=acl"><b><span class="cmdname">acl</span></b></a> [ <strong><span>number</span></strong> ] <i><span class="varname">basic-acl-number</span></i> [ <strong><span>match-order</span></strong> { <strong><span>auto</span></strong> | <strong><span>config</span></strong> } ]</span><p>A basic numbered ACL is created, and the basic numbered ACL view is displayed.</p>
</li><li>Run <span><a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a> [ <i><span class="varname">rule-id</span></i> ] [ <strong><span>name</span></strong> <i><span class="varname">rule-name</span></i> ] { <strong><span>deny</span></strong> | <strong><span>permit</span></strong> } <strong><span>source</span></strong> { <i><span class="varname">source-ip-address</span></i> { <i><span class="varname">source-wildcard</span></i> | <strong><span>0</span></strong> } | <strong><span>any</span></strong> }</span><p>Rules are configured for the basic numbered ACL.</p>
</li></ol>
</li><li><p>Configure a naming ACL.</p>
<ol type="a"><li>Run <a href="cmdqueryname=acl"><b><span class="cmdname">acl</span></b></a> <strong><span>name</span></strong> <i><span class="varname">acl-name</span></i> <strong><span>basic</span></strong> [ <strong><span>match-order</span></strong> { <strong><span>auto</span></strong> | <strong><span>config</span></strong> } ]<p>A naming ACL is created, and the naming ACL view is displayed.</p>
</li><li>Run <span><a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a> [ <i><span class="varname">rule-id</span></i> ] [ <strong><span>name</span></strong> <i><span class="varname">rule-name</span></i> ] { <strong><span>deny</span></strong> | <strong><span>permit</span></strong> } <strong><span>source</span></strong> { <i><span class="varname">source-ip-address</span></i> { <i><span class="varname">source-wildcard</span></i> | <strong><span>0</span></strong> } | <strong><span>any</span></strong> }</span><p>Rules are configured for the naming ACL.</p>
</li></ol>
</li></ul>
<p>Run the <a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a> command and set the <strong><span>source</span></strong> parameter to the multicast group range to be served by the static RP.</p>
</p></li><li><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li><li><span>Run <a href="cmdqueryname=pim"><b><span class="cmdname">pim</span></b></a> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ]</span><p><p>The PIM view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=static-rp"><b><span class="cmdname">static-rp</span></b></a> <i><span class="varname">rp-address</span></i> [ <i><span class="varname">basic-acl-number</span></i><span> | <strong><span>acl-name</span></strong> <i><span class="varname">acl-name</span></i></span> ] [ <strong><span>preferred</span></strong> ]</span><p><p>A static RP is specified.</p>
<p>You can run this command repeatedly to configure multiple static RPs for the <span class="keyword">router</span>.</p>
<ul><li><p><i><span class="varname">rp-address</span></i>: specifies the static RP address.</p>
</li><li><p><i><span class="varname">basic-acl-number</span></i>: specifies an access control list. Such a list defines the range of multicast groups that the static RP serves. If a multicast group is in the service range of more than one static RP, the multicast group is served by the static RP with the largest IP address.</p>
</li><li><p><strong><span>preferred</span></strong>: indicates that the static RP takes precedence. If Candidate-Rendezvous Points (C-RPs) are also configured and <strong><span>preferred</span></strong> is specified in the <a href="cmdqueryname=static-rp"><b><span class="cmdname">static-rp</span></b></a> command, <span class="keyword">router</span>s prefer the statically specified RP; otherwise, C-RPs are preferred.</p>
</li></ul>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>If no ACL is configured, the static RP serves all multicast groups.</li><li>If an ACL is configured, the device uses configured ACL rules to filter multicast groups to be served by the static RP.<ul><li>If a multicast group matches an ACL rule and the action is <strong>permit</strong>, the static RP serves this multicast group.</li><li>If a multicast group matches an ACL rule and the action is <strong>deny</strong>, the static RP does not serve this multicast group.</li><li>If a multicast group does not match any ACL rule or if a specified ACL does not exist or does not contain rules, the static RP serves all multicast groups.</li></ul>
</li></ul>
</div></div>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=source-lifetime"><b><span class="cmdname">source-lifetime</span></b></a> <i><span class="varname">interval</span></i></span><p><p>The timeout period of multicast source entries is specified.</p>
<p>Each a (S,G) entry has a timer. When the <span class="keyword">router</span> receives a multicast packet from the source, it will reset the timer of the corresponding entry. If no multicast packet of the source is received with the timeout period, the (S,G) entry is considered invalid.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0024.html">Configuring Inter-AS NG MVPN Option B
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0027.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0029.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>