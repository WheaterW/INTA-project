
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring IGMP On-Demand">
<meta name="abstract" content="Internet Group Management Protocol (IGMP) on-demand helps to maintain IGMP group memberships and frees a multicast device and its connected access device from exchanging a large number of packets.">
<meta name="description" content="Internet Group Management Protocol (IGMP) on-demand helps to maintain IGMP group memberships and frees a multicast device and its connected access device from exchanging a large number of packets.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2041.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2050.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2247.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172366733">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring IGMP On-Demand</title>
</head>
<body><a name="EN-US_TASK_0172366733"></a><a name="EN-US_TASK_0172366733"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring IGMP On-Demand</h1>
<div class="taskbody"><p>Internet Group Management Protocol (IGMP) on-demand helps to maintain IGMP group memberships and frees a multicast device and its connected access device from exchanging a large number of packets.</p>
<div class="context"><a name="EN-US_TASK_0172366733__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><div class="p">When a multicast device is directly connected to user hosts, the multicast device sends IGMP Query messages to and receives IGMP Report and Leave messages from the user hosts to identify the multicast groups that have attached receivers on the shared network segment. The device directly connected to a multicast device, however, may not be a host but an IGMP proxy-capable access device, as shown in <a href="#EN-US_TASK_0172366733__fig_dc_vrp_multicast_cfg_220301">Figure 1</a>.<div class="fignone" id="EN-US_TASK_0172366733__fig_dc_vrp_multicast_cfg_220301"><a name="EN-US_TASK_0172366733__fig_dc_vrp_multicast_cfg_220301"></a><a name="fig_dc_vrp_multicast_cfg_220301"></a><span class="figcap"><b>Figure 1 </b>IGMP on-demand</span><br><span><img class="vsd" src="images/fig_dc_vrp_multicast_cfg_220301.png"></span></div>
</div>
<div class="p">The provider edge (PE) is a multicast device, and the customer edge (CE) is an access device.<ul><li><p>On the network segment a shown in <a href="#EN-US_TASK_0172366733__fig_dc_vrp_multicast_cfg_220301">Figure 1</a>, if IGMP on-demand is not enabled on the PE, the PE sends a large number of IGMP Query messages to the CE, and the CE sends a large number of Report and Leave messages to the PE. As a result, lots of PE and CE resources are consumed.</p>
</li><li><p>On the network segment b shown in <a href="#EN-US_TASK_0172366733__fig_dc_vrp_multicast_cfg_220301">Figure 1</a>, after IGMP on-demand is enabled on the PE, the PE sends only one general query message to the CE. After receiving the general query message from the PE, the CE sends the collected Join and Leave status of IGMP groups to the PE. The CE sends a Report or Leave message for a group to the PE only when the Join or Leave status of the group changes. To be specific, the CE sends an IGMP Report message for a multicast group to the PE only when the first user joins the multicast group and sends a Leave message only when the last user leaves the multicast group.</p>
</li></ul>
</div>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><div class="p">IGMP on-demand applies only to IGMPv2 and IGMPv3. After you enable IGMP on-demand on a multicast device connected to an IGMP proxy-capable access device, the multicast device implements IGMP in a different way as it implements standard IGMP in the following aspects:<ul><li><p>The multicast device interface connected to the access device sends only one IGMP general query message to the access device.</p>
</li><li><p>The records about dynamically joined IGMP groups on the multicast device interface connected to the access device do not time out.</p>
</li><li><p>The multicast device interface connected to the access device directly deletes the entry for a group only after the multicast device interface receives an IGMP Leave message for the group.</p>
</li></ul>
</div>
</div></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172366733__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring IGMP on-demand, complete the following tasks:</p>
<ul><li><p>Configure a unicast routing protocol to ensure that unicast routes are reachable.</p>
</li><li><p><a href="dc_vrp_multicast_cfg_2044.html">Configure basic IGMP functions</a>.</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172366733__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The interface view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=igmp+on-demand"><b><span class="cmdname">igmp on-demand</span></b></a></span></span><p><p>The IGMP group that an interface dynamically joins is configured not to time out.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0172366733__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Checking the Configurations</h4><p>Run the <a href="cmdqueryname=display+igmp+interface"><b><span class="cmdname">display igmp interface</span></b></a> command to check IGMP on-demand configurations on an interface.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2041.html">IGMP Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2050.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2247.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>