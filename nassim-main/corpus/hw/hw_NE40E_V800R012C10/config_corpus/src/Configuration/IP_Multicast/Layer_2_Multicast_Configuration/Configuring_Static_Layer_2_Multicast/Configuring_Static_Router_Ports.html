
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Static Router Ports">
<meta name="abstract" content="Static router ports can be configured to enable users to regularly receive multicast data packets because static router ports do not age.">
<meta name="description" content="Static router ports can be configured to enable users to regularly receive multicast data packets because static router ports do not age.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0010.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0013.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00800033,l2multicastvrp,c00549182,w00556928,w00437000,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="Layer 2 Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172367854">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Configuring Static Router Ports</title>
</head>
<body><a name="EN-US_TASK_0172367854"></a><a name="EN-US_TASK_0172367854"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Static Router Ports</h1>
<div class="taskbody"><p>Static router ports can be configured to enable users to regularly receive multicast data packets because static router ports do not age.</p>
<div class="context"><a name="EN-US_TASK_0172367854__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Router ports receive multicast data packets from an upstream device, and are enabled as dynamic by default. However, static router ports can be configured to allow users to regularly receive multicast data packets. Since static router ports do not age, multicast services are not interrupted.</p>
<p>On a stable network, PW interfaces and sub-interfaces in a VPLS or interfaces in a VLAN can be configured as static router ports.</p>
<p>Static router ports do not age, and can only be deleted using relevant commands.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172367854__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Static router ports can be configured at different positions on a network to ensure regular multicast traffic reception. The steps listed in <a href="#EN-US_TASK_0172367854__tab_dc_vrp_l2mc_cfg_001201">Table 1</a> can be performed in any order. Complete one or more steps as required to configure static router ports.</span><p>
<div class="tableBorder"><a name="EN-US_TASK_0172367854__tab_dc_vrp_l2mc_cfg_001201"></a><a name="tab_dc_vrp_l2mc_cfg_001201"></a><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_TASK_0172367854__tab_dc_vrp_l2mc_cfg_001201" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Configuring static router ports</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="8.25%" id="mcps1.4.2.1.2.1.2.5.1.1" liSelected="liSelected"><p>Usage Scenario</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="8.25%" id="mcps1.4.2.1.2.1.2.5.1.2" liSelected="liSelected"><p>Position</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="50.5%" id="mcps1.4.2.1.2.1.2.5.1.3" liSelected="liSelected"><p>Configuration Procedure</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33%" id="mcps1.4.2.1.2.1.2.5.1.4" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="8.25%" headers="mcps1.4.2.1.2.1.2.5.1.1 "><p>VLAN </p>
</td>
<td class="cellrowborder" valign="top" width="8.25%" headers="mcps1.4.2.1.2.1.2.5.1.2 "><p>Interface</p>
</td>
<td class="cellrowborder" valign="top" width="50.5%" headers="mcps1.4.2.1.2.1.2.5.1.3 "><ol><li>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</li><li>Run the <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-typeinterface-number</span></i> command to enter the Ethernet interface view.</li><li>Run the <span><a href="cmdqueryname=igmp-snooping+static-router-port"><b><span class="cmdname">igmp-snooping static-router-port</span></b></a></span> <strong><span>vlan</span></strong> <i><span class="varname">vlan-id</span></i> command to configure the interfaces in a specified VLAN as static router ports.</li><li>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</li></ol>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.4.2.1.2.1.2.5.1.4 "><p>Before configuring the interface as a static router port, ensure that the interface has been added to a specific VLAN. Otherwise, the configuration will not take effect.</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="2" valign="top" width="8.25%" headers="mcps1.4.2.1.2.1.2.5.1.1 "><p>VPLS </p>
</td>
<td class="cellrowborder" valign="top" width="8.25%" headers="mcps1.4.2.1.2.1.2.5.1.2 "><p>Sub-interface</p>
</td>
<td class="cellrowborder" valign="top" width="50.5%" headers="mcps1.4.2.1.2.1.2.5.1.3 "><ol><li>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</li><li>Run the <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number.subnumber</span></i> command to enter the sub-interface view.</li><li>Run the <a href="cmdqueryname=l2+binding"><b><span class="cmdname">l2 binding</span></b></a> <strong><span>vsi</span></strong> <i><span class="varname">vsi-name</span></i> command to bind the sub-interface to a VSI.</li><li>Run the <a href="cmdqueryname=igmp-snooping+static-router-port"><b><span class="cmdname">igmp-snooping static-router-port</span></b></a> <strong><span>vsi</span></strong> <i><span class="varname">vsi-name</span></i> command to configure the sub-interface as a static router port in the VSI.</li><li>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</li></ol>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.4.2.1.2.1.2.5.1.4 "><ul><li>A sub-interface that is not bound to a VSI cannot be configured as a static router port.</li><li>If a sub-interface configured as a static router port is unbound from a VSI, all static router port configurations will be deleted from the sub-interface.</li></ul>
<p>The sub-interface can be a common sub-interface or a Dot1q termination sub-interface. Only one Dot1q termination sub-interface in a VSI can be configured as a static router port.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.2.1.2.1.2.5.1.2 "><p>PW</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.2.1.2.1.2.5.1.3 "><ol><li>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</li><li>Run the <a href="cmdqueryname=vsi"><b><span class="cmdname">vsi</span></b></a> <i><span class="varname">vsi-name</span></i> [ <strong><span>static</span></strong> ] command to enter the VSI view.</li><li>Run the <a href="cmdqueryname=igmp-snooping+static-router-port"><b><span class="cmdname">igmp-snooping static-router-port</span></b></a> <strong><span>remote-peer</span></strong> <i><span class="varname">ip-address</span></i> [ <strong><span>negotiation-vc-id</span></strong> <i><span class="varname">vc-id</span></i> | <strong><span>bgp-ad</span></strong> ] command to configure a PW interface as a static router port in the VSI.</li><li>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</li></ol>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.2.1.2.1.2.5.1.4 "><div class="p">Perform the following configurations as required according to the PW signaling negotiation mode:<ul><li><p>If LDP is used as the signaling negotiation protocol, run the <a href="cmdqueryname=igmp-snooping+static-router-port"><b><span class="cmdname">igmp-snooping static-router-port</span></b></a> <strong><span>remote-peer</span></strong> <i><span class="varname">ip-address</span></i> [ <strong><span>negotiation-vc-id</span></strong> <i><span class="varname">vc-id</span></i> ] command.</p>
</li><li><p>If BGP-AD is used as the signaling negotiation protocol, run the <a href="cmdqueryname=igmp-snooping+static-router-port"><b><span class="cmdname">igmp-snooping static-router-port</span></b></a> <strong><span>remote-peer</span></strong> <i><span class="varname">ip-address</span></i> <strong><span>bgp-ad</span></strong> command.</p>
</li></ul>
</div>
<p>If no IP address is set for the remote peer, the PW interface can still be configured as a static router port in the VSI, but the configuration will not take effect. It will only take effect after an IP address is set for the remote peer.</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0010.html">Configuring Static Layer 2 Multicast
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_l2mc_cfg_0013.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>