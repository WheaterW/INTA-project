
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Controlling the Sending of SA Request Messages">
<meta name="abstract" content="If the Source Active (SA) cache capacity is large on a remote MSDP peer, to shorten the time taken by a receiver to obtain multicast source information, you can enable the local Rendezvous Point (RP) to send SA Request messages, and configure a policy on the peer to filter SA Request messages to be received from the local RP.">
<meta name="description" content="If the Source Active (SA) cache capacity is large on a remote MSDP peer, to shorten the time taken by a receiver to obtain multicast source information, you can enable the local Rendezvous Point (RP) to send SA Request messages, and configure a policy on the peer to filter SA Request messages to be received from the local RP.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_0061.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_0065.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2165.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MSDP">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MSDP">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="MSDP">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="MSDP">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172367016">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Controlling the Sending of SA Request Messages</title>
</head>
<body><a name="EN-US_TASK_0172367016"></a><a name="EN-US_TASK_0172367016"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Controlling the Sending of SA Request Messages</h1>
<div class="taskbody"><p>If the Source Active (SA) cache capacity is large on a remote MSDP peer, to shorten the time taken by a receiver to obtain multicast source information, you can enable the local Rendezvous Point (RP) to send SA Request messages, and configure a policy on the peer to filter SA Request messages to be received from the local RP.</p>
<div class="context"><a name="EN-US_TASK_0172367016__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>If the local RP has a small SA cache capacity and needs to receive multicast data, the local RP cannot immediately obtain valid (S, G) information. Instead, it has to wait for the SA message sent by the remote MSDP peer in the next sending period.</p>
<p>If the SA cache function is enabled and the SA cache capacity is large on the remote MSDP peer, enable the local RP to send SA Request messages to shorten the time taken by a receiver to obtain multicast source information.</p>
<ul><li><p>When the local RP needs to receive (S, G) information, it actively sends an SA Request message to the specified remote MSDP peer rather than waits for the SA message sent in the next sending period.</p>
</li><li><p>Upon receipt of the SA Request message, the remote MSDP peer responds with an SA Response message carrying the required (S, G) information.</p>
<p>If the remote MSDP peer is configured to filter SA Request messages to be received, the remote peer responds to only the SA Request messages that matches the specified rule.</p>
</li></ul>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172367016__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Enable the local RP to send SA Request messages.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=msdp"><b><span class="cmdname">msdp</span></b></a> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ]</span></span><p><p>The MSDP view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">peer-address</span></i> <strong><span>request-sa-enable</span></strong></span></span><p><p>The local RP is enabled to send SA Request messages to a specified MSDP peer.</p>
<p><i><span class="varname">peer-address</span></i>: specifies the IP address of a remote MSDP peer. When the local RP receives a new Join message, it sends an SA Request message only to the peer specified by <i><span class="varname">peer-address</span></i>.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Before running this command on the local RP, disable the SA cache function on the local RP and ensure that the SA cache function is enabled on the MSDP peer specified by <i><span class="varname">peer-address</span></i>.</p>
</div></div>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure a policy on the remote MSDP peer to filter SA Request messages to be received.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Configure a basic numbered ACL or a naming ACL as needed.</span><p><ul><li><p>Configure a basic numbered ACL.</p>
<ol type="a"><li>Run the <span><a href="cmdqueryname=acl"><b><span class="cmdname">acl</span></b></a> [ <strong><span>number</span></strong> ] <i><span class="varname">basic-acl-number</span></i> [ <strong><span>match-order</span></strong> { <strong><span>auto</span></strong> | <strong><span>config</span></strong> } ]</span> command to create a basic numbered ACL and enter the corresponding ACL view.</li><li>Run the <span><a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a> [ <i><span class="varname">rule-id</span></i> ] [ <strong><span>name</span></strong> <i><span class="varname">rule-name</span></i> ] { <strong><span>deny</span></strong> | <strong><span>permit</span></strong> } <strong><span>source</span></strong> { <i><span class="varname">source-ip-address</span></i> { <i><span class="varname">source-wildcard</span></i> | <strong><span>0</span></strong> } | <strong><span>any</span></strong> }</span> command to configure a rule for the basic numbered ACL.</li><li>Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to return to the system view.</li></ol>
</li><li><p>Configure a named ACL.</p>
<ol type="a"><li>Run the <a href="cmdqueryname=acl"><b><span class="cmdname">acl</span></b></a> <strong><span>name</span></strong> <i><span class="varname">acl-name</span></i> <strong><span>basic</span></strong> [ <strong><span>match-order</span></strong> { <strong><span>auto</span></strong> | <strong><span>config</span></strong> } ] command to create a named ACL and enter the corresponding ACL view.</li><li>Run the <span><a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a> [ <i><span class="varname">rule-id</span></i> ] [ <strong><span>name</span></strong> <i><span class="varname">rule-name</span></i> ] { <strong><span>deny</span></strong> | <strong><span>permit</span></strong> } <strong><span>source</span></strong> { <i><span class="varname">source-ip-address</span></i> { <i><span class="varname">source-wildcard</span></i> | <strong><span>0</span></strong> } | <strong><span>any</span></strong> }</span> command to configure a rule for the named ACL.</li><li>Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to return to the system view.</li></ol>
</li></ul>
<p>If a basic numbered ACL is used, run the <a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a> command and set the <strong><span>source</span></strong> parameter to the multicast group address.</p>
<p>If a named ACL is used, run the <a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a> command and set the <strong><span>destination</span></strong> parameter to a multicast group address.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=msdp"><b><span class="cmdname">msdp</span></b></a> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ]</span></span><p><p>The MSDP view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">peer-address</span></i> <strong><span>sa-request-policy</span></strong> [ <strong><span>acl </span></strong>{ <i><span class="varname">basic-acl-number</span></i> | <i><span class="varname">acl-name</span></i> } ]</span><p><p>A policy is configured to filter SA Request messages to be received.</p>
</p><p><ul><li><p><i><span class="varname">peer-address</span></i>: specifies the address of the MSDP peer that sends SA Request messages.</p>
</li><li><p><strong><span>acl </span></strong><i><span class="varname">basic-acl-number</span></i> and <i><span class="varname">acl-name</span></i>: defines a filtering policy.</p>
</li></ul>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>If an SA Request message matches an ACL rule and the action is <strong>permit</strong>, the device permits this message.</li><li>If an SA Request message matches an ACL rule and the action is <strong>deny</strong>, the device denies this message.</li><li>If an SA Request message does not match any ACL rule, the device denies this message.</li><li>If a specified ACL does not exist or does not contain rules, the device ignores all SA Request messages from this peer.</li></ul>
</div></div>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_0061.html">Adjusting the Parameters of SA Messages
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_0065.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2165.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>