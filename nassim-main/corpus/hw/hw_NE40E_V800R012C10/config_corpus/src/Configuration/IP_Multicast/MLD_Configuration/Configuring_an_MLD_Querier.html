
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an MLD Querier">
<meta name="abstract" content="To configure an MLD querier, you can configure the MLD prompt leave function and set the following parameters: interval at which general query messages are sent, robustness variable, maximum response time of Query messages, keepalive time of other MLD queriers, and interval MLD last-listener query messages are sent.">
<meta name="description" content="To configure an MLD querier, you can configure the MLD prompt leave function and set the following parameters: interval at which general query messages are sent, robustness variable, maximum response time of Query messages, keepalive time of other MLD queriers, and interval MLD last-listener query messages are sent.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2070.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2224.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2204.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MLD">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MLD">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="MLD">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172367438">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring an MLD Querier</title>
</head>
<body><a name="EN-US_TASK_0172367438"></a><a name="EN-US_TASK_0172367438"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an MLD Querier</h1>
<div class="taskbody"><p>To configure an MLD querier, you can configure the MLD prompt leave function and set the following parameters: interval at which general query messages are sent, robustness variable, maximum response time of Query messages, keepalive time of other MLD queriers, and interval MLD last-listener query messages are sent.</p>
<div class="context"><a name="EN-US_TASK_0172367438__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><div class="notice"><span class="noticetitle"><img src="../../../../public_sys-resources/notice_3.0-en-us.png"> </span><div class="noticebody"><p>Interfaces that connect multicast devices to the same user network segment must have the same MLD parameter configurations; otherwise, these multicast devices fail to communicate.</p>
</div></div>
<p>An MLD querier is responsible for periodically sending MLD Query messages on a shared network segment to update group memberships. You can configure parameters of an MLD querier either globally or on an interface.</p>
<ul><li>Global configuration: takes effect on all interfaces.</li><li>Interface-specific configuration: takes precedence over the global configuration. If an interface-specific configuration is not available, the interface uses the global configuration.</li></ul>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>During the configuration, ensure that the interval for sending general query messages is greater than the maximum response time of Query messages but smaller than the keepalive time of other MLD queriers.</p>
</div></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172367438__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring an MLD querier, complete the following tasks:</p>
<ul><li><p>Configure a unicast routing protocol to ensure that unicast routes are reachable.</p>
</li><li><p><a href="dc_vrp_multicast_cfg_2073.html">Configure basic MLD functions</a>.</p>
</li></ul>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172367438__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure an MLD querier globally.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=mld"><b><span class="cmdname">mld</span></b></a></span></span><p><p>The MLD view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=timer+query"><b><span class="cmdname">timer query</span></b></a> <i><span class="varname">interval</span></i></span></span><p><p>The interval at which the device sends general query messages is set.</p>
</p><p></p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=robust-count"><b><span class="cmdname">robust-count</span></b></a> <i><span class="varname">robust-value</span></i></span></span><p><p>An MLD robustness variable is set.</p>
</p><p><p>When the <span class="keyword">Router</span> starts, the <span class="keyword">Router</span> sends general query messages for the number of <i><span class="varname">robust-value</span></i> times. The sending interval is 1/4 of the interval for sending MLD general query messages.</p>
<p>After receiving a Done message, the <span class="keyword">Router</span> sends last-listener query messages for the number of <i><span class="varname">robust-value</span></i> times. The sending interval is set by using the <strong>lastlistener-query interval</strong> command.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=max-response-time"><b><span class="cmdname">max-response-time</span></b></a> <i><span class="varname">interval</span></i></span></span><p><p>The maximum response time of MLD Query messages is set.</p>
</p><p></p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=timer+other-querier-present"><b><span class="cmdname">timer other-querier-present</span></b></a> <i><span class="varname">interval</span></i></span></span><p><p>The keepalive time of other MLD queriers is set.</p>
</p><p></p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=lastlistener-queryinterval"><b><span class="cmdname">lastlistener-queryinterval</span></b></a> <i><span class="varname">interval</span></i></span></span><p><p>The interval at which the device sends MLD last-listener query messages is set.</p>
</p><p></p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure an MLD querier on an interface.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=mld+timer+query"><b><span class="cmdname">mld timer query</span></b></a> <i><span class="varname">interval</span></i></span></span><p><p>The interval at which the interface sends general query messages is set.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=mld+max-response-time"><b><span class="cmdname">mld max-response-time</span></b></a> <i><span class="varname">interval</span></i></span></span><p><p>The maximum response time of MLD Query messages is set.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=mld+timer+other-querier-present"><b><span class="cmdname">mld timer other-querier-present</span></b></a> <i><span class="varname">interval</span></i></span></span><p><p>The keepalive time of other MLD queriers is set.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=mld+robust-count"><b><span class="cmdname">mld robust-count</span></b></a> <i><span class="varname">robust-value</span></i></span></span><p><p>An MLD robustness variable is set.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=mld+lastlistener-queryinterval"><b><span class="cmdname">mld lastlistener-queryinterval</span></b></a> <i><span class="varname">interval</span></i></span></span><p><p>The interval at which the interface sends MLD last-listener query messages is set.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=mld+prompt-leave"><b><span class="cmdname">mld prompt-leave</span></b></a> [ <strong><span>group-policy</span></strong> { <i><span class="varname">basic-acl6-number</span></i> | <strong><span>acl6-name</span></strong> <i><span class="varname">acl6-name</span></i> } ]</span></span><p><p>The MLD prompt leave function is configured on the interface.</p>
</p><p></p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
<div class="example"><a name="EN-US_TASK_0172367438__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Checking the Configurations</h4><p>Run the <a href="cmdqueryname=display+mld+interface+verbose"><b><span class="cmdname">display mld interface verbose</span></b></a> command to view the configurations and operating status of MLD on an interface.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2070.html">MLD Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2224.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2204.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>