
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Configuring NG MVPN Option B in an Inter-AS Seamless MPLS Scenario">
<meta name="abstract" content="This section describes how to configure NG MVPN Option B in an inter-AS seamless MPLS scenario, in which inter-ASBRs establish EBGP peer relationships over inter-AS BGP LSPs.">
<meta name="description" content="This section describes how to configure NG MVPN Option B in an inter-AS seamless MPLS scenario, in which inter-ASBRs establish EBGP peer relationships over inter-AS BGP LSPs.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0023.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0038.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0060.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0051.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0052.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0059.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0053.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0054.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0055.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0056.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0057.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0058.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0021c.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPv4 Multicast VPN_NG MVPN">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv4 Multicast VPN_NG MVPN">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IPv4 Multicast VPN_NG MVPN">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IPv4 Multicast VPN_NG MVPN">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001225513504">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring NG MVPN Option B in an Inter-AS Seamless MPLS Scenario</title>
</head>
<body><a name="EN-US_CONCEPT_0000001225513504"></a><a name="EN-US_CONCEPT_0000001225513504"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring NG MVPN Option B in an Inter-AS Seamless MPLS Scenario</h1>
<div><p>This section describes how to configure NG MVPN Option B in an inter-AS seamless MPLS scenario, in which inter-ASBRs establish EBGP peer relationships over inter-AS BGP LSPs.</p>
<div class="section"><h4 class="sectiontitle">Usage Scenario</h4><p>In NG MVPN Option B in an inter-AS seamless MPLS scenario, the devices belong to different ASs. An inter-AS BGP LSP needs to be established to implement E2E service connectivity.</p>
<p>The local PE and ABR establish an IBGP peer relationship, the ABR and local ASBR establish an IBGP peer relationship, the local and remote ASBRs establish an EBGP peer relationship, and the remote ASBR and PE establish an IBGP peer relationship. The public network uses non-segmented inter-AS mLDP tunnels to carry multicast VPN traffic. The ABR functions as an RR to reflect MVPN routes. The MVPN address family needs to be enabled on the local and remote PEs, local and remote ASBRs, and ABR. <a href="dc_vrp_cfg_ngmvpn_0050.html#EN-US_CONCEPT_0000001225513504__fig_dc_vrp_cfg_ngmvpn_005001">Figure 1</a> shows NG MVPN Option B networking in an inter-AS seamless MPLS scenario.</p>
<div class="fignone" id="EN-US_CONCEPT_0000001225513504__fig_dc_vrp_cfg_ngmvpn_005001"><a name="EN-US_CONCEPT_0000001225513504__fig_dc_vrp_cfg_ngmvpn_005001"></a><a name="fig_dc_vrp_cfg_ngmvpn_005001"></a><span class="figcap"><b>Figure 1 </b>NG MVPN Option B networking in an inter-AS seamless MPLS scenario</span><br><span><img class="vsd" src="figure/en-us_image_0000001225833792.png"></span></div>
</div>
<div class="section"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring NG MVPN Option B in an inter-AS seamless MPLS scenario, complete the following tasks:</p>
<ul><li><p>Configure an IGP for the MPLS backbone network of each AS to ensure IP connectivity on each backbone network.</p>
</li><li><p>Configure basic MPLS functions and MPLS LDP for the MPLS backbone network of each AS.</p>
</li><li><p>Establish an IBGP peer relationship between the PE and ABR/ASBR in the same AS.</p>
</li><li><p>Establish an IBGP peer relationship between the ABR and ASBR.</p>
</li><li><p>Establish an EBGP peer relationship between the local and remote ASBRs.</p>
</li><li><p><a href="dc_vrp_mpls-l3vpn-v4_cfg_0155.html">Configure a VPN instance</a> on each PE connected to a CE and <a href="dc_vrp_mpls-l3vpn-v4_cfg_0156.html">bind interfaces to VPN instances</a>.</p>
</li><li><p>Assign an IP address to each CE interface that is connected to a PE.</p>
</li></ul>
</div>
</div>

<ul class="ullinks">
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0051.html">Configuring Global MPLS LDP Functions and Enabling MPLS LDP on Interfaces</a>
</dt>
<dd>
Global LDP must be enabled on each node before LDP services can be configured in an MPLS domain.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0052.html">Configuring an Automatic mLDP P2MP Tunnel</a>
</dt>
<dd>
Automatic mLDP P2MP tunnels are used to transmit NG MVPN traffic.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0059.html">Configuring a Static RP</a>
</dt>
<dd>
To use a static Rendezvous Point (RP) in a PIM-SM domain, configure the same RP address and same address range of multicast groups that the RP serves on all <span class="keyword">router</span>s in the PIM-SM domain.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0053.html">Configuring MP-IBGP Among PEs, ABRs, and ASBRs in the Same AS</a>
</dt>
<dd>
By introducing extended community attributes into BGP, MP-IBGP can advertise VPNv4 routes among the PEs, ABRs, and ASBRs.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0054.html">Configuring MP-EBGP Between ASBRs in Different ASs</a>
</dt>
<dd>
After an MP-EBGP peer relationship is established between ASBRs, an ASBR can advertise the VPNv4 routes of its AS to the other ASBR.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0055.html">Configuring a Routing Policy to Control Label Distribution on ASBRs</a>
</dt>
<dd>
Configure a routing policy to control MPLS label allocation for each IPv4 route. The ASBR only allocates label to the routes that match the rules in the policy.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0056.html">Configuring Route Reflection on an ABR</a>
</dt>
<dd>
Route reflection on an ABR is used to reflect the VPNv4 routes advertised by the PE or ASBR to other devices in the same AS. As a result, PE does not need to set up BGP peer relationship with ASBR, which simplifies configurations.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0057.html">Configuring BGP MVPN Peers</a>
</dt>
<dd>
Establish a BGP MVPN peer relationship between devices belonging to the same MVPN, so that the devices can use BGP to exchange BGP A-D and BGP C-multicast routes.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0058.html">Configuring a P2MP LSP to Carry Multicast Traffic</a>
</dt>
<dd>
An NG MVPN uses P2MP LSPs to carry multicast traffic. Only mLDP P2MP LSPs are supported.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0021c.html">(Optional) Configuring Switching Between I-PMSI and S-PMSI Tunnels</a>
</dt>
<dd>
</dd>
</dl>
</ul>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0023.html">Configuring an Inter-AS or Inter-Area NG MVPN
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0038.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ngmvpn_0060.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>