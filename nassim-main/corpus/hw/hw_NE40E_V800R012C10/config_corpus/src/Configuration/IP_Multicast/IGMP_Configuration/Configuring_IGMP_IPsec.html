
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring IGMP IPsec">
<meta name="abstract" content="If you want to authenticate the sent and received IGMP messages, configure IGMP IP Security (IPsec). IGMP IPsec protects a device against attacks launched using forged IGMP messages.">
<meta name="description" content="If you want to authenticate the sent and received IGMP messages, configure IGMP IP Security (IPsec). IGMP IPsec protects a device against attacks launched using forged IGMP messages.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2041.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2203.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_igmp_over_gre.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172366736">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring IGMP IPsec</title>
</head>
<body><a name="EN-US_TASK_0172366736"></a><a name="EN-US_TASK_0172366736"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring IGMP IPsec</h1>
<div class="taskbody"><p>If you want to authenticate the sent and received IGMP messages, configure IGMP IP Security (IPsec). IGMP IPsec protects a device against attacks launched using forged IGMP messages.</p>
<div class="context"><a name="EN-US_TASK_0172366736__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>IGMP IPsec provides a complete set of security protection mechanisms to authenticate the sent and received IGMP messages, protecting devices against attacks launched using forged IGMP messages.</p>
<p>IGMP IPsec configured in the interface view has the same function as that configured in the IGMP view, but their application scopes are different:</p>
<ul><li>IGMP IPsec configured in the interface view applies only to the current interface.</li><li>IGMP IPsec configured in the IGMP view applies to all interfaces.</li></ul>
<p>IGMP IPsec configured in the interface view takes precedence over IGMP IPsec configured in the IGMP view. If no IGMP IPsec configuration exists in the interface view, the interface uses the IGMP IPsec configuration in the IGMP view.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172366736__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring IGMP IPsec, complete the following tasks:</p>
<ul><li><p><a href="dc_vrp_multicast_cfg_2044.html">Configure basic IGMP functions</a>.</p>
</li></ul>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172366736__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li id="EN-US_TASK_0172366736__step_dc_vrp_multicast_cfg_224701"><span id="EN-US_TASK_0172366736__cmd845057699214040">Configure global IGMP IPsec.</span><ul id="EN-US_TASK_0172366736__choices1989189209214040"><li id="EN-US_TASK_0172366736__choice1610858485214040">Configure IPsec authentication for IGMP messages.</li></ul>
<ol id="EN-US_TASK_0172366736__substeps1407155098214040"><li class="substepexpand" id="EN-US_TASK_0172366736__substep354979759214040"><span id="EN-US_TASK_0172366736__cmd81291077214325">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172366736__cmdname919480031214325">system-view</span></b></a></span><p><p id="EN-US_TASK_0172366736__p1114817259214325">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172366736__substep1129717654214040"><span id="EN-US_TASK_0172366736__cmd637452053214325">Run <a href="cmdqueryname=igmp"><b><span class="cmdname" id="EN-US_TASK_0172366736__cmdname1913301408214325">igmp</span></b></a> [ <strong><span id="EN-US_TASK_0172366736__cmdparmname1821175062214325">vpn-instance</span></strong> <i><span class="varname" id="EN-US_TASK_0172366736__varname1065301383214325">vpn-instance-name</span></i> ]</span><p><p id="EN-US_TASK_0172366736__p1787293112214325">The IGMP view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172366736__substep784603781214040"><span id="EN-US_TASK_0172366736__cmd1559156349214325">Run <a href="cmdqueryname=ipsec+sa"><b><span class="cmdname" id="EN-US_TASK_0172366736__cmdname941836232214325">ipsec sa</span></b></a> <i><span class="varname" id="EN-US_TASK_0172366736__varname1149582493214325">sa-name</span></i></span><p><p id="EN-US_TASK_0172366736__p153196580214325">IGMP IPsec is configured globally, enabling the device to authenticate the sent and received IGMP messages based on the specified SA.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172366736__substep491801469214040"><span id="EN-US_TASK_0172366736__cmd1084578454214325">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172366736__cmdname387537098214325">commit</span></b></a></span><p><p id="EN-US_TASK_0172366736__p263991657214325">The configuration is committed.</p>
</p></li></ol>
<ul id="EN-US_TASK_0172366736__choices17412527214040"><li id="EN-US_TASK_0172366736__choice617537188214040">Configure IPsec authentication for IGMP Query messages.</li></ul>
<ol id="EN-US_TASK_0172366736__substeps1597375440214040"><li class="substepexpand" id="EN-US_TASK_0172366736__substep454873456214040"><span id="EN-US_TASK_0172366736__cmd1598010638214325">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172366736__cmdname2141214300214325">system-view</span></b></a></span><p><p id="EN-US_TASK_0172366736__p368027413214325">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172366736__substep351493555214040"><span id="EN-US_TASK_0172366736__cmd249016734214325">Run <a href="cmdqueryname=igmp"><b><span class="cmdname" id="EN-US_TASK_0172366736__cmdname1129629839214325">igmp</span></b></a> [ <strong><span id="EN-US_TASK_0172366736__cmdparmname985090501214325">vpn-instance</span></strong> <i><span class="varname" id="EN-US_TASK_0172366736__varname857644198214325">vpn-instance-name</span></i> ]</span><p><p id="EN-US_TASK_0172366736__p109597830214325">The IGMP view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172366736__substep1260230999214040"><span id="EN-US_TASK_0172366736__cmd247966849214325">Run <a href="cmdqueryname=query+ipsec+sa"><b><span class="cmdname" id="EN-US_TASK_0172366736__cmdname1787419687214325">query ipsec sa</span></b></a> <i><span class="varname" id="EN-US_TASK_0172366736__varname1059526435214325">sa-name</span></i></span><p><p id="EN-US_TASK_0172366736__p406157697214325">IGMP IPsec is configured globally, enabling the device to authenticate the sent and received IGMP Query messages based on the specified SA.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172366736__substep20856877214040"><span id="EN-US_TASK_0172366736__cmd1838269758214325">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172366736__cmdname1664247770214325">commit</span></b></a></span><p><p id="EN-US_TASK_0172366736__p566519687214325">The configuration is committed.</p>
</p></li></ol>
<p><div class="note" id="EN-US_TASK_0172366736__note1252146824214040"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172366736__p1639414015214040">If the <a href="cmdqueryname=ipsec+sa"><b><span class="cmdname" id="EN-US_TASK_0172366736__cmdname824649964214040">ipsec sa</span></b></a> and <a href="cmdqueryname=query+ipsec+sa"><b><span class="cmdname" id="EN-US_TASK_0172366736__cmdname1602758425214040">query ipsec sa</span></b></a> commands are both configured, the command configured later overrides the command configured earlier.</p>
</div></div>
</p></li><li id="EN-US_TASK_0172366736__step_dc_vrp_multicast_cfg_224702"><span id="EN-US_TASK_0172366736__cmd1328200640214040">Configure IGMP IPsec in the interface view.</span><ul id="EN-US_TASK_0172366736__choices1131400336214040"><li id="EN-US_TASK_0172366736__choice1507265305214040">Configure IPsec authentication for IGMP messages.</li></ul>
<ol id="EN-US_TASK_0172366736__substeps2108588480214040"><li class="substepexpand" id="EN-US_TASK_0172366736__substep1639305112214040"><span id="EN-US_TASK_0172366736__cmd197787573214325">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172366736__cmdname1767032555214325">system-view</span></b></a></span><p><p id="EN-US_TASK_0172366736__p995959232214325">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172366736__substep1830698015214040"><span id="EN-US_TASK_0172366736__cmd1305209904214325">Run <a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0172366736__cmdname94636142214325">interface</span></b></a> <i><span class="varname" id="EN-US_TASK_0172366736__varname1218063282214325">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0172366736__varname1394897180214325">interface-number</span></i></span><p><p id="EN-US_TASK_0172366736__p1345715015214325">The interface view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172366736__substep1420980357214040"><span id="EN-US_TASK_0172366736__cmd1901867060214325">Run <a href="cmdqueryname=igmp+ipsec+sa"><b><span class="cmdname" id="EN-US_TASK_0172366736__cmdname1381735196214325">igmp ipsec sa</span></b></a> <i><span class="varname" id="EN-US_TASK_0172366736__varname2065444159214325">sa-name</span></i></span><p><p id="EN-US_TASK_0172366736__p12600930214325">IGMP IPsec is configured on an interface, enabling the interface to authenticate the sent and received IGMP messages based on the specified SA.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172366736__substep2060212245214040"><span id="EN-US_TASK_0172366736__cmd815565377214325">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172366736__cmdname986121788214325">commit</span></b></a></span><p><p id="EN-US_TASK_0172366736__p340993968214325">The configuration is committed.</p>
</p></li></ol>
<ul id="EN-US_TASK_0172366736__choices838740016214040"><li id="EN-US_TASK_0172366736__choice1142040102214040">Configure IPsec authentication for IGMP Query messages.</li></ul>
<ol id="EN-US_TASK_0172366736__substeps953846695214040"><li class="substepexpand" id="EN-US_TASK_0172366736__substep1047906107214040"><span id="EN-US_TASK_0172366736__cmd324041649214325">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172366736__cmdname1282595059214325">system-view</span></b></a></span><p><p id="EN-US_TASK_0172366736__p31598551214325">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172366736__substep1358565228214040"><span id="EN-US_TASK_0172366736__cmd1551551646214325">Run <a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0172366736__cmdname811886551214325">interface</span></b></a> <i><span class="varname" id="EN-US_TASK_0172366736__varname2049062917214325">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0172366736__varname1283507226214325">interface-number</span></i></span><p><p id="EN-US_TASK_0172366736__p1137308282214325">The interface view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172366736__substep1935408448214040"><span id="EN-US_TASK_0172366736__cmd1046082883214325">Run <a href="cmdqueryname=igmp+query+ipsec+sa"><b><span class="cmdname" id="EN-US_TASK_0172366736__cmdname1829493388214325">igmp query ipsec sa</span></b></a> <i><span class="varname" id="EN-US_TASK_0172366736__varname1918611144214325">sa-name</span></i></span><p><p id="EN-US_TASK_0172366736__p655841414214325">IGMP IPsec is configured on an interface, enabling the interface to authenticate the sent and received IGMP Query messages based on the specified SA.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172366736__substep1287254600214040"><span id="EN-US_TASK_0172366736__cmd793933814214325">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172366736__cmdname706525517214325">commit</span></b></a></span><p><p id="EN-US_TASK_0172366736__p1244108599214325">The configuration is committed.</p>
</p></li></ol>
<p><div class="note" id="EN-US_TASK_0172366736__note379344119214040"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172366736__p1905143737214040">If the <a href="cmdqueryname=igmp+ipsec+sa"><b><span class="cmdname" id="EN-US_TASK_0172366736__cmdname557886242214040">igmp ipsec sa</span></b></a> and <a href="cmdqueryname=igmp+query+ipsec+sa"><b><span class="cmdname" id="EN-US_TASK_0172366736__cmdname1362763655214040">igmp query ipsec sa</span></b></a> commands are both configured, the command configured later overrides the command configured earlier.</p>
</div></div>
</p></li></ul></div>
<div class="example"><a name="EN-US_TASK_0172366736__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+igmp"><b><span class="cmdname">display igmp</span></b></a> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] <strong><span>interface</span></strong> [ <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <strong><span>up</span></strong> | <strong><span>down</span></strong> ] <strong><span>verbose</span></strong> command to check the detailed configuration on an interface.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2041.html">IGMP Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2203.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_igmp_over_gre.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>