
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Adjusting Source Registration Parameters">
<meta name="abstract" content="A new multicast source must register with a Rendezvous Point (RP). You can configure policies of filtering Register messages on the Candidate-Rendezvous Points (C-RPs) and set the holdtime of the register-suppression state and the interval for sending null Register messages on the source's DR or disable the source's DR from sending Register messages.">
<meta name="description" content="A new multicast source must register with a Rendezvous Point (RP). You can configure policies of filtering Register messages on the Candidate-Rendezvous Points (C-RPs) and set the holdtime of the register-suppression state and the interval for sending null Register messages on the source's DR or disable the source's DR from sending Register messages.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2005.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2011.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2013.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPv6 PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv6 PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IPv6 PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IPv6 PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172367465">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Adjusting Source Registration Parameters</title>
</head>
<body><a name="EN-US_TASK_0172367465"></a><a name="EN-US_TASK_0172367465"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Adjusting Source Registration Parameters</h1>
<div class="taskbody"><p>A new multicast source must register with a Rendezvous Point (RP). You can configure policies of filtering Register messages on the Candidate-Rendezvous Points (C-RPs) and set the holdtime of the register-suppression state and the interval for sending null Register messages on the source's DR or disable the source's DR from sending Register messages.</p>
<div class="context"><a name="EN-US_TASK_0172367465__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>On an IPv6 PIM-SM network, the source's Designated router (DR) encapsulates multicast data into a Register message and sends the message to the RPs in unicast mode. The RP then decapsulates the message and forwards the extracted IPv6 multicast data to receivers along the rendezvous point tree (RPT). To prevent the attack of invalid Register messages, you can configure the RP to accept or deny the Register messages matching specified rules.</p>
<p>After the RP completes the shortest path tree (SPT) switchover, the IPv6 multicast data reaches the RP along the source tress in multicast mode. The RP then sends a Register-Stop message to the source's DR. After receiving the message, the source's DR stops sending Register messages and enters the suppression state. In the register suppression period, the DR periodically sends a probe messages (null Register message) to notify the RP that the multicast source is still in the active state. After the register suppression period expires, the DR resends the Register messages carrying multicast data</p>
<p>The <span class="keyword">Router</span> can work normally with default control parameters. You are allowed to adjust registration parameters based on the specific networking environment.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If there is no special requirement, default parameter values are recommended.</p>
</div></div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172367465__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Control the receiving of Register messages on a C-RP.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><span><a href="cmdqueryname=acl+ipv6"><b><span class="cmdname">acl ipv6</span></b></a> { <strong><span>name</span></strong> <i><span class="varname">advance-acl6-name</span></i> [ <strong><span>advance</span></strong> | [ <strong><span>advance</span></strong> ] <strong><span>number</span></strong> <i><span class="varname">advance-acl6-number</span></i> ] | [ <strong><span>number</span></strong> ] <i><span class="varname">advance-acl6-number</span></i> } [ <strong><span>match-order</span></strong> { <strong><span>config</span></strong> | <strong><span>auto</span></strong> } ]</span></span></span><p><p>An advanced ACL6 is created, and the advanced ACL6 view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><span><a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a> [ <i><span class="varname">rule-id</span></i> ] [ <strong><span>name</span></strong> <i><span class="varname">rule-name</span></i> ] { <strong><span>deny</span></strong> | <strong><span>permit</span></strong> } <strong><span>ipv6</span></strong> [ <strong><span>destination</span></strong> { <i><span class="varname">destination-ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> | <i><span class="varname">destination-ipv6-address</span></i>/<i><span class="varname">prefix-length</span></i> | <strong><span>any</span></strong> } | <strong><span>source</span></strong> { <i><span class="varname">source-ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> | <i><span class="varname">source-ipv6-address</span></i>/<i><span class="varname">prefix-length</span></i> | <strong><span>any</span></strong> } ] <sup>*</sup></span></span></span><p><p>Rules are configured for the advanced ACL6.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span></span><p><p>Return to the system view.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=pim-ipv6"><b><span class="cmdname">pim-ipv6</span></b></a></span></span><p><p>The IPv6 PIM view is displayed.</p>
<p>Run the <a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a> command, set the <strong><span>source</span></strong> parameter to a multicast source address, and set the <strong><span>destination</span></strong> parameter to a multicast group address.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=register-policy"><b><span class="cmdname">register-policy</span></b></a> { <i><span class="varname">registerPolicyAclNum</span></i> | <strong><span>acl6-name</span></strong> <i><span class="varname">regPolicyName</span></i> }</span><p><p>A policy is configured to filter Register messages.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>If a Register message matches an ACL rule and the action is <strong>permit</strong>, the RP permits this message.</li><li>If a Register message matches an ACL rule and the action is <strong>deny</strong>, the RP denies this message.</li><li>If a Register message does not match any ACL rule, the RP denies this message.</li><li>If a specified ACL does not exist or does not contain rules, the RP denies all Register messages.</li></ul>
</div></div>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Suppress multicast source registration on the source's DR.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=pim-ipv6"><b><span class="cmdname">pim-ipv6</span></b></a></span></span><p><p>The IPv6 PIM view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=register-suppression-timeout"><b><span class="cmdname">register-suppression-timeout</span></b></a> <i><span class="varname">interval</span></i></span><p><p>The timeout period during which the source's DR keeps the register suppression state is set.</p>
</p><p><ul><li><p>If the value of interval is small, the RP frequently receives burst multicast data.</p>
</li><li><p>If the value of interval is large, when an (S, G) entry on the RP times out, the delay during which new receivers join a multicast group is prolonged.</p>
</li></ul>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=probe-interval"><b><span class="cmdname">probe-interval</span></b></a> <i><span class="varname">interval</span></i></span><p><p>The interval for sending Probe messages is set.</p>
</p><p></p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2005.html">Configuring IPv6 PIM-SM
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2011.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_multicast_cfg_2013.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>