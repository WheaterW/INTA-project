
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring BGP MVPN Peer Relationships">
<meta name="abstract" content="BGP MVPN peer relationships between PEs on the network-side public network allow the PEs to exchange MVPN A-D routes and C-multicast routes.">
<meta name="description" content="BGP MVPN peer relationships between PEs on the network-side public network allow the PEs to exchange MVPN A-D routes and C-multicast routes.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_bierv6_cfg_0040.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_bierv6_cfg_0042.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00603461,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BIERv6">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BIERv6">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="BIERv6">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="BIERv6">
<meta name="featuretype" content="IP Multicast">
<meta name="OWNER" content="w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00447999">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001188702493">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/thickbox.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/jquery.min.js"></script>
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/imageResize.js"></script>
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/jquery-migrate-1.2.1.min.js"></script>
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/jquery-ui.min.js"></script>
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/jquery.mousewheel.min.js"></script>
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/thickbox.js"></script>
<title>Configuring BGP MVPN Peer Relationships</title>
</head>
<body><a name="EN-US_TASK_0000001188702493"></a><a name="EN-US_TASK_0000001188702493"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring BGP MVPN Peer Relationships</h1>
<div class="taskbody"><p>BGP MVPN peer relationships between PEs on the network-side public network allow the PEs to exchange MVPN A-D routes and C-multicast routes.</p>
<div class="context"><a name="EN-US_TASK_0000001188702493__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>In the typical GTMv6 over BIERv6 networking shown in <a href="#EN-US_TASK_0000001188702493__fig12181260228">Figure 1</a>, one sender PE and multiple receiver PEs are deployed. Because multicast traffic is transmitted between the multicast source and receivers, BGP MVPN peer relationships must be established between the sender PE and all receiver PEs.</p>
<div class="fignone" id="EN-US_TASK_0000001188702493__fig12181260228"><a name="EN-US_TASK_0000001188702493__fig12181260228"></a><a name="fig12181260228"></a><span class="figcap"><b>Figure 1 </b>GTMv6 over BIERv6 networking</span><br><span><img class="imgResize" src="figure/en-us_image_0000001142822536.png" width="515.117223140625" height="289.8154704375001" title="Click to enlarge"></span></div>
<p></p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001188702493__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure the sender PE.</span><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i></span><p><p>The BGP view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=ipv6-family+unicast"><b><span class="cmdname">ipv6-family unicast</span></b></a></span><p><p>The BGP-IPv6 unicast address family view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> { <em><i><span class="varname">ipv4-address</span></i></em> | <em><i><span class="varname">ipv6-address</span></i></em> } <a href="cmdqueryname=enable"><b><span class="cmdname">enable</span></b></a></span><p><p>The device is enabled to exchange routes with the specified IPv4/IPv6 peer.</p>
</p><p><p>You can configure the sender PE to exchange routes with a specified IPv4 or IPv6 peer or with both IPv4 and IPv6 peers. If the sender PE is configured to exchange routes with both IPv4 and IPv6 peers, you can configure a PrefVal on the corresponding receiver PE for the routes received from each type of peer (IPv4 or IPv6) so that the receiver PE selects routes accordingly.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> { <em><i><span class="varname">i</span></i></em><i><span class="varname">pv4-address</span></i> | <em><i><span class="varname">peerIpv6Addr</span></i></em> } <a href="cmdqueryname=advertise-ext-community"><b><span class="cmdname">advertise-ext-community</span></b></a></span><p><p>BGP is configured to advertise routes with extended community attributes to the specified peer.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the BGP view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=ipv6-family+mvpn"><b><span class="cmdname">ipv6-family mvpn</span></b></a></span><p><p>The IPv6 BGP-MVPN address family view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=peer+enable+%28BGP-MVPN+address+family+view%29"><b><span class="cmdname">peer</span></b></a> <em>ipv6-address</em> <strong><span>enable</span></strong></span><p><p>The device is enabled to establish a BGP MVPN peer relationship with a specified receiver PE. You need to run this command repeatedly as needed to establish a BGP MVPN peer relationship between the device and each receiver PE.</p>
</p><p><p>It is recommended that the IPv6 address be set to the loopback interface address of each receiver PE.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Exit the IPv6 BGP-MVPN address family view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Exit the BGP-IPv6 unicast address family view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure a receiver PE.</span><p><p>Perform the following operations on all receiver PEs.</p>
</p><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i></span><p><p>The BGP view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=ipv6-family+unicast"><b><span class="cmdname">ipv6-family unicast</span></b></a></span><p><p>The BGP-IPv6 unicast address family view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> { <em><i><span class="varname">ipv4-address</span></i></em> | <em><i><span class="varname">ipv6-address</span></i></em> } <a href="cmdqueryname=enable"><b><span class="cmdname">enable</span></b></a></span><p><p>The device is enabled to exchange routes with the specified IPv4/IPv6 peer.</p>
</p><p><p>You can configure the sender PE to exchange routes with a specified IPv4 or IPv6 peer or with both IPv4 and IPv6 peers. If the sender PE is configured to exchange routes with both IPv4 and IPv6 peers, you can configure a PrefVal on the corresponding receiver PE for the routes received from each type of peer (IPv4 or IPv6) so that the receiver PE selects routes accordingly.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> { <em><i><span class="varname">i</span></i></em><i><span class="varname">pv4-address</span></i> | <em><i><span class="varname">peerIpv6Addr</span></i></em> } <a href="cmdqueryname=advertise-ext-community"><b><span class="cmdname">advertise-ext-community</span></b></a></span><p><p>BGP is configured to advertise routes with extended community attributes to the specified peer.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the BGP view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=ipv6-family+mvpn"><b><span class="cmdname">ipv6-family mvpn</span></b></a></span><p><p>The IPv6 BGP-MVPN address family view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=peer+enable+%28BGP-MVPN+address+family+view%29"><b><span class="cmdname">peer</span></b></a> <em>ipv6-address</em> <strong><span>enable</span></strong></span><p><p>The device is enabled to establish a BGP MVPN peer relationship with the sender PE.</p>
</p><p><p>It is recommended that the IPv6 address be set to the loopback interface address of the sender PE.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Exit the IPv6 BGP-MVPN address family view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Exit the BGP-IPv6 unicast address family view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_bierv6_cfg_0040.html">Configuring GTMv6 over BIERv6
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_bierv6_cfg_0042.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>

<script language="JavaScript">
<!--
image_size('.imgResize');
var msg_imageMax = "view original image";
var msg_imageClose = "close";
//--></script></body>
</html>