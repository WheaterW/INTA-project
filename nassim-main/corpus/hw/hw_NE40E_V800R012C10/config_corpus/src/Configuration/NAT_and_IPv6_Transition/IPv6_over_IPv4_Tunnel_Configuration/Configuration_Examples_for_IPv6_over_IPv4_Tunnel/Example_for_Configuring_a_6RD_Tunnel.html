
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring a 6RD Tunnel">
<meta name="abstract" content="This section provides an example for configuring a 6RD tunnel to allow the clients or devices in different 6RD domains to communicate.">
<meta name="description" content="This section provides an example for configuring a 6RD tunnel to allow the clients or devices in different 6RD domains to communicate.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_6o4tnl_cfg_0008.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_6o4tnl_cfg_0011.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_6o4tnl_cfg_0014.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="c00549182">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPv6 over IPv4">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv6 over IPv4">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="IPv6 over IPv4">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="IPv6 over IPv4">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="OWNER" content="c00549182">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="ccms">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172365305">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Example for Configuring a 6RD Tunnel</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0172365305"></a><a name="EN-US_TASK_0172365305"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring a 6RD Tunnel</h1>
<div class="taskbody"><p>This section provides an example for configuring a 6RD tunnel to allow the clients or devices in different 6RD domains to communicate.</p>
<div class="context"><a name="EN-US_TASK_0172365305__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>As shown in <a href="#EN-US_TASK_0172365305__fig_dc_vrp_cfg_00244201">Figure 1</a>, both <span class="keyword">Device</span>A and <span class="keyword">Device</span>B support the IPv4/IPv6 dual stack, and they are connected to an IPv6 network and an IPv4 network. Both <span class="keyword">Device</span>A and <span class="keyword">Device</span>B are 6RD CEs. The IPv6 networks are 6RD networks. A 6RD tunnel needs to be established between <span class="keyword">Device</span>A and <span class="keyword">Device</span>B so that the hosts on the two IPv6 networks can communicate.</p>
<div class="fignone" id="EN-US_TASK_0172365305__fig_dc_vrp_cfg_00244201"><a name="EN-US_TASK_0172365305__fig_dc_vrp_cfg_00244201"></a><a name="fig_dc_vrp_cfg_00244201"></a><span class="figcap"><b>Figure 1 </b>Networking diagram for configuring a 6RD tunnel to allow the clients and devices in different 6RD domains to communicate</span><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Interfaces 1 and 2 in this example represent GE <span>0/1/1</span> and GE <span>0/1/2</span>, respectively.</p>
</div></div>
<br><span><img class="vsd" src="images/fig_dc_vrp_ipv6_cfg_00244201.png" width="NaN" height="NaN"></span></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172365305__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><p>The configuration roadmap is as follows:</p>
<ol><li><p>On <span class="keyword">Device</span>A and <span class="keyword">Device</span>B, configure IPv4 addresses for the physical interfaces connected to the IPv4 network and enable IPv6 packet forwarding.</p>
</li><li><p>On <span class="keyword">Device</span>A and <span class="keyword">Device</span>B, configure the source IPv4 address, 6RD prefix, IPv6 prefix length, and IPv4 prefix length for a 6RD tunnel so that the devices can calculate the 6RD delegated prefix based on a combination of these parameters.</p>
</li><li><p>On <span class="keyword">Device</span>A and <span class="keyword">Device</span>B, configure IPv6 addresses for the physical interfaces connected to the 6RD domains based on the 6RD delegated prefix.</p>
</li><li><p>Configure the IPv6 addresses on PC1 and PC2, with the IPv6 prefix set to a 64-bit address prefix that contains the 6RD prefix and subnet ID.</p>
</li><li><p>On <span class="keyword">Device</span>A, configure a static route destined for the 6RD domain in which <span class="keyword">Device</span>B resides. On <span class="keyword">Device</span>B, configure a static route destined for the 6RD domain in which <span class="keyword">Device</span>A resides.</p>
</li></ol>
</div></div>
<div class="context"><a name="EN-US_TASK_0172365305__1.4.3"></a><a name="1.4.3"></a>
<div class="p"><h4 class="sectiontitle">Data Preparation</h4><p>To complete the configuration, you need the following data:</p>
<ul><li><p>IPv4 addresses of interfaces</p>
</li><li><p>Source IPv4 addresses of 6RD tunnel interfaces</p>
</li><li><p>6RD prefix of the 6RD tunnel</p>
</li><li><p>IPv4 prefix length of the 6RD tunnel</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172365305__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure IPv4 addresses for interfaces that connect devices to the IPv4 network.</span><p><p># Configure <span class="keyword">Device</span>A.</p>
<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>sysname <span class="keyword">Device</span>A</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>interface gigabitethernet <span>0/1/1</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/1</span>] <strong>ip address 10.1.1.1 24</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/1</span>] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/1</span>] <strong>quit</strong></pre>
<p># Configure <span class="keyword">Device</span>B.</p>
<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>sysname <span class="keyword">Device</span>B</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B] <strong>interface gigabitethernet <span>0/1/1</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-GigabitEthernet<span>0/1/1</span>] <strong>ip address 10.1.1.2 24</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-GigabitEthernet<span>0/1/1</span>] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B-GigabitEthernet<span>0/1/1</span>] <strong>quit</strong></pre>
</p></li><li><span>Configure a 6RD tunnel.</span><p><p># Configure <span class="keyword">Device</span>A.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A]<strong> interface Tunnel 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Tunnel1] <strong>tunnel-protocol ipv6-ipv4 6rd</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Tunnel1] <strong>ipv6 enable</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Tunnel1] <strong>source GigabitEthernet <span>0/1/1</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Tunnel1] <strong>ipv6-prefix 2001:db8::/32</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Tunnel1] <strong>ipv4-prefix length 8</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Tunnel1] <strong>commit</strong></pre>
<p># Configure <span class="keyword">Device</span>B.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B]<strong> interface Tunnel 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-Tunnel1] <strong>tunnel-protocol ipv6-ipv4 6rd</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-Tunnel1] <strong>ipv6 enable</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-Tunnel1] <strong>source GigabitEthernet <span>0/1/1</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-Tunnel1] <strong>ipv6-prefix 2001:db8::/32</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-Tunnel1] <strong>ipv4-prefix length 8</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-Tunnel1] <strong>commit</strong></pre>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The 6RD delegated prefix can be automatically calculated based on the configured source tunnel IPv4 address or source interface name, 6RD prefix, IPv6 prefix length, and IPv4 prefix length. You can run the <strong>display this interface</strong> command to view the 6RD delegated prefix and then configure an IPv6 address for the tunnel interface.</p>
<p>In this example, the IPv4 prefix length of the 6RD tunnel is set to 8 bits. To generate a 56-bit 6RD delegated prefix, the device removes the left-most 8 bits from the tunnel source address (IPv4 address of GE <strong><span>0/1/1</span></strong>) and adds the 6RD prefix 2001:db8::/32 before the remaining 24 bits (in hexadecimal notation) of the tunnel source address.</p>
</div></div>
</p></li><li><span>Query the calculated 6RD delegated prefix.</span><p><p># Query the calculated 6RD delegated prefix on <span class="keyword">Device</span>A.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-Tunnel1] <strong>display this interface</strong></pre>
<pre class="screen">Tunnel1 current state : UP (ifindex: 9)
Line protocol current state : DOWN 
Description: 
Route Port,The Maximum Transmit Unit is 1500
Internet protocol processing : disabled
Encapsulation is TUNNEL, loopback not set
Tunnel source 10.1.1.1, destination unknown
Tunnel protocol/transport IPv6 over IPv4 (6rd)
ipv6 prefix 2001:DB8::/32 
ipv4 prefix length 8 
<strong>6RD Operational, Delegated Prefix is 2001:DB8:101:100::/56</strong>
Current system time: 2017-09-02 10:14:49
  300 seconds input rate 0 bits/sec, 0 packets/sec
  300 seconds output rate 0 bits/sec, 0 packets/sec
  0 seconds input rate 0 bits/sec, 0 packets/sec
  0 seconds output rate 0 bits/sec, 0 packets/sec
  0 packets input,  0 bytes
  0 input error
  0 packets output,  0 bytes                                
  0 output error
  Input:
    Unicast: 0 packets, Multicast: 0 packets
  Output:
    Unicast: 0 packets, Multicast: 0 packets
    Last 300 seconds input utility rate:  --
    Last 300 seconds output utility rate: --</pre>
<p># Query the calculated 6RD delegated prefix on <span class="keyword">Device</span>B.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B-Tunnel1] <strong>display this interface</strong></pre>
<pre class="screen">Tunnel1 current state : UP (ifindex: 10)
Line protocol current state : DOWN 
Description: 
Route Port,The Maximum Transmit Unit is 1500
Internet protocol processing : disabled
Encapsulation is TUNNEL, loopback not set
Tunnel source 10.1.1.2, destination unknown
Tunnel protocol/transport IPv6 over IPv4 (6rd)
ipv6 prefix 2001:DB8::/32 
ipv4 prefix length 8 
<strong>6RD Operational, Delegated Prefix is 2001:db8:101:200::/56</strong>
Current system time: 2017-09-02 10:22:13
  300 seconds input rate 0 bits/sec, 0 packets/sec
  300 seconds output rate 0 bits/sec, 0 packets/sec
  0 seconds input rate 0 bits/sec, 0 packets/sec
  0 seconds output rate 0 bits/sec, 0 packets/sec
  0 packets input,  0 bytes
  0 input error
  0 packets output,  0 bytes                                
  0 output error
  Input:
    Unicast: 0 packets, Multicast: 0 packets
  Output:
    Unicast: 0 packets, Multicast: 0 packets
    Last 300 seconds input utility rate:  --
    Last 300 seconds output utility rate: --</pre>
</p></li><li><span>Configure IPv6 addresses for the tunnel interfaces based on the 6RD delegated prefix.</span><p><p># Configure <span class="keyword">Device</span>A.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-Tunnel1] <strong>ipv6 address 2001:db8:101:100::1 56</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Tunnel1] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-Tunnel1] <strong>quit</strong></pre>
<p># Configure <span class="keyword">Device</span>B.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B-Tunnel1] <strong>ipv6 address 2001:db8:101:200::1 56</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-Tunnel1] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B-Tunnel1] <strong>quit</strong></pre>
</p></li><li><span>Configure an IPv6 address for GE <span>0/1/2</span>.</span><p><p># Configure <span class="keyword">Device</span>A.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>interface gigabitethernet <span>0/1/2</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/2</span>] <strong>ipv6 enable</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/2</span>] <strong>ipv6 address 2001:db8:101:101::1 64</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/2</span>] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/2</span>] <strong>quit</strong></pre>
<p># Configure <span class="keyword">Device</span>B.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B] <strong>interface gigabitethernet <span>0/1/2</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-GigabitEthernet<span>0/1/2</span>] <strong>ipv6 enable</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-GigabitEthernet<span>0/1/2</span>] <strong>ipv6 address 2001:db8:101:201::1 64</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-GigabitEthernet<span>0/1/2</span>] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B-GigabitEthernet<span>0/1/2</span>] <strong>quit</strong></pre>
</p></li><li><span>Configure static routes destined for the 6RD domains connected to <span class="keyword">Device</span>A and <span class="keyword">Device</span>B.</span><p><p># Configure a static route destined for the 6RD domain connected to <span class="keyword">Device</span>B.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>ipv6 route-static 2001:db8:: 32 Tunnel 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A] <strong>commit</strong></pre>
<p># Configure a static route destined for the 6RD domain connected to <span class="keyword">Device</span>A.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B] <strong>ipv6 route-static 2001:db8:: 32 Tunnel 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B] <strong>commit</strong></pre>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The leftmost 56 bits of the IPv6 address of GE <strong><span>0/1/2</span></strong> must be the same as the 6RD delegated prefix.</p>
</div></div>
</p></li><li><span>Configure IPv6 addresses for PC1 and PC2.</span><p><p># Configure PC1.</p>
<p>Configure the IPv6 address 2001:db8:101:101::2/64 for PC1 based on the 6RD delegated prefix. This IPv6 address must be on the same network segment as that of GE <span>0/1/2</span> on <span class="keyword">Device</span>A. Configure a static route from PC1 to <span class="keyword">Device</span>A and set the destination address to 2001:db8:: 32. The method of configuring the IPv6 address and static route is related to the operating system running on PC1. The configuration details are not provided.</p>
<p># Configure PC2.</p>
<p>Configure the IPv6 address 2001:db8:101:201::2/64 for PC2 based on the 6RD delegated prefix. This IPv6 address must be on the same network segment as that of GE <span>0/1/2</span> on <span class="keyword">Device</span>B. Configure a static route from PC2 to <span class="keyword">Device</span>B and set the destination address to 2001:db8:: 32. The method of configuring the IPv6 address and static route is related to the operating system running on PC2. The configuration details are not provided.</p>
</p></li><li><span>Verify the configuration.</span><p><p># After completing the configurations, run the <strong>display interface Tunnel 1</strong> command to check the status of Tunnel1 on <span class="keyword">Device</span>A or <span class="keyword">Device</span>B. The following command output shows that the status of Tunnel 1 is <strong>UP</strong>.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A]<strong> display interface Tunnel 1</strong></pre>
<pre class="screen">Tunnel1 current state :<strong> UP</strong> (ifindex: 78)
Line protocol current state : DOWN 
Description: 
Route Port,The Maximum Transmit Unit is 1500
Internet protocol processing : disabled
Encapsulation is TUNNEL, loopback not set
Tunnel source 2.1.1.1, destination unknown
Tunnel protocol/transport IPv6 over IPv4 (6rd)
ipv6 prefix 2001:DB8::/32 
ipv4 prefix length 8 
6RD Operational, Delegated Prefix is 2001:db8:101:100::/56
Current system time: 2020-12-21 01:41:03
  300 seconds input rate 0 bits/sec, 0 packets/sec
  300 seconds output rate 0 bits/sec, 0 packets/sec
  0 seconds input rate 0 bits/sec, 0 packets/sec
  0 seconds output rate 0 bits/sec, 0 packets/sec
  0 packets input,  0 bytes
  0 input error
  0 packets output,  0 bytes                                
  0 output error
  Input:
    Unicast: 0 packets, Multicast: 0 packets
  Output:
    Unicast: 0 packets, Multicast: 0 packets
    Last 300 seconds input utility rate:  --
    Last 300 seconds output utility rate: --</pre>
<p># On <span class="keyword">Device</span> A, ping the IPv6 address of GE <span>0/1/2</span> on <span class="keyword">Device</span> B. The following command output shows that the ping is successful.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A]<strong> ping ipv6 2001:db8:101:201::1</strong></pre>
<pre class="screen">  PING 2001:db8:101:201::1 : 56  data bytes, press CTRL_C to break
    Reply from 2001:db8:101:201::1
    bytes=56 Sequence=1 hop limit=64  time = 4 ms
    Reply from 2001:db8:101:201::1
    bytes=56 Sequence=2 hop limit=64  time = 3 ms
    Reply from 2001:db8:101:201::1
    bytes=56 Sequence=3 hop limit=64  time = 2 ms
    Reply from 2001:db8:101:201::1
    bytes=56 Sequence=4 hop limit=64  time = 2 ms
    Reply from 2001:db8:101:201::1
    bytes=56 Sequence=5 hop limit=64  time = 2 ms
  --- 2001:db8:101:201::1 ping statistics ---
    5 packet(s) transmitted
    5 packet(s) received
    0.00% packet loss
    round-trip min/avg/max = 2/2/4 ms</pre>
<p># On PC1, ping the IPv6 address of PC2. The following command output shows that the ping is successful.</p>
<pre class="screen">C:\&gt; <strong>ping 2001:db8:101:201::2</strong></pre>
<pre class="screen">Pinging 2001:db8:101:201::2 with 32 bytes of data:
Reply from 2001:db8:101:201::2: time&lt;1ms
Reply from 2001:db8:101:201::2: time&lt;1ms
Reply from 2001:db8:101:201::2: time&lt;1ms
Reply from 2001:db8:101:201::2: time&lt;1ms
Ping statistics for 2001:db8:101:201::2:
    Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),
Approximate round trip times in milli-seconds:
    Minimum = 0ms, Maximum = 0ms, Average = 0ms</pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0172365305__1.4.5"></a><a name="1.4.5"></a><h4 class="sectiontitle">Configuration Files</h4><p><span class="keyword">Device</span>A configuration file</p>
<pre class="screen">#
sysname <span class="keyword">Device</span>A
#
interface GigabitEthernet<span>0/1/1</span>
 undo shutdown
 ip address 10.1.1.1 255.255.255.0
#
interface GigabitEthernet<span>0/1/2</span>
 undo shutdown
 ipv6 enable
 ipv6 address 2001:db8:101:101::1 64
#
interface Tunnel 1
 ipv6 enable
 ipv6 address 2001:db8:101:100::1 56
 tunnel-protocol ipv6-ipv4 6rd
 source GigabitEthernet<span>0/1/1</span>
 ipv6-prefix 2001:db8::/32
 ipv4-prefix length 8
#
ipv6 route-static 2001:db8:: 32 Tunnel1
#
return</pre>
<p><span class="keyword">Device</span> B configuration file</p>
<pre class="screen">#
sysname <span class="keyword">Device</span>B
#
interface GigabitEthernet<span>0/1/1</span>
 undo shutdown
 ip address 10.1.1.2 255.255.255.0
#
interface GigabitEthernet<span>0/1/2</span>
 undo shutdown
 ipv6 enable
 ipv6 address 2001:db8:101:201::1 64
#
interface Tunnel 1
 ipv6 enable
 ipv6 address 2001:db8:101:200::1 56
 tunnel-protocol ipv6-ipv4 6rd
 source GigabitEthernet<span>0/1/1</span>
 ipv6-prefix 2001:db8::/32
 ipv4-prefix length 8
#
ipv6 route-static 2001:db8:: 32 Tunnel1
#
return</pre>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_6o4tnl_cfg_0008.html">Configuration Examples for IPv6 over IPv4 Tunnel
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_6o4tnl_cfg_0011.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_6o4tnl_cfg_0014.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>