
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a BMR">
<meta name="abstract" content="This section describes how to configure a basic mapping rule (BMR). A BMR is used to convert user-side IPv6 addresses into IPv4 addresses and network-side IPv4 addresses into IPv6 addresses.">
<meta name="description" content="This section describes how to configure a basic mapping rule (BMR). A BMR is used to convert user-side IPv6 addresses into IPv4 addresses and network-side IPv4 addresses into IPv6 addresses.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_map_cfg_0044.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_map_cfg_0014_mape_mapbr_cen.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="c00549182">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MAP">
<meta name="featuretype" content="NAT and IPv6 Transition">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MAP">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="MAP">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="MAP">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="MAP">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="OWNER" content="c00549182">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00425560">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172374823">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring a BMR</title>
</head>
<body><a name="EN-US_TASK_0172374823"></a><a name="EN-US_TASK_0172374823"></a>

<div class="articleBoxWithoutHead">





<h1 class="topicTitle-h1">Configuring a BMR</h1>
<div class="taskbody"><p>This section describes how to configure a basic mapping rule (BMR). A BMR is used to convert user-side IPv6 addresses into IPv4 addresses and network-side IPv4 addresses into IPv6 addresses.</p>

<div class="context"><a name="EN-US_TASK_0172374823__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0172374823__en-us_task_0172374787_context1845274607214417"><p id="EN-US_TASK_0172374823__en-us_task_0172374787_p1718973522214417">BMR parameters are set in an instance. The parameters include the IPv4 prefix and length, IPv6 prefix and length, embedded address length, and PSID offset. The PSID offset is used to reserve ports based on public IP addresses.</p>
</div></div>

<div class="steps"><a name="EN-US_TASK_0172374823__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0172374823__en-us_task_0172374787_steps2009059079214417">
<li id="EN-US_TASK_0172374823__en-us_task_0172374787_step1075044682214417"><span id="EN-US_TASK_0172374823__en-us_task_0172374787_cmd1496048163214417">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172374823__en-us_task_0172374787_cmdname478679661214417">system-view</span></b></a></span></span>
<p><p id="EN-US_TASK_0172374823__en-us_task_0172374787_p1431774555214417">The system view is displayed.</p>
</p>
</li>
<li id="EN-US_TASK_0172374823__en-us_task_0172374787_step1149736754214417"><span id="EN-US_TASK_0172374823__en-us_task_0172374787_cmd567768772214417">Run <span><span><a href="cmdqueryname=map+rule"><b><span class="cmdname" id="EN-US_TASK_0172374823__en-us_task_0172374787_cmdname386149342214417">map rule</span></b></a> <i><span class="varname" id="EN-US_TASK_0172374823__en-us_task_0172374787_varname2098757407214417">rule-name</span></i></span></span></span>
<p><p id="EN-US_TASK_0172374823__en-us_task_0172374787_p1279613239214417">The MAP rule view is displayed.</p>
</p>
</li>
<li id="EN-US_TASK_0172374823__en-us_task_0172374787_step1886225602214417"><span id="EN-US_TASK_0172374823__en-us_task_0172374787_cmd640095800214417">Run <span><span><a href="cmdqueryname=rule-prefix"><b><span class="cmdname" id="EN-US_TASK_0172374823__en-us_task_0172374787_cmdname244052519214417">rule-prefix</span></b></a> <i><span class="varname" id="EN-US_TASK_0172374823__en-us_task_0172374787_varname540101733214417">ipv6âprefix</span></i> <strong><span id="EN-US_TASK_0172374823__en-us_task_0172374787_cmdparmname2107885788214417">prefix-length</span></strong> <i><span class="varname" id="EN-US_TASK_0172374823__en-us_task_0172374787_varname2130457331214417">v6prefix-length</span></i> <strong><span id="EN-US_TASK_0172374823__en-us_task_0172374787_cmdparmname27972157214417">ipv4âprefix</span></strong> <i><span class="varname" id="EN-US_TASK_0172374823__en-us_task_0172374787_varname1508553691214417">ipv4âprefix</span></i> <strong><span id="EN-US_TASK_0172374823__en-us_task_0172374787_cmdparmname1581753984214417">prefix-length</span></strong> <i><span class="varname" id="EN-US_TASK_0172374823__en-us_task_0172374787_varname1532438816214417">v4prefix-length</span></i> [ <strong><span id="EN-US_TASK_0172374823__en-us_task_0172374787_cmdparmname661114093214417">vpn-instance</span></strong> <i><span class="varname" id="EN-US_TASK_0172374823__en-us_task_0172374787_varname534599220214417">vpn-instance-name</span></i> ] <strong><span id="EN-US_TASK_0172374823__en-us_task_0172374787_cmdparmname1875426355214417">ea-length</span></strong> <i><span class="varname" id="EN-US_TASK_0172374823__en-us_task_0172374787_varname478527570214417">ea-length</span></i> [ <strong><span id="EN-US_TASK_0172374823__en-us_task_0172374787_cmdparmname1522686844214417">psid-offset</span></strong> <i><span class="varname" id="EN-US_TASK_0172374823__en-us_task_0172374787_varname779017511214417">offset-length</span></i> ]</span></span></span>
<p><p id="EN-US_TASK_0172374823__en-us_task_0172374787_p738507112214417">Parameters are configured to verify and encapsulate MAP packets.</p>
</p>
<p><div class="note" id="EN-US_TASK_0172374823__en-us_task_0172374787_note741323248214417"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody">A unique IPv6 address must be set in each BMR. The IPv6 addresses of BMRs cannot be identical.</div></div>
</p>
</li>
<li id="EN-US_TASK_0172374823__en-us_task_0172374787_step1058966949214417"><span id="EN-US_TASK_0172374823__en-us_task_0172374787_cmd1860529154214417">Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172374823__en-us_task_0172374787_cmdname1849890932214417">commit</span></b></a></span></span>
<p><p id="EN-US_TASK_0172374823__en-us_task_0172374787_p12439416214417">The configuration is committed.</p>
</p>
</li>
</ol></div>

</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_map_cfg_0044.html">Configuring a MAP-BR
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_map_cfg_0014_mape_mapbr_cen.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>