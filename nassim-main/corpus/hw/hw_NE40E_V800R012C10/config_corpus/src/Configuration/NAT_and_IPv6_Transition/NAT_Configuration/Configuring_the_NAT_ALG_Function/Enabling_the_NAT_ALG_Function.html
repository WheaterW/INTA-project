
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Enabling the NAT ALG Function">
<meta name="abstract" content="Packets of some protocols, such as FTP and ICMP, contain IP addresses and port numbers in the Data field. To translate the IP addresses and port numbers contained in data, enable the NAT ALG function.">
<meta name="description" content="Packets of some protocols, such as FTP and ICMP, contain IP addresses and port numbers in the Data field. To translate the IP addresses and port numbers contained in data, enable the NAT ALG function.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0031.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0333.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="c00549182">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="OWNER" content="c00549182">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="c00549182">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172374549">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Enabling the NAT ALG Function</title>
</head>
<body><a name="EN-US_TASK_0172374549"></a><a name="EN-US_TASK_0172374549"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Enabling the NAT ALG Function</h1>
<div class="taskbody"><p>Packets of some protocols, such as FTP and ICMP, contain IP addresses and port numbers in the Data field. To translate the IP addresses and port numbers contained in data, enable the NAT ALG function.</p>
<div class="context"><a name="EN-US_TASK_0172374549__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Most application layer protocol packets carry user IP addresses and port numbers. NAT translates only network layer addresses and transport layer ports. Therefore, an ALG can be configured to translate IP addresses and port numbers carried in the Data field of application layer packets.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172374549__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=nat+instance"><b><span class="cmdname">nat instance</span></b></a> <i><span class="varname">instance-name</span></i> [ <strong><span>id</span></strong> <i><span class="varname">id</span></i> ]</span></span><p><p>The NAT instance view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=nat+alg"><b><span class="cmdname">nat alg</span></b></a> { <span><strong><span>dns</span></strong> | </span><strong><span>ftp</span></strong> [ <strong><span>rate-threshold</span></strong> <i><span class="varname">rate-threshold-value</span></i> ]<span> | <strong><span>pptp</span></strong> | <strong><span>rtsp</span></strong> | <strong><span>all</span></strong><span> | <strong><span>sip</span></strong> <span><span>[ <strong><span>separate-translation</span></strong></span> ]</span></span></span> }</span><p><p>The NAT ALG function is enabled for one or more application layer protocols.</p>
</p><p><p>To configure NAT separately for the SIP control channel and data channel, run the <a href="cmdqueryname=nat+alg"><b><span class="cmdname">nat alg</span></b></a> <strong><span>sip</span></strong> <strong><span>separate-translation</span></strong> command.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0031.html">Configuring the NAT ALG Function
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0333.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>