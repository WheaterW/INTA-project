
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring DS-Lite User Group Information">
<meta name="abstract" content="In a distributed DS-Lite scenario, a DS-Lite device identifies user traffic from each CPE by checking user identities. Therefore, DS-Lite user group information must be configured on the DS-Lite device.">
<meta name="description" content="In a distributed DS-Lite scenario, a DS-Lite device identifies user traffic from each CPE by checking user identities. Therefore, DS-Lite user group information must be configured on the DS-Lite device.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ds-lite_cfg_0018.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ds-lite_cfg_0020.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="c00549182">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="DS-Lite">
<meta name="featuretype" content="NAT and IPv6 Transition">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="DS-Lite">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="DS-Lite">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="DS-Lite">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="OWNER" content="c00549182">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="ccms">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172374708">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring DS-Lite User Group Information</title>
</head>
<body><a name="EN-US_TASK_0172374708"></a><a name="EN-US_TASK_0172374708"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring DS-Lite User Group Information</h1>
<div class="taskbody"><p>In a distributed DS-Lite scenario, a DS-Lite device identifies user traffic from each CPE by checking user identities. Therefore, DS-Lite user group information must be configured on the DS-Lite device.</p>
<div class="context"><a name="EN-US_TASK_0172374708__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Multiple associations between user groups and DS-Lite instances can be configured in a domain. After a user gets online, a DS-Lite device checks the number of users in each user group and adds the user to the group that has the least members, so that the user's traffic can be allocated to the least busy DS-Lite instance to implement load sharing among DS-Lite instances.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172374708__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure a user access mode.</span><p><p>For detailed configurations, see <em><span class="keyword">HUAWEI NE40E-M2 series</span> <span class="keyword">NE40E</span> Configuration Guide - User Access</em>.</p>
</p></li><li><span>Bind a user group to the DS-Lite instance.</span><ol type="a"><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=user-group"><b><span class="cmdname">user-group</span></b></a> <i><span class="varname">group-name</span></i></span></span><p><p>A new user group is created.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=aaa"><b><span class="cmdname">aaa</span></b></a></span></span><p><p>The AAA view is displayed.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <span><a href="cmdqueryname=cut+access-user+cgn-pub-user"><b><span class="cmdname">cut access-user cgn-pub-user</span></b></a> [ <strong><span>dhcp</span></strong> | <strong><span>exclude-dhcp</span></strong> ]</span></span><p><p>CGN public users are manually logged out, and CGN public users are to get online using private IP addresses.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=domain"><b><span class="cmdname">domain</span></b></a> <i><span class="varname">domain-name</span></i></span></span><p><p>The AAA domain view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=user-group"><b><span class="cmdname">user-group</span></b></a> <em>user-group-name</em> <strong><span>bind ds-lite instance</span></strong> <i><span class="varname">instance-name</span></i></span></span><p><p>A user group is bound to the DS-Lite instance.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>Each user group can be bound to a single DS-Lite instance.</li><li>A DS-Lite instance can be bound to multiple user groups.</li><li>When multiple user groups are bound to DS-Lite instances in an AAA domain, the number of users who can be assigned addresses is determined by the DS-Lite instance that provides the least number of public IP addresses. As a result, some IP addresses of other DS-Lite instances waste. To prevent such a problem, ensure that multiple DS-Lite instances provide the same number of valid public IP addresses.</li></ul>
</div></div>
</p></li><li class="substepexpand"><span>(Optional) Run <span><a href="cmdqueryname=public-address+nat+enable"><b><span class="cmdname">public-address nat enable</span></b></a></span></span><p><p>In distributed CGN, the device is enabled to perform DS-Lite translation for users in a domain before forwarding the traffic based on the routing table.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <span><a href="cmdqueryname=public-address+nat-instance-down"><b><span class="cmdname">public-address nat-instance-down</span></b></a></span> The device is enabled to allow CGN users to use public IP addresses to access networks when a CGN service board fails.</span></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span></span><p><p>Return to the AAA view.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span></span><p><p>Return to the system view.</p>
</p></li></ol>
</li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ds-lite_cfg_0018.html">Configuring Distributed DS-Lite Translation
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ds-lite_cfg_0020.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>