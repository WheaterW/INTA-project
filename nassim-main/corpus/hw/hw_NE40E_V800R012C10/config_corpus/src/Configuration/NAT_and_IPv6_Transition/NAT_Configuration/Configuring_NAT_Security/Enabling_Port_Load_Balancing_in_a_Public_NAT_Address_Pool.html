
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Enabling Port Load Balancing in a Public NAT Address Pool">
<meta name="abstract" content="To prevent user services from being compromised due to high port usage within a public address pool, the port load balancing is enabled for public NAT address pools. With this function enabled, new online users preferentially select public IP addresses with lower port usage, which leads to even use of ports within a public address pool.">
<meta name="description" content="To prevent user services from being compromised due to high port usage within a public address pool, the port load balancing is enabled for public NAT address pools. With this function enabled, new online users preferentially select public IP addresses with lower port usage, which leads to even use of ports within a public address pool.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0038.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/../../toctopics/en-us_task_0000001482697861.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0064_1.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="c00549182">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="featurename" content="NAT">
<meta name="featuretype" content="NAT and IPv6 Transition">
<meta name="OWNER" content="c00549182">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="c00549182">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001140094135">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Enabling Port Load Balancing in a Public NAT Address Pool</title>
</head>
<body><a name="EN-US_TASK_0000001140094135"></a><a name="EN-US_TASK_0000001140094135"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Enabling Port Load Balancing in a Public NAT Address Pool</h1>
<div class="taskbody"><p>To prevent user services from being compromised due to high port usage within a public address pool, the port load balancing is enabled for public NAT address pools. With this function enabled, new online users preferentially select public IP addresses with lower port usage, which leads to even use of ports within a public address pool.</p>
<div class="context"><a name="EN-US_TASK_0000001140094135__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0000001140094135__en-us_task_0172374561_context194901539549"><p id="EN-US_TASK_0000001140094135__en-us_task_0172374561_p1413223260214110">When a user attempts to get online, it selects a public address pool mapped to private network information based on a NAT traffic conversion policy. A public IP address is randomly selected from the public address pool. This process ensures that public IP addresses are evenly assigned to users. In dynamic port allocation scenarios, if a user dynamically applies for a great number of public ports, high usage of the ports mapped to a public IP address results in the insufficient number of ports assigned to other users within the same public network, which compromises services of the other users.</p>
<div class="note" id="EN-US_TASK_0000001140094135__en-us_task_0172374561_note0687741134419"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0000001140094135__en-us_task_0172374561_p18810531185214">This configuration is supported only on the <span class="keyword" id="EN-US_TASK_0000001140094135__en-us_task_0172374561_en-us_task_0172374561_keyword1152414571330">CX600</span><span class="keyword" id="EN-US_TASK_0000001140094135__en-us_task_0172374561_en-us_task_0172374561_keyword3501321048">-M2K</span> and <span class="keyword" id="EN-US_TASK_0000001140094135__en-us_task_0172374561_en-us_task_0172374561_keyword84407551658">CX600</span><span class="keyword" id="EN-US_TASK_0000001140094135__en-us_task_0172374561_en-us_task_0172374561_keyword18823101016414">-M2K-B</span>.</p>
</div></div>
<div class="note" id="EN-US_TASK_0000001140094135__en-us_task_0172374561_note1659735873214110"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0000001140094135__en-us_task_0172374561_p1515726628214110">This function is supported only on the <a href="dc_ne_nat_feature_0008.html">dedicated boards</a>.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001140094135__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0000001140094135__en-us_task_0172374561_steps583305304214110"><li id="EN-US_TASK_0000001140094135__en-us_task_0172374561_step1074465913214110"><span id="EN-US_TASK_0000001140094135__en-us_task_0172374561_cmd685125540214415">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0000001140094135__en-us_task_0172374561_cmdname849858332214415">system-view</span></b></a></span></span><p><p id="EN-US_TASK_0000001140094135__en-us_task_0172374561_p189069964214415">The system view is displayed.</p>
</p></li><li id="EN-US_TASK_0000001140094135__en-us_task_0172374561_step1100869780214110"><span id="EN-US_TASK_0000001140094135__en-us_task_0172374561_cmd854480066214415">Run <span><a href="cmdqueryname=nat+instance"><b><span class="cmdname" id="EN-US_TASK_0000001140094135__en-us_task_0172374561_cmdname1243743623214415">nat instance</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001140094135__en-us_task_0172374561_varname2115127379214415">instance-name</span></i> <strong><span id="EN-US_TASK_0000001140094135__en-us_task_0172374561_cmdparmname1487843579214415">id</span></strong> <i><span class="varname" id="EN-US_TASK_0000001140094135__en-us_task_0172374561_varname1902898945214415">id</span></i></span></span><p><p id="EN-US_TASK_0000001140094135__en-us_task_0172374561_p346265566214415">The NAT instance view is displayed.</p>
</p></li><li id="EN-US_TASK_0000001140094135__en-us_task_0172374561_step650339395214110"><span id="EN-US_TASK_0000001140094135__en-us_task_0172374561_cmd18857377214415">Run <span><a href="cmdqueryname=nat+port-usage+load-balance+enable"><b><span class="cmdname" id="EN-US_TASK_0000001140094135__en-us_task_0172374561_cmdname910185623214415">nat port-usage load-balance enable</span></b></a></span></span><p><p id="EN-US_TASK_0000001140094135__en-us_task_0172374561_p136959802214415">Port load balancing in a public NAT address pool is enabled.</p>
</p></li><li id="EN-US_TASK_0000001140094135__en-us_task_0172374561_step547584367214110"><span id="EN-US_TASK_0000001140094135__en-us_task_0172374561_cmd747448195214415">Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001140094135__en-us_task_0172374561_cmdname444681637214415">commit</span></b></a></span></span><p><p id="EN-US_TASK_0000001140094135__en-us_task_0172374561_p1017875869214415">The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0038.html">Configuring NAT Security
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/../../toctopics/en-us_task_0000001482697861.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_nat_cfg_0064_1.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>