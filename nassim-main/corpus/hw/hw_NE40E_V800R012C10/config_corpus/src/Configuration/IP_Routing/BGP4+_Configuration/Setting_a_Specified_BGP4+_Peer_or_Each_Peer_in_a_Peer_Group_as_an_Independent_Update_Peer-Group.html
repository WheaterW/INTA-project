
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Setting a Specified BGP4+ Peer or Each Peer in a Peer Group as an Independent Update Peer-Group">
<meta name="abstract" content="Setting a specified peer or each peer in a peer group as an independent update peer-group prevents routes learned from the peer from being sent back to the peer.">
<meta name="description" content="Setting a specified peer or each peer in a peer group as an independent update peer-group prevents routes learned from the peer from being sent back to the peer.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0050.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_4054_copy.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,bgpvrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP IPv6">
<meta name="featuretype" content="IP Route">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP IPv6">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="w00604599">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00615954">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001590249065">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Setting a Specified BGP4+ Peer or Each Peer in a Peer Group as an Independent Update Peer-Group</title>
</head>
<body><a name="EN-US_TASK_0000001590249065"></a><a name="EN-US_TASK_0000001590249065"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Setting a Specified BGP4+ Peer or Each Peer in a Peer Group as an Independent Update Peer-Group</h1>
<div class="taskbody"><p>Setting a specified peer or each peer in a peer group as an independent update peer-group prevents routes learned from the peer from being sent back to the peer.</p>
<div class="context"><a name="EN-US_TASK_0000001590249065__1.4.1"></a><a name="1.4.1"></a>
<div class="p" id="EN-US_TASK_0000001590249065__en-us_task_0172366482_context195713709214039"><h4 class="sectiontitle">Usage Scenario</h4><p id="EN-US_TASK_0000001590249065__en-us_task_0172366482_p315529717214039">To improve the efficiency of route advertisement, BGP uses the dynamic update peer-group mechanism. The BGP peers with the same configurations are placed in an update peer-group. These routes are grouped once and then sent to all peers in the update peer-group. However, the routes learned from a peer may be sent back to the peer, for example, the preferred route learned from an EBGP peer is sent back to the EBGP peer, or the preferred route that an RR learns from a client is reflected back to the client. In this case, messages are discarded, wasting network resources.</p>
<p id="EN-US_TASK_0000001590249065__en-us_task_0172366482_p145211126214039">To address this problem, you can set a specified peer or each peer in a peer group as an independent update peer-group so that the routes learned from the peer are not sent back to the peer.</p>
<div class="p" id="EN-US_TASK_0000001590249065__en-us_task_0172366482_p703985124214039"><div class="note" id="EN-US_TASK_0000001590249065__en-us_task_0172366482_note1390567745214039"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0000001590249065__en-us_task_0172366482_p123292416581">Setting a specified peer or each peer in a peer group as an independent update peer-group can be performed in multiple address families. This section uses the IPv6 unicast address family as an example. For details about the address families supported, see <a href="cmdqueryname=peer+update-group-independent"><b><span class="cmdname" id="EN-US_TASK_0000001590249065__en-us_task_0172366482_cmdname946031870214039">peer update-group-independent</span></b></a>.</p>
</div></div>
</div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001590249065__1.4.2"></a><a name="1.4.2"></a>
<div class="p" id="EN-US_TASK_0000001590249065__en-us_task_0172366482_context2103003733214039"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p id="EN-US_TASK_0000001590249065__en-us_task_0172366482_p538637498214039">Before setting a specified peer or each peer in a peer group as an independent update peer-group, <a href="dc_vrp_bgp6_cfg_0003.html">configure basic BGP4+ functions</a>.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001590249065__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0000001590249065__en-us_task_0172366482_steps1863890708214039"><li id="EN-US_TASK_0000001590249065__en-us_task_0172366482_step152299825214039"><span id="EN-US_TASK_0000001590249065__en-us_task_0172366482_cmd2108014037214324">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0000001590249065__en-us_task_0172366482_cmdname1329373326214324">system-view</span></b></a></span></span><p><p id="EN-US_TASK_0000001590249065__en-us_task_0172366482_p741772111214324">The system view is displayed.</p>
</p></li><li id="EN-US_TASK_0000001590249065__en-us_task_0172366482_step1753760558214039"><span id="EN-US_TASK_0000001590249065__en-us_task_0172366482_cmd1240643231214039">Run <a href="cmdqueryname=bgp"><b><span class="cmdname" id="EN-US_TASK_0000001590249065__en-us_task_0172366482_cmdname3453149434351">bgp</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001590249065__en-us_task_0172366482_varname159275172234351">as-number</span></i></span><p><p id="EN-US_TASK_0000001590249065__en-us_task_0172366482_p81611308253">The BGP view is displayed.</p>
</p></li><li id="EN-US_TASK_0000001590249065__en-us_task_0172366482_step164680433214039"><span id="EN-US_TASK_0000001590249065__en-us_task_0172366482_cmd1816120653214324">Run <span><a href="cmdqueryname=ipv6-family"><b><span class="cmdname" id="EN-US_TASK_0000001590249065__en-us_task_0172366482_cmdname333115812214324">ipv6-family</span></b></a> <strong><span id="EN-US_TASK_0000001590249065__en-us_task_0172366482_cmdparmname976074516214324">unicast</span></strong></span></span><p><p id="EN-US_TASK_0000001590249065__en-us_task_0172366482_p1139276393214324">The IPv6 unicast address family view is displayed.</p>
</p></li><li id="EN-US_TASK_0000001590249065__en-us_task_0172366482_step381027184214039"><span id="EN-US_TASK_0000001590249065__en-us_task_0172366482_cmd127646134214039">Set a specified peer or each peer in a peer group as an independent update peer-group.</span><p><div class="note" id="EN-US_TASK_0000001590249065__en-us_task_0172366482_note426529520214039"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0000001590249065__en-us_task_0172366482_p381228954214039">The configuration of a peer takes precedence over that of the peer group to which the peer belongs. </p>
</div></div>
<ul id="EN-US_TASK_0000001590249065__en-us_task_0172366482_ul827410135214039"><li id="EN-US_TASK_0000001590249065__en-us_task_0172366482_li96934362214039">To set a specified peer as an independent update peer-group, run the <a href="cmdqueryname=peer+update-group-independent+enable"><b><span class="cmdname" id="EN-US_TASK_0000001590249065__en-us_task_0172366482_cmdname1229539581214039">peer</span></b></a> <span id="EN-US_TASK_0000001590249065__en-us_task_0172366482_ph543423216214039">{ </span><i><span class="varname" id="EN-US_TASK_0000001590249065__en-us_task_0172366482_varname1843155295214039">ipv4-address</span></i> <span id="EN-US_TASK_0000001590249065__en-us_task_0172366482_ph1146662885214039">| <i><span class="varname" id="EN-US_TASK_0000001590249065__en-us_task_0172366482_varname1371730512214039">ipv6-address</span></i> } </span><strong><span id="EN-US_TASK_0000001590249065__en-us_task_0172366482_cmdparmname1040494251214039">update-group-independent</span></strong> <strong><span id="EN-US_TASK_0000001590249065__en-us_task_0172366482_cmdparmname1651274852214039">enable</span></strong> command.</li><li id="EN-US_TASK_0000001590249065__en-us_task_0172366482_li1528308700214039">To set each peer in a peer group as an independent update peer-group, run the <a href="cmdqueryname=peer+update-group-independent"><b><span class="cmdname" id="EN-US_TASK_0000001590249065__en-us_task_0172366482_cmdname2143098085214039">peer</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001590249065__en-us_task_0172366482_varname25734812214039">group-name</span></i> <strong><span id="EN-US_TASK_0000001590249065__en-us_task_0172366482_cmdparmname1960413356214039">update-group-independent</span></strong> command.</li></ul>
</p></li><li id="EN-US_TASK_0000001590249065__en-us_task_0172366482_step636687921214039"><span id="EN-US_TASK_0000001590249065__en-us_task_0172366482_cmd1701051358214324">Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001590249065__en-us_task_0172366482_cmdname927474161214324">commit</span></b></a></span></span><p><p id="EN-US_TASK_0000001590249065__en-us_task_0172366482_p640466476214324">The configuration is committed.</p>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0000001590249065__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p id="EN-US_TASK_0000001590249065__en-us_task_0172366482_p893781660214039">After the configuration is complete, verify it.</p>
<p id="EN-US_TASK_0000001590249065__en-us_task_0172366482_p1372945226214039">Run the <a href="cmdqueryname=display+bgp+ipv6+update-peer-group"><b><span class="cmdname" id="EN-US_TASK_0000001590249065__en-us_task_0172366482_cmdname579304108214039">display bgp ipv6 update-peer-group</span></b></a> command to check information about update peer-groups.</p>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0000.html">BGP4+ Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0050.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_4054_copy.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>