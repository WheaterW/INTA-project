
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring BGP4+ to Advertise Default Routes to Peers or Peer Groups">
<meta name="abstract" content="A device sends a default route with the local address as the next hop address to the specified peer for load balancing, regardless of whether there are default routes in the local routing table. This greatly reduces the number of routes on the network.">
<meta name="description" content="A device sends a default route with the local address as the next hop address to the specified peer for load balancing, regardless of whether there are default routes in the local routing table. This greatly reduces the number of routes on the network.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0013.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0014.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0016.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,bgpvrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP IPv6">
<meta name="featuretype" content="IP Route">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP IPv6">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="BGP IPv6">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="w00604599">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="d00534873">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172366436">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring BGP4+ to Advertise Default Routes to Peers or Peer Groups</title>
</head>
<body><a name="EN-US_TASK_0172366436"></a><a name="EN-US_TASK_0172366436"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring BGP4+ to Advertise Default Routes to Peers or Peer Groups</h1>
<div class="taskbody"><p>A device sends a default route with the local address as the next hop address to the specified peer for load balancing, regardless of whether there are default routes in the local routing table. This greatly reduces the number of routes on the network.</p>
<div class="context"><a name="EN-US_TASK_0172366436__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p">Default routes can be used on networks that have the following characteristics:<ul><li><p>There are multiple EBGP peers, and each peer can receive full Internet routes.</p>
</li><li><p>There are multiple Route Reflectors (RRs), and each RR can receive full Internet routes.</p>
</li></ul>
</div>
<p>When load balancing is not performed on the network, a BGP4+ peer receives at most one copy of active full Internet routes. After load balancing is performed on the network, the number of active routes received by the BGP4+ peer doubles, which causes the number of routes on the network to sharply increase. In this case, you can configure the local device to advertise only default routes to its BGP4+ peer and use default routes for load balancing, which can greatly reduce the number of routes on the network.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172366436__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i></span></span><p><p>The BGP view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=ipv6-family"><b><span class="cmdname">ipv6-family</span></b></a> <strong><span>unicast</span></strong></span></span><p><p>The IPv6 unicast address family view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> { <i><span class="varname">ipv4-address</span></i> | <i><span class="varname">ipv6-address</span></i> | <i><span class="varname">group-name</span></i> } <a href="cmdqueryname=default-route-advertise+route-policy+conditional-route-match-all"><b><span class="cmdname">default-route-advertise</span></b></a> [ <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i><span> | <strong><span>route-filter</span></strong> <i><span class="varname">route-filter-name</span></i></span> ] [ <strong><span>conditional-route-match-all</span></strong> { <i><span class="varname">ipv6-address1</span></i> <i><span class="varname">ipv6-mask-length1</span></i> } &amp;&lt;1-4&gt; | <strong><span>conditional-route-match-any</span></strong> { <i><span class="varname">ipv6-address2</span></i> <i><span class="varname">ipv6-mask-length2</span></i> } &amp;&lt;1-4&gt; ]</span><p><p>The device is configured to send the default route to the specified peer or peer group.</p>
</p><p><p>If <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i><span> or <strong><span>route-filter</span></strong> <i><span class="varname">route-filter-name</span></i></span> is set, the BGP device changes attributes of the default route accordingly.</p>
<ul><li>If <strong><span>conditional-route-match-all</span></strong> { <i><span class="varname">ipv6-address1</span></i> <i><span class="varname">ipv6-mask-length1</span></i> } &amp;&lt;1-4&gt; is specified, the device advertises the default route only if all the routes matching the specified conditions exist in the local IPv6 routing table.</li><li>If <strong><span>conditional-route-match-any</span></strong> { <i><span class="varname">ipv6-address2</span></i> <i><span class="varname">ipv6-mask-length2</span></i> } &amp;&lt;1-4&gt; is specified, the device advertises the default route if any route matching a specified condition exists in the local IPv6 routing table.</li></ul>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>After the <a href="cmdqueryname=peer+default-route-advertise"><b><span class="cmdname">peer default-route-advertise</span></b></a> command is run on a device, the device advertises a default route (with its local address as the next-hop address) to the specified peer, regardless of whether there is a default route in the local routing table.</p>
</div></div>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0013.html">Controlling Route Advertisement
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0014.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0016.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>