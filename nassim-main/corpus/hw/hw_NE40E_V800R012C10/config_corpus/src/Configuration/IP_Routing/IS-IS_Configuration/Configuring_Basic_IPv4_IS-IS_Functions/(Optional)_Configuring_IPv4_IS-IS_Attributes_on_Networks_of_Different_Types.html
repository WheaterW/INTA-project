
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring IPv4 IS-IS Attributes on Networks of Different Types">
<meta name="abstract" content="Different IS-IS attributes can be configured for different types of network interfaces.">
<meta name="description" content="Different IS-IS attributes can be configured for different types of network interfaces.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_1000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_1003.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_1215.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00556928,w00606909,l00455378,isis">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Route">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="z00875216">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00875216">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172365976">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring IPv4 IS-IS Attributes on Networks of Different Types</title>
</head>
<body><a name="EN-US_TASK_0172365976"></a><a name="EN-US_TASK_0172365976"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring IPv4 IS-IS Attributes on Networks of Different Types</h1>
<div class="taskbody"><p>Different IS-IS attributes can be configured for different types of network interfaces.</p>
<div class="context"><a name="EN-US_TASK_0172365976__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>The establishment mode of IS-IS neighbor relationships on a broadcast network is different from that on a P2P network. Different IS-IS attributes can be configured for interfaces on different types of networks.</p>
<p>IS-IS is required to select a DIS on a broadcast network. Configure the DIS priorities of IS-IS interfaces so that the interface with the highest priority is selected as the DIS.</p>
<p>The network types of the IS-IS interfaces on both ends of a link must be the same, otherwise, the IS-IS neighbor relationship cannot be established between the two interfaces. If the type of an interface on the neighbor is P2P, you can configure the interface type on the local device to P2P so that an IS-IS neighbor relationship can be established between the two devices.</p>
<p>IS-IS on a P2P network is not required to select a DIS. Therefore, you do not need to configure DIS priorities. To ensure the reliability of P2P links, configure IS-IS to use the three-way handshake mode for IS-IS neighbor relationship establishment so that faults on a unidirectional link can be detected.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172365976__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure the DIS priority of an IS-IS interface.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=isis+dis-priority"><b><span class="cmdname">isis dis-priority</span></b></a> <i><span class="varname">priority</span></i> [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> ]</span></span><p><p>The DIS priority is configured on the interface. The greater the value, the higher the priority.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <span><a href="cmdqueryname=isis+dis-name"><b><span class="cmdname">isis dis-name</span></b></a> <i><span class="varname">symbolic-name</span></i></span></span><p><p>A name is configured for the DIS to facilitate maintenance and management.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure the network type of an IS-IS interface.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=isis+circuit-type"><b><span class="cmdname">isis circuit-type</span></b></a> <strong><span>p2p</span></strong></span><p><p>The network type of the interface is set to P2P</p>
</p><p></p><p><div class="p">When the network type of an IS-IS interface changes, interface configurations change accordingly.<ul><li><p>After a broadcast interface is configured as a P2P interface using the <a href="cmdqueryname=isis+circuit-type"><b><span class="cmdname">isis circuit-type</span></b></a> <strong><span>p2p</span></strong> command, the default values of the interval at which Hello packets are sent, the number of Hello packets that IS-IS fails to receive from a neighbor before declaring the neighbor Down, the interval LSPs are retransmitted on a P2P link, and various IS-IS authentication modes take effect. Consequently, other configurations such as the DIS priority, DIS name, and interval at which CSNPs are sent on a broadcast network become invalid.</p>
</li><li><p>After the <a href="cmdqueryname=undo+isis+circuit-type"><b><span class="cmdname">undo isis circuit-type</span></b></a> command is run to restore the network type, the default values of the interval at which Hello packets are sent, the number of Hello packets that IS-IS fails to receive from a neighbor before declaring the neighbor Down, the interval LSPs are retransmitted on a P2P link, the IS-IS authentication mode, the DIS priority, and the interval at which CSNPs are sent on a broadcast network take effect.</p>
</li></ul>
</div>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Set the negotiation mode for the establishment of neighbor relationships over P2P links.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=isis+ppp-negotiation"><b><span class="cmdname">isis ppp-negotiation</span></b></a> { <strong><span>2-way</span></strong> | <strong><span>3-way</span></strong> [ <strong><span>only</span></strong> ]}</span><p><p>A negotiation mode is specified for the interface.</p>
</p><p><p>This command applies only to neighbor relationship establishment over P2P links. In the case of a broadcast link, you can run the <a href="cmdqueryname=isis+circuit-type"><b><span class="cmdname">isis circuit-type</span></b></a> <strong><span>p2p</span></strong> command to set the link type to P2P, and then set a negotiation mode for neighbor relationship establishment.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure OSICP negotiation check on PPP interfaces.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=isis+ppp-osicp-check"><b><span class="cmdname">isis ppp-osicp-check</span></b></a></span></span><p><p>The OSICP negotiation status is checked on a PPP interface.</p>
</p><p><p>This command is applicable only to PPP interfaces. For P2P interfaces, this command is invalid.</p>
<p>After this command is run, OSI network negotiation status of PPP affects IS-IS interface status. When PPP detects that the OSI network fails, the link status of the IS-IS interface goes down and the route to the network segment where the interface resides is not advertised through LSPs.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure the scale of the Hello packets sent on the IS-IS interface.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Configure the size of the Hello packets to be sent by the IS-IS interface. Perform either of the following configurations as required:</span><p><ul><li>To configure the interface to send Hello packets without the padding field, run the <a href="cmdqueryname=isis+small-hello"><b><span class="cmdname">isis small-hello</span></b></a> command.</li><li>To configure the interface to send standard Hello packets with the padding field, run the <a href="cmdqueryname=isis+padding-hello"><b><span class="cmdname">isis padding-hello</span></b></a> command.</li></ul>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure IS-IS not to check the IP addresses of received Hello packets.</span><ol><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span><p><p>The interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=isis+peer-ip-ignore"><b><span class="cmdname">isis peer-ip-ignore</span></b></a></span><p><p>IS-IS is configured not to check the IP addresses of received Hello packets.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_1000.html">Configuring Basic IPv4 IS-IS Functions
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_1003.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_1215.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>