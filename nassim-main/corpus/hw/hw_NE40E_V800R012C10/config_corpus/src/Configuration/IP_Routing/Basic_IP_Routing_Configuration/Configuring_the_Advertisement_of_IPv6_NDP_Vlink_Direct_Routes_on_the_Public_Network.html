
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring the Advertisement of IPv6 NDP Vlink Direct Routes on the Public Network">
<meta name="abstract" content="On an IPv6 public network, advertising IPv6 neighbor discover protocol (NDP) Vlink direct routes allows precise control of data traffic.">
<meta name="description" content="On an IPv6 public network, advertising IPv6 neighbor discover protocol (NDP) Vlink direct routes allows precise control of data traffic.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ip-route_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ip-route_cfg_0055.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ip-route_cfg_0067.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00556928,ip-routevrp,s00526617,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IP Routing Basis">
<meta name="featuretype" content="IP Route">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IP Routing Basis">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="IP Routing Basis">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="z00809835">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="s00826690">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172365361">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring the Advertisement of IPv6 NDP Vlink Direct Routes on the Public Network</title>
</head>
<body><a name="EN-US_TASK_0172365361"></a><a name="EN-US_TASK_0172365361"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring the Advertisement of IPv6 NDP Vlink Direct Routes on the Public Network</h1>
<div class="taskbody"><p>On an IPv6 public network, advertising IPv6 neighbor discover protocol (NDP) Vlink direct routes allows precise control of data traffic.</p>
<div class="context"><a name="EN-US_TASK_0172365361__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Applicable Environment</h4><p>IP packets are forwarded through a specified physical interface, but cannot be forwarded through a logical interface. If packets reach a logical interface, the device obtains information about the layer-3 interfaces using IPv6 NDP and generates relevant routing entries. The routes recorded by the routing entries are called IPv6 NDP Vlink direct routes.</p>
<p>As shown in <a href="#EN-US_TASK_0172365361__fig_dc_vrp_ip-route_cfg_005601">Figure 1</a>, <span class="keyword">Device</span> D uses logical interfaces to connect to <span class="keyword">Device</span>s A, B, and C at three sites. <span class="keyword">Device</span> E only needs to communicate with <span class="keyword">Device</span> B, but not with <span class="keyword">Device</span> A and <span class="keyword">Device</span> C. You can configure <span class="keyword">Device</span> D to advertise IPv6 NDP Vlink direct routes and configure a route-policy on <span class="keyword">Device</span> D to filter out routes to the network segment of the VLAN for which the logical interfaces are configured and filter out routes to <span class="keyword">Device</span> A and <span class="keyword">Device</span> C.</p>
<div class="fignone" id="EN-US_TASK_0172365361__fig_dc_vrp_ip-route_cfg_005601"><a name="EN-US_TASK_0172365361__fig_dc_vrp_ip-route_cfg_005601"></a><a name="fig_dc_vrp_ip-route_cfg_005601"></a><span class="figcap"><b>Figure 1 </b>Networking diagram of advertising IPv6 NDP Vlink direct routes on the public network</span><br><span><img class="vsd" src="images/fig_dc_vrp_ip-route_cfg_005601.png" width="NaN" height="NaN"></span><br></div>
<p>Before IPv6 NDP Vlink direct routes are advertised, a route-policy can be used to filter the advertised routes and only routes that pass the filtering can be advertised. In this manner, data traffic can be precisely controlled.</p>
<p>Perform the following steps on the <span class="keyword">Router</span> on which IPv6 NDP Vlink direct routes need to be advertised.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172365361__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before advertising IPv6 NDP Vlink direct routes on the public network, complete the following task:</p>
<ul><li><p>Configuring parameters of a link layer protocol and assigning an IP address to each interface to ensure that the link layer protocol on the interfaces is Up</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172365361__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=ipv6+nd+vlink-direct-route+advertise"><b><span class="cmdname">ipv6 nd vlink-direct-route advertise</span></b></a> [ <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i><span> | <strong><span>route-filter</span></strong> <i><span class="varname">route-filter-name</span></i></span> ]</span></span><p><p>Advertising IPv6 NDP Vlink direct routes is enabled.</p>
</p><p><div class="p">You can specify <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i><span> or <strong><span>route-filter</span></strong> <i><span class="varname">route-filter-name</span></i></span> to filter routes.<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>At present, <strong>apply</strong> clauses cannot be used to set routing attributes for the NDP Vlink direct routes that match the filtering rules. </p>
</div></div>
</div>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p><p><div class="p">After advertising IPv6 NDP Vlink direct routes is enabled, IPv6 NDP Vlink direct routes can be advertised only if they are imported to dynamic routing protocols. Perform the following steps on the <span class="keyword">Router</span> based on the type of the dynamic routing protocol:<ul><li>If RIPng is used, run the <a href="cmdqueryname=import-route"><b><span class="cmdname">import-route</span></b></a> <strong><span>direct</span></strong> [ <strong><span>cost</span></strong> <i><span class="varname">cost</span></i> | <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> ] <sup>*</sup> command to import IPv6 NDP Vlink direct routes to RIPng.</li><li>If OSPFv3 is used, run the <a href="cmdqueryname=import-route"><b><span class="cmdname">import-route</span></b></a> <strong><span>direct</span></strong> [ <strong><span>cost</span></strong> <i><span class="varname">cost</span></i> | <strong><span>inherit-cost</span></strong> | <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> | <strong><span>tag</span></strong> <i><span class="varname">tag</span></i> | <strong><span>type</span></strong> <i><span class="varname">type</span></i> ] <sup>*</sup> command to import IPv6 NDP Vlink direct routes to OSPFv3.</li><li>If IS-IS is used, run the <a href="cmdqueryname=import-route"><b><span class="cmdname">import-route</span></b></a> <strong><span>direct</span></strong> [ <strong><span>cost-type</span></strong> { <strong><span>external</span></strong> | <strong><span>internal</span></strong> } | <strong><span>cost</span></strong> <i><span class="varname">cost</span></i> | <strong><span>tag</span></strong> <i><span class="varname">tag</span></i> | <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> | [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> | <strong><span>level-1-2</span></strong> ] ] <sup>*</sup> command to import IPv6 NDP Vlink direct routes to IS-IS.</li><li>If BGP4+ is used, run the <a href="cmdqueryname=import-route"><b><span class="cmdname">import-route</span></b></a> <strong><span>direct</span></strong> [ <strong><span>med</span></strong> <i><span class="varname">med</span></i> | <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> ] <sup>*</sup> command to import IPv6 NDP Vlink direct routes to BGP4+.</li></ul>
</div>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0172365361__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+ipv6+routing-table"><b><span class="cmdname">display ipv6 routing-table</span></b></a> [ <strong><span>verbose</span></strong> ] command to check information about advertised IPv6 NDP Vlink direct routes on the public network.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ip-route_cfg_0000.html">Basic IP Routing Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ip-route_cfg_0055.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ip-route_cfg_0067.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>