
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Dynamic BFD for IPv6 Static Routes">
<meta name="abstract" content="Dynamic BFD for IPv6 static routes enables devices to fast detect link changes, improving network reliability.">
<meta name="description" content="Dynamic BFD for IPv6 static routes enables devices to fast detect link changes, improving network reliability.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_static-route_disjoin_cfg_0051.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_static-route_disjoin_cfg_0028.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,static-routevrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Static Route">
<meta name="featuretype" content="IP Route">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Static Route">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="Static Route">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="Static Route">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="z00809835">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="s00826690">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172365485">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Dynamic BFD for IPv6 Static Routes</title>
</head>
<body><a name="EN-US_TASK_0172365485"></a><a name="EN-US_TASK_0172365485"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Dynamic BFD for IPv6 Static Routes</h1>
<div class="taskbody"><p>Dynamic BFD for IPv6 static routes enables devices to fast detect link changes, improving network reliability.</p>
<div class="context"><a name="EN-US_TASK_0172365485__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>To use BFD sessions to provide link detection for IPv6 static routes on the public network, you can bind static routes to BFD sessions. One IPv6 static route can be bound to one BFD session.</p>
<p>Optimal IPv6 static routes are delivered to the forwarding table for packet forwarding. However, IPv6 static routes cannot detect the status of the link to the next hop. You can bind IPv6 static routes to BFD sessions. A BFD session can fast detect changes over a link and inform the routing management system of the changes. The routing management system immediately deletes the IPv6 static route that is bound to the BFD session from the forwarding table and recalculates another active route. In this manner, fast route convergence is implemented.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172365485__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring dynamic BFD for IPv6 static routes, configure parameters of the link layer protocol and IPv6 addresses for interfaces and ensure that the link layer protocol on the interfaces is up.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172365485__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=bfd"><b><span class="cmdname">bfd</span></b></a></span><p><p>BFD is enabled globally on the local device.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Running the <a href="cmdqueryname=undo+bfd"><b><span class="cmdname">undo bfd</span></b></a> command will delete the parameters of the BFD session bound to the static route. As a result, the static route status may change, and services may be interrupted.</p>
</div></div>
</p></li><li><span>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span></span><p><p>Return to the system view.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=ipv6+route-static+default-bfd"><b><span class="cmdname">ipv6 route-static default-bfd</span></b></a> { <strong><span>detect-multiplier</span></strong> <i><span class="varname">multiplier</span></i> | <strong><span>min-rx-interval</span></strong> <i><span class="varname">min-rx-interval</span></i> | <strong><span>min-tx-interval</span></strong> <i><span class="varname">min-tx-interval</span></i> }<sup>*</sup></span><p><p>Global BFD parameters are configured for IPv6 static routes.</p>
</p></li><li><span>Run <a href="cmdqueryname=ipv6+route-static+bfd"><b><span class="cmdname">ipv6 route-static bfd</span></b></a> [ <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-destination-name</span></i> ] <i><span class="varname">nexthop-address</span></i> [ <strong><span>local-address</span></strong> <i><span class="varname">ipv6-address</span></i> ] [ <strong><span>detect-multiplier</span></strong> <i><span class="varname">multiplier</span></i> ] [ <strong><span>min-rx-interval</span></strong> <i><span class="varname">min-rx-interval</span></i> ] [ <strong><span>min-tx-interval</span></strong> <i><span class="varname">min-tx-interval</span></i> ]<sup> *</sup></span><p><p>BFD parameters are set for a single IPv6 static route.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If the <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> parameter is not set, the <strong><span>local-address</span></strong> <i><span class="varname">ipv6-address</span></i> parameter must be specified.</p>
<p>If none of <strong><span>min-rx-interval</span></strong>, <strong><span>min-tx-interval</span></strong>, or <strong><span>detect-multiplier</span></strong> is specified, the default values of the global BFD parameters are used.</p>
</div></div>
</p></li><li><span>Run either of the following commands as required:</span><p><ul><li><p>Run <span><a href="cmdqueryname=ipv6+route-static"><b><span class="cmdname">ipv6 route-static</span></b></a> <i><span class="varname">dest-ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> [ <i><span class="varname">nexthop-ipv6-address</span></i> ] | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-destination-name</span></i> [ <i><span class="varname">nexthop-ipv6-address</span></i> ] | <i><span class="varname">nexthop-ipv6-address</span></i> } [ <strong><span>preference</span></strong> <i><span class="varname">preference</span></i> | <strong><span>tag</span></strong> <i><span class="varname">tag</span></i> ]<sup>*</sup> <strong><span>bfd enable</span></strong> [ <strong><span>description</span></strong> <i><span class="varname">text</span></i> ]</span></p>
<p>A BFD session is bound to an IPv6 static route on the public network.</p>
</li><li><p>Run <a href="cmdqueryname=ipv6+route-static+vpn-instance"><b><span class="cmdname">ipv6 route-static vpn-instance</span></b></a> <i><span class="varname">vpn-source-name</span></i> <i><span class="varname">dest-ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> [ <i><span class="varname">nexthop-ipv6-address</span></i> ] | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-destination-name</span></i> [ <i><span class="varname">nexthop-ipv6-address</span></i> ] | <i><span class="varname">nexthop-ipv6-address</span></i> [ <strong><span>public</span></strong> ] } [ <strong><span>preference</span></strong> <i><span class="varname">preference</span></i> | <strong><span>tag</span></strong> <i><span class="varname">tag</span></i> ]<sup>*</sup> <strong><span>bfd enable</span></strong> [ <strong><span>description</span></strong> <i><span class="varname">text</span></i> ]</p>
<p>A BFD session is bound to an IPv6 static route on the VPN network.</p>
</li></ul>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The outbound interface and next hop IP address specified when binding the IPv6 static route to a BFD session must be the same as those specified when configuring BFD parameters for the IPv6 static route.</p>
</div></div>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0172365485__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the following commands to check the previous configuration.</p>
<ul><li><p>Run the <a href="cmdqueryname=display+bfd+session"><b><span class="cmdname">display bfd session</span></b></a> { <strong><span>all</span></strong> | <strong><span>discriminator</span></strong> <i><span class="varname">discr-value</span></i> } [ <strong><span>verbose</span></strong> ] command to check information about BFD sessions.</p>
</li><li><p>Run the <a href="cmdqueryname=display+current-configuration"><b><span class="cmdname">display current-configuration</span></b></a> | <strong><span>include</span></strong> <strong><span>bfd</span></strong> command to check configurations of BFD for IPv6 static routes.</p>
<p>Information about a BFD session can be viewed only after parameters of the BFD session are set and the BFD session is established.</p>
<p>If a BFD session has been established, the status of the BFD session is Up. Run the <a href="cmdqueryname=display+current-configuration"><b><span class="cmdname">display current-configuration</span></b></a> | <strong><span>include</span></strong> <strong><span>bfd</span></strong> command in the system view, and you can see that the BFD session has been bound to a static route.</p>
</li></ul>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_static-route_disjoin_cfg_0051.html">Configuring IPv6 Static Route Detection
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_static-route_disjoin_cfg_0028.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>