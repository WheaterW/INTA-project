
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Enabling Slow Peer Detection">
<meta name="abstract" content="After slow peer detection is configured on a device, the device identifies the slow BGP peer (if any) and removes it from the update peer-group to prevent this slow peer from affecting route advertisement to other peers in this update peer-group. Slow peer detection speeds up BGP network convergence.">
<meta name="description" content="After slow peer detection is configured on a device, the device identifies the slow BGP peer (if any) and removes it from the update peer-group to prevent this slow peer from affecting route advertisement to other peers in this update peer-group. Slow peer detection speeds up BGP network convergence.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3046.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3089.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3050.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Route">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00615954">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172366226">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Enabling Slow Peer Detection</title>
</head>
<body><a name="EN-US_TASK_0172366226"></a><a name="EN-US_TASK_0172366226"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Enabling Slow Peer Detection</h1>
<div class="taskbody"><p>After slow peer detection is configured on a device, the device identifies the slow BGP peer (if any) and removes it from the update peer-group to prevent this slow peer from affecting route advertisement to other peers in this update peer-group. Slow peer detection speeds up BGP network convergence.</p>
<div class="context"><a name="EN-US_TASK_0172366226__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>An update peer-group may consist of multiple peers. If a network problem (congestion for example) occurs and slows down the speed at which the local device advertises routes to a peer in the update peer-group, the speed at which the local device advertises routes to other peers in the update peer-group is affected. Slow peer detection is enabled by default so that route advertisement to other peers in the update peer-group is not affected.</p>
<p>After slow peer detection is enabled, the local device calculates the difference between the time taken to send messages to each peer in the update peer-group and the shortest time taken to send messages to each peer in the group. If the difference between the time taken to send messages to a peer and the shortest time is greater than the threshold specified for slow peer detection, the local device considers this peer as a slow peer and removes it from the update peer-group, which prevents this slow peer from affecting route advertisement to other peers in the group.</p>
<p>If BGP Update messages fail to be advertised, slow peers cannot be detected using the original slow peer detection mode. To address this problem, configure the absolute mode for slow peer detection. If the delay in sending messages to a peer is greater than the absolute time threshold, the peer is considered a slow peer.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172366226__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i></span><p><p>The BGP view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=slow-peer+detection+threshold"><b><span class="cmdname">slow-peer detection</span></b></a> <strong><span>threshold</span></strong> <i><span class="varname">threshold-value</span></i></span><p><p>A threshold is configured for slow peer detection.</p>
<p><strong><span>threshold</span></strong> <i><span class="varname">threshold-value</span></i> specifies a slow peer detection threshold. If the difference between the time taken to send messages to a peer in an update peer-group and the shortest time taken to send messages to each peer in the group is greater than the <i><span class="varname">threshold-value</span></i>, the local device considers this peer as a slow peer and removes it from the update peer-group. </p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=slow-peer+absolute-detection+threshold"><b><span class="cmdname">slow-peer absolute-detection</span></b></a> <strong><span>threshold</span></strong> <i><span class="varname">absolute-threshold-value</span></i></span><p><p>Slow peer detection in absolute time mode is enabled.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3046.html">Adjusting the BGP Network Convergence Speed
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3089.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3050.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>