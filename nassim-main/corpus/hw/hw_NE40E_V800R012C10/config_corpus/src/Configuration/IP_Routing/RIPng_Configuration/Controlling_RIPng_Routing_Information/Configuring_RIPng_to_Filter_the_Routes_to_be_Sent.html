
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring RIPng to Filter the Routes to be Sent">
<meta name="abstract" content="You can configure RIPng to filter the routes to be sent.">
<meta name="description" content="You can configure RIPng to filter the routes to be sent.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ripng_cfg_0018.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ripng_cfg_0039.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ripng_cfg_0020.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00556928,w00606909,ripng,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="RIPng">
<meta name="featuretype" content="IP Route">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="RIPng">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="RIPng">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="RIPng">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="z00875216">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00875216">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172365918">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring RIPng to Filter the Routes to be Sent</title>
</head>
<body><a name="EN-US_TASK_0172365918"></a><a name="EN-US_TASK_0172365918"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring RIPng to Filter the Routes to be Sent</h1>
<div class="taskbody"><p>You can configure RIPng to filter the routes to be sent.</p>
<div class="steps"><a name="EN-US_TASK_0172365918__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=ripng"><b><span class="cmdname">ripng</span></b></a> [ <i><span class="varname">process-id</span></i> ]</span></span><p><p>The RIPng view is displayed.</p>
</p></li><li><span>Run the following commands as required to filter the routes to be sent based on different policies.</span><p><ul><li><p>To configure ACL-based filtering, run the <a href="cmdqueryname=filter-policy"><b><span class="cmdname">filter-policy</span></b></a> { <i><span class="varname">acl6-number</span></i> | <strong><span>acl6-name</span></strong> <i><span class="varname">acl6-name</span></i> } <strong><span>export</span></strong> [ <i><span class="varname">protocol</span></i> [ <i><span class="varname">process-id</span></i> ] ] command.</p>
<ol type="a"><li>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a><p>Return to the system view.</p>
</li><li>Run <span><a href="cmdqueryname=acl+ipv6"><b><span class="cmdname">acl ipv6</span></b></a> { <strong><span>name</span></strong> <i><span class="varname">basic-acl6-name</span></i> <strong><span>basic</span></strong> | [ <strong><span>number</span></strong> ] <i><span class="varname">basic-acl6-number</span></i> } [ <strong><span>match-order</span></strong> { <strong><span>config</span></strong> | <strong><span>auto</span></strong> } ]</span><p>The ACL view is displayed.</p>
</li><li>Run <span><a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a> [ <i><span class="varname">rule-id</span></i> ] [ <strong><span>name</span></strong> <i><span class="varname">rule-name</span></i> ] { <strong><span>deny</span></strong> | <strong><span>permit</span></strong> } [ <strong><span>fragment</span></strong> | <strong><span>source</span></strong> { <i><span class="varname">source-ipv6-address</span></i> <span>{ </span><i><span class="varname">prefix-length</span></i><span> | <i><span class="varname">source-wildcard</span></i> }</span> | <i><span class="varname">source-ipv6-address</span></i>/<i><span class="varname">prefix-length</span></i> | <strong><span>any</span></strong> } | <strong><span>time-range</span></strong> <i><span class="varname">time-name</span></i> | <span>[ </span><strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i><span> | <strong><span>vpn-instance-any</span></strong> ]</span> ] <sup>*</sup></span> A rule is configured for the ACL.<p>When the <a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a> command is used to configure a filtering rule for a named ACL, only the configurations specified by <strong><span>source</span></strong> and <strong><span>time-range</span></strong> take effect.</p>
<div class="p">When a filtering policy of a routing protocol is used to filter routes:<ul id="EN-US_TASK_0172365918__en-us_task_0172336153_ul135725010214207"><li id="EN-US_TASK_0172365918__en-us_task_0172336153_li1312346841214207"><p id="EN-US_TASK_0172365918__en-us_task_0172336153_p1956301997214207"><a name="EN-US_TASK_0172365918__en-us_task_0172336153_li1312346841214207"></a><a name="en-us_task_0172336153_li1312346841214207"></a>If the action specified in an ACL rule is <strong id="EN-US_TASK_0172365918__en-us_task_0172336153_b1343120114214207">permit</strong>, a route that matches the rule will be received or advertised by the system.</p>
</li><li id="EN-US_TASK_0172365918__en-us_task_0172336153_li1392638396214207"><p id="EN-US_TASK_0172365918__en-us_task_0172336153_p649252919214207"><a name="EN-US_TASK_0172365918__en-us_task_0172336153_li1392638396214207"></a><a name="en-us_task_0172336153_li1392638396214207"></a>If the action specified in an ACL rule is <strong id="EN-US_TASK_0172365918__en-us_task_0172336153_b1955829907214207">deny</strong>, a route that matches the rule will not be received or advertised by the system.</p>
</li><li id="EN-US_TASK_0172365918__en-us_task_0172336153_li1858384138214207"><p id="EN-US_TASK_0172365918__en-us_task_0172336153_p860045398214207"><a name="EN-US_TASK_0172365918__en-us_task_0172336153_li1858384138214207"></a><a name="en-us_task_0172336153_li1858384138214207"></a>If a route has not matched any ACL rules, the route will not be received or advertised by the system.</p>
</li><li id="EN-US_TASK_0172365918__en-us_task_0172336153_li124866694214207"><p id="EN-US_TASK_0172365918__en-us_task_0172336153_p543002939214207"><a name="EN-US_TASK_0172365918__en-us_task_0172336153_li124866694214207"></a><a name="en-us_task_0172336153_li124866694214207"></a>If an ACL does not contain any rules, all routes matching the <strong id="EN-US_TASK_0172365918__en-us_task_0172336153_b1183904776214207">route-policy</strong> that references the ACL will not be received or advertised by the system.</p>
</li><li id="EN-US_TASK_0172365918__en-us_task_0172336153_li1497229201214207"><p id="EN-US_TASK_0172365918__en-us_task_0172336153_p1865289308214207"><a name="EN-US_TASK_0172365918__en-us_task_0172336153_li1497229201214207"></a><a name="en-us_task_0172336153_li1497229201214207"></a>In the configuration order, the system first matches a route with a rule that has a smaller number and then matches the route with a rule with a larger number. Routes can be filtered using a blacklist or a whitelist:</p>
<p id="EN-US_TASK_0172365918__en-us_task_0172336153_p1198919868214207">Route filtering using a blacklist: Configure a rule with a smaller number and specify the action <strong id="EN-US_TASK_0172365918__en-us_task_0172336153_b1283372383214207">deny</strong> in this rule to filter out the unwanted routes. Then, configure another rule with a larger number in the same ACL and specify the action <strong id="EN-US_TASK_0172365918__en-us_task_0172336153_b1653264950214207">permit</strong> in this rule to receive or advertise the other routes.</p>
<p id="EN-US_TASK_0172365918__en-us_task_0172336153_p469236985214207">Route filtering using a whitelist: Configure a rule with a smaller number and specify the action <strong id="EN-US_TASK_0172365918__en-us_task_0172336153_b261709700214207">permit</strong> in this rule to permit the routes to be received or advertised by the system. Then, configure another rule with a larger number in the same ACL and specify the action <strong id="EN-US_TASK_0172365918__en-us_task_0172336153_b924805964214207">deny</strong> in this rule to filter out unwanted routes.</p>
</li></ul>
</div>
</li></ol>
</li><li><p>To configure IP prefix list-based filtering, run the <a href="cmdqueryname=filter-policy"><b><span class="cmdname">filter-policy</span></b></a> <strong><span>ipv6-prefix</span></strong> <i><span class="varname">ipv6-prefix-name</span></i> <strong><span>export</span></strong> [ <i><span class="varname">protocol</span></i> [ <i><span class="varname">process-id</span></i> ] ] command.</p>
</li><li><p>To configure a route-policy-based filtering, run the <a href="cmdqueryname=filter-policy"><b><span class="cmdname">filter-policy</span></b></a> <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> <strong><span>export</span></strong> [ <i><span class="varname">protocol</span></i> [ <i><span class="varname">process-id</span></i> ] ] command.</p>
</li></ul>
<p>RIPng can filter the routes to be sent based on<span> an ACL6,</span> route-policy, or an IPv6 prefix list. Only the routes that meet the match conditions are advertised to neighbors. If no protocol is specified in the command, all the routing information to be advertised will be filtered, including the imported routes and local RIPng routes (similar to direct routes).</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is submitted.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ripng_cfg_0018.html">Controlling RIPng Routing Information
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ripng_cfg_0039.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ripng_cfg_0020.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>