
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring IS-IS to Generate IPv6 Default Routes">
<meta name="abstract" content="This section describes how to configure IS-IS to generate IPv6 default routes to control the advertising of IS-IS routing information.">
<meta name="description" content="This section describes how to configure IS-IS to generate IPv6 default routes to control the advertising of IS-IS routing information.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_1029.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_1033.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_1054.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00556928,w00606909,l00455378,isis">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Route">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="z00875216">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00875216">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172366031">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring IS-IS to Generate IPv6 Default Routes</title>
</head>
<body><a name="EN-US_TASK_0172366031"></a><a name="EN-US_TASK_0172366031"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring IS-IS to Generate IPv6 Default Routes</h1>
<div class="taskbody"><p>This section describes how to configure IS-IS to generate IPv6 default routes to control the advertising of IS-IS routing information.</p>
<div class="context"><a name="EN-US_TASK_0172366031__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>The IPv6 default route is the route ::/0. If the destination address of a packet does not match any entry in the routing table of a device, the device sends the packet along the default route. If neither the default route nor the destination address of the packet exists in the routing table, the device discards the packet and informs the source end that the destination address or network is unreachable.</p>
<div class="p">IS-IS can generate default routes using either of the following mode:<ul><li><p><a href="#EN-US_TASK_0172366031__dc_vrp_isis_cfg_103401">Command-triggered default route generation</a></p>
<p>After the device is configured to advertise the default route, the device adds the default route to an LSP before sending the LSP to a neighbor. In this way, the neighbor can learn this default route.</p>
</li><li><p><a href="#EN-US_TASK_0172366031__dc_vrp_isis_cfg_103402">ATT bit setting-triggered default route generation</a></p>
<p>As defined in IS-IS, a Level-1-2 router sets the ATT bit in the Level-1 LSPs to be advertised if the Level-1-2 router can reach more Level-1 areas through the Level-2 area than through the Level-1 area. After a Level-1 router receives the LSP with the ATT bit set, it generates a default route destined for the Level-1-2 router that sent this LSP. Based on network requirements, you can configure whether the ATT bit is set and whether a Level-1 router generates a default route after it receives an LSP in which the ATT bit is set.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This mode applies only to Level-1 routers.</p>
</div></div>
</li></ul>
</div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172366031__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li id="EN-US_TASK_0172366031__dc_vrp_isis_cfg_103401"><span id="EN-US_TASK_0172366031__">Configure command-triggered default route generation mode.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=isis"><b><span class="cmdname">isis</span></b></a> [ <i><span class="varname">process-id</span></i> ]</span></span><p><p>The IS-IS view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=ipv6+default-route-advertise"><b><span class="cmdname">ipv6 default-route-advertise</span></b></a> [ <strong><span>always</span></strong> | <strong><span>match</span></strong> <strong><span>default</span></strong> | <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i><span> | <strong><span>route-filter</span></strong> <i><span class="varname">route-filter-name</span></i></span> ] [ [ <strong><span>cost</span></strong> <i><span class="varname">cost</span></i> ] | [ <strong><span>tag</span></strong> <i><span class="varname">tag</span></i> ] | [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> | <strong><span>level-1-2</span></strong> ] ] <sup>*</sup> [ <strong><span>avoid-learning</span></strong> | <strong><span>learning-avoid-loop</span></strong> ]</span><p><p>IS-IS is configured to generate default IPv6 routes.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0172366031__dc_vrp_isis_cfg_103402"><span id="EN-US_TASK_0172366031__">Configure ATT bit setting-triggered default route generation mode.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=isis"><b><span class="cmdname">isis</span></b></a> [ <i><span class="varname">process-id</span></i> ]</span></span><p><p>The IS-IS view is displayed.</p>
</p></li><li class="substepexpand"><span>Perform the following steps as required:</span><p><ul><li><p>To set the ATT bit in the LSPs sent by the Level-1-2 router, run the <a href="cmdqueryname=attached-bit+advertise"><b><span class="cmdname">attached-bit advertise</span></b></a> { <strong><span>always</span></strong> | <strong><span>never</span></strong> } command.</p>
<ul><li>If the <strong><span>always</span></strong> parameter is specified, the ATT bit is always set. After receiving the LSPs in which the ATT bit is set, the Level-1 router generates a default route.</li><li>If the <strong><span>never</span></strong> parameter is specified, the ATT bit is never set. After receiving the LSPs carrying the ATT bit that is not set, each Level-1 router does not generate a default route, which reduces the size of its routing table.</li></ul>
</li><li>To disable the Level-1 router from generating default routes even though it receives the Level-1 LSPs in which the ATT bit is set, run the <a href="cmdqueryname=attached-bit+avoid-learning"><b><span class="cmdname">attached-bit avoid-learning</span></b></a> command.</li></ul>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_1029.html">Configuring IPv6 IS-IS Route Selection
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_1033.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_1054.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>