
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Starting a BGP Process">
<meta name="abstract" content="A BGP process must be started before configuring BGP functions. When starting a BGP process, specify the number of the AS to which the device belongs.">
<meta name="description" content="A BGP process must be started before configuring BGP functions. When starting a BGP process, specify the number of the AS to which the device belongs.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0003.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0005.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,bgpvrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP IPv6">
<meta name="featuretype" content="IP Route">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP IPv6">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="BGP IPv6">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="w00604599">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00615954">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172366425">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Starting a BGP Process</title>
</head>
<body><a name="EN-US_TASK_0172366425"></a><a name="EN-US_TASK_0172366425"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Starting a BGP Process</h1>
<div class="taskbody"><p>A BGP process must be started before configuring BGP functions. When starting a BGP process, specify the number of the AS to which the device belongs.</p>
<div class="context"><a name="EN-US_TASK_0172366425__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Changing BGP router IDs will cause the reestablishment of the BGP connection between <span class="keyword">Router</span>s.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172366425__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=route+loop-detect+bgp+enable"><b><span class="cmdname">route loop-detect bgp enable</span></b></a></span><p><p>BGP routing loop detection is enabled.</p>
</p><p><p>After this function is enabled, the device reports an alarm when detecting a BGP4+ routing loop. Because the device cannot determine whether the routing loop is removed, the alarm will not be cleared automatically even if the routing loop is removed. To manually clear the BGP routing loop alarm, run the <a href="cmdqueryname=clear+route+loop-detect+bgp+alarm"><b><span class="cmdname">clear route loop-detect bgp alarm</span></b></a> command.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i></span></span><p><p>BGP is enabled (the local AS number is specified), and the BGP view is displayed.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=router-id"><b><span class="cmdname">router-id</span></b></a> <i><span class="varname">ipv4-address</span></i></span><p><p>A BGP router ID is configured.</p>
</p><p><p>If two devices have different router IDs, an IBGP or EBGP connection can be established between them. If the router IDs are the same and the <a href="cmdqueryname=router-id+allow-same+enable"><b><span class="cmdname">router-id allow-same enable</span></b></a> command is run, an EBGP connection can be established.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If the router ID of the <span class="keyword">Router</span> is the IP address of a physical interface, a change in the IP address will cause route flapping on the network. To enhance network stability, configuring the IP address of a loopback interface as the router ID is recommended.</p>
<p>If no interface on a device is configured with an IPv4 address, you need to configure a router ID for the device.</p>
</div></div>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=shutdown"><b><span class="cmdname">shutdown</span></b></a></span></span><p><p>All sessions between the device and its BGP4+ peers are terminated.</p>
<p>During the system upgrade or maintenance, you can run this command to terminate all sessions between a device and its BGP4+ peers to prevent possible BGP4+ route flapping from affecting the network.</p>
<div class="notice"><span class="noticetitle"><img src="../../../../public_sys-resources/notice_3.0-en-us.png"> </span><div class="noticebody"><p>After the upgrade or maintenance, run the <a href="cmdqueryname=undo+shutdown"><b><span class="cmdname">undo shutdown</span></b></a> command to restore the BGP4+ peer sessions; otherwise, BGP4+ functions will be affected.</p>
</div></div>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0003.html">Configuring Basic BGP4+ Functions
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0005.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>