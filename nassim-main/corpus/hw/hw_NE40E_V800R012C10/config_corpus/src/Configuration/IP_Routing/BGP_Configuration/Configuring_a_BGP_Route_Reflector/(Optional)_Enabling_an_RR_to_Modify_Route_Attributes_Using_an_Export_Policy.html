
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Enabling an RR to Modify Route Attributes Using an Export Policy">
<meta name="abstract" content="You can enable an RR to modify route attributes using an export policy to control BGP route selection.">
<meta name="description" content="You can enable an RR to modify route attributes using an export policy to control BGP route selection.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3034.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3038.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3039.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Route">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00615954">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172366206">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Enabling an RR to Modify Route Attributes Using an Export Policy</title>
</head>
<body><a name="EN-US_TASK_0172366206"></a><a name="EN-US_TASK_0172366206"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Enabling an RR to Modify Route Attributes Using an Export Policy</h1>
<div class="taskbody"><p>You can enable an RR to modify route attributes using an export policy to control BGP route selection.</p>
<div class="context"><a name="EN-US_TASK_0172366206__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Route attributes cannot be modified using an export policy on an RR because it would cause routing loops. By default, an RR is disabled from modifying route attributes based on an export policy. However, if you need to re-plan the network traffic, you can enable the RR to modify route attributes based on an export policy.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172366206__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i></span></span><p><p>The BGP view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=ipv4-family+unicast"><b><span class="cmdname">ipv4-family</span></b></a> <strong><span>unicast</span></strong></span></span><p><p>The IPv4 unicast address family view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=reflect+change-path-attribute"><b><span class="cmdname">reflect change-path-attribute</span></b></a></span><p><p>The RR is configured to modify path attributes of BGP routes based on an export policy.</p>
</p><p><div class="p">After the <a href="cmdqueryname=reflect+change-path-attribute"><b><span class="cmdname">reflect change-path-attribute</span></b></a> command is run on an RR, the configuration of modifying path attributes of routes based on an export policy takes effect. The configurations are as follows:<ul><li><a href="cmdqueryname=apply+as-path"><b><span class="cmdname">apply as-path</span></b></a>: modifies the AS_Path attribute of BGP routes.</li><li><a href="cmdqueryname=apply+comm-filter+delete"><b><span class="cmdname">apply comm-filter delete</span></b></a>: deletes community attributes from BGP routes.</li><li><a href="cmdqueryname=apply+community"><b><span class="cmdname">apply community</span></b></a>: modifies the community attribute of BGP routes.</li><li><a href="cmdqueryname=apply+large-community"><b><span class="cmdname">apply large-community</span></b></a>: modifies the Large-Community attribute of BGP routes.</li><li><a href="cmdqueryname=apply+cost"><b><span class="cmdname">apply cost</span></b></a>: modifies the MED value of BGP routes.</li><li><a href="cmdqueryname=apply+ip-address+next-hop"><b><span class="cmdname">apply ip-address next-hop</span></b></a>: modifies the next-hop IP address of BGP routes.</li><li><a href="cmdqueryname=apply+local-preference"><b><span class="cmdname">apply local-preference</span></b></a>: modifies the Local_Pref value of BGP routes.</li><li><a href="cmdqueryname=apply+origin"><b><span class="cmdname">apply origin</span></b></a>: modifies the Origin attribute of BGP routes.</li><li><a href="cmdqueryname=apply+extcommunity"><b><span class="cmdname">apply extcommunity</span></b></a>: modifies the VPN target extended community attribute of BGP routes.</li><li><p><a href="cmdqueryname=apply+extcommunity+soo+additive"><b><span class="cmdname">apply extcommunity soo</span></b></a> { <i><span class="varname">site-of-origin</span></i> } &amp;&lt;1-16&gt; <strong><span>additive</span></strong>: modifies the SoO extended community attribute of BGP routes.</p>
</li></ul>
</div>
<div class="p"><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>After the <a href="cmdqueryname=reflect+change-path-attribute"><b><span class="cmdname">reflect change-path-attribute</span></b></a> command is run on the RR, the <a href="cmdqueryname=peer+route-policy+export"><b><span class="cmdname">peer route-policy</span></b></a> <strong><span>export</span></strong> command takes precedence over the <a href="cmdqueryname=peer+next-hop-invariable"><b><span class="cmdname">peer next-hop-invariable</span></b></a> and <a href="cmdqueryname=peer+next-hop-local"><b><span class="cmdname">peer next-hop-local</span></b></a> commands.</p>
</div></div>
</div>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3034.html">Configuring a BGP Route Reflector
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3038.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3039.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>