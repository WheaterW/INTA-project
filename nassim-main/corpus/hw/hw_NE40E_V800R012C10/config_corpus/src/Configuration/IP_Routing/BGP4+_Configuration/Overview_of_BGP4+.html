
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Overview of BGP4+">
<meta name="abstract" content="BGP4+ controls route advertisement and selects optimal routes.">
<meta name="description" content="BGP4+ controls route advertisement and selects optimal routes.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/spec/BGP4+_limitation.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,bgpvrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP IPv6">
<meta name="featuretype" content="IP Route">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP IPv6">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="w00604599">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00615954">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0172366421">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Overview of BGP4+</title>
</head>
<body><a name="EN-US_CONCEPT_0172366421"></a><a name="EN-US_CONCEPT_0172366421"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">Overview of BGP4+</h1>



<div><p>BGP4+ controls route advertisement and selects optimal routes.</p>

<div class="section"><h4 class="sectiontitle">BGP4+ Definition</h4><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p1042752035214010">As a dynamic routing protocol used between ASs, BGP4+ is an extension of BGP.</p>
<p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p570555203214010">Traditional BGP4 manages IPv4 routing information but does not support the inter-AS transmission of packets encapsulated by other network layer protocols (such as IPv6).</p>
<p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p893772404214010">To support IPv6, BGP4 must have the additional ability to associate an IPv6 protocol with the next hop information and network layer reachable information (NLRI).</p>
<p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p269638881214010">Two NLRI attributes that were introduced to BGP4+ are as follows:</p>
<ul id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_ul8887175214010"><li id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_li735172222214010"><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p1566113963214010"><a name="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_li735172222214010"></a><a name="en-us_concept_0172354362_li735172222214010"></a>Multiprotocol Reachable NLRI (MP_REACH_NLRI): carries the set of reachable destinations and the next hop information.</p>
<div class="fignone" id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_fig3677420152013"><span class="figcap"><b>Figure 1 </b>MP_REACH_NLRI structure</span><br><span><img class="vsd" id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_image8677102017209" src="figure/en-us_image_0000001507484422.png" width="NaN" height="NaN"></span></div>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_table123224284244" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Fields in MP_REACH_NLRI</caption><thead align="left"><tr id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_row2032342822411"><th align="left" class="cellrowborder" valign="top" width="27.13271327132713%" id="mcps1.4.1.6.1.3.2.4.1.1" liSelected="liSelected"><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p8323102872415">Field</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="17.051705170517053%" id="mcps1.4.1.6.1.3.2.4.1.2" liSelected="liSelected"><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p9323628142410">Length</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="55.81558155815583%" id="mcps1.4.1.6.1.3.2.4.1.3" liSelected="liSelected"><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p7323152813243">Description</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_row23231228172418"><td class="cellrowborder" valign="top" width="27.13271327132713%" headers="mcps1.4.1.6.1.3.2.4.1.1 "><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p16323828112417">AFI (address family identifier)</p>
</td>
<td class="cellrowborder" valign="top" width="17.051705170517053%" headers="mcps1.4.1.6.1.3.2.4.1.2 "><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p19323112812245">2 bytes</p>
</td>
<td class="cellrowborder" valign="top" width="55.81558155815583%" headers="mcps1.4.1.6.1.3.2.4.1.3 "><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p12323428182417">Indicates the address class to which the network layer protocol belongs. It is used to specify the carried IPv6 reachable route information.</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_row7323182832418"><td class="cellrowborder" valign="top" width="27.13271327132713%" headers="mcps1.4.1.6.1.3.2.4.1.1 "><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p13231128172412">SAFI (subsequent address family identifier)</p>
</td>
<td class="cellrowborder" valign="top" width="17.051705170517053%" headers="mcps1.4.1.6.1.3.2.4.1.2 "><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p1132332817241">1 byte</p>
</td>
<td class="cellrowborder" valign="top" width="55.81558155815583%" headers="mcps1.4.1.6.1.3.2.4.1.3 "><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p23231528102413">Indicates that the attribute carries information about reachable IPv6 unicast routes.</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_row5323228162414"><td class="cellrowborder" valign="top" width="27.13271327132713%" headers="mcps1.4.1.6.1.3.2.4.1.1 "><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p12323628202414">Length of Next Hop Network Address</p>
</td>
<td class="cellrowborder" valign="top" width="17.051705170517053%" headers="mcps1.4.1.6.1.3.2.4.1.2 "><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p203231828132418">1 byte</p>
</td>
<td class="cellrowborder" valign="top" width="55.81558155815583%" headers="mcps1.4.1.6.1.3.2.4.1.3 "><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p16323182813240">Indicates the length of bytes occupied by the next hop. The value 16 indicates that the link-local address is not included, and the value 32 indicates that the link-local address is included.</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_row1532317285245"><td class="cellrowborder" valign="top" width="27.13271327132713%" headers="mcps1.4.1.6.1.3.2.4.1.1 "><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p9323828192415">Network Address of Next Hop</p>
</td>
<td class="cellrowborder" valign="top" width="17.051705170517053%" headers="mcps1.4.1.6.1.3.2.4.1.2 "><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p032318286242">Variable</p>
</td>
<td class="cellrowborder" valign="top" width="55.81558155815583%" headers="mcps1.4.1.6.1.3.2.4.1.3 "><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p17323152820241">Indicates information about the next-hop address to the destination network, which may contain a link-local address.</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_row2032312812413"><td class="cellrowborder" valign="top" width="27.13271327132713%" headers="mcps1.4.1.6.1.3.2.4.1.1 "><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p032322812241">Number of SNPAs</p>
</td>
<td class="cellrowborder" valign="top" width="17.051705170517053%" headers="mcps1.4.1.6.1.3.2.4.1.2 "><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p141716413266">1 byte</p>
</td>
<td class="cellrowborder" valign="top" width="55.81558155815583%" headers="mcps1.4.1.6.1.3.2.4.1.3 "><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p23233285243">Indicates a reserved bit. The value is 0.</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_row3323928172411"><td class="cellrowborder" valign="top" width="27.13271327132713%" headers="mcps1.4.1.6.1.3.2.4.1.1 "><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p103231528122414">Network Layer Reachability Information</p>
</td>
<td class="cellrowborder" valign="top" width="17.051705170517053%" headers="mcps1.4.1.6.1.3.2.4.1.2 "><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p103234280240">Variable</p>
</td>
<td class="cellrowborder" valign="top" width="55.81558155815583%" headers="mcps1.4.1.6.1.3.2.4.1.3 "><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p4323112810243">Indicates carried IPv6 reachable route information, including the IPv6 prefix.</p>
</td>
</tr>
</tbody>
</table>
</div>
</li><li id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_li1302997184214010"><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p1582923029214010"><a name="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_li1302997184214010"></a><a name="en-us_concept_0172354362_li1302997184214010"></a>Multiprotocol Unreachable NLRI (MP_UNREACH_NLRI): carries the set of unreachable destinations.</p>
<div class="fignone" id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_fig29157282212"><span class="figcap"><b>Figure 2 </b>MP_UNREACH_NLRI structure</span><br><span><img class="vsd" id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_image291512215229" src="figure/en-us_image_0000001507804218.png" width="NaN" height="NaN"></span></div>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_table1532243572713" frame="border" border="1" rules="all"><caption><b>Table 2 </b>Fields in MP_UNREACH_NLRI</caption><thead align="left"><tr id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_row532213353278"><th align="left" class="cellrowborder" valign="top" width="27.412741274127413%" id="mcps1.4.1.6.2.3.2.4.1.1" liSelected="liSelected"><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p123229353272">Field</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="17.261726172617262%" id="mcps1.4.1.6.2.3.2.4.1.2" liSelected="liSelected"><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p33223356272">Length</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="55.32553255325533%" id="mcps1.4.1.6.2.3.2.4.1.3" liSelected="liSelected"><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p132283552715">Description</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_row1322203522718"><td class="cellrowborder" valign="top" width="27.412741274127413%" headers="mcps1.4.1.6.2.3.2.4.1.1 "><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p152361045102719">AFI (Address Family Identifier)</p>
</td>
<td class="cellrowborder" valign="top" width="17.261726172617262%" headers="mcps1.4.1.6.2.3.2.4.1.2 "><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p10322435122712">2 bytes</p>
</td>
<td class="cellrowborder" valign="top" width="55.32553255325533%" headers="mcps1.4.1.6.2.3.2.4.1.3 "><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p193222035192714">Indicates that the attribute carries information about unreachable IPv6 routes.</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_row8322735162718"><td class="cellrowborder" valign="top" width="27.412741274127413%" headers="mcps1.4.1.6.2.3.2.4.1.1 "><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p1432283514270">SAFI (subsequent address family identifier)</p>
</td>
<td class="cellrowborder" valign="top" width="17.261726172617262%" headers="mcps1.4.1.6.2.3.2.4.1.2 "><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p6322133515272">1 byte</p>
</td>
<td class="cellrowborder" valign="top" width="55.32553255325533%" headers="mcps1.4.1.6.2.3.2.4.1.3 "><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p232233513272">Indicates that the attribute carries information about unreachable IPv6 unicast routes.</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_row23231435112716"><td class="cellrowborder" valign="top" width="27.412741274127413%" headers="mcps1.4.1.6.2.3.2.4.1.1 "><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p15323235112719">Network Layer UnReachability Information</p>
</td>
<td class="cellrowborder" valign="top" width="17.261726172617262%" headers="mcps1.4.1.6.2.3.2.4.1.2 "><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p1732333518275">1 byte</p>
</td>
<td class="cellrowborder" valign="top" width="55.32553255325533%" headers="mcps1.4.1.6.2.3.2.4.1.3 "><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p1332393514277">Indicates the carried IPv6 unreachable route information.</p>
</td>
</tr>
</tbody>
</table>
</div>
</li></ul>
<p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p724739062214010">The Next_Hop attribute in BGP4+ is in the format of an IPv6 address, which can be either a globally unique IPv6 address or a next hop link-local address.</p>
<p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p421836707214010">Using multiple protocol extensions of BGP, BGP4+ is applicable to IPv6 networks without changing the messaging and routing mechanisms of BGP.</p>
</div>

<div class="section"><h4 class="sectiontitle">Purpose</h4><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p274966070214010">BGP transmits route information between ASs. It, however, is not required in all scenarios.</p>
<div class="fignone" id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_fig_dc_vrp_bgp_feature_000101"><a name="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_fig_dc_vrp_bgp_feature_000101"></a><a name="en-us_concept_0172354362_fig_dc_vrp_bgp_feature_000101"></a><span class="figcap"><b>Figure 3 </b>BGP networking</span><br><span><img class="vsd" id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_image504992649214010" src="images/fig_feature_image_0003997160.png" width="NaN" height="NaN"></span><br></div>
<p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p167543049214010">BGP is required in the following scenarios:</p>
<ul id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_ul180865627214010"><li id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_li1131094515214010"><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p780270361214010"><a name="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_li1131094515214010"></a><a name="en-us_concept_0172354362_li1131094515214010"></a>On the network shown in <a href="#EN-US_CONCEPT_0172366421__en-us_concept_0172354362_fig_dc_vrp_bgp_feature_000101">Figure 3</a>, users need to be connected to two or more ISPs. The ISPs need to provide all or part of the Internet routes for the users. Devices, therefore, need to select the optimal route through the AS of an ISP to the destination based on the attributes carried in BGP routes.</p>
</li><li id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_li1427144582214010"><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p774136331214010"><a name="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_li1427144582214010"></a><a name="en-us_concept_0172354362_li1427144582214010"></a>The AS_Path attribute needs to be transmitted between users in different organizations.</p>
</li><li id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_li1735458606214010"><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p729897488214010"><a name="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_li1735458606214010"></a><a name="en-us_concept_0172354362_li1735458606214010"></a>Users need to transmit VPN routes through a Layer 3 VPN. For details, see the <em id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_i251864572214254"><span class="keyword" id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_keyword306603165214010">HUAWEI NE40E-M2 series</span> Feature Description - VPN</em>.</p>
</li><li id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_li592366044214010"><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p161914016214010"><a name="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_li592366044214010"></a><a name="en-us_concept_0172354362_li592366044214010"></a>Users need to transmit multicast routes to construct a multicast topology. For details, see <em id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_i1472814615819"><span class="keyword" id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_keyword1146793267214010">HUAWEI NE40E-M2 series</span> Feature Description - IP Multicast</em>.</p>
</li></ul>
<p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p5647379214010">BGP is not required in the following scenarios:</p>
<ul id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_ul1594433950214010"><li id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_li264938745214010"><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p1091886984214010"><a name="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_li264938745214010"></a><a name="en-us_concept_0172354362_li264938745214010"></a>Users are connected to only one ISP.</p>
</li><li id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_li742778280214010"><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p552111949214010"><a name="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_li742778280214010"></a><a name="en-us_concept_0172354362_li742778280214010"></a>The ISP does not need to provide Internet routes for users.</p>
</li><li id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_li240244908214010"><p id="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_p526912396214010"><a name="EN-US_CONCEPT_0172366421__en-us_concept_0172354362_li240244908214010"></a><a name="en-us_concept_0172354362_li240244908214010"></a>ASs are connected through default routes.</p>
</li></ul>
</div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0000.html">BGP4+ Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/spec/BGP4+_limitation.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>