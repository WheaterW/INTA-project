
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring BGP4+ Auto FRR">
<meta name="abstract" content="As a protection measure against link faults, BGP4+ Auto Fast Reroute (FRR) is applicable to the network topology with primary and backup links. BGP4+ Auto FRR is applicable to services that are very sensitive to packet loss and delays.">
<meta name="description" content="As a protection measure against link faults, BGP4+ Auto Fast Reroute (FRR) is applicable to the network topology with primary and backup links. BGP4+ Auto FRR is applicable to services that are very sensitive to packet loss and delays.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0046.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_4053.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,bgpvrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP IPv6">
<meta name="featuretype" content="IP Route">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP IPv6">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="w00604599">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00615954">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172366481">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring BGP4+ Auto FRR</title>
</head>
<body><a name="EN-US_TASK_0172366481"></a><a name="EN-US_TASK_0172366481"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring BGP4+ Auto FRR</h1>
<div class="taskbody"><p>As a protection measure against link faults, BGP4+ Auto Fast Reroute (FRR) is applicable to the network topology with primary and backup links. BGP4+ Auto FRR is applicable to services that are very sensitive to packet loss and delays.</p>
<div class="context"><a name="EN-US_TASK_0172366481__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p id="EN-US_TASK_0172366481__en-us_task_0172366256_p_4057">As networks evolve continuously, voice, on-line video, and financial services raise increasingly high requirements for real-time performance. Usually, primary and backup links are deployed on a network to ensure the stability of these services. In a traditional forwarding mode, the <span class="keyword" id="EN-US_TASK_0172366481__en-us_task_0172366256_keyword1983340105214038">Router</span> selects a route out of several routes that are bound for the same destination network as the optimal route and delivers the route to the FIB table to guide data forwarding. If the optimal route fails, the <span class="keyword" id="EN-US_TASK_0172366481__en-us_task_0172366256_keyword1586952724710">Router</span> has to wait for route convergence to be completed before reselecting an optimal route and delivering it to the FIB table. In this case, services are interrupted for a long time, unable to meet service requirements.</p>
<p id="EN-US_TASK_0172366481__en-us_task_0172366256_p_4058">As a protection measure against link failures, BGP Auto fast reroute (FRR) is applicable to networks with primary and backup links. With BGP Auto FRR, if the primary link fails, the device rapidly switches services to the backup link without waiting for the completion of route convergence. In this manner, services are interrupted only for a short period of time (subsecond level).</p>
<p id="EN-US_TASK_0172366481__en-us_task_0172366256_p19916175384120">With BGP Auto FRR, if there are multiple valid routes to the same destination network, BGP Auto FRR uses the optimal route as the primary link to forward packets and automatically adds suboptimal route forwarding information to the backup forwarding entry of the optimal route as a backup link. If the primary link fails, the system rapidly responds to the notification that the BGP route is unreachable and switches the forwarding path to the backup link.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172366481__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring BGP4+ Auto FRR, complete the following tasks:</p>
<ul><li><p>Configure static route or an IGP to ensure that IP routes between routers are reachable.</p>
</li><li><a href="dc_vrp_bgp6_cfg_0003.html">Configure basic BGP4+ functions</a>.</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172366481__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i></span></span><p><p>The BGP view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=ipv6-family+unicast"><b><span class="cmdname">ipv6-family</span></b></a> <strong><span>unicast</span></strong></span></span><p><p>The BGP-IPv6 unicast address family view is displayed.</p>
</p></li><li><span>Perform either of the following operations to enable BGP4+ Auto FRR for unicast routes:</span><ul><li><p>To enable only BGP4+ Auto FRR for unicast routes, run the <a href="cmdqueryname=auto-frr"><b><span class="cmdname">auto-frr</span></b></a> command.</p>
</li><li>To enable BGP4+ Auto FRR for unicast routes and configure the function of preferentially selecting the SRv6 BE path of the primary route as the backup path, run the <a href="cmdqueryname=auto-frr+best-effort"><b><span class="cmdname">auto-frr best-effort</span></b></a> command.</li></ul>
</li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0172366481__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>After the configuration is complete, verify it.</p>
<p>Run the <a href="cmdqueryname=display+ipv6+routing-table+longer-match+verbose"><b><span class="cmdname">display ipv6 routing-table</span></b></a> <i><span class="varname">ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> [ <strong><span>longer-match</span></strong> ] [ <strong><span>verbose</span></strong> ] command to check the backup forwarding information in the routing table.</p>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0000.html">BGP4+ Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_0046.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp6_cfg_4053.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>