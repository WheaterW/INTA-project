
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring OSPF Load Balancing">
<meta name="abstract" content="This section describes how to configure OSPF load balancing, including enabling load balancing and setting priorities for equal-cost routes.">
<meta name="description" content="This section describes how to configure OSPF load balancing, including enabling load balancing and setting priorities for equal-cost routes.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospf_cfg_0093.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospf_cfg_0097.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospf_cfg_0101.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Route">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="z00875216">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00875216">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172365661">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/thickbox.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/jquery.min.js"></script>
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/imageResize.js"></script>
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/jquery-migrate-1.2.1.min.js"></script>
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/jquery-ui.min.js"></script>
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/jquery.mousewheel.min.js"></script>
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/thickbox.js"></script>
<title>Example for Configuring OSPF Load Balancing</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0172365661"></a><a name="EN-US_TASK_0172365661"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring OSPF Load Balancing</h1>
<div class="taskbody"><p>This section describes how to configure OSPF load balancing, including enabling load balancing and setting priorities for equal-cost routes.</p>
<div class="context"><a name="EN-US_TASK_0172365661__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>On the network shown in <a href="#EN-US_TASK_0172365661__fig_dc_vrp_ospf_cfg_009801">Figure 1</a>:</p>
<ul><li><p><span class="keyword">Device</span>A, <span class="keyword">Device</span>B, <span class="keyword">Device</span>C, <span class="keyword">Device</span>D, and <span class="keyword">Device</span>E are connected to each other through OSPF.</p>
</li><li><p><span class="keyword">Device</span>A, <span class="keyword">Device</span>B, <span class="keyword">Device</span>C, <span class="keyword">Device</span>D, and <span class="keyword">Device</span>E belong to Area 0.</p>
</li><li><p>Load balancing is configured so that the traffic from <span class="keyword">Device</span>A to <span class="keyword">Device</span>E is load-balanced by <span class="keyword">Device</span>C and <span class="keyword">Device</span>D.</p>
</li></ul>
<div class="fignone" id="EN-US_TASK_0172365661__fig_dc_vrp_ospf_cfg_009801"><a name="EN-US_TASK_0172365661__fig_dc_vrp_ospf_cfg_009801"></a><a name="fig_dc_vrp_ospf_cfg_009801"></a><span class="figcap"><b>Figure 1 </b>Networking for configuring OSPF load balancing</span><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In this example, interface1, interface2, interface3, and interface4 represent GE<span>0/1/0</span>, GE<span>0/2/0</span>, GE<span>0/3/0</span>, and GE<span>0/1/1</span>, respectively.</p>
</div></div>
<br><span><img class="imgResize" src="images/fig_dc_vrp_ospf_cfg_009801.png" width="522.69" height="286.114654" title="Click to enlarge"></span></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172365661__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Precautions</h4><p>To improve security, OSPF area authentication or interface authentication is recommended. For details, see "Improving OSPF Network Security". OSPF area authentication is used as an example. For details, see Example for Configuring Basic OSPF Functions.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172365661__1.4.3"></a><a name="1.4.3"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><p>The configuration roadmap is as follows:</p>
<ol><li><p>Configure basic OSPF functions on each <span class="keyword">Router</span> for interconnection.</p>
</li><li><p>Configure load balancing on <span class="keyword">Device</span>A.</p>
</li><li><p>Set the priority for equal-cost routes on <span class="keyword">Device</span>A.</p>
</li><li><p>Configure per-packet load balancing on <span class="keyword">Device</span>A.</p>
</li></ol>
</div></div>
<div class="context"><a name="EN-US_TASK_0172365661__1.4.4"></a><a name="1.4.4"></a>
<div class="p"><h4 class="sectiontitle">Data Preparation</h4><p>To complete the configuration, you need the following data:</p>
<ul><li><p>Data of <span class="keyword">Device</span>A, including router ID (1.1.1.1), OSPF process ID (1), and network segment addresses of Area 0 (10.1.1.0/24, 10.1.2.0/24 and 10.1.3.0/24)</p>
</li><li><p>Data of <span class="keyword">Device</span>B, including router ID (2.2.2.2), OSPF process ID (1), and network segment addresses of area 0 (10.1.1.0/24 and 192.168.0.0/24)</p>
</li><li><p>Data of <span class="keyword">Device</span>C, including router ID (3.3.3.3), OSPF process ID (1), and network segment addresses of area 0 (10.1.2.0/24 and 192.168.1.0/24)</p>
</li><li><p>Data of <span class="keyword">Device</span>D, including router ID (4.4.4.4), OSPF process ID (1), and network segment addresses of area 0 (10.1.3.0/24 and 192.168.2.0/24)</p>
</li><li><p>Data of <span class="keyword">Device</span>E, including router ID (5.5.5.5), OSPF process ID (1), and network segment addresses of area 0 (192.168.0.0/24, 192.168.1.0/24, 192.168.2.0/24, and 172.17.1.0/24)</p>
</li><li><p>Number of equal-cost routes for load balancing on <span class="keyword">Device</span>A (2)</p>
</li><li><p>Next hop weights of the routes from <span class="keyword">Device</span>A to <span class="keyword">Device</span>B, <span class="keyword">Device</span>C, and <span class="keyword">Device</span>D (2, 1, and 1, respectively)</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172365661__1.4.5"></a><a name="1.4.5"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Assign an IP address to each interface. For configuration details, see <a href="#EN-US_TASK_0172365661__section_dc_vrp_ospf_cfg_009806">Configuration Files</a> in this section.</span></li><li><span>Configure basic OSPF functions. For details, see <a href="dc_vrp_ospf_cfg_0094.html">Example for Configuring Basic OSPF Functions</a>.</span></li><li><span>Display the routing table of <span class="keyword">Device</span>A.</span><p><p><span class="keyword">Device</span>A has three valid next hops: <span class="keyword">Device</span>B (10.1.1.2), <span class="keyword">Device</span>C (10.1.2.2), and <span class="keyword">Device</span>D (10.1.3.2) because the default maximum number of equal-cost routes is 64.</p>
<pre class="screen">&lt;<span class="keyword">Device</span>A&gt; <strong>display ip routing-table</strong></pre>
<pre class="screen"><span class="keyword">Route Flags: R - relay, D - download to fib, T - to vpn-instance, B - black hole route</span>
----------------------------------------------------------------------------
Routing Table: _public_
         Destinations : 15       Routes : 15

Destination/Mask    Proto  Pre  Cost  Flags     NextHop         Interface

       10.1.1.0/24  Direct 0    0       D        10.1.1.1         GigabitEthernet<span>0/1/0</span>
       10.1.1.1/32  Direct 0    0       D        127.0.0.1        GigabitEthernet<span>0/1/0</span>
       10.1.1.2/32  Direct 0    0       D        10.1.1.2         GigabitEthernet<span>0/1/0</span>
       10.1.2.0/24  Direct 0    0       D        10.1.2.1         GigabitEthernet<span>0/2/0</span>
       10.1.2.1/32  Direct 0    0       D        127.0.0.1        GigabitEthernet<span>0/2/0</span>
       10.1.2.2/32  Direct 0    0       D        10.1.2.2         GigabitEthernet<span>0/2/0</span>
       10.1.3.0/24  Direct 0    0       D        10.1.2.1         GigabitEthernet<span>0/3/0</span>
       10.1.3.1/32  Direct 0    0       D        127.0.0.1        GigabitEthernet<span>0/3/0</span>
       10.1.3.2/32  Direct 0    0       D        10.1.2.2         GigabitEthernet<span>0/3/0</span>
    127.0.0.0/8     Direct 0    0       D        127.0.0.1        InLoopBack0
    127.0.0.1/32    Direct 0    0       D        127.0.0.1        InLoopBack0
    192.168.0.0/24  OSPF   10   2       D        10.1.1.2         GigabitEthernet<span>0/1/0</span>
    192.168.1.0/24  OSPF   10   2       D        10.1.2.2         GigabitEthernet<span>0/2/0</span>
    192.168.2.0/24  OSPF   10   2       D        10.1.2.2         GigabitEthernet<span>0/3/0</span>
<strong>     172.17.1.0/24  OSPF   10   3       D        10.1.1.2         GigabitEthernet<span>0/1/0</span></strong>
<strong>                    OSPF   10   3       D        10.1.2.2         GigabitEthernet<span>0/2/0</span></strong>
<strong>                    OSPF   10   3       D        10.1.3.2         GigabitEthernet<span>0/3/0</span></strong></pre>
</p></li><li><span>Set the maximum number of routes for load balancing to 2 on <span class="keyword">Device</span>A.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>ospf 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-ospf-1] <strong>maximum load-balancing 2</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-ospf-1] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-ospf-1] <strong>quit</strong></pre>
<p># Check the routing table of <span class="keyword">Device</span>A. The command output shows that <span class="keyword">Device</span>A has two routes for load balancing. The maximum number of equal-cost routes is 2. Therefore, the next hops 10.1.1.2 (<span class="keyword">Device</span>B) and 10.1.2.2 (<span class="keyword">Device</span>C) are valid routes.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>display ip routing-table</strong></pre>
<pre class="screen"><span class="keyword">Route Flags: R - relay, D - download to fib, T - to vpn-instance, B - black hole route</span>
----------------------------------------------------------------------------
Routing Table: _public_
         Destinations : 15       Routes : 15

Destination/Mask    Proto  Pre  Cost  Flags     NextHop         Interface

       10.1.1.0/24  Direct 0    0       D        10.1.1.1         GigabitEthernet<span>0/1/0</span>
       10.1.1.1/32  Direct 0    0       D        127.0.0.1        GigabitEthernet<span>0/1/0</span>
       10.1.1.2/32  Direct 0    0       D        10.1.1.2         GigabitEthernet<span>0/1/0</span>
       10.1.2.0/24  Direct 0    0       D        10.1.2.1         GigabitEthernet<span>0/2/0</span>
       10.1.2.1/32  Direct 0    0       D        127.0.0.1        GigabitEthernet<span>0/2/0</span>
       10.1.2.2/32  Direct 0    0       D        10.1.2.2         GigabitEthernet<span>0/2/0</span>
       10.1.3.0/24  Direct 0    0       D        10.1.2.1         GigabitEthernet<span>0/3/0</span>
       10.1.3.1/32  Direct 0    0       D        127.0.0.1        GigabitEthernet<span>0/3/0</span>
       10.1.3.2/32  Direct 0    0       D        10.1.2.2         GigabitEthernet<span>0/3/0</span>
    127.0.0.0/8     Direct 0    0       D        127.0.0.1        InLoopBack0
    127.0.0.1/32    Direct 0    0       D        127.0.0.1        InLoopBack0
    192.168.0.0/24  OSPF   10   2       D        10.1.1.2         GigabitEthernet<span>0/1/0</span>
    192.168.1.0/24  OSPF   10   2       D        10.1.2.2         GigabitEthernet<span>0/2/0</span>
    192.168.2.0/24  OSPF   10   2       D        10.1.2.2         GigabitEthernet<span>0/3/0</span>
<strong>     172.17.1.0/24  OSPF   10   3       D        10.1.1.2         GigabitEthernet<span>0/1/0</span></strong>
<strong>                    OSPF   10   3       D        10.1.2.2         GigabitEthernet<span>0/2/0</span></strong></pre>
</p></li><li><span>Set the priority for equal-cost routes on <span class="keyword">Device</span>A.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A]<strong> ospf 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-ospf-1] <strong>nexthop 10.1.1.2 weight 2</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-ospf-1] <strong>nexthop 10.1.2.2 weight 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-ospf-1] <strong>nexthop 10.1.3.2 weight 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-ospf-1] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-ospf-1] <strong>quit</strong></pre>
</p></li><li><span>Verify the configuration.</span><p><p># Check the routing table of <span class="keyword">Device</span>A.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>display ip routing-table</strong></pre>
<pre class="screen"><span class="keyword">Route Flags: R - relay, D - download to fib, T - to vpn-instance, B - black hole route</span>
----------------------------------------------------------------------------
Routing Table: _public_
         Destinations : 15       Routes : 15

Destination/Mask    Proto  Pre  Cost  Flags     NextHop         Interface

       10.1.1.0/24  Direct 0    0       D        10.1.1.1         GigabitEthernet<span>0/1/0</span>
       10.1.1.1/32  Direct 0    0       D        127.0.0.1        GigabitEthernet<span>0/1/0</span>
       10.1.1.2/32  Direct 0    0       D        10.1.1.2         GigabitEthernet<span>0/1/0</span>
       10.1.2.0/24  Direct 0    0       D        10.1.2.1         GigabitEthernet<span>0/2/0</span>
       10.1.2.1/32  Direct 0    0       D        127.0.0.1        GigabitEthernet<span>0/2/0</span>
       10.1.2.2/32  Direct 0    0       D        10.1.2.2         GigabitEthernet<span>0/2/0</span>
       10.1.3.0/24  Direct 0    0       D        10.1.2.1         GigabitEthernet<span>0/3/0</span>
       10.1.3.1/32  Direct 0    0       D        127.0.0.1        GigabitEthernet<span>0/3/0</span>
       10.1.3.2/32  Direct 0    0       D        10.1.2.2         GigabitEthernet<span>0/3/0</span>
    127.0.0.0/8     Direct 0    0       D        127.0.0.1        InLoopBack0
    127.0.0.1/32    Direct 0    0       D        127.0.0.1        InLoopBack0
    192.168.0.0/24  OSPF   10   2       D        10.1.1.2         GigabitEthernet<span>0/1/0</span>
    192.168.1.0/24  OSPF   10   2       D        10.1.2.2         GigabitEthernet<span>0/2/0</span>
    192.168.2.0/24  OSPF   10   2       D        10.1.2.2         GigabitEthernet<span>0/3/0</span>
<strong>     172.17.1.0/24  OSPF   10   3       D        10.1.2.2         GigabitEthernet<span>0/2/0</span></strong>
<strong>                    OSPF   10   3       D        10.1.3.2         GigabitEthernet<span>0/3/0</span></strong></pre>
<p>As shown in the routing table, the priority of the route with 10.1.2.2 and 10.1.3.2 as the next hop addresses is higher than that of the route with 10.1.1.2 as the next hop address. Therefore, <span class="keyword">Device</span>A has only two valid next hops, <span class="keyword">Device</span>C (10.1.2.2) and <span class="keyword">Device</span>D (10.1.3.2).</p>
</p></li></ol></div>
<div class="example" id="EN-US_TASK_0172365661__section_dc_vrp_ospf_cfg_009806"><a name="EN-US_TASK_0172365661__section_dc_vrp_ospf_cfg_009806"></a><a name="section_dc_vrp_ospf_cfg_009806"></a><a name="EN-US_TASK_0172365661__1.4.6"></a><a name="1.4.6"></a><h4 class="sectiontitle">Configuration Files</h4><ul><li><p><span class="keyword">Device</span>A configuration file</p>
<pre class="screen">#</pre>
<pre class="screen"> sysname <span class="keyword">Device</span>A</pre>
<pre class="screen">#</pre>
<pre class="screen">router id 1.1.1.1</pre>
<pre class="screen"> #</pre>
<pre class="screen">interface GigabitEthernet<span>0/1/0</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen"> ip address 10.1.1.1 255.255.255.0</pre>
<pre class="screen">#</pre>
<pre class="screen">interface GigabitEthernet<span>0/2/0</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen"> ip address 10.1.2.1 255.255.255.0</pre>
<pre class="screen">#</pre>
<pre class="screen">interface GigabitEthernet<span>0/3/0</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen"> ip address 10.1.3.1 255.255.255.0</pre>
<pre class="screen">#</pre>
<pre class="screen">ospf 1</pre>
<pre class="screen"> maximum load-balancing 2</pre>
<pre class="screen"> nexthop 10.1.1.2 weight 2</pre>
<pre class="screen"> nexthop 10.1.2.2 weight 1</pre>
<pre class="screen"> nexthop 10.1.3.2 weight 1</pre>
<pre class="screen"> area 0.0.0.0</pre>
<pre class="screen">  network 10.1.1.0 0.0.0.255</pre>
<pre class="screen">  network 10.1.2.0 0.0.0.255</pre>
<pre class="screen">  network 10.1.3.0 0.0.0.255</pre>
<pre class="screen">#</pre>
<pre class="screen">return</pre>
</li><li><p><span class="keyword">Device</span>B configuration file</p>
<pre class="screen">#</pre>
<pre class="screen">sysname <span class="keyword">Device</span>B</pre>
<pre class="screen">#</pre>
<pre class="screen">router id 2.2.2.2</pre>
<pre class="screen">#</pre>
<pre class="screen">interface GigabitEthernet<span>0/1/0</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen"> ip address 10.1.1.2 255.255.255.0</pre>
<pre class="screen">#</pre>
<pre class="screen">interface GigabitEthernet<span>0/2/0</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen"> ip address 192.168.0.1 255.255.255.0</pre>
<pre class="screen">#</pre>
<pre class="screen">ospf 1</pre>
<pre class="screen"> area 0.0.0.0</pre>
<pre class="screen">  network 10.1.1.0 0.0.0.255</pre>
<pre class="screen">  network 192.168.0.0 0.0.255.255</pre>
<pre class="screen">#</pre>
<pre class="screen">return</pre>
</li><li><p><span class="keyword">Device</span>C configuration file</p>
<pre class="screen">#</pre>
<pre class="screen">sysname <span class="keyword">Device</span>C</pre>
<pre class="screen">#</pre>
<pre class="screen">router id 3.3.3.3</pre>
<pre class="screen">#</pre>
<pre class="screen">interface GigabitEthernet<span>0/1/0</span></pre>
<pre class="screen"> ip address 10.1.2.2 255.255.255.0</pre>
<pre class="screen">#</pre>
<pre class="screen">interface GigabitEthernet<span>0/2/0</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen"> ip address 192.168.1.1 255.255.255.0</pre>
<pre class="screen">#</pre>
<pre class="screen">ospf 1</pre>
<pre class="screen"> area 0.0.0.0</pre>
<pre class="screen">  network 10.1.2.0 0.0.0.255</pre>
<pre class="screen">  network 192.168.1.0 0.0.0.255</pre>
<pre class="screen">#</pre>
<pre class="screen">return</pre>
</li><li><p><span class="keyword">Device</span>D configuration file</p>
<pre class="screen">#</pre>
<pre class="screen"> sysname <span class="keyword">Device</span>D</pre>
<pre class="screen">#</pre>
<pre class="screen">router id 4.4.4.4</pre>
<pre class="screen">#</pre>
<pre class="screen">interface GigabitEthernet<span>0/1/0</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen"> ip address 10.1.3.2 255.255.255.0</pre>
<pre class="screen">#</pre>
<pre class="screen">interface GigabitEthernet<span>0/2/0</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen"> ip address 192.168.2.1 255.255.255.0</pre>
<pre class="screen">#</pre>
<pre class="screen">ospf 1</pre>
<pre class="screen"> area 0.0.0.0</pre>
<pre class="screen">  network 10.1.3.0 0.0.0.255</pre>
<pre class="screen">  network 192.168.2.0 0.0.0.255</pre>
<pre class="screen">#</pre>
<pre class="screen">return</pre>
</li><li><p><span class="keyword">Device</span>E configuration file</p>
<pre class="screen">#</pre>
<pre class="screen"> sysname <span class="keyword">Device</span>E</pre>
<pre class="screen">#</pre>
<pre class="screen">router id 5.5.5.5</pre>
<pre class="screen">#</pre>
<pre class="screen">interface GigabitEthernet<span>0/1/0</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen"> ip address 192.168.0.2 255.255.255.0</pre>
<pre class="screen">#</pre>
<pre class="screen">interface GigabitEthernet<span>0/2/0</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen"> ip address 192.168.1.2 255.255.255.0</pre>
<pre class="screen">#</pre>
<pre class="screen">interface GigabitEthernet<span>0/3/0</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen"> ip address 192.168.2.2 255.255.255.0</pre>
<pre class="screen">#</pre>
<pre class="screen">interface GigabitEthernet<span>0/1/1</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen"> ip address 172.17.1.1 255.255.255.0</pre>
<pre class="screen">#</pre>
<pre class="screen">ospf 1</pre>
<pre class="screen"> area 0.0.0.0</pre>
<pre class="screen">  network 192.168.0.0 0.0.255.255</pre>
<pre class="screen">  network 192.168.1.0 0.0.0.255</pre>
<pre class="screen">  network 192.168.2.0 0.0.0.255</pre>
<pre class="screen">  network 172.17.1.0 0.0.0.255</pre>
<pre class="screen">#</pre>
<pre class="screen">return</pre>
</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospf_cfg_0093.html">Configuration Examples for OSPF
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospf_cfg_0097.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospf_cfg_0101.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>

<script language="JavaScript">
<!--
image_size('.imgResize');
var msg_imageMax = "view original image";
var msg_imageClose = "close";
//--></script></body>
</html>