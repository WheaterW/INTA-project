
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring IPv6 Floating Static Routes">
<meta name="abstract" content="Configuring floating static routes helps to implement route backup and improve network reliability.">
<meta name="description" content="Configuring floating static routes helps to implement route backup and improve network reliability.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_static-route-ipv6_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_static-route_disjoin_cfg_0008.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_static-route_disjoin_cfg_0051.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,static-routevrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Static Route">
<meta name="featuretype" content="IP Route">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Static Route">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="Static Route">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="z00809835">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="ccms">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172365483">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring IPv6 Floating Static Routes</title>
</head>
<body><a name="EN-US_TASK_0172365483"></a><a name="EN-US_TASK_0172365483"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">Configuring IPv6 Floating Static Routes</h1>



<div class="taskbody"><p>Configuring floating static routes helps to implement route backup and improve network reliability.</p>

<div class="context"><a name="EN-US_TASK_0172365483__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>If there is a route to a specific destination, you can configure a static route with a low preference to implement route backup, which improves network reliability. This static route with a lower preference is called a floating static route. It is activated to forward packets only when the optimal route fails. When the optimal route recovers, this static route becomes inactive.</p>
<p>Floating static routes are used as follows:</p>
<ul><li><p>Two static routes with the same destination address but different priorities are configured, and the one with the lower priority functions as a backup.</p>
</li><li><p>When a route of a dynamic routing protocol to a destination address exists, you can configure a static route to the destination address for data service forwarding temporarily if the dynamic routing protocol restarts.</p>
</li></ul>
</div></div>

<div class="context"><a name="EN-US_TASK_0172365483__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring IPv6 floating static routes, configure link layer protocol parameters and IP addresses for interfaces and ensure that the status of the link layer protocol on the interfaces is Up.</p>
</div></div>

<div class="steps"><a name="EN-US_TASK_0172365483__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol>
<li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li>
<li><span>Run either of the following commands as required:</span>
<p><ul><li><p>Run <span><a href="cmdqueryname=ipv6+route-static"><b><span class="cmdname">ipv6 route-static</span></b></a> <i><span class="varname">dest-ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> [ <i><span class="varname">nexthop-ipv6-address</span></i> ] | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-destination-name</span></i> [ <i><span class="varname">nexthop-ipv6-address</span></i> ] | <i><span class="varname">nexthop-ipv6-address</span></i> } [ <strong><span>preference</span></strong> <i><span class="varname">preference</span></i> | <strong><span>tag</span></strong> <i><span class="varname">tag</span></i> ]<sup>*</sup> [ <strong><span>description</span></strong> <i><span class="varname">text</span></i> ]</span></p>
<p>An IPv6 floating static route is configured in public network.</p>
</li><li><p>Run <span><a href="cmdqueryname=ipv6+route-static+vpn-instance"><b><span class="cmdname">ipv6 route-static vpn-instance</span></b></a> <i><span class="varname">vpn-source-name</span></i> <i><span class="varname">dest-ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> [ <i><span class="varname">nexthop-ipv6-address</span></i> ] | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-destination-name</span></i> [ <i><span class="varname">nexthop-ipv6-address</span></i> ] | <i><span class="varname">nexthop-ipv6-address</span></i> [ <strong><span>public</span></strong> ] } [ <strong><span>preference</span></strong> <i><span class="varname">preference</span></i> | <strong><span>tag</span></strong> <i><span class="varname">tag</span></i> ]<sup>*</sup> [ <strong><span>description</span></strong> <i><span class="varname">text</span></i> ]</span></p>
<p>An IPv6 floating static route is configured in VPN network.</p>
</li><li><p>Run <span><a href="cmdqueryname=ipv6+route-static+topology"><b><span class="cmdname">ipv6 route-static topology</span></b></a> <i><span class="varname">topology-name</span></i> <i><span class="varname">dest-ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> [ <i><span class="varname">nexthop-ipv6-address</span></i> ] | <i><span class="varname">nexthop-ipv6-address</span></i> } [ <strong><span>preference</span></strong> <i><span class="varname">preference</span></i> | <strong><span>tag</span></strong> <i><span class="varname">tag</span></i> ] <sup>*</sup> [ <strong><span>description</span></strong> <i><span class="varname">text</span></i> ]</span></p>
<p>An IPv6 floating static route is configured in a non-base topology instance.</p>
</li></ul>
</p>
<p>The <strong><span>preference</span></strong> parameter specifies a route priority. The greater the value, the lower the priority. Therefore, make sure that the priority value of the floating static route is greater than that of the optimal route.</p>
</li>
<li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li>
</ol></div>

<div class="postreq"><a name="EN-US_TASK_0172365483__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Checking the Configurations</h4><p>After the configuration is complete, check the configuration results.</p>
<ul><li><p>Run the <a href="cmdqueryname=display+ipv6+routing-table"><b><span class="cmdname">display ipv6 routing-table</span></b></a> <i><span class="varname">ipv6-address</span></i> [ <i><span class="varname">prefix-length</span></i> ] command to check configurations about the optimal IPv6 static route to the specified destination network segment.</p>
</li><li><p>Run the <a href="cmdqueryname=display+current-configuration"><b><span class="cmdname">display current-configuration</span></b></a> | <strong><span>include</span></strong> <strong><span>static</span></strong> command to check the configurations about the current static route.</p>
</li></ul>
</div>
</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_static-route-ipv6_cfg_0000.html">IPv6 Static Route Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_static-route_disjoin_cfg_0008.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_static-route_disjoin_cfg_0051.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>