
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring BGP to Record Peer Status Changes and Event Information">
<meta name="abstract" content="After BGP is configured to record peer status changes, BGP records logs when the BGP peer status changes.">
<meta name="description" content="After BGP is configured to record peer status changes, BGP records logs when the BGP peer status changes.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3067.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3071.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_5005.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,bgpvrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Route">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="w00604599">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00615954">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172366295">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring BGP to Record Peer Status Changes and Event Information</title>
</head>
<body><a name="EN-US_TASK_0172366295"></a><a name="EN-US_TASK_0172366295"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring BGP to Record Peer Status Changes and Event Information</h1>
<div class="taskbody"><p>After BGP is configured to record peer status changes, BGP records logs when the BGP peer status changes.</p>
<div class="context"><a name="EN-US_TASK_0172366295__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>System log files serve as an important reference for locating network connectivity and stability problems. If an error occurs on a connection between BGP peers, a corresponding error code and subcode are generated. If the local device terminates the connection with a peer due to a received a Notification message from the peer, the local device records the error code carried in the received message, and the state machine on the local device changes. When the connection is interrupted due to an error on the local end, the local end changes its state machine and sends a Notification message to the peer end.</p>
<p>By default, BGP records peer status changes and event information in the system log files. The record includes BGP error codes and subcodes, BGP state machine changes, and whether BGP Notification messages are sent.</p>
<p>If you do not want BGP to record peer status changes or event information, run the <a href="cmdqueryname=undo+peer+log-change"><b><span class="cmdname">undo peer log-change</span></b></a> command. After you run the <a href="cmdqueryname=undo+peer+log-change"><b><span class="cmdname">undo peer log-change</span></b></a> command, BGP records only the last peer status change in the log file. To check this log, run the <a href="cmdqueryname=display+bgp+peer+log-info"><b><span class="cmdname">display bgp peer log-info</span></b></a> command.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172366295__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i></span></span><p><p>The BGP view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> { <i><span class="varname">ipv4-address</span></i> | <i><span class="varname">group-name</span></i> } <a href="cmdqueryname=log-change"><b><span class="cmdname">log-change</span></b></a></span></span><p><p>BGP is configured to record peer status changes and event information.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3067.html">Maintaining BGP
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3071.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_5005.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>