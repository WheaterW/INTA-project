
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring IS-IS Delay Information Advertisement (IPv4)">
<meta name="abstract" content="To allow IS-IS to collect and flood information about the intra-domain IPv4 link delays, you can enable the advertisement of IPv4 delay information for an IS-IS process.">
<meta name="description" content="To allow IS-IS to collect and flood information about the intra-domain IPv4 link delays, you can enable the advertisement of IPv4 delay information for an IS-IS process.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_1066.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_1064.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00556928,w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Route">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="z00875216">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00875216">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0216841074">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring IS-IS Delay Information Advertisement (IPv4)</title>
</head>
<body><a name="EN-US_TASK_0216841074"></a><a name="EN-US_TASK_0216841074"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring IS-IS Delay Information Advertisement (IPv4)</h1>
<div class="taskbody"><p>To allow IS-IS to collect and flood information about the intra-domain IPv4 link delays, you can enable the advertisement of IPv4 delay information for an IS-IS process.</p>
<div class="context"><a name="EN-US_TASK_0216841074__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>Traditional path computation algorithms compute the optimal path to a destination address based on costs. However, such a computed path may not have the minimum delay. For services that have stringent requirements on delay, path computation can be performed based on the delay rather than on the cost to ensure that service traffic is transmitted along the path with the minimum delay. To meet these requirements, enable the advertisement of IPv4 delay information for an IS-IS process. After this function is enabled, IS-IS collects and floods information about intra-domain IPv4 link delays, and BGP-LS reports the information to the controller. This allows the controller to use the delay information to compute the optimal path on the P2P network.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0216841074__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><div class="p">Before enabling the advertisement of delay information, complete the following task:<ul><li>Configure the TWAMP Light controller to detect delay information.</li><li><a href="dc_vrp_isis_cfg_1004.html">Set the network type of the IS-IS interface to P2P.</a></li></ul>
</div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0216841074__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=isis"><b><span class="cmdname">isis</span></b></a> [ <i><span class="varname">process-id</span></i> ]</span><p><p>An IS-IS process is created, and the view is displayed.</p>
</p><p><p><i><span class="varname">process-id</span></i> specifies an IS-IS process ID. If the <i><span class="varname">process-id</span></i> parameter is not specified, the system creates process 1 by default. <span>To bind an IS-IS process to a VPN instance, run the <a href="cmdqueryname=isis"><b><span class="cmdname">isis</span></b></a> <i><span class="varname">process-id</span></i> <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> command.</span></p>
</p></li><li><span>Run <a href="cmdqueryname=cost-style"><b><span class="cmdname">cost-style</span></b></a> { <strong><span>wide</span></strong> | <strong><span>wide-compatible</span></strong> | <strong><span>compatible</span></strong> }</span><p><p>A cost style is set for IS-IS.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=metric-delay+normalize"><b><span class="cmdname">metric-delay normalize</span></b></a> <strong><span>interval</span></strong> <i><span class="varname">interval-value</span></i> [ <strong><span>offset</span></strong> <i><span class="varname">offset-value</span></i> ]</span><p><p>The link delay normalization function is configured for the IS-IS process.</p>
</p><p><p>For the delay-based path computation algorithm, the delay differences of links are different, and the differences may be small. However, even if the delay differences are small, only one optimal path can be generated according to the existing SPF algorithm, and load balancing cannot be implemented within a certain delay tolerance range. As a result, link resources on the network cannot be fully utilized. To resolve this problem to the greatest extent, normalization processing may be performed on the link delays with a small difference or a difference within an acceptable range so that load balancing can be implemented and link resources on the network can be fully utilized.</p>
<p>You can also run the <a href="cmdqueryname=isis+ipv6+metric-delay+normalize"><b><span class="cmdname">isis</span></b></a> [ <strong><span>process-id</span></strong> <i><span class="varname">process-id-value</span></i> ] <strong><span>metric-delay</span></strong> <strong><span>normalize</span></strong> <strong><span>interval</span></strong> <i><span class="varname">interval-value</span></i> [ <strong><span>offset</span></strong> <i><span class="varname">offset-value</span></i> ] command in the IS-IS interface view to configure the link delay normalization function on an interface. If the function is configured both for an IS-IS process and an IS-IS interface, the interface's configuration takes precedence over the process's configuration. Delay variation cannot be normalized.</p>
</p></li><li><span>Run <a href="cmdqueryname=traffic-eng"><b><span class="cmdname">traffic-eng</span></b></a> [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> | <strong><span>level-1-2</span></strong> ]</span><p><p>TE is enabled on a specified level for the IS-IS process.</p>
</p></li><li><span>Run <strong><a href="cmdqueryname=metric-delay+advertisement+enable"><b><span class="cmdname">metric-delay advertisement enable</span></b></a></strong> [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> | <strong><span>level-1-2</span></strong> ]</span><p><p>The advertisement of the maximum and minimum delay information is enabled.</p>
</p></li><li><span>Run <strong><a href="cmdqueryname=metric-delay+average+advertisement+enable"><b><span class="cmdname">metric-delay average advertisement enable</span></b></a></strong> [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> | <strong><span>level-1-2</span></strong> ]</span><p><p>The advertisement of the average delay is enabled.</p>
</p></li><li><span>Run <strong><a href="cmdqueryname=metric-delay+variation+advertisement+enable"><b><span class="cmdname">metric-delay variation advertisement enable</span></b></a></strong> [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> | <strong><span>level-1-2</span></strong> ]</span><p><p>The advertisement of delay variation is enabled.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=metric-delay+suppress+timer"><b><span class="cmdname">metric-delay suppress timer</span></b></a> <i><span class="varname">time-value</span></i> <strong><span>percent-threshold</span></strong> <i><span class="varname">percent-value</span></i> <strong><span>absolute-threshold</span></strong> <i><span class="varname">absolute-value</span></i></span><p><p>Parameters used to suppress the advertisement of delay information are configured.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0216841074__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>After the configuration is complete, verify it.</p>
<ul><li><p>Run the <strong><a href="cmdqueryname=display+isis+interface"><b><span class="cmdname">display isis interface</span></b></a> <strong><span>verbose</span></strong> <strong><span>traffic-eng</span></strong></strong> command to check information about IS-IS-enabled interfaces.</p>
</li><li>Run the <strong><a href="cmdqueryname=display+isis+traffic-eng+advertisements"><b><span class="cmdname">display isis traffic-eng advertisements</span></b></a></strong> command to check the TE information advertised by IS-IS.</li></ul>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_1066.html">Configuring IS-IS Extended Attribute Advertisement (IPv4)
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_isis_cfg_1064.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>