
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a Dynamic Routing Protocol to Import Direct Routes">
<meta name="abstract" content="After you associate direct routes with a Virtual Router Redundancy Protocol (VRRP) group, configure a dynamic routing protocol to import the direct routes so that the path selection by the dynamic routing protocol can be controlled.">
<meta name="description" content="After you associate direct routes with a Virtual Router Redundancy Protocol (VRRP) group, configure a dynamic routing protocol to import the direct routes so that the path selection by the dynamic routing protocol can be controlled.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ip-route_cfg_0029.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ip-route_cfg_0030.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ip-route_cfg_0032.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00556928,ip-routevrp,s00526617,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IP Routing Basis">
<meta name="featuretype" content="IP Route">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IP Routing Basis">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="IP Routing Basis">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="IP Routing Basis">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="z00809835">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00425560">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172365337">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring a Dynamic Routing Protocol to Import Direct Routes</title>
</head>
<body><a name="EN-US_TASK_0172365337"></a><a name="EN-US_TASK_0172365337"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a Dynamic Routing Protocol to Import Direct Routes</h1>
<div class="taskbody"><p>After you associate direct routes with a Virtual Router Redundancy Protocol (VRRP) group, configure a dynamic routing protocol to import the direct routes so that the path selection by the dynamic routing protocol can be controlled.</p>
<div class="context"><a name="EN-US_TASK_0172365337__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>After direct routes are associated with a VRRP group, VRRP-enabled devices modify the cost of each direct route to the virtual IP network segment based on the VRRP status. To control the path by a dynamic routing protocol, enable the dynamic routing protocol to import direct routes and inherit the costs from the imported direct routes.</p>
<p>Currently, dynamic routing protocols include the Interior Gateway Protocol (IGP) and Border Gateway Protocol (BGP). If an IGP is configured to import direct routes, routing information protocol (RIP) cannot inherit costs from the imported direct routes. This section describes how to configure Open Shortest Path First (OSPF), Intermediate System to Intermediate System (IS-IS), and BGP to import direct routes.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172365337__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure OSPF to import direct routes.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=ospf"><b><span class="cmdname">ospf</span></b></a> [ <i><span class="varname">process-id</span></i> ]</span></span><p><p>The OSPF process view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=import-route"><b><span class="cmdname">import-route</span></b></a> <strong><span>direct</span></strong></span></span><p><p>OSPF is configured to import direct routes.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=default"><b><span class="cmdname">default</span></b></a> <strong><span>cost</span></strong> <strong><span>inherit-metric</span></strong></span></span><p><p>OSPF is enabled to inherit the costs from the imported direct routes.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li><p>The <a href="cmdqueryname=default+%28OSPF%29"><b><span class="cmdname">default (OSPF)</span></b></a> command has a lower priority than the <a href="cmdqueryname=apply+cost"><b><span class="cmdname">apply cost</span></b></a> command. If the <a href="cmdqueryname=apply+cost"><b><span class="cmdname">apply cost</span></b></a> command is run, it overrides the <a href="cmdqueryname=default+%28OSPF%29"><b><span class="cmdname">default (OSPF)</span></b></a> command. Therefore, before running the <a href="cmdqueryname=default+%28OSPF%29"><b><span class="cmdname">default (OSPF)</span></b></a> command, ensure that the <a href="cmdqueryname=apply+cost"><b><span class="cmdname">apply cost</span></b></a> command is not run.</p>
</li><li><p>Do not run the <a href="cmdqueryname=default"><b><span class="cmdname">default</span></b></a> <strong><span>cost</span></strong> <i><span class="varname">cost-value</span></i> command after you run the <a href="cmdqueryname=default"><b><span class="cmdname">default</span></b></a> <strong><span>cost</span></strong> <strong><span>inherit-metric</span></strong> command. If the <a href="cmdqueryname=default"><b><span class="cmdname">default</span></b></a> <strong><span>cost</span></strong> <i><span class="varname">cost-value</span></i> command is run after the <a href="cmdqueryname=default"><b><span class="cmdname">default</span></b></a> <strong><span>cost</span></strong> <strong><span>inherit-metric</span></strong> command, the <a href="cmdqueryname=default"><b><span class="cmdname">default</span></b></a> <strong><span>cost</span></strong> <i><span class="varname">cost-value</span></i> command overrides the <a href="cmdqueryname=default"><b><span class="cmdname">default</span></b></a> <strong><span>cost</span></strong> <strong><span>inherit-metric</span></strong> command.</p>
</li></ul>
</div></div>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure IS-IS to import direct routes.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=isis"><b><span class="cmdname">isis</span></b></a> [ <i><span class="varname">process-id</span></i> ]</span></span><p><p>The IS-IS process view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=import-route"><b><span class="cmdname">import-route</span></b></a> <strong><span>direct</span></strong> <strong><span>inherit-cost</span></strong></span></span><p><p>IS-IS is configured to import direct routes and to inherit the costs from the imported direct routes.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure BGP to import direct routes.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i></span></span><p><p>The BGP process view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=import-route"><b><span class="cmdname">import-route</span></b></a> <strong><span>direct</span></strong></span></span><p><p>BGP is configured to import direct routes.</p>
<p>BGP automatically inherits the costs from the imported direct routes. The inherited costs are shown as the multi-exit discrimination (MED) values.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ip-route_cfg_0029.html">Configuring Association Between Direct Routes and a VRRP Group
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ip-route_cfg_0030.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ip-route_cfg_0032.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>