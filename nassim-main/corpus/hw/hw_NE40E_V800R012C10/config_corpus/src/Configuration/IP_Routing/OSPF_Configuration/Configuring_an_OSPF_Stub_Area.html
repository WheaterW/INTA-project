
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an OSPF Stub Area">
<meta name="abstract" content="Configuring a non-backbone area as a stub area can reduce routing entries in the area in an AS does not transmit routes learned from other areas in the AS or AS external routes. This reduces bandwidth and storage resource consumption.">
<meta name="description" content="Configuring a non-backbone area as a stub area can reduce routing entries in the area in an AS does not transmit routes learned from other areas in the AS or AS external routes. This reduces bandwidth and storage resource consumption.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospf_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospf_cfg_2016.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospf_cfg_2015.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="ospf,w00800033,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Route">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="z00875216">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00875216">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172365603">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring an OSPF Stub Area</title>
</head>
<body><a name="EN-US_TASK_0172365603"></a><a name="EN-US_TASK_0172365603"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an OSPF Stub Area</h1>
<div class="taskbody"><p>Configuring a non-backbone area as a stub area can reduce routing entries in the area in an AS does not transmit routes learned from other areas in the AS or AS external routes. This reduces bandwidth and storage resource consumption.</p>
<div class="context"><a name="EN-US_TASK_0172365603__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>The number of LSAs can be reduced by partitioning an OSPF network into different areas. To reduce the number of entries in the routing table and the number of LSAs to be transmitted in a non-backbone area, configure the non-backbone area on the border of the AS as a stub area.</p>
<p>Configuring a stub area is optional. A stub area generally resides on the border of an AS. For example, a non-backbone area with only one ABR can be configured as a stub area. In a stub area, the number of entries in the routing table and the amount of routing information to be transmitted greatly decrease.</p>
<p>Note the following points when configuring a stub area:</p>
<ul><li>The backbone area (Area 0) cannot be configured as a stub area.</li><li>If an area needs to be configured as a stub area, all the <span class="keyword">Router</span>s in this area must be configured with stub attributes using the <a href="cmdqueryname=stub"><b><span class="cmdname">stub</span></b></a> command.</li><li>An ASBR cannot exist in a stub area. External routes are not transmitted in the stub area.</li><li>Virtual links cannot exist in the stub area.</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0172365603__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring an OSPF stub area, complete the following tasks:</p>
<ul><li><p>Configure an address for each involved interface to ensure that neighboring devices can communicate with each other at the network layer.</p>
</li><li><p><a href="dc_vrp_ospf_cfg_0003.html">Configure basic OSPF functions</a>.</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172365603__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=ospf"><b><span class="cmdname">ospf</span></b></a> [ <i><span class="varname">process-id</span></i> ]</span></span><p><p>The OSPF view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=area"><b><span class="cmdname">area</span></b></a> <i><span class="varname">area-id</span></i></span></span><p><p>The OSPF area view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=stub"><b><span class="cmdname">stub</span></b></a></span></span><p><p>The specified area is configured as a stub area.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>All <span class="keyword">Router</span>s in a stub area must have the <a href="cmdqueryname=stub"><b><span class="cmdname">stub</span></b></a> command configuration.</li><li>Running the <a href="cmdqueryname=stub"><b><span class="cmdname">stub</span></b></a> command or canceling the configuration may cause the stub area to be updated. The <a href="cmdqueryname=stub"><b><span class="cmdname">stub</span></b></a> command configuration on a device can be canceled or the configuration can be performed on new devices in the stub area only after the last area update is complete.</li></ul>
</div></div>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=stub"><b><span class="cmdname">stub</span></b></a> <strong><span>no-summary</span></strong></span></span><p><p>The ABR is prevented from sending Type 3 LSAs (Summary LSAs) to the stub area.</p>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=stub"><b><span class="cmdname">stub</span></b></a><strong><span> default-route-advertise</span></strong><strong><span> backbone-peer-ignore</span></strong></span></span><p><p>The device is configured to advertise default routes without checking the neighbor status in the backbone area.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=default-cost"><b><span class="cmdname">default-cost</span></b></a> <i><span class="varname">cost</span></i></span><p><p>A cost is set for the default route advertised to the stub area.</p>
<p>To ensure the reachability of AS external routes, the ABR in the stub area generates a default route and advertises it to non-ABR <span class="keyword">Router</span>s in the stub area.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0172365603__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><ul><li><p>Run the <a href="cmdqueryname=display+ospf"><b><span class="cmdname">display ospf</span></b></a> [ <i><span class="varname">process-id</span></i> ] <strong><span>lsdb</span></strong> command to check OSPF LSDB information.</p>
</li><li><p>Run the <a href="cmdqueryname=display+ospf"><b><span class="cmdname">display ospf</span></b></a> [ <i><span class="varname">process-id</span></i> ] <strong><span>peer</span></strong> command to check information about OSPF neighbors.</p>
</li><li><p>Run the <a href="cmdqueryname=display+ospf"><b><span class="cmdname">display ospf</span></b></a> [ <i><span class="varname">process-id</span></i> ] <strong><span>routing</span></strong> command to check information about the OSPF routing table.</p>
</li></ul>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospf_cfg_0000.html">OSPF Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospf_cfg_2016.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospf_cfg_2015.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>