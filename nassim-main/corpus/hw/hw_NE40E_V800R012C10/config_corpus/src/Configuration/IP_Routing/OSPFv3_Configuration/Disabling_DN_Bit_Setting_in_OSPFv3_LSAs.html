
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Disabling DN Bit Setting in OSPFv3 LSAs">
<meta name="abstract" content="In a VPN Option A scenario, disabling DN bit setting in OSPFv3 LSAs allows PEs in different ASs to communicate with each other.">
<meta name="description" content="In a VPN Option A scenario, disabling DN bit setting in OSPFv3 LSAs allows PEs in different ASs to communicate with each other.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2106.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2094.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00556928,w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Route">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Route">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Routing Basis">
<meta name="OWNER" content="z00875216">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00875216">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0199805295">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Disabling DN Bit Setting in OSPFv3 LSAs</title>
</head>
<body><a name="EN-US_TASK_0199805295"></a><a name="EN-US_TASK_0199805295"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Disabling DN Bit Setting in OSPFv3 LSAs</h1>
<div class="taskbody"><p>In a VPN Option A scenario, disabling DN bit setting in OSPFv3 LSAs allows PEs in different ASs to communicate with each other.</p>
<div class="context"><a name="EN-US_TASK_0199805295__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p><a href="#EN-US_TASK_0199805295__fig1558113223218">Figure 1</a> shows a VPN Option A scenario where an OSPFv3 neighbor relationship is established between ASBR1 and ASBR2. Each of the ASBRs imports BGP routes from the connected PE to the OSPFv3 process, generates LSAs, and advertises the LSAs to the peer ASBR. The ASBRs, however, cannot use the received LSAs to generate OSPFv3 routes. This is because LSAs with the DN bit set cannot be used for route calculation, as defined in a standard protocol. Consequently, no OSPFv3 routes will be imported into BGP processes on the ASBRs, and no BGP routes will be advertised to the connected PEs, causing traffic loss. To prevent this issue, you can disable DN bit setting in OSPFv3 LSAs.</p>
<div class="fignone" id="EN-US_TASK_0199805295__fig1558113223218"><a name="EN-US_TASK_0199805295__fig1558113223218"></a><a name="fig1558113223218"></a><span class="figcap"><b>Figure 1 </b>OSPFv3 application in the VPN Option A scenario</span><br><span><img class="vsd" src="figure/en-us_image_0199805634.png" width="NaN" height="NaN"></span></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0199805295__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Configure a VPN instance before disabling DN bit setting in OSPFv3 LSAs.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0199805295__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=ospfv3"><b><span class="cmdname">ospfv3</span></b></a> [ <i><span class="varname">process-id</span></i> ] [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpnname</span></i><em> </em>]</span><p><p>An OSPFv3 process bound to the existing VPN instance is started, and the view of the OSPFv3 process is displayed.</p>
</p><p><p>An OSPFv3 process can be bound to only one VPN instance. If an OSPFv3 process is not bound to any VPN instance before being started, this process is a public network process. The public network OSPFv3 process cannot be bound to a VPN instance.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Deleting a VPN instance or disabling the IPv6 address family in the VPN instance will delete all the associated OSPFv3 processes.</p>
</div></div>
</p></li><li><span>Run <a href="cmdqueryname=router-id"><b><span class="cmdname">router-id</span></b></a> <i><span class="varname">router-id</span></i></span><p><p>A router ID is configured.</p>
</p><p><p>A router ID uniquely identifies an OSPFv3 process in an AS. If no router ID is configured, the OSPFv3 process cannot run.</p>
</p></li><li><span>Run <a href="cmdqueryname=import-route"><b><span class="cmdname">import-route</span></b></a> <strong><span>bgp</span></strong> [ <strong><span>cost</span></strong> <i><span class="varname">cost</span></i> | { <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> | <strong><span>route-filter</span></strong> <i><span class="varname">route-filter-name</span></i>  } | <strong><span>tag</span></strong> <i><span class="varname">tag</span></i> | <strong><span>type</span></strong> <i><span class="varname">type</span></i> ]<sup>*</sup></span><p><p>The device is configured to import BGP routes into OSPFv3.</p>
</p></li><li><span>Run <a href="cmdqueryname=dn-bit-set+disable"><b><span class="cmdname">dn-bit-set disable</span></b></a> { <strong><span>summary</span></strong> | <strong><span>ase</span></strong> | <strong><span>nssa</span></strong> }</span><p><p>DN bit setting in OSPFv3 LSAs is disabled.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2000.html">OSPFv3 Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2106.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ospfv3_cfg_2094.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>