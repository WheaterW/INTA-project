
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring SFTP Server Parameters">
<meta name="abstract" content="You can configure a device to support the SSH protocol of earlier versions, configure or change the listening port number of an SFTP server, and set an interval at which key pairs are updated.">
<meta name="description" content="You can configure a device to support the SSH protocol of earlier versions, configure or change the listening port number of an SFTP server, and set an interval at which key pairs are updated.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vfm_cfg_0015.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vfm_cfg_0017.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_login_cfg_0002_1.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="vfmvrp,w00800033,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configurations">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configurations">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configurations">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configurations">
<meta name="OWNER" content="lwx1238418">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="lWX1238418">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172359931">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Configuring SFTP Server Parameters</title>
</head>
<body><a name="EN-US_TASK_0172359931"></a><a name="EN-US_TASK_0172359931"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring SFTP Server Parameters</h1>
<div class="taskbody"><p>You can configure a device to support the SSH protocol of earlier versions, configure or change the listening port number of an SFTP server, and set an interval at which key pairs are updated.</p>
<div class="context"><a name="EN-US_TASK_0172359931__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p><a href="#EN-US_TASK_0172359931__tab_dc_vrp_vfm_cfg_001801">Table 1</a> describes SSH server parameters.</p>

<div class="tableBorder"><a name="EN-US_TASK_0172359931__tab_dc_vrp_vfm_cfg_001801"></a><a name="tab_dc_vrp_vfm_cfg_001801"></a><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_TASK_0172359931__tab_dc_vrp_vfm_cfg_001801" frame="border" border="1" rules="all"><caption><b>Table 1 </b>SSH server parameters</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="20%" id="mcps1.4.1.2.2.3.1.1" liSelected="liSelected"><p>SFTP Server Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="80%" id="mcps1.4.1.2.2.3.1.2" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.1.2.2.3.1.1 "><p>Listening port number of an SFTP server</p>
</td>
<td class="cellrowborder" valign="top" width="80%" headers="mcps1.4.1.2.2.3.1.2 "><p>If the standard port is used as the listening port of the SFTP server, attackers may continuously access this port, consuming a large amount of bandwidth and deteriorating server performance. As a result, authorized users may fail to access the server. After the listening port number of the SFTP server is changed, attackers do not know the new listening port number, which prevents attackers from accessing the listening port and improves security.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.1.2.2.3.1.1 "><p>Interval at which key pairs are updated</p>
</td>
<td class="cellrowborder" valign="top" width="80%" headers="mcps1.4.1.2.2.3.1.2 "><p>After an interval is set, key pairs are updated at the configured interval to improve security.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.1.2.2.3.1.1 "><p>Timeout period for SSH authentication</p>
</td>
<td class="cellrowborder" valign="top" width="80%" headers="mcps1.4.1.2.2.3.1.2 "><p>If a user fails to log in when the timeout period for SSH authentication expires, the system disconnects the current connection to ensure system security.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.1.2.2.3.1.1 "><p>Maximum number of clients that can be connected to the server</p>
</td>
<td class="cellrowborder" valign="top" width="80%" headers="mcps1.4.1.2.2.3.1.2 "><p>If the specified maximum number is less than the number of clients that are being connected to the server, the logged-in users will not be forced offline, and the server no longer accepts new connection requests.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.1.2.2.3.1.1 "><p>ACL for the SSH server</p>
</td>
<td class="cellrowborder" valign="top" width="80%" headers="mcps1.4.1.2.2.3.1.2 "><p>An ACL on the SSH server specifies the clients that can access the SSH server running IPv6. This configuration prevents unauthorized users from accessing the SSH server, ensuring data security.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.1.2.2.3.1.1 "><p>Keepalive feature</p>
</td>
<td class="cellrowborder" valign="top" width="80%" headers="mcps1.4.1.2.2.3.1.2 "><p>After this feature is enabled, the SSH server returns keepalive responses to an SSH client to check whether the connection between them is normal, facilitating fast fault detection.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.1.2.2.3.1.1 "><p>Timeout period for disconnecting an SFTP client from the SFTP server</p>
</td>
<td class="cellrowborder" valign="top" width="80%" headers="mcps1.4.1.2.2.3.1.2 "><p>If the idle time of a connection exceeds a configured timeout period, the system automatically ends the connection to prevent users who do not perform any operations from occupying connection resources for a long time.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.1.2.2.3.1.1 "><p>Source interface of an SSH server</p>
</td>
<td class="cellrowborder" valign="top" width="80%" headers="mcps1.4.1.2.2.3.1.2 "><p>After the source interface is specified, the system only allows SFTP users to log in to the SSH server through the source interface. SFTP users logging in through other interfaces are denied.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.1.2.2.3.1.1 "><p>Bogus-list mode of SSH server authentication</p>
</td>
<td class="cellrowborder" valign="top" width="80%" headers="mcps1.4.1.2.2.3.1.2 "><p>Disabling the bogus-list mode of SSH server authentication reduces the authentication duration for some SFTP users to log in to the server in password authentication mode.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172359931__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Perform one or more operations described in <a href="#EN-US_TASK_0172359931__tab_dc_vrp_vfm_cfg_001802">Table 2</a>.</span><p>
<div class="tableBorder"><a name="EN-US_TASK_0172359931__tab_dc_vrp_vfm_cfg_001802"></a><a name="tab_dc_vrp_vfm_cfg_001802"></a><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_TASK_0172359931__tab_dc_vrp_vfm_cfg_001802" frame="border" border="1" rules="all"><caption><b>Table 2 </b>Configurations of SFTP server parameters</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="27%" id="mcps1.4.2.2.2.1.2.3.1.1" liSelected="liSelected"><p>Item</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="73%" id="mcps1.4.2.2.2.1.2.3.1.2" liSelected="liSelected"><p>Operation</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="27%" headers="mcps1.4.2.2.2.1.2.3.1.1 "><p>(Optional) Enable compatibility with earlier SSH versions.</p>
</td>
<td class="cellrowborder" valign="top" width="73%" headers="mcps1.4.2.2.2.1.2.3.1.2 "><p>Run the <a href="cmdqueryname=ssh+server+compatible-ssh1x+enable"><b><span class="cmdname">ssh server compatible-ssh1x enable</span></b></a> command.</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>If the SSH server is enabled to be compatible with earlier SSH versions, the system prompts a security risk.</p>
</div></div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="27%" headers="mcps1.4.2.2.2.1.2.3.1.1 "><p>(Optional) Configure a listening port number for the SFTP server.</p>
</td>
<td class="cellrowborder" valign="top" width="73%" headers="mcps1.4.2.2.2.1.2.3.1.2 "><p>Run the <a href="cmdqueryname=ssh+server+port"><b><span class="cmdname">ssh server port</span></b></a> <i><span class="varname">port-number</span></i> command.</p>
<p>If a new listening port number is set, the SFTP server terminates all established connections before using the new port number to listen for connection requests. </p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="27%" headers="mcps1.4.2.2.2.1.2.3.1.1 "><p>(Optional) Configure the interval at which key pairs are updated.</p>
</td>
<td class="cellrowborder" valign="top" width="73%" headers="mcps1.4.2.2.2.1.2.3.1.2 "><p>Run the <a href="cmdqueryname=ssh+server+rekey-interval"><b><span class="cmdname">ssh server rekey-interval</span></b></a> <i><span class="varname">hours</span></i> command.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="27%" headers="mcps1.4.2.2.2.1.2.3.1.1 "><p>(Optional) Configure the timeout period for SSH authentication.</p>
</td>
<td class="cellrowborder" valign="top" width="73%" headers="mcps1.4.2.2.2.1.2.3.1.2 "><p>Run the <a href="cmdqueryname=ssh+server+timeout"><b><span class="cmdname">ssh server timeout</span></b></a> <i><span class="varname">seconds</span></i> command.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="27%" headers="mcps1.4.2.2.2.1.2.3.1.1 "><p>(Optional) Configure the maximum number of clients that can be connected to the SSH server.</p>
</td>
<td class="cellrowborder" valign="top" width="73%" headers="mcps1.4.2.2.2.1.2.3.1.2 "><p>Run the <a href="cmdqueryname=sftp+max-sessions"><b><span class="cmdname">sftp max-sessions</span></b></a> <i><span class="varname">max-session-count</span></i> command.</p>
<p>If the maximum number is changed to a value less than the number of login users, login users' connections are retained but new access requests are rejected.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="27%" headers="mcps1.4.2.2.2.1.2.3.1.1 "><p>(Optional) Configure an ACL for the SSH server.</p>
</td>
<td class="cellrowborder" valign="top" width="73%" headers="mcps1.4.2.2.2.1.2.3.1.2 "><p>Run the <a href="cmdqueryname=ssh+%5B+ipv6+%5D+server+acl"><b><span class="cmdname">ssh [ ipv6 ] server acl</span></b></a> { <i><span class="varname">acl-number</span></i> | <i><span class="varname">acl6-name</span></i> } command.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="27%" headers="mcps1.4.2.2.2.1.2.3.1.1 "><p>(Optional) Enable the keepalive feature on the SSH server.</p>
</td>
<td class="cellrowborder" valign="top" width="73%" headers="mcps1.4.2.2.2.1.2.3.1.2 "><p>Run the <a href="cmdqueryname=ssh+server+keepalive+enable"><b><span class="cmdname">ssh server keepalive enable</span></b></a> command.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="27%" headers="mcps1.4.2.2.2.1.2.3.1.1 "><p>(Optional) Configure a timeout period for disconnecting an SFTP client from the SFTP server.</p>
</td>
<td class="cellrowborder" valign="top" width="73%" headers="mcps1.4.2.2.2.1.2.3.1.2 "><p>Run the <a href="cmdqueryname=sftp+idle-timeout"><b><span class="cmdname">sftp idle-timeout</span></b></a> <i><span class="varname">minutes</span></i> [ <i><span class="varname">seconds</span></i> ] command.</p>
<p>You can run the <a href="cmdqueryname=sftp+idle-timeout"><b><span class="cmdname">sftp idle-timeout</span></b></a> <strong><span>0</span></strong> <strong><span>0</span></strong> command to disable the function of disconnecting the client from the SFTP server in case of timeout.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="27%" headers="mcps1.4.2.2.2.1.2.3.1.1 "><p>Specify the source interface or source address for the SSH server.</p>
</td>
<td class="cellrowborder" valign="top" width="73%" headers="mcps1.4.2.2.2.1.2.3.1.2 "><ul><li>Run the <a href="cmdqueryname=ssh+server-source"><b><span class="cmdname">ssh server-source</span></b></a> <strong><span>-i</span></strong> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <i><span class="varname">interface-name</span></i> } command to specify the source interface for the SSH server.</li><li>Run the <a href="cmdqueryname=ssh+server-source"><b><span class="cmdname">ssh server-source</span></b></a> <strong><span>all-interface</span></strong> command to allow any interface on the SSH server as its source interface.</li><li>Run the <a href="cmdqueryname=ssh+ipv6+server-source"><b><span class="cmdname">ssh ipv6 server-source</span></b></a> <strong><span>-a</span></strong> <i><span class="varname">ipv6-address</span></i> [ <strong><span>-vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] command to specify a source IPv6 address for the SSH server.</li><li>Run the <a href="cmdqueryname=ssh+ipv6+server-source"><b><span class="cmdname">ssh ipv6 server-source</span></b></a> <strong><span>all-interface</span></strong> command to allow any IPv6 interface on the SSH server as its source interface.</li><li>Run the <a href="cmdqueryname=ssh+server-source"><b><span class="cmdname">ssh server-source</span></b></a> <strong><span>physic-isolate</span></strong> <strong><span>-i</span></strong> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <i><span class="varname">interface-name</span></i> } <strong><span>-a</span></strong> <i><span class="varname">ip-address</span></i> command to specify a source IPv4 interface for the SSH server and set the interface isolation attribute for the SSH server.</li><li>Run the <a href="cmdqueryname=ssh+ipv6+server-source"><b><span class="cmdname">ssh ipv6 server-source</span></b></a> <strong><span>physic-isolate</span></strong> <strong><span>-i</span></strong> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <i><span class="varname">interface-name</span></i> } <strong><span>-a</span></strong> <i><span class="varname">ipv6-address</span></i> command to specify a source IPv6 interface for the SSH server and set the interface isolation attribute for the SSH server.</li></ul>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>After the <strong><span>all-interface</span></strong> parameter is configured, users can log in to the SSH server through all valid interfaces, which increases system security risks. Therefore, you are advised to cancel this configuration.</p>
<p>After the interface isolation attribute is set successfully, packets can be sent to the server only through the specified physical interface, and those sent through other interfaces are discarded.</p>
</div></div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="27%" headers="mcps1.4.2.2.2.1.2.3.1.1 "><p>(Optional) Configure the bogus-list mode of SSH server authentication.</p>
</td>
<td class="cellrowborder" valign="top" width="73%" headers="mcps1.4.2.2.2.1.2.3.1.2 "><p>Run the <a href="cmdqueryname=ssh+server+authentication-method+bogus-list+disable"><b><span class="cmdname">ssh server authentication-method bogus-list disable</span></b></a> command.</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vfm_cfg_0015.html">Using SFTP to Operate Files
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vfm_cfg_0017.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_login_cfg_0002_1.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>