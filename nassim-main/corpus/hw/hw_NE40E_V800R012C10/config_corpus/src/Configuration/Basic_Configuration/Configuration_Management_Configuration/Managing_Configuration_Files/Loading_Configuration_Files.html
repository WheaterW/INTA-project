
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Loading Configuration Files">
<meta name="abstract" content="To run commands in a batch for function configuration on a device that is properly running, load a configuration file to the device.">
<meta name="description" content="To run commands in a batch for function configuration on a device that is properly running, load a configuration file to the device.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfgm_cfg_0020.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfgm_cfg_0043.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfgm_cfg_0022.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,cfgmvrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Configuration Management">
<meta name="featuretype" content="Basic Configurations">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Configuration Management">
<meta name="featuretype" content="Basic Configurations">
<meta name="featurename" content="Configuration Management">
<meta name="featuretype" content="Basic Configurations">
<meta name="featurename" content="Configuration Management">
<meta name="featuretype" content="Basic Configurations">
<meta name="OWNER" content="lwx1238418">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="ccms">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172359996">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Loading Configuration Files</title>
</head>
<body><a name="EN-US_TASK_0172359996"></a><a name="EN-US_TASK_0172359996"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Loading Configuration Files</h1>
<div class="taskbody"><p>To run commands in a batch for function configuration on a device that is properly running, load a configuration file to the device.</p>
<div class="context"><a name="EN-US_TASK_0172359996__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>To load the configuration file on the remote server or local configuration file to the running configuration database, perform the following steps:</p>
<p>This function is supported only in the two-phase configuration validation mode.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172359996__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Perform one of the following operations based on the location of the configuration file:</span><p><ul><li>Run the <a href="cmdqueryname=load+configuration"><b><span class="cmdname">load configuration</span></b></a> <strong><span>file</span></strong> <i><span class="varname">file-name</span></i> <strong><span>merge</span></strong><span> [ <strong><span>relative</span></strong> ]</span> command to load the local configuration file and deliver configurations.</li><li>Run the <a href="cmdqueryname=load+configuration"><b><span class="cmdname">load configuration</span></b></a> <strong><span>server</span></strong> <i><span class="varname">ip-address</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] <strong><span>transport-type</span></strong> { <strong><span>ftp</span></strong> | <strong><span>sftp</span></strong> } <strong><span>username</span></strong> <i><span class="varname">user-name</span></i> <strong><span>password</span></strong> <i><span class="varname">password-value</span></i> <strong><span>file</span></strong> <i><span class="varname">file-name</span></i> <strong><span>merge</span></strong><span> [ <strong><span>relative</span></strong> ]</span> command to load the configuration file on an IPv4 server and deliver configurations to the local device.</li><li>Run the <a href="cmdqueryname=load+configuration"><b><span class="cmdname">load configuration</span></b></a> <strong><span>server ipv6</span></strong> <i><span class="varname">ipv6-address</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] <strong><span>transport-type</span></strong> { <strong><span>ftp</span></strong> | <strong><span>sftp</span></strong> } <strong><span>username</span></strong> <i><span class="varname">user-name</span></i> <strong><span>password</span></strong> <i><span class="varname">password-value</span></i> <strong><span>file</span></strong> <i><span class="varname">file-name</span></i> <strong><span>merge</span></strong><span> [ <strong><span>relative</span></strong> ]</span> command to load the configuration file on an IPv6 server and deliver configurations to the local device.</li><li>Run the <a href="cmdqueryname=load+configuration"><b><span class="cmdname">load configuration</span></b></a> <strong><span>server</span></strong> <strong><span>http url</span></strong> <i><span class="varname">url-address</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] <strong><span>merge</span></strong> [ <strong><span>relative</span></strong> ] command to load the configuration file on the server at a specified URL and deliver configurations to the local device.</li></ul>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Manually constructing a configuration file is not recommended. If the format of a manually constructed configuration file is incorrect, the configuration restoration may fail or an error may occur during the configuration restoration.</p>
<div class="p">The specified configuration file to be loaded must exist and meet the following conditions:<ul><li><p>The configuration file can contain only configuration commands, view switching commands, and pound signs (#). If you load other types of commands, such as display commands used for query, reset/save/ping commands used for maintenance, quit, commit, return, upgrade-compatible commands<span>, and one-phase configuration validation commands</span>, the device reports an error and continues to load follow-up commands.</p>
</li><li><p>The interactive commands in the configuration file support only Y/N automatic interaction.</p>
</li><li>The indentation of commands in the configuration file must be correct. In the configuration file, the commands in the system view and the level-1 view under the system view must be left-aligned, the commands in the level-1 view must be indented by one space, and each subsequent view must be indented by one more space.</li><li>If the pound sign (#) is left-aligned, the system view is displayed. If the pound sign (#) is indented, it is used only to isolate command blocks; in this case, the pound sign (#) must be aligned with the first command in the following command block. If the pound sign (#) is incorrectly used, configurations may be lost, or commands may be run in an unexpected view.</li><li><p>The configuration file name extension must be *.zip, *.cfg, *.txt, *.dat, or *.bat, or name of text file without suffix. FTP or SFTP also supports the file names with a server directory. The file name does not support special characters "~" "?" "*" "/" "\" ":" """ "|" "&lt;" "&gt;" "[" "]".</p>
<ul><li>Both .cfg and .txt files are text files whose content can be directly viewed. If a .cfg or .txt file is specified as the configuration file to be loaded, the system restores the commands in the file one by one during the replacement process.</li><li>A .zip file is obtained by compressing a .cfg file, occupying less space. If a .zip file is specified as the configuration file to be loaded, the system decompresses the file into a .cfg file, and then restores the commands in the file one by one. The .cfg file must have the same name as the .zip file. Otherwise, the configuration file fails to be loaded.</li><li>A .dat file is a compressed file, which can be in binary or text mode. Only a .dat file exported from a Huawei device is supported, and the file cannot be modified manually. Otherwise, the file fails to be loaded.</li><li>A .bat file is used for batch processing. It is a text file that can be modified manually.</li></ul>
</li></ul>
</div>
</div></div>
</p></li><li><span>After loading the configuration file, run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfgm_cfg_0020.html">Managing Configuration Files
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfgm_cfg_0043.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfgm_cfg_0022.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>