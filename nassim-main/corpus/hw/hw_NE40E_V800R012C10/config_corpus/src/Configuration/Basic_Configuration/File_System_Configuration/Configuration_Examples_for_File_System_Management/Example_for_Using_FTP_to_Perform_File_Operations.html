
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Using FTP to Perform File Operations">
<meta name="abstract" content="Files can be uploaded or downloaded using FTP.">
<meta name="description" content="Files can be uploaded or downloaded using FTP.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vfm_cfg_0022.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vfm_cfg_0024.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_basic_cfg_0112_1.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="vfmvrp,w00800033,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configurations">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configurations">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configurations">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configurations">
<meta name="OWNER" content="lwx1238418">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00830490">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172359941">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Example for Using FTP to Perform File Operations</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0172359941"></a><a name="EN-US_TASK_0172359941"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Using FTP to Perform File Operations</h1>
<div class="taskbody"><p>Files can be uploaded or downloaded using FTP.</p>
<div class="context"><a name="EN-US_TASK_0172359941__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>As devices operate stably and are deployed on a large scale, more and more devices need to be maintained and upgraded remotely. Online software upgrade, a new upgrade method by loading software packages remotely, facilitates remote online upgrades, reduces upgrade expenditures, shortens the time that customers wait for upgrades, and improves customers' satisfaction. The delay, packet loss, and jitter affect data transmission on networks. To ensure the quality of online upgrade and data transmission, use FTP to perform online upgrades and transfer files based on TCP connections.</p>
<p>As shown in <a href="#EN-US_TASK_0172359941__fig_dc_vrp_vfm_cfg_002501">Figure 1</a>, you can log in to the FTP server from the terminal emulation program to upload or download files.</p>
<div class="fignone" id="EN-US_TASK_0172359941__fig_dc_vrp_vfm_cfg_002501"><a name="EN-US_TASK_0172359941__fig_dc_vrp_vfm_cfg_002501"></a><a name="fig_dc_vrp_vfm_cfg_002501"></a><span class="figcap"><b>Figure 1 </b>File operations using FTP</span><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In this example, interface1 represents <span>GigabitEthernet0/0/0</span>.</p>
</div></div>
<br><span><img class="vsd" src="images/fig_dc_vrp_vfm_cfg_002501.png" width="NaN" height="NaN"></span></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172359941__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Precautions</h4><p>After you log in to the FTP server through the console port, configure an IP address of a logical interface as the source address for FTP login.</p>
<p>In insecure network environments, you are advised to use a secure protocol. <a href="dc_vrp_vfm_cfg_0026.html">Example for Using SFTP to Operate Files</a> provides examples for secure protocols.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172359941__1.4.3"></a><a name="1.4.3"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><p>The configuration roadmap is as follows:</p>
<ol><li><p>Configure an IP address for the FTP server.</p>
</li><li><p>Enable the FTP server function.</p>
</li><li><p>Configure an authentication mode, authorization mode, and authorized directory.</p>
</li><li><p>Log in to the FTP server by using the correct user name and password.</p>
</li><li><p>Upload a file to or download a file from the FTP server.</p>
</li></ol>
</div></div>
<div class="context"><a name="EN-US_TASK_0172359941__1.4.4"></a><a name="1.4.4"></a>
<div class="p"><h4 class="sectiontitle">Data Preparation</h4><p>To complete the configuration, you need the following data:</p>
<ul><li><p>IP address for the FTP server: 10.137.217.221</p>
</li><li><p>FTP username (huawei) set on the server</p>
</li><li><p>Path on which the file to be uploaded is saved and the path on which the file to be downloaded is saved</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172359941__1.4.5"></a><a name="1.4.5"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure an IP address for the FTP server.</span><p><pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt;<strong> system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>]<strong> sysname server</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>]<strong> commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>server] <strong>interface <span>GigabitEthernet0/0/0</span></strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>server-<span>GigabitEthernet0/0/0</span>] <strong>undo shutdown</strong></pre>
<pre class="screen">[<span class="keyword">*</span>server-<span>GigabitEthernet0/0/0</span>] <strong>ip address 10.137.217.221 255.255.0.0</strong></pre>
<pre class="screen">[<span class="keyword">*</span>server-<span>GigabitEthernet0/0/0</span>]<strong> quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span>server] <strong>commit</strong></pre>
</p></li><li><span>Enable the FTP server function.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>server] <strong>interface LoopBack 0</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>server-LoopBack0] <strong>ip address 10.1.1.1 255.255.255.255</strong></pre>
<pre class="screen">[<span class="keyword">*</span>server-LoopBack0] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span>server] <strong>ftp server enable</strong></pre>
<pre class="screen">[<span class="keyword">*</span>server] <strong>ftp server-source -i </strong><strong>loopback</strong> <strong>0</strong></pre>
<pre class="screen">[<span class="keyword">*</span>server] <strong>commit</strong></pre>
</p></li><li><span>Configure an authentication mode, authorization mode, and authorized directory.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>server] <strong>aaa</strong></pre>
<pre class="screen">[<span class="keyword">*</span>server-aaa] <strong>local-user huawei password</strong></pre>
<pre class="screen">Please configure the password (<span>8-128</span>)
Enter Password:
Confirm Password:</pre>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The password is entered in interactive mode, and the system does not display the password.</p>
<div class="p">Special characters do not include question marks (?) or spaces. However, if the password is enclosed in double quotation marks (" "), spaces are allowed.<ul><li>If double quotation marks are used to set a password with spaces, double quotation marks cannot be used between double quotation marks.</li><li>Double quotation marks can contain double quotation marks if no space is used in a password.</li></ul>
</div>
<p>For example, the password "Aa 123"45"" is invalid, but the password "Aa123"45"" is valid.</p>
</div></div>
<pre class="screen">[<span class="keyword">*</span>server-aaa] <strong>local-user huawei service-type ftp</strong></pre>
<pre class="screen">[<span class="keyword">*</span>server-aaa] <strong>local-user huawei ftp-directory cfcard:/</strong></pre>
<pre class="screen">[<span class="keyword">*</span>server-aaa] <strong>local-user huawei level 3</strong></pre>
<pre class="screen">[<span class="keyword">*</span>server-aaa] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span>server] <strong>commit</strong></pre>
</p></li><li><span>Run the <strong>ftp</strong> command at the Windows command prompt, and enter the correct user name and password to set up an FTP connection.</span></li><li><span>Uploads and downloads files on the user terminal.</span><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>You can run the <a href="cmdqueryname=dir"><b><span class="cmdname">dir</span></b></a> command before downloading a file or after uploading a file to view the detailed information about the file.</p>
</div></div>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0172359941__1.4.6"></a><a name="1.4.6"></a><h4 class="sectiontitle">FTP Server Configuration File </h4><pre class="screen">#
sysname server
#
FTP server enable
FTP server-source -i loopback 0
#
aaa
 local-user huawei password cipher @%@%:BC"Qzkbh*9PhJU|U&gt;mX,cZQ@%@%
 local-user huawei service-type ftp
 local-user huawei level 3
 local-user huawei ftp-directory cfcard:/
#
interface <span>GigabitEthernet0/0/0</span>
 undo shutdown
 ip address 10.137.217.221 255.255.0.0
#
interface LoopBack 0
<strong> </strong>ip address 10.1.1.1 255.255.255.255
#
return</pre>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vfm_cfg_0022.html">Configuration Examples for File System Management
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vfm_cfg_0024.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_basic_cfg_0112_1.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>