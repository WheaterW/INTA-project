
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Pasting Differential Configurations">
<meta name="abstract" content="If multiple devices share the same source but have different configurations, use this function to paste differential configurations to desired devices so that the configurations on the devices are the same.">
<meta name="description" content="If multiple devices share the same source but have different configurations, use this function to paste differential configurations to desired devices so that the configurations on the devices are the same.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfgm_cfg_0060.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfgm_cfg_0061.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfgm_cfg_0063.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,cfgmvrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Configuration Management">
<meta name="featuretype" content="Basic Configurations">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Configuration Management">
<meta name="featuretype" content="Basic Configurations">
<meta name="featurename" content="Configuration Management">
<meta name="featuretype" content="Basic Configurations">
<meta name="featurename" content="Configuration Management">
<meta name="featuretype" content="Basic Configurations">
<meta name="featurename" content="Configuration Management">
<meta name="featuretype" content="Basic Configurations">
<meta name="OWNER" content="lwx1238418">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00425560">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172360006">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Pasting Differential Configurations</title>
</head>
<body><a name="EN-US_TASK_0172360006"></a><a name="EN-US_TASK_0172360006"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Pasting Differential Configurations</h1>
<div class="taskbody"><p>If multiple devices share the same source but have different configurations, use this function to paste differential configurations to desired devices so that the configurations on the devices are the same.</p>
<div class="context"><a name="EN-US_TASK_0172360006__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>If one of the devices with the same configurations encounters a configuration change, the configurations of other devices must be changed accordingly to keep configuration consistency. In this case, you can query the configuration differences and use the configuration replacement function to paste the differential configurations to those devices. This ensures that the configurations on all the devices are the same.</p>
<p>This function is supported only in the two-phase configuration validation mode.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172360006__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Prerequisites</h4><p>The system has been configured, and configuration rollback points have been generated. The list of configuration rollback points can be viewed using the <a href="cmdqueryname=display+configuration+commit+list"><b><span class="cmdname">display configuration commit list</span></b></a> [ <strong><span>verbose</span></strong> ] [ <i><span class="varname">number-of-commits</span></i> <span>| <strong><span>label</span></strong></span> ] command.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172360006__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>View configuration differences.</span><ul><li><p>View the differential configurations (with the specified tag) between the configurations in a specified configuration file on the device and the current running configurations.</p>
<ul><li>Run the <a href="cmdqueryname=display+configuration+changes"><b><span class="cmdname">display configuration changes</span></b></a> <strong><span>running file</span></strong> <i><span class="varname">file-name</span></i> <strong><span>with-tag</span></strong> command to view the current running configurations that are different from the configurations in the specified configuration file.</li><li>Run the <a href="cmdqueryname=display+configuration+changes"><b><span class="cmdname">display configuration changes</span></b></a> <strong><span>file</span></strong> <i><span class="varname">file-name</span></i> <strong><span>running</span></strong> <strong><span>with-tag</span></strong> command to view the specified configuration file's configurations that are different from the current running configurations.</li><li>Run the <a href="cmdqueryname=display+configuration+changes"><b><span class="cmdname">display configuration changes</span></b></a> <strong><span>running label</span></strong> <i><span class="varname">label</span></i> <strong><span>with-tag</span></strong> command to view the current running configurations that are different from the configurations with a specified tag.</li><li>Run the <a href="cmdqueryname=display+configuration+changes"><b><span class="cmdname">display configuration changes</span></b></a> <strong><span>label</span></strong> <i><span class="varname">label</span></i> <strong><span>running</span></strong> <strong><span>with-tag</span></strong> command to view the configurations (with a specified tag) that are different from the current running configurations.</li></ul>
</li><li>View the configuration change information (with the specified tag) recorded at specified configuration rollback points.<ul><li>Run the <a href="cmdqueryname=display+configuration+commit+changes"><b><span class="cmdname">display configuration commit changes</span></b></a> [ <strong><span>at</span></strong> <i><span class="varname">commit-id</span></i> | <strong><span>since</span></strong> <i><span class="varname">commit-id</span></i> | <strong><span>last </span></strong> <i><span class="varname">number-of-commits</span></i> ] <strong><span>with-tag</span></strong> command to check the configuration change information (with the specified tag) recorded at specified configuration rollback points.</li></ul>
</li></ul>
</li><li><span>Copy the differential configurations and paste them to the local device to replace the current running configurations of the device.</span><ol type="a"><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=load+configuration+terminal"><b><span class="cmdname">load configuration terminal</span></b></a></span></span><p><p>The configuration difference pasting view is displayed.</p>
</p><p><div class="p">To paste
the differential configurations in the configuration difference pasting
view, perform the following steps:<ol class="substepthirdol" id="EN-US_TASK_0172360006__en-us_cliref_0172375480_ol1146862924214422"><li id="EN-US_TASK_0172360006__en-us_cliref_0172375480_li700861712214422"><p id="EN-US_TASK_0172360006__en-us_cliref_0172375480_p434989789214422"><a name="EN-US_TASK_0172360006__en-us_cliref_0172375480_li700861712214422"></a><a name="en-us_cliref_0172375480_li700861712214422"></a>After entering the configuration difference pasting view, copy
and paste the queried differential configurations to the current device.</p>
</li><li id="EN-US_TASK_0172360006__en-us_cliref_0172375480_li1436440044214422"><p id="EN-US_TASK_0172360006__en-us_cliref_0172375480_p236659934214422"><a name="EN-US_TASK_0172360006__en-us_cliref_0172375480_li1436440044214422"></a><a name="en-us_cliref_0172375480_li1436440044214422"></a>After pasting differential configurations, enter <b><span class="cmdname" id="EN-US_TASK_0172360006__en-us_cliref_0172375480_cmdname559350138214422">end-diff</span></b> or <b><span class="cmdname" id="EN-US_TASK_0172360006__en-us_cliref_0172375480_cmdname522539247214422">abort</span></b>.</p>
<ul id="EN-US_TASK_0172360006__en-us_cliref_0172375480_ul191093939214422"><li id="EN-US_TASK_0172360006__en-us_cliref_0172375480_li136633933214422"><b><span class="cmdname" id="EN-US_TASK_0172360006__en-us_cliref_0172375480_cmdname746493288214422">end-diff</span></b>: Ends the pasting and exits from the
configuration difference pasting view.</li><li id="EN-US_TASK_0172360006__en-us_cliref_0172375480_li45460989214422"><b><span class="cmdname" id="EN-US_TASK_0172360006__en-us_cliref_0172375480_cmdname1706147438214422">abort</span></b>: Cancels the pasting and exits from the
configuration difference pasting view.</li></ul>
</li></ol>
</div>
</p></li><li class="substepexpand"><span>(Optional) Run <span><a href="cmdqueryname=display+configuration+candidate"><b><span class="cmdname">display configuration candidate</span></b></a></span></span><p><p>Check whether the post-replacement configurations meet the expectation.</p>
</p><p><ul><li>If the configurations meet the expectation, go to Step d.</li><li>If the configurations do not meet the expectation, run the <a href="cmdqueryname=clear+configuration+candidate"><b><span class="cmdname">clear configuration candidate</span></b></a> command to clear the configurations and perform Step b to paste differential configurations.</li></ul>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfgm_cfg_0060.html">Configuration Replacement
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfgm_cfg_0061.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfgm_cfg_0063.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>