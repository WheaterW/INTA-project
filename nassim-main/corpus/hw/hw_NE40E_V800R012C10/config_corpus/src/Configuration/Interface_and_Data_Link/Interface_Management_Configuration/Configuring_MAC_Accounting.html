
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring MAC Accounting">
<meta name="abstract" content="If the MAC accounting function is enabled on an interface of a device, the device collects IPv4 or IPv6 traffic statistics corresponding to MAC addresses learned by the interface.">
<meta name="description" content="If the MAC accounting function is enabled on an interface of a device, the device collects IPv4 or IPv6 traffic statistics corresponding to MAC addresses learned by the interface.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ifm_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ifm_cfg_3001.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ifm_cfg_6010.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00437000">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Interface Management">
<meta name="featuretype" content="Interface and Data Link">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Interface Management">
<meta name="featuretype" content="Interface and Data Link">
<meta name="featurename" content="Interface Management">
<meta name="featurename" content="Interface Management">
<meta name="featuretype" content="Interface and Data Link">
<meta name="featuretype" content="Interface and Data Link">
<meta name="OWNER" content="w00437000">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="m00605382">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172362588">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring MAC Accounting</title>
</head>
<body><a name="EN-US_TASK_0172362588"></a><a name="EN-US_TASK_0172362588"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring MAC Accounting</h1>
<div class="taskbody"><p>If the MAC accounting function is enabled on an interface of a device, the device collects IPv4 or IPv6 traffic statistics corresponding to MAC addresses learned by the interface.</p>
<div class="context"><a name="EN-US_TASK_0172362588__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><div class="fignone"><span class="figcap"><b>Figure 1 </b>MAC accounting usage scenario</span>

<br><span><img class="vsd" id="EN-US_TASK_0172362588__en-us_cliref_0172377460_image1078123873214439" src="figure/en-us_image_0172377462.png"></span><br>
</div>
<div class="p">MAC accounting can be used in either of the following
scenarios:<ul id="EN-US_TASK_0172362588__en-us_cliref_0172377460_ul1248268002214439"><li id="EN-US_TASK_0172362588__en-us_cliref_0172377460_li2132385581214439"><p id="EN-US_TASK_0172362588__en-us_cliref_0172377460_p1797358731214439"><a name="EN-US_TASK_0172362588__en-us_cliref_0172377460_li2132385581214439"></a><a name="en-us_cliref_0172377460_li2132385581214439"></a>When a Huawei device on an ISP network functions as an Internet
exchange point (IXP), the networks connected to the IXP are provided
by other carriers. When the ISP leases the other carriers' networks,
for example, Network1 and Network2, they charge the ISP by traffic
volume. To check traffic of MAC addresses, run the <strong id="EN-US_TASK_0172362588__en-us_cliref_0172377460_b186645105214439">mac accounting
enable</strong> command to enable the MAC accounting function on the IXP's
interface, so that traffic of the peer routers can be obtained. This
facilitates the ISP to verify or analyze traffic. </p>
</li><li id="EN-US_TASK_0172362588__en-us_cliref_0172377460_li2077377438214439"><p id="EN-US_TASK_0172362588__en-us_cliref_0172377460_p693467540214439"><a name="EN-US_TASK_0172362588__en-us_cliref_0172377460_li2077377438214439"></a><a name="en-us_cliref_0172377460_li2077377438214439"></a>If the IXP is under DDoS attacks, the MAC accounting function
helps the ISP to check the traffic of peer routers with specified
MAC addresses. If traffic of a specified MAC address is huge, the
attack traffic may be from this device with the specified MAC address.</p>
</li></ul>
</div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172362588__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span><p><p>The user interface view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=mac+accounting+enable"><b><span class="cmdname">mac accounting enable</span></b></a></span><p><p>MAC accounting is enabled.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0172362588__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>After MAC accounting is enabled, run the <a href="cmdqueryname=display+mac+accounting"><b><span class="cmdname">display mac accounting</span></b></a> command to check MAC accounting statistics on the interface or its sub-interfaces.</p>
<p>If you need to re-check MAC accounting statistics after a period, run the <a href="cmdqueryname=reset+mac+accounting+counters"><b><span class="cmdname">reset mac accounting counters</span></b></a> command to delete the existing statistics and then run the <a href="cmdqueryname=display+mac+accounting"><b><span class="cmdname">display mac accounting</span></b></a> command. This ensures statistics accuracy.</p>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ifm_cfg_0000.html">Interface Management Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ifm_cfg_3001.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ifm_cfg_6010.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>