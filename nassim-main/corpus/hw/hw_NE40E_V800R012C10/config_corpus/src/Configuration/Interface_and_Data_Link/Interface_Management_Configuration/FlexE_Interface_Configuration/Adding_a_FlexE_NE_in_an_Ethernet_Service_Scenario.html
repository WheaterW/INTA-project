
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Adding a FlexE NE in an Ethernet Service Scenario">
<meta name="abstract" content="Adding a FlexE NE to a live network running Ethernet services involves the connection between a FlexE physical interface and standard Ethernet interface. If DCN auto-negotiation is enabled on the FlexE physical interface, the two interfaces can automatically communicate with each other, and the NMS can manage the FlexE NE.">
<meta name="description" content="Adding a FlexE NE to a live network running Ethernet services involves the connection between a FlexE physical interface and standard Ethernet interface. If DCN auto-negotiation is enabled on the FlexE physical interface, the two interfaces can automatically communicate with each other, and the NMS can manage the FlexE NE.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ifm_cfg_8004.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ifm_cfg_8012.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ifm_cfg_8014.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00437000">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Interface Management">
<meta name="featuretype" content="Interface and Data Link">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Interface Management">
<meta name="featuretype" content="Interface and Data Link">
<meta name="featurename" content="Interface Management">
<meta name="featuretype" content="Interface and Data Link">
<meta name="featurename" content="Interface Management">
<meta name="featurename" content="Interface Management">
<meta name="featuretype" content="Interface and Data Link">
<meta name="featuretype" content="Interface and Data Link">
<meta name="OWNER" content="w00437000">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00875216">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0300605032">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Adding a FlexE NE in an Ethernet Service Scenario</title>
</head>
<body><a name="EN-US_TASK_0300605032"></a><a name="EN-US_TASK_0300605032"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Adding a FlexE NE in an Ethernet Service Scenario</h1>
<div class="taskbody"><p>Adding a FlexE NE to a live network running Ethernet services involves the connection between a FlexE physical interface and standard Ethernet interface. If DCN auto-negotiation is enabled on the FlexE physical interface, the two interfaces can automatically communicate with each other, and the NMS can manage the FlexE NE.</p>
<div class="context"><a name="EN-US_TASK_0300605032__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>As shown in <a href="#EN-US_TASK_0300605032__fig166153495215">Figure 1</a>, DeviceA and DeviceB on the live network work in standard Ethernet mode and do not support DCN auto-negotiation on FlexE physical interfaces. The new NE DeviceC works in FlexE mode and supports DCN auto-negotiation on FlexE physical interfaces.</p>
<div class="fignone" id="EN-US_TASK_0300605032__fig166153495215"><a name="EN-US_TASK_0300605032__fig166153495215"></a><a name="fig166153495215"></a><span class="figcap"><b>Figure 1 </b>Adding a FlexE NE to a live network running Ethernet services</span><br><span><img class="vsd" src="figure/en-us_image_0300605037.png"></span></div>
<p>After DeviceC is added, the underlying working mode of the FlexE physical interfaces automatically switches from FlexE to standard Ethernet within about 10s because DCN auto-negotiation is enabled on them by default. The NMS can then manage DeviceC.</p>
<ul><li>If you run the following commands on DeviceC within 20 minutes of being added, the configuration takes effect immediately to ensure DCN continuity.<ol><li>Run the <a href="cmdqueryname=force-physical-mode+ethernet"><b><span class="cmdname">force-physical-mode ethernet</span></b></a> command to forcibly switch the underlying working mode of the FlexE physical interface to standard Ethernet.</li><li>To change the time for switching the underlying working mode of a FlexE physical interface from standard Ethernet back to FlexE, or to disable a FlexE physical interface from switching from the standard Ethernet mode back to the FlexE mode, perform the following operations:<ul><li>Run the <a href="cmdqueryname=phyautoclear+forcephysicalmode"><b><span class="cmdname">phyautoclear forcephysicalmode</span></b></a> <strong><span>enable</span></strong> <i><span class="varname">cleartime</span></i> command to set the time for switching the underlying working mode of the FlexE physical interface from standard Ethernet back to FlexE.</li><li>Run the <a href="cmdqueryname=phyautoclear+forcephysicalmode"><b><span class="cmdname">phyautoclear forcephysicalmode disable</span></b></a> command to disable the underlying working mode of the FlexE physical interface from switching from standard Ethernet back to FlexE.</li></ul>
</li></ol>
</li><li>If the preceding commands are not run on DeviceC within 20 minutes of being added, the underlying working mode of the FlexE physical interfaces on DeviceC is switched from the standard Ethernet mode to the FlexE mode at the 20-minute mark. DCN auto-negotiation is then performed 10 seconds later to implement DCN connectivity. As a result, the NMS cannot manage DeviceC for about 10 seconds, and the process repeats.</li></ul>
<p>If you want to change the services on the live network to the FlexE mode, perform the following steps:</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0300605032__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run the <a href="cmdqueryname=flexe+enable+port"><b><span class="cmdname">flexe enable port</span></b></a> <i><span class="varname">port-position</span></i> command on DeviceA to switch the working mode of the Ethernet interface from standard Ethernet to FlexE. Because the underlying working mode of the FlexE physical interface on DeviceC has been switched to standard Ethernet, the DCN channel between DeviceA and DeviceC is interrupted, and DeviceC is disconnected from the NMS.</span></li><li><span>Change the status of the FlexE physical interface on DeviceA manually, triggering the underlying working mode of DeviceC's FlexE physical interface connected to the FlexE physical interface on DeviceA to quickly switch back to the FlexE mode. You can perform the following operations:</span><p><ul><li>Run the <a href="cmdqueryname=laser+turn-off"><b><span class="cmdname">laser turn-off</span></b></a> command on DeviceA to disable the optical module laser, and then run the <a href="cmdqueryname=laser+turn-on"><b><span class="cmdname">laser turn-on</span></b></a> command to enable the optical module laser.</li><li>Run the <a href="cmdqueryname=shutdown"><b><span class="cmdname">shutdown</span></b></a> command on DeviceA to disable the interface, and then run the <a href="cmdqueryname=undo+shutdown"><b><span class="cmdname">undo shutdown</span></b></a> command to enable the interface.</li></ul>
<p>After the preceding operations are complete, the FlexE physical interface connecting DeviceC to DeviceA is switched back to the FlexE mode. The two devices are now successfully connected using FlexE, and the NMS can continue to manage DeviceC.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In the preceding scenarios, the operations on DeviceB are the same as those on DeviceA.</p>
</div></div>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ifm_cfg_8004.html">FlexE Interface Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ifm_cfg_8012.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ifm_cfg_8014.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>