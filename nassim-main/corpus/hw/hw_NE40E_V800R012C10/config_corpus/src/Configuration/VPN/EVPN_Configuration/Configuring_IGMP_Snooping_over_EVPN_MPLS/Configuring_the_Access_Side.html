
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring the Access Side">
<meta name="abstract" content="You can configure IGMP snooping over EVPN MPLS on the access side of an EVPN that carries multicast services for various scenarios.">
<meta name="description" content="You can configure IGMP snooping over EVPN MPLS on the access side of an EVPN that carries multicast services for various scenarios.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0091.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0092.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0094.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="p00915595,w00800033,w00556928,l00468467,w00606909,evpnvrp,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="EVPN">
<meta name="featuretype" content="VPN">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="EVPN">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="EVPN">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="EVPN">
<meta name="featuretype" content="VPN">
<meta name="OWNER" content="p00915595">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="p00915595">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172370568">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring the Access Side</title>
</head>
<body><a name="EN-US_TASK_0172370568"></a><a name="EN-US_TASK_0172370568"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring the Access Side</h1>
<div class="taskbody"><p>You can configure IGMP snooping over EVPN MPLS on the access side of an EVPN that carries multicast services for various scenarios.</p>
<div class="context"><a name="EN-US_TASK_0172370568__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p">The configurations required for various scenarios are as follows:<ul><li><p>A CE is single-homed to a source PE or dual-homed to source PEs on the multicast source side. In this scenario, no additional configuration is required on the access side. IGMP signaling synchronization based on BGP EVPN IGMP Join Synch routes needs to be configured in a BD.</p>
</li><li><p>A CE is single-homed to a receiver PE on the access side. In this scenario, no additional configuration is required on the access side. IGMP signaling synchronization based on BGP EVPN IGMP Join Synch routes needs to be configured in a BD.</p>
</li><li><p>A CE is dual-homed to receiver PEs on the access side. In this scenario, IGMP signaling synchronization based on BGP EVPN IGMP Join Synch routes needs to be configured in a BD, the EVI-RT extended community attributes of IGMP Join Synch routes need to be associated with the BD, and the DF status ignoring function needs to be enabled on non-DF nodes.</p>
</li><li><p>A CE is dual-homed to receiver PEs on the access side, and Layer 2 multicast services on the access side access Layer 3 multicast services. In this scenario, IGMP and PIM-SM need to be enabled on a VBDIF interface, IGMP signaling synchronization based on BGP EVPN IGMP Join Synch routes needs to be configured in a BD, the EVI-RT extended community attributes of IGMP Join Synch routes need to be associated with the BD, and the DF status ignoring function needs to be enabled on non-DF nodes.</p>
</li></ul>
</div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172370568__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>A CE is single-homed to a receiver PE on the access side.</span><ol><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=bridge-domain"><b><span class="cmdname">bridge-domain</span></b></a> <i><span class="varname">bd-id</span></i></span><p><p>The BD view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=igmp-snooping+signal-synch+enable"><b><span class="cmdname">igmp-snooping signal-synch enable</span></b></a></span><p><p>IGMP signaling synchronization based on BGP EVPN IGMP Join Synch routes is enabled.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=evi+vpn-target"><b><span class="cmdname">evi vpn-target</span></b></a> <i><span class="varname">vrfRt </span></i>[ <i><span class="varname">vrfRtType</span></i> ]</span><p><p>The EVI-RT extended community attribute is associated with IGMP Join Synch routes in the BD.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>A CE is dual-homed to receiver PEs on the access side.</span><ol><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=bridge-domain"><b><span class="cmdname">bridge-domain</span></b></a> <i><span class="varname">bd-id</span></i></span><p><p>The BD view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=igmp-snooping+signal-synch+enable"><b><span class="cmdname">igmp-snooping signal-synch enable</span></b></a></span><p><p>IGMP signaling synchronization based on BGP EVPN IGMP Join Synch routes is enabled.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=igmp-snooping+signal-ignore-df+enable"><b><span class="cmdname">igmp-snooping signal-ignore-df enable</span></b></a></span><p><p>DF status ignorance is enabled for BDs on the non-DF node.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=evi+vpn-target"><b><span class="cmdname">evi vpn-target</span></b></a> <i><span class="varname">vrfRt </span></i>[ <i><span class="varname">vrfRtType</span></i> ]</span><p><p>The EVI-RT extended community attribute is associated with IGMP Join Synch routes in the BD.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>A CE is dual-homed to receiver PEs on the access side, and Layer 2 multicast services on the access side access Layer 3 multicast services.</span><ol><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=bridge-domain"><b><span class="cmdname">bridge-domain</span></b></a> <i><span class="varname">bd-id</span></i></span><p><p>The BD view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=undo+igmp-snooping+proxy"><b><span class="cmdname">undo igmp-snooping proxy</span></b></a></span><p><p>IGMP snooping proxy is disabled in the BD.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=interface+vbdif"><b><span class="cmdname">interface vbdif</span></b></a> <i><span class="varname">bd-id</span></i></span><p><p>The VBDIF interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=pim+sm"><b><span class="cmdname">pim sm</span></b></a></span><p><p>PIM is enabled.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=igmp+enable"><b><span class="cmdname">igmp enable</span></b></a></span><p><p>IGMP is enabled.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=bridge-domain"><b><span class="cmdname">bridge-domain</span></b></a> <i><span class="varname">bd-id</span></i></span><p><p>The BD view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=igmp-snooping+signal-synch+enable"><b><span class="cmdname">igmp-snooping signal-synch enable</span></b></a></span><p><p>IGMP signaling synchronization based on BGP EVPN IGMP Join Synch routes is enabled.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=igmp-snooping+signal-ignore-df+enable"><b><span class="cmdname">igmp-snooping signal-ignore-df enable</span></b></a></span><p><p>DF status ignorance is enabled for BDs on the non-DF node.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=evi+vpn-target"><b><span class="cmdname">evi vpn-target</span></b></a> <i><span class="varname">vrfRt </span></i>[ <i><span class="varname">vrfRtType</span></i> ]</span><p><p>The EVI-RT extended community attribute is associated with IGMP Join Synch routes in the BD.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0091.html">Configuring IGMP Snooping over EVPN MPLS
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0092.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0094.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>