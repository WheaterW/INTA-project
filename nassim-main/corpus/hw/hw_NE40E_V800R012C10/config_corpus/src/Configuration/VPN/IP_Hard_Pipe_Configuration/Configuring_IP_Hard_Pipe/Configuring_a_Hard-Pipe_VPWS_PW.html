
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a Hard-Pipe VPWS PW">
<meta name="abstract" content="Configuring a hard-pipe VPWS PW to carry private line services of high-value customers implements P2P services over the hard pipe.">
<meta name="description" content="Configuring a hard-pipe VPWS PW to carry private line services of high-value customers implements P2P services over the hard pipe.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ip-hard-pipe_0004.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ip-hard-pipe_0010.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ip-hard-pipe_0011.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="iphardpipe,w00800033,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IP Hard Pipe">
<meta name="featuretype" content="VPN">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IP Hard Pipe">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="IP Hard Pipe">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="IP Hard Pipe">
<meta name="featuretype" content="VPN">
<meta name="OWNER" content="l00415692">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00415692">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172370032">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring a Hard-Pipe VPWS PW</title>
</head>
<body><a name="EN-US_TASK_0172370032"></a><a name="EN-US_TASK_0172370032"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a Hard-Pipe VPWS PW</h1>
<div class="taskbody"><p>Configuring a hard-pipe VPWS PW to carry private line services of high-value customers implements P2P services over the hard pipe.</p>
<div class="context"><a name="EN-US_TASK_0172370032__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>VPWS enables carriers to provide L2VPN services over different media through the same IP hard pipe network. By providing P2P services over the hard pipe, this implementation enhances private line services for high-value customers.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172370032__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure MPLS L2VPN.</span><ol type="a"><li><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li><span>Run the <a href="cmdqueryname=mpls+l2vpn"><b><span class="cmdname">mpls l2vpn</span></b></a> command to configure MPLS L2VPN.</span></li><li><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li><li><span>Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to return to the system view.</span></li></ol>
</li><li><span>Create a tunnel policy.</span><ol type="a"><li><span>Run the <a href="cmdqueryname=tunnel-policy"><b><span class="cmdname">tunnel-policy</span></b></a> <i><span class="varname">policy-name</span></i> command to create a tunnel policy and enter its view.</span></li><li><span>Run the <a href="cmdqueryname=tunnel+binding"><b><span class="cmdname">tunnel binding</span></b></a> <strong><span>destination</span></strong> <i><span class="varname">dest-ip-address</span></i> <strong><span>te</span></strong> { <i><span class="varname">tunnel-name</span></i> | <i><span class="varname">tunnel-type</span></i><em> </em><i><span class="varname">tunnel-number</span></i> } &amp; &lt;1-32&gt; [ <strong><span>ignore-destination-check</span></strong> ] [ <strong><span>down-switch</span></strong> | <strong><span>include-ldp</span></strong> ] command to specify the TE tunnel for binding in the tunnel policy.</span></li><li><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li><li><span>Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to return to the system view.</span></li></ol>
</li><li><span>Configure a hard-pipe VPWS PW.</span><p><div class="p">Hard pipe only applies to static VPWS PWs, including SS-PWs and MS-PWs. Determine which procedure to take based on the PW type:<ul><li>Static SS-PW<ol type="a"><li>Run the <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> command to enter the AC interface view.</li><li>Run either of the following commands to create an SVC VPWS connection based on the AC interface type:<ul><li>Ethernet interface: <span><span><a href="cmdqueryname=mpls+static-l2vc"><b><span class="cmdname">mpls static-l2vc</span></b></a></span><span> { { <strong><span>destination</span></strong> <i><span class="varname">ip-address</span></i> | <strong><span>pw-template</span></strong> <i><span class="varname">pw-template-name</span></i> <i><span class="varname">vc-id</span></i> } <sup>*</sup> | <strong><span>destination</span></strong> <i><span class="varname">ip-address</span></i> [ <i><span class="varname">vc-id</span></i> ] }</span> <strong><span>transmit-vpn-label</span></strong> <i><span class="varname">transmit-label-value </span></i><strong><span>receive-vpn-label</span></strong> <i><span class="varname">receive-label-value</span></i> [ <strong><span>tunnel-policy</span></strong> <i><span class="varname">tnl-policy-name</span></i> | <strong><span>access-port</span></strong> | [ <strong><span>control-word</span></strong> | <strong><span>no-control-word</span></strong> ] | [ <strong><span>raw</span></strong> | <strong><span>tagged</span></strong> ] ] <sup>*</sup></span></li><li>Non-Ethernet interface: <span><span><a href="cmdqueryname=mpls+static-l2vc"><b><span class="cmdname">mpls static-l2vc</span></b></a></span><span> { { <strong><span>destination</span></strong> <i><span class="varname">ip-address</span></i> | <strong><span>pw-template</span></strong> <i><span class="varname">pw-template-name</span></i> <i><span class="varname">vc-id</span></i> } <sup>*</sup> | <strong><span>destination</span></strong> <i><span class="varname">ip-address</span></i> [ <i><span class="varname">vc-id</span></i> ] }</span> <strong><span>transmit-vpn-label</span></strong> <i><span class="varname">transmit-label-value</span></i> <strong><span>receive-vpn-label</span></strong> <i><span class="varname">receive-label-value</span></i> [ <strong><span>tunnel-policy</span></strong> <i><span class="varname">tnl-policy-name</span></i> | <strong><span>access-port</span></strong> | [ <strong><span>control-word</span></strong> | <strong><span>no-control-word</span></strong> ] | [ <strong><span>jitter-buffer</span></strong> <i><span class="varname">depth</span></i> ] | [ <strong><span>tdm-encapsulation</span></strong> <i><span class="varname">number</span></i> ] | [ <strong><span>tdm-sequence-number</span></strong> ] | [ <strong><span>idle-code</span></strong> <i><span class="varname">idle-code-value</span></i> ] | [ <strong><span>rtp-header</span></strong> ] ] <sup>*</sup></span></li></ul>
</li><li>Run either of the following commands to configure the hard pipe function for a static PW based on the AC interface type:<ul><li>Ethernet interface: <a href="cmdqueryname=mpls+l2vpn+hard-pipe"><b><span class="cmdname">mpls l2vpn hard-pipe</span></b></a> <strong><span>bandwidth</span></strong> <i><span class="varname">bandwidth</span></i> <span>[ <strong><span>burst-time</span></strong> <i><span class="varname">burst-time</span></i> ] </span>[ <strong><span>expand-ratio</span></strong> <i><span class="varname">expand-ratio</span></i> ]</li><li>Non-Ethernet interface: <a href="cmdqueryname=mpls+l2vpn+hard-pipe"><b><span class="cmdname">mpls l2vpn hard-pipe</span></b></a> [ <strong><span>expand-ratio</span></strong> <i><span class="varname">expand-ratio</span></i> ]</li></ul>
</li><li>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</li><li>Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to return to the system view.</li></ol>
</li><li>Static MS-PW:<ol type="a"><li>Run the <a href="cmdqueryname=mpls+switch-l2vc"><b><span class="cmdname">mpls switch-l2vc</span></b></a> [ <strong><span>instance-name</span></strong> <i><span class="varname">instance-name</span></i> ] <i><span class="varname">ip-address vc-id</span></i> <strong><span>trans</span></strong> <i><span class="varname">trans-label</span></i> <strong><span>recv</span></strong> <i><span class="varname">received-label</span></i> [ <strong><span>tunnel-policy</span></strong> <i><span class="varname">policy-name</span></i> ]<span> [ <strong><span>oam-packet</span></strong> <strong><span>pop</span></strong> <strong><span>flow-label</span></strong> ]</span> <strong><span>between</span></strong> <i><span class="varname">ip-address vc-id</span></i> <strong><span>trans</span></strong> <i><span class="varname">trans-label</span></i> <strong><span>recv</span></strong> <i><span class="varname">received-label</span></i> [ <strong><span>tunnel-policy</span></strong> <i><span class="varname">policy-name</span></i> ]<span> [ <strong><span>oam-packet</span></strong> <strong><span>pop</span></strong> <strong><span>flow-label</span></strong> ]</span> <strong><span>encapsulation</span></strong> <i><span class="varname">encapsulation-type</span></i> [ <strong><span>control-word</span></strong> | <strong><span>no-control-word</span></strong> ] command to configure a static MS-PW.</li><li>Run the <a href="cmdqueryname=mpls+switch-l2vc"><b><span class="cmdname">mpls switch-l2vc</span></b></a> <i><span class="varname">peer-ip</span></i> <i><span class="varname">vc-id</span></i> <strong><span>encapsulation</span></strong> <i><span class="varname">encapsulation-type</span></i> <strong><span>hard-pipe</span></strong> [ <strong><span>bandwidth</span></strong> <i><span class="varname">bandwidth</span></i> <strong><span>expand-ratio</span></strong> <i><span class="varname">expand-ratio</span></i> ] command to configure the hard pipe function for the static MS-PW.</li><li><p>Run the <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span> command to commit the configuration.</p>
</li></ol>
</li></ul>
</div>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ip-hard-pipe_0004.html">Configuring IP Hard Pipe
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ip-hard-pipe_0010.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_ip-hard-pipe_0011.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>