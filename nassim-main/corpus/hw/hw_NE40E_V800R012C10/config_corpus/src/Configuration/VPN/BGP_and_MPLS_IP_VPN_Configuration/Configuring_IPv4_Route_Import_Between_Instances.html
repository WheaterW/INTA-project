
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Configuring IPv4 Route Import Between Instances">
<meta name="abstract" content="IPv4 route import between VPN and public network instances enables IPv4 VPN users to communicate with IPv4 public network users, whereas IPv4 route import between VPN instances enables IPv4 users in different VPNs to communicate.">
<meta name="description" content="IPv4 route import between VPN and public network instances enables IPv4 VPN users to communicate with IPv4 public network users, whereas IPv4 route import between VPN instances enables IPv4 users in different VPNs to communicate.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_2027.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_2061.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_2024.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_2025.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_2026.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,l3vpnvrp,w00556928,l00468467,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featuretype" content="VPN">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featuretype" content="VPN">
<meta name="OWNER" content="h00847023">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="h00847023">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0172369413">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring IPv4 Route Import Between Instances</title>
</head>
<body><a name="EN-US_CONCEPT_0172369413"></a><a name="EN-US_CONCEPT_0172369413"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring IPv4 Route Import Between Instances</h1>
<div><p>IPv4 route import between VPN and public network instances enables IPv4 VPN users to communicate with IPv4 public network users, whereas IPv4 route import between VPN instances enables IPv4 users in different VPNs to communicate.</p>
<div class="section"><h4 class="sectiontitle">Usage Scenario</h4><p>In BGP/MPLS IPv4 VPN networking, IPv4 VPN users cannot communicate with IPv4 public network users and IPv4 users of two VPNs can communicate only if the two VPNs have matching VPN targets. To enable IPv4 VPN users to communicate with IPv4 public network users and IPv4 users of two VPNs with unmatching VPN targets to communicate, configure IPv4 route import between instances.</p>
<div class="p">IPv4 route import between instances is further classified into the following types:<ul><li>IPv4 route import between VPN and public network instances. IPv4 routes are first imported into the VPN or public network instance's corresponding routing table. For example, VPN OSPF routes are first imported into the public network instance's OSPF routing table. If the imported routes are preferred in the corresponding routing table, they will also be imported into the VPN or public network instance's IP routing table to guide traffic forwarding. In addition, these routes can be advertised to other devices on the network.</li><li>Route import between VPN instances. For example, VPNA's OSPF routes are first imported into VPNB's OSPF routing table. If the imported routes are preferred in VPNB's OSPF routing table, they will be further imported into VPNB's IP routing table to guide traffic forwarding. In addition, these routes can be advertised through OSPF to other devices on the network.</li></ul>
</div>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>BGP IPv4 route import between VPN and public network instances does not take effect for locally leaked routes or routes imported in import or network mode.</p>
</div></div>
<div class="p">Currently, the following types of IPv4 routes can be imported between instances:<ul><li><p>Direct routes</p>
</li><li><p>Static routes</p>
</li><li><p>OSPF routes</p>
</li><li><p>IS-IS routes</p>
</li><li><p>BGP routes</p>
</li><li><p>Vlink direct routes</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_CONCEPT_0172369413__en-us_concept_0172356110_p1835768280214012">Traffic forwarding relies on direct routes (Vlink direct routes) generated based on user entries. When QinQ/dot1q VLAN tag termination sub-interfaces are used for route import between VPN and public network, Vlink direct routes cannot be imported. As a result, traffic forwarding is interrupted. To solve this problem, route import between VPN and public network newly supports import of Vlink direct routes.</p>
</div></div>
</li></ul>
</div>
</div>
<div class="section"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring route import between instances, complete the following task:</p>
<p><a href="dc_vrp_mpls-l3vpn-v4_cfg_0154.html">Configure a basic BGP/MPLS IP VPN.</a></p>
</div>
</div>

<ul class="ullinks">
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_2024.html">Configuring Route Import Between VPN and Public Network Instances</a>
</dt>
<dd>
Route import between VPN and public network instances enables VPN users and public network users to communicate.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_2025.html">Configuring Route Import Between VPN Instances</a>
</dt>
<dd>
Route import between VPN instances enables users in different VPNs to communicate.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_2026.html">Verifying the Configuration of IPv4 Route Import Between Instances</a>
</dt>
<dd>
After configuring IPv4 route import between instances on a device, you can check imported IPv4 routes on the device.</dd>
</dl>
</ul>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_0000.html">BGP/MPLS IP VPN Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_2027.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mpls-l3vpn-v4_cfg_2061.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>