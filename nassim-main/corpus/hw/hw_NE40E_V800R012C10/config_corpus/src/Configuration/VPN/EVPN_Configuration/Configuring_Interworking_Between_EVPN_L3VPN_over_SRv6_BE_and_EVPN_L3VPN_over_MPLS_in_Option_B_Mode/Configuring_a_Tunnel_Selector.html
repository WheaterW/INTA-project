
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a Tunnel Selector">
<meta name="abstract" content="EVPN public network routes recurse to IP tunnels based on next hops by default. To enable EVPN public network routes to recurse to SRv6 BE tunnels based on next hops, deploy a tunnel selector for route matching.">
<meta name="description" content="EVPN public network routes recurse to IP tunnels based on next hops by default. To enable EVPN public network routes to recurse to SRv6 BE tunnels based on next hops, deploy a tunnel selector for route matching.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0216.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0217.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0219.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="EVPN">
<meta name="featuretype" content="VPN">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="EVPN">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="EVPN">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="EVPN">
<meta name="featuretype" content="VPN">
<meta name="OWNER" content="p00915595">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="p00915595">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001227718990">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring a Tunnel Selector</title>
</head>
<body><a name="EN-US_TASK_0000001227718990"></a><a name="EN-US_TASK_0000001227718990"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a Tunnel Selector</h1>
<div class="taskbody"><p>EVPN public network routes recurse to IP tunnels based on next hops by default. To enable EVPN public network routes to recurse to SRv6 BE tunnels based on next hops, deploy a tunnel selector for route matching.</p>
<div class="context"><a name="EN-US_TASK_0000001227718990__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>By default, EVPN public network routes recurse to IP tunnels based on next hops.</p>
<p>If EVPN L3VPN over SRv6 BE interworks with EVPN L3VPN over MPLS in Option B mode, EVPN public network routes on ASBRs need to recurse to SRv6 BE tunnels.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001227718990__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_step56173979214055"><span id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_cmd1370744020214055">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_cmdname1076473488214055">system-view</span></b></a></span><p><p id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_p102771943101317">The ASBR's system view is displayed.</p>
</p></li><li id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_step608372675214055"><span id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_cmd749905358214055">Run <a href="cmdqueryname=tunnel-selector"><b><span class="cmdname" id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_cmdname231991018214055">tunnel-selector</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_varname155916199569">name </span></i><i><span class="varname" id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_varname55651119125610">matchMode</span></i><strong><span id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_cmdparmname1056581905611"> node</span></strong> <i><span class="varname" id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_varname1056531917560">node</span></i></span><p><p id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_p38748171316">A tunnel selector is created, and its view is displayed.</p>
</p></li><li id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_step593483710174"><span id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_cmd1893463718178">Run <a href="cmdqueryname=apply+segment-routing+ipv6"><b><span class="cmdname" id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_cmdname13193153310504">apply segment-routing ipv6</span></b></a><strong><span id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_cmdparmname18295164118566"> best-effort</span></strong></span><p><p id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_p17300354171319">The function to recurse routes to SRv6 BE tunnels based on SID attributes is enabled.</p>
</p></li><li id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_step54941542151810"><span id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_cmd949444218183">Run <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_cmdname97683839214055">quit</span></b></a></span><p><p id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_p101487117143">Exit the tunnel selector view.</p>
</p></li><li id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_step136010377197"><span id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_cmd336012371195">Run <a href="cmdqueryname=bgp"><b><span class="cmdname" id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_cmdname1400080476214038">bgp</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_varname1625017134203">as-number</span></i></span><p><p id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_p1085733714201">The BGP view is displayed.</p>
</p></li><li id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_step874064376214055"><span id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_cmd1611821952214055">Run <a href="cmdqueryname=l2vpn-family+evpn"><b><span class="cmdname" id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_cmdname959239430214055">l2vpn-family evpn</span></b></a></span><p><p id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_p112511122146">The BGP-EVPN address family view is displayed.</p>
</p></li><li id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_step248408663214055"><span id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_cmd296189273214055">Run <a href="cmdqueryname=tunnel-selector"><b><span class="cmdname" id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_cmdname1808508570214055">tunnel-selector </span></b></a><i><span class="varname" id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_varname152262198599">tunnel-selector-name</span></i></span><p><p id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_p12156191721420">The tunnel selector is applied.</p>
</p></li><li id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_step363012462415"><span id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_cmd196301415240">Run <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_cmdname1011559247">quit</span></b></a></span><p><p id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_p13139822161418">Exit the BGP-EVPN address family view.</p>
</p></li><li id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_step1075811150241"><span id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_cmd97586157246">Run <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_cmdname49111612243">quit</span></b></a></span><p><p id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_p1112817305147">Exit the BGP address family view.</p>
</p></li><li id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_step1280456703214055"><span id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_cmd702180734214055">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_cmdname1346697666214055">commit</span></b></a></span><p><p id="EN-US_TASK_0000001227718990__en-us_task_0000001119418448_p69345331147">The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0216.html">Configuring Interworking Between EVPN L3VPN over SRv6 BE and EVPN L3VPN over MPLS in Option B Mode
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0217.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0219.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>