
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring a Secondary VPWS Connection">
<meta name="abstract" content="This section describes how to configure a secondary VPWS connection for VLL FRR, so that L2VPN traffic can be quickly switched to the backup path if the primary path fails. After the primary path recovers, the L2VPN traffic can be switched back to it according to the revertive switching policy.">
<meta name="description" content="This section describes how to configure a secondary VPWS connection for VLL FRR, so that L2VPN traffic can be quickly switched to the backup path if the primary path fails. After the primary path recovers, the L2VPN traffic can be switched back to it according to the revertive switching policy.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_6000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_6003.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_vpls_cfg_5011_vpws.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="VPWS">
<meta name="featuretype" content="VPN">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="VPWS">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="VPWS">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="VPWS">
<meta name="featuretype" content="VPN">
<meta name="OWNER" content="l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00415692">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172369824">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring a Secondary VPWS Connection</title>
</head>
<body><a name="EN-US_TASK_0172369824"></a><a name="EN-US_TASK_0172369824"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring a Secondary VPWS Connection</h1>
<div class="taskbody"><p>This section describes how to configure a secondary VPWS connection for VLL FRR, so that L2VPN traffic can be quickly switched to the backup path if the primary path fails. After the primary path recovers, the L2VPN traffic can be switched back to it according to the revertive switching policy.</p>
<div class="steps"><a name="EN-US_TASK_0172369824__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=mpls+l2vpn"><b><span class="cmdname">mpls l2vpn</span></b></a></span><p><p>MPLS L2VPN is enabled.</p>
</p></li><li><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li><li><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> [ .<i><span class="varname">subinterface-number</span></i> ]</span><p><p>The AC interface view is displayed.</p>
</p></li><li><span>Run one of the following commands to create a secondary VPWS connection according to the interface type:</span><p><ul><li><p>Ethernet interface:</p>
<p><span><span><a href="cmdqueryname=mpls+static-l2vc"><b><span class="cmdname">mpls static-l2vc</span></b></a></span><span> { { <strong><span>destination</span></strong> <i><span class="varname">ip-address</span></i> | <strong><span>pw-template</span></strong> <i><span class="varname">pw-template-name</span></i> <i><span class="varname">vc-id</span></i> } <sup>*</sup> | <strong><span>destination</span></strong> <i><span class="varname">ip-address</span></i> [ <i><span class="varname">vc-id</span></i> ] }</span> <strong><span>transmit-vpn-label</span></strong> <i><span class="varname">transmit-label-value </span></i><strong><span>receive-vpn-label</span></strong> <i><span class="varname">receive-label-value</span></i> [ <strong><span>tunnel-policy</span></strong> <i><span class="varname">tnl-policy-name</span></i><span> [ { <strong><span>endpoint</span></strong> <i><span class="varname">endpoint-address</span></i><span> | [ <strong><span>endpoint</span></strong> <i><span class="varname">endpoint4-address</span></i> ] }</span> <strong><span>color</span></strong> <i><span class="varname">color-value</span></i> ]</span> <span></span>| <strong><span>access-port</span></strong> | [ <strong><span>control-word</span></strong> | <strong><span>no-control-word</span></strong> ] | [ <strong><span>raw</span></strong> | <strong><span>tagged</span></strong> ] | <strong><span>secondary </span></strong>] <sup>*</sup></span></p>
</li><li>PPP<span>/HDLC</span> interface:<p><span><span><a href="cmdqueryname=mpls+static-l2vc"><b><span class="cmdname">mpls static-l2vc</span></b></a></span><span> { { <strong><span>destination</span></strong> <i><span class="varname">ip-address</span></i> | <strong><span>pw-template</span></strong> <i><span class="varname">pw-template-name</span></i> <i><span class="varname">vc-id</span></i> } <sup>*</sup> | <strong><span>destination</span></strong> <i><span class="varname">ip-address</span></i> [ <i><span class="varname">vc-id</span></i> ] }</span> <strong><span>transmit-vpn-label</span></strong> <i><span class="varname">transmit-label-value </span></i><strong><span>receive-vpn-label</span></strong> <i><span class="varname">receive-label-value</span></i> [ <strong><span>tunnel-policy</span></strong> <i><span class="varname">tnl-policy-name</span></i><span><span> [ { <strong><span>endpoint</span></strong> <i><span class="varname">endpoint-address</span></i><span> | [ <strong><span>endpoint</span></strong> <i><span class="varname">endpoint4-address</span></i> ] }</span> <strong><span>color</span></strong> <i><span class="varname">color-value</span></i> ]</span></span> | <strong><span>access-port</span></strong> | [ <strong><span>control-word</span></strong> | <strong><span>no-control-word</span></strong> ] | [ <strong><span>raw</span></strong> | <strong><span>tagged</span></strong> ] | <strong><span>secondary </span></strong>] <sup>*</sup></span></p>
</li><li><p>ATM interface:</p>
<p><span><a href="cmdqueryname=mpls+static-l2vc"><b><span class="cmdname">mpls static-l2vc</span></b></a><span> { { <strong><span>destination</span></strong> <i><span class="varname">ip-address</span></i> | <strong><span>pw-template</span></strong> <i><span class="varname">pw-template-name</span></i> <i><span class="varname">vc-id</span></i> } <sup>*</sup> | <strong><span>destination</span></strong> <i><span class="varname">ip-address</span></i> [ <i><span class="varname">vc-id</span></i> ] }</span> <strong><span>transmit-vpn-label</span></strong> <i><span class="varname">transmit-label-value </span></i><strong><span>receive-vpn-label</span></strong> <i><span class="varname">receive-label-value</span></i> [ <strong><span>tunnel-policy</span></strong> <i><span class="varname">tnl-policy-name</span></i> | <strong><span>access-port</span></strong> | [ <strong><span>control-word</span></strong> | <strong><span>no-control-word</span></strong> ] | [ <strong><span>max-atm-cells</span></strong> <i><span class="varname">cells-value</span></i> ] | [ <strong><span>atm-pack-overtime</span></strong> <i><span class="varname">time</span></i> ] | <strong><span>secondary</span></strong> ] <sup>*</sup></span></p>
</li><li><p>TDM interface:</p>
<p><span><span><a href="cmdqueryname=mpls+static-l2vc"><b><span class="cmdname">mpls static-l2vc</span></b></a></span><span> { { <strong><span>destination</span></strong> <i><span class="varname">ip-address</span></i> | <strong><span>pw-template</span></strong> <i><span class="varname">pw-template-name</span></i> <i><span class="varname">vc-id</span></i> } <sup>*</sup> | <strong><span>destination</span></strong> <i><span class="varname">ip-address</span></i> [ <i><span class="varname">vc-id</span></i> ] }</span> <strong><span>transmit-vpn-label</span></strong> <i><span class="varname">transmit-label-value</span></i> <strong><span>receive-vpn-label</span></strong> <i><span class="varname">receive-label-value</span></i> [ <strong><span>tunnel-policy</span></strong> <i><span class="varname">tnl-policy-name</span></i> | <strong><span>access-port</span></strong> | [ <strong><span>control-word</span></strong> | <strong><span>no-control-word</span></strong> ] | [ <strong><span>jitter-buffer</span></strong> <i><span class="varname">depth</span></i> ] | [ <strong><span>tdm-encapsulation</span></strong> <i><span class="varname">number</span></i> ] | [ <strong><span>tdm-sequence-number</span></strong> ] | [ <strong><span>idle-code</span></strong> <i><span class="varname">idle-code-value</span></i> ] | [ <strong><span>rtp-header</span></strong> ] | <strong><span>secondary</span></strong> ] <sup>*</sup></span></p>
</li></ul>
</p><p><p>When configuring a secondary VPWS PW, ensure that the parameter settings for the primary, secondary, and bypass PWs are consistent. Parameter setting inconsistencies may result in the secondary or bypass PW failing to take over traffic if the primary PW fails.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=mpls+l2vpn+service-name"><b><span class="cmdname">mpls l2vpn service-name</span></b></a> <i><span class="varname">service-name</span></i></span><p><p>An L2VPN service name is specified. The L2VPN service can then be maintained through an NMS based on the specified name.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_6000.html">Configuring SVC VPWS
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_6003.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_vpls_cfg_5011_vpws.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>