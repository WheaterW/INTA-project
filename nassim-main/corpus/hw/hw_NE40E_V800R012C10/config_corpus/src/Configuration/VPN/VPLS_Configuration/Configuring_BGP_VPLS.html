
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring BGP VPLS">
<meta name="abstract" content="This section describes how to configure BGP VPLS, which uses VPN targets for automatic VPLS PE discovery.">
<meta name="description" content="This section describes how to configure BGP VPLS, which uses VPN targets for automatic VPLS PE discovery.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_5000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_5003.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_5057.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_6006.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_6007.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_5005-02.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_6110.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_6008.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_6010.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,vpls,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="VPLS">
<meta name="featuretype" content="VPN">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="VPLS">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="VPLS">
<meta name="featuretype" content="VPN">
<meta name="OWNER" content="l00415692">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00415692">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0139427942">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring BGP VPLS</title>
</head>
<body><a name="EN-US_TASK_0139427942"></a><a name="EN-US_TASK_0139427942"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring BGP VPLS</h1>
<div class="taskbody"><p>This section describes how to configure BGP VPLS, which uses VPN targets for automatic VPLS PE discovery.</p>
<div class="context"><a name="EN-US_TASK_0139427942__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>BGP VPLS applies to scenarios where PEs can use BGP as the VPLS signaling protocol.</p>
<div class="p">On the network shown in <a href="#EN-US_TASK_0139427942__fig_dc_vrp_vpls_cfg_600501">Figure 1</a>, PE1, PE2, and PE3 belong to the same VPLS network.<ul><li><p>To enable CEs connected to PE1, PE2, and PE3 to communicate with each other by constructing a full-mesh VPLS network, ensure that PE1, PE2, and PE3 have matching VPN targets.</p>
</li><li><p>To enable CE1 to communicate with both CE2 and CE3 and prevent CE2 and CE3 from communicating with each other, ensure that the import VPN target of PE1 is the same as the export VPN targets of PE2 and PE3, and that the export VPN target of PE1 is the same as the import VPN targets of PE2 and PE3. The VPN targets of PE2 and PE3 do not need to match.</p>
</li></ul>
</div>
<div class="fignone" id="EN-US_TASK_0139427942__fig_dc_vrp_vpls_cfg_600501"><a name="EN-US_TASK_0139427942__fig_dc_vrp_vpls_cfg_600501"></a><a name="fig_dc_vrp_vpls_cfg_600501"></a><span class="figcap"><b>Figure 1 </b>Network diagram of BGP VPLS</span><br><span><img class="vsd" src="images/fig_dc_vrp_vpls_cfg_600501.png" width="NaN" height="NaN"></span><br></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0139427942__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring BGP VPLS, complete the following tasks:</p>
<ul><li><p>Configure IP addresses and IGP routes on PEs and Ps.</p>
</li><li><p>Configure LSR IDs and enable MPLS functions on PEs and Ps.</p>
</li><li><p>Establish tunnels between PEs to transmit service data.</p>
</li></ul>
</div></div>
</div>

<ul class="ullinks">
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_6006.html">Configuring BGP Peers to Exchange VPLS Information</a>
</dt>
<dd>
BGP VPLS shares TCP connections with BGP and inherits most BGP configurations. A major difference between BGP and BGP VPLS is that BGP VPLS requires PEs to exchange VPLS information as BGP peers in the L2VPN AD address family view.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_6007.html">Configuring a VSI and BGP Signaling</a>
</dt>
<dd>
This section describes how to configure BGP VPLS, specifically, a VSI with BGP signaling.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_5005-02.html">Binding an AC Interface to a VSI</a>
</dt>
<dd>
The view in which an AC interface is bound to a VSI depends on the type of link between the PE and CE.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_6110.html">(Optional) Configuring Flow Label-based Load Balancing</a>
</dt>
<dd>
After flow label-based load balancing is configured for an L2VPN, L2VPN services can be classified by flow labels and forwarding paths can be selected based on the flow labels, improving forwarding efficiency. </dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_6008.html">(Optional) Configuring a Huawei Device to Communicate with a Non-Huawei Device</a>
</dt>
<dd>
</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_6010.html">Verifying the Configuration</a>
</dt>
<dd>
After configuring BGP VPLS, check local and remote VSI and VPLS connection information.</dd>
</dl>
</ul>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_5000.html">VPLS Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_5003.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpls_cfg_5057.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>