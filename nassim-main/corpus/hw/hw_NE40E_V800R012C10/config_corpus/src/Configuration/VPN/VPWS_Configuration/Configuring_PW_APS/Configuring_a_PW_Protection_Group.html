
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a PW Protection Group">
<meta name="abstract" content="In a PW APS scenario, a PW protection group consists of primary and secondary PWs. The PWs can be either SS-PWs or MS-PWs.">
<meta name="description" content="In a PW APS scenario, a PW protection group consists of primary and secondary PWs. The PWs can be either SS-PWs or MS-PWs.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_6028.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_6030.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,vpws,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="VPWS">
<meta name="featuretype" content="VPN">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="VPWS">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="VPWS">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="VPWS">
<meta name="featuretype" content="VPN">
<meta name="OWNER" content="l00415692">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00415692">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172369871">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring a PW Protection Group</title>
</head>
<body><a name="EN-US_TASK_0172369871"></a><a name="EN-US_TASK_0172369871"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a PW Protection Group</h1>
<div class="taskbody"><p>In a PW APS scenario, a PW protection group consists of primary and secondary PWs. The PWs can be either SS-PWs or MS-PWs.</p>
<div class="context"><a name="EN-US_TASK_0172369871__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>In the PW APS scenarios shown in <a href="dc_vrp_vpws_cfg_6028.html#EN-US_TASK_0172369864__fig_dc_vrp_vpws_cfg_602801">Figure 1</a> and <a href="dc_vrp_vpws_cfg_6028.html#EN-US_TASK_0172369864__fig_dc_vrp_vpws_cfg_602802">Figure 2</a>, a PW protection group is created between PE1 and PE2. The PWs can be either SS-PWs or MS-PWs. When configuring PW redundancy, note the following guidelines:</p>
<div class="p" id="EN-US_TASK_0172369871__p1">Determine whether to use SS-PWs or MS-PWs as follows:<ul id="EN-US_TASK_0172369871__ul1316754473214052"><li id="EN-US_TASK_0172369871__li1945707187214052">If the bearer network where PE1 and PE2 reside is small or the two PEs belong to a carrier other than the transport network carrier, use SS-PWs.</li><li id="EN-US_TASK_0172369871__li1997861516214052">If PE1 and PE2 belong to different ASs on a large transport network and no tunnel or signaling connection can be directly established between them, use MS-PWs.</li></ul>
</div>
<div class="p" id="EN-US_TASK_0172369871__p2">Determine whether to use dynamic or static PWs as follows:<ul id="EN-US_TASK_0172369871__ul1312989360214052"><li id="EN-US_TASK_0172369871__li579630388214052">Dynamic PWs use LDP signaling to transmit VC labels. The configuration is easy, and the network scalability is high.</li><li id="EN-US_TASK_0172369871__li169161842214052">Static PWs use manually configured VC labels. The network controllability is high, but the configuration is complex and the network scalability is low.</li></ul>
</div>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li><p>A static or hybrid MS-PW cannot obtain the TTL value through dynamic negotiation. To ensure the correct forwarding of PW APS negotiation packets between the endpoint PEs of an MS-PW, run the <a href="cmdqueryname=mpls+l2vpn+pw-ttl"><b><span class="cmdname">mpls l2vpn pw-ttl</span></b></a> <i><span class="varname">ttl-value</span></i> [ <strong><span>secondary</span></strong> | <strong><span>bypass</span></strong> ] command to configure a TTL value, so that the PW APS mechanism knows the specific number of PW segments.</p>
</li><li><p>In the case of SS-PWs, configure the primary and secondary PWs on the endpoint PEs.</p>
</li><li><p>In the case of MS-PWs, configure the primary and secondary PWs on the endpoint PEs and configure VPWS switching on the SPEs.</p>
</li><li><p>The types of PWs within the same protection group must be the same, and the PW types on the two endpoints of a PW segment must also be the same.</p>
</li><li><p>When configuring a PW protection group, ensure that parameter settings for the primary and secondary PWs are consistent. Parameter setting inconsistencies may result in the secondary PW failing to take over traffic if the primary PW fails.</p>
</li></ul>
</div></div>
<p>Configure a PW protection group that consists of the primary and secondary PWs on PE1 and PE2. In the case of MS-PWs, you also need to configure VPWS switching on SPE1 and SPE2.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172369871__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure a PW protection group that consists of static primary and secondary PWs.</span><p><p>Perform the following steps on PE1 and PE2 to configure static PWs.</p>
</p><ol><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type interface-number</span></i></span><p><p>The AC interface view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172369871__mpls_static-l2vc_primary"><span id="EN-US_TASK_0172369871__cmd981981418214052">Configure the static primary PW.</span><p><div class="p" id="EN-US_TASK_0172369871__p1958667862214052">Run one of the following commands according to the interface type:<ul id="EN-US_TASK_0172369871__ul589665452214052"><li id="EN-US_TASK_0172369871__li645362565214052">Ethernet interface: <span id="EN-US_TASK_0172369871__ph_011"><span><a href="cmdqueryname=mpls+static-l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369871__cmdname1236318395214052">mpls static-l2vc</span></b></a></span><span> { { <strong><span id="EN-US_TASK_0172369871__cmdparmname884085652214052">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1991718115214052">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369871__cmdparmname13441619214052">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1836781161214052">pw-template-name</span></i> <i><span class="varname" id="EN-US_TASK_0172369871__varname2059806613214052">vc-id</span></i> } <sup id="EN-US_TASK_0172369871__sup1020752916214052">*</sup> | <strong><span id="EN-US_TASK_0172369871__cmdparmname2095299123214052">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1995840283214052">ip-address</span></i> [ <i><span class="varname" id="EN-US_TASK_0172369871__varname184772279214052">vc-id</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369871__cmdparmname298814572214052">transmit-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname2045759396214052">transmit-label-value </span></i><strong><span id="EN-US_TASK_0172369871__cmdparmname49262702214052">receive-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1754296373214052">receive-label-value</span></i> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname314054857214052">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname881327474214052">tnl-policy-name</span></i> [ { <strong><span id="EN-US_TASK_0172369871__cmdparmname945511917161">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname3366102401615">endpoint-address</span></i><span> | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname99101915181710">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname149101115191710">endpoint4-address</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369871__cmdparmname6457530101613">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1490863591618">color-value</span></i> ] | <strong><span id="EN-US_TASK_0172369871__cmdparmname2042481939214052">access-port</span></strong> | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1279108266214052">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369871__cmdparmname973369007214052">no-control-word</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname319748617214052">raw</span></strong> | <strong><span id="EN-US_TASK_0172369871__cmdparmname1652920909214052">tagged</span></strong> | <strong><span id="EN-US_TASK_0172369871__cmdparmname719812249123">ip-interworking</span></strong> ] ] <sup id="EN-US_TASK_0172369871__sup2087091498214052">*</sup></span></li><li id="EN-US_TASK_0172369871__li1711124733214052">ATM interface: <span id="EN-US_TASK_0172369871__ph_012"><a href="cmdqueryname=mpls+static-l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369871__cmdname417374624214052">mpls static-l2vc</span></b></a><span> { { <strong><span id="EN-US_TASK_0172369871__cmdparmname771161470214052">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname8043293214052">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369871__cmdparmname2144850951214052">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1912717352214052">pw-template-name</span></i> <i><span class="varname" id="EN-US_TASK_0172369871__varname55814779214052">vc-id</span></i> } <sup id="EN-US_TASK_0172369871__sup149335099214052">*</sup> | <strong><span id="EN-US_TASK_0172369871__cmdparmname1277585662214052">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1647688651214052">ip-address</span></i> [ <i><span class="varname" id="EN-US_TASK_0172369871__varname34262365214052">vc-id</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369871__cmdparmname488035784214052">transmit-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1743811787214052">transmit-label-value </span></i><strong><span id="EN-US_TASK_0172369871__cmdparmname858912148214052">receive-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname701729074214052">receive-label-value</span></i> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname114659121214052">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname141313659214052">tnl-policy-name</span></i><span> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1184081919198">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname17841191991914">endpoint-address</span></i> <strong><span id="EN-US_TASK_0172369871__cmdparmname68411419101910">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname178411219181911">color-value</span></i> ]</span> | <strong><span id="EN-US_TASK_0172369871__cmdparmname1802284363214052">access-port</span></strong> | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1700131067214052">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369871__cmdparmname1405142837214052">no-control-word</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname174865419214052">max-atm-cells</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname567503660214052">cells-value</span></i> ] | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1849328285214052">atm-pack-overtime</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1356808587214052">time</span></i> ] ] <sup id="EN-US_TASK_0172369871__sup907137507214052">*</sup></span></li><li id="EN-US_TASK_0172369871__li541024595214052">TDM interface: <span id="EN-US_TASK_0172369871__ph_013"><span><a href="cmdqueryname=mpls+static-l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369871__cmdname1869557863214052">mpls static-l2vc</span></b></a></span><span> { { <strong><span id="EN-US_TASK_0172369871__cmdparmname334169568214052">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname207049776214052">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369871__cmdparmname1513738584214052">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1035888922214052">pw-template-name</span></i> <i><span class="varname" id="EN-US_TASK_0172369871__varname1430386552214052">vc-id</span></i> } <sup id="EN-US_TASK_0172369871__sup1046689219214052">*</sup> | <strong><span id="EN-US_TASK_0172369871__cmdparmname1203799219214052">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1569003875214052">ip-address</span></i> [ <i><span class="varname" id="EN-US_TASK_0172369871__varname1062211209214052">vc-id</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369871__cmdparmname297247305214052">transmit-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1430503950214052">transmit-label-value</span></i> <strong><span id="EN-US_TASK_0172369871__cmdparmname88084844214052">receive-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1999563340214052">receive-label-value</span></i> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1653727273214052">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname2014079113214052">tnl-policy-name</span></i><span> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1795757182017">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1595737202012">endpoint-address</span></i> <strong><span id="EN-US_TASK_0172369871__cmdparmname1095777172011">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname11957672200">color-value</span></i> ]</span> | <strong><span id="EN-US_TASK_0172369871__cmdparmname224737890214052">access-port</span></strong> | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1681226155214052">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369871__cmdparmname1141370105214052">no-control-word</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname2002107390214052">jitter-buffer</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1052282117214052">depth</span></i> ] | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname119951245214052">tdm-encapsulation</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname270411932214052">number</span></i> ] | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname9108371214052">tdm-sequence-number</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1297352632214052">idle-code</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1080043345214052">idle-code-value</span></i> ] | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1467432332214052">rtp-header</span></strong> ] ] <sup id="EN-US_TASK_0172369871__sup1418487752214052">*</sup></span></li></ul>
</div>
</p></li><li class="substepexpand" id="EN-US_TASK_0172369871__mpls_static-l2vc_secondary"><span id="EN-US_TASK_0172369871__cmd2135204363214052">Configure the static secondary PW.</span><p><div class="p" id="EN-US_TASK_0172369871__p1661023840214052">Run one of the following commands according to the interface type:<ul id="EN-US_TASK_0172369871__ul2075904713214052"><li id="EN-US_TASK_0172369871__li738722179214052">Ethernet interface: <span id="EN-US_TASK_0172369871__ph10745101912513"><span><a href="cmdqueryname=mpls+static-l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369871__cmdname16745181915513">mpls static-l2vc</span></b></a></span><span> { { <strong><span id="EN-US_TASK_0172369871__cmdparmname18745111918517">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname974513196511">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369871__cmdparmname674591914516">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname17459199517">pw-template-name</span></i> <i><span class="varname" id="EN-US_TASK_0172369871__varname13745181985110">vc-id</span></i> } <sup id="EN-US_TASK_0172369871__sup1474510199517">*</sup> | <strong><span id="EN-US_TASK_0172369871__cmdparmname197459198511">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname11745161975110">ip-address</span></i> [ <i><span class="varname" id="EN-US_TASK_0172369871__varname1674511194516">vc-id</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369871__cmdparmname27453195515">transmit-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1674501965112">transmit-label-value </span></i><strong><span id="EN-US_TASK_0172369871__cmdparmname11745519145113">receive-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname14745151915117">receive-label-value</span></i> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname207457197514">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname674571919518">tnl-policy-name</span></i><span> [ { <strong><span id="EN-US_TASK_0172369871__cmdparmname16815185942111">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname3815859132115">endpoint-address</span></i><span> | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname75027231818">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname6502923188">endpoint4-address</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369871__cmdparmname8815205917215">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname981505914212">color-value</span></i> ]</span> | <strong><span id="EN-US_TASK_0172369871__cmdparmname16745201910515">access-port</span></strong> | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname4745019135116">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369871__cmdparmname147459193516">no-control-word</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname157451819185111">raw</span></strong> | <strong><span id="EN-US_TASK_0172369871__cmdparmname2074581919512">tagged</span></strong> | <strong><span id="EN-US_TASK_0172369871__cmdparmname18101110171511">ip-interworking</span></strong> ] | <strong><span id="EN-US_TASK_0172369871__cmdparmname2671104220517">secondary </span></strong>] <sup id="EN-US_TASK_0172369871__sup20745819105116">*</sup></span></li><li id="EN-US_TASK_0172369871__li1248484541214052">ATM interface: <span id="EN-US_TASK_0172369871__ph12455174014591"><a href="cmdqueryname=mpls+static-l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369871__cmdname1745554018596">mpls static-l2vc</span></b></a><span> { { <strong><span id="EN-US_TASK_0172369871__cmdparmname1245584005913">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname44552402593">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369871__cmdparmname7455640135917">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname164551440165912">pw-template-name</span></i> <i><span class="varname" id="EN-US_TASK_0172369871__varname745514045919">vc-id</span></i> } <sup id="EN-US_TASK_0172369871__sup144561540155916">*</sup> | <strong><span id="EN-US_TASK_0172369871__cmdparmname164562407598">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname164561040145910">ip-address</span></i> [ <i><span class="varname" id="EN-US_TASK_0172369871__varname13456104014592">vc-id</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369871__cmdparmname18456840165919">transmit-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1445611402592">transmit-label-value </span></i><strong><span id="EN-US_TASK_0172369871__cmdparmname1845615406593">receive-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname14456164012594">receive-label-value</span></i> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname124561040115916">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1745618406591">tnl-policy-name</span></i><span> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname518551572213">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname41851152229">endpoint-address</span></i> <strong><span id="EN-US_TASK_0172369871__cmdparmname1418517154223">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname0185141572211">color-value</span></i> ]</span> | <strong><span id="EN-US_TASK_0172369871__cmdparmname645694011595">access-port</span></strong> | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname545611401593">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369871__cmdparmname204561040135917">no-control-word</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname0456144005919">max-atm-cells</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname8456114015595">cells-value</span></i> ] | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname64567400599">atm-pack-overtime</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname7456194012590">time</span></i> ] | <strong><span id="EN-US_TASK_0172369871__cmdparmname4331184813542">secondary</span></strong> ] <sup id="EN-US_TASK_0172369871__sup1845614005913">*</sup></span></li><li id="EN-US_TASK_0172369871__li65948839214052">TDM interface: <span id="EN-US_TASK_0172369871__ph2036810414214"><span><a href="cmdqueryname=mpls+static-l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369871__cmdname153682413219">mpls static-l2vc</span></b></a></span><span> { { <strong><span id="EN-US_TASK_0172369871__cmdparmname3368164117220">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname20368184114213">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369871__cmdparmname536815417218">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname73688411225">pw-template-name</span></i> <i><span class="varname" id="EN-US_TASK_0172369871__varname83686411221">vc-id</span></i> } <sup id="EN-US_TASK_0172369871__sup1636811411928">*</sup> | <strong><span id="EN-US_TASK_0172369871__cmdparmname10368041621">destination</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname19368194113213">ip-address</span></i> [ <i><span class="varname" id="EN-US_TASK_0172369871__varname636818419215">vc-id</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369871__cmdparmname133681641729">transmit-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname63681241929">transmit-label-value</span></i> <strong><span id="EN-US_TASK_0172369871__cmdparmname1036854113210">receive-vpn-label</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1436854113215">receive-label-value</span></i> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1436804117213">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname336819411824">tnl-policy-name</span></i><span> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname14950112813225">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1295022862216">endpoint-address</span></i> <strong><span id="EN-US_TASK_0172369871__cmdparmname2095017288221">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname19950182811222">color-value</span></i> ]</span> | <strong><span id="EN-US_TASK_0172369871__cmdparmname93688416212">access-port</span></strong> | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname73681541721">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369871__cmdparmname15368041928">no-control-word</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname153682411022">jitter-buffer</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname436820411226">depth</span></i> ] | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname6368154117213">tdm-encapsulation</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname336814410214">number</span></i> ] | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1936918411928">tdm-sequence-number</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1369164117212">idle-code</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1136918411127">idle-code-value</span></i> ] | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1736984114219">rtp-header</span></strong> ] | <strong><span id="EN-US_TASK_0172369871__cmdparmname9363944105517">secondary</span></strong> ] <sup id="EN-US_TASK_0172369871__sup123691741629">*</sup></span></li></ul>
</div>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure a PW protection group that consists of dynamic primary and secondary PWs.</span><p><p>Perform the following steps on PE1 and PE2 to configure dynamic PWs.</p>
</p><ol><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type interface-number</span></i></span><p><p>The AC interface view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172369871__mpls_l2vc_primary"><span id="EN-US_TASK_0172369871__cmd333809958214052">Configure the dynamic primary PW.</span><p><div class="p" id="EN-US_TASK_0172369871__p588541657214052">Run one of the following commands according to the interface type:<ul id="EN-US_TASK_0172369871__ul1700579444214052"><li id="EN-US_TASK_0172369871__li1343241230214052">Ethernet interface: <span id="EN-US_TASK_0172369871__ph_01"><span><a href="cmdqueryname=mpls+l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369871__cmdname739843091214052">mpls l2vc</span></b></a></span> <span> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1823474935915">instance-name</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname142344493599">instance-name</span></i> ]</span> { <i><span class="varname" id="EN-US_TASK_0172369871__varname463468425214052">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369871__cmdparmname1287093449214052">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname486966757214052">template-name</span></i> } <sup id="EN-US_TASK_0172369871__sup689890830214052">*</sup> <i><span class="varname" id="EN-US_TASK_0172369871__varname1893111836214052">vc-id</span></i> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1700830462214052">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname512469523214052">policy-name</span></i><span> [ { <strong><span id="EN-US_TASK_0172369871__cmdparmname979518521963">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1795105212618">endpoint-address</span></i><span> | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname13795173991512">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname87951639171510">endpoint4-address</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369871__cmdparmname1879513523613">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname18795152866">color-value</span></i> ]</span> | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname89227926214052">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369871__cmdparmname1662205133214052">no-control-word</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname160423594214052">raw</span></strong> | <strong><span id="EN-US_TASK_0172369871__cmdparmname927831475214052">tagged</span></strong> | <strong><span id="EN-US_TASK_0172369871__cmdparmname8529156216">ip-layer2</span></strong> | <strong id="EN-US_TASK_0172369871__b9162587151"><span>ip-interworking</span></strong><strong id="EN-US_TASK_0172369871__b5465143317556"><span> </span></strong>] | <strong><span id="EN-US_TASK_0172369871__cmdparmname1310110875214052">access-port</span></strong> | <strong><span id="EN-US_TASK_0172369871__cmdparmname1751470272214052">ignore-standby-state</span></strong> ] <sup id="EN-US_TASK_0172369871__sup407125283214052">*</sup></span></li><li id="EN-US_TASK_0172369871__li1363564249214052">ATM interface: <span id="EN-US_TASK_0172369871__ph_02"><a href="cmdqueryname=mpls+l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369871__cmdname1501678436214052">mpls l2vc</span></b></a> <span> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname2311442125910">instance-name</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname203112425595">instance-name</span></i> ]</span> { <i><span class="varname" id="EN-US_TASK_0172369871__varname1003118782214052">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369871__cmdparmname1015758256214052">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname638114120214052">template-name</span></i> } <sup id="EN-US_TASK_0172369871__sup514966785214052">*</sup> <i><span class="varname" id="EN-US_TASK_0172369871__varname1073023284214052">vc-id</span></i> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname493046444214052">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname377388913214052">policy-name</span></i><span> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname24071955964">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname4407195520618">endpoint-address</span></i> <strong><span id="EN-US_TASK_0172369871__cmdparmname54074553615">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname8407175512612">color-value</span></i> ]</span> | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname429922712214052">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369871__cmdparmname686598793214052">no-control-word</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname436982695214052">max-atm-cells</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname105503585214052">cells-value</span></i> ] | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname722963415214052">atm-pack-overtime</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname271219707214052">time</span></i> ] | <strong><span id="EN-US_TASK_0172369871__cmdparmname200526673214052">ignore-standby-state</span></strong> ] <sup id="EN-US_TASK_0172369871__sup774947542214052">*</sup></span></li><li id="EN-US_TASK_0172369871__li337496477214052">TDM interface: <span id="EN-US_TASK_0172369871__ph_03"><span><a href="cmdqueryname=mpls+l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369871__cmdname1502700325214052">mpls l2vc</span></b></a></span> <span> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname114291548165313">instance-name</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname115141910195417">instance-name</span></i> ]</span> { <i><span class="varname" id="EN-US_TASK_0172369871__varname981307520214052">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369871__cmdparmname1765250912214052">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname250903928214052">template-name</span></i> } <sup id="EN-US_TASK_0172369871__sup765447823214052">*</sup> <i><span class="varname" id="EN-US_TASK_0172369871__varname1978695223214052">vc-id</span></i> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1075219552214052">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname41573744214052">tnl-policy-name</span></i><span> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname14659175920615">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname16592059969">endpoint-address</span></i> <strong><span id="EN-US_TASK_0172369871__cmdparmname965925915614">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname56596590612">color-value</span></i> ]</span> | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname493865038214052">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369871__cmdparmname341132777214052">no-control-word</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1881993294214052">jitter-buffer</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname605079059214052">depth</span></i> ] | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname706871128214052">tdm-encapsulation</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname907970202214052">number</span></i> ] | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname55189047214052">tdm-sequence-number</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1374543792214052">idle-code</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1772410028214052">idle-code-value</span></i> ] | <strong><span id="EN-US_TASK_0172369871__cmdparmname576916894214052">rtp-header</span></strong> | <strong><span id="EN-US_TASK_0172369871__cmdparmname1225413937214052">ignore-standby-state</span></strong> ] <sup id="EN-US_TASK_0172369871__sup1479979477214052">*</sup></span></li></ul>
</div>
</p></li><li class="substepexpand" id="EN-US_TASK_0172369871__mpls_l2vc_secondary"><span id="EN-US_TASK_0172369871__cmd142147750214052">Configure the dynamic secondary PW.</span><p><div class="p" id="EN-US_TASK_0172369871__p623031152214052">Run one of the following commands according to the interface type:<ul id="EN-US_TASK_0172369871__ul1456785915214052"><li id="EN-US_TASK_0172369871__li122875976214052">Ethernet interface: <span id="EN-US_TASK_0172369871__ph16918587202"><span><a href="cmdqueryname=mpls+l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369871__cmdname1791814812011">mpls l2vc</span></b></a></span> <span> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname59181380207">instance-name</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname891815862016">instance-name</span></i> ]</span> { <i><span class="varname" id="EN-US_TASK_0172369871__varname09181852015">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369871__cmdparmname179181387204">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname891810892014">template-name</span></i> } <sup id="EN-US_TASK_0172369871__sup159181288202">*</sup> <i><span class="varname" id="EN-US_TASK_0172369871__varname14918168132017">vc-id</span></i> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname189181885200">access-port</span></strong> | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1918188192010">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369871__cmdparmname3919118132013">no-control-word</span></strong> ] | <strong><span id="EN-US_TASK_0172369871__cmdparmname991914872014">ignore-standby-state</span></strong> | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname691919842011">raw</span></strong> | <strong><span id="EN-US_TASK_0172369871__cmdparmname59191581207">tagged</span></strong> | <strong><span id="EN-US_TASK_0172369871__cmdparmname149196882010">ip-layer2</span></strong> | <strong><span id="EN-US_TASK_0172369871__cmdparmname189195802017">ip-interworking</span></strong> ] | <strong><span id="EN-US_TASK_0172369871__cmdparmname149192815207">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname169191887204">policy-name</span></i><span> [ { <strong><span id="EN-US_TASK_0172369871__cmdparmname391928102012">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname4919589207">endpoint-address</span></i><span> | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname16919198112019">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname2091911818202">endpoint4-address</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369871__cmdparmname99193814209">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname39196852013">color-value</span></i> ]</span> | <strong><span id="EN-US_TASK_0172369871__cmdparmname169199812202">secondary </span></strong>]<span> <sup id="EN-US_TASK_0172369871__sup119191888207">*</sup></span></span></li><li id="EN-US_TASK_0172369871__li2093532970214052">ATM interface: <span id="EN-US_TASK_0172369871__ph13650142516203"><a href="cmdqueryname=mpls+l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369871__cmdname965082518209">mpls l2vc</span></b></a> <span> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname065017254204">instance-name</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname46506257205">instance-name</span></i> ]</span> { <i><span class="varname" id="EN-US_TASK_0172369871__varname3650172562018">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369871__cmdparmname6650182522018">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname965042592016">template-name</span></i> } <sup id="EN-US_TASK_0172369871__sup1265072519208">*</sup> <i><span class="varname" id="EN-US_TASK_0172369871__varname06501325162017">vc-id</span></i> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname156501525182017">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname196501625142012">policy-name</span></i><span> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname9650132512018">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1965014253203">endpoint-address</span></i> <strong><span id="EN-US_TASK_0172369871__cmdparmname1065019251204">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname965082572015">color-value</span></i> ]</span> | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1265092517201">control-word</span></strong> | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname10650825192015">seq-number</span></strong> ] | <strong><span id="EN-US_TASK_0172369871__cmdparmname2650122552013">no-control-word</span></strong> ] | <strong><span id="EN-US_TASK_0172369871__cmdparmname19650162513205">max-atm-cells</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname165016258209">cells-value</span></i> | <strong><span id="EN-US_TASK_0172369871__cmdparmname17650112552020">atm-pack-overtime</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname465016254207">atm-pack-overtime</span></i> | <strong><span id="EN-US_TASK_0172369871__cmdparmname665012254207">transmit-atm-cells</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname156501325192018">transmit-atm-cell-value</span></i> | <strong><span id="EN-US_TASK_0172369871__cmdparmname065022519209">ignore-standby-state</span></strong> | <strong><span id="EN-US_TASK_0172369871__cmdparmname1565017258206">secondary </span></strong>]<span> <sup id="EN-US_TASK_0172369871__sup2065062572019">*</sup></span></span></li><li id="EN-US_TASK_0172369871__li68338074214052">TDM interface: <span id="EN-US_TASK_0172369871__ph168911741172012"><span><a href="cmdqueryname=mpls+l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369871__cmdname389144122017">mpls l2vc</span></b></a></span> <span> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1589112411205">instance-name</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname14891741162018">instance-name</span></i> ]</span> { <i><span class="varname" id="EN-US_TASK_0172369871__varname689174102020">ip-address</span></i> | <strong><span id="EN-US_TASK_0172369871__cmdparmname88917415204">pw-template</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1989120411209">template-name</span></i> } <sup id="EN-US_TASK_0172369871__sup118911141172010">*</sup> <i><span class="varname" id="EN-US_TASK_0172369871__varname589111414201">vc-id</span></i> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname178910414200">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1889154114209">tnl-policy-name</span></i><span> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname489115419208">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1189120419200">endpoint-address</span></i> <strong><span id="EN-US_TASK_0172369871__cmdparmname2891124118206">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1789154113203">color-value</span></i> ]</span> | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1889174162017">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369871__cmdparmname489164112011">no-control-word</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname289184142011">jitter-buffer</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname0891541162015">depth</span></i> ] | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname489104116205">tdm-encapsulation-number</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname19892174116201">number</span></i> ] | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname0892114110204">tdm-sequence-number</span></strong> ] | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname5892114118208">rtp-header</span></strong> ] | <strong><span id="EN-US_TASK_0172369871__cmdparmname14892154113207">ignore-standby-state</span></strong> | <strong><span id="EN-US_TASK_0172369871__cmdparmname1489254116209">secondary</span></strong> ]<span> <sup id="EN-US_TASK_0172369871__sup389204172020">*</sup></span></span></li></ul>
</div>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0172369871__step_dc_vrp_vpws_cfg_602903"><span id="EN-US_TASK_0172369871__cmd528437276214052">(Optional) Configure VPWS switching.</span><p><p id="EN-US_TASK_0172369871__p753054186214052">During MS-PW deployment, perform the following steps on each SPE.</p>
</p><ol id="EN-US_TASK_0172369871__substeps1810003328214052"><li class="substepexpand" id="EN-US_TASK_0172369871__substep637566074214052"><span id="EN-US_TASK_0172369871__cmd1777090835214052">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172369871__cmdname1643667656214052">system-view</span></b></a></span><p><p id="EN-US_TASK_0172369871__p1560521916326">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172369871__substep564158259214052"><span id="EN-US_TASK_0172369871__cmd667557508214052">Run any of the following commands based on PW types on endpoint PEs:</span><p><ul id="EN-US_TASK_0172369871__ul237702931214052"><li id="EN-US_TASK_0172369871__li1672648520214052"><p id="EN-US_TASK_0172369871__p1642736410214052"><a name="EN-US_TASK_0172369871__li1672648520214052"></a><a name="li1672648520214052"></a>If dynamic PWs are configured on the endpoint PEs, run the <a href="cmdqueryname=mpls+switch-l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369871__cmdname1876139379214052">mpls switch-l2vc</span></b></a> <i><span class="varname" id="EN-US_TASK_0172369871__varname2044586014214052">ip-address</span></i> <i><span class="varname" id="EN-US_TASK_0172369871__varname1855272791214052">vc-id</span></i> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname6943978214052">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1576264212214052">policy-name</span></i><span> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname69945611812">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname199919565812">endpoint-address</span></i> <strong><span id="EN-US_TASK_0172369871__cmdparmname49925612812">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname7991566815">color-value</span></i> ]</span> ] <strong><span id="EN-US_TASK_0172369871__cmdparmname1659489807214052">between</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname639109401214052">ip-address vc-id</span></i> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1847866065214052">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname896774594214052">policy-name</span></i><span> [ { <strong><span id="EN-US_TASK_0172369871__cmdparmname32841643132517">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname0285843142515">endpoint-address</span></i><span> | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname99491426141917">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname119491526151918">endpoint4-address</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369871__cmdparmname228504317255">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname172854436256">color-value</span></i> ]</span> ] [ <strong><span id="EN-US_TASK_0172369871__cmdparmname76643930214052">backup</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname906116923214052">ip-address</span></i> <i><span class="varname" id="EN-US_TASK_0172369871__varname1180658836214052">vc-id</span></i> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname382666328214052">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname132349986214052">policy-name</span></i><span> [ { <strong><span id="EN-US_TASK_0172369871__cmdparmname5517146182513">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname13517124617257">sw-endpoint-address</span></i><span> | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname15519183461913">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname165191634101910">sw-endpoint4-address</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369871__cmdparmname17517184614251">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname17517104618253">color-value</span></i> ]</span> ] ] <strong><span id="EN-US_TASK_0172369871__cmdparmname1486204697214052">encapsulation</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1985255715214052">encapsulation-type</span></i> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname369594947214052">control-word-transparent</span></strong> ] command to configure dynamic VPWS switching.</p>
</li><li id="EN-US_TASK_0172369871__li429046289214052"><p id="EN-US_TASK_0172369871__p1878376244214052"><a name="EN-US_TASK_0172369871__li429046289214052"></a><a name="li429046289214052"></a>If static PWs are configured on the endpoint PEs, run the <a href="cmdqueryname=mpls+switch-l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369871__cmdname937222724214052">mpls switch-l2vc</span></b></a> <i><span class="varname" id="EN-US_TASK_0172369871__varname722685586214052">ip-address vc-id</span></i> <strong><span id="EN-US_TASK_0172369871__cmdparmname118619253214052">trans</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1893219783214052">trans-label</span></i> <strong><span id="EN-US_TASK_0172369871__cmdparmname257109391214052">recv</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname485167615214052">received-label</span></i> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname108814791214052">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname457715098214052">policy-name</span></i><span> [ { <strong><span id="EN-US_TASK_0172369871__cmdparmname616818541254">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname10168105472511">endpoint-address</span></i><span> | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1252123913193">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname20521103912194">endpoint4-address</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369871__cmdparmname1916885418258">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname131681654102519">color-value</span></i> ]</span> ] <strong><span id="EN-US_TASK_0172369871__cmdparmname210069446214052">between</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname919471181214052">ip-address vc-id</span></i> <strong><span id="EN-US_TASK_0172369871__cmdparmname2079951114214052">trans</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1382739565214052">trans-label</span></i> <strong><span id="EN-US_TASK_0172369871__cmdparmname1124519267214052">recv</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname120382770214052">received-label</span></i> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1530255143214052">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname788387729214052">policy-name</span></i><span> [ { <strong><span id="EN-US_TASK_0172369871__cmdparmname11972158682">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname997215589810">sw-endpoint-address</span></i><span> | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1599923710194">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname129999379198">sw-endpoint4-address</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369871__cmdparmname12973258389">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname139734588818">color-value</span></i> ]</span> ] <strong><span id="EN-US_TASK_0172369871__cmdparmname2116679156214052">encapsulation</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1402072743214052">encapsulation-type</span></i> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1536286217214052">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369871__cmdparmname2104692314214052">no-control-word</span></strong> ] command to configure static VPWS switching.</p>
</li><li id="EN-US_TASK_0172369871__li79589388214052"><p id="EN-US_TASK_0172369871__p1924015682214052"><a name="EN-US_TASK_0172369871__li79589388214052"></a><a name="li79589388214052"></a>If a static PW is configured on one endpoint PE and a dynamic PW is configured on the other endpoint PE, run the <a href="cmdqueryname=mpls+switch-l2vc"><b><span class="cmdname" id="EN-US_TASK_0172369871__cmdname350137569214052">mpls switch-l2vc</span></b></a> <i><span class="varname" id="EN-US_TASK_0172369871__varname1367583467214052">ip-address vc-id</span></i> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname453410229214052">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname365219963214052">policy-name</span></i><span> [ { <strong><span id="EN-US_TASK_0172369871__cmdparmname2648204162613">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname564810462617">endpoint-address</span></i><span> | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1742295111914">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1742265116199">endpoint4-address</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369871__cmdparmname166487412267">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1264820418261">color-value</span></i> ]</span> ] <strong><span id="EN-US_TASK_0172369871__cmdparmname1749497190214052">between</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1995560481214052">ip-address vc-id</span></i> <strong><span id="EN-US_TASK_0172369871__cmdparmname441695473214052">trans</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname404269379214052">trans-label</span></i> <strong><span id="EN-US_TASK_0172369871__cmdparmname800755849214052">recv</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname608172470214052">received-label</span></i> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname310309625214052">tunnel-policy</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname382992837214052">policy-name</span></i><span> [ { <strong><span id="EN-US_TASK_0172369871__cmdparmname543012312916">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname13430531594">sw-endpoint-address</span></i><span> | [ <strong><span id="EN-US_TASK_0172369871__cmdparmname131762494194">endpoint</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname16176144951913">sw-endpoint4-address</span></i> ] }</span> <strong><span id="EN-US_TASK_0172369871__cmdparmname15430636919">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname14305313912">color-value</span></i> ]</span> ] <strong><span id="EN-US_TASK_0172369871__cmdparmname2147000126214052">encapsulation</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname2059451711214052">encapsulation-type</span></i> [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1364226472214052">mtu</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1981168502214052">mtu-value</span></i> ] [ <strong><span id="EN-US_TASK_0172369871__cmdparmname593481438214052">control-word</span></strong> | <strong><span id="EN-US_TASK_0172369871__cmdparmname379592723214052">no-control-word</span></strong> ] [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1643479972214052">rtp-header</span></strong> ] [ <strong><span id="EN-US_TASK_0172369871__cmdparmname1640987145214052">timeslotnum</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname892564445214052">timeslotnum</span></i> ] [ <strong><span id="EN-US_TASK_0172369871__cmdparmname94609570214052">tdm-encapsulation</span></strong> <i><span class="varname" id="EN-US_TASK_0172369871__varname1336987992214052">number</span></i> ] command to configure hybrid VPWS switching.</p>
</li></ul>
</p></li><li class="substepexpand" id="EN-US_TASK_0172369871__substep1844145930214052"><span id="EN-US_TASK_0172369871__cmd2076652006214052">Run <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0172369871__cmdname1314923977214052">quit</span></b></a></span><p><p id="EN-US_TASK_0172369871__p204832463317">Return to the system view.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172369871__substep1117457281214052"><span id="EN-US_TASK_0172369871__cmd1360028752214052">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172369871__cmdname1823623317214052">commit</span></b></a></span><p><p id="EN-US_TASK_0172369871__p2202189193310">The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_6028.html">Configuring PW APS
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpws_cfg_6030.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>