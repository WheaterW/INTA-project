
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring DF Election Negotiation">
<meta name="abstract" content="This section describes how to configure DF election negotiation.">
<meta name="description" content="This section describes how to configure DF election negotiation.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0015.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0016.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="EVPN">
<meta name="featuretype" content="VPN">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="EVPN">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="EVPN">
<meta name="featuretype" content="VPN">
<meta name="OWNER" content="p00915595">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00878323">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001503441520">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring DF Election Negotiation</title>
</head>
<body><a name="EN-US_TASK_0000001503441520"></a><a name="EN-US_TASK_0000001503441520"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring DF Election Negotiation</h1>
<div class="taskbody"><p>This section describes how to configure DF election negotiation.</p>
<div class="context"><a name="EN-US_TASK_0000001503441520__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>After DF election negotiation is configured on a PE, if the DF election algorithm configured on the PE does not match that on the remote PE, the DF election algorithm on the PE is rolled back to the default DF election algorithm.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>In EVPN VPLS scenarios, DF election algorithms are rolled back to the interface- or VLAN-based election algorithm based on the configuration. In EVPN VPWS scenarios, DF election algorithms are rolled back to the interface- or service ID-based election algorithm based on the configuration.</li><li>In scenarios where E-Trunk, VRRP, or PW status is used to determine the master/backup status of devices, DF election negotiation is not affected.</li></ul>
</div></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001503441520__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring DF election negotiation, complete one of the following tasks:</p>
<ul><li><a href="dc_vrp_evpn_cfg_0003.html">Configure EVPN VPLS over MPLS (common EVPN instance)</a>.</li><li><a href="dc_vrp_evpn_cfg_0065.html">Configure EVPN VPLS over MPLS (BD EVPN instance)</a>.</li><li><a href="dc_vrp_evpn_cfg_0020.html">Configure EVPN VPWS over MPLS</a>.</li><li><a href="dc_vrp_srv6_cfg_all_0021_copy.html">Configure EVPN VPWS over IS-IS SRv6 BE</a>.</li><li><a href="dc_vrp_srv6_cfg_all_0023_copy.html">Configure EVPN VPLS over IS-IS SRv6 BE</a>.</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001503441520__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=evpn"><b><span class="cmdname">evpn</span></b></a></span></span><p><p>The global EVPN configuration view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=df-election+extcommunity-check+enable"><b><span class="cmdname">df-election extcommunity-check enable</span></b></a></span><p><p>DF election negotiation is enabled.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001503441520__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>After DF election negotiation is configured, you can run the <a href="cmdqueryname=display+evpn"><b><span class="cmdname">display evpn</span></b></a> <strong><span>vpn-instance</span></strong> <strong><span>name</span></strong> <i><span class="varname">vpn-instance-name</span></i> <strong><span>df result</span></strong> <strong>esi</strong><i><span class="varname"> esi</span></i> command to check whether <strong>DF Election Type</strong> is <strong>Preference-based</strong>.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0000.html">EVPN Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0015.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0016.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>