
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring the Shortcut Function for SRv6 TE Policies">
<meta name="abstract" content="Enable the shortcut function for SRv6 TE Policies so that an IGP uses an SRv6 TE Policy that is up to perform enhanced SPF calculation.">
<meta name="description" content="Enable the shortcut function for SRv6 TE Policies so that an IGP uses an SRv6 TE Policy that is up to perform enhanced SPF calculation.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0262.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0267.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featuretype" content="Segment Routing">
<meta name="OWNER" content="l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00587852">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001119842764">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring the Shortcut Function for SRv6 TE Policies</title>
</head>
<body><a name="EN-US_TASK_0000001119842764"></a><a name="EN-US_TASK_0000001119842764"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring the Shortcut Function for SRv6 TE Policies</h1>
<div class="taskbody"><p>Enable the shortcut function for SRv6 TE Policies so that an IGP uses an SRv6 TE Policy that is up to perform enhanced SPF calculation.</p>
<div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001119842764__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>Before configuring the shortcut function for SRv6 TE Policies, complete one of the following tasks:</p>
<ul><li><a href="dc_vrp_srv6_cfg_all_0110.html">Configure an SRv6 TE Policy in manual configuration mode.</a></li><li><a href="dc_vrp_srv6_cfg_all_0116.html">Configure an SRv6 TE Policy in controller-based dynamic delivery mode.</a></li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001119842764__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Currently, SRv6 TE Policies are mainly deployed in specific network areas for purposes such as traffic acceleration and load balancing. Sometimes, traffic traversing network areas cannot be effectively steered into the desired SRv6 TE Policy, resulting in an SLA guarantee failure.</p>
<p>An IGP uses an SRv6 TE Policy as a local direct link to perform enhanced SPF calculation. If the headend and endpoint of the SRv6 TE Policy match the ingress and egress of a physical link on the SPF tree, respectively, the IGP uses the SRv6 TE Policy to replace the physical link, implementing the shortcut function for the SRv6 TE Policy.</p>
<p>Although a device on which the shortcut function for SRv6 TE Policies is enabled uses an SRv6 TE Policy as an outbound interface, it does not advertise the SRv6 TE Policy to its neighbors. As such, other devices cannot use the SRv6 TE Policy.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001119842764__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li><span>Run the <a href="cmdqueryname=segment-routing+ipv6"><b><span class="cmdname">segment-routing ipv6</span></b></a> command to enable SRv6 and enter its view.</span></li><li><span>Run the <a href="cmdqueryname=srv6-te+policy"><b><span class="cmdname">srv6-te policy</span></b></a> <i><span class="varname">name-value</span></i> <strong><span>endpoint</span></strong> <i><span class="varname">endpoint-ip</span></i> <strong><span>color</span></strong> <i><span class="varname">color-value</span></i> command to enter the SRv6 TE Policy view.</span></li><li><span>Run the <a href="cmdqueryname=encapsulation-mode"><b><span class="cmdname">encapsulation-mode</span></b></a> { <strong><span>encaps</span></strong> | <strong><span>insert-encaps </span></strong>} command to configure an SRv6 TE Policy encapsulation mode.</span><p><p>When forwarded data enters an SRv6 TE Policy, new SID stack encapsulation is required. If no service SID is available, the SRv6 TE Policy needs to use the <strong>encaps</strong> encapsulation mode. Otherwise, the endpoint cannot remove the SRv6 encapsulation. The headend of the SRv6 TE Policy encapsulates IPv6 header and SRH information into data when the data enters the SRv6 TE Policy, and the endpoint implements the USD flavor to remove the encapsulated IPv6 header and SRH information.</p>
<p>The shortcut function of SRv6 TE Policies does not support the Insert mode.</p>
</p></li><li><span>Run the <strong>igp shortcut isis </strong>[ <strong>route-policy </strong><em>route-policy-name</em> ] command to enable the shortcut function for the SRv6 TE Policy.</span><p><p>If the <strong>route-policy </strong><em>route-policy-name</em> parameter is not configured, only 128-bit host routes can recurse to SRv6 TE Policies by default. However, if the <strong>route-policy </strong><em>route-policy-name</em> parameter is configured, the specified route-policy is used to selectively recurse routes to SRv6 TE Policies after path calculation is complete.</p>
</p></li><li><span>Run the <a href="cmdqueryname=isis+ipv6+enable"><b><span class="cmdname">isis ipv6 enable</span></b></a><strong> </strong>[ <em>instanceId</em> ] command to enable IS-IS IPv6 for the SRv6 TE Policy and specify the ID of the IS-IS process to be associated.</span></li><li><span>(Optional) Run the <a href="cmdqueryname=igp+metric"><b><span class="cmdname">igp metric</span></b></a><strong> </strong>{ <strong>relative</strong><em> relativeValue</em> | <strong>absolute</strong><em> absoluteValue</em> } command to configure an IGP metric value for the SRv6 TE Policy used for SPF calculation.</span><p><p>Configure an appropriate IGP metric value for the SRv6 TE Policy to ensure that the SRv6 TE Policy can be correctly advertised and used. For example, the metric value of an SRv6 TE Policy should be less than the metric value of the IGP route that is not expected to be used by traffic.</p>
</p></li><li><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0000001119842764__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>After the configuration is complete, verify the configuration.</p>
<ul><li>Run the <a href="cmdqueryname=display+isis+route"><b><span class="cmdname">display isis route</span></b></a> [ <i><span class="varname">process-id</span></i> ] <strong><span>ipv6</span></strong> [ <strong><span>topology</span></strong> <i><span class="varname">topology-name</span></i> ] [ <strong><span>verbose</span></strong> | [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> ] | <i><span class="varname">ipv6-address</span></i> [ <i><span class="varname">prefix-length</span></i> ] ] <sup>*</sup> [ | <strong><span>count</span></strong> ] command to check IS-IS routing information.</li><li>Run the <a href="cmdqueryname=display+ipv6+routing-table"><b><span class="cmdname">display ipv6 routing-table</span></b></a> <i><span class="varname">ipv6-address</span></i> [ <i><span class="varname">prefix-length</span></i> ] [ <strong><span>longer-match</span></strong> ] <strong><span>verbose</span></strong> or <a href="cmdqueryname=display+ipv6+routing-table+brief"><b><span class="cmdname">display ipv6 routing-table brief</span></b></a> command to check IPv6 routing table information.</li></ul>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0000.html">Segment Routing IPv6 Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0262.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0267.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>