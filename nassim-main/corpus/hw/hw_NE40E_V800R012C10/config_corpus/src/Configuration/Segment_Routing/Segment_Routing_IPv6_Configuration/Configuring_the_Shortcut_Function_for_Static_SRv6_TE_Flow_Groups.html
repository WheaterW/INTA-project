
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring the Shortcut Function for Static SRv6 TE Flow Groups">
<meta name="abstract" content="Enable the shortcut function for static SRv6 TE flow groups so that an IGP uses an SRv6 TE flow group that is up to perform enhanced SPF calculation.">
<meta name="description" content="Enable the shortcut function for static SRv6 TE flow groups so that an IGP uses an SRv6 TE flow group that is up to perform enhanced SPF calculation.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0266.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0219.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featuretype" content="Segment Routing">
<meta name="OWNER" content="l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00587852">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001166599291">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring the Shortcut Function for Static SRv6 TE Flow Groups</title>
</head>
<body><a name="EN-US_TASK_0000001166599291"></a><a name="EN-US_TASK_0000001166599291"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring the Shortcut Function for Static SRv6 TE Flow Groups</h1>
<div class="taskbody"><p>Enable the shortcut function for static SRv6 TE flow groups so that an IGP uses an SRv6 TE flow group that is up to perform enhanced SPF calculation.</p>
<div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001166599291__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>Before configuring the shortcut function for static SRv6 TE flow groups, complete one of the following tasks:</p>
<ul><li><a href="dc_vrp_srv6_cfg_all_0110.html">Configure an SRv6 TE Policy in manual configuration mode.</a></li><li><a href="dc_vrp_srv6_cfg_all_0116.html">Configure an SRv6 TE Policy in controller-based dynamic delivery mode.</a></li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001166599291__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>An SRv6 TE flow group is a set of SRv6 TE Policies and can be used to implement DSCP-based traffic steering. It contains multiple SRv6 TE Policies with the same endpoint but different color values. During service recursion, service traffic is matched against SRv6 TE Policies in the SRv6 TE flow group according to the DSCP values carried by the traffic.</p>
<p>The mapping between DSCP values and SRv6 TE Policies can be statically configured in an SRv6 TE flow group and applies to both IPv4 and IPv6 services. Only an SRv6 TE Policy in the up state can be mapped to a DSCP value.</p>
<p>In the implementation of the shortcut function for a static SRv6 TE flow group, the SRv6 TE flow group is considered a local direct link. An IGP uses the SRv6 TE flow group as an outbound interface to perform enhanced SPF calculation. If the headend and endpoint of the SRv6 TE flow group match the ingress and egress of a physical link on the SPF tree, respectively, the IGP uses the SRv6 TE flow group to replace the physical link, implementing the shortcut function for the SRv6 TE flow group. During data forwarding, a node steers data traffic into the corresponding SRv6 TE flow group based on DSCP values, thereby meeting SLA requirements.</p>
<p>Although a device on which the shortcut function for SRv6 TE flow groups is enabled uses an SRv6 TE flow group as an outbound interface, it does not advertise the SRv6 TE flow group to its neighbors. As such, other devices cannot use the SRv6 TE flow group.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001166599291__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li><span>Run the <a href="cmdqueryname=segment-routing+ipv6"><b><span class="cmdname">segment-routing ipv6</span></b></a> command to enable SRv6 and enter its view.</span></li><li><span>Run the <a href="cmdqueryname=srv6-te+flow-group"><b><span class="cmdname">srv6-te flow-group</span></b></a><strong> </strong><em>group-name</em> command to enter the SRv6 flow group view.</span></li><li><span>Run the <strong><a href="cmdqueryname=endpoint"><b><span class="cmdname">endpoint</span></b></a> </strong><em>ipv6-address</em> command to configure an endpoint address for the SRv6 TE flow group.</span><p><p>During route recursion, the device checks whether the next hop address of the route matches the endpoint address of the SRv6 TE flow group. If they match, route recursion succeeds.</p>
</p></li><li><span>Run the <strong><a href="cmdqueryname=igp+shortcut+isis"><b><span class="cmdname">igp shortcut isis</span></b></a> </strong>[ <strong>route-policy</strong><em> route-policy-name</em> ] command to enable the shortcut function for the SRv6 TE flow group.</span><p><p>If the <strong>route-policy </strong><em>route-policy-name</em> parameter is not configured, only 128-bit host routes can recurse to the SRv6 TE flow group by default. However, if the <strong>route-policy </strong><em>route-policy-name</em> parameter is configured, the specified route-policy is used to selectively recurse routes to the SRv6 TE flow group after path calculation is complete.</p>
</p></li><li><span>Run the <a href="cmdqueryname=isis+ipv6+enable"><b><span class="cmdname">isis ipv6 enable</span></b></a><strong> </strong>[ <em>instanceId</em> ] command to enable IS-IS IPv6 for the SRv6 TE flow group and specify the ID of the IS-IS process to be associated.</span></li><li><span>Run the <a href="cmdqueryname=match-type+dscp"><b><span class="cmdname">match-type dscp</span></b></a> command to set the mapping type of the SRv6 TE flow group to DSCP.</span></li><li><span>Run the <a href="cmdqueryname=index+dscp+match"><b><span class="cmdname">index</span></b></a><strong> </strong><em>index-value</em> <strong>dscp</strong> { { <em>dscpBegin</em> [ <strong>to</strong><em> dscpEnd</em> ] } &amp;&lt;1-64&gt; } <strong>match</strong> { <strong>srv6-te-policy</strong><strong> color</strong><em> color-value</em> | <strong>native-ip</strong> } or <a href="cmdqueryname=default+match"><b><span class="cmdname">default match</span></b></a><strong> </strong>{ <strong>srv6-te-policy</strong><strong> color</strong><em> color-value</em> | <strong>native-ip</strong> } command to configure the mapping between DSCP values and SRv6 TE Policies in the SRv6 TE flow group.</span><p><p>When traffic carrying DSCP values enters an SRv6 TE flow group, it is forwarded based on the following rules:</p>
<ol type="a"><li>The traffic is first strictly matched against the SRv6 TE Policy or native IP link with the corresponding DSCP value.</li><li>If no matching SRv6 TE Policy or native IP link with the corresponding DSCP value is found, the SRv6 TE Policy or native IP link with the default priority is selected.</li><li>If no SRv6 TE Policy or native IP link with the default priority is configured, the SRv6 TE Policy or native IP link with the smallest DSCP value is selected.</li></ol>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Only an SRv6 TE Policy in the up state can be mapped to a DSCP value.</p>
<p>The mapping relationship takes effect for an SRv6 TE flow group only when it is in the up state.</p>
</div></div>
</p></li><li><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0000001166599291__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>After the configuration is complete, verify the configuration.</p>
<ul><li>Run the <a href="cmdqueryname=display+srv6-te+flow-group"><b><span class="cmdname">display srv6-te flow-group</span></b></a> command to check SRv6 TE flow group details.</li><li>Run the <a href="cmdqueryname=display+srv6-te+flow-group+last-down-reason"><b><span class="cmdname">display srv6-te flow-group last-down-reason</span></b></a> command to check the records about SRv6 TE flow group down events.</li><li>Run the <a href="cmdqueryname=display+srv6-te+flow-group+statistics"><b><span class="cmdname">display srv6-te flow-group statistics</span></b></a> command to check SRv6 TE flow group statistics.</li><li>Run the <a href="cmdqueryname=display+isis+route"><b><span class="cmdname">display isis route</span></b></a> [ <i><span class="varname">process-id</span></i> ] <strong><span>ipv6</span></strong> [ <strong><span>topology</span></strong> <i><span class="varname">topology-name</span></i> ] [ <strong><span>verbose</span></strong> | [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> ] | <i><span class="varname">ipv6-address</span></i> [ <i><span class="varname">prefix-length</span></i> ] ] <sup>*</sup> [ | <strong><span>count</span></strong> ] command to check IS-IS routing information.</li><li>Run the <a href="cmdqueryname=display+ipv6+routing-table"><b><span class="cmdname">display ipv6 routing-table</span></b></a> <i><span class="varname">ipv6-address</span></i> [ <i><span class="varname">prefix-length</span></i> ] [ <strong><span>longer-match</span></strong> ] <strong><span>verbose</span></strong> or <a href="cmdqueryname=display+ipv6+routing-table+brief"><b><span class="cmdname">display ipv6 routing-table brief</span></b></a> command to check IPv6 routing table information.</li></ul>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0000.html">Segment Routing IPv6 Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0266.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0219.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>