
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a Slice ID for an SRv6 TE Policy">
<meta name="abstract" content="You can configure a slice ID for an SRv6 TE Policy to associate services and forwarding resources.">
<meta name="description" content="You can configure a slice ID for an SRv6 TE Policy to associate services and forwarding resources.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0410.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0412.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0416.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featuretype" content="Segment Routing">
<meta name="OWNER" content="l00587852">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00587852">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0317488797">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring a Slice ID for an SRv6 TE Policy</title>
</head>
<body><a name="EN-US_TASK_0317488797"></a><a name="EN-US_TASK_0317488797"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a Slice ID for an SRv6 TE Policy</h1>
<div class="taskbody"><p>You can configure a slice ID for an SRv6 TE Policy to associate services and forwarding resources.</p>
<div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0317488797__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>Before configuring a slice ID for an SRv6 TE Policy, complete the following task:</p>
<ul><li>Configure an SRv6 TE Policy. For configuration details, see <a href="dc_vrp_srv6_cfg_all_0110.html">Configuring an SRv6 TE Policy (Manual Configuration + IS-IS as an IGP)</a> or <a href="dc_vrp_srv6_cfg_all_0116.html">Configuring an SRv6 TE Policy (Dynamic Delivery by a Controller + IS-IS as an IGP)</a>.</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0317488797__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>A slice ID connects the control and forwarding planes. After a slice ID is configured for a candidate path of an SRv6 TE Policy, if services are forwarded over the candidate path, the ingress inserts SRH information into packets to encapsulate the SID list of the SRv6 TE Policy, encapsulates the HBH Options header (which carriers a slice ID), and finally encapsulates the IPv6 basic header. The ingress then determines the network slice interface based on the slice ID and forwards the packets over this interface.</p>
<p>If the active SID on the egress of the SRv6 TE Policy is a service SID advertised by the egress, the egress executes the service SID's instructions to decapsulate the packet and remove the SRH, HBH header (only in the HBH mode), and IPv6 basic header.</p>
<p>An SRv6 TE Policy can be statically configured or delivered by a controller. In cases of the latter, the controller delivers a BGP Update message to a forwarder through a BGP IPv6 SR Policy peer relationship. The BGP Update message carries the slice ID of the SRv6 TE Policy's candidate path.</p>
<p>This section describes how to configure a slice ID for a statically configured SRv6 TE Policy.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0317488797__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li><span>Perform slice ID association using either of the following methods.</span><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If both of the following methods are used, 5-tuple-based ACL matching for slice ID association takes precedence.</p>
</div></div>
</p><p><ul><li>Associate a candidate path of an SRv6 TE Policy with a slice ID.<ol type="a"><li>Run the <a href="cmdqueryname=segment-routing+ipv6"><b><span class="cmdname">segment-routing ipv6</span></b></a> command to enable SRv6 and enter its view.</li><li>Run the <a href="cmdqueryname=srv6-te+policy"><b><span class="cmdname">srv6-te policy</span></b></a> <i><span class="varname">name-value</span></i> command to enter the SRv6 TE Policy view.</li><li>Run the <a href="cmdqueryname=candidate-path+preference"><b><span class="cmdname">candidate-path preference</span></b></a> <i><span class="varname">preference</span></i> command to configure a candidate path and its preference for the SRv6 TE Policy.<p>A larger preference value indicates a higher priority of a candidate path.</p>
<p>In the same SRv6 TE Policy, the valid candidate path with the highest preference is used as the primary path, while that with the second highest preference is used as the backup path.</p>
</li><li>Run the <a href="cmdqueryname=network-slice"><b><span class="cmdname">network-slice</span></b></a> <i><span class="varname">slice-id</span></i> <strong><span>data-plane</span></strong> command to configure a slice ID for the candidate path of the SRv6 TE Policy.<p>Different slice IDs can be configured for different candidate paths of an SRv6 TE Policy.</p>
</li><li>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</li></ol>
</li><li id="EN-US_TASK_0317488797__li529154711579">Configure 5-tuple-based ACL matching for slice ID association.<ol type="a" id="EN-US_TASK_0317488797__ol113311128580"><li id="EN-US_TASK_0317488797__li147601343113419">Configure a traffic classification rule.<ol class="substepthirdol" id="EN-US_TASK_0317488797__ol198079587345"><li id="EN-US_TASK_0317488797__li158071058153418">Run either of the following commands to create an ACL and enter its view:<ul id="EN-US_TASK_0317488797__ul3851171093613"><li id="EN-US_TASK_0317488797__li13605143043615">For a basic ACL (numbered from 2000 to 2999), run the <span id="EN-US_TASK_0317488797__ph11380152420464"><a href="cmdqueryname=acl"><b><span class="cmdname" id="EN-US_TASK_0317488797__cmdname547462670213919">acl</span></b></a> { <strong><span id="EN-US_TASK_0317488797__cmdparmname1337962434612">name</span></strong> <i><span class="varname" id="EN-US_TASK_0317488797__varname13379182494613">basic-acl-name</span></i> { <strong><span id="EN-US_TASK_0317488797__cmdparmname4379182414617">basic</span></strong> | [ <strong><span id="EN-US_TASK_0317488797__cmdparmname6379132418462">basic</span></strong> ] <strong><span id="EN-US_TASK_0317488797__cmdparmname16380142412463">number</span></strong> <i><span class="varname" id="EN-US_TASK_0317488797__varname143801424144610">basic-acl-number</span></i> } | [ <strong><span id="EN-US_TASK_0317488797__cmdparmname9380202419462">number</span></strong> ] <i><span class="varname" id="EN-US_TASK_0317488797__varname0380112416461">basic-acl-number</span></i> } [ <strong><span id="EN-US_TASK_0317488797__cmdparmname11380122484614">match-order</span></strong> { <strong><span id="EN-US_TASK_0317488797__cmdparmname838012420462">config</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname4380172434614">auto</span></strong> } ]</span> command.</li><li id="EN-US_TASK_0317488797__li188511510103615">For an advanced ACL (numbered from 3000 to 3999), run the <span id="EN-US_TASK_0317488797__ph054822912466"><a href="cmdqueryname=acl"><b><span class="cmdname" id="EN-US_TASK_0317488797__cmdname1430753456213919">acl</span></b></a> { <strong><span id="EN-US_TASK_0317488797__cmdparmname2547132918462">name</span></strong> <i><span class="varname" id="EN-US_TASK_0317488797__varname135471629174617">advance-acl-name</span></i> [ <strong><span id="EN-US_TASK_0317488797__cmdparmname6547529174618">advance</span></strong> | [ <strong><span id="EN-US_TASK_0317488797__cmdparmname1154752910465">advance</span></strong> ] <strong><span id="EN-US_TASK_0317488797__cmdparmname1554792910467">number</span></strong> <i><span class="varname" id="EN-US_TASK_0317488797__varname135471129124616">advance-acl-number</span></i> ] | [ <strong><span id="EN-US_TASK_0317488797__cmdparmname154742974612">number</span></strong> ] <i><span class="varname" id="EN-US_TASK_0317488797__varname3547172954620">advance-acl-number</span></i> } [ <strong><span id="EN-US_TASK_0317488797__cmdparmname75471297464">match-order</span></strong> { <strong><span id="EN-US_TASK_0317488797__cmdparmname145487297462">config</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname1548729134611">auto</span></strong> } ]</span> command.</li></ul>
</li></ol><ol class="substepthirdol" start="2" id="EN-US_TASK_0317488797__ol1172651312396"><li id="EN-US_TASK_0317488797__li6412727123917"><a name="EN-US_TASK_0317488797__li6412727123917"></a><a name="li6412727123917"></a>Run either of the following commands to create an ACL rule:<ul id="EN-US_TASK_0317488797__ul1918215343914"><li id="EN-US_TASK_0317488797__li1924613618408">For a basic ACL (numbered from 2000 to 2999), run the <span id="EN-US_TASK_0317488797__ph3703163504612"><a href="cmdqueryname=rule"><b><span class="cmdname" id="EN-US_TASK_0317488797__cmdname1104269681214207">rule</span></b></a> [ <i><span class="varname" id="EN-US_TASK_0317488797__varname269820355463">rule-id</span></i> ] [ <strong><span id="EN-US_TASK_0317488797__cmdparmname12699203544612">name</span></strong> <i><span class="varname" id="EN-US_TASK_0317488797__varname13699153513460">rule-name</span></i> ] { <strong><span id="EN-US_TASK_0317488797__cmdparmname4699103514612">deny</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname1269983514463">permit</span></strong> } [ <strong><span id="EN-US_TASK_0317488797__cmdparmname13699193516466">fragment-type</span></strong> { <strong><span id="EN-US_TASK_0317488797__cmdparmname769983515468">fragment</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname56999354462">non-fragment</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname1369919351467">non-subseq</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname10699113517461">fragment-subseq</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname1269920353464">fragment-spe-first</span></strong> } | <strong><span id="EN-US_TASK_0317488797__cmdparmname56995357460">source</span></strong> { <i><span class="varname" id="EN-US_TASK_0317488797__varname77001835154617">source-ip-address</span></i> { <i><span class="varname" id="EN-US_TASK_0317488797__varname147001635114610">source-wildcard</span></i> | <strong><span id="EN-US_TASK_0317488797__cmdparmname147007354464">0</span></strong><span> | <i><span class="varname" id="EN-US_TASK_0317488797__varname14700535154610">src-netmask</span></i></span> } | <strong><span id="EN-US_TASK_0317488797__cmdparmname570010353464">any</span></strong> } | <strong><span id="EN-US_TASK_0317488797__cmdparmname1570223514469">time-range</span></strong> <i><span class="varname" id="EN-US_TASK_0317488797__varname16702183504616">time-name</span></i> | [ <strong><span id="EN-US_TASK_0317488797__cmdparmname170216356463">vpn-instance</span></strong> <i><span class="varname" id="EN-US_TASK_0317488797__varname8703113524613">vpn-instance-name</span></i> | <strong><span id="EN-US_TASK_0317488797__cmdparmname8703103514611">vpn-instance-any</span></strong> ] | <strong id="EN-US_TASK_0317488797__b0703113515463">logging</strong> ] <sup id="EN-US_TASK_0317488797__sup1070315354465">*</sup></span> command.</li><li id="EN-US_TASK_0317488797__li13183165316390">For an advanced ACL (numbered from 3000 to 3999), run the <span id="EN-US_TASK_0317488797__ph-advance-rule-tcp-for-ne"><a href="cmdqueryname=rule"><b><span class="cmdname" id="EN-US_TASK_0317488797__cmdname205494465213919">rule</span></b></a> [ <i><span class="varname" id="EN-US_TASK_0317488797__varname935488928213919">rule-id</span></i> ] [ <strong><span id="EN-US_TASK_0317488797__cmdparmname1828209180213919">name</span></strong> <i><span class="varname" id="EN-US_TASK_0317488797__varname1060464998213919">rule-name</span></i> ] { <strong><span id="EN-US_TASK_0317488797__cmdparmname1053008442213919">deny</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname196494665213919">permit</span></strong> } { <i><span class="varname" id="EN-US_TASK_0317488797__varname1410746687213919">protocol</span></i> | <strong><span id="EN-US_TASK_0317488797__cmdparmname2074921663213919">tcp</span></strong> } [ [ <strong><span id="EN-US_TASK_0317488797__cmdparmname1504460802213919">dscp</span></strong> <i><span class="varname" id="EN-US_TASK_0317488797__varname53704463213919">dscp</span></i> | [ <strong><span id="EN-US_TASK_0317488797__cmdparmname146944233213919">precedence</span></strong> <i><span class="varname" id="EN-US_TASK_0317488797__varname1118123941213919">precedence</span></i> | <strong><span id="EN-US_TASK_0317488797__cmdparmname1488818893213919">tos</span></strong> <i><span class="varname" id="EN-US_TASK_0317488797__varname720089276213919">tos</span></i> ] <sup id="EN-US_TASK_0317488797__sup861502165213919">*</sup> ] | { <strong><span id="EN-US_TASK_0317488797__cmdparmname2054161905213919">destination</span></strong> { <i><span class="varname" id="EN-US_TASK_0317488797__varname146647869213919">destination-ip-address</span></i> { <i><span class="varname" id="EN-US_TASK_0317488797__varname654896667213919">destination-wildcard</span></i> | <strong><span id="EN-US_TASK_0317488797__cmdparmname156741362213919">0</span></strong> | <i><span class="varname" id="EN-US_TASK_0317488797__varname720047697213919">des-netmask</span></i> } | <strong><span id="EN-US_TASK_0317488797__cmdparmname187854697213919">any</span></strong> } | <strong><span id="EN-US_TASK_0317488797__cmdparmname1830805705213919">destination-pool</span></strong> <i><span class="varname" id="EN-US_TASK_0317488797__varname1294996967213919">destination-pool-name</span></i> } | { <strong><span id="EN-US_TASK_0317488797__cmdparmname1055758391213919">destination-port</span></strong> <i><span class="varname" id="EN-US_TASK_0317488797__varname411597170213919">operator</span></i> <i><span class="varname" id="EN-US_TASK_0317488797__varname542054646213919">port-number</span></i> | <strong><span id="EN-US_TASK_0317488797__cmdparmname940908533213919">destination-port-pool</span></strong> <i><span class="varname" id="EN-US_TASK_0317488797__varname501482644213919">destination-port-pool-name</span></i> } | <strong><span id="EN-US_TASK_0317488797__cmdparmname1706899774213919">fragment-type</span></strong> { <strong><span id="EN-US_TASK_0317488797__cmdparmname1477252711213919">fragment</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname1414421433213919">non-fragment</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname1291766395213919">non-subseq</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname203348574213919">fragment-subseq</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname1664666094213919">fragment-spe-first</span></strong> } | { <strong><span id="EN-US_TASK_0317488797__cmdparmname652872542213919">source</span></strong> { <i><span class="varname" id="EN-US_TASK_0317488797__varname966797917213919">source-ip-address</span></i> { <i><span class="varname" id="EN-US_TASK_0317488797__varname1228944744213919">source-wildcard</span></i> | <strong><span id="EN-US_TASK_0317488797__cmdparmname536898029213919">0</span></strong> | <i><span class="varname" id="EN-US_TASK_0317488797__varname404635941213919">src-netmask</span></i> } | <strong><span id="EN-US_TASK_0317488797__cmdparmname1226203403213919">any</span></strong> } | <strong><span id="EN-US_TASK_0317488797__cmdparmname859983820213919">source-pool</span></strong> <i><span class="varname" id="EN-US_TASK_0317488797__varname845282763213919">source-pool-name</span></i> } | { <strong><span id="EN-US_TASK_0317488797__cmdparmname1036210061213919">source-port</span></strong> <i><span class="varname" id="EN-US_TASK_0317488797__varname7816914213919">operator</span></i> <i><span class="varname" id="EN-US_TASK_0317488797__varname1764245575213919">port-number</span></i> | <strong><span id="EN-US_TASK_0317488797__cmdparmname277104113213919">source-port-pool</span></strong> <i><span class="varname" id="EN-US_TASK_0317488797__varname1256135975213919">source-port-pool-name</span></i> } | <span>{ </span><strong><span id="EN-US_TASK_0317488797__cmdparmname461261579213919">tcp-flag</span></strong><span> | <strong><span id="EN-US_TASK_0317488797__cmdparmname127922434213919">syn-flag</span></strong> }</span> { <i><span class="varname" id="EN-US_TASK_0317488797__varname494068845213919">tcp-flag</span></i> [ <strong><span id="EN-US_TASK_0317488797__cmdparmname1745373629213919">mask</span></strong> <i><span class="varname" id="EN-US_TASK_0317488797__varname625474776213919">mask-value</span></i> ] | <strong><span id="EN-US_TASK_0317488797__cmdparmname1383723005213919">established</span></strong> |{ <strong><span id="EN-US_TASK_0317488797__cmdparmname46610216213919">ack</span></strong> [ <strong><span id="EN-US_TASK_0317488797__cmdparmname597558999213919">fin</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname2082922854213919">psh</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname438233024213919">rst</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname635706117213919">syn </span></strong>| <strong><span id="EN-US_TASK_0317488797__cmdparmname766949066213919">urg</span></strong> ] <sup id="EN-US_TASK_0317488797__sup262228806213919">*</sup> } | { <strong><span id="EN-US_TASK_0317488797__cmdparmname958741631213919">fin</span></strong> [ <strong><span id="EN-US_TASK_0317488797__cmdparmname2133625197213919">ack</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname907582943213919">psh</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname137936045213919">rst</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname1555924062213919">syn </span></strong>| <strong><span id="EN-US_TASK_0317488797__cmdparmname383357732213919">urg</span></strong> ] <sup id="EN-US_TASK_0317488797__sup1296687562213919">*</sup> } | { <strong><span id="EN-US_TASK_0317488797__cmdparmname153120145213919">psh</span></strong> [ <strong><span id="EN-US_TASK_0317488797__cmdparmname1067890373213919">fin</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname772319326213919">ack</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname342912127213919">rst </span></strong>| <strong><span id="EN-US_TASK_0317488797__cmdparmname443281755213919">syn</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname665622824213919">urg</span></strong> ] <sup id="EN-US_TASK_0317488797__sup835130396213919">*</sup> } | { <strong><span id="EN-US_TASK_0317488797__cmdparmname2028181671213919">rst</span></strong> [ <strong><span id="EN-US_TASK_0317488797__cmdparmname2117452975213919">fin</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname875543336213919">psh</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname1060844540213919">ack</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname956793760213919">syn</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname642091801213919">urg</span></strong> ] <sup id="EN-US_TASK_0317488797__sup372361119213919">*</sup> } | { <strong><span id="EN-US_TASK_0317488797__cmdparmname633288866213919">syn</span></strong> [ <strong><span id="EN-US_TASK_0317488797__cmdparmname1366781479213919">fin</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname1739459694213919">psh</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname1138475368213919">rst</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname534184455213919">syn </span></strong>| <strong><span id="EN-US_TASK_0317488797__cmdparmname497901016213919">urg</span></strong> ] <sup id="EN-US_TASK_0317488797__sup1322666089213919">*</sup> } | { <strong><span id="EN-US_TASK_0317488797__cmdparmname720028705213919">urg</span></strong> [ <strong><span id="EN-US_TASK_0317488797__cmdparmname1355486378213919">fin</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname815332107213919">psh</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname871213298213919">rst</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname1580306366213919">syn</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname1821693418213919">urg</span></strong> ] <sup id="EN-US_TASK_0317488797__sup104069940213919">*</sup> } } | <strong><span id="EN-US_TASK_0317488797__cmdparmname1169343020213919">time-range</span></strong> <i><span class="varname" id="EN-US_TASK_0317488797__varname823803037213919">time-name</span></i> | <span>[ </span><strong><span id="EN-US_TASK_0317488797__cmdparmname417138014213919">vpn-instance</span></strong> <i><span class="varname" id="EN-US_TASK_0317488797__varname1005594181213919">vpn-instance-name</span></i><span> | <strong><span id="EN-US_TASK_0317488797__cmdparmname1668815857213919">vpn-instance-any</span></strong> ]</span> <span>| <strong><span id="EN-US_TASK_0317488797__cmdparmname386836490213919">ttl</span></strong> <i><span class="varname" id="EN-US_TASK_0317488797__varname1424309400213919">ttl-operation</span></i> <i><span class="varname" id="EN-US_TASK_0317488797__varname198458539213919">ttl-value</span></i> </span><span>| <strong><span id="EN-US_TASK_0317488797__cmdparmname1210934341213919">packet-length</span></strong> <i><span class="varname" id="EN-US_TASK_0317488797__varname1907685389213919">length-operation</span></i> <i><span class="varname" id="EN-US_TASK_0317488797__varname4514646213919">length-value</span></i> </span>] <sup id="EN-US_TASK_0317488797__sup2112023694213919">*</sup></span> command as required by the protocol. The preceding configuration uses TCP as the example protocol. The configurations of the other protocols are similar. For details, see the <strong id="EN-US_TASK_0317488797__b2021464016469">rule (Advanced ACL view) (UDP)</strong>, <strong id="EN-US_TASK_0317488797__b7214440114615">rule (Advanced ACL view) (gre-igmp-ip-ipinip-ospf)</strong> and <strong id="EN-US_TASK_0317488797__b1214204034612">rule (Advanced ACL view) (ICMP)</strong> commands.<div class="note" id="EN-US_TASK_0317488797__note1428415045214109"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0317488797__p651971502214109">Generally, source IP addresses are matched against in ACL rules. To specify multiple ACL rules, repeat Step <a href="#EN-US_TASK_0317488797__li6412727123917">2.b</a>.</p>
<p id="EN-US_TASK_0317488797__p864640011214109">Rules in an ACL are used based on the depth first principle (with <strong id="EN-US_TASK_0317488797__b188081852134614">auto</strong> configured) or based on the configuration order (with <strong id="EN-US_TASK_0317488797__b1180915204611">config</strong> configured). </p>
<p id="EN-US_TASK_0317488797__p1260622141214109">When you associate an ACL rule with an instance, the address wildcard of the rule must use a subnet mask that has consecutive 1s and then consecutive 0s (e.g., 255.255.255.0). Do not use a subnet mask that has 0s and 1s mixed up, like 255.0.255.0.</p>
</div></div>
</li></ul>
</li></ol><ol class="substepthirdol" start="3" id="EN-US_TASK_0317488797__ol1181817232205"><li id="EN-US_TASK_0317488797__li1581810238206">Run the <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0317488797__cmdname6640519935214">commit</span></b></a> command to commit the configuration.</li><li id="EN-US_TASK_0317488797__li39566485201">Run the <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0317488797__cmdname100429075673418">quit</span></b></a> command to return to the system view.</li></ol>
</li></ol><ol type="a" start="2" id="EN-US_TASK_0317488797__ol1384583532110"><li id="EN-US_TASK_0317488797__li88459352210">Configure a traffic classifier.<ol class="substepthirdol" id="EN-US_TASK_0317488797__ol149951436162214"><li id="EN-US_TASK_0317488797__li599603662212">Run the <a href="cmdqueryname=traffic+classifier"><b><span class="cmdname" id="EN-US_TASK_0317488797__cmdname706030359214109">traffic classifier</span></b></a> <i><span class="varname" id="EN-US_TASK_0317488797__varname1520763164717">classifier-name</span></i> [ <strong><span id="EN-US_TASK_0317488797__cmdparmname1520713319475">operator</span></strong> { <strong><span id="EN-US_TASK_0317488797__cmdparmname10207143124719">and</span></strong> | <strong><span id="EN-US_TASK_0317488797__cmdparmname1620763174710">or</span></strong> } ] command to configure a traffic classifier and enter its view.</li><li id="EN-US_TASK_0317488797__li1513944615221">Run the <a href="cmdqueryname=if-match+acl"><b><span class="cmdname" id="EN-US_TASK_0317488797__cmdname1178317977214109">if-match acl</span></b></a> <i><span class="varname" id="EN-US_TASK_0317488797__varname16553176194714">acl-number</span></i> command to configure an ACL-based matching rule for MF traffic classification.<p id="EN-US_TASK_0317488797__p1797347953214109">To configure multiple ACL-based matching rules, repeat this step.</p>
</li></ol><ol class="substepthirdol" start="3" id="EN-US_TASK_0317488797__ol913851572310"><li id="EN-US_TASK_0317488797__li2138215152319">Run the <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0317488797__cmdname138430082135214">commit</span></b></a> command to commit the configuration.</li><li id="EN-US_TASK_0317488797__li10592112410239">Run the <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0317488797__cmdname133275356373418">quit</span></b></a> command to return to the system view.</li></ol>
</li></ol><ol type="a" start="3" id="EN-US_TASK_0317488797__ol11384145721318"><li id="EN-US_TASK_0317488797__li1138511575133">Configure a traffic behavior.<ol class="substepthirdol" id="EN-US_TASK_0317488797__ol7366142201413"><li id="EN-US_TASK_0317488797__li1136610227143">Run the <a href="cmdqueryname=traffic+behavior"><b><span class="cmdname" id="EN-US_TASK_0317488797__cmdname1042448624214109">traffic behavior</span></b></a> <i><span class="varname" id="EN-US_TASK_0317488797__varname1470601510479">behavior-name</span></i> command to configure a traffic behavior and enter its view.</li><li id="EN-US_TASK_0317488797__li189401733181412">Run the <a href="cmdqueryname=remark+network-slice"><b><span class="cmdname" id="EN-US_TASK_0317488797__cmdname8711185518177">remark network-slice</span></b></a> <i><span class="varname" id="EN-US_TASK_0317488797__varname19745102815473">sliceld</span></i> command to configure 5-tuple-based ACL matching for slice ID association.</li><li id="EN-US_TASK_0317488797__li899495311414">Run the <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0317488797__cmdname3527388635214">commit</span></b></a> command to commit the configuration.</li><li id="EN-US_TASK_0317488797__li14995165314149">Run the <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0317488797__cmdname2995185321417">quit</span></b></a> command to return to the system view.</li></ol>
</li></ol><ol type="a" start="4" id="EN-US_TASK_0317488797__ol177216111516"><li id="EN-US_TASK_0317488797__li177312631515">Apply the traffic policy.<ol class="substepthirdol" id="EN-US_TASK_0317488797__ol574342421514"><li id="EN-US_TASK_0317488797__li178231527181614">Run the <a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0317488797__cmdname10575786214109">interface</span></b></a> <i><span class="varname" id="EN-US_TASK_0317488797__varname7523636184719">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0317488797__varname3523236164710">interface-number</span></i> command to enter the interface view.</li><li id="EN-US_TASK_0317488797__li79561530171612">Run the <a href="cmdqueryname=traffic-policy"><b><span class="cmdname" id="EN-US_TASK_0317488797__cmdname1447189895214109">traffic-policy</span></b></a> <i><span class="varname" id="EN-US_TASK_0317488797__varname6638338134713">policy-name</span></i> <strong><span id="EN-US_TASK_0317488797__cmdparmname15638163824716">inbound</span></strong> command to apply the traffic policy to the interface.</li><li id="EN-US_TASK_0317488797__li37431524111518">Run the <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0317488797__cmdname190262812035214">commit</span></b></a> command to commit the configuration.</li></ol>
</li></ol>
</li></ul>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0410.html">Configuring SRv6 TE Policy Network Slicing
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0412.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0416.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>