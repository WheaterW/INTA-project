
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring the Color Extended Community">
<meta name="abstract" content="This section describes how to configure the Color Extended Community for a route through a route-policy, enabling the route to recurse to an SR-MPLS TE Policy based on the color value and next-hop address in the route.">
<meta name="description" content="This section describes how to configure the Color Extended Community for a route through a route-policy, enabling the route to recurse to an SR-MPLS TE Policy based on the color value and next-hop address in the route.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr_all_cfg_0059.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr_all_cfg_0267.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr_all_cfg_0066.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="segment_routing_vrp,w00604599,l00455378,l00587852,w00606909,w00800033">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Segment Routing MPLS">
<meta name="featuretype" content="Segment Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Segment Routing MPLS">
<meta name="featuretype" content="Segment Routing">
<meta name="featurename" content="Segment Routing MPLS">
<meta name="featuretype" content="Segment Routing">
<meta name="featurename" content="Segment Routing MPLS">
<meta name="featuretype" content="Segment Routing">
<meta name="OWNER" content="l00468467">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00468467">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172368847">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring the Color Extended Community</title>
</head>
<body><a name="EN-US_TASK_0172368847"></a><a name="EN-US_TASK_0172368847"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring the Color Extended Community</h1>
<div class="taskbody" id="taskbody1776819108214048"><p id="shortdesc1210065567214048">This section describes how to configure the Color Extended Community for a route through a route-policy, enabling the route to recurse to an SR-MPLS TE Policy based on the color value and next-hop address in the route.</p>
<div class="context"><a name="EN-US_TASK_0172368847__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0172368847__context852193707214048"><p id="EN-US_TASK_0172368847__p1251191706214048">The route coloring process is as follows:</p>
<ol id="EN-US_TASK_0172368847__ol1181791911214048"><li id="EN-US_TASK_0172368847__li39568621214048"><p id="EN-US_TASK_0172368847__p1457366224214048"><a name="EN-US_TASK_0172368847__li39568621214048"></a><a name="li39568621214048"></a>Configure a route-policy and set a specific color value for the desired route.</p>
</li><li id="EN-US_TASK_0172368847__li519001627214048"><p id="EN-US_TASK_0172368847__p1929254522214048"><a name="EN-US_TASK_0172368847__li519001627214048"></a><a name="li519001627214048"></a>Apply the route-policy to a BGP peer or a VPN instance as an import or export policy.</p>
</li></ol>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172368847__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0172368847__steps62730349214048"><li id="EN-US_TASK_0172368847__step766455984214048"><span id="EN-US_TASK_0172368847__cmd1218808382214048">Configure a route-policy.</span><ol type="a" id="EN-US_TASK_0172368847__substeps376061186214048"><li class="substepexpand" id="EN-US_TASK_0172368847__substep1316269682214048"><span id="EN-US_TASK_0172368847__cmd2108285702214335">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname32088812214335">system-view</span></b></a></span><p><p id="EN-US_TASK_0172368847__p1840536857214335">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368847__substep52513914214048"><span id="EN-US_TASK_0172368847__cmd2133057328214048">Run <a href="cmdqueryname=route-policy"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname1949254298214048">route-policy</span></b></a> <i><span class="varname" id="EN-US_TASK_0172368847__varname1189917319421">route-policy-name</span></i> { <strong><span id="EN-US_TASK_0172368847__cmdparmname890511315423">deny</span></strong> | <strong><span id="EN-US_TASK_0172368847__cmdparmname29051231174216">permit</span></strong> } <strong><span id="EN-US_TASK_0172368847__cmdparmname1906113124213">node</span></strong> <i><span class="varname" id="EN-US_TASK_0172368847__varname199067317429">node</span></i></span><p><p id="EN-US_TASK_0172368847__p742622144">A route-policy with a specified node is created, and the route-policy view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368847__substep1655693230214048"><span id="EN-US_TASK_0172368847__cmd143018784214048">(Optional) Configure an if-match clause as a route-policy filter criterion. You can add or modify the Color Extended Community only for a route-policy that meets the filter criterion.</span><p><p id="EN-US_TASK_0172368847__p320257024214048">For details about the configuration, see <a href="dc_vrp_route-policy_cfg_0009.html">(Optional) Configuring an if-match Clause</a>.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368847__substep1683784960214048"><span id="EN-US_TASK_0172368847__cmd1359343199214335">Run <a href="cmdqueryname=apply+extcommunity"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname1554597492214335">apply extcommunity</span></b></a> <strong><span id="EN-US_TASK_0172368847__cmdparmname1774359630214335">color</span></strong> <i><span class="varname" id="EN-US_TASK_0172368847__varname1967116377214335">color</span></i></span><p><p id="EN-US_TASK_0172368847__p1760566371214335">The Color Extended Community is configured.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368847__substep140006376214048"><span id="EN-US_TASK_0172368847__cmd1628733623214335">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname523611481214335">commit</span></b></a></span><p><p id="EN-US_TASK_0172368847__p1798050820214335">The configuration is committed.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0172368847__step23642332214048"><span id="EN-US_TASK_0172368847__cmd72199229214048">Apply the route-policy.</span><ul id="EN-US_TASK_0172368847__choices1483434430214048"><li id="EN-US_TASK_0172368847__choice1669923169214048">Apply the route-policy to a BGP IPv4 unicast peer.<ol type="a" id="EN-US_TASK_0172368847__ol41418081214048"><li id="EN-US_TASK_0172368847__li1640407995214048"><p id="EN-US_TASK_0172368847__p821585240214335"><a name="EN-US_TASK_0172368847__li1640407995214048"></a><a name="li1640407995214048"></a>Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname516840025214335">system-view</span></b></a></p>
<p id="EN-US_TASK_0172368847__p1529778754214335">The system view is displayed.</p>
</li><li id="EN-US_TASK_0172368847__li1785190487214048"><p id="EN-US_TASK_0172368847__p721103263214335"><a name="EN-US_TASK_0172368847__li1785190487214048"></a><a name="li1785190487214048"></a>Run <a href="cmdqueryname=bgp"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname510757271214335">bgp</span></b></a> <i><span class="varname" id="EN-US_TASK_0172368847__varname681634719214335">as-number</span></i></p>
<p id="EN-US_TASK_0172368847__p555873250214335">The BGP view is displayed.</p>
</li><li id="EN-US_TASK_0172368847__li5257114319181"><p id="EN-US_TASK_0172368847__p4580566457"><a name="EN-US_TASK_0172368847__li5257114319181"></a><a name="li5257114319181"></a>Run <a href="cmdqueryname=peer+as-number"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname65835616453">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0172368847__varname1758556114516">ipv4-address</span></i> | <i><span class="varname" id="EN-US_TASK_0172368847__varname14581656204513">group-name</span></i> } <strong><span id="EN-US_TASK_0172368847__cmdparmname1958556154519">as-number</span></strong> { <i><span class="varname" id="EN-US_TASK_0172368847__varname6582056174514">as-number-plain</span></i> | <i><span class="varname" id="EN-US_TASK_0172368847__varname155813567451">as-number-dot</span></i> }</p>
<p id="EN-US_TASK_0172368847__p587595634511">A BGP peer is created.</p>
</li><li id="EN-US_TASK_0172368847__li1187153294214048"><p id="EN-US_TASK_0172368847__p956095167214335"><a name="EN-US_TASK_0172368847__li1187153294214048"></a><a name="li1187153294214048"></a>Run <a href="cmdqueryname=ipv4-family"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname1120022562214335">ipv4-family</span></b></a> <strong><span id="EN-US_TASK_0172368847__cmdparmname1773212850214335">unicast</span></strong></p>
<p id="EN-US_TASK_0172368847__p420992738214335">The IPv4 unicast address family view is displayed.</p>
</li><li id="EN-US_TASK_0172368847__li1699293007214048"><p id="EN-US_TASK_0172368847__p89611928174717"><a name="EN-US_TASK_0172368847__li1699293007214048"></a><a name="li1699293007214048"></a>Run <a href="cmdqueryname=peer+route-policy"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname79611028184717">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0172368847__varname1396132811474">ipv4-address</span></i> | <i><span class="varname" id="EN-US_TASK_0172368847__varname19961102814714">group-name</span></i> } <a href="cmdqueryname=route-policy"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname129611287473">route-policy</span></b></a> <i><span class="varname" id="EN-US_TASK_0172368847__varname5961162818471">route-policy-name</span></i> { <strong><span id="EN-US_TASK_0172368847__cmdparmname6961172818473">import</span></strong> | <strong><span id="EN-US_TASK_0172368847__cmdparmname17961132854711">export</span></strong> }</p>
<p id="EN-US_TASK_0172368847__p041382984710">A BGP import or export route-policy is configured.</p>
</li><li id="EN-US_TASK_0172368847__li2037061583214048"><p id="EN-US_TASK_0172368847__p1903261260214335"><a name="EN-US_TASK_0172368847__li2037061583214048"></a><a name="li2037061583214048"></a>Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname856793668214335">commit</span></b></a></p>
<p id="EN-US_TASK_0172368847__p2112673611214335">The configuration is committed.</p>
</li></ol>
</li><li id="EN-US_TASK_0172368847__choice810693492214048">Apply the route-policy to a BGP4+ 6PE peer.<ol type="a" id="EN-US_TASK_0172368847__ol1717427792214048"><li id="EN-US_TASK_0172368847__li118716717214048"><p id="EN-US_TASK_0172368847__p1413381223214335"><a name="EN-US_TASK_0172368847__li118716717214048"></a><a name="li118716717214048"></a>Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname1882276294214335">system-view</span></b></a></p>
<p id="EN-US_TASK_0172368847__p831239586214335">The system view is displayed.</p>
</li><li id="EN-US_TASK_0172368847__li1627496619214048"><p id="EN-US_TASK_0172368847__p1672660773214335"><a name="EN-US_TASK_0172368847__li1627496619214048"></a><a name="li1627496619214048"></a>Run <a href="cmdqueryname=bgp"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname846664071214335">bgp</span></b></a> <i><span class="varname" id="EN-US_TASK_0172368847__varname341264117214335">as-number</span></i></p>
<p id="EN-US_TASK_0172368847__p263733964214335">The BGP view is displayed.</p>
</li><li id="EN-US_TASK_0172368847__li1241025281816"><p id="EN-US_TASK_0172368847__p16406640154812"><a name="EN-US_TASK_0172368847__li1241025281816"></a><a name="li1241025281816"></a>Run <a href="cmdqueryname=peer+as-number"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname19406164064817">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0172368847__varname15406440194810">ipv4-address</span></i> | <i><span class="varname" id="EN-US_TASK_0172368847__varname18406174054811">group-name</span></i> } <strong><span id="EN-US_TASK_0172368847__cmdparmname1140610406488">as-number</span></strong> { <i><span class="varname" id="EN-US_TASK_0172368847__varname1240674012486">as-number-plain</span></i> | <i><span class="varname" id="EN-US_TASK_0172368847__varname1640611403486">as-number-dot</span></i> }</p>
<p id="EN-US_TASK_0172368847__p5175174114489">A BGP4+ 6PE peer is created.</p>
</li><li id="EN-US_TASK_0172368847__li1713559196214048"><p id="EN-US_TASK_0172368847__p818823113214335"><a name="EN-US_TASK_0172368847__li1713559196214048"></a><a name="li1713559196214048"></a>Run <a href="cmdqueryname=ipv6-family"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname353308030214335">ipv6-family</span></b></a> <strong><span id="EN-US_TASK_0172368847__cmdparmname1808701921214335">unicast</span></strong></p>
<p id="EN-US_TASK_0172368847__p211818779214335">The IPv6 unicast address family view is displayed.</p>
</li><li id="EN-US_TASK_0172368847__li66732767214048"><p id="EN-US_TASK_0172368847__p113963515515"><a name="EN-US_TASK_0172368847__li66732767214048"></a><a name="li66732767214048"></a>Run <a href="cmdqueryname=peer+route-policy"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname161395353512">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0172368847__varname11391235175118">ipv4-address</span></i> | <i><span class="varname" id="EN-US_TASK_0172368847__varname61393350518">group-name</span></i> } <a href="cmdqueryname=route-policy"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname12139113565112">route-policy</span></b></a> <i><span class="varname" id="EN-US_TASK_0172368847__varname1513913510519">route-policy-name</span></i> { <strong><span id="EN-US_TASK_0172368847__cmdparmname3139173585118">import</span></strong> | <strong><span id="EN-US_TASK_0172368847__cmdparmname15139435175116">export</span></strong> }</p>
<p id="EN-US_TASK_0172368847__p35921533125112">A BGP4+ 6PE import or export route-policy is configured.</p>
</li><li id="EN-US_TASK_0172368847__li1741541572214048"><p id="EN-US_TASK_0172368847__p1745013801214335"><a name="EN-US_TASK_0172368847__li1741541572214048"></a><a name="li1741541572214048"></a>Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname1423436464214335">commit</span></b></a></p>
<p id="EN-US_TASK_0172368847__p79219988214335">The configuration is committed.</p>
</li></ol>
</li><li id="EN-US_TASK_0172368847__choice1881867530214048">Apply the route-policy to a BGP VPNv4 peer.<ol type="a" id="EN-US_TASK_0172368847__ol1019289246214048"><li id="EN-US_TASK_0172368847__li1926197610214048"><p id="EN-US_TASK_0172368847__p255163033214335"><a name="EN-US_TASK_0172368847__li1926197610214048"></a><a name="li1926197610214048"></a>Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname2097493957214335">system-view</span></b></a></p>
<p id="EN-US_TASK_0172368847__p1605109688214335">The system view is displayed.</p>
</li><li id="EN-US_TASK_0172368847__li843343253214048"><p id="EN-US_TASK_0172368847__p328149514214335"><a name="EN-US_TASK_0172368847__li843343253214048"></a><a name="li843343253214048"></a>Run <a href="cmdqueryname=bgp"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname540768519214335">bgp</span></b></a> <i><span class="varname" id="EN-US_TASK_0172368847__varname68560450214335">as-number</span></i></p>
<p id="EN-US_TASK_0172368847__p2033882067214335">The BGP view is displayed.</p>
</li><li id="EN-US_TASK_0172368847__li1149911832020"><p id="EN-US_TASK_0172368847__p13786113814538"><a name="EN-US_TASK_0172368847__li1149911832020"></a><a name="li1149911832020"></a>Run <a href="cmdqueryname=peer+as-number"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname578617384534">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0172368847__varname17786113812531">ipv4-address</span></i> | <i><span class="varname" id="EN-US_TASK_0172368847__varname47861438195320">group-name</span></i> } <strong><span id="EN-US_TASK_0172368847__cmdparmname1678616382538">as-number</span></strong> { <i><span class="varname" id="EN-US_TASK_0172368847__varname157867389530">as-number-plain</span></i> | <i><span class="varname" id="EN-US_TASK_0172368847__varname8786238135318">as-number-dot</span></i> }</p>
<p id="EN-US_TASK_0172368847__p15532153935313">A BGP peer is created.</p>
</li><li id="EN-US_TASK_0172368847__li1394697639214048"><p id="EN-US_TASK_0172368847__p743647220214335"><a name="EN-US_TASK_0172368847__li1394697639214048"></a><a name="li1394697639214048"></a>Run <a href="cmdqueryname=ipv4-family"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname1025669410214335">ipv4-family</span></b></a> <strong><span id="EN-US_TASK_0172368847__cmdparmname18553475214335">vpnv4</span></strong></p>
<p id="EN-US_TASK_0172368847__p137158774214335">The BGP VPNv4 address family view is displayed.</p>
</li><li id="EN-US_TASK_0172368847__li862233626214048"><p id="EN-US_TASK_0172368847__p1880182905411"><a name="EN-US_TASK_0172368847__li862233626214048"></a><a name="li862233626214048"></a>Run <a href="cmdqueryname=peer+enable"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname78002995414">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0172368847__varname880102911543">ipv4-address</span></i> | <i><span class="varname" id="EN-US_TASK_0172368847__varname1480182913546">group-name</span></i> } <strong><span id="EN-US_TASK_0172368847__cmdparmname128012985415">enable</span></strong></p>
<p id="EN-US_TASK_0172368847__p16521829195412">The BGP VPNv4 peer relationship is enabled.</p>
</li><li id="EN-US_TASK_0172368847__li937010769214048"><p id="EN-US_TASK_0172368847__p44869426556"><a name="EN-US_TASK_0172368847__li937010769214048"></a><a name="li937010769214048"></a>Run <a href="cmdqueryname=peer+route-policy"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname11486142185516">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0172368847__varname2486154225516">ipv4-address</span></i> | <i><span class="varname" id="EN-US_TASK_0172368847__varname134866429555">group-name</span></i> } <a href="cmdqueryname=route-policy"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname648694265518">route-policy</span></b></a> <i><span class="varname" id="EN-US_TASK_0172368847__varname3486842165511">route-policy-name</span></i> { <strong><span id="EN-US_TASK_0172368847__cmdparmname184861442185519">import</span></strong> | <strong><span id="EN-US_TASK_0172368847__cmdparmname10486342155517">export</span></strong> }</p>
<p id="EN-US_TASK_0172368847__p1664941015619">A BGP import or export route-policy is configured.</p>
</li><li id="EN-US_TASK_0172368847__li924666028214048"><p id="EN-US_TASK_0172368847__p224331219214335"><a name="EN-US_TASK_0172368847__li924666028214048"></a><a name="li924666028214048"></a>Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname770345827214335">commit</span></b></a></p>
<p id="EN-US_TASK_0172368847__p405655781214335">The configuration is committed.</p>
</li></ol>
</li><li id="EN-US_TASK_0172368847__choice888700206214048">Apply the route-policy to a BGP VPNv6 peer.<ol type="a" id="EN-US_TASK_0172368847__ol901118921214048"><li id="EN-US_TASK_0172368847__li1551120046214048"><p id="EN-US_TASK_0172368847__p86208305214335"><a name="EN-US_TASK_0172368847__li1551120046214048"></a><a name="li1551120046214048"></a>Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname1630523042214335">system-view</span></b></a></p>
<p id="EN-US_TASK_0172368847__p990305540214335">The system view is displayed.</p>
</li><li id="EN-US_TASK_0172368847__li363676511214048"><p id="EN-US_TASK_0172368847__p1214450718214335"><a name="EN-US_TASK_0172368847__li363676511214048"></a><a name="li363676511214048"></a>Run <a href="cmdqueryname=bgp"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname546749615214335">bgp</span></b></a> <i><span class="varname" id="EN-US_TASK_0172368847__varname4478302214335">as-number</span></i></p>
<p id="EN-US_TASK_0172368847__p2018027143214335">The BGP view is displayed.</p>
</li><li id="EN-US_TASK_0172368847__li526172414205"><p id="EN-US_TASK_0172368847__p122812461568"><a name="EN-US_TASK_0172368847__li526172414205"></a><a name="li526172414205"></a>Run <a href="cmdqueryname=peer+as-number"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname7228946125617">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0172368847__varname7228154655617">ipv4-address</span></i> | <i><span class="varname" id="EN-US_TASK_0172368847__varname192285464564">group-name</span></i> } <strong><span id="EN-US_TASK_0172368847__cmdparmname4228446195610">as-number</span></strong> { <i><span class="varname" id="EN-US_TASK_0172368847__varname16228146185617">as-number-plain</span></i> | <i><span class="varname" id="EN-US_TASK_0172368847__varname122281846205614">as-number-dot</span></i> }</p>
<p id="EN-US_TASK_0172368847__p103920474563">A BGP peer is created.</p>
</li><li id="EN-US_TASK_0172368847__li1738386191214048"><p id="EN-US_TASK_0172368847__p777499589214335"><a name="EN-US_TASK_0172368847__li1738386191214048"></a><a name="li1738386191214048"></a>Run <a href="cmdqueryname=ipv6-family"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname470901989214335">ipv6-family</span></b></a> <strong><span id="EN-US_TASK_0172368847__cmdparmname259044494214335">vpnv6</span></strong></p>
<p id="EN-US_TASK_0172368847__p1656624073214335">The BGP VPNv6 address family view is displayed.</p>
</li><li id="EN-US_TASK_0172368847__li277744138214048"><p id="EN-US_TASK_0172368847__p14100244145919"><a name="EN-US_TASK_0172368847__li277744138214048"></a><a name="li277744138214048"></a>Run <a href="cmdqueryname=peer+enable"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname51002441597">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0172368847__varname710074410596">ipv4-address</span></i> | <i><span class="varname" id="EN-US_TASK_0172368847__varname1210013447593">group-name</span></i> } <strong><span id="EN-US_TASK_0172368847__cmdparmname81001344135913">enable</span></strong></p>
<p id="EN-US_TASK_0172368847__p1460784416596">The BGP VPNv6 peer relationship is enabled.</p>
</li><li id="EN-US_TASK_0172368847__li1592385421214048"><p id="EN-US_TASK_0172368847__p9516111113"><a name="EN-US_TASK_0172368847__li1592385421214048"></a><a name="li1592385421214048"></a>Run <a href="cmdqueryname=peer+route-policy"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname1650119110">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0172368847__varname1251014120">ipv4-address</span></i> | <i><span class="varname" id="EN-US_TASK_0172368847__varname8514110112">group-name</span></i> } <a href="cmdqueryname=route-policy"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname2051511011">route-policy</span></b></a> <i><span class="varname" id="EN-US_TASK_0172368847__varname175811516">route-policy-name</span></i> { <strong><span id="EN-US_TASK_0172368847__cmdparmname851819116">import</span></strong> | <strong><span id="EN-US_TASK_0172368847__cmdparmname25211814">export</span></strong> }</p>
<p id="EN-US_TASK_0172368847__p1179855912012">A BGP import or export route-policy is configured.</p>
</li><li id="EN-US_TASK_0172368847__li796560774214048"><p id="EN-US_TASK_0172368847__p1616444121214335"><a name="EN-US_TASK_0172368847__li796560774214048"></a><a name="li796560774214048"></a>Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname715894981214335">commit</span></b></a></p>
<p id="EN-US_TASK_0172368847__p737733695214335">The configuration is committed.</p>
</li></ol>
</li><li id="EN-US_TASK_0172368847__choice9181847151418">Apply the route-policy to a BGP EVPN peer.<ol type="a" id="EN-US_TASK_0172368847__ol16223245151"><li id="EN-US_TASK_0172368847__li14081012171515"><p id="EN-US_TASK_0172368847__p291820271712"><a name="EN-US_TASK_0172368847__li14081012171515"></a><a name="li14081012171515"></a>Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname1191812215177">system-view</span></b></a></p>
<p id="EN-US_TASK_0172368847__p59181929177">The system view is displayed.</p>
</li><li id="EN-US_TASK_0172368847__li11408121231514"><p id="EN-US_TASK_0172368847__p99187219175"><a name="EN-US_TASK_0172368847__li11408121231514"></a><a name="li11408121231514"></a>Run <a href="cmdqueryname=bgp"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname1791819212174">bgp</span></b></a> <i><span class="varname" id="EN-US_TASK_0172368847__varname491916291711">as-number</span></i></p>
<p id="EN-US_TASK_0172368847__p59191261710">The BGP view is displayed.</p>
</li><li id="EN-US_TASK_0172368847__li14409101271515"><p id="EN-US_TASK_0172368847__p891918221710"><a name="EN-US_TASK_0172368847__li14409101271515"></a><a name="li14409101271515"></a>Run <a href="cmdqueryname=l2vpn-family+evpn"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname49195217175">l2vpn-family evpn</span></b></a></p>
<p id="EN-US_TASK_0172368847__p20919527178">The BGP EVPN address family view is displayed.</p>
</li><li id="EN-US_TASK_0172368847__li10409171212153"><p id="EN-US_TASK_0172368847__p43327351031"><a name="EN-US_TASK_0172368847__li10409171212153"></a><a name="li10409171212153"></a>Run <a href="cmdqueryname=peer+enable"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname63329351337">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0172368847__varname173320351339">ipv4-address</span></i> | <i><span class="varname" id="EN-US_TASK_0172368847__varname4332173519310">group-name</span></i> } <strong><span id="EN-US_TASK_0172368847__cmdparmname173321935932">enable</span></strong></p>
<p id="EN-US_TASK_0172368847__p58679356310">The BGP EVPN peer relationship is enabled.</p>
</li><li id="EN-US_TASK_0172368847__li8409191217159"><p id="EN-US_TASK_0172368847__p114141736"><a name="EN-US_TASK_0172368847__li8409191217159"></a><a name="li8409191217159"></a>Run <a href="cmdqueryname=peer+route-policy"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname6148417314">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0172368847__varname714241135">ipv4-address</span></i> | <i><span class="varname" id="EN-US_TASK_0172368847__varname1514041632">group-name</span></i> } <a href="cmdqueryname=route-policy"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname111411411938">route-policy</span></b></a> <i><span class="varname" id="EN-US_TASK_0172368847__varname13142411831">route-policy-name</span></i> { <strong><span id="EN-US_TASK_0172368847__cmdparmname11141241132">import</span></strong> | <strong><span id="EN-US_TASK_0172368847__cmdparmname3149411631">export</span></strong> }</p>
<p id="EN-US_TASK_0172368847__p9600134118313">A BGP EVPN import or export route-policy is configured.</p>
</li><li id="EN-US_TASK_0172368847__li1941051216153"><p id="EN-US_TASK_0172368847__p4922525178"><a name="EN-US_TASK_0172368847__li1941051216153"></a><a name="li1941051216153"></a>Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname1592210212178">commit</span></b></a></p>
<p id="EN-US_TASK_0172368847__p1922421172">The configuration is committed.</p>
</li></ol>
</li><li id="EN-US_TASK_0172368847__choice1942063991214048">Apply the route-policy to a VPN instance IPv4 address family.<ol type="a" id="EN-US_TASK_0172368847__ol1736519512214048"><li id="EN-US_TASK_0172368847__li1451549543214048"><p id="EN-US_TASK_0172368847__p1026633476214335"><a name="EN-US_TASK_0172368847__li1451549543214048"></a><a name="li1451549543214048"></a>Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname1431878412214335">system-view</span></b></a></p>
<p id="EN-US_TASK_0172368847__p439008595214335">The system view is displayed.</p>
</li><li id="EN-US_TASK_0172368847__li1825772114214048"><p id="EN-US_TASK_0172368847__p26367060214335"><a name="EN-US_TASK_0172368847__li1825772114214048"></a><a name="li1825772114214048"></a>Run <a href="cmdqueryname=ip+vpn-instance"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname1615419132214335">ip vpn-instance</span></b></a> <i><span class="varname" id="EN-US_TASK_0172368847__varname1535195065214335">vpn-instance-name</span></i></p>
<p id="EN-US_TASK_0172368847__p469019724214335">The VPN instance view is displayed.</p>
</li><li id="EN-US_TASK_0172368847__li1969056424214048"><p id="EN-US_TASK_0172368847__p616971566214335"><a name="EN-US_TASK_0172368847__li1969056424214048"></a><a name="li1969056424214048"></a>Run <a href="cmdqueryname=ipv4-family"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname298211409214335">ipv4-family</span></b></a></p>
<p id="EN-US_TASK_0172368847__p298322198214335">The VPN instance IPv4 address family view is displayed.</p>
</li><li id="EN-US_TASK_0172368847__li930159504214048"><p id="EN-US_TASK_0172368847__p1005867079214335"><a name="EN-US_TASK_0172368847__li930159504214048"></a><a name="li930159504214048"></a>Run <a href="cmdqueryname=import+route-policy"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname1584171761214335">import route-policy</span></b></a> <i><span class="varname" id="EN-US_TASK_0172368847__varname1895536942214335">policy-name</span></i></p>
<p id="EN-US_TASK_0172368847__p1491086366214335">An import route-policy is configured for the VPN instance IPv4 address family.</p>
</li><li id="EN-US_TASK_0172368847__li1979906663214048"><p id="EN-US_TASK_0172368847__p1020391002214335"><a name="EN-US_TASK_0172368847__li1979906663214048"></a><a name="li1979906663214048"></a>Run <a href="cmdqueryname=export+route-policy"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname954060673214335">export route-policy</span></b></a> <i><span class="varname" id="EN-US_TASK_0172368847__varname463373795214335">policy-name</span></i></p>
<p id="EN-US_TASK_0172368847__p167084847214335">An export route-policy is configured for the VPN instance IPv4 address family.</p>
</li><li id="EN-US_TASK_0172368847__li145729389214048"><p id="EN-US_TASK_0172368847__p255463237214335"><a name="EN-US_TASK_0172368847__li145729389214048"></a><a name="li145729389214048"></a>Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname315408370214335">commit</span></b></a></p>
<p id="EN-US_TASK_0172368847__p755144137214335">The configuration is committed.</p>
</li></ol>
</li><li id="EN-US_TASK_0172368847__choice379410015214048">Apply the route-policy to a VPN instance IPv6 address family.<ol type="a" id="EN-US_TASK_0172368847__ol370366897214048"><li id="EN-US_TASK_0172368847__li929490779214048"><p id="EN-US_TASK_0172368847__p327899845214335"><a name="EN-US_TASK_0172368847__li929490779214048"></a><a name="li929490779214048"></a>Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname738277065214335">system-view</span></b></a></p>
<p id="EN-US_TASK_0172368847__p358476381214335">The system view is displayed.</p>
</li><li id="EN-US_TASK_0172368847__li1437316920214048"><p id="EN-US_TASK_0172368847__p938645065214335"><a name="EN-US_TASK_0172368847__li1437316920214048"></a><a name="li1437316920214048"></a>Run <a href="cmdqueryname=ip+vpn-instance"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname1506671320214335">ip vpn-instance</span></b></a> <i><span class="varname" id="EN-US_TASK_0172368847__varname409344764214335">vpn-instance-name</span></i></p>
<p id="EN-US_TASK_0172368847__p1813649548214335">The VPN instance view is displayed.</p>
</li><li id="EN-US_TASK_0172368847__li1726897761214048"><p id="EN-US_TASK_0172368847__p973033796214335"><a name="EN-US_TASK_0172368847__li1726897761214048"></a><a name="li1726897761214048"></a>Run <a href="cmdqueryname=ipv6-family"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname675144893214335">ipv6-family</span></b></a></p>
<p id="EN-US_TASK_0172368847__p1935687302214335">The VPN instance IPv6 address family view is displayed.</p>
</li><li id="EN-US_TASK_0172368847__li1332215176214048"><p id="EN-US_TASK_0172368847__p912349024214335"><a name="EN-US_TASK_0172368847__li1332215176214048"></a><a name="li1332215176214048"></a>Run <a href="cmdqueryname=import+route-policy"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname1356214292214335">import route-policy</span></b></a> <i><span class="varname" id="EN-US_TASK_0172368847__varname154981477214335">policy-name</span></i></p>
<p id="EN-US_TASK_0172368847__p1476912533214335">An import route-policy is configured for the VPN instance IPv6 address family.</p>
</li><li id="EN-US_TASK_0172368847__li1842089388214048"><p id="EN-US_TASK_0172368847__p214416898214335"><a name="EN-US_TASK_0172368847__li1842089388214048"></a><a name="li1842089388214048"></a>Run <a href="cmdqueryname=export+route-policy"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname1081126774214335">export route-policy</span></b></a> <i><span class="varname" id="EN-US_TASK_0172368847__varname863174334214335">policy-name</span></i></p>
<p id="EN-US_TASK_0172368847__p1452365992214335">An export route-policy is configured for the VPN instance IPv6 address family.</p>
</li><li id="EN-US_TASK_0172368847__li1069800224214048"><p id="EN-US_TASK_0172368847__p1786558845214335"><a name="EN-US_TASK_0172368847__li1069800224214048"></a><a name="li1069800224214048"></a>Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172368847__cmdname1844494699214335">commit</span></b></a></p>
<p id="EN-US_TASK_0172368847__p2036362507214335">The configuration is committed.</p>
</li></ol>
</li></ul>
</li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr_all_cfg_0059.html">Configuring an SR-MPLS TE Policy (Manual Configuration)
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr_all_cfg_0267.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr_all_cfg_0066.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>