
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Route Forwarding Based on Network Slices">
<meta name="abstract" content="This section describes how to associate network slice services with forwarding resources through slice IDs.">
<meta name="description" content="This section describes how to associate network slice services with forwarding resources through slice IDs.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0257.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0261.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0259.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featuretype" content="Segment Routing">
<meta name="OWNER" content="l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00587852">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001163128601">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Route Forwarding Based on Network Slices</title>
</head>
<body><a name="EN-US_TASK_0000001163128601"></a><a name="EN-US_TASK_0000001163128601"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Route Forwarding Based on Network Slices</h1>
<div class="taskbody"><p>This section describes how to associate network slice services with forwarding resources through slice IDs.</p>
<div class="context"><a name="EN-US_TASK_0000001163128601__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>A slice ID connects the control and forwarding planes. After a route color is associated with a slice ID, services recursed to an SRv6 BE path will follow that path.</p>
<p>When the ingress sends packets, it adds the HBH Options header and the IPv6 basic header to them. (The HBH Options header carries the slice ID associated with the route color.). The ingress then determines which network slice interface to use based on the slice ID and sends the packets over that interface.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001163128601__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li><span>Perform slice ID association using either of the following methods.</span><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If both of the following methods are used, 5-tuple-based ACL matching for slice ID association takes precedence.</p>
</div></div>
</p><p><ul><li>Associate a route color with a slice ID.<ol type="a"><li>Run the <a href="cmdqueryname=network-slice+color-mapping"><b><span class="cmdname">network-slice color-mapping</span></b></a> command to enter the network slice instance and color mapping view.</li><li>Run the <a href="cmdqueryname=color"><b><span class="cmdname">color</span></b></a> <i><span class="varname">index</span></i> <strong><span>network-slice</span></strong> <i><span class="varname">sliceId</span></i> command to associate a route color with a slice ID.</li><li>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</li><li>Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to return to the system view.</li></ol>
</li><li>Configure 5-tuple-based ACL matching for slice ID association.<ol type="a" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_ol113311128580"><li id="EN-US_TASK_0000001163128601__en-us_task_0317488797_li147601343113419">Configure a traffic classification rule.<ol class="substepthirdol" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_ol198079587345"><li id="EN-US_TASK_0000001163128601__en-us_task_0317488797_li158071058153418">Run either of the following commands to create an ACL and enter its view:<ul id="EN-US_TASK_0000001163128601__en-us_task_0317488797_ul3851171093613"><li id="EN-US_TASK_0000001163128601__en-us_task_0317488797_li13605143043615">For a basic ACL (numbered from 2000 to 2999), run the <span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_ph11380152420464"><a href="cmdqueryname=acl"><b><span class="cmdname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdname547462670213919">acl</span></b></a> { <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1337962434612">name</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname13379182494613">basic-acl-name</span></i> { <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname4379182414617">basic</span></strong> | [ <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname6379132418462">basic</span></strong> ] <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname16380142412463">number</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname143801424144610">basic-acl-number</span></i> } | [ <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname9380202419462">number</span></strong> ] <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname0380112416461">basic-acl-number</span></i> } [ <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname11380122484614">match-order</span></strong> { <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname838012420462">config</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname4380172434614">auto</span></strong> } ]</span> command.</li><li id="EN-US_TASK_0000001163128601__en-us_task_0317488797_li188511510103615">For an advanced ACL (numbered from 3000 to 3999), run the <span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_ph054822912466"><a href="cmdqueryname=acl"><b><span class="cmdname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdname1430753456213919">acl</span></b></a> { <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname2547132918462">name</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname135471629174617">advance-acl-name</span></i> [ <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname6547529174618">advance</span></strong> | [ <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1154752910465">advance</span></strong> ] <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1554792910467">number</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname135471129124616">advance-acl-number</span></i> ] | [ <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname154742974612">number</span></strong> ] <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname3547172954620">advance-acl-number</span></i> } [ <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname75471297464">match-order</span></strong> { <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname145487297462">config</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1548729134611">auto</span></strong> } ]</span> command.</li></ul>
</li></ol><ol class="substepthirdol" start="2" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_ol1172651312396"><li id="EN-US_TASK_0000001163128601__en-us_task_0317488797_li6412727123917"><a name="EN-US_TASK_0000001163128601__en-us_task_0317488797_li6412727123917"></a><a name="en-us_task_0317488797_li6412727123917"></a>Run either of the following commands to create an ACL rule:<ul id="EN-US_TASK_0000001163128601__en-us_task_0317488797_ul1918215343914"><li id="EN-US_TASK_0000001163128601__en-us_task_0317488797_li1924613618408">For a basic ACL (numbered from 2000 to 2999), run the <span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_ph3703163504612"><a href="cmdqueryname=rule"><b><span class="cmdname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdname1104269681214207">rule</span></b></a> [ <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname269820355463">rule-id</span></i> ] [ <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname12699203544612">name</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname13699153513460">rule-name</span></i> ] { <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname4699103514612">deny</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1269983514463">permit</span></strong> } [ <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname13699193516466">fragment-type</span></strong> { <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname769983515468">fragment</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname56999354462">non-fragment</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1369919351467">non-subseq</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname10699113517461">fragment-subseq</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1269920353464">fragment-spe-first</span></strong> } | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname56995357460">source</span></strong> { <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname77001835154617">source-ip-address</span></i> { <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname147001635114610">source-wildcard</span></i> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname147007354464">0</span></strong><span> | <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname14700535154610">src-netmask</span></i></span> } | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname570010353464">any</span></strong> } | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1570223514469">time-range</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname16702183504616">time-name</span></i> | [ <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname170216356463">vpn-instance</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname8703113524613">vpn-instance-name</span></i> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname8703103514611">vpn-instance-any</span></strong> ] | <strong id="EN-US_TASK_0000001163128601__en-us_task_0317488797_b0703113515463">logging</strong> ] <sup id="EN-US_TASK_0000001163128601__en-us_task_0317488797_sup1070315354465">*</sup></span> command.</li><li id="EN-US_TASK_0000001163128601__en-us_task_0317488797_li13183165316390">For an advanced ACL (numbered from 3000 to 3999), run the <span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_ph-advance-rule-tcp-for-ne"><a href="cmdqueryname=rule"><b><span class="cmdname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdname205494465213919">rule</span></b></a> [ <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname935488928213919">rule-id</span></i> ] [ <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1828209180213919">name</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname1060464998213919">rule-name</span></i> ] { <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1053008442213919">deny</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname196494665213919">permit</span></strong> } { <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname1410746687213919">protocol</span></i> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname2074921663213919">tcp</span></strong> } [ [ <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1504460802213919">dscp</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname53704463213919">dscp</span></i> | [ <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname146944233213919">precedence</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname1118123941213919">precedence</span></i> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1488818893213919">tos</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname720089276213919">tos</span></i> ] <sup id="EN-US_TASK_0000001163128601__en-us_task_0317488797_sup861502165213919">*</sup> ] | { <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname2054161905213919">destination</span></strong> { <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname146647869213919">destination-ip-address</span></i> { <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname654896667213919">destination-wildcard</span></i> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname156741362213919">0</span></strong> | <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname720047697213919">des-netmask</span></i> } | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname187854697213919">any</span></strong> } | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1830805705213919">destination-pool</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname1294996967213919">destination-pool-name</span></i> } | { <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1055758391213919">destination-port</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname411597170213919">operator</span></i> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname542054646213919">port-number</span></i> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname940908533213919">destination-port-pool</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname501482644213919">destination-port-pool-name</span></i> } | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1706899774213919">fragment-type</span></strong> { <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1477252711213919">fragment</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1414421433213919">non-fragment</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1291766395213919">non-subseq</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname203348574213919">fragment-subseq</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1664666094213919">fragment-spe-first</span></strong> } | { <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname652872542213919">source</span></strong> { <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname966797917213919">source-ip-address</span></i> { <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname1228944744213919">source-wildcard</span></i> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname536898029213919">0</span></strong> | <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname404635941213919">src-netmask</span></i> } | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1226203403213919">any</span></strong> } | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname859983820213919">source-pool</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname845282763213919">source-pool-name</span></i> } | { <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1036210061213919">source-port</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname7816914213919">operator</span></i> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname1764245575213919">port-number</span></i> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname277104113213919">source-port-pool</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname1256135975213919">source-port-pool-name</span></i> } | <span>{ </span><strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname461261579213919">tcp-flag</span></strong><span> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname127922434213919">syn-flag</span></strong> }</span> { <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname494068845213919">tcp-flag</span></i> [ <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1745373629213919">mask</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname625474776213919">mask-value</span></i> ] | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1383723005213919">established</span></strong> |{ <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname46610216213919">ack</span></strong> [ <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname597558999213919">fin</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname2082922854213919">psh</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname438233024213919">rst</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname635706117213919">syn </span></strong>| <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname766949066213919">urg</span></strong> ] <sup id="EN-US_TASK_0000001163128601__en-us_task_0317488797_sup262228806213919">*</sup> } | { <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname958741631213919">fin</span></strong> [ <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname2133625197213919">ack</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname907582943213919">psh</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname137936045213919">rst</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1555924062213919">syn </span></strong>| <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname383357732213919">urg</span></strong> ] <sup id="EN-US_TASK_0000001163128601__en-us_task_0317488797_sup1296687562213919">*</sup> } | { <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname153120145213919">psh</span></strong> [ <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1067890373213919">fin</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname772319326213919">ack</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname342912127213919">rst </span></strong>| <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname443281755213919">syn</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname665622824213919">urg</span></strong> ] <sup id="EN-US_TASK_0000001163128601__en-us_task_0317488797_sup835130396213919">*</sup> } | { <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname2028181671213919">rst</span></strong> [ <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname2117452975213919">fin</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname875543336213919">psh</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1060844540213919">ack</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname956793760213919">syn</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname642091801213919">urg</span></strong> ] <sup id="EN-US_TASK_0000001163128601__en-us_task_0317488797_sup372361119213919">*</sup> } | { <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname633288866213919">syn</span></strong> [ <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1366781479213919">fin</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1739459694213919">psh</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1138475368213919">rst</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname534184455213919">syn </span></strong>| <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname497901016213919">urg</span></strong> ] <sup id="EN-US_TASK_0000001163128601__en-us_task_0317488797_sup1322666089213919">*</sup> } | { <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname720028705213919">urg</span></strong> [ <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1355486378213919">fin</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname815332107213919">psh</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname871213298213919">rst</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1580306366213919">syn</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1821693418213919">urg</span></strong> ] <sup id="EN-US_TASK_0000001163128601__en-us_task_0317488797_sup104069940213919">*</sup> } } | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1169343020213919">time-range</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname823803037213919">time-name</span></i> | <span>[ </span><strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname417138014213919">vpn-instance</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname1005594181213919">vpn-instance-name</span></i><span> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1668815857213919">vpn-instance-any</span></strong> ]</span> <span>| <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname386836490213919">ttl</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname1424309400213919">ttl-operation</span></i> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname198458539213919">ttl-value</span></i> </span><span>| <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1210934341213919">packet-length</span></strong> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname1907685389213919">length-operation</span></i> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname4514646213919">length-value</span></i> </span>] <sup id="EN-US_TASK_0000001163128601__en-us_task_0317488797_sup2112023694213919">*</sup></span> command as required by the protocol. The preceding configuration uses TCP as the example protocol. The configurations of the other protocols are similar. For details, see the <strong id="EN-US_TASK_0000001163128601__en-us_task_0317488797_b2021464016469">rule (Advanced ACL view) (UDP)</strong>, <strong id="EN-US_TASK_0000001163128601__en-us_task_0317488797_b7214440114615">rule (Advanced ACL view) (gre-igmp-ip-ipinip-ospf)</strong> and <strong id="EN-US_TASK_0000001163128601__en-us_task_0317488797_b1214204034612">rule (Advanced ACL view) (ICMP)</strong> commands.<div class="note" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_note1428415045214109"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0000001163128601__en-us_task_0317488797_p651971502214109">Generally, source IP addresses are matched against in ACL rules. To specify multiple ACL rules, repeat Step <a href="#EN-US_TASK_0000001163128601__en-us_task_0317488797_li6412727123917">2.b</a>.</p>
<p id="EN-US_TASK_0000001163128601__en-us_task_0317488797_p864640011214109">Rules in an ACL are used based on the depth first principle (with <strong id="EN-US_TASK_0000001163128601__en-us_task_0317488797_b188081852134614">auto</strong> configured) or based on the configuration order (with <strong id="EN-US_TASK_0000001163128601__en-us_task_0317488797_b1180915204611">config</strong> configured). </p>
<p id="EN-US_TASK_0000001163128601__en-us_task_0317488797_p1260622141214109">When you associate an ACL rule with an instance, the address wildcard of the rule must use a subnet mask that has consecutive 1s and then consecutive 0s (e.g., 255.255.255.0). Do not use a subnet mask that has 0s and 1s mixed up, like 255.0.255.0.</p>
</div></div>
</li></ul>
</li></ol><ol class="substepthirdol" start="3" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_ol1181817232205"><li id="EN-US_TASK_0000001163128601__en-us_task_0317488797_li1581810238206">Run the <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdname6640519935214">commit</span></b></a> command to commit the configuration.</li><li id="EN-US_TASK_0000001163128601__en-us_task_0317488797_li39566485201">Run the <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdname100429075673418">quit</span></b></a> command to return to the system view.</li></ol>
</li></ol><ol type="a" start="2" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_ol1384583532110"><li id="EN-US_TASK_0000001163128601__en-us_task_0317488797_li88459352210">Configure a traffic classifier.<ol class="substepthirdol" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_ol149951436162214"><li id="EN-US_TASK_0000001163128601__en-us_task_0317488797_li599603662212">Run the <a href="cmdqueryname=traffic+classifier"><b><span class="cmdname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdname706030359214109">traffic classifier</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname1520763164717">classifier-name</span></i> [ <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1520713319475">operator</span></strong> { <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname10207143124719">and</span></strong> | <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname1620763174710">or</span></strong> } ] command to configure a traffic classifier and enter its view.</li><li id="EN-US_TASK_0000001163128601__en-us_task_0317488797_li1513944615221">Run the <a href="cmdqueryname=if-match+acl"><b><span class="cmdname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdname1178317977214109">if-match acl</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname16553176194714">acl-number</span></i> command to configure an ACL-based matching rule for MF traffic classification.<p id="EN-US_TASK_0000001163128601__en-us_task_0317488797_p1797347953214109">To configure multiple ACL-based matching rules, repeat this step.</p>
</li></ol><ol class="substepthirdol" start="3" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_ol913851572310"><li id="EN-US_TASK_0000001163128601__en-us_task_0317488797_li2138215152319">Run the <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdname138430082135214">commit</span></b></a> command to commit the configuration.</li><li id="EN-US_TASK_0000001163128601__en-us_task_0317488797_li10592112410239">Run the <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdname133275356373418">quit</span></b></a> command to return to the system view.</li></ol>
</li></ol><ol type="a" start="3" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_ol11384145721318"><li id="EN-US_TASK_0000001163128601__en-us_task_0317488797_li1138511575133">Configure a traffic behavior.<ol class="substepthirdol" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_ol7366142201413"><li id="EN-US_TASK_0000001163128601__en-us_task_0317488797_li1136610227143">Run the <a href="cmdqueryname=traffic+behavior"><b><span class="cmdname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdname1042448624214109">traffic behavior</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname1470601510479">behavior-name</span></i> command to configure a traffic behavior and enter its view.</li><li id="EN-US_TASK_0000001163128601__en-us_task_0317488797_li189401733181412">Run the <a href="cmdqueryname=remark+network-slice"><b><span class="cmdname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdname8711185518177">remark network-slice</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname19745102815473">sliceld</span></i> command to configure 5-tuple-based ACL matching for slice ID association.</li><li id="EN-US_TASK_0000001163128601__en-us_task_0317488797_li899495311414">Run the <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdname3527388635214">commit</span></b></a> command to commit the configuration.</li><li id="EN-US_TASK_0000001163128601__en-us_task_0317488797_li14995165314149">Run the <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdname2995185321417">quit</span></b></a> command to return to the system view.</li></ol>
</li></ol><ol type="a" start="4" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_ol177216111516"><li id="EN-US_TASK_0000001163128601__en-us_task_0317488797_li177312631515">Apply the traffic policy.<ol class="substepthirdol" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_ol574342421514"><li id="EN-US_TASK_0000001163128601__en-us_task_0317488797_li178231527181614">Run the <a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdname10575786214109">interface</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname7523636184719">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname3523236164710">interface-number</span></i> command to enter the interface view.</li><li id="EN-US_TASK_0000001163128601__en-us_task_0317488797_li79561530171612">Run the <a href="cmdqueryname=traffic-policy"><b><span class="cmdname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdname1447189895214109">traffic-policy</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_varname6638338134713">policy-name</span></i> <strong><span id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdparmname15638163824716">inbound</span></strong> command to apply the traffic policy to the interface.</li><li id="EN-US_TASK_0000001163128601__en-us_task_0317488797_li37431524111518">Run the <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001163128601__en-us_task_0317488797_cmdname190262812035214">commit</span></b></a> command to commit the configuration.</li></ol>
</li></ol>
</li></ul>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0257.html">Configuring SRv6 BE Network Slicing
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0261.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0259.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>