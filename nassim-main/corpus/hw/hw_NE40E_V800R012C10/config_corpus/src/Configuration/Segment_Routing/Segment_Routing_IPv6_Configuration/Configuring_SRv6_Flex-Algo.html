
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring SRv6 Flex-Algo">
<meta name="abstract" content="Flex-Algo is an algorithm that allows an IGP to calculate eligible paths automatically based on the link cost, delay, or TE constraint to flexibly meet TE requirements.">
<meta name="description" content="Flex-Algo is an algorithm that allows an IGP to calculate eligible paths automatically based on the link cost, delay, or TE constraint to flexibly meet TE requirements.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0257.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0110.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0004.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0005.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0006.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0007.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0009.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0013.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featuretype" content="Segment Routing">
<meta name="OWNER" content="l00587852">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00587852">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0279788925">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring SRv6 Flex-Algo</title>
</head>
<body><a name="EN-US_TASK_0279788925"></a><a name="EN-US_TASK_0279788925"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring SRv6 Flex-Algo</h1>
<div class="taskbody"><p>Flex-Algo is an algorithm that allows an IGP to calculate eligible paths automatically based on the link cost, delay, or TE constraint to flexibly meet TE requirements.</p>
<div class="context"><a name="EN-US_TASK_0279788925__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>Traditionally, IGPs can use only the SPF algorithm to calculate the shortest paths to destination addresses based on link costs. As the SPF algorithm is fixed and cannot be adjusted by users, the optimal paths cannot be calculated according to users' diverse requirements, such as the requirement for traffic forwarding along the lowest-delay path or without passing through certain links.</p>
<p>On a network, constraints used for path calculation may be different. For example, as autonomous driving requires an ultra-low delay, an IGP needs to use delay as the constraint to calculate paths on such a network. Another constraint that needs to be considered is cost, so some links with high costs need to be excluded in path calculation. These constraints may also be combined.</p>
<p>To make path calculation more flexible, users may want to customize IGP route calculation algorithms to meet their varying requirements. They can define an algorithm value to identify a fixed algorithm. When all devices on a network use the same algorithm, their calculation results are also the same, preventing loops. As such algorithms are defined by users instead of standards organizations, they are called Flexible Algorithms (Flex-Algos).</p>
<p>SRv6 Flex-Algo is implemented as follows:</p>
<ol><li>Define Flex-Algos: You can select one or two devices in the same IGP domain to configure flexible algorithm definitions (FADs). To improve reliability, you are advised to select two devices. A FAD is generally represented by a 3-tuple: Metric-Type, Calc-Type, and Constraints.<p>Because each user can individually define their Flex-Algos, the same Flex-Algo running on devices in the same IGP domain may have different FADs. To ensure that the path calculated using a specific Flex-Algo is loop-free, one FAD must be preferentially selected and advertised in the domain.</p>
<div class="p">The selection rules are as follows:<ol type="a"><li>In the advertisement domain of FADs, the FAD with the highest priority is preferred.</li><li>If the FADs advertised in an IS-IS domain have the same priority, the FAD generated by the device with the largest system ID is preferred.</li></ol>
</div>
</li><li>Define Flex-Algo link attributes: The Flex-Algo link attributes are used by the IGP to calculate Flex-Algo-based SRv6 BE paths. The IGP selects Flex-Algo links based on the corresponding FAD.</li><li>Enable the IGP to advertise FADs and Flex-Algo link attributes: After Flex-Algos are defined on a device, the device uses the IGP to advertise the corresponding FADs and the specific calculation rules of a Flex-Algo through the FAD Sub-TLV. In addition, after TE is enabled for the IGP, the IGP automatically floods the Flex-Algo link attributes in the IGP domain.</li><li>Enable the IGP to advertise the mappings between locators and Flex-Algos: When configuring locators, you can associate locators with Flex-Algos. The IGP can then advertise the Flex-Algos and associated locators through the SRv6 Locator TLV.<p>A Flex-Algo represents a user's forwarding path requirements. When SRv6 uses the IGP to calculate paths, it selects Flex-Algo links based on the Flex-Algo information carried in locator routes and runs Flex-Algos to calculate SRv6 BE paths that meet different requirements.</p>
</li><li>Configure services supported by SRv6 Flex-Algo.</li></ol>
</div></div>
<div class="context"><a name="EN-US_TASK_0279788925__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring SRv6 Flex-Algo, complete the following tasks:</p>
<ul><li><p>Configure a link layer protocol.</p>
</li><li><p>Configure network-layer addresses for interfaces to ensure that neighboring devices are reachable at the network layer.</p>
</li></ul>
</div></div>
</div>

<ul class="ullinks">
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0004.html">Configuring L3VPNv4 over SRv6 Flex-Algo</a>
</dt>
<dd>
This section describes how to configure L3VPNv4 over SRv6 Flex-Algo.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0005.html">Configuring EVPN L3VPN over SRv6 Flex-Algo</a>
</dt>
<dd>
This section describes how to configure EVPN L3VPN over SRv6 Flex-Algo.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0006.html">Configuring EVPN VPWS over SRv6 Flex-Algo</a>
</dt>
<dd>
This section describes how to configure EVPN VPWS over SRv6 Flex-Algo.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0007.html">Configuring EVPN VPLS over SRv6 Flex-Algo</a>
</dt>
<dd>
This section describes how to configure EVPN VPLS over SRv6 Flex-Algo.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0009.html">Configuring Public IPv4 over SRv6 Flex-Algo</a>
</dt>
<dd>
This section describes how to configure public IPv4 over SRv6 Flex-Algo.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0013.html">Configuring Public IPv6 over SRv6 Flex-Algo</a>
</dt>
<dd>
This section describes how to configure public IPv6 over SRv6 Flex-Algo.</dd>
</dl>
</ul>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0000.html">Segment Routing IPv6 Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0257.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0110.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>