
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring ORF for the BGP IPv6 SR-Policy Address Family">
<meta name="abstract" content="When a device advertises BGP IPv6 SR-Policy address family routes to peers, you can configure the outbound route filtering (ORF) function to enable the device to advertise only routes carrying the BGP router IDs of peers. This function helps reduce the network load.">
<meta name="description" content="When a device advertises BGP IPv6 SR-Policy address family routes to peers, you can configure the outbound route filtering (ORF) function to enable the device to advertise only routes carrying the BGP router IDs of peers. This function helps reduce the network load.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0203.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0204.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0119b.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="BGP/MPLS IP VPN">
<meta name="featurename" content="EVPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featurename" content="Segment Routing IPv6 Policy">
<meta name="featurename" content="Segment Routing Policy">
<meta name="featuretype" content="Segment Routing">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="Segment Routing IPv6">
<meta name="featuretype" content="Segment Routing">
<meta name="OWNER" content="l00587852">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00587852">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001669654388">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring ORF for the BGP IPv6 SR-Policy Address Family</title>
</head>
<body><a name="EN-US_TASK_0000001669654388"></a><a name="EN-US_TASK_0000001669654388"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring ORF for the BGP IPv6 SR-Policy Address Family</h1>
<div class="taskbody"><p>When a device advertises BGP IPv6 SR-Policy address family routes to peers, you can configure the outbound route filtering (ORF) function to enable the device to advertise only routes carrying the BGP router IDs of peers. This function helps reduce the network load.</p>
<div class="context"><a name="EN-US_TASK_0000001669654388__1.4.1"></a><a name="1.4.1"></a>
<div class="p" id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_context1585924758214055"><h4 class="sectiontitle">Usage Scenario</h4><p id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_p78892017173315">If ORF is configured for two devices between which a BGP-VPN-Target peer relationship has been established, the devices can advertise ORF routes carrying local BGP router IDs to each other in order to notify each other of their required routes. For example, in a scenario with one controller, one route reflector (RR), and multiple forwarders deployed, you can configure ORF on the RR and forwarders. This way, each of the forwarders can notify the RR of the required BGP SR-Policy routes. When the controller advertises the BGP SR-Policy routes required by all the forwarders to the RR, the RR can apply the ORF function to advertise only the target routes to the peer forwarder. This means that the peer forwarder receives only the required routes, reducing the route receiving pressure and network load.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001669654388__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_steps892071277214055"><li id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_step1380036919214055"><span id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmd1457110033214055">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmdname1765308807214055">system-view</span></b></a></span><p><p id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_p1339171417388">The system view is displayed.</p>
</p></li><li id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_step464236307214055"><span id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmd611522198214055">Run <a href="cmdqueryname=bgp"><b><span class="cmdname" id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmdname698721083214055">bgp</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_varname95944316214055">as-number</span></i></span><p><p id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_p522411460374">The BGP view is displayed.</p>
</p></li><li id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_step5616246183811"><span id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmd1861664633817">Run <a href="cmdqueryname=peer"><b><span class="cmdname" id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmdname198612354214048">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_varname43786265449">ipv4-address</span></i> | <i><span class="varname" id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_varname8973181818127">ipv6-address</span></i> } <strong><span id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmdparmname916001935214048">as-number</span></strong> { <i><span class="varname" id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_varname1787114172091">as-number-plain</span></i> | <i><span class="varname" id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_varname58713171796">as-number-dot</span></i> }</span><p><p id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_p5661363397">A BGP peer is configured.</p>
</p></li><li id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_step1125670943214055"><span id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmd1968092578214055">Run <a href="cmdqueryname=ipv4-family"><b><span class="cmdname" id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmdname1226431954214055">ipv4-family</span></b></a> <strong><span id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmdparmname1615883025214055">vpn-target</span></strong></span><p><p id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_p8110622133918">The BGP-VPN-Target address family view is displayed.</p>
</p></li><li id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_step1265109036214055"><span id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmd451979105214055">Run <a href="cmdqueryname=peer"><b><span class="cmdname" id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmdname1629140988214055">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_varname956610202436">ipv4-address</span></i> | <i><span class="varname" id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_varname155661920144313">ipv6-address</span></i> } <strong><span id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmdparmname314007641214055">enable</span></strong></span><p><p id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_p9878103718392">The BGP peer relationship is enabled for the local address family.</p>
</p></li><li id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_step2082245463214055"><span id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmd905985129214055">(Optional) Run <a href="cmdqueryname=peer"><b><span class="cmdname" id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmdname2059997608214055">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_varname1152573544319">ipv4-address</span></i> | <i><span class="varname" id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_varname1852553518431">ipv6-address</span></i> } <strong><span id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmdparmname314430947214055">reflect-client</span></strong></span><p><p id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_p510865343912">The device is enabled to function as an RR, and the specified peer is configured as an RR client.</p>
</p><p><p id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_p113223715521">On a network where an RR is deployed, you also need to perform this step in the BGP-VPN-Target address family view of the RR to enable its reflector function.</p>
</p></li><li id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_step2126185328214055"><span id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmd668921616214055">Run <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmdname1739015941214055">quit</span></b></a></span><p><p id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_p8683315402">Exit the BGP-VPN-Target address family view.</p>
</p></li><li id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_step1624853348214055"><span id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmd1508164584214055">Run <a href="cmdqueryname=ipv6-family+sr-policy"><b><span class="cmdname" id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmdname122903085214048">ipv6-family sr-policy</span></b></a></span><p><p id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_p98661912164019">The BGP IPv6 SR-Policy address family view is displayed.</p>
</p></li><li id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_step108787205372"><span id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmd88781220153714">Run <a href="cmdqueryname=peer"><b><span class="cmdname" id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmdname11367152112379">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_varname144071211463">ipv4-address</span></i> | <i><span class="varname" id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_varname1540742110461">ipv6-address</span></i> } <strong><span id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmdparmname16367152153712">enable</span></strong></span><p><p id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_p91261231400">The BGP peer relationship is enabled for the local address family.</p>
</p></li><li id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_step346781818214055"><span id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmd91397168214055">Run <a href="cmdqueryname=route-target-orf+enable"><b><span class="cmdname" id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmdname689920725214055">route-target-orf enable</span></b></a></span><p><p id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_p1976923384015">ORF is enabled globally.</p>
</p><p><p id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_p17158105114110">This step enables ORF for all BGP IPv6 SR-Policy peers. If some of the peers do not need ORF, run the <a href="cmdqueryname=peer"><b><span class="cmdname" id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmdname01416874212">peer</span></b></a> { <i><span class="varname" id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_varname198319371468">ipv4-address</span></i> | <i><span class="varname" id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_varname398319370469">ipv6-address</span></i> } <strong><span id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmdparmname814158144216">route-target-orf disable</span></strong> command to disable this function for them.</p>
</p></li><li id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_step1885840281214055"><span id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmd606456694214055">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_en-us_task_0000001416877017_cmdname286424922214055">commit</span></b></a></span><p><p id="EN-US_TASK_0000001669654388__en-us_task_0000001368159668_p1318914218403">The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0203.html">Configuring an SRv6 TE Policy (Dynamic Delivery by a Controller + OSPFv3 as an IGP)
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0204.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_srv6_cfg_all_0119b.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>