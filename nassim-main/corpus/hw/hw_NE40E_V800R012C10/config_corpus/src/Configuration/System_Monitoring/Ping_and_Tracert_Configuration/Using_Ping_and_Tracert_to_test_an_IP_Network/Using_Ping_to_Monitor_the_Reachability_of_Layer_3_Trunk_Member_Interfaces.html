
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Using Ping to Monitor the Reachability of Layer 3 Trunk Member Interfaces">
<meta name="abstract" content="A ping operation can be performed to test the reachability of trunk member interfaces, helping you learn a physical link's status and locate faulty links.">
<meta name="description" content="A ping operation can be performed to test the reachability of trunk member interfaces, helping you learn a physical link's status and locate faulty links.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ping_cfg_0002.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ping_cfg_0003.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ping_cfg_0088.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,network-monitor_vrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Ping/Tracert">
<meta name="featuretype" content="System Monitor">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Ping/Tracert">
<meta name="featuretype" content="System Monitor">
<meta name="featurename" content="Ping/Tracert">
<meta name="featuretype" content="System Monitor">
<meta name="featurename" content="Ping/Tracert">
<meta name="featuretype" content="System Monitor">
<meta name="OWNER" content="c00511010">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="c00511010">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172373165">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Using Ping to Monitor the Reachability of Layer 3 Trunk Member Interfaces</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0172373165"></a><a name="EN-US_TASK_0172373165"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Using Ping to Monitor the Reachability of Layer 3 Trunk Member Interfaces</h1>
<div class="taskbody"><p>A ping operation can be performed to test the reachability of trunk member interfaces, helping you learn a physical link's status and locate faulty links.</p>
<div class="context"><a name="EN-US_TASK_0172373165__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Multiple physical interfaces can be bundled into a logical trunk interface, and these physical interfaces are trunk member interfaces. A specific transmission path is used by each member interface. Path-specific service parameters, such as the delay, jitter, and packet loss rate, are also different. Therefore, you cannot determine which member interface is faulty when the quality of services on a trunk interface deteriorates. To resolve this problem, perform a ping test to monitor each physical link to help locate the faulty link.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The ping test applies when two devices are directly connected through trunk interfaces or Eth-Trunk sub-interfaces.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172373165__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enable the receive end to monitor Layer 3 trunk member interfaces.</span><ol type="a"><li class="substepexpand"><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> to enter the system view.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=trunk+member-port-inspect"><b><span class="cmdname">trunk member-port-inspect</span></b></a> command to enable the receive end to monitor Layer 3 trunk member interfaces.</span><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command takes effect on all Layer 3 trunk interfaces in a virtual system (VS). Therefore, if you only need to test the connectivity of trunk links, disable this function after the monitoring process is complete. Otherwise, the system keeps monitoring the trunk member interfaces, consuming a lot of system resources.</p>
</div></div>
</p></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li></ol>
</li><li><span>Ping a Layer 3 trunk member interface from the source.</span><ol type="a"><li class="substepexpand"><span>Generally, to check the connectivity of a Layer 3 trunk member interface, run the <a href="cmdqueryname=ping"><b><span class="cmdname">ping</span></b></a> [ <strong><span>ip</span></strong> ] { [ <strong><span>-a</span></strong> <i><span class="varname">source-ip-address</span></i> | <strong><span>-c</span></strong> <i><span class="varname">count</span></i> | <strong><span>-d</span></strong> | <span>{ </span><strong><span>-f</span></strong> <span>| <strong><span>ignore-mtu</span></strong> } </span>| <strong><span>-h</span></strong> <i><span class="varname">ttl-value</span></i> | <span>{ { </span><strong><span>-i</span></strong> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i><span> | <strong><span>-nexthop</span></strong> <i><span class="varname">nexthop-address</span></i> } <sup>*</sup></span> | <strong><span>-si</span></strong> <i><span class="varname">source-interface-type</span></i> <i><span class="varname">source-interface-number</span></i><span> }</span> | <strong><span>-m</span></strong> <i><span class="varname">time</span></i> | <strong><span>-p</span></strong> <i><span class="varname">pattern</span></i> | <strong><span>-q</span></strong> | <strong><span>-r</span></strong> | <span>{ </span><strong><span>-s</span></strong> <i><span class="varname">packetsize</span></i><span> | <strong><span>-range</span></strong> [ [ <strong><span>min</span></strong> <i><span class="varname">min-size</span></i> | <strong><span>max</span></strong> <i><span class="varname">max-size</span></i> | <strong><span>step</span></strong> <i><span class="varname">step-size</span></i> ] <sup>*</sup> ] }</span> | <strong><span>-system-time</span></strong> | <strong><span>-t</span></strong> <i><span class="varname">timeout</span></i> | <span>{ </span><strong><span>-tos</span></strong> <i><span class="varname">tos-value</span></i><span> | <strong><span>-dscp</span></strong> <i><span class="varname">dscp-value</span></i> }</span> | <strong><span>-v</span></strong> | <strong><span>-vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> | <strong><span>-ri</span></strong><span> | <strong><span>-8021p</span></strong> <i><span class="varname">8021p-value</span></i></span> | <strong><span>-detail</span></strong> ] <sup>*</sup> <i><span class="varname">host</span></i> [ <strong><span>ip-forwarding</span></strong> ] } command.</span></li><li class="substepexpand"><span>To perform a trunk member interface-based fast reply test, run the <a href="cmdqueryname=ping"><b><span class="cmdname">ping</span></b></a>  [ <strong><span>ip</span></strong> ] { [ <strong><span>-c</span></strong> <i><span class="varname">count</span></i> | { [ <strong><span>-i</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> } <strong><span>-fri</span></strong> } | { <strong><span>-s</span></strong> <i><span class="varname">packetsize</span></i> | <strong><span>-range</span></strong> [ [ <strong><span>min</span></strong> <i><span class="varname">min-value</span></i> | <strong><span>max</span></strong> <i><span class="varname">max-value</span></i> | <strong><span>step</span></strong> <i><span class="varname">step-value</span></i> ] <sup>*</sup> ] } | <strong><span>-t</span></strong> <i><span class="varname">timeout</span></i> | <strong><span>-m</span></strong> <i><span class="varname">time</span></i> | <strong><span>-a</span></strong> <i><span class="varname">source-ip-address</span></i> | <strong><span>-h</span></strong> <i><span class="varname">ttl-value</span></i> | <strong><span>-p</span></strong> <i><span class="varname">pattern</span></i> | { <strong><span>-tos</span></strong> <i><span class="varname">tos-value</span></i> |<span> <strong><span>-dscp</span></strong> <i><span class="varname">dscp-value</span></i></span> } | { <strong><span>-f</span></strong><span> | <strong><span>ignore-mtu</span></strong></span> } | <strong><span>-vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> | <span><strong><span>-8021p</span></strong> <i><span class="varname">8021p-value</span></i></span> | <strong><span>-name</span></strong> | { <strong><span>-brief</span></strong> | [ <strong><span>-q</span></strong> | <strong><span>-detail</span></strong> | <strong><span>-v</span></strong> | <strong><span>-d</span></strong> | <strong><span>-system-time</span></strong> | <strong><span>-ri</span></strong> ] <sup>*</sup> } ] <sup>*</sup> <i><span class="varname">host</span></i> [ <strong><span>ip-forwarding</span></strong> ] } command.</span><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The fast reply function is not supported when packets are fragmented. In this case, the trunk member interface-based fast reply test configure by specifying the <strong><span>-fri</span></strong> keyword does not take effect.</p>
</div></div>
</p></li></ol>
<p><p>The command output contains the following information:</p>
<ul><li><p>Response to each ping packet: If no response packet is received after the timeout period expires, the message "Request time out" is displayed. If a response packet is received, the number of bytes in the response packet, packet sequence number, and response time are displayed.</p>
</li><li><p>Final statistics: include the number of sent packets, number of received packets, percentage of sent packets with failed responses, and minimum, maximum, and average response times.</p>
</li></ul>
<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>ping -a 192.168.1.1 -i </strong><strong>Eth-Trunk 1</strong><strong> 10.1.1.2</strong></pre>
<pre class="screen"> PING 10.1.1.2: 56 data bytes, press CTRL_C to break
    Reply from 10.1.1.2: bytes=56 Sequence=1 ttl=255 time=170 ms
    Reply from 10.1.1.2: bytes=56 Sequence=2 ttl=255 time=30 ms
    Reply from 10.1.1.2: bytes=56 Sequence=2 ttl=255 time=30 ms
    Reply from 10.1.1.2: bytes=56 Sequence=2 ttl=255 time=50 ms
    Reply from 10.1.1.2: bytes=56 Sequence=2 ttl=255 time=50 ms    

  --- 10.1.1.2 ping statistics ---
    5 packet(s) transmitted
    5 packet(s) received
    0.00% packet loss
    round-trip min/avg/max = 30/66/170 ms </pre>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>On an IPv6 network, you need to run the <a href="cmdqueryname=ping+ipv6"><b><span class="cmdname">ping ipv6</span></b></a> command.</p>
</div></div>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ping_cfg_0002.html">Using Ping/Tracert to test an IP Network
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ping_cfg_0003.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ping_cfg_0088.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>