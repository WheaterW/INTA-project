
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a Flexible Flow Statistics Template">
<meta name="abstract" content="When configuring the flexible flow statistics output function, configure a flexible flow statistics template, customize matching and collected fields, and apply the template to an interface.">
<meta name="description" content="When configuring the flexible flow statistics output function, configure a flexible flow statistics template, customize matching and collected fields, and apply the template to an interface.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ns_cfg_0052.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ns_cfg_0053.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ns_cfg_0063.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,netstream_vrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="NetStream">
<meta name="featuretype" content="System Monitor">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="NetStream">
<meta name="featuretype" content="System Monitor">
<meta name="featurename" content="NetStream">
<meta name="featuretype" content="System Monitor">
<meta name="featurename" content="Netstream">
<meta name="featuretype" content="System Monitor">
<meta name="OWNER" content="l00799643">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00799643">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172372994">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring a Flexible Flow Statistics Template</title>
</head>
<body><a name="EN-US_TASK_0172372994"></a><a name="EN-US_TASK_0172372994"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a Flexible Flow Statistics Template</h1>
<div class="taskbody"><p>When configuring the flexible flow statistics output function, configure a flexible flow statistics template, customize matching and collected fields, and apply the template to an interface.</p>
<div class="steps"><a name="EN-US_TASK_0172372994__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=ip+netstream+record"><b><span class="cmdname">ip netstream record</span></b></a> <i><span class="varname">record-name</span></i></span><p><p>An IPv4 flexible flow statistics template is created, and the recording view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=match"><b><span class="cmdname">match</span></b></a> { { <strong><span>source</span></strong> | <strong><span>destination</span></strong> } { <strong><span>vlan</span></strong> | <strong><span>as</span></strong> | <strong><span>port</span></strong> | <strong><span>address</span></strong> | <strong><span>mask</span></strong> } | <strong><span>mpls</span></strong> <strong><span>top-label</span></strong> <strong><span>ip-address</span></strong> | <strong><span>mpls</span></strong> <strong><span>label</span></strong> <i><span class="varname">position</span></i> | { <strong><span>protocol</span></strong> | <strong><span>tos</span></strong> | <strong><span>direction</span></strong> | <strong><span>tcp-flag</span></strong> } | { <strong><span>input</span></strong> | <strong><span>output</span></strong> } <strong><span>interface</span></strong> | <strong><span>next-hop</span></strong> [ <strong><span>bgp</span></strong> ] }</span><p><p>Aggregation keywords are configured for the flexible flow statistics template.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=collect"><b><span class="cmdname">collect</span></b></a> {{ <strong><span>first</span></strong> | <strong><span>last</span></strong> } <strong><span>switched</span></strong> | <strong><span>input</span></strong> { <strong><span>packets</span></strong> | <strong><span>bytes</span></strong> } <i><span class="varname">length</span></i> | <strong><span>flow-end-reason</span></strong> }</span><p><p>The device is configured to add the number of packets, number of bytes, flow aging reasons, and first and last forwarding time to the flexible flow statistics sent to the NSC.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ns_cfg_0052.html">Collecting Statistics About IPv4 Flexible Flows
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ns_cfg_0053.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ns_cfg_0063.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>