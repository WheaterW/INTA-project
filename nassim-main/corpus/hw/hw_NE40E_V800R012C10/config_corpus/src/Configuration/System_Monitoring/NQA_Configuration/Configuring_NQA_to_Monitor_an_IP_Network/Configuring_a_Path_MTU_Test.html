
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a Path MTU Test">
<meta name="abstract" content="A path MTU test can obtain the maximum MTU value that does not require packet fragmentation during the packet transmission on the link.">
<meta name="description" content="A path MTU test can obtain the maximum MTU value that does not require packet fragmentation during the packet transmission on the link.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_nqa_cfg_0004.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_nqa_cfg_0063.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_nqa_cfg_0032.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,network-monitor_vrp,w00556928,c00511010,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="NQA">
<meta name="featuretype" content="System Monitor">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="NQA">
<meta name="featuretype" content="System Monitor">
<meta name="featurename" content="NQA">
<meta name="featuretype" content="System Monitor">
<meta name="featurename" content="NQA">
<meta name="featuretype" content="System Monitor">
<meta name="OWNER" content="c00511010">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="c00511010">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172373086">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring a Path MTU Test</title>
</head>
<body><a name="EN-US_TASK_0172373086"></a><a name="EN-US_TASK_0172373086"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a Path MTU Test</h1>
<div class="taskbody" id="taskbody1044378088214103"><p id="shortdesc1806615866214103"><span>A path MTU test can obtain the maximum MTU value that does not require packet fragmentation during the packet transmission on the link.</span></p>
<div class="steps"><a name="EN-US_TASK_0172373086__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0172373086__steps1461811511214103"><li id="EN-US_TASK_0172373086__step1626854924214103"><span id="EN-US_TASK_0172373086__cmd1702725937214404">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172373086__cmdname508362741214404">system-view</span></b></a></span></span><p><p id="EN-US_TASK_0172373086__p482359792214404">The system view is displayed.</p>
</p></li><li id="EN-US_TASK_0172373086__step1151538701214103"><span id="EN-US_TASK_0172373086__cmd1766409589214404">Run <span><a href="cmdqueryname=nqa"><b><span class="cmdname" id="EN-US_TASK_0172373086__cmdname1341621555214404">nqa</span></b></a> <strong><span id="EN-US_TASK_0172373086__cmdparmname707760126214404">test-instance</span></strong> <i><span class="varname" id="EN-US_TASK_0172373086__varname92400452214404">admin-name</span></i> <i><span class="varname" id="EN-US_TASK_0172373086__varname653751365214404">test-name</span></i></span></span><p><p id="EN-US_TASK_0172373086__p1723108767214404">An NQA test instance is created and the test instance view is displayed.</p>
</p></li><li id="EN-US_TASK_0172373086__step1186746619214103"><span id="EN-US_TASK_0172373086__cmd1192452951214404">Run <span><a href="cmdqueryname=test-type"><b><span class="cmdname" id="EN-US_TASK_0172373086__cmdname521351411214404">test-type</span></b></a> <strong><span id="EN-US_TASK_0172373086__cmdparmname1901575703214404">pathmtu</span></strong></span></span><p><p id="EN-US_TASK_0172373086__p93148865214404">The type of the test instance is configured as path MTU.</p>
</p></li><li id="EN-US_TASK_0172373086__step1805103289214103"><span id="EN-US_TASK_0172373086__cmd1018184489214404">Run <a href="cmdqueryname=destination-address"><b><span class="cmdname" id="EN-US_TASK_0172373086__cmdname601637253214103">destination-address</span></b></a> <strong><span id="EN-US_TASK_0172373086__cmdparmname853838899214103">ipv4</span></strong> <span><i><span class="varname" id="EN-US_TASK_0172373086__varname89712386214103">destAddress</span></i></span></span><p><p id="EN-US_TASK_0172373086__p661697766214404">The destination IP address is configured.</p>
</p></li><li id="EN-US_TASK_0172373086__step670990675214103"><span id="EN-US_TASK_0172373086__cmd903644328214103">(Optional) Run the following commands to configure other parameters for the path MTU test.</span><p><ul id="EN-US_TASK_0172373086__ul534888094214103"><li id="EN-US_TASK_0172373086__li1694093994214103"><p id="EN-US_TASK_0172373086__p45505899214404"><a name="EN-US_TASK_0172373086__li1694093994214103"></a><a name="li1694093994214103"></a>Run <span><a href="cmdqueryname=discovery-pmtu-max"><b><span class="cmdname" id="EN-US_TASK_0172373086__cmdname1021492774214404">discovery-pmtu-max</span></b></a> <i><span class="varname" id="EN-US_TASK_0172373086__varname1327506230214404">pmtu-max</span></i></span></p>
<p id="EN-US_TASK_0172373086__p516412519214404">The maximum value of the path MTU test range is set.</p>
</li><li id="EN-US_TASK_0172373086__li587532695214103"><p id="EN-US_TASK_0172373086__p2075050659214404"><a name="EN-US_TASK_0172373086__li587532695214103"></a><a name="li587532695214103"></a>Run <span><a href="cmdqueryname=step"><b><span class="cmdname" id="EN-US_TASK_0172373086__cmdname1642204420214404">step</span></b></a> <i><span class="varname" id="EN-US_TASK_0172373086__varname1898821507214404">step</span></i></span></p>
<p id="EN-US_TASK_0172373086__p235049936214404">The value of the incremental step is set for the packet length in the path MTU test.</p>
</li><li id="EN-US_TASK_0172373086__li320982263214103"><p id="EN-US_TASK_0172373086__p332856340214404"><a name="EN-US_TASK_0172373086__li320982263214103"></a><a name="li320982263214103"></a>Run <span><a href="cmdqueryname=vpn-instance"><b><span class="cmdname" id="EN-US_TASK_0172373086__cmdname65196586214404">vpn-instance</span></b></a> <i><span class="varname" id="EN-US_TASK_0172373086__varname795741889214404">vpn-instance-name</span></i></span></p>
<p id="EN-US_TASK_0172373086__p25608545214404">The VPN instance to be tested is configured.</p>
</li><li id="EN-US_TASK_0172373086__li2038198987214103"><p id="EN-US_TASK_0172373086__p1165262396214404"><a name="EN-US_TASK_0172373086__li2038198987214103"></a><a name="li2038198987214103"></a>Run <span><a href="cmdqueryname=source-address"><b><span class="cmdname" id="EN-US_TASK_0172373086__cmdname367942112214404">source-address</span></b></a> <strong><span id="EN-US_TASK_0172373086__cmdparmname186575530214404">ipv4</span></strong> <i><span class="varname" id="EN-US_TASK_0172373086__varname1866319853214545">srcAddress</span></i></span></p>
<p id="EN-US_TASK_0172373086__p1474916037214404">The source IP address is configured.</p>
</li><li id="EN-US_TASK_0172373086__li1456697882214103"><p id="EN-US_TASK_0172373086__p2031650548214404"><a name="EN-US_TASK_0172373086__li1456697882214103"></a><a name="li1456697882214103"></a>Run <span><a href="cmdqueryname=probe-count"><b><span class="cmdname" id="EN-US_TASK_0172373086__cmdname1952612002214404">probe-count</span></b></a> <i><span class="varname" id="EN-US_TASK_0172373086__varname1917915206214404">number</span></i></span></p>
<p id="EN-US_TASK_0172373086__p93168666214404">The maximum number of probe packets that are allowed to time out consecutively is configured.</p>
</li></ul>
</p></li><li id="EN-US_TASK_0172373086__step144983867214103"><span id="EN-US_TASK_0172373086__cmd1497396971214103">Run <span><a href="cmdqueryname=start"><b><span class="cmdname" id="EN-US_TASK_0172373086__cmdname1154523384214103">start</span></b></a></span></span><p><p id="EN-US_TASK_0172373086__p1695475668214404">The NQA test is started.</p>
<p id="EN-US_TASK_0172373086__p470894339214404">Select the start mode as required because the <a href="cmdqueryname=start"><b><span class="cmdname" id="EN-US_TASK_0172373086__cmdname1720560258214404">start</span></b></a> command has several forms.</p>
<ul id="EN-US_TASK_0172373086__ul477523421214103"><li id="EN-US_TASK_0172373086__li1256058851214103"><p id="EN-US_TASK_0172373086__p257975498214404"><a name="EN-US_TASK_0172373086__li1256058851214103"></a><a name="li1256058851214103"></a>To perform the NQA test immediately, run the <a href="cmdqueryname=start"><b><span class="cmdname" id="EN-US_TASK_0172373086__cmdname1730395579214103">start</span></b></a><strong><span id="EN-US_TASK_0172373086__cmdparmname2137081391214103">now</span></strong> [ <strong><span id="EN-US_TASK_0172373086__cmdparmname7655312214103">end</span></strong> { <strong><span id="EN-US_TASK_0172373086__cmdparmname1052832858214103">at</span></strong> [ <i><span class="varname" id="EN-US_TASK_0172373086__varname1903975464214103">yyyy</span></i>/<i><span class="varname" id="EN-US_TASK_0172373086__varname1991056401214103">mm</span></i>/<i><span class="varname" id="EN-US_TASK_0172373086__varname829118262214103">dd</span></i> ] <i><span class="varname" id="EN-US_TASK_0172373086__varname1065787489214103">hh</span></i>:<i><span class="varname" id="EN-US_TASK_0172373086__varname37109444214103">mm</span></i>:<i><span class="varname" id="EN-US_TASK_0172373086__varname837730241214103">ss</span></i> | <strong><span id="EN-US_TASK_0172373086__cmdparmname1424485677214103">delay</span></strong> { <strong><span id="EN-US_TASK_0172373086__cmdparmname2001014595214103">seconds</span></strong> <i><span class="varname" id="EN-US_TASK_0172373086__varname1657726216214103">second</span></i> | <i><span class="varname" id="EN-US_TASK_0172373086__varname1185052871214103">hh</span></i>:<i><span class="varname" id="EN-US_TASK_0172373086__varname880691951214103">mm</span></i>:<i><span class="varname" id="EN-US_TASK_0172373086__varname837362748214103">ss</span></i> } | <strong><span id="EN-US_TASK_0172373086__cmdparmname2140307648214103">lifetime</span></strong> { <strong><span id="EN-US_TASK_0172373086__cmdparmname2069173001214103">seconds</span></strong> <i><span class="varname" id="EN-US_TASK_0172373086__varname210171669214103">second</span></i> | <i><span class="varname" id="EN-US_TASK_0172373086__varname1440989180214103">hh</span></i>:<i><span class="varname" id="EN-US_TASK_0172373086__varname1360337969214103">mm</span></i>:<i><span class="varname" id="EN-US_TASK_0172373086__varname773914714214103">ss</span></i> } } ] command.</p>
<p id="EN-US_TASK_0172373086__p1592739823214404">The test instance is started immediately.</p>
</li><li id="EN-US_TASK_0172373086__li1446541817214103"><p id="EN-US_TASK_0172373086__p2015802671214404"><a name="EN-US_TASK_0172373086__li1446541817214103"></a><a name="li1446541817214103"></a>To perform the NQA test at the specified time, run the <a href="cmdqueryname=start"><b><span class="cmdname" id="EN-US_TASK_0172373086__cmdname1509409976214103">start</span></b></a><strong><span id="EN-US_TASK_0172373086__cmdparmname515132731214103">at</span></strong> [ <i><span class="varname" id="EN-US_TASK_0172373086__varname387540012214103">yyyy</span></i>/<i><span class="varname" id="EN-US_TASK_0172373086__varname1354476011214103">mm</span></i>/<i><span class="varname" id="EN-US_TASK_0172373086__varname1497007349214103">dd</span></i> ] <i><span class="varname" id="EN-US_TASK_0172373086__varname578698637214103">hh</span></i>:<i><span class="varname" id="EN-US_TASK_0172373086__varname137893311214103">mm</span></i>:<i><span class="varname" id="EN-US_TASK_0172373086__varname1474666110214103">ss</span></i> [ <strong><span id="EN-US_TASK_0172373086__cmdparmname379345063214103">end</span></strong> { <strong><span id="EN-US_TASK_0172373086__cmdparmname1183714843214103">at</span></strong> [ <i><span class="varname" id="EN-US_TASK_0172373086__varname713089494214103">yyyy</span></i>/<i><span class="varname" id="EN-US_TASK_0172373086__varname1863507310214103">mm</span></i>/<i><span class="varname" id="EN-US_TASK_0172373086__varname827532103214103">dd</span></i> ] <i><span class="varname" id="EN-US_TASK_0172373086__varname674413852214103">hh</span></i>:<i><span class="varname" id="EN-US_TASK_0172373086__varname2004146531214103">mm</span></i>:<i><span class="varname" id="EN-US_TASK_0172373086__varname606262868214103">ss</span></i> | <strong><span id="EN-US_TASK_0172373086__cmdparmname1524766861214103">delay</span></strong> { <strong><span id="EN-US_TASK_0172373086__cmdparmname597460968214103">seconds</span></strong> <i><span class="varname" id="EN-US_TASK_0172373086__varname482317175214103">second</span></i> | <i><span class="varname" id="EN-US_TASK_0172373086__varname893510447214103">hh</span></i>:<i><span class="varname" id="EN-US_TASK_0172373086__varname408157528214103">mm</span></i>:<i><span class="varname" id="EN-US_TASK_0172373086__varname968017544214103">ss</span></i> } | <strong><span id="EN-US_TASK_0172373086__cmdparmname482249136214103">lifetime</span></strong> { <strong><span id="EN-US_TASK_0172373086__cmdparmname1686969517214103">seconds</span></strong> <i><span class="varname" id="EN-US_TASK_0172373086__varname914794926214103">second</span></i> | <i><span class="varname" id="EN-US_TASK_0172373086__varname1723595240214103">hh</span></i>:<i><span class="varname" id="EN-US_TASK_0172373086__varname1404509328214103">mm</span></i>:<i><span class="varname" id="EN-US_TASK_0172373086__varname664366163214103">ss</span></i> } } ] command.</p>
<p id="EN-US_TASK_0172373086__p639044804214404">The test instance is started at a specified time.</p>
</li><li id="EN-US_TASK_0172373086__li655896938214103"><p id="EN-US_TASK_0172373086__p1416469031214404"><a name="EN-US_TASK_0172373086__li655896938214103"></a><a name="li655896938214103"></a>To perform the NQA test after a certain delay period, run the <a href="cmdqueryname=start"><b><span class="cmdname" id="EN-US_TASK_0172373086__cmdname352672075214103">start</span></b></a><strong><span id="EN-US_TASK_0172373086__cmdparmname1845903763214103">delay</span></strong> { <strong><span id="EN-US_TASK_0172373086__cmdparmname1251208270214103">seconds</span></strong> <i><span class="varname" id="EN-US_TASK_0172373086__varname2118364041214103">second</span></i> | <i><span class="varname" id="EN-US_TASK_0172373086__varname1559454472214103">hh</span></i>:<i><span class="varname" id="EN-US_TASK_0172373086__varname1640775050214103">mm</span></i>:<i><span class="varname" id="EN-US_TASK_0172373086__varname654599730214103">ss</span></i> } [ <strong><span id="EN-US_TASK_0172373086__cmdparmname1922925057214103">end</span></strong> { <strong><span id="EN-US_TASK_0172373086__cmdparmname539850832214103">at</span></strong> [ <i><span class="varname" id="EN-US_TASK_0172373086__varname1826685569214103">yyyy</span></i>/<i><span class="varname" id="EN-US_TASK_0172373086__varname1961216498214103">mm</span></i>/<i><span class="varname" id="EN-US_TASK_0172373086__varname1858657273214103">dd</span></i> ] <i><span class="varname" id="EN-US_TASK_0172373086__varname1321361360214103">hh</span></i>:<i><span class="varname" id="EN-US_TASK_0172373086__varname341164908214103">mm</span></i>:<i><span class="varname" id="EN-US_TASK_0172373086__varname496023344214103">ss</span></i> | <strong><span id="EN-US_TASK_0172373086__cmdparmname1416003046214103">delay</span></strong> { <strong><span id="EN-US_TASK_0172373086__cmdparmname1722235619214103">seconds</span></strong> <i><span class="varname" id="EN-US_TASK_0172373086__varname1697065034214103">second</span></i> | <i><span class="varname" id="EN-US_TASK_0172373086__varname1721197445214103">hh</span></i>:<i><span class="varname" id="EN-US_TASK_0172373086__varname2127067482214103">mm</span></i>:<i><span class="varname" id="EN-US_TASK_0172373086__varname144285216214103">ss</span></i> } | <strong><span id="EN-US_TASK_0172373086__cmdparmname265557749214103">lifetime</span></strong> { <strong><span id="EN-US_TASK_0172373086__cmdparmname1062001021214103">seconds</span></strong> <i><span class="varname" id="EN-US_TASK_0172373086__varname1383321452214103">second</span></i> | <i><span class="varname" id="EN-US_TASK_0172373086__varname940084999214103">hh</span></i>:<i><span class="varname" id="EN-US_TASK_0172373086__varname1202832411214103">mm</span></i>:<i><span class="varname" id="EN-US_TASK_0172373086__varname988451566214103">ss</span></i> } } ] command.</p>
<p id="EN-US_TASK_0172373086__p959623270214404">The test instance is started after a certain delay.</p>
</li></ul>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_nqa_cfg_0004.html">Configuring NQA to Monitor an IP Network
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_nqa_cfg_0063.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_nqa_cfg_0032.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>