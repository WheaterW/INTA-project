
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Overview of IP FPM">
<meta name="abstract" content="IP Flow Performance Measurement (FPM) is a Huawei-proprietary feature that measures packet loss rate and delay of end-to-end service packets transmitted on an IP network. This feature is easy to deploy and provides an accurate assessment of network performance.">
<meta name="description" content="IP Flow Performance Measurement (FPM) is a Huawei-proprietary feature that measures packet loss rate and delay of end-to-end service packets transmitted on an IP network. This feature is easy to deploy and provides an accurate assessment of network performance.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ipfpm_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/spec/IP_FPM_limitation.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="ipfpm_vrp,w00800033,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IP FPM">
<meta name="featuretype" content="System Monitor">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IP FPM">
<meta name="featuretype" content="System Monitor">
<meta name="featurename" content="IP FPM">
<meta name="featuretype" content="System Monitor">
<meta name="OWNER" content="c00511010">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="c00511010">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0172372845">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Overview of IP FPM</title>
</head>
<body><a name="EN-US_CONCEPT_0172372845"></a><a name="EN-US_CONCEPT_0172372845"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Overview of IP FPM</h1>
<div><p><span>IP Flow Performance Measurement (FPM) is a Huawei-proprietary feature that measures packet loss rate and delay of end-to-end service packets transmitted on an IP network. This feature is easy to deploy and provides an accurate assessment of network performance.</span></p>
<div class="section"><h4 class="sectiontitle">Background</h4><p><span>As IP services are more widely used, fault diagnosis and end-to-end service quality analysis are becoming an increasingly pressing concern for carriers. However, absence of effective measures prolongs fault diagnosis and increases the workload.</span> IP FPM is developed to help carriers collect statistics and monitor end-to-end network performance.</p>
</div>
<div class="section"><h4 class="sectiontitle">Basic Concepts</h4><div class="p"><span>The IP Flow Performance Measurement (FPM) model describes how service flows are measured to obtain the packet loss rate and delay.</span><a href="#EN-US_CONCEPT_0172372845__fig_dc_vrp_ipfpm_cfg_000201">Figure 1</a> shows the IP FPM statistical model. <span>The IP FPM model is composed of three objects: target flows, a transit network, and the statistical system. The statistical system is further classified into the Target Logical Port (TLP), Data Collecting Point (DCP), and Measurement Control Point (MCP).</span><div class="fignone" id="EN-US_CONCEPT_0172372845__fig_dc_vrp_ipfpm_cfg_000201"><a name="EN-US_CONCEPT_0172372845__fig_dc_vrp_ipfpm_cfg_000201"></a><a name="fig_dc_vrp_ipfpm_cfg_000201"></a><span class="figcap"><b>Figure 1 </b>IP FPM model</span><br><span><img class="vsd" src="images/fig_dc_vrp_ipfpm_cfg_000201.png" width="NaN" height="NaN"></span><br></div>
<ul><li id="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_li1972908779214258"><p id="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_p1530338973214258"><a name="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_li1972908779214258"></a><a name="en-us_concept_0172357922_li1972908779214258"></a>Target flow</p>
<p id="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_p1326510536214258">Target flows must be pre-defined. One or more fields in IP headers can be specified to identify target flows. The field can be the source IP address or prefix, destination IP address or prefix, protocol type, source port number, destination port number, or type of service (ToS). The more fields specified, the more accurately flows can be identified. Specifying as many fields as possible is recommended to maximize measurement accuracy.</p>
</li><li id="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_li1423472089214258"><p id="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_p1327572243214258"><a name="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_li1423472089214258"></a><a name="en-us_concept_0172357922_li1423472089214258"></a>Transit network</p>
<p id="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_p954517855214258">The transit network only bears target flows. The target flows are not generated or terminated on the transit network. The transit network can be a Layer 2 (L2), Layer 3 (L3), or L2+L3 hybrid network. Each node on the transit network must be reachable at the network layer.</p>
</li><li id="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_li790675578214258"><p id="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_p255631810214258"><a name="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_li790675578214258"></a><a name="en-us_concept_0172357922_li790675578214258"></a>TLP</p>
<div class="p" id="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_p1860653116214258">TLPs are interfaces on the edge nodes of the transit network. TLPs perform the following actions:<ul id="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_ul816752719214258"><li id="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_li251635669214258">Compile statistics on the packet loss rate and delay.</li><li id="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_li1611703087214258">Generate statistics, such as the number of packets sent and received, traffic bandwidth, and timestamp.</li></ul>
</div>
<p id="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_p720190141214258">An In-Point-TLP collects statistics about service flows it receives. An Out-Point-TLP collects statistics about service flows it sends.</p>
</li><li id="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_li1142442852214258"><p id="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_p385725737214258"><a name="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_li1142442852214258"></a><a name="en-us_concept_0172357922_li1142442852214258"></a>DCP</p>
<div class="p" id="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_p590284543214258">DCPs are edge nodes on the transit network. DCPs perform the following actions:<ul id="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_ul346431426214258"><li id="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_li1115237593214258">Manage and control TLPs.</li><li id="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_li1681003669214258">Collect statistics generated by TLPs.</li><li id="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_li1988093091214258">Report the statistics to an MCP.</li></ul>
</div>
</li><li id="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_li994817652214258"><p id="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_p1740085269214258"><a name="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_li994817652214258"></a><a name="en-us_concept_0172357922_li994817652214258"></a>MCP</p>
<div class="p" id="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_p998078332214258">MCPs can be any nodes on the transit network. MCPs perform the following actions:<ul id="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_ul397071316214258"><li id="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_li1378118030214258">Collect statistics reported by DCPs.</li><li id="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_li173805444214258">Summarize and calculate the statistics.</li><li id="EN-US_CONCEPT_0172372845__en-us_concept_0172357922_li1101381666214258">Report measurement results to user terminals or the network management system (NMS).</li></ul>
</div>
</li></ul>
</div>
<p>IP FPM also defines measurement flags. <span>Measurement flags, also called identification flags, identifies whether a specific packet is used to measure packet loss or delay.</span> <span>A specific bit in the IPv4 packet header can be specified as a measurement flag for packet loss or delay measurement.</span></p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Currently, the IP FPM measurement flags cannot use the same bit with QoS flags.</p>
</div></div>
</div>
<div class="section"><h4 class="sectiontitle">Implementation</h4><p><span>IP Flow Performance Measurement (FPM) measures multipoint-to-multipoint (MP2MP) service flows to obtain the packet loss rate and delay.</span><span>In statistical terms, the statistical objects are the service flows, and statistical calculations determine the packet loss rate and delay of the service flows traveling across the transit network. Service flow statistical analysis is performed on the ingress and egress of the transit network.</span> On the network shown in <a href="#EN-US_CONCEPT_0172372845__fig_dc_vrp_ipfpm_cfg_000202">Figure 2</a>, the number of packets entering the network in the ingress direction on <span class="keyword">HUAWEI</span>(n) is PI(n), and the number of packets leaving the network in the egress direction on <span class="keyword">HUAWEI</span>(n) is PE(n).</p>
<div class="fignone" id="EN-US_CONCEPT_0172372845__fig_dc_vrp_ipfpm_cfg_000202"><a name="EN-US_CONCEPT_0172372845__fig_dc_vrp_ipfpm_cfg_000202"></a><a name="fig_dc_vrp_ipfpm_cfg_000202"></a><span class="figcap"><b>Figure 2 </b>IP FPM measurement</span><br><span><img class="vsd" src="images/fig_dc_vrp_ipfpm_cfg_000202.png" width="NaN" height="NaN"></span><br></div>
<div class="p">The difference between the number of packets entering the network and the number of packets leaving the network within a specified period is the packet loss.<ul id="EN-US_CONCEPT_0172372845__en-us_concept_0172357927_ul815458424214258"><li id="EN-US_CONCEPT_0172372845__en-us_concept_0172357927_li892649317214258">The number of packets entering the network is the sum of all packets moving in the ingress direction: PI = PI(1) + PI(2) + PI(3)</li><li id="EN-US_CONCEPT_0172372845__en-us_concept_0172357927_li1672806763214258">The number of packets leaving the network is the sum of all packets moving in the egress direction: PE = PE(1) + PE(2) + PE(3)</li></ul>
</div>
<p>The difference between the time a service flow enters the network and the time the service flow leaves the network within a specified period is the delay.</p>
</div>
<div class="section"><h4 class="sectiontitle">Benefits</h4><div class="p">IP FPM brings the following benefits to carriers:<ul><li><p>Allows carriers to use the network management system (NMS) to monitor the network running status to determine whether the network quality complies with the service level agreement (SLA).</p>
</li><li><p>Allows carriers to promptly adjust services based on measurement results to ensure proper transmission of voice and data services, improving user experience.</p>
</li></ul>
</div>
</div>
<div class="section"><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The following examples describe how to configure packet loss measurement and two-way delay measurement in end-to-end proactive performance statistics and how to configure packet loss measurement and one-way delay measurement in hop-by-hop on-demand performance statistics.</p>
<p>In P2MP (MP being two points) and MP2P (MP being two points) delay measurement scenarios, all devices in the delay measurement area must support P2MP delay measurement. Otherwise, delay measurement fails.</p>
</div></div>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ipfpm_cfg_0000.html">IP FPM Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/spec/IP_FPM_limitation.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>