
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Configuration Precautions for TWAMP Light">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_twamp-light_0001.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_twamp-light_0003.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_twamp-light_0005.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Publisher" content="20240229">
<meta name="featuretype" content="System Monitor">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="TWAMP Light">
<meta name="featuretype" content="System Monitor">
<meta name="featurename" content="TWAMP Light">
<meta name="featuretype" content="System Monitor">
<meta name="featurename" content="TWAMP Light">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TOPIC_0000001221119989">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Configuration Precautions for TWAMP Light</title>
</head>
<body><a name="EN-US_TOPIC_0000001221119989"></a><a name="EN-US_TOPIC_0000001221119989"></a>

<div class="articleBoxWithoutHead">

	<h1 class="topicTitle-h1">Configuration Precautions for TWAMP Light</h1>

	<div>
		
		

		<div class="section"><h4 class="sectiontitle">Feature Requirements</h4>
			
			
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Feature requirements</caption>
					
					
					
					<thead align="left">
						<tr>
							<th align="left" class="cellrowborder" valign="top" width="60%" id="mcps1.3.1.2.2.4.1.1" liSelected="liSelected">
								<p>Feature Requirements</p>

							</th>

							<th align="left" class="cellrowborder" valign="top" width="15%" id="mcps1.3.1.2.2.4.1.2" liSelected="liSelected">
								<p>Series</p>

							</th>

							<th align="left" class="cellrowborder" valign="top" width="25%" id="mcps1.3.1.2.2.4.1.3" liSelected="liSelected">
								<p>Models</p>

							</th>

						</tr>

					</thead>

					<tbody>
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						<tr>
							<td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 ">
								<p>1. When the TWAMP Light Session-Sender is configured to work in PTP compatible mode, the loop prevention function cannot be configured on the Session-Reflector. As a result, all packets are discarded upon loop identification.</p>
<p>2. If the TWAMP Light Session-Sender is configured to work in PTP compatible mode, this function takes effect only when the peer device also supports the PTP compatible mode. When configuring the PTP compatible mode on the Session-Sender, ensure that the peer end is upgraded to a version that supports the PTP compatible mode.</p>

							</td>

							<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 ">
								<p>NE40E-M2</p>

							</td>

							<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 ">
								<p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>

							</td>

						</tr>

						
						
						
						
						
						
						
						
						
						
						
						
						<tr>
							<td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 ">
								<p>If the state machine of the TWAMP Session-Sender is faulty, continuous sessions can continue to perform measurement after board re-selection. On-demand sessions can continue to perform measurement only after being reconfigured.</p>

							</td>

							<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 ">
								<p>NE40E-M2</p>

							</td>

							<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 ">
								<p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>

							</td>

						</tr>

						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						<tr>
							<td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 ">
								<p>In reflection loop detection, the reserved Z field in packets needs to be modified. When a Huawei device interworks with a non-Huawei device, check whether the non-Huawei device uses or modifies this field. When reflection-based loop prevention is enabled, interconnection with non-Huawei devices may fail. In this case, you need to run the following command to configure reflection-based loop prevention.</p>
<p>test-session &lt;session-id&gt; local-ip &lt;local-ip-address&gt; remote-ip &lt;remote-ip-address&gt; local-port &lt;port&gt; remote-port &lt;port&gt; [ vpn-instance &lt;vpn-name&gt; ] [ anti-loop-on ].</p>

							</td>

							<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 ">
								<p>NE40E-M2</p>

							</td>

							<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 ">
								<p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>

							</td>

						</tr>

						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						<tr>
							<td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 ">
								<p>When DSCP values are configured, priority mapping can be performed only based on the default traffic classification policy profile. Otherwise, TWAMP packets cannot enter queues based on the traffic policy configured on the interface.</p>

							</td>

							<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 ">
								<p>NE40E-M2</p>

							</td>

							<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 ">
								<p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>

							</td>

						</tr>

						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						<tr>
							<td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 ">
								<p>When TWAMP Light is performed in an E2E L2+L3 scenario, the TWAMP Light sender is configured on the L3 side and the DIP is specified as the user-side IP address to implement a TWAMP Light test. If the L2 responder is not configured at this time or the configuration is delivered to the responder after the sender initiates the test, TWAMP Light packets cannot be terminated on the L2 side and are transparently transmitted to the terminal or device connected to the L2 AC side.</p>

							</td>

							<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 ">
								<p>NE40E-M2</p>

							</td>

							<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 ">
								<p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>

							</td>

						</tr>

						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						<tr>
							<td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 ">
								<p>TWAMP measurement based on trunk member interfaces supports only measurement on directly connected interfaces between two directly connected devices and does not support inter-device (multi-hop) or point-to-multipoint scenarios. Plan services properly. Otherwise, the detection function does not take effect.</p>

							</td>

							<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 ">
								<p>NE40E-M2</p>

							</td>

							<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 ">
								<p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>

							</td>

						</tr>

						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						<tr>
							<td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 ">
								<p>TWAMP measurement based on trunk member interfaces is not supported when member interfaces are POS or Layer 2 interfaces (including but not limited to Eth-Trunk as VLANIF member interfaces).</p>

							</td>

							<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 ">
								<p>NE40E-M2</p>

							</td>

							<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 ">
								<p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>

							</td>

						</tr>

						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						<tr>
							<td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 ">
								<p>For TWAMP measurement based on trunk member interfaces, the initiator needs to learn the ARP information of the peer end. After ARP entries are cleared, ARP entries are generated again. During this period, packet loss occurs. The reflector does not need to learn ARP entries.</p>

							</td>

							<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 ">
								<p>NE40E-M2</p>

							</td>

							<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 ">
								<p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>

							</td>

						</tr>

						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						<tr>
							<td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 ">
								<p>For TWAMP measurement based on trunk member interfaces, the test session initiator must be bound to the trunk interface (the main interface and sub-interface are distinguished) where the sender IP address resides, and the test session reflector must be bound to the trunk interface (the main interface and sub-interface are distinguished) where the local IP address resides. Otherwise, the measurement result does not meet the expectation. Plan the configuration properly. Otherwise, TWAMP Light measurement results will be affected.</p>

							</td>

							<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 ">
								<p>NE40E-M2</p>

							</td>

							<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 ">
								<p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>

							</td>

						</tr>

						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						<tr>
							<td class="cellrowborder" valign="top" width="60%" headers="mcps1.3.1.2.2.4.1.1 ">
								<p>Trunk member interface-based TWAMP measurement does not support interworking with TWAMP Light in non-interface binding mode.</p>

							</td>

							<td class="cellrowborder" valign="top" width="15%" headers="mcps1.3.1.2.2.4.1.2 ">
								<p>NE40E-M2</p>

							</td>

							<td class="cellrowborder" valign="top" width="25%" headers="mcps1.3.1.2.2.4.1.3 ">
								<p>NE40E-M2E/NE40E-M2F/NE40E-M2H/NE40E-M2K/NE40E-M2K-B</p>

							</td>

						</tr>

						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
					</tbody>

				</table>
</div>

		</div>

	</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_twamp-light_0001.html">TWAMP Light Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_twamp-light_0003.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cfg_twamp-light_0005.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>