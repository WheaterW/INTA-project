
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Adjusting the AS Field Mode and Interface Index Type">
<meta name="abstract" content="For the NetStream Collector (NSC) to properly receive and parse NetStream packets output by the NetStream Data Exporter (NDE), ensure that the AS field modes and interface index types configured on the NDE and the NSC are the same.">
<meta name="description" content="For the NetStream Collector (NSC) to properly receive and parse NetStream packets output by the NetStream Data Exporter (NDE), ensure that the AS field modes and interface index types configured on the NDE and the NSC are the same.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ns_cfg_0003.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ns_cfg_0049.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ns_cfg_0006.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,netstream_vrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="NetStream">
<meta name="featuretype" content="System Monitor">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="NetStream">
<meta name="featuretype" content="System Monitor">
<meta name="featurename" content="NetStream">
<meta name="featuretype" content="System Monitor">
<meta name="featurename" content="Netstream">
<meta name="featuretype" content="System Monitor">
<meta name="OWNER" content="l00799643">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00799643">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172372948">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Adjusting the AS Field Mode and Interface Index Type</title>
</head>
<body><a name="EN-US_TASK_0172372948"></a><a name="EN-US_TASK_0172372948"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Adjusting the AS Field Mode and Interface Index Type</h1>
<div class="taskbody" id="taskbody419666115214103"><p id="shortdesc1706472040214103">For the NetStream Collector (NSC) to properly receive and parse NetStream packets output by the NetStream Data Exporter (NDE), ensure that the AS field modes and interface index types configured on the NDE and the NSC are the same.</p>
<div class="context"><a name="EN-US_TASK_0172372948__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0172372948__context1129008691214103"><div class="p" id="EN-US_TASK_0172372948__p83564745214103">Before you enable the NSC to properly receive and parse NetStream packets output by the NDE, specify the same AS field mode and interface index type on the NDE and NSC.<ul id="EN-US_TASK_0172372948__ul1554880618214103"><li id="EN-US_TASK_0172372948__li683757503214103"><p id="EN-US_TASK_0172372948__p727357824214103"><a name="EN-US_TASK_0172372948__li683757503214103"></a><a name="li683757503214103"></a><strong id="EN-US_TASK_0172372948__b1226029244214103">AS field mode</strong>: The length of the AS field in IP packets can be set to 16 bits or 32 bits. Devices on a network must use the same AS field mode. An AS field mode inconsistency causes NetStream to fail to sample inter-AS traffic.</p>
<div class="note" id="EN-US_TASK_0172372948__note733081713511"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172372948__p113301017951">If the 32-bit AS field mode is used, the NMS must be able to identify the 32-bit AS field. Otherwise, the NMS fails to identify inter-AS traffic sent by devices.</p>
</div></div>
</li><li id="EN-US_TASK_0172372948__li540557211214103"><p id="EN-US_TASK_0172372948__p1289218467214103"><a name="EN-US_TASK_0172372948__li540557211214103"></a><a name="li540557211214103"></a><strong id="EN-US_TASK_0172372948__b1932260286214103">Interface index</strong>: The NMS uses an interface index carried in a NetStream packet output by the NDE to query information about the interface that sends the packet. The interface index can be 16 or 32 bits long. The NMSs of different vendors may support different interface index lengths. As such, the NDE must use an interface index length that is supported by the NMS. For example, if the NMS can parse 32-bit interface indexes, set the length of the interface indexes carried in the output NetStream packets to 32-bit.</p>
<div class="note" id="EN-US_TASK_0172372948__note115086271856"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172372948__p1950832711512">Compared with the default 16-bit interface index, the 32-bit interface index can be identified by more third-party NMSs.</p>
</div></div>
</li></ul>
</div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172372948__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0172372948__steps1145613802214103"><li id="EN-US_TASK_0172372948__step1248467963214103"><span id="EN-US_TASK_0172372948__cmd2085822951214103">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172372948__cmdname929413360214103">system-view</span></b></a></span><p><p id="EN-US_TASK_0172372948__p04031256175315">The system view is displayed.</p>
</p></li><li id="EN-US_TASK_0172372948__step376703560214103"><span id="EN-US_TASK_0172372948__cmd146150249214103">Run <a href="cmdqueryname=ip+netstream+as-mode"><b><span class="cmdname" id="EN-US_TASK_0172372948__cmdname1052337841214103">ip netstream as-mode</span></b></a> { <strong><span id="EN-US_TASK_0172372948__cmdparmname873662162214103">16</span></strong> | <strong><span id="EN-US_TASK_0172372948__cmdparmname875355813214103">32</span></strong> }</span><p><p id="EN-US_TASK_0172372948__p55567569">An AS field mode is set.</p>
</p></li><li id="EN-US_TASK_0172372948__step1107648798214103"><span id="EN-US_TASK_0172372948__cmd1673143168">Run <a href="cmdqueryname=ip+netstream+export+index-switch"><b><span class="cmdname" id="EN-US_TASK_0172372948__cmdname8307185714234">ip netstream export index-switch</span></b></a> { <strong><span id="EN-US_TASK_0172372948__cmdparmname1175462343214103">16</span></strong> | <strong><span id="EN-US_TASK_0172372948__cmdparmname881850545214103">32</span></strong> }</span><p><p id="EN-US_TASK_0172372948__p133444171766">The length type of the interface index carried in the NetStream packets output by the device is set.</p>
</p><p><div class="p" id="EN-US_TASK_0172372948__p962202440214103">When converting the interface index from a 16-bit value to a 32-bit value, ensure that the following conditions are met:<ul id="EN-US_TASK_0172372948__ul741532919214103"><li id="EN-US_TASK_0172372948__li1300631214103">Original flows are output in the V9 or IPFIX format.</li><li id="EN-US_TASK_0172372948__li226501737214103">All aggregation flows are output in the V9 or IPFIX format.</li></ul>
</div>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ns_cfg_0003.html">Collecting Statistics About IPv4 Original Flows
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ns_cfg_0049.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ns_cfg_0006.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>