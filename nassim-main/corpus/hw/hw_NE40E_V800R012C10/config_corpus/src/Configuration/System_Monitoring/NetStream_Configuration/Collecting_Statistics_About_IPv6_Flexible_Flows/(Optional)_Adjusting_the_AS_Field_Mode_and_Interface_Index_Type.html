
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Adjusting the AS Field Mode and Interface Index Type">
<meta name="abstract" content="For the NSC to properly receive and parse NetStream packets output by the NDE, ensure that the AS field modes and interface index types configured on the NDE and the NSC are the same.">
<meta name="description" content="For the NSC to properly receive and parse NetStream packets output by the NDE, ensure that the AS field modes and interface index types configured on the NDE and the NSC are the same.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ns_cfg_0057.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ns_cfg_0061.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ns_cfg_3027_2.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,netstream_vrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="NetStream">
<meta name="featuretype" content="System Monitor">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="NetStream">
<meta name="featuretype" content="System Monitor">
<meta name="featurename" content="NetStream">
<meta name="featuretype" content="System Monitor">
<meta name="featurename" content="Netstream">
<meta name="featuretype" content="System Monitor">
<meta name="OWNER" content="l00799643">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00799643">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172373008">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Adjusting the AS Field Mode and Interface Index Type</title>
</head>
<body><a name="EN-US_TASK_0172373008"></a><a name="EN-US_TASK_0172373008"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Adjusting the AS Field Mode and Interface Index Type</h1>
<div class="taskbody"><p>For the NSC to properly receive and parse NetStream packets output by the NDE, ensure that the AS field modes and interface index types configured on the NDE and the NSC are the same.</p>
<div class="context"><a name="EN-US_TASK_0172373008__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p">The NSC can properly receive and parse NetStream packets output by the NDE only when the AS field modes and interface index types on the NDE and NSC are the same.<ul><li><p><strong>AS field mode</strong>: The length of the AS field in IP packets can be set to 16 bits or 32 bits. Devices on a network must use the same AS field mode. An AS field mode inconsistency causes NetStream to fail to sample inter-AS traffic.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If the 32-bit AS field mode is used, the NMS must be able to identify the 32-bit AS field. Otherwise, the NMS fails to identify inter-AS traffic sent by devices.</p>
</div></div>
</li><li><p><strong>Interface index</strong>: The NMS uses an interface index carried in a NetStream packet output by the NDE to query information about the interface that sends the packet. The interface index can be 16 or 32 bits long. The NMSs of different vendors may support different interface index lengths. As such, the NDE must use an interface index length that is supported by the NMS. For example, if the NMS can parse 32-bit interface indexes, set the length of the interface indexes carried in the output NetStream packets to 32-bit.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Compared with the default 16-bit interface index, the 32-bit interface index can be identified by more third-party NMSs.</p>
</div></div>
</li></ul>
</div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172373008__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=ip+netstream+as-mode"><b><span class="cmdname">ip netstream as-mode</span></b></a> { <strong><span>16</span></strong> | <strong><span>32</span></strong> }</span><p><p>An AS field mode is set.</p>
</p></li><li><span>Run <a href="cmdqueryname=ipv6+netstream+export+index-switch"><b><span class="cmdname">ipv6 netstream export index-switch</span></b></a> { <strong><span>16</span></strong> | <strong><span>32</span></strong> }</span><p><p>The length type of the interface index carried in the NetStream packets output by the device is set.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ns_cfg_0057.html">Collecting Statistics About IPv6 Flexible Flows
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ns_cfg_0061.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ns_cfg_3027_2.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>