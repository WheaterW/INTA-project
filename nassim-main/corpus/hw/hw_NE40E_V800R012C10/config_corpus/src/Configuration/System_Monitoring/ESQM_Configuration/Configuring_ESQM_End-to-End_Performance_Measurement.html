
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring ESQM End-to-End Performance Measurement">
<meta name="abstract" content="After the end-to-end performance measurement function is configured, you can collect information, such as the packet type, timestamp, and packet statistics, for packet forwarding path restoration, traffic restoration, and fault detection.">
<meta name="description" content="After the end-to-end performance measurement function is configured, you can collect information, such as the packet type, timestamp, and packet statistics, for packet forwarding path restoration, traffic restoration, and fault detection.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_esqm_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/spec/ESQM_limitation.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_esqm_cfg_0003.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00556928,w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="ESQM">
<meta name="featuretype" content="System Monitor">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="ESQM">
<meta name="featuretype" content="System Monitor">
<meta name="featurename" content="ESQM">
<meta name="featuretype" content="System Monitor">
<meta name="OWNER" content="l00799643">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="c00511010">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TOPIC_0191622018">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring ESQM End-to-End Performance Measurement</title>
</head>
<body><a name="EN-US_TOPIC_0191622018"></a><a name="EN-US_TOPIC_0191622018"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring ESQM End-to-End Performance Measurement</h1>
<div><p>After the end-to-end performance measurement function is configured, you can collect information, such as the packet type, timestamp, and packet statistics, for packet forwarding path restoration, traffic restoration, and fault detection.</p>
<div class="section"><h4 class="sectiontitle">Context</h4><p>Traditional communication networks are unable to "perceive" services, preventing customers' ever-changing service requirements from being responded to in real time. To solve this problem, ESQM has been developed to help devices monitor the quality of services on networks. This technology integrates network deployment with service requirements and provides the data that is the foundation for automatic and intelligent network lifecycle management.</p>
</div>
<div class="section"><h4 class="sectiontitle">Procedure</h4><ol><li>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a><p>The system view is displayed.</p>
</li><li>Run <a href="cmdqueryname=esqm"><b><span class="cmdname">esqm</span></b></a><p>The ESQM view is displayed.</p>
</li><li>(Optional) Run <a href="cmdqueryname=esqm+session+aging-time"><b><span class="cmdname">esqm session aging-time</span></b></a> <strong><span>sctp</span></strong> <i><span class="varname">tmval</span></i><div class="p">An aging time is set for SCTP flow tables.<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The configured aging time takes effect only for subsequently created SCTP flow tables.</p>
</div></div>
</div>
</li><li>(Optional) Run <a href="cmdqueryname=esqm+protocol+tcp+enable"><b><span class="cmdname">esqm protocol tcp enable</span></b></a><p>The device is enabled to create flow tables for sampled TCP protocol packets.</p>
</li><li>(Optional) Run <a href="cmdqueryname=esqm+protocol"><b><span class="cmdname">esqm protocol</span></b></a> { <strong><span>sctp</span></strong> | <strong><span>gtp </span></strong>} <strong><span>disable</span></strong><p>The device is disabled from creating flow tables for sampled SCTP, or GTP protocol packets.</p>
</li><li>(Optional) Run <a href="cmdqueryname=esqm+filter"><b><span class="cmdname">esqm filter</span></b></a> <strong><span>permit</span></strong> <strong><span>ip</span></strong> <i><span class="varname">ip-addr</span></i> <strong><span>mask</span></strong> <i><span class="varname">masklen</span></i><p>The function of filtering sampled packets is enabled.</p>
</li><li>Run any of the following commands:<ul><li>To perform ESQM for inbound or outbound packets on all the interfaces to which a VPN instance is bound, run the <a href="cmdqueryname=esqm+service-stream"><b><span class="cmdname">esqm service-stream</span></b></a> {  <strong><span>inbound</span></strong> | <strong><span>outbound</span></strong> } <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> command in the ESQM view.</li><li>To perform ESQM for inbound or outbound packets on all the interfaces to which no VPN instance is bound, run the <a href="cmdqueryname=esqm+service-stream"><b><span class="cmdname">esqm service-stream</span></b></a> {  <strong><span>inbound</span></strong> | <strong><span>outbound</span></strong> } command in the ESQM view.</li><li>To perform ESQM for inbound or outbound packets on an interface, run the following commands:<ol type="a"><li>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a><p>Exit from the ESQM view.</p>
</li><li>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type interface-num</span></i><p>The interface view is displayed.</p>
</li><li>Run <a href="cmdqueryname=esqm+service-stream"><b><span class="cmdname">esqm service-stream</span></b></a> { <strong><span>inbound</span></strong> | <strong><span>outbound</span></strong> }<p>A packet sampling direction is configured for ESQM on the interface.</p>
</li><li>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a><p>Return to the system view.</p>
</li></ol>
</li></ul>
</li><li>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a><p>The configuration is committed.</p>
</li></ol>
</div>
<p></p>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_esqm_cfg_0000.html">ESQM Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/spec/ESQM_limitation.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_esqm_cfg_0003.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>