
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="E-Trunk">
<meta name="abstract" content="This section describes a security policy, attack methods, configuration and maintenance methods, as well as configuration and maintenance suggestions for an E-Trunk.">
<meta name="description" content="This section describes a security policy, attack methods, configuration and maintenance methods, as well as configuration and maintenance suggestions for an E-Trunk.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_sec_hardening_control_level2.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0049.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0074.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="wwx1277053,z00588052">
<meta name="DC.Publisher" content="20240229">
<meta name="OWNER" content="wwx1277053,z00588052">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="wWX1238417">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001180623071">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>E-Trunk</title>
</head>
<body><a name="EN-US_CONCEPT_0000001180623071"></a><a name="EN-US_CONCEPT_0000001180623071"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">E-Trunk</h1>
<div><p>This section describes a security policy, attack methods, configuration and maintenance methods, as well as configuration and maintenance suggestions for an E-Trunk.</p>
<div class="section"><h4 class="sectiontitle">Security Policies</h4><ul><li><p>To improve system security, E-Trunk provides <span>the configurable authentication function.</span> The E-Trunk transmit end uses the configured password to calculate a packet digest for a heartbeat message and the receive end also calculates the packet digest after receiving the heartbeat message. If the two digests are the same, the heartbeat message is valid. Otherwise, the heartbeat message is invalid and discarded.</p>
</li><li>To protect service traffic against replay attacks launched by attackers who can obtain E-Trunk packet characteristics, E-Trunk provides configurable sequence number verification. To ensure system security and normal traffic forwarding, run the <strong>sequence enable</strong> command to enable E-Trunk sequence number verification for attack packet identification.</li><li><p>If packets are received, the E-Trunk checks the length, digest, and key parameters of the packets. Invalid packets, such as error packets, are discarded.</p>
</li><li>By default, the E-Trunk uses UDP port 1025 to transmit and receive protocol packets. To improve security, the E-Trunk allows users to set E-Trunk port numbers.</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Attack Methods</h4><ul><li><span>Protocol authentication can be configured to defend against attacks.</span> To prevent attacks, <span>you can set the authentication algorithm to </span>HMAC-SHA1, HMAC-SHA256, or ENHANCED-HMAC-SHA256.</li><li>Configure sequence number verification to defend against attacks. You can run the <strong>sequence enable</strong> command to enable E-Trunk sequence number verification.</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Configuration and Maintenance Methods</h4><ol><li>Run the <a href="cmdqueryname=authentication-mode"><b><span class="cmdname">authentication-mode</span></b></a> command in the E-Trunk view to configure an E-Trunk authentication or encryption mode.</li><li><p>Run the <a href="cmdqueryname=security-key"><b><span class="cmdname">security-key</span></b></a> { <strong><span>simple</span></strong> <i><span class="varname">simple-key</span></i> | <strong><span>cipher</span></strong> { <i><span class="varname">cipher-key1</span></i> | <i><span class="varname">cipher-key2</span></i> | <i><span class="varname">cipher-key3</span></i> } } command in the E-Trunk view to set an authentication key.</p>
<div class="p">You can specify <strong><span>simple</span></strong> or <strong><span>cipher</span></strong> as needed:<ul><li><p>If <strong><span>simple</span></strong> is specified, a password is displayed in clear text in the configuration file.</p>
</li><li><p>If <strong><span>cipher</span></strong> is specified, a ciphertext password is displayed as unidentifiable characters.</p>
<ul><li><i><span class="varname">cipher-key1</span></i>: specifies a ciphertext password. The value is a string of 32 to <span>432</span> characters. It cannot contain spaces.</li><li><i><span class="varname">cipher-key2</span></i>: specifies a 24-character ciphertext password configured in an earlier version. Such a password is automatically converted into a supported format after an upgrade.</li><li><i><span class="varname">cipher-key3</span></i>: specifies a clear text password. The value is a string of 1 to 255 case-sensitive characters. It cannot contain spaces.</li></ul>
</li></ul>
</div>
<div class="notice"><span class="noticetitle"><img src="../../../../public_sys-resources/notice_3.0-en-us.png"> </span><div class="noticebody"><p>If <strong><span>simple</span></strong> is configured, the password is saved in the configuration file in clear text. The users with the least privilege may obtain the password by viewing the configuration file. This causes a network security risk. Therefore, <strong><span>cipher</span></strong> is recommended.</p>
<p>Two devices whose interfaces join the same E-Trunk interface must have the same password for encrypting packets. After an E-Trunk interface is created, you must manually set an encryption password. Otherwise, E-Trunk negotiation fails to be performed.</p>
</div></div>
</li><li>Run the <a href="cmdqueryname=sequence+enable"><b><span class="cmdname">sequence enable</span></b></a> command in the E-Trunk view to enable sequence number verification.<div class="notice"><span class="noticetitle"><img src="../../../../public_sys-resources/notice_3.0-en-us.png"> </span><div class="noticebody"><p>The <a href="cmdqueryname=sequence+enable"><b><span class="cmdname">sequence enable</span></b></a> command must be run on both the master and backup devices in an E-Trunk. If this command is run on only one device, sequence number verification fails and packets are discarded. As a result, both devices in the E-Trunk become master devices.</p>
</div></div>
</li><li>Run the <span><a href="cmdqueryname=e-trunk+port"><b><span class="cmdname">e-trunk port</span></b></a> <i><span class="varname">port-number</span></i></span> command in the system view to set an E-Trunk interface number. The value is an integer ranging from 1025 to 65535. The default value is 1025.</li></ol>
</div>
<div class="section"><h4 class="sectiontitle">Configuration and Maintenance Suggestions</h4><p>To enhance security, you are advised to set a ciphertext password.</p>
<p>Enhanced-HMAC-SHA256 is recommended for authentication and encryption.</p>
<p>Enabling sequence number verification on both ends of an E-Trunk is recommended.</p>
</div>
<div class="section"><h4 class="sectiontitle">Verifying the Security Hardening Result</h4><p>Run the <strong>display e-trunk</strong> <em>etrunk-id</em> command to check E-Trunk details.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_sec_hardening_control_level2.html">Control Plane
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0049.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0074.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>