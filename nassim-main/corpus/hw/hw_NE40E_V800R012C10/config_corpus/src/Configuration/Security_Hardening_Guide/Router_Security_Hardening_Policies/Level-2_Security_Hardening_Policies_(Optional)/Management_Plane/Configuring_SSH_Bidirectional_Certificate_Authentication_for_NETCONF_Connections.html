
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Configuring SSH Bidirectional Certificate Authentication for NETCONF Connections">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_sec_hardening_management_level2.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0010.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0018.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="l00799643,z00588052">
<meta name="DC.Publisher" content="20240229">
<meta name="OWNER" content="l00799643,z00588052">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="x60031980">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001134623488">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring SSH Bidirectional Certificate Authentication for NETCONF Connections</title>
</head>
<body><a name="EN-US_CONCEPT_0000001134623488"></a><a name="EN-US_CONCEPT_0000001134623488"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring SSH Bidirectional Certificate Authentication for NETCONF Connections</h1>
<div><div class="section"><h4 class="sectiontitle">Security Policy</h4><ol><li>Certificate authentication requests and certificate obtaining requests can be exchanged between the SSH and PKI components.</li><li>After receiving a connection request, if the negotiated host authentication method is certificate authentication, the SSH component sends a CERT Req message to the PKI component to obtain the certificate and the corresponding KEY file.</li><li>A timer is started to retransmit a certificate request message if no CERT RSP ACK message is received. The timer interval is 5s, and the certificate request message is retransmitted for a maximum of three times. This mechanism prevents DoS attacks.</li><li>After three timeouts, the SSH connection is torn down, and the cause of the SSH login failure is recorded as no response from the PKI component during host authentication.</li><li>When receiving a user certificate authentication request, the SSH component sends an authentication request message to the PKI component.</li><li>A timer is started to retransmit an authentication request message if no AUTH RSP ACK message is received. The timer interval is 5s, and the certificate request message is retransmitted for a maximum of three times. This mechanism prevents DoS attacks.</li><li>After three timeouts, the SSH connection is torn down, and the cause of the SSH login failure is recorded as no response from the PKI component during user authentication.</li></ol>
</div>
<div class="section"><h4 class="sectiontitle">Configuration and Maintenance Methods</h4><ol><li>Run <a href="cmdqueryname=ssh+server+assign"><b><span class="cmdname">ssh server assign</span></b></a> <strong><span>pki</span></strong> <i><span class="varname">pki-keyname</span></i><p>A certificate source is bound for host certificate authentication. The user certificate in the PKI domain is required.</p>
</li><li>Run <a href="cmdqueryname=ssh+server+publickey"><b><span class="cmdname">ssh server publickey</span></b></a> <strong><span>x509v3-ssh-rsa</span></strong><p>The host authentication method is specified to certificate authentication in x509 format.</p>
</li><li>Run <a href="cmdqueryname=ssh+user"><b><span class="cmdname">ssh user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>authentication-type</span></strong> { <strong><span>password-x509v3-rsa</span></strong> | <strong><span>x509v3-rsa</span></strong> }<p>The authentication mode of the SSH user is specified to certificate authentication in x509 format.</p>
</li><li>Run <a href="cmdqueryname=ssh+user"><b><span class="cmdname">ssh user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>assign</span></strong> <strong><span>pki</span></strong> <i><span class="varname">pki-name</span></i><p>A PKI domain is bound to the SSH user.</p>
</li><li>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a><p>The configuration is committed.</p>
</li></ol>
</div>
<div class="section"><h4 class="sectiontitle">Verifying the Security Hardening Result</h4><ul><li>Run the <strong><a href="cmdqueryname=display+ssh+server+status"><b><span class="cmdname">display ssh server status</span></b></a></strong> command to check global configurations of the SSH server.</li><li>Run the <strong><a href="cmdqueryname=display+ssh+server+session"><b><span class="cmdname">display ssh server session</span></b></a></strong> command to check session connection information of the SSH server.</li><li>Run the <strong><a href="cmdqueryname=display+ssh+server-info"><b><span class="cmdname">display ssh server-info</span></b></a></strong> command to check the SSH server and public key binding information when the device functions as an SSH client.</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_sec_hardening_management_level2.html">Management Plane
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0010.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0018.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>