
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Telnet">
<meta name="abstract" content="">
<meta name="description" content="">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_sec_hardening_management_level2.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0011.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="l00799643,z00588052">
<meta name="DC.Publisher" content="20240229">
<meta name="OWNER" content="l00799643,z00588052">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="x60031980">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001134463654">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Telnet</title>
</head>
<body><a name="EN-US_CONCEPT_0000001134463654"></a><a name="EN-US_CONCEPT_0000001134463654"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Telnet</h1>
<div><p></p>
<div class="section"><h4 class="sectiontitle">Security Policy</h4><ul><li><p>Authentication</p>
<p>A Telnet server supports password authentication and AAA authentication. Only users who are authenticated can access a device and its command line interface. The Telnet server supports password authentication and AAA authentication. Only users who pass authentication can access devices and the command line window. AAA authentication supports remote and local authentication, and remote authentication takes precedence. Passwords used in authentication are encrypted using an irreversible algorithm.</p>
</li><li><p>Service disabling</p>
<p>After the Telnet server function is enabled, a device starts socket listening. In this case, attackers can easily scan devices. When the Telnet server is not in use, disable the Telnet server function and relative ports.</p>
</li><li><p>Port number changes</p>
<p>Telnet server port 23 is a well-known port number. Therefore, the port number is easily scanned and attacked. Telnet server port 23 can be changed to a private port number to reduce the possibility of being scanned or attacked. A private port number can be 23 or range from 1025 to 65535.</p>
</li><li><p>Access control lists (ACLs)</p>
<p>ACLs can be configured for virtual type terminal (VTL) channels in the user-interface view. ACLs are used to limit which client IP addresses can be used to access a device. Users are not advised to configure ACL rules in this view.</p>
<p>ACL rules can be configured on the Telnet server to limit IP addresses of clients that access a device using Telnet. Users are advised to configure ACL rules on the Telnet server.</p>
</li><li><p>Source interface configuration</p>
<p>Source interfaces that are allowed to access the Telnet server can be specified. Users must access a Telnet server function-enabled device using the IP addresses of the specified source interfaces. In this way, the access range is controlled, and device security is enhanced.</p>
</li><li><p>Source IPv6 address configuration</p>
<p>Source IPv6 address that is allowed to access the Telnet server can be specified. Users must access a Telnet server function-enabled device using the IPv6 addresses of the specified source interfaces. In this way, the access range is controlled, and device security is enhanced.</p>
</li><li><p>IP blacklist</p>
<p>When network attackers send a large number of Telnet requests, authorized users cannot log in to the system through temporary sessions. To prevent this issue, network attackers' IP addresses are temporarily locked by the system for a period of time so that authorized users can log in to the system.</p>
</li><li><p>CPCAR-based flood attack defense</p>
<p>In the scenario where Internet public addresses are deployed, a device may be attacked by traffic flooding on the management and control plane. You can configure a CPU defense policy to protect the device against traffic attacks.</p>
</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Attack Methods</h4><ul><li><p>Port scanning</p>
<p>Attackers attempt to obtain user packets by scanning and listening network-side ports on user devices. Device information can be easily obtained because user packets are transmitted in simple password.</p>
</li><li><p>Password cracking</p>
<p>After an attacker obtains a Telnet port number on a device, the attacker attempts to access the device. When the device requests authentication information, the attacker may crack the password. The device considers the attacker authenticated and allows the attacker to access.</p>
</li><li><p>Denial of service (DoS)</p>
<p>A Telnet server supports a limited number of users. When the number of allowed users reaches the upper limit, other users cannot access the device. This situation may occur as a result of normal Telnet server usage, or when a Telnet server is attacked.</p>
</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Configuration and Maintenance Methods</h4><ul><li><p>Set the authentication mode to AAA.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>When the authentication mode is set to AAA, you must specify the access type of the local user.</p>
</div></div>
<ol><li><p>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></p>
<p>The system view is displayed.</p>
</li><li><p>Run <span><a href="cmdqueryname=aaa"><b><span class="cmdname">aaa</span></b></a></span></p>
<p>The AAA view is displayed.</p>
</li><li><p>Run <span><a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>password</span></strong> [<strong><span>cipher</span></strong> <i><span class="varname">password</span></i> | <strong><span>irreversible-cipher</span></strong> <i><span class="varname">irreversible-cipher-password</span></i> ]</span></p>
<p>The local username and password are configured.</p>
</li><li><p>Run <span><a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>service-type telnet</span></strong></span></p>
<p>The access type is set to Telnet for the local user.</p>
</li><li><p>Run <span><a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>user-group manage-ug</span></strong></span></p>
<p>The local user is configured with administrative rights.</p>
</li><li><p>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span></p>
<p>Exit the AAA view.</p>
</li><li><p>Run <span><a href="cmdqueryname=user-interface"><b><span class="cmdname">user-interface</span></b></a> <strong><span>vty</span></strong> <i><span class="varname">first-ui-number</span></i> [ <i><span class="varname">last-ui-number</span></i> ]</span></p>
<p>A VTY user interface view is displayed.</p>
</li><li><p>Run <span><a href="cmdqueryname=authentication-mode+aaa"><b><span class="cmdname">authentication-mode aaa</span></b></a></span></p>
<p>AAA authentication is enabled.</p>
</li><li><p>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></p>
<p>The configuration is committed.</p>
</li></ol>
</li></ul>
<ul><li><p>Disable the Telnet service function.</p>
<ol><li><p>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></p>
<p>The system view is displayed.</p>
</li><li><p>Run <span><a href="cmdqueryname=undo+telnet"><b><span class="cmdname">undo telnet</span></b></a> <span>[ <strong><span>ipv6</span></strong> ] </span><strong><span>server enable</span></strong></span></p>
<p>The Telnet server function is disabled.</p>
</li><li><p>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></p>
<p>The configuration is committed.</p>
</li></ol>
</li><li><p>Change the public Telnet port number to a private number of 53555.</p>
<ol><li><p>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></p>
<p>The system view is displayed.</p>
</li><li>Run <span><a href="cmdqueryname=telnet+server+port"><b><span class="cmdname">telnet server port</span></b></a> <strong><span>53555</span></strong></span><p>The port number is changed to 53555.</p>
</li><li><p>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></p>
<p>The configuration is committed.</p>
</li></ol>
</li><li><p>Configure an ACL to control permission to call in and out.</p>
<ol><li><p>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></p>
<p>The system view is displayed.</p>
</li><li><p>Run <span><a href="cmdqueryname=acl"><b><span class="cmdname">acl</span></b></a> { [ <strong><span>number</span></strong> ] <i><span class="varname">acl-number</span></i> | <strong><span>name</span></strong> <i><span class="varname">acl-name</span></i> [ <strong><span>advance</span></strong> ] [ <strong><span>number</span></strong> <i><span class="varname">acl-number</span></i> ] } [ <strong><span>match-order</span></strong> { <strong><span>auto</span></strong> | <strong><span>config</span></strong> } ]</span></p>
<p>An advanced ACL is created and the advanced ACL view is displayed.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Telnet is a TCP-based protocol. You can use Telnet to log in to a device. To ensure security, you are advised to configure an independent ACL to protect Telnet. The device supports dynamic link protection for Telnet. The protocol packets with session entries being set up can be forwarded through a dynamic whitelist. In this example, ACLs are used to limit the rate of Telnet protocol packets for which no connection has been established. It is recommended that the management protocol directly filter and discard the access traffic from unknown sources.</p>
</div></div>
</li><li>Run <span><a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a> [ <i><span class="varname">rule-id</span></i> ] [ <strong><span>name</span></strong> <i><span class="varname">rule-name</span></i> ] { <strong><span>deny</span></strong> | <strong><span>permit</span></strong> } <i><span class="varname">protocol</span></i> [ <strong><span>destination</span></strong> { <i><span class="varname">destination-ip-address destination-wildcard</span></i> | <strong><span>any</span></strong> } | <strong><span>fragment</span></strong> | <strong><span>source</span></strong> { <i><span class="varname">source-ip-address source-wildcard</span></i> | <strong><span>any</span></strong> } | <strong><span>time-range</span></strong> <i><span class="varname">time-name</span></i> | <strong><span>dscp</span></strong> <i><span class="varname">dscp</span></i> <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ]</span><p>ACL rules are configured.</p>
</li><li>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p>Exit the ACL view.</p>
</li><li>Run <span><a href="cmdqueryname=user-interface"><b><span class="cmdname">user-interface</span></b></a> <strong><span>vty</span></strong> <i><span class="varname">first-ui-number</span></i> [ <i><span class="varname">last-ui-number</span></i> ]</span><p>A VTY user interface view is displayed.</p>
</li><li><p>Run <span><a href="cmdqueryname=acl"><b><span class="cmdname">acl</span></b></a> <i><span class="varname">acl-number</span></i> { <strong><span>inbound</span></strong> | <strong><span>outbound</span></strong> }</span></p>
<p>The permission to call in and out using a VTY connection is configured. Either of the following parameters must be configured:</p>
<p><strong><span>inbound</span></strong>: prevents users using a specific IP address or a range of IP addresses on a network segment from accessing a device.</p>
<p><strong><span>outbound</span></strong>: prevents users who successfully access a device from accessing another device.</p>
</li><li>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p>Exit the VTY user interface view.</p>
</li><li><p>Run <span><a href="cmdqueryname=telnet+server+acl"><b><span class="cmdname">telnet server acl</span></b></a> { <i><span class="varname">acl-number</span></i> | <i><span class="varname">acl-name</span></i> }</span></p>
<p>An ACL is specified to allow users with specified IP addresses to run Telnet to access the device.</p>
</li><li><p>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></p>
<p>The configuration is committed.</p>
</li></ol>
</li><li><p>Specify the source interface for a user to access a Telnet server.</p>
<ol><li><p>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></p>
<p>The system view is displayed.</p>
</li><li><p>Run <span><a href="cmdqueryname=telnet+server-source"><b><span class="cmdname">telnet server-source</span></b></a> <strong><span>-i</span></strong> <strong><span>loopback</span></strong> <i><span class="varname">interface-number</span></i></span></p>
<p>The source interface for a Telnet server is specified.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Before specifying a loopback interface as the source interface for the Telnet server, ensure that the loopback interface has been created. Otherwise, this command will fail to be executed.</p>
</div></div>
</li><li><p>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></p>
<p>The configuration is committed.</p>
</li></ol>
</li><li><p>Specify the source IPv6 address for a user to access a Telnet server.</p>
<ol><li><p>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></p>
<p>The system view is displayed.</p>
</li><li><p>Run <span><a href="cmdqueryname=telnet+ipv6+server-source"><b><span class="cmdname">telnet ipv6 server-source</span></b></a> <strong><span>-a</span></strong> <i><span class="varname">ipv6-address</span></i> [ <strong><span>-vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ]</span></p>
<p>The source IPv6 address for a Telnet server is specified.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>VPN configuration must be successful, to configure the vpn instance using this command.</p>
</div></div>
</li><li><p>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></p>
<p>The configuration is committed.</p>
</li></ol>
</li><li><p>Configure CPCAR-based flood attack defense.</p>
<ol><li><p>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></p>
<p>The system view is displayed.</p>
</li><li><p>Run <a href="cmdqueryname=acl"><b><span class="cmdname">acl</span></b></a> { <strong><span>name</span></strong> <i><span class="varname">advance-acl-name</span></i> [ <strong><span>advance</span></strong> | [ <strong><span>advance</span></strong> ] <strong><span>number</span></strong> <i><span class="varname">advance-acl-number</span></i> ] | [ <strong><span>number</span></strong> ] <i><span class="varname">advance-acl-number</span></i> } [ <strong><span>match-order</span></strong> { <strong><span>config</span></strong> | <strong><span>auto</span></strong> } ]</p>
<p>An advanced ACL is created, and the view of this advanced ACL is displayed.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Telnet is a TCP-based protocol. You can use Telnet to log in to a device. For security purposes, you are advised to configure a separate ACL. The device supports dynamic link protection for Telnet packets. The packets with session entries being set up can be forwarded preferentially. An ACL is used to limit the rate of Telnet packets without session entries. It is recommended that the device should filter and discard access traffic from unknown sources.</p>
</div></div>
</li><li><p>Perform the following operations to configure an ACL rule to allow the device to send Telnet packets with the specified source interface address and deny other Telnet packets.</p>
<ul><li>Run the <a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a> [ <i><span class="varname">rule-id</span></i> ] [ <strong><span>name</span></strong> <i><span class="varname">rule-name</span></i> ] <strong><span>permit</span></strong> <strong><span>tcp</span></strong> <strong><span>source</span></strong> <i><span class="varname">source-ip-address</span></i> <i><span class="varname">source-wildcard</span></i> <strong><span>source-port</span></strong> <strong><span>eq 23</span></strong> command to configure the device to send protocol packets with the specified source address and source interface type as Telnet.</li><li>Run the <a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a> [ <i><span class="varname">rule-id</span></i> ] [ <strong><span>name</span></strong> <i><span class="varname">rule-name</span></i> ] <strong><span>permit</span></strong> <strong><span>tcp</span></strong> <strong><span>source</span></strong> <i><span class="varname">source-ip-address</span></i> <i><span class="varname">source-wildcard</span></i> <strong><span>destination-port</span></strong> <strong><span>eq 23</span></strong> command to configure the device to send protocol packets with the specified source address and destination interface type as Telnet.</li><li>Run the <a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a> [ <i><span class="varname">rule-id</span></i> ] [ <strong><span>name</span></strong> <i><span class="varname">rule-name</span></i> ] <strong><span>deny</span></strong> <strong><span>tcp</span></strong> <strong><span>destination-port</span></strong> <strong><span>eq 23</span></strong> command to configure the device to deny Telnet packets that are not whitelisted.</li></ul>
</li><li><p>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></p>
<p>Exit from the ACL view.</p>
</li><li><p>Run <a href="cmdqueryname=cpu-defend+policy"><b><span class="cmdname">cpu-defend policy</span></b></a> <i><span class="varname">policy-number</span></i></p>
<p>An attack defense policy is created.</p>
</li><li><p>Run <a href="cmdqueryname=tcpsyn-flood+enable"><b><span class="cmdname">tcpsyn-flood enable</span></b></a></p>
</li><li><p>Run <a href="cmdqueryname=fragment-flood+enable"><b><span class="cmdname">fragment-flood enable</span></b></a></p>
</li><li><p>Run <a href="cmdqueryname=udp-packet-defend+enable"><b><span class="cmdname">udp-packet-defend enable</span></b></a></p>
</li><li><p>Run <a href="cmdqueryname=abnormal-packet-defend+enable"><b><span class="cmdname">abnormal-packet-defend enable</span></b></a></p>
</li><li><p>Run <a href="cmdqueryname=user-defined-flow"><b><span class="cmdname">user-defined-flow</span></b></a> <i><span class="varname">flow-id</span></i> <strong><span>acl</span></strong> { <i><span class="varname">acl-number</span></i> | <strong><span>name</span></strong> <i><span class="varname">acl-name</span></i> } [ <strong><span>prior</span></strong> ]</p>
<p>A user-defined flow is configured and associated with the ACL.</p>
</li><li><p>Run <a href="cmdqueryname=car"><b><span class="cmdname">car</span></b></a> <strong><span>user-defined-flow</span></strong> <i><span class="varname">flow-id</span></i> { <strong><span>cir</span></strong> <i><span class="varname">cir-value</span></i> | <strong><span>cbs</span></strong> <i><span class="varname">cbs-value</span></i> <span>| <strong><span>min-packet-length</span></strong> <i><span class="varname">min-packet-length-value</span></i> </span>}</p>
<p>A CAR action rule is configured for packets in user-defined flows.</p>
</li><li><p>Run <a href="cmdqueryname=priority"><b><span class="cmdname">priority</span></b></a><span><span> {</span> <i><span class="varname">protocol-name</span></i><span> | <strong><span>index</span></strong> <i><span class="varname">index</span></i> | <strong><span>whitelist</span></strong> | <span><strong><span>whitelist-v6</span></strong> |</span> <strong><span>blacklist</span></strong> | <strong><span>tcpsyn</span></strong> | <strong><span>fragment</span></strong> | <strong><span>user-defined-flow</span></strong> <i><span class="varname">flow-id</span></i> }</span> { <strong><span>high</span></strong> | <strong><span>middle</span></strong> | <strong><span>low</span></strong> | <strong><span>be</span></strong> | <strong><span>af1</span></strong> | <strong><span>af2</span></strong> | <strong><span>af3</span></strong> | <strong><span>af4</span></strong> | <strong><span>ef</span></strong> | <strong><span>cs6</span></strong> }</span></p>
<p>The priorities of sending packets to the CPU are configured.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Telnet is an access protocol, requires less processing bandwidth, and has low real-time requirements. Therefore, it is recommended that you set its priority to medium.</p>
</div></div>
</li><li><p>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></p>
<p>Exit the attack defense policy view.</p>
</li><li><p>Run <a href="cmdqueryname=slot"><b><span class="cmdname">slot</span></b></a> <i><span class="varname">slot-id</span></i></p>
<p>The specified slot view is displayed.</p>
</li><li><p>Run <a href="cmdqueryname=cpu-defend-policy"><b><span class="cmdname">cpu-defend-policy</span></b></a> <i><span class="varname">policy-number</span></i></p>
<p>The attack defense policy is applied to the specified interface board.</p>
</li><li><p>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></p>
<p>The configuration is committed.</p>
</li></ol>
</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Configuration and Maintenance Suggestions</h4><ul><li><p>Plan IP addresses to manage devices separately to prevent devices from being scanned or listened in.</p>
</li><li><p>Change the public port number of a Telnet server.</p>
</li><li><p>Configure ACLs to limit which IP addresses that can access the Telnet server.</p>
</li><li><p>Replace Telnet with SSH to provide secure management channels.</p>
</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Verifying the Security Hardening Result</h4><ul><li>Run the <a href="cmdqueryname=display+current-configuration"><b><span class="cmdname">display current-configuration</span></b></a> <strong><span>configuration aaa</span></strong> command to check the AAA configuration.</li><li>Run the <strong><a href="cmdqueryname=display+telnet+server"><b><span class="cmdname">display telnet server</span></b></a></strong> command to check the configuration of the Telnet server.</li><li>Run the <strong><a href="cmdqueryname=display+cpu-defend+policy"><b><span class="cmdname">display cpu-defend policy</span></b></a> </strong><em><i><span class="varname">policy-number</span></i></em> command to check the attack defense policy.</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_sec_hardening_management_level2.html">Management Plane
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0011.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>