
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Setting a Master Key">
<meta name="abstract" content="A master key is used by a device to encrypt data, safeguarding data transmission. A fixed default master key is provided before device delivery. In actual network environments, the default master key may be stolen or cracked. Administrators can manually change master keys as required to improve data security.">
<meta name="description" content="A master key is used by a device to encrypt data, safeguarding data transmission. A fixed default master key is provided before device delivery. In actual network environments, the default master key may be stolen or cracked. Administrators can manually change master keys as required to improve data security.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_sec_hardening_management_level2.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0104.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0112.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00588052,y00852169">
<meta name="DC.Publisher" content="20240229">
<meta name="OWNER" content="z00588052,y00852169">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="x60031980">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001134463680">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Setting a Master Key</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CONCEPT_0000001134463680"></a><a name="EN-US_CONCEPT_0000001134463680"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Setting a Master Key</h1>
<div><p>A master key is used by a device to encrypt data, safeguarding data transmission. A fixed default master key is provided before device delivery. In actual network environments, the default master key may be stolen or cracked. Administrators can manually change master keys as required to improve data security.</p>
<div class="section"><h4 class="sectiontitle">Security Policy</h4><ul><li>You can change the default master key to a user-defined master key, improving data security.</li><li>You can clear a user-defined master key to restore the default master key.<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If an administrator forgets a user-defined master key configured on a local device, other devices cannot have the same master key configured to communicate with the local device through an encrypted data channel. In this case, attempts to share configuration files between the devices and decrypt data on the devices fail.</p>
</div></div>
</li><li>You can query the master key configuration to check whether the default master key or a user-defined master key is used.</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Attack Methods</h4><p>An attacker cracks the fixed default master key by analyzing a large number of encrypted data, causing device information leakage. </p>
</div>
<div class="section"><h4 class="sectiontitle">Configuration and Maintenance Methods</h4><ul><li>Set a user-defined master key.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>set master-key</strong>
Warning: This operation will automatically save configurations. Are you sure you want to perform it? [Y/N]:y
Enter a new master key: 
Confirm the new master key: 
Warning: Keep the new master key well.
Enter the user password: 
Info: Operating, please wait for a moment.....
Info: Operation succeeded.</pre>
</li><li>Enable the automatic update of the master key so that the system periodically generates a new master key, which is a string of 32 characters.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword">HUAWEI</span>] <strong>set master-key auto-update interval 5</strong>
Warning: If automatic master key update is enabled, the configured master key will be cleared, and the system will automatically generate a master key. The configuration will be automatically saved when the master key is updated. Are you sure you want to continue? [Y/N]:y</pre>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In scenarios where the automatic update of the master key is enabled, if you run the <a href="cmdqueryname=set+master-key"><b><span class="cmdname">set master-key</span></b></a> command to manually configure a master key, the system displays a message indicating that this operation will disable the automatic update.</p>
</div></div>
</li><li>Clear historical master keys.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>clear master-key</strong>
Warning: This operation will delete all historical master keys. Are you sure you want to perform it? [Y/N]:y
Enter the user password:
Info: Operating, please wait for a moment...done.
Info: Operation succeeded.</pre>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The <a href="cmdqueryname=clear+master-key"><b><span class="cmdname">clear master-key</span></b></a> command cannot clear the historical default master key. Instead, it can clear only historical master keys that are generated automatically or defined by users. After you clear historical master keys, only the configuration file generated based on the current master key can be properly decrypted. This means that the configuration files generated based on other historical master keys cannot be decrypted.</p>
</div></div>
</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Verifying the Security Hardening Result</h4><p>Run the <strong>display master-key configuration</strong> command to query the type of the master key.</p>
</div>
<div class="section"><h4 class="sectiontitle">Configuration and Maintenance Suggestions</h4><ul><li>To ensure data security, you are advised to set a user-defined master key when using a device for the first time, preventing sensitive information leakage.</li><li>To ensure key security, you are advised to periodically update the user-defined master key, preventing the master key from being stolen or cracked.</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_sec_hardening_management_level2.html">Management Plane
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0104.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0112.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>