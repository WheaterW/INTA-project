
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="IS-IS/IS-ISv6">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_sec_hardening_control_level2.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0039.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0041.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00588052,z00875216">
<meta name="DC.Publisher" content="20240229">
<meta name="OWNER" content="z00588052,z00875216">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="h00414125">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001334495506">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>IS-IS/IS-ISv6</title>
</head>
<body><a name="EN-US_CONCEPT_0000001334495506"></a><a name="EN-US_CONCEPT_0000001334495506"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">IS-IS/IS-ISv6</h1>
<div><div class="section"><h4 class="sectiontitle">Security Policy Overview</h4><p>IS-IS authentication encrypts IS-IS packets by adding the authentication field to packets to improve network security. After receiving IS-IS packets from a remote <span class="keyword">Router</span>, a local <span class="keyword">Router</span> discards the packets if the authentication passwords in the packets are different from the locally configured one. This mechanism protects the local <span class="keyword">Router</span>.</p>
</div>
<div class="section"><h4 class="sectiontitle">Attack Methods</h4><p>Denial of error packets: Attackers can get correct Hello packets or link state packets from a network, forge attack packets with identifiable IS-IS packets, and send these packets to <span class="keyword">Router</span>s. Although <span class="keyword">Router</span>s can identify and discard these attack packets based on the authentication information, <span class="keyword">Router</span>s may also discard correct packets because they cannot immediately process these packets. This affects network stability.</p>
</div>
<div class="section"><h4 class="sectiontitle">Procedure</h4><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>It is recommended that the password be at least eight characters long and contain at least two of the following character types: uppercase letters, lowercase letters, digits, and special characters.</p>
</div></div>
<ul><li>Configure IS-IS area authentication.<ol><li>Run <b><span class="cmdname">system-view</span></b><p>The system view is displayed.</p>
</li><li>Run <a href="cmdqueryname=isis"><b><span class="cmdname">isis</span></b></a> [ <i><span class="varname">process-id</span></i> ]<p>The IS-IS view is displayed.</p>
</li><li>Run one of the following commands based on the encryption type to configure IS-IS routing domain authentication:<ul><li><p><a href="cmdqueryname=area-authentication-mode"><b><span class="cmdname">area-authentication-mode</span></b></a> { <strong><span>simple</span></strong> { <span><strong><span>plain</span></strong> <i><span class="varname">plain</span></i> | </span>[ <strong><span>cipher</span></strong> ] <i><span class="varname">cipher</span></i> } | <strong><span>md5</span></strong> { [ <strong><span>cipher</span></strong> ] <i><span class="varname">cipher</span></i><span> | <strong><span>plain</span></strong> <i><span class="varname">plain</span></i></span> } } [ <strong><span>ip</span></strong> | <strong><span>osi</span></strong> ] [ <strong><span>snp-packet</span></strong> { <strong><span>authentication-avoid</span></strong> | <strong><span>send-only</span></strong> } | <strong><span>all-send-only</span></strong> ]</p>
</li><li><p><a href="cmdqueryname=area-authentication-mode"><b><span class="cmdname">area-authentication-mode</span></b></a> <strong><span>keychain</span></strong> <i><span class="varname">keychain-name</span></i> [ <strong><span>snp-packet</span></strong> { <strong><span>authentication-avoid</span></strong> | <strong><span>send-only</span></strong> } | <strong><span>all-send-only</span></strong> ]</p>
</li><li><div class="p"><a href="cmdqueryname=area-authentication-mode"><b><span class="cmdname">area-authentication-mode</span></b></a> <strong><span>hmac-sha256</span></strong> <strong><span>key-id</span></strong> <i><span class="varname">key-id</span></i> { <span><strong><span>plain</span></strong> <i><span class="varname">plain</span></i> | </span>[ <strong><span>cipher</span></strong> ] <i><span class="varname">cipher</span></i> } [ <strong><span>snp-packet</span></strong> { <strong><span>authentication-avoid</span></strong> | <strong><span>send-only</span></strong> } | <strong><span>all-send-only</span></strong> ]<div class="notice"><span class="noticetitle"><img src="../../../../public_sys-resources/notice_3.0-en-us.png"> </span><div class="noticebody"><p>After the <a href="cmdqueryname=area-authentication-mode"><b><span class="cmdname">area-authentication-mode</span></b></a> command is run, IS-IS discards the locally stored Level-1 LSPs that fail authentication and newly received Level-1 LSPs and SNPs that fail authentication after they are automatically aged. To prevent packet loss before authentication is configured, you can specify the <strong><span>send-only</span></strong> parameter in the command when deploying authentication on a network running services.</p>
<p>The MD5 algorithm is not recommended if high security is required. To prevent routing information from being tampered with, you are advised to enable authentication and use high-security algorithms such as HMAC-SHA256 to improve security.</p>
</div></div>
</div>
</li></ul>
<div class="p">You can configure area authentication in any of the following ways:<ul><li><p>Do not specify <strong><span>snp-packet</span></strong> or <strong><span>all-send-only</span></strong>. In this case, the device encapsulates authentication information in the LSPs and SNPs to be sent, authenticates received LSPs and SNPs, and discards the LSPs and SNPs that fail to be authenticated.</p>
</li><li><p>Specify <strong><span>snp-packet</span></strong> <strong><span>authentication-avoid</span></strong>. In this case, the device encapsulates authentication information in the LSPs to be sent and authenticates received LSPs; the device neither encapsulates authentication information in the SNPs to be sent nor authenticates received SNPs.</p>
</li><li><p>Specify <strong><span>snp-packet send-only</span></strong>. In this case, the device encapsulates authentication information both in the LSPs and SNPs to be sent, but authenticates only received LSPs (not received SNPs).</p>
</li><li><p>Specify <strong><span>all-send-only</span></strong>. In this case, the device encapsulates authentication information both in the LSPs and SNPs to be sent, but does not authenticate received LSPs or SNPs.</p>
</li></ul>
</div>
</li><li>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a><p>The configuration is committed.</p>
</li></ol>
</li><li>Configure IS-IS routing domain authentication.<ol><li>Run <b><span class="cmdname">system-view</span></b><p>The system view is displayed.</p>
</li><li>Run <a href="cmdqueryname=isis"><b><span class="cmdname">isis</span></b></a> [ <i><span class="varname">process-id</span></i> ]<p>The IS-IS view is displayed.</p>
</li><li>Run one of the following commands based on the encryption type to configure IS-IS routing domain authentication:<ul><li><p><a href="cmdqueryname=domain-authentication-mode"><b><span class="cmdname">domain-authentication-mode</span></b></a><span> { <strong><span>simple</span></strong> { <span><strong><span>plain</span></strong> <i><span class="varname">plain</span></i> | </span><strong><span>cipher</span></strong> <i><span class="varname">cipher</span></i> } | <strong><span>md5</span></strong> { [ <strong><span>cipher</span></strong> ] <i><span class="varname">cipher</span></i><span> | <strong><span>plain</span></strong> <i><span class="varname">plain</span></i></span> } }</span> [ <strong><span>ip</span></strong> | <strong><span>osi</span></strong> ] [ <strong><span>snp-packet</span></strong> { <strong><span>authentication-avoid</span></strong> | <strong><span>send-only</span></strong> } | <strong><span>all-send-only</span></strong> ]</p>
</li><li><p><a href="cmdqueryname=domain-authentication-mode"><b><span class="cmdname">domain-authentication-mode</span></b></a> <strong><span>keychain</span></strong> <i><span class="varname">keychain-name</span></i> [ <strong><span>snp-packet</span></strong> { <strong><span>authentication-avoid</span></strong> | <strong><span>send-only</span></strong> } | <strong><span>all-send-only</span></strong> ]</p>
</li><li><div class="p"><a href="cmdqueryname=domain-authentication-mode"><b><span class="cmdname">domain-authentication-mode</span></b></a> <strong><span>hmac-sha256</span></strong> <strong><span>key-id</span></strong> <i><span class="varname">key-id</span></i> { <span><strong><span>plain</span></strong> <i><span class="varname">plain</span></i> | </span>[ <strong><span>cipher</span></strong> ] <i><span class="varname">cipher</span></i> } [ <strong><span>snp-packet</span></strong> { <strong><span>authentication-avoid</span></strong> | <strong><span>send-only</span></strong> } | <strong><span>all-send-only</span></strong> ]<div class="notice"><span class="noticetitle"><img src="../../../../public_sys-resources/notice_3.0-en-us.png"> </span><div class="noticebody"><p>After the <a href="cmdqueryname=domain-authentication-mode"><b><span class="cmdname">domain-authentication-mode</span></b></a> command is run, IS-IS discards the locally stored Level-2 LSPs that fail authentication and newly received Level-2 LSPs and SNPs that fail authentication after they are automatically aged. To prevent packet loss before authentication is configured, you can specify the <strong><span>send-only</span></strong> parameter in the command when deploying authentication on a network running services.</p>
<p>The MD5 algorithm is not recommended if high security is required. To prevent routing information from being tampered with, you are advised to enable authentication and use high-security algorithms such as HMAC-SHA256 to improve security.</p>
</div></div>
</div>
</li></ul>
<div class="p">You can configure routing domain authentication in any of the following ways:<ul><li><p>Do not specify <strong><span>snp-packet</span></strong> or <strong><span>all-send-only</span></strong>. In this case, the device encapsulates authentication information in the LSPs and SNPs to be sent, authenticates received LSPs and SNPs, and discards the LSPs and SNPs that fail to be authenticated.</p>
</li><li><p>Specify <strong><span>snp-packet</span></strong> <strong><span>authentication-avoid</span></strong>. In this case, the device encapsulates authentication information in the LSPs to be sent and authenticates received LSPs; the device neither encapsulates authentication information in the SNPs to be sent nor authenticates received SNPs.</p>
</li><li><p>Specify <strong><span>snp-packet send-only</span></strong>. In this case, the device encapsulates authentication information both in the LSPs and SNPs to be sent, but authenticates only received LSPs (not received SNPs).</p>
</li><li><p>Specify <strong><span>all-send-only</span></strong>. In this case, the device encapsulates authentication information both in the LSPs and SNPs to be sent, but does not authenticate received LSPs or SNPs.</p>
</li></ul>
</div>
</li><li>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a><p>The configuration is committed.</p>
</li></ol>
</li><li>Configure IS-IS interface authentication.<ol><li>Run <b><span class="cmdname">system-view</span></b><p>The system view is displayed.</p>
</li><li>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i><p>The interface view is displayed.</p>
</li><li>Run one of the following commands based on the encryption type to configure the IS-IS authentication mode and password for the interface.<ul><li><p><a href="cmdqueryname=isis+authentication-mode"><b><span class="cmdname">isis authentication-mode</span></b></a><span> { <strong><span>simple</span></strong> { <span><strong><span>plain</span></strong> <i><span class="varname">plain</span></i> | </span><strong><span>cipher</span></strong> <i><span class="varname">cipher</span></i> } | <strong><span>md5</span></strong> { [ <strong><span>cipher</span></strong> ] <i><span class="varname">cipher</span></i><span> | <strong><span>plain</span></strong> <i><span class="varname">plain</span></i></span> } }</span> [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> ] [ <strong><span>ip</span></strong> | <strong><span>osi</span></strong> ] [ <strong><span>send-only</span></strong> ]</p>
</li><li><p><a href="cmdqueryname=isis+authentication-mode"><b><span class="cmdname">isis authentication-mode</span></b></a> <strong><span>keychain</span></strong> <i><span class="varname">keychain-name</span></i> [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> ] [ <strong><span>send-only</span></strong> ]</p>
</li><li><p><a href="cmdqueryname=isis+authentication-mode"><b><span class="cmdname">isis authentication-mode</span></b></a> <strong><span>hmac-sha256</span></strong> <strong><span>key-id</span></strong> <i><span class="varname">key-id</span></i> { <span><strong><span>plain</span></strong> <i><span class="varname">plain</span></i> | </span>[ <strong><span>cipher</span></strong> ] <i><span class="varname">cipher</span></i> } [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> ] [ <strong><span>send-only</span></strong> ]</p>
</li></ul>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The MD5 algorithm is not recommended if high security is required. To prevent routing information from being tampered with, you are advised to enable authentication and use high-security algorithms such as HMAC-SHA256 to improve security.</p>
</div></div>
<div class="p">When you select parameters, note the following rules:<ul><li><p>If <strong><span>send-only</span></strong> is specified, the device encapsulates authentication information to Hello packets to be sent but does not authenticate received Hello packets. The neighbor relationships can be set up when the authentication is not required or packets are authenticated.</p>
</li><li><p>If <strong><span>send-only</span></strong> is not configured, ensure that passwords of all interfaces with the same level in the same network are consistent.</p>
</li><li><p>The <strong><span>level-1</span></strong> and <strong><span>level-2</span></strong> parameters can be set only on Ethernet interfaces.</p>
</li><li><p>If the IS-IS interface is a Level-1-2 interface, and neither <strong><span>level-1</span></strong> nor <strong><span>level-2</span></strong> is specified, the authentication mode and password are configured for both Level-1 and Level-2 Hello packets.</p>
</li></ul>
</div>
</li><li><p>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></p>
<p>Return to the system view.</p>
</li><li>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a><p>The configuration is committed.</p>
</li></ol>
</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Verifying the Security Hardening Result</h4><p>Run the <a href="cmdqueryname=display+isis+lsdb"><b><span class="cmdname">display isis lsdb</span></b></a> <strong><span>verbose</span></strong> command to check IS-IS LSDB information.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_sec_hardening_control_level2.html">Control Plane
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0039.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0041.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>