
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Example of Disabling FTP Ports">
<meta name="abstract" content="">
<meta name="description" content="">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_hardening_2001.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="l00799643,z00588052">
<meta name="DC.Publisher" content="20240229">
<meta name="OWNER" content="l00799643,z00588052">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="x60031980">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001134623486">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Example of Disabling FTP Ports</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CONCEPT_0000001134623486"></a><a name="EN-US_CONCEPT_0000001134623486"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example of Disabling FTP Ports</h1>
<div><p></p>
<div class="section"><h4 class="sectiontitle">Networking Requirements</h4><p>Files must be transferred in Secure File Transfer Protocol (SFTP) mode to ensure file transfer reliability. File Transfer Protocol (FTP) ports of devices must be disabled to ensure device security and prevent unauthorized users from attacking devices using FTP ports.</p>
</div>
<div class="section"><h4 class="sectiontitle">Configuration Roadmap</h4><p>The configuration roadmap is as follows:</p>
<ol><li>Check whether the FTP port of a device is enabled and whether the FTP port needs to be disabled.</li><li>Disable the FTP port to prevent users from transferring files using FTP.</li><li>View the status of the FTP port of the device and check whether the FTP port is successfully disabled.</li></ol>
</div>
<div class="section"><h4 class="sectiontitle">Data Preparation</h4><p>None</p>
</div>
<div class="section"><h4 class="sectiontitle">Procedure</h4><ol><li>Check the status of the IPv4 FTP port.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>display tcp status</strong>
----------------------------------------------------------------------------
<span>Cid</span>/SocketID         Local Addr:Port       Foreign Addr:Port   VPNID      State
----------------------------------------------------------------------------
0x80932724/131216    0.0.0.0:22            0.0.0.0:0           1          LISTEN 
0x80C8272A/131218    0.0.0.0:23            0.0.0.0:0           1          LISTEN
0x80952725/131219    0.0.0.0:21            0.0.0.0:0           1          LISTEN</pre>
<p>The command output shows that the FTP port is enabled.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The FTP server may listen to another port. You can run the following command to view the port number listened by the FTP server.</p>
</div></div>
<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>display ftp-server</strong></pre>
<pre class="screen">Server state             : Enabled
<span>IPv6 server state        : disabled</span>
Timeout value (mins)     : 30
<span>IPv6 Timeout value (mins): 30</span>
Listen port              : 21
<span>IPv6 listen port         : 21</span>
<span>ACL name                 :</span>
<span>IPv6 ACL name            : </span>
<span>ACL number               :</span>
<span>IPv6 ACL number          : </span>
Current user count       : 0
Max user number          : 15</pre>
</li><li>Disable the FTP port.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>undo ftp server</strong>
Warning: The operation will stop the FTP server. Do you want to continue? [Y/N]:y
Info: Succeeded in closing the FTP server.
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>commit</strong></pre>
</li><li>Check whether the FTP port is successfully disabled.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>display tcp status</strong>
----------------------------------------------------------------------------
<span>Cid</span>/SocketID         Local Addr:Port       Foreign Addr:Port   VPNID      State
----------------------------------------------------------------------------
0x80932724/131216    0.0.0.0:22            0.0.0.0:0           1          LISTEN 
0x80C8272A/131218    0.0.0.0:23            0.0.0.0:0           1          LISTEN</pre>
<p>The command output shows that the FTP port is disabled.</p>
</li></ol>
</div>
<div class="section"><h4 class="sectiontitle">Verifying the Security Hardening Result</h4><ul><li>Run the <strong><a href="cmdqueryname=display+tcp+status"><b><span class="cmdname">display tcp status</span></b></a></strong> command to check the status of the FTP port.</li><li>Run the <a href="cmdqueryname=display+ftp-server"><b><span class="cmdname">display ftp-server</span></b></a> command to check the status of the FTP server.</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_hardening_2001.html">Disabling Unused Services and Ports
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
</div>
</div>
</body>
</html>