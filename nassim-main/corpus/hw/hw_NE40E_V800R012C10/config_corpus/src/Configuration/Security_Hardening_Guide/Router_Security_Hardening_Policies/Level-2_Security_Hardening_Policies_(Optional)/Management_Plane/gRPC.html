
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="gRPC">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_sec_hardening_management_level2.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0060.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0104.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00588052,c00511010">
<meta name="DC.Publisher" content="20240229">
<meta name="OWNER" content="z00588052,c00511010">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="x60031980">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001180503097">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>gRPC</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CONCEPT_0000001180503097"></a><a name="EN-US_CONCEPT_0000001180503097"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">gRPC</h1>
<div><div class="section"><h4 class="sectiontitle">Security Policy</h4><ul><li><p>Supports authentication</p>
<p>A gRPC server supports AAA authentication. Only authenticated users can log in to a device and perform related operations. If a user repeatedly logs in and cracks the password, the server rejects the login based on the password authentication timeout period.</p>
</li><li><p>Supports the SSL service</p>
<p>A gRPC server supports SSL certificate authentication.</p>
</li><li><p>Supports function disabling</p>
<p>If a gRPC server is enabled, the socket listening is enabled for devices. In this case, the devices are easily scanned by attackers. If a gRPC server is not used, the gRPC server and the port listened can be disabled. The gRPC server is disabled by default.</p>
</li><li><p>Supports port number changing</p>
<p>The port of a gRPC server can be changed to a private port to reduce the probability of being scanned and attacked.</p>
</li><li><p>Supports ACLs</p>
<p>ACLs can be configured for a gRPC server in the system view. ACLs are used to limit the client IP addresses that can access a device.</p>
</li><li><p>Supports source interface configuration</p>
<p>Source interfaces supported by a gRPC server can be configured. Users must access a device using the IP addresses of the configured source interfaces. In this way, the access range is controlled and the device security is enhanced.</p>
</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Attack Methods</h4><ul><li><p>DoS Attack</p>
<p>A gRPC server supports a limited number of users. When the number of admitted users reaches the upper limit, other users cannot access the device. This situation may appear when users normally use the gRPC server or when the gRPC server is attacked.</p>
</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Configuration and Maintenance Methods</h4><ul><li><p>Disable the gRPC service.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-grpc-server] <strong>undo server enable</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-grpc-server] <strong>commit</strong></pre>
</li><li><p>Change the port number of the gRPC server.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-grpc-server] <strong>server-port 5000</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-grpc-server] <strong>commit</strong></pre>
</li><li><p>Configure an ACL.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>acl 2000</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-acl-basic-2000] <strong>display this</strong></pre>
<pre class="screen">#
acl number 2000
 rule 15 permit source 10.1.1.1 0
 rule 20 deny
#
return</pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-acl-basic-2000] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>grpc</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-grpc] <strong>grpc server</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-grpc-server] <strong>acl 2000</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-grpc-server] <strong>commit</strong></pre>
</li><li><p>Configure a source interface, SSL policy, and idle timeout period.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ssl policy huawei2018</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ssl-policy-huawei2018] <strong>certificate load asn1-cert servercert.der key-pair rsa key-file serverkey.der</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ssl-policy-huawei2018] <strong>crl load pem-crl server.pem</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ssl-policy-huawei2018] <strong>trusted-ca load asn1-ca servercert.der</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ssl-policy-huawei2018] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-ssl-policy-huawei2018] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>grpc</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-grpc] <strong>grpc server</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-grpc-server] <strong>source-ip 10.1.1.1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-grpc-server] <strong>ssl-policy huawei2018</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-grpc-server] <strong>ssl-verify peer</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-grpc-server] <strong>idle-timeout 60</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-grpc-server] <strong>display this</strong></pre>
<pre class="screen"> #
 grpc server
  source-ip 10.1.1.1
  server-port 5000
  idle-timeout 60
  ssl-policy huawei2018
  ssl-verify peer
  server enable
#
return</pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-grpc-server] <strong>commit</strong></pre>
</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Verifying the Security Hardening Result</h4><p>Run the <a href="cmdqueryname=display+current-configuration"><b><span class="cmdname">display current-configuration</span></b></a> <strong><span>configuration</span></strong> <strong><span>grpc</span></strong> command to check the gRPC configuration.</p>
</div>
<div class="section"><h4 class="sectiontitle">Configuration and Maintenance Suggestions</h4><ul><li><p>Disable the gRPC server when not using it.</p>
</li><li><p>Change the port number of the gRPC server.</p>
</li><li><p>Configure ACLs.</p>
</li><li><p>Use the TLS certificate by default.</p>
</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_sec_hardening_management_level2.html">Management Plane
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0060.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0104.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>