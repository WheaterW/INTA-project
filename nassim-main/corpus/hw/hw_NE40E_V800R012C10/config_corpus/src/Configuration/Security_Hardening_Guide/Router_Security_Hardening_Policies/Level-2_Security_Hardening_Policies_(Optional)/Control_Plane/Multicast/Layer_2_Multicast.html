
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Layer 2 Multicast">
<meta name="abstract" content="This section describes security policies, attack methods, configuration and maintenance methods, and configuration and maintenance suggestions for Layer 2 multicast.">
<meta name="description" content="This section describes security policies, attack methods, configuration and maintenance methods, and configuration and maintenance suggestions for Layer 2 multicast.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0044.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0046.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00588052,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="OWNER" content="z00588052,w00447999">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="x60031980">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001134463710">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Layer 2 Multicast</title>
</head>
<body><a name="EN-US_CONCEPT_0000001134463710"></a><a name="EN-US_CONCEPT_0000001134463710"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Layer 2 Multicast</h1>
<div><p>This section describes security policies, attack methods, configuration and maintenance methods, and configuration and maintenance suggestions for Layer 2 multicast.</p>
<div class="section"><h4 class="sectiontitle">Security Policy Overview</h4><ul><li>In Layer 2 multicast, group policies can be set to restrict the access of multicast groups (multicast source groups) to a VLAN or an interface.</li><li>In Layer 2 multicast, IP policies can be set based on the source IP address to restrict the access of source IP addresses to a VLAN or VSI. Here the source IP address refers to the one carried in the IP header, that is, the host IP address.</li><li>In Layer 2 multicast, you can configure ports not to be learned through protocol messages.</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Attack Methods</h4><p>A network can be attacked by forged IGMP/MLD messages. You can configure a multicast group policy or source policy to discard forged IGMP/MLD messages. The possible attack methods are as follows:</p>
<ul><li>Malicious users send join requests with changed multicast group addresses over invalid multicast group channels. Consequently, many invalid entries are generated on the device, consuming a large number of system resources. As a result, program requests of authorized users cannot succeed. In this case, you can set a multicast group policy to specify the range of multicast groups that users can join.</li><li>Attacks are launched through packets with changed user source IP addresses. In this case, a source IP address-based policy can be set to limit the range of valid source IP addresses.</li><li>Attacks are conducted through Query messages. A multicast port is configured on the device to receive traffic from all multicast groups. As a result, a large amount of traffic is sent over this port and this consumes interface bandwidth. To resolve this problem, configure static ports and configure ports not to be learned through protocol messages.</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Configuration and Maintenance Methods</h4><ul><li>To set a multicast group policy for a VLAN or VSI, run the <a href="cmdqueryname=igmp-snooping+group-policy"><b><span class="cmdname">igmp-snooping group-policy</span></b></a> command.</li><li>To set a source IP address-based policy for a VLAN or VSI, run the <a href="cmdqueryname=igmp-snooping+ip-policy"><b><span class="cmdname">igmp-snooping ip-policy</span></b></a> command.</li><li>To prevent <span class="keyword">Router</span> ports from being learned through protocol messages for a VLAN or VSI, run the <a href="cmdqueryname=undo+igmp-snooping+router-learning"><b><span class="cmdname">undo igmp-snooping router-learning</span></b></a> command.</li><li>To set an IPv6 multicast group policy for a VLAN or VSI, run the <a href="cmdqueryname=mld-snooping+group-policy"><b><span class="cmdname">mld-snooping group-policy</span></b></a> command.</li><li>To set an IPv6 source IP address-based policy for a VLAN or VSI, run the <a href="cmdqueryname=mld-snooping+ip-policy"><b><span class="cmdname">mld-snooping ip-policy</span></b></a> command.</li><li>To disable IPv6 <span class="keyword">Router</span> port learning for a VLAN or VSI, run the <a href="cmdqueryname=undo+mld-snooping+router-learning"><b><span class="cmdname">undo mld-snooping router-learning</span></b></a> command.</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Configuration and Maintenance Suggestions</h4><p>Based on service deployment, you are recommended to configure group policies for VLANs or VSIs based on the IPTV multicast group address range.</p>
<ul><li>Configure an IGMP snooping group policy in the VLAN or VSI view using the <a href="cmdqueryname=igmp-snooping+group-policy"><b><span class="cmdname">igmp-snooping group-policy</span></b></a> <i><span class="varname">acl-number</span></i> command.</li><li>Specify the IPTV group range in the ACL 2000 view using the <a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a> [ <i><span class="varname">rule-id</span></i> ] { <strong><span>deny</span></strong> | <strong><span>permit</span></strong> } <strong><span>source</span></strong> <i><span class="varname">source-ip-address</span></i> <i><span class="varname">source-wildcard</span></i> command.</li><li>For IPv6 Layer 2 multicast, run the <a href="cmdqueryname=mld-snooping+group-policy"><b><span class="cmdname">mld-snooping group-policy</span></b></a> <i><span class="varname">acl6-number</span></i> command in the VLAN or VSI view.</li><li>For IPv6 Layer 2 multicast, configure the IPTV group range in the ACL6 2000 view, run the <a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a> [ <i><span class="varname">rule-id</span></i> ] { <strong><span>deny</span></strong> | <strong><span>permit</span></strong> } <strong><span>source</span></strong> <i><span class="varname">source-ipv6-address</span></i> <i><span class="varname">source-wildcard</span></i> command.</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Verifying the Security Hardening Result</h4><ul><li>Run the <a href="cmdqueryname=display+igmp-snooping"><b><span class="cmdname">display igmp-snooping</span></b></a> [ <strong>vlan</strong> [<i><span class="varname"> vlan-id</span></i> ] | <strong>vsi</strong> [<i><span class="varname"> vsi-name</span></i> ] ] <strong><span>configuration</span></strong> command to check the IGMP snooping configuration.</li><li>Run the <a href="cmdqueryname=display+igmp-snooping"><b><span class="cmdname">display igmp-snooping</span></b></a> [ <strong>vlan</strong> [<i><span class="varname"> vlan-id</span></i> ] | <strong>vsi</strong> [<i><span class="varname"> vsi-name</span></i> ] ] command to check IGMP snooping running parameters.</li><li>Run the <a href="cmdqueryname=display+igmp-snooping+router-port"><b><span class="cmdname">display igmp-snooping router-port</span></b></a> [ <strong>vlan</strong> [<i><span class="varname"> vlan-id</span></i> ] | <strong>vsi</strong> [<i><span class="varname"> vsi-name</span></i> ] ] command to check port information of the IGMP snooping device.</li><li>Run the <a href="cmdqueryname=display+mld-snooping"><b><span class="cmdname">display mld-snooping</span></b></a> [ <strong>vlan</strong> [ <i><span class="varname"> vlan-id</span></i> ] | <strong>vsi</strong> [ <i><span class="varname"> vsi-name</span></i> ]] <strong><span>configuration</span></strong> command to check the MLD snooping configuration.</li><li>Run the <a href="cmdqueryname=display+mld-snooping"><b><span class="cmdname">display mld-snooping</span></b></a> [ <strong>vlan</strong> [ <i><span class="varname"> vlan-id</span></i> ] | <strong>vsi</strong> [ <i><span class="varname"> vsi-name</span></i> ]] command to check MLD snooping running parameters.</li><li>Run the <a href="cmdqueryname=display+mld-snooping+router-port"><b><span class="cmdname">display mld-snooping router-port</span></b></a> [ <strong>vlan</strong> [ <i><span class="varname"> vlan-id</span></i> ] | <strong>vsi</strong> [ <i><span class="varname"> vsi-name</span></i> ]] command to check port information of the MLD snooping device.</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0044.html">Multicast
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0046.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>