
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="AAA User Management">
<meta name="abstract" content="">
<meta name="description" content="">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0005.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0006.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0008.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00588052,w00437000">
<meta name="DC.Publisher" content="20240229">
<meta name="OWNER" content="z00588052,w00437000">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001134463666">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>AAA User Management</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CONCEPT_0000001134463666"></a><a name="EN-US_CONCEPT_0000001134463666"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">AAA User Management</h1>
<div><p></p>
<p>AAA is short for authentication, authorization, and accounting. AAA provides the following functions, specifically:</p>
<p>Authentication: determines which users can access the network.</p>
<p>Authorization: authorizes users to access specific services.</p>
<p>Accounting: records network resource usage.</p>
<p>AAA is closely related to services and therefore its configuration is flexible.</p>
<div class="section"><h4 class="sectiontitle">Security Policy</h4><ul><li><p>Remote authentication and authorization are supported. This is achieved by configuring user information (including the username, password, and attributes of a local user) on an authentication server. Remote authentication and authorization are implemented using Remote Authentication Dial-In User Service (RADIUS) or Huawei Terminal Access Controller Access Control System (HWTACACS). HWTACACS is an enhancement of the Terminal Access Controller Access Control System Plus (TACACS+) protocol (version v1.78).</p>
</li><li><p>Remote command authentication is supported. You can set the command authentication mode to remote authentication for users of specified privilege levels. Information about users' command execution permissions is stored on a remote server. When a user runs a command, the server determines whether the user's privilege level permits the user to execute the command. Currently, only HWTACACS can be used for remote command authentication.</p>
</li><li><p>The maximum number of consecutive authentication failures for local users and the interval for re-authentication can be configured to prevent unauthorized logins. Once a pre-defined number of consecutive authentication failures for local users is reached, a user account is locked for a pre-defined period of time to prevent unauthorized logins. This reduces the probability of successful probes and enhances device security.</p>
</li><li><p>Local user passwords and authorization level upgrading passwords are securely stored in the system using advanced encryption algorithms.</p>
</li><li><p>The none authentication mode (none) of management users is shielded.</p>
</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Attack Methods</h4><ul><li><p>Unauthorized users may attempt to obtain system administrators' login permissions by traversing key information (such as usernames and passwords).</p>
</li><li><p>They may attack the remote server to obtain key information (such as usernames and passwords).</p>
</li><li><p>Unauthorized users may attack the network between a user and a device to obtain key information such as entered passwords. Although user information is encrypted when being transmitted over a network to a server, an unauthorized user may still initiate a collision attack or traverse plaintext and ciphertext dictionaries to decrypt user information.</p>
</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Configuration and Maintenance Methods</h4><ul><li><p>Set user authentication and authorization modes to remote authentication and remote authorization. HWTACACS authentication and authorization are used as an example.</p>
<p>#	 Create an HWTACACS template, configure the authentication and authorization servers, and configure the shared key.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>hwtacacs-server template 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-hwtacacs-1] <strong>hwtacacs-server authentication 10.138.90.141</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-hwtacacs-1] <strong>hwtacacs-server authorization 10.138.90.141</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-hwtacacs-1] <strong>hwtacacs-server shared-key YsHsjx_202206</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-hwtacacs-1] <strong>commit</strong></pre>
<p>#	 Set the authentication mode to HWTACACS authentication in the authentication scheme.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>aaa</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-aaa] <strong>authentication-scheme 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-aaa-authen-1] <strong>authentication-mode hwtacacs</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-aaa-authen-1] <strong>commit</strong></pre>
<p>#	 Set the authorization mode to HWTACACS authorization in the authorization scheme.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-aaa] <strong>authorization-scheme 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-aaa-author-1] <strong>authorization-mode hwtacacs</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-aaa-author-1] <strong>commit</strong></pre>
<p>#	 Bind the authentication scheme, authorization scheme, and HWTACACS template to the domain.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-aaa] <strong>domain dom1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-aaa-domain-dom1] <strong>authentication-scheme 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-aaa-domain-dom1] <strong>authorization-scheme 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-aaa-domain-dom1] <strong>hwtacacs-server 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-aaa-domain-dom1] <strong>commit</strong></pre>
<p>#	 The authentication and authorization modes of users in domain <strong>dom1</strong> are remote HWTACACS authentication.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Note: RADIUS does not support separation of authentication and authorization. You only need to set the authentication mode to remote RADIUS authentication. The system automatically completes remote RADIUS authentication and authorization.</p>
</div></div>
</li><li><p>Set the command authentication mode of users to remote authentication.</p>
<p>#	 Set the authentication mode of level-3 users to remote authentication in the authorization scheme.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>aaa</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-aaa] <strong>authorization-scheme 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-aaa-author-1] <strong>authorization-cmd 3 hwtacacs</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-aaa-author-1] <strong>commit</strong></pre>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>After remote authentication is configured, the system sends an authentication request to the remote server each time a user runs a command. The remote server determines whether the user has the permission to run the command. As such, the status of the network between the device and the server affects the response time of command execution.</p>
</div></div>
</li><li><p>Configure the maximum number of consecutive authentication failures of local users.</p>
<p>#	 Set the maximum number of consecutive authentication failures of a local user within 1 minute to 3:</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>aaa</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-aaa] <strong>user-block failed-times 3 period 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-aaa] <strong>commit</strong></pre>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If <strong>failed-times</strong> is set to 0, the number of consecutive authentication failures is not limited.</p>
</div></div>
<p>#	 Configure the interval at which locked users are automatically unlocked. If a user is locked because the number of consecutive authentication failures exceeds the upper limit, the system automatically unlocks the user after the specified period of time.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-aaa] <strong>user-block reactive 30</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-aaa] <strong>commit</strong></pre>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If <em>reactive-time</em> is set to 0, the locked user cannot be automatically unlocked. Instead, the user can only be manually unlocked by the administrator. The value of <em>reactive-time</em> is in minutes.</p>
</div></div>
<p># Manually unlock a locked user.</p>
<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>activate aaa local-user root</strong></pre>
</li><li><p>Enable password complexity check.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>user-security-policy enable</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-aaa] <strong>commit</strong></pre>
</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Configuration and Maintenance Suggestions</h4><p>If the system displays a message indicating that the password needs to be changed to reduce risks, change the password as prompted.</p>
</div>
<div class="section"><h4 class="sectiontitle">Verifying the Security Hardening Result</h4><ul><li>Run the <a href="cmdqueryname=display+authentication-scheme"><b><span class="cmdname">display authentication-scheme</span></b></a> [ <i><span class="varname">authentication-scheme-name</span></i> ] command to check the authentication scheme configuration.</li><li>Run the <a href="cmdqueryname=display+accounting-scheme"><b><span class="cmdname">display accounting-scheme</span></b></a> command to check the accounting scheme configuration.</li><li>Run the <a href="cmdqueryname=display+authorization-scheme"><b><span class="cmdname">display authorization-scheme</span></b></a> [<i><span class="varname">authorization-scheme-name </span></i>] command to check the authorization scheme configuration.</li><li>Run the <a href="cmdqueryname=display+domain"><b><span class="cmdname">display domain</span></b></a> <i><span class="varname">domain-name</span></i> command to check the domain configuration.</li><li>Run the <a href="cmdqueryname=display+aaa+configuration"><b><span class="cmdname">display aaa configuration</span></b></a> command to view brief AAA information.</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0005.html">Access Authentication Security
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0006.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sec_maintenance_0008.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>