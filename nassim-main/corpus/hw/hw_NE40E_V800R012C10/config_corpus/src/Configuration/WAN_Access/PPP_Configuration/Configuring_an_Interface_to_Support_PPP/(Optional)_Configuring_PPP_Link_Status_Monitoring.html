
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring PPP Link Status Monitoring">
<meta name="abstract" content="The PPP link status can be effectively monitored using the PPP link status monitoring function.">
<meta name="description" content="The PPP link status can be effectively monitored using the PPP link status monitoring function.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ppp_cfg_0027.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ppp_cfg_0029.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ppp_cfg_0031.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,pppne,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="PPP">
<meta name="featuretype" content="WAN Access">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="PPP">
<meta name="featuretype" content="WAN Access">
<meta name="featurename" content="PPP">
<meta name="featuretype" content="WAN Access">
<meta name="featurename" content="PPP">
<meta name="featuretype" content="WAN Access">
<meta name="OWNER" content="f00453093">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="f00453093">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172364165">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring PPP Link Status Monitoring</title>
</head>
<body><a name="EN-US_TASK_0172364165"></a><a name="EN-US_TASK_0172364165"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring PPP Link Status Monitoring</h1>
<div class="taskbody"><p>The PPP link status can be effectively monitored using the PPP link status monitoring function.</p>
<div class="context"><a name="EN-US_TASK_0172364165__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>The parameters for PPP link status monitoring are as follows:</p>
<ul><li><p><strong>Keepalive time</strong></p>
<ul><li><p><strong>Polling interval</strong></p>
<p>The polling interval determines how often an interface sends a Keepalive message. When PPP is specified as the link layer protocol on the interface, the interface sends a Keepalive message to its peer device at the set polling interval. If the interface fails to receive a Keepalive message from the peer after five polling intervals, the interface considers the peer device to be faulty and sets the PPP link to Down. In situations with unfavorable network delay or significant congestion, you can increase the polling interval to reduce network flapping.</p>
</li><li><p><strong>Keepalive count</strong></p>
<p>If a device does not receive a Keepalive message from its peer within a specified polling interval, the Keepalive count increases by 1. If the device still fails to receive a Keepalive message from its peer after a specified Keepalive count is reached, the device considers the link connecting to the peer device to be faulty and sets the PPP link to Down.</p>
</li></ul>
<p><span>The Keepalive time equals the polling interval multiplied by the Keepalive count. </span>In situations with unfavorable network delay or significant congestion, a short Keepalive time may cause network flapping. Conversely, a long Keepalive time would lead to slow link detection. Therefore, make sure that the Keepalive time is appropriate and fits the network situations.</p>
</li><li><p><strong>PPP magic number check</strong></p>
<p>PPP magic number check is used to trigger LCP renegotiation. On a network where two devices are connected over intermediate transmission devices, if the two devices are incorrectly connected, the transmission devices will adjust the connection relationship between the two devices. However, the two devices are not aware of this adjustment because the status of their interfaces does not alternate between Down and Up. Consequently, LCP renegotiation between the two devices is not triggered. After the PPP magic number check function is enabled, when the local device finds that the magic number carried in the Echo Reply packet from the remote device is inconsistent with the one previously learned, the local device will record an error. After error statistics on an interface reach a specific threshold, the interface sets the PPP link to Down, triggering LCP renegotiation.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This function of PPP magic number check is supported only by the <span class="keyword">NE40E</span><span class="keyword">-M2E</span>, <span class="keyword">NE40E</span><span class="keyword">-M2F</span>, <span class="keyword">NE40E</span><span class="keyword">-M2H</span>.</p>
</div></div>
</li></ul>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172364165__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure a polling interval.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type interface-number</span></i></span></span><p><p>The interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=timer+hold"><b><span class="cmdname">timer hold</span></b></a> <i><span class="varname">interval</span></i></span></span><p><p>A polling interval is configured.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The polling intervals on two interconnected devices must be set to the same value (other than 0s). If both polling intervals are set to 0s, the link detection function is disabled.</p>
</div></div>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure a Keepalive count.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type interface-number</span></i></span></span><p><p>The interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=keepalive+count"><b><span class="cmdname">keepalive count</span></b></a> <i><span class="varname">number</span></i></span></span><p><p>A Keepalive count is configured.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure the PPP magic number check function.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type interface-number</span></i></span></span><p><p>The interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=ppp+magic-number+check"><b><span class="cmdname">ppp magic-number check</span></b></a></span></span><p><p>The PPP magic number check function is enabled.</p>
</p><p><div class="notice"><span class="noticetitle"><img src="../../../../public_sys-resources/notice_3.0-en-us.png"> </span><div class="noticebody"><p>After configuring the PPP magic number check function, to make the configuration take effect, you must run the <a href="cmdqueryname=shutdown"><b><span class="cmdname">shutdown</span></b></a>, <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a>, <a href="cmdqueryname=undo+shutdown"><b><span class="cmdname">undo shutdown</span></b></a>, and <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> commands in sequence, or run the <a href="cmdqueryname=restart"><b><span class="cmdname">restart</span></b></a> and <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> commands.</p>
</div></div>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ppp_cfg_0027.html">Configuring an Interface to Support PPP
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ppp_cfg_0029.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ppp_cfg_0031.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>