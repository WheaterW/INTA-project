
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring CPOS Interfaces">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cpos_cfg_0004.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cpos_cfg_0011.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00556928,w00606909,l00455378,cposvrp">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="CPOS">
<meta name="featuretype" content="WAN Access">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="CPOS">
<meta name="featuretype" content="WAN Access">
<meta name="featurename" content="CPOS">
<meta name="featuretype" content="WAN Access">
<meta name="featurename" content="CPOS">
<meta name="featuretype" content="WAN Access">
<meta name="OWNER" content="f00453093">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="f00453093">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172364095">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/thickbox.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/jquery.min.js"></script>
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/imageResize.js"></script>
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/jquery-migrate-1.2.1.min.js"></script>
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/jquery-ui.min.js"></script>
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/jquery.mousewheel.min.js"></script>
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/thickbox.js"></script>
<title>Example for Configuring CPOS Interfaces</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0172364095"></a><a name="EN-US_TASK_0172364095"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring CPOS Interfaces</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0172364095__1.3.1"></a><a name="1.3.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>CPOS interfaces are used to improve the convergence capability of low-speed access for <span class="keyword">Router</span>s. STM-1 CPOS interfaces are often used to converge multiple E1 interfaces.</p>
<p>At present, some governmental agencies and enterprises use low-end and mid-range devices to access the transmission network through E1 leased lines. Users requiring bandwidth between E1 and E3, such as the date center, lease several E1 interfaces simultaneously. Bandwidth of these users converges on one or multiple CPOS interfaces through the transmission network. CPOS interfaces are then connected to <span class="keyword">Device</span>A that identifies each low-end device through timeslots.</p>
<p>In application, there may be more than one level of transmission networks between CPOS interfaces and low-end devices. Other transmission devices are needed to relay communication between low-end devices and transmission networks.</p>
<div class="fignone"><span class="figcap"><b>Figure 1 </b>Networking diagram of using STM-1 CPOS interface</span><br><span><img class="imgResize" src="images/fig_dc_vrp_cpos_cfg_001001.png" width="524.0366250000001" title="Click to enlarge"></span></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172364095__1.3.2"></a><a name="1.3.2"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><p>The configuration roadmap is as follows:</p>
<ol><li><p>Create the channel.</p>
</li><li><p>Create the channel-set.</p>
</li><li><p>Bundle the channel into the channel-set.</p>
</li></ol>
</div></div>
<div class="context"><a name="EN-US_TASK_0172364095__1.3.3"></a><a name="1.3.3"></a>
<div class="p"><h4 class="sectiontitle">Data Preparation</h4><p>To complete the configuration, you need the following data:</p>
<ul><li><p>Channel number and timeslot number of each E1 channel</p>
</li><li><p>Number of the channel-set of each interface</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172364095__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure <span class="keyword">Device</span>A.</span><p><p># Create a channel on the CPOS interface.</p>
<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>sysname <span class="keyword">Device</span>A</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A] <strong>controller cpos <span>0/3/0</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Cpos<span>0/3/0</span>] <strong>e1 1 channel-set 1 timeslot-list 1-10</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Cpos<span>0/3/0</span>] <strong>e1 2 channel-set 2 timeslot-list 11-15</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Cpos<span>0/3/0</span>] <strong>e1 3 channel-set 3 timeslot-list 16-20</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Cpos<span>0/3/0</span>] <strong>e1 4 channel-set 4 timeslot-list 21-31</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Cpos<span>0/3/0</span>] <strong>undo shutdown</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Cpos<span>0/3/0</span>] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A]<strong> commit</strong></pre>
<p># Create a channel-set and configure the endpoint authenticator.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>interface mp-group <span>0/3/1</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Mp-group<span>0/3/1</span>] <strong>discriminator</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Mp-group<span>0/3/1</span>] <strong>undo shutdown</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Mp-group<span>0/3/1</span>] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A]<strong> commit</strong></pre>
<p># Bundle the channel into the channel-set.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>interface Serial </strong><strong><span>0/3/0</span></strong><strong>/1:1</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-Serial<span>0/3/0</span>/1:1] <strong>link-protocol ppp</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Serial<span>0/3/0</span>/1:1] <strong>ppp mp mp-group <span>0/3/1</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Serial<span>0/3/0</span>/1:1] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A] <strong>interface Serial <span>0/3/0</span>/2:2</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Serial<span>0/3/0</span>/2:2] <strong>link-protocol ppp</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Serial<span>0/3/0</span>/2:2] <strong>ppp mp mp-group <span>0/3/1</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Serial<span>0/3/0</span>/2:2] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A] <strong>interface Serial <span>0/3/0</span>/3:3</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Serial<span>0/3/0</span>/3:3] <strong>link-protocol ppp</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Serial<span>0/3/0</span>/3:3] <strong>ppp mp mp-group <span>0/3/1</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Serial<span>0/3/0</span>/3:3] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A] <strong>interface Serial <span>0/3/0</span>/4:4</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Serial<span>0/3/0</span>/4:4] <strong>link-protocol ppp</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Serial<span>0/3/0</span>/4:4] <strong>ppp mp mp-group <span>0/3/1</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Serial<span>0/3/0</span>/4:4] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A]<strong> commit</strong></pre>
</p></li><li><span>Configure <span class="keyword">Device</span>B.</span><p><p># Create the channel on the E1 interface.</p>
<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>sysname <span class="keyword">Device</span>B</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B] <strong>controller E1 <span>0/2/9</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-E1<span>0/2/9</span>] <strong>channel-set 0 timeslot-list 1-31</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-E1<span>0/2/9</span>]  <strong>undo shutdown</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-E1<span>0/2/9</span>] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B]<strong> commit</strong></pre>
<p># Create a channel-set.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B] <strong>interface mp-group <span>0/2/10</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-Mp-group<span>0/2/10</span>] <strong>discriminator</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-Mp-group<span>0/2/10</span>] <strong>undo shutdown</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-Mp-group<span>0/2/10</span>] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B]<strong> commit</strong></pre>
<p># Bundle the channel into the channel-set.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B] <strong>interface Serial<span>0/2/9</span>:0</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B-Serial<span>0/2/9</span>:0] <strong>link-protocol ppp</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-Serial<span>0/2/9</span>:0] <strong>ppp mp mp-group <span>0/2/10</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B]<strong> commit</strong></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0172364095__1.3.5"></a><a name="1.3.5"></a><h4 class="sectiontitle">Configuration Files</h4><ul><li><p>Configuration file of <span class="keyword">Device</span>A</p>
<pre class="screen">#</pre>
<pre class="screen"> sysname <span class="keyword">Device</span>A</pre>
<pre class="screen">#</pre>
<pre class="screen">controller Cpos<span>0/3/0</span></pre>
<pre class="screen"> e1 1 channel-set 1 timeslot-list 1-10</pre>
<pre class="screen"> e1 2 channel-set 2 timeslot-list 11-15</pre>
<pre class="screen"> e1 3 channel-set 3 timeslot-list 16-20</pre>
<pre class="screen"> e1 4 channel-set 4 timeslot-list 21-31</pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen">#</pre>
<pre class="screen">interface Serial<span>0/3/0</span>/1:1</pre>
<pre class="screen"> link-protocol ppp</pre>
<pre class="screen"> ppp mp Mp-group <span>0/3/1</span></pre>
<pre class="screen">#</pre>
<pre class="screen">interface Serial<span>0/3/0</span>/2:2</pre>
<pre class="screen"> link-protocol ppp</pre>
<pre class="screen"> ppp mp Mp-group <span>0/3/1</span></pre>
<pre class="screen">#</pre>
<pre class="screen">interface Serial<span>0/3/0</span>/3:3</pre>
<pre class="screen"> link-protocol ppp</pre>
<pre class="screen"> ppp mp Mp-group <span>0/3/1</span></pre>
<pre class="screen">#</pre>
<pre class="screen">interface Serial<span>0/3/0</span>/4:4</pre>
<pre class="screen"> link-protocol ppp</pre>
<pre class="screen"> ppp mp Mp-group <span>0/3/1</span></pre>
<pre class="screen">#</pre>
<pre class="screen">interface Mp-group<span>0/3/1</span></pre>
<pre class="screen"> discriminator</pre>
<pre class="screen">#</pre>
<pre class="screen">return</pre>
</li><li><p>Configuration file of <span class="keyword">Device</span>B</p>
<pre class="screen">#</pre>
<pre class="screen"> sysname <span class="keyword">Device</span>B</pre>
<pre class="screen">#</pre>
<pre class="screen">controller E1 <span>0/2/9</span></pre>
<pre class="screen"> channel-set 0 timeslot-list 1-31</pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen">#</pre>
<pre class="screen">interface Mp-group <span>0/2/10</span></pre>
<pre class="screen"> discriminator</pre>
<pre class="screen">#</pre>
<pre class="screen">interface Serial<span>0/2/9</span>:0</pre>
<pre class="screen"> link-protocol ppp</pre>
<pre class="screen"> ppp mp Mp-group <span>0/2/10</span></pre>
<pre class="screen">#</pre>
<pre class="screen">return</pre>
</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_cpos_cfg_0004.html">Configuration Examples for CPOS Interfaces
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_cpos_cfg_0011.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>

<script language="JavaScript">
<!--
image_size('.imgResize');
var msg_imageMax = "view original image";
var msg_imageClose = "close";
//--></script></body>
</html>