
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Leaf Lists">
<meta name="abstract" content="Configuring a leaf list on an ingress specifies all leaf nodes on a P2MP TE tunnel. A leaf list helps you configure and manage these leaf nodes uniformly. The steps in this section must be performed if P2MP TE tunnels are manually established. The steps in this section are optional if the establishment of P2MP TE tunnels is automatically triggered by a service.">
<meta name="description" content="Configuring a leaf list on an ingress specifies all leaf nodes on a P2MP TE tunnel. A leaf list helps you configure and manage these leaf nodes uniformly. The steps in this section must be performed if P2MP TE tunnels are manually established. The steps in this section are optional if the establishment of P2MP TE tunnels is automatically triggered by a service.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0133.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0216.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0136.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,te-p2pvrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="l00468467">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00845984">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172368141">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Leaf Lists</title>
</head>
<body><a name="EN-US_TASK_0172368141"></a><a name="EN-US_TASK_0172368141"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Leaf Lists</h1>
<div class="taskbody"><p>Configuring a leaf list on an ingress specifies all leaf nodes on a P2MP TE tunnel. A leaf list helps you configure and manage these leaf nodes uniformly. <span>The steps in this section must be performed if P2MP TE tunnels are manually established. The steps in this section are optional if the establishment of P2MP TE tunnels is automatically triggered by a service.</span></p>
<div class="context"><a name="EN-US_TASK_0172368141__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>For a P2MP TE tunnel, the path that originates from the ingress and is destined for each leaf node can be calculated either by constraint shortest path first (CSPF) or by planning an explicit path for a specific leaf node or each leaf node. After each leaf node is configured on an ingress, the ingress sends signaling packets to each leaf node and then establishes a P2MP TE tunnel. The <span class="keyword">NE40E</span> uses leaf lists to configure and manage leaf nodes. All leaf nodes and their explicit paths are integrated into a table, which helps you configure and manage the leaf nodes uniformly.</p>
<p>An MPLS network that transmits multicast services selects dynamically leaf nodes on an automatic P2MP TE tunnel and uses constrained shortest path first (CSPF) to calculate a path destined for each leaf node. To control the leaf nodes of an automatic P2MP TE tunnel, configure a leaf list.</p>
<p>Explicit path planning requires you to configure an explicit path for a specific leaf node or each leaf node, and use the explicit path in the leaf list view.</p>
<div class="p"><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><div class="p">The configuration must prevent a remerge or crossover problem:<ul><li>Remerge event: occurs when two sub-LSPs have different inbound interfaces but the same outbound interface on a transit node. <a href="#EN-US_TASK_0172368141__fig_dc_vrp_te-p2p_cfg_013501">Figure 1</a> shows that a remerge event occurs on the outbound interface shared by two sub-LSPs.</li><li>Crossover event: occurs when two sub-LSPs have different inbound and outbound interfaces on a transit node. <a href="#EN-US_TASK_0172368141__fig_dc_vrp_te-p2p_cfg_013501">Figure 1</a> shows that a crossover event occurs on the transit node shared by the two sub-LSPs.</li></ul>
</div>
</div></div>
<div class="fignone" id="EN-US_TASK_0172368141__fig_dc_vrp_te-p2p_cfg_013501"><a name="EN-US_TASK_0172368141__fig_dc_vrp_te-p2p_cfg_013501"></a><a name="fig_dc_vrp_te-p2p_cfg_013501"></a><span class="figcap"><b>Figure 1 </b>Remerge and crossover events</span><br><span><img class="vsd" src="images/fig_dc_vrp_te-p2p_cfg_013501.png" width="NaN" height="NaN"></span></div>
</div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172368141__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>(Optional) Configure an explicit path to each leaf node.</span><ol type="a"><li class="substepexpand"><span>Run <span><a href="cmdqueryname=explicit-path"><b><span class="cmdname">explicit-path</span></b></a> <i><span class="varname">path-name</span></i></span></span><p><p>An explicit path is created and the explicit path view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=next+hop"><b><span class="cmdname">next hop</span></b></a> <i><span class="varname">ip-address</span></i> [ <strong><span>include</span></strong> <span>[ </span>[ <strong><span>strict</span></strong> | <strong><span>loose</span></strong> ] <span>| [ <strong><span>incoming</span></strong> | <strong><span>outgoing</span></strong> ] ] <sup>*</sup> </span>| <strong><span>exclude</span></strong> ]</span></span><p><p>A next-hop address is specified for the explicit path.</p>
</p><p><p>You can configure either the include or include parameter:</p>
</p></li><li class="substepexpand"><span>(Optional) Run <span><a href="cmdqueryname=add+hop"><b><span class="cmdname">add hop</span></b></a> <i><span class="varname">ip-address1</span></i> [ <strong><span>include</span></strong> <span>[ </span>[ <strong><span>strict</span></strong> | <strong><span>loose</span></strong> ] <span>| [ <strong><span>incoming</span></strong> | <strong><span>outgoing</span></strong> ] ] <sup>*</sup> </span>| <strong><span>exclude</span></strong> ] { <strong><span>after</span></strong> | <strong><span>before</span></strong> } <i><span class="varname">ip-address2</span></i></span></span><p><p>A node is added to the explicit path.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <span><a href="cmdqueryname=modify+hop"><b><span class="cmdname">modify hop</span></b></a> <i><span class="varname">ip-address1</span></i> <i><span class="varname">ip-address2</span></i> [ <strong><span>include</span></strong> <span>[ </span>[ <strong><span>strict</span></strong> | <strong><span>loose</span></strong> ] <span>| [ <strong><span>incoming</span></strong> | <strong><span>outgoing</span></strong> ] ] <sup>*</sup> </span>| <strong><span>exclude</span></strong> ]</span></span><p><p>The address of a node on the explicit path is changed.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <span><a href="cmdqueryname=delete+hop"><b><span class="cmdname">delete hop</span></b></a> <i><span class="varname">ip-address</span></i></span></span><p><p>A node is excluded from the explicit path.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span></span><p><p>Return to the system view.</p>
</p></li></ol>
<p><p>For a P2MP TE tunnel, an explicit tunnel can be configured for a specific leaf node or each leaf node.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=mpls+te+leaf-list"><b><span class="cmdname">mpls te leaf-list</span></b></a> <i><span class="varname">leaf-list-name</span></i></span></span><p><p>A leaf list is specified for the P2MP TE tunnel, and the leaf list view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=destination"><b><span class="cmdname">destination</span></b></a> <i><span class="varname">leaf-address</span></i></span><p><p>A leaf node is created in the leaf list, and the leaf node view is displayed.</p>
</p><p><p>Generally, the <i><span class="varname">leaf-address</span></i> value is the MPLS LSR ID of a leaf node.</p>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=path"><b><span class="cmdname">path</span></b></a> <strong><span>explicit-path</span></strong> <i><span class="varname">path-name</span></i></span></span><p><p>An explicit path is specified for the leaf node.</p>
</p><p><p>The <strong><span>explicit-path</span></strong> <i><span class="varname">path-name</span></i> parameter specifies the name of the explicit path established in Step 2.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Repeat Step 3 and Step 4 on a P2MP TE tunnel to configure all leaf nodes.</p>
</div></div>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0133.html">Configuring P2MP TE Tunnels
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0216.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0136.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>