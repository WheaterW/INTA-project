
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an Associated Bidirectional CR-LSP">
<meta name="abstract" content="Associated bidirectional CR-LSPs provide bandwidth protection for bidirectional services. Bidirectional switching can be performed for associated bidirectional CR-LSPs if faults occur.">
<meta name="description" content="Associated bidirectional CR-LSPs provide bandwidth protection for bidirectional services. Bidirectional switching can be performed for associated bidirectional CR-LSPs if faults occur.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0152.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0057.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,te-p2pvrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="l00468467">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00845984">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172368098">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring an Associated Bidirectional CR-LSP</title>
</head>
<body><a name="EN-US_TASK_0172368098"></a><a name="EN-US_TASK_0172368098"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an Associated Bidirectional CR-LSP</h1>
<div class="taskbody"><p>Associated bidirectional CR-LSPs provide bandwidth protection for bidirectional services. Bidirectional switching can be performed for associated bidirectional CR-LSPs if faults occur.</p>
<div class="context"><a name="EN-US_TASK_0172368098__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><div class="p">MPLS networks face the following challenges:<ul><li>MPLS TE tunnels that transmit services are unidirectional. The ingress forwards services to the egress along an MPLS TE tunnel. The egress forwards services to the ingress over IP routes. As a result, the services may be congested because IP links do not reserve bandwidth for these services.</li><li>Two MPLS TE tunnels in opposite directions are established between the ingress and egress. If a fault occurs on an MPLS TE tunnel, a traffic switchover can only be performed for the faulty tunnel, but not for the reverse tunnel. As a result, traffic is interrupted.</li></ul>
</div>
<p>A forward CR-LSP and a reverse CR-LSP between two nodes are established. Each CR-LSP is bound to the ingress of its reverse CR-LSP. The two CR-LSPs then form an associated bidirectional CR-LSP. The associated bidirectional CR-LSP is primarily used to prevent traffic congestion. If a fault occurs on one end, the other end is notified of the fault so that both ends trigger traffic switchovers, which ensures that traffic transmission is uninterrupted.</p>
<p>The configurations in this section must be performed on tunnel interfaces of both the forward and reverse CR-LSPs. Each CR-LSP is bound to the ingress of its reverse CR-LSP.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172368098__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring an associated bidirectional CR-LSP, complete either of the following tasks:</p>
<ul><li><p>Create RSVP-TE tunnels in opposite directions for an associated bidirectional dynamic CR-LSP to be established.</p>
</li><li><p>Create static CR-LSPs in opposite directions for an associated bidirectional static CR-LSP to be established.</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172368098__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=interface+tunnel"><b><span class="cmdname">interface tunnel</span></b></a> <i><span class="varname">interface-number</span></i></span></span><p><p>A tunnel interface is created, and the tunnel interface view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=mpls+te+reverse-lsp"><b><span class="cmdname">mpls te reverse-lsp</span></b></a> <strong><span>protocol</span></strong> { <strong><span>rsvp-te</span></strong> <strong><span>ingress-lsr-id</span></strong> <i><span class="varname">ingress-lsr-id</span></i> <strong><span>tunnel-id</span></strong> <i><span class="varname">tunnel-id</span></i> | <strong><span>static</span></strong> <strong><span>lsp-name</span></strong> <i><span class="varname">lsp-name</span></i> }</span></span><p><p>A reverse CR-LSP is configured on the tunnel interface.</p>
<p>Either of the following associated bidirectional CR-LSPs can be established:</p>
<ul><li>Associated bidirectional static CR-LSP: Two static unidirectional CR-LSPs in opposite directions are bound to each other to form an associated bidirectional static CR-LSP. For this type of CR-LSP, you need to specify <strong><span>static</span></strong> <strong><span>lsp-name</span></strong> <i><span class="varname">lsp-name</span></i>.</li><li>Associated bidirectional dynamic CR-LSP: Two RSVP-TE tunnels in opposite directions are bound to each other to form an associated bidirectional dynamic CR-LSP. For this type of CR-LSP, you need to specify <strong><span>rsvp-te</span></strong> <strong><span>ingress-lsr-id</span></strong> <i><span class="varname">ingress-lsr-id</span></i> <strong><span>tunnel-id</span></strong> <i><span class="varname">tunnel-id</span></i> .</li></ul>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0172368098__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Checking the Configurations</h4><p>Run the <a href="cmdqueryname=display+mpls+te+reverse-lsp"><b><span class="cmdname">display mpls te reverse-lsp</span></b></a> command to view brief information about reverse CR-LSPs.</p>
<p>Run the <a href="cmdqueryname=display+mpls+te+reverse-lsp"><b><span class="cmdname">display mpls te reverse-lsp</span></b></a> <strong><span>verbose</span></strong> command to view detailed information about reverse CR-LSPs.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0000.html">MPLS TE Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0152.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0057.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>