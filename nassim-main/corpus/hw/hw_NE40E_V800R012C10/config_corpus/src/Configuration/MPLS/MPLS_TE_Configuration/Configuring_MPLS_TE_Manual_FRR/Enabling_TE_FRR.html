
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Enabling TE FRR">
<meta name="abstract" content="TE FRR must be enabled on the ingress of a primary LSP before TE FRR is manually configured.">
<meta name="description" content="TE FRR must be enabled on the ingress of a primary LSP before TE FRR is manually configured.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0048.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0050.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,te-p2pvrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="l00468467">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00845984">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172368197">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Enabling TE FRR</title>
</head>
<body><a name="EN-US_TASK_0172368197"></a><a name="EN-US_TASK_0172368197"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Enabling TE FRR</h1>
<div class="taskbody"><p>TE FRR must be enabled on the ingress of a primary LSP before TE FRR is manually configured.</p>
<div class="steps"><a name="EN-US_TASK_0172368197__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=interface+tunnel"><b><span class="cmdname">interface tunnel</span></b></a> <i><span class="varname">tunnel-number</span></i></span></span><p><p>The view of the primary tunnel interface is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=mpls+te+fast-reroute"><b><span class="cmdname">mpls te fast-reroute</span></b></a> [ <strong><span>bandwidth</span></strong> ]</span></span><p><p>TE FRR is enabled.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>After TE FRR is enabled using the <a href="cmdqueryname=mpls+te+fast-reroute"><b><span class="cmdname">mpls te fast-reroute</span></b></a> command, run the <a href="cmdqueryname=mpls+te+bypass-attributes"><b><span class="cmdname">mpls te bypass-attributes</span></b></a> command to set bypass LSP attributes.</p>
</div></div>
</p></li><li id="EN-US_TASK_0172368197__step2147793810"><span id="EN-US_TASK_0172368197__step1">(Optional) Run <a href="cmdqueryname=mpls+te+frr-switch+degrade"><b><span class="cmdname" id="EN-US_TASK_0172368197__cmdname164173433385">mpls te frr-switch degrade</span></b></a></span><p><p id="EN-US_TASK_0172368197__p135601239121810">The MPLS TE tunnel is enabled to mask the FRR function.</p>
</p><p><p id="EN-US_TASK_0172368197__p104468181416">After TE FRR takes effect, traffic is switched to the bypass LSP when the primary LSP fails. If the bypass LSP is not the optimal path, traffic congestion easily occurs. To prevent traffic congestion, you can configure LDP to protect TE tunnels. To have the LDP protection function take effect, you need to run the <a href="cmdqueryname=mpls+te+frr-switch+degrade"><b><span class="cmdname" id="EN-US_TASK_0172368197__cmdname2015611814197">mpls te frr-switch degrade</span></b></a> command to enable the MPLS TE tunnel to mask the FRR function. After the command is run:</p>
<ol type="a" id="EN-US_TASK_0172368197__ol16206617185217"><li id="EN-US_TASK_0172368197__li72065179529"><p id="EN-US_TASK_0172368197__p1207101713528"><a name="EN-US_TASK_0172368197__li72065179529"></a><a name="li72065179529"></a>If the primary LSP is in the FRR-in-use state (that is, traffic has been switched to the bypass LSP), traffic cannot be switched to the primary LSP.</p>
</li><li id="EN-US_TASK_0172368197__li32071417105212"><p id="EN-US_TASK_0172368197__p1020719177527"><a name="EN-US_TASK_0172368197__li32071417105212"></a><a name="li32071417105212"></a>If HSB is configured for the tunnel and an HSB LSP is available, traffic is switched to the HSB LSP.</p>
</li><li id="EN-US_TASK_0172368197__li42076176525"><p id="EN-US_TASK_0172368197__p3207151711526"><a name="EN-US_TASK_0172368197__li42076176525"></a><a name="li42076176525"></a>If no HSB LSP is available for the tunnel, the tunnel is unavailable, and traffic is switched to another tunnel like an LDP tunnel.</p>
</li><li id="EN-US_TASK_0172368197__li22073174521"><p id="EN-US_TASK_0172368197__p1420841716526"><a name="EN-US_TASK_0172368197__li22073174521"></a><a name="li22073174521"></a>If no tunnels are available, traffic is interrupted.</p>
</li></ol>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0048.html">Configuring MPLS TE Manual FRR
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0050.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>