
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an MPLS TE Tunnel Interface">
<meta name="abstract" content="An MPLS TE tunnel is established and managed on a tunnel interface. Therefore, the tunnel interface must be configured on the ingress of an MPLS TE tunnel.">
<meta name="description" content="An MPLS TE tunnel is established and managed on a tunnel interface. Therefore, the tunnel interface must be configured on the ingress of an MPLS TE tunnel.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0003.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0246.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0252.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,te-p2pvrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="l00468467">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00845984">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172368104">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring an MPLS TE Tunnel Interface</title>
</head>
<body><a name="EN-US_TASK_0172368104"></a><a name="EN-US_TASK_0172368104"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an MPLS TE Tunnel Interface</h1>
<div class="taskbody"><p>An MPLS TE tunnel is established and managed on a tunnel interface. Therefore, the tunnel interface must be configured on the ingress of an MPLS TE tunnel.</p>
<div class="steps"><a name="EN-US_TASK_0172368104__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=interface+tunnel"><b><span class="cmdname">interface tunnel</span></b></a> <i><span class="varname">tunnel-number</span></i></span></span><p><p>A tunnel interface is created, and the tunnel interface view is displayed.</p>
</p></li><li><span>Run either of the following commands to assign an IP address to the tunnel interface:</span><p><ul><li><p>To assign an IP address to the tunnel interface, run <span><a href="cmdqueryname=ip+address"><b><span class="cmdname">ip address</span></b></a> <i><span class="varname">ip-address</span></i> { <i><span class="varname">mask</span></i> | <i><span class="varname">mask-length</span></i> } [ <strong><span>sub</span></strong> ]</span></p>
<p>The primary IP address must be configured before the secondary IP address can be configured for the tunnel interface.</p>
</li><li><p>To configure the tunnel interface to borrow the IP address of another interface, run <span><a href="cmdqueryname=ip+address+unnumbered"><b><span class="cmdname">ip address unnumbered</span></b></a> <strong><span>interface</span></strong> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></p>
</li></ul>
<div class="p"><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>An MPLS TE tunnel is unidirectional; therefore, you do not need to consider the peer IP address when performing IP address configuration for the tunnel. Generally, you are advised to specify the ingress LSR ID as the IP address of the tunnel interface, instead of configuring a unique IP address for the interface.</p>
</div></div>
</div>
</p></li><li><span>Run <span><a href="cmdqueryname=tunnel-protocol"><b><span class="cmdname">tunnel-protocol</span></b></a> <strong><span>mpls</span></strong> <strong><span>te</span></strong></span></span><p><p>MPLS TE is configured as the tunneling protocol.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172368104__en-us_task_0172368081_p59301840152610">Changing, deleting, or initially configuring the tunnel mode of a tunnel interface will delete all tunnel-related configurations on the interface, such as the MTU. Exercise caution when performing this operation.</p>
</div></div>
</p></li><li><span>Run <span><a href="cmdqueryname=destination"><b><span class="cmdname">destination</span></b></a> <i><span class="varname">ip-address</span></i></span></span><p><p>The destination address of a tunnel is configured, which is usually the LSR ID of the egress.</p>
<p>Various types of tunnels require specific destination addresses. If a tunneling protocol is changed to MPLS TE from another protocol, a configured destination address is deleted automatically and a new destination address needs to be configured.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=mpls+te+tunnel-id"><b><span class="cmdname">mpls te tunnel-id</span></b></a> <i><span class="varname">tunnel-id</span></i></span></span><p><p>The tunnel ID is configured.</p>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=mpls+te+signalled+tunnel-name"><b><span class="cmdname">mpls te signalled tunnel-name</span></b></a> <i><span class="varname">signalled-tunnel-name</span></i></span></span><p><p>The tunnel name carried in RSVP signaling messages is configured.</p>
<p> Perform this step to fulfill the following purposes:</p>
<ul><li><p>Facilitate TE tunnel management.</p>
</li><li><p>Allow a Huawei device to be connected to a non-Huawei device that uses a tunnel name that differs from the tunnel interface name.</p>
</li></ul>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=mpls+te+bandwidth"><b><span class="cmdname">mpls te bandwidth</span></b></a> <strong><span>ct0</span></strong> <i><span class="varname">ct0-bw-value</span></i></span></span><p><p>The bandwidth is set for an MPLS TE tunnel.</p>
<p>The bandwidth used by the tunnel cannot be higher than the maximum reservable link bandwidth.</p>
<p>The bandwidth used by a tunnel does not need to be set if only a path needs to be configured for an MPLS TE tunnel.</p>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=mpls+te+path+explicit-path"><b><span class="cmdname">mpls te path explicit-path</span></b></a> <i><span class="varname">path-name</span></i> [ <strong><span>secondary</span></strong> ]</span></span><p><p>An explicit path is configured for an MPLS TE tunnel.</p>
<p>An explicit path does not need to be configured if only the bandwidth needs to be set for an MPLS TE tunnel.</p>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=mpls+te+resv-style"><b><span class="cmdname">mpls te resv-style</span></b></a> { <strong><span>ff</span></strong> | <strong><span>se</span></strong> }</span></span><p><p>A resource reservation style is configured.</p>
<p>The SE style is used in the make-before-break scenario, and the fixed filter (FF) style is used in a few scenarios.</p>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=mpls+te+cspf+disable"><b><span class="cmdname">mpls te cspf disable</span></b></a></span></span><p><p>Constraint shortest path first (CSPF) calculation is disabled when a TE tunnel is being established.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The <a href="cmdqueryname=mpls+te+cspf+disable"><b><span class="cmdname">mpls te cspf disable</span></b></a> command is only applicable in the inter-AS VPN Option C scenario. In other scenarios, running this command is not recommended.</p>
</div></div>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0003.html">Configuring an RSVP-TE Tunnel
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0246.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0252.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>