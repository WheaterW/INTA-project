
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring LDP MD5 Authentication">
<meta name="abstract" content="LDP authentication can be configured to improve the security of a connection over which an LDP session is established. LDP authentication is configured on LSRs at both ends of an LDP session.">
<meta name="description" content="LDP authentication can be configured to improve the security of a connection over which an LDP session is established. LDP authentication is configured on LSRs at both ends of an LDP session.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0055.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0057.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS LDP">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS LDP">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS LDP">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS LDP">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="b00896120">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172368530">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring LDP MD5 Authentication</title>
</head>
<body><a name="EN-US_TASK_0172368530"></a><a name="EN-US_TASK_0172368530"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring LDP MD5 Authentication</h1>
<div class="taskbody"><p>LDP authentication can be configured to improve the security of a connection over which an LDP session is established. LDP authentication is configured on LSRs at both ends of an LDP session.</p>
<div class="context"><a name="EN-US_TASK_0172368530__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>MD5 authentication can be configured for a TCP connection over which an LDP session is established to improve security. Two peers of an LDP session can be configured with different authentication modes but must be configured with the same passwords</p>
<p>LDP MD5 authentication generates a unique digest for an information segment to prevent LDP packets from being modified. LDP MD5 authentication is stricter than TCP checksum verification.</p>
<div class="p">You can configure either LDP MD5 authentication or LDP keychain authentication to match your scenario:<ul><li><p>The MD5 algorithm is easy to configure and generates a single password, which can only be changed manually. MD5 authentication applies to networks requiring short-period encryption.</p>
</li><li><p>Keychain authentication involves a set of passwords, which can be automatically switched based on the configuration. However, keychain authentication is complex to configure and applies to networks requiring high security.</p>
</li></ul>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>LDP authentication configurations are prioritized in descending order: for a single peer, for a specified peer group, and for all peers. Both keychain and MD5 authentication can be configured. However, configurations with a higher priority override those with a lower priority, and those with the same priority are mutually exclusive. For example, if MD5 authentication is configured for Peer1 and keychain authentication is configured for all LDP peers, MD5 authentication takes effect on Peer1 and keychain authentication takes effect on other peers.</p>
<p>As MD5 is insecure, you are advised to use a more secure authentication mode.</p>
</div></div>
</div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172368530__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure LDP MD5 authentication<span> for a single LDP peer</span>.</span><ol id="EN-US_TASK_0172368530__substeps_01"><li class="substepexpand" id="EN-US_TASK_0172368530__substep159084684214047"><span id="EN-US_TASK_0172368530__cmd297744164214333">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172368530__cmdname1954457181214047">system-view</span></b></a></span><p><p id="EN-US_TASK_0172368530__p1987459643214333">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368530__substep1942147277214047"><span id="EN-US_TASK_0172368530__cmd1007784189214333">Run <a href="cmdqueryname=mpls+ldp"><b><span class="cmdname" id="EN-US_TASK_0172368530__cmdname2121265975214047">mpls ldp</span></b></a></span><p><p id="EN-US_TASK_0172368530__p855841276214333">The MPLS-LDP view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368530__substep598018957214047"><span id="EN-US_TASK_0172368530__cmd9116124616583">Run <a href="cmdqueryname=md5-password+plain+cipher"><b><span class="cmdname" id="EN-US_TASK_0172368530__cmdname1466135879214047">md5-password</span></b></a> { <strong><span id="EN-US_TASK_0172368530__cmdparmname501422936214047">plain</span></strong> | <strong><span id="EN-US_TASK_0172368530__cmdparmname241075495214047">cipher</span></strong> } <i><span class="varname" id="EN-US_TASK_0172368530__varname156341366214047">peer-lsr-id</span></i> <i><span class="varname" id="EN-US_TASK_0172368530__varname491433622214047">password</span></i></span><p><p id="EN-US_TASK_0172368530__p173931134165819">MD5 authentication is enabled, and an authentication password is set.</p>
</p><p><p id="EN-US_TASK_0172368530__p545118428289">For security purposes, you are advised not to use weak security algorithms in this feature. If you need to use such an algorithm, run the <a href="cmdqueryname=undo+crypto+weak-algorithm+disable"><b><span class="cmdname" id="EN-US_TASK_0172368530__cmdname5189911192312">undo crypto weak-algorithm disable</span></b></a> command to enable the weak security algorithm function.</p>
</p><p><div class="note" id="EN-US_TASK_0172368530__note353038209214047"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul id="EN-US_TASK_0172368530__en-us_task_0000001143239100_ul389508518213918"><li id="EN-US_TASK_0172368530__en-us_task_0000001143239100_li1977065046213918"><p id="EN-US_TASK_0172368530__en-us_task_0000001143239100_password_tips_1"><a name="EN-US_TASK_0172368530__en-us_task_0000001143239100_li1977065046213918"></a><a name="en-us_task_0000001143239100_li1977065046213918"></a>The new password is at least eight characters long and contains at least two of the following types: upper-case letters, lower-case letters, digits, and special characters, except the question mark (?) and space.</p>
</li><li id="EN-US_TASK_0172368530__en-us_task_0000001143239100_li363226100213918"><p id="EN-US_TASK_0172368530__en-us_task_0000001143239100_password_tips_2"><a name="EN-US_TASK_0172368530__en-us_task_0000001143239100_li363226100213918"></a><a name="en-us_task_0000001143239100_li363226100213918"></a>For security purposes, you are advised to configure a password in ciphertext mode. To further improve device security, periodically change the password.</p>
</li></ul>
</div></div>
<p id="EN-US_TASK_0172368530__p15862002214047">A password can be set either in non-ciphertext or ciphertext. These two modes differ in how passwords are recorded in the configuration file. In non-ciphertext mode, a user-defined password is directly recorded in the configuration file; however, in ciphertext mode, a password is encrypted using a special algorithm and then recorded in the configuration file.</p>
<div class="notice" id="EN-US_TASK_0172368530__note665440793214047"><span class="noticetitle"><img src="../../../../public_sys-resources/notice_3.0-en-us.png"> </span><div class="noticebody"><ul id="EN-US_TASK_0172368530__ul2116058022214047"><li id="EN-US_TASK_0172368530__li1710435101214047"><p id="EN-US_TASK_0172368530__p1066643765214047"><a name="EN-US_TASK_0172368530__li1710435101214047"></a><a name="li1710435101214047"></a>If you configure a password in non-ciphertext, the password will be saved in the same way in the configuration file. The non-ciphertext mode has high security risks, and therefore the ciphertext mode is recommended. In addition, change the password periodically.</p>
</li><li id="EN-US_TASK_0172368530__li1546506710214047"><p id="EN-US_TASK_0172368530__p1143695329214047"><a name="EN-US_TASK_0172368530__li1546506710214047"></a><a name="li1546506710214047"></a>Configuring LDP MD5 authentication causes an LDP session to be reestablished and deletes the LSP associated with the original LDP session.</p>
</li></ul>
</div></div>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368530__substep1873748170214047"><span id="EN-US_TASK_0172368530__cmd1385293582214047">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172368530__cmdname1514413827214047">commit</span></b></a></span><p><p id="EN-US_TASK_0172368530__p98732312612">The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure LDP MD5 authentication for LDP peers in a specified LDP peer group.</span><ol id="EN-US_TASK_0172368530__substeps_02"><li class="substepexpand" id="EN-US_TASK_0172368530__substep1782168710214047"><span id="EN-US_TASK_0172368530__cmd1421671914214333">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172368530__cmdname698913016214047">system-view</span></b></a></span><p><p id="EN-US_TASK_0172368530__p1239192393214333">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368530__substep2129049266214047"><span id="EN-US_TASK_0172368530__cmd1805572261214333">Run <a href="cmdqueryname=mpls+ldp"><b><span class="cmdname" id="EN-US_TASK_0172368530__cmdname1299289886214047">mpls ldp</span></b></a></span><p><p id="EN-US_TASK_0172368530__p142307246214333">The MPLS-LDP view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368530__substep1332950369214047"><span id="EN-US_TASK_0172368530__cmd15529113675311">Run <a href="cmdqueryname=md5-password+plain+cipher+peer-group"><b><span class="cmdname" id="EN-US_TASK_0172368530__cmdname82105666214047">md5-password</span></b></a> { <strong><span id="EN-US_TASK_0172368530__cmdparmname455197352214047">plain</span></strong> | <strong><span id="EN-US_TASK_0172368530__cmdparmname1761550669214047">cipher</span></strong> } <strong><span id="EN-US_TASK_0172368530__cmdparmname1745091017214047">peer-group</span></strong> <i><span class="varname" id="EN-US_TASK_0172368530__varname343475421214047">ip-prefix-name</span></i> <i><span class="varname" id="EN-US_TASK_0172368530__varname323796901214047">password</span></i></span><p><p id="EN-US_TASK_0172368530__p9728184115317">MD5 authentication is enabled for a specified peer group, and an authentication password is set.</p>
</p><p><p id="EN-US_TASK_0172368530__p919964070214047">An IP prefix list can be specified using <i><span class="varname" id="EN-US_TASK_0172368530__varname62652416518">ip-prefix-name</span></i> to define the range of peer IP addresses in a peer group. Ensure that the IP prefix list specified by <i><span class="varname" id="EN-US_TASK_0172368530__varname11522105005113">ip-prefix-name</span></i> has been configured before this step is performed.</p>
<p id="EN-US_TASK_0172368530__p5468189501">For security purposes, you are advised not to use weak security algorithms in this feature. If you need to use such an algorithm, run the <a href="cmdqueryname=undo+crypto+weak-algorithm+disable"><b><span class="cmdname" id="EN-US_TASK_0172368530__cmdname846810810501">undo crypto weak-algorithm disable</span></b></a> command to enable the weak security algorithm function.</p>
<div class="note" id="EN-US_TASK_0172368530__note1953300351214047"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul id="EN-US_TASK_0172368530__en-us_task_0000001143239100_ul389508518213918_1"><li id="EN-US_TASK_0172368530__en-us_task_0000001143239100_li1977065046213918_1"><p id="EN-US_TASK_0172368530__en-us_task_0000001143239100_password_tips_1_1"><a name="EN-US_TASK_0172368530__en-us_task_0000001143239100_li1977065046213918_1"></a><a name="en-us_task_0000001143239100_li1977065046213918_1"></a>The new password is at least eight characters long and contains at least two of the following types: upper-case letters, lower-case letters, digits, and special characters, except the question mark (?) and space.</p>
</li><li id="EN-US_TASK_0172368530__en-us_task_0000001143239100_li363226100213918_1"><p id="EN-US_TASK_0172368530__en-us_task_0000001143239100_password_tips_2_1"><a name="EN-US_TASK_0172368530__en-us_task_0000001143239100_li363226100213918_1"></a><a name="en-us_task_0000001143239100_li363226100213918_1"></a>For security purposes, you are advised to configure a password in ciphertext mode. To further improve device security, periodically change the password.</p>
</li></ul>
</div></div>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368530__substep131053396214047"><span id="EN-US_TASK_0172368530__cmd1443688397214047">(Optional) Run <a href="cmdqueryname=authentication+exclude+peer"><b><span class="cmdname" id="EN-US_TASK_0172368530__cmdname1093784887214047">authentication exclude</span></b></a> <strong><span id="EN-US_TASK_0172368530__cmdparmname2048040144214047">peer</span></strong> <i><span class="varname" id="EN-US_TASK_0172368530__varname1880083808214047">peer-id</span></i></span><p><p id="EN-US_TASK_0172368530__p1589911311263">The device is disabled from authenticating a specified LDP peer.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368530__substep957801853214047"><span id="EN-US_TASK_0172368530__cmd238325459214047">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172368530__cmdname1578539750214047">commit</span></b></a></span><p><p id="EN-US_TASK_0172368530__p1354044212263">The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure LDP MD5 authentication for all LDP peers.</span><ol id="EN-US_TASK_0172368530__substeps_03"><li class="substepexpand" id="EN-US_TASK_0172368530__substep236343420214047"><span id="EN-US_TASK_0172368530__cmd1944093085214333">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172368530__cmdname38173798214047">system-view</span></b></a></span><p><p id="EN-US_TASK_0172368530__p148308129214333">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368530__substep1049516285214047"><span id="EN-US_TASK_0172368530__cmd371724306214333">Run <a href="cmdqueryname=mpls+ldp"><b><span class="cmdname" id="EN-US_TASK_0172368530__cmdname1452470575214047">mpls ldp</span></b></a></span><p><p id="EN-US_TASK_0172368530__p672948795214333">The MPLS-LDP view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368530__substep1801047810214047"><span id="EN-US_TASK_0172368530__cmd45291836175312">Run <a href="cmdqueryname=md5-password+plain+cipher+all"><b><span class="cmdname" id="EN-US_TASK_0172368530__cmdname1640052560214047">md5-password</span></b></a> { <strong><span id="EN-US_TASK_0172368530__cmdparmname33477259214047">plain</span></strong> | <strong><span id="EN-US_TASK_0172368530__cmdparmname156554942214047">cipher</span></strong> } <strong><span id="EN-US_TASK_0172368530__cmdparmname839955457214047">all</span></strong> <i><span class="varname" id="EN-US_TASK_0172368530__varname1537515350214047">password</span></i></span><p><p id="EN-US_TASK_0172368530__p1639411230536">MD5 authentication is enabled for all peers, and an authentication password is set.</p>
</p><p><p id="EN-US_TASK_0172368530__p1584426162417">For security purposes, you are advised not to use weak security algorithms in this feature. If you need to use such an algorithm, run the <a href="cmdqueryname=undo+crypto+weak-algorithm+disable"><b><span class="cmdname" id="EN-US_TASK_0172368530__cmdname38492618243">undo crypto weak-algorithm disable</span></b></a> command to enable the weak security algorithm function.</p>
</p><p><div class="note" id="EN-US_TASK_0172368530__note1070100665214047"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul id="EN-US_TASK_0172368530__en-us_task_0000001143239100_ul389508518213918_2"><li id="EN-US_TASK_0172368530__en-us_task_0000001143239100_li1977065046213918_2"><p id="EN-US_TASK_0172368530__en-us_task_0000001143239100_password_tips_1_2"><a name="EN-US_TASK_0172368530__en-us_task_0000001143239100_li1977065046213918_2"></a><a name="en-us_task_0000001143239100_li1977065046213918_2"></a>The new password is at least eight characters long and contains at least two of the following types: upper-case letters, lower-case letters, digits, and special characters, except the question mark (?) and space.</p>
</li><li id="EN-US_TASK_0172368530__en-us_task_0000001143239100_li363226100213918_2"><p id="EN-US_TASK_0172368530__en-us_task_0000001143239100_password_tips_2_2"><a name="EN-US_TASK_0172368530__en-us_task_0000001143239100_li363226100213918_2"></a><a name="en-us_task_0000001143239100_li363226100213918_2"></a>For security purposes, you are advised to configure a password in ciphertext mode. To further improve device security, periodically change the password.</p>
</li></ul>
</div></div>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368530__substep1628746766214047"><span id="EN-US_TASK_0172368530__cmd372847853214047">(Optional) Run <a href="cmdqueryname=authentication+exclude+peer"><b><span class="cmdname" id="EN-US_TASK_0172368530__cmdname1927470490214047">authentication exclude</span></b></a> <strong><span id="EN-US_TASK_0172368530__cmdparmname1326862650214047">peer</span></strong> <i><span class="varname" id="EN-US_TASK_0172368530__varname347474890214047">peer-id</span></i></span><p><p id="EN-US_TASK_0172368530__p495618162712">The device is disabled from authenticating a specified LDP peer.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368530__substep1923011849214047"><span id="EN-US_TASK_0172368530__cmd431258793214047">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172368530__cmdname1607416388214047">commit</span></b></a></span><p><p id="EN-US_TASK_0172368530__p97591912274">The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0055.html">Configuring LDP Security Features
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0057.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>