
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring BFD for P2MP TE">
<meta name="abstract" content="BFD for P2MP TE rapidly monitors P2MP TE tunnels, which helps speed up responses to faults and improve network reliability.">
<meta name="description" content="BFD for P2MP TE rapidly monitors P2MP TE tunnels, which helps speed up responses to faults and improve network reliability.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0133.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0138.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00845984">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172368274">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring BFD for P2MP TE</title>
</head>
<body><a name="EN-US_TASK_0172368274"></a><a name="EN-US_TASK_0172368274"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring BFD for P2MP TE</h1>
<div class="taskbody"><p>BFD for P2MP TE rapidly monitors P2MP TE tunnels, which helps speed up responses to faults and improve network reliability.</p>
<div class="context"><a name="EN-US_TASK_0172368274__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>If P2MP TE tunnels are established to transmit NG MVPN and multicast VPLS services, BFD for P2MP TE can be configured to rapidly detect faults in P2MP TE tunnels, which improves network reliability. To configure BFD for P2MP TE, run the <a href="cmdqueryname=bfd+enable"><b><span class="cmdname">bfd enable</span></b></a> command in the P2MP tunnel template view so that BFD sessions for P2MP TE can be automatically established while P2MP TE tunnels are being established.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172368274__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Before configuring BFD for P2MP TE, <a href="dc_vrp_te-p2p_cfg_0133.html">configure an automatic P2MP TE tunnel.</a></p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172368274__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure the ingress.</span><ol type="a"><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=bfd"><b><span class="cmdname">bfd</span></b></a></span></span><p><p>BFD is enabled.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span></span><p><p>Return to the system view.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=mpls+te+p2mp-template"><b><span class="cmdname">mpls te p2mp-template</span></b></a> <i><span class="varname">template-name</span></i></span><p><p>A P2MP tunnel template is created, and the MPLS TE P2MP template view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=bfd+enable"><b><span class="cmdname">bfd enable</span></b></a></span></span><p><p>BFD for P2MP TE is enabled.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <span><a href="cmdqueryname=bfd"><b><span class="cmdname">bfd</span></b></a> { <strong><span>min-tx-interval</span></strong> <i><span class="varname">tx-interval</span></i> | <strong><span>min-rx-interval</span></strong> <i><span class="varname">rx-interval</span></i> | <strong><span>detect-multiplier</span></strong> <i><span class="varname">multiplier</span></i> } <sup>*</sup></span></span><p><p>BFD for P2MP TE parameters are set.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure each leaf node.</span><ol type="a"><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=bfd"><b><span class="cmdname">bfd</span></b></a></span></span><p><p>BFD is enabled, and the BFD view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=mpls-passive"><b><span class="cmdname">mpls-passive</span></b></a></span></span><p><p>The egress is enabled to create a BFD session passively.</p>
</p><p><p>The egress has to receive an LSP ping request carrying a BFD TLV before creating a BFD session.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ol></div>
<div class="example"><a name="EN-US_TASK_0172368274__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><ul><li><p>Run the <a href="cmdqueryname=display+bfd+multicast+session"><b><span class="cmdname">display bfd multicast session</span></b></a> { <a href="cmdqueryname=all"><b><span class="cmdname">all</span></b></a> | <strong><span>p2mp-te</span></strong> [ <strong><span>p2mp-id</span></strong> <i><span class="varname">p2mp-id-value</span></i> <strong><span>ingress-lsr-id</span></strong> <i><span class="varname">ingress-lsr-id</span></i> <strong><span>tunnel-id</span></strong> <i><span class="varname">tunnel-id</span></i> ] } command to check BFD for P2MP TE session information.</p>
</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0000.html">MPLS TE Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0133.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0138.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>