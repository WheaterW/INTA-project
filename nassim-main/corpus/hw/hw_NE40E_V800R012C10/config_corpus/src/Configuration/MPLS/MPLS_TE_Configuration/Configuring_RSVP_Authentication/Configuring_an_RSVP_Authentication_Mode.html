
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an RSVP Authentication Mode">
<meta name="abstract" content="RSVP authentication modes are configured between RSVP neighboring nodes or between the interfaces of RSVP neighboring nodes. The keys on both ends to be authenticated must be the same; otherwise, RSVP authentication fails, and RSVP neighboring nodes discard received packets.">
<meta name="description" content="RSVP authentication modes are configured between RSVP neighboring nodes or between the interfaces of RSVP neighboring nodes. The keys on both ends to be authenticated must be the same; otherwise, RSVP authentication fails, and RSVP neighboring nodes discard received packets.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0018.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0021.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,te-p2pvrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="l00468467">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00845984">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172368159">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Configuring an RSVP Authentication Mode</title>
</head>
<body><a name="EN-US_TASK_0172368159"></a><a name="EN-US_TASK_0172368159"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an RSVP Authentication Mode</h1>
<div class="taskbody"><p>RSVP authentication modes are configured between RSVP neighboring nodes or between the interfaces of RSVP neighboring nodes. The keys on both ends to be authenticated must be the same; otherwise, RSVP authentication fails, and RSVP neighboring nodes discard received packets.</p>
<div class="context"><a name="EN-US_TASK_0172368159__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>RSVP authentication in the key mode is used to prevent an unauthorized node from establishing an RSVP neighbor relationship with a local node. It can also prevent a remote node from constructing forged packets to establish an RSVP neighbor relationship with the local node.</p>
<div class="p">The <span class="keyword">NE40E</span> supports three RSVP key authentication modes, as shown in <a href="#EN-US_TASK_0172368159__fig_dc_vrp_te-p2p_cfg_001901">Figure 1</a>.<div class="fignone" id="EN-US_TASK_0172368159__fig_dc_vrp_te-p2p_cfg_001901"><a name="EN-US_TASK_0172368159__fig_dc_vrp_te-p2p_cfg_001901"></a><a name="fig_dc_vrp_te-p2p_cfg_001901"></a><span class="figcap"><b>Figure 1 </b>RSVP key authentication networking</span><br><span><img class="vsd" src="images/fig_dc_vrp_te-p2p_cfg_001901.png"></span><br></div>
<ul><li><p>Local interface-based authentication</p>
<p>Local interface-based authentication is performed between interfaces connecting a point of local Repair (PLR) and a merge point (MP) in an inter-domain MPLS TE FRR scenario.</p>
<ul><li>Local interface-based authentication is recommended on a network configured with inter-domain MPLS TE FRR.</li><li>Local interface- or neighbor interface-based authentication can be used on a network that is not configured with inter-domain MPLS TE FRR.</li></ul>
</li><li><p>Neighbor node-based authentication</p>
<p>Neighbor node-based authentication takes effect on an entire device. It is usually performed between a PLR and an MP based on LSR IDs.</p>
<p>This authentication mode is recommended on a network with non-inter-domain MPLS TE FRR.</p>
</li><li><p>Neighbor interface-based authentication</p>
<p>Neighbor interface-based authentication is performed between interfaces connecting two LSRs. For example, neighbor interface-based authentication is performed between interfaces connecting LSRA and LSRB shown in the <a href="#EN-US_TASK_0172368159__fig_dc_vrp_te-p2p_cfg_001901">Figure 1</a>.</p>
<p>Local interface- or neighbor interface-based authentication can be used on a network that is not configured with inter-domain MPLS TE FRR.</p>
</li></ul>
</div>
<p>Each pair of RSVP neighbors must use the same key; otherwise, RSVP authentication fails, and all received RSVP messages are discarded.</p>
<p><a href="#EN-US_TASK_0172368159__tab_dc_vrp_te-p2p_cfg_001901">Table 1</a> describes differences between local interface-, neighbor node-, and neighbor address-based authentication modes.</p>
<div class="p">
<div class="tableBorder"><a name="EN-US_TASK_0172368159__tab_dc_vrp_te-p2p_cfg_001901"></a><a name="tab_dc_vrp_te-p2p_cfg_001901"></a><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_TASK_0172368159__tab_dc_vrp_te-p2p_cfg_001901" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Rules for RSVP authentication mode selection</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="bottom" width="17.80821917808219%" id="mcps1.4.1.5.1.2.5.1.1" liSelected="liSelected"><p>RSVP Key Authentication</p>
</th>
<th align="left" class="cellrowborder" valign="bottom" width="21.91780821917808%" id="mcps1.4.1.5.1.2.5.1.2" liSelected="liSelected"><p>Local Interface-based Authentication</p>
</th>
<th align="left" class="cellrowborder" valign="bottom" width="23.28767123287671%" id="mcps1.4.1.5.1.2.5.1.3" liSelected="liSelected"><p>Neighbor Node-based Authentication</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="36.986301369863014%" id="mcps1.4.1.5.1.2.5.1.4" liSelected="liSelected"><p>Neighbor Interface-based Authentication</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="17.80821917808219%" headers="mcps1.4.1.5.1.2.5.1.1 "><p>Authentication mode</p>
</td>
<td class="cellrowborder" valign="top" width="21.91780821917808%" headers="mcps1.4.1.5.1.2.5.1.2 "><p>Local interface-based authentication</p>
</td>
<td class="cellrowborder" valign="top" width="23.28767123287671%" headers="mcps1.4.1.5.1.2.5.1.3 "><p>RSVP neighbor-based authentication</p>
</td>
<td class="cellrowborder" valign="top" width="36.986301369863014%" headers="mcps1.4.1.5.1.2.5.1.4 "><p>RSVP neighbor interface-based authentication</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="17.80821917808219%" headers="mcps1.4.1.5.1.2.5.1.1 "><p>Priority</p>
</td>
<td class="cellrowborder" valign="top" width="21.91780821917808%" headers="mcps1.4.1.5.1.2.5.1.2 "><p>High</p>
</td>
<td class="cellrowborder" valign="top" width="23.28767123287671%" headers="mcps1.4.1.5.1.2.5.1.3 "><p>Medium</p>
</td>
<td class="cellrowborder" valign="top" width="36.986301369863014%" headers="mcps1.4.1.5.1.2.5.1.4 "><p>Low</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="17.80821917808219%" headers="mcps1.4.1.5.1.2.5.1.1 "><p>Applicable environment</p>
</td>
<td class="cellrowborder" valign="top" width="21.91780821917808%" headers="mcps1.4.1.5.1.2.5.1.2 "><p>Any network</p>
</td>
<td class="cellrowborder" valign="top" width="23.28767123287671%" headers="mcps1.4.1.5.1.2.5.1.3 "><p>Non-inter-area network</p>
</td>
<td class="cellrowborder" valign="top" width="36.986301369863014%" headers="mcps1.4.1.5.1.2.5.1.4 "><p>Networks on which MPLS TE FRR is enabled and primary CR-LSPs are in the FRR in-use state</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="17.80821917808219%" headers="mcps1.4.1.5.1.2.5.1.1 "><p>Advantages</p>
</td>
<td class="cellrowborder" valign="top" width="21.91780821917808%" headers="mcps1.4.1.5.1.2.5.1.2 "><p>N/A</p>
</td>
<td class="cellrowborder" valign="top" width="23.28767123287671%" headers="mcps1.4.1.5.1.2.5.1.3 "><p>Simplex configuration</p>
</td>
<td class="cellrowborder" valign="top" width="36.986301369863014%" headers="mcps1.4.1.5.1.2.5.1.4 "><p>N/A</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172368159__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li id="EN-US_TASK_0172368159__step_01"><span id="EN-US_TASK_0172368159__cmd1658413268214045">Configure RSVP key authentication in neighbor address-based mode.</span><ol id="EN-US_TASK_0172368159__substeps1502504087214045"><li class="substepexpand" id="EN-US_TASK_0172368159__substep601397255214045"><span id="EN-US_TASK_0172368159__cmd442228727214331">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172368159__cmdname1607894858214331">system-view</span></b></a></span></span><p><p id="EN-US_TASK_0172368159__p1590717928214331">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368159__substep115793279214045"><span id="EN-US_TASK_0172368159__cmd5518828214331">Run <a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0172368159__cmdname1904419368214045">interface</span></b></a> <i><span class="varname" id="EN-US_TASK_0172368159__varname326635594214045">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0172368159__varname525566691214045">interface-number</span></i></span><p><p id="EN-US_TASK_0172368159__p699047429214331">The view of the interface on which the MPLS TE tunnel is established is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368159__substep347292574214045"><span id="EN-US_TASK_0172368159__cmd85738672214045">Run <span><a href="cmdqueryname=mpls+rsvp-te+authentication"><b><span class="cmdname" id="EN-US_TASK_0172368159__cmdname586719203214045">mpls rsvp-te authentication</span></b></a> { { <strong><span id="EN-US_TASK_0172368159__cmdparmname612988533214331">cipher</span></strong> | <strong><span id="EN-US_TASK_0172368159__cmdparmname2103086050214331">plain</span></strong> } <i><span class="varname" id="EN-US_TASK_0172368159__varname889336886214331">auth-key</span></i> | <strong><span id="EN-US_TASK_0172368159__cmdparmname614089130214331">keychain</span></strong> <i><span class="varname" id="EN-US_TASK_0172368159__varname1997412432214331">keychain-name</span></i> }</span></span><p><p id="EN-US_TASK_0172368159__p793199519214331">The key for RSVP authentication is configured.</p>
<p id="EN-US_TASK_0172368159__p613070861214331">HMAC-MD5 or keychain authentication can be configured based on the selected parameter:</p>
<ul id="EN-US_TASK_0172368159__ul941238821214045"><li id="EN-US_TASK_0172368159__li1350384045214045"><p id="EN-US_TASK_0172368159__p1297462819214045"><a name="EN-US_TASK_0172368159__li1350384045214045"></a><a name="li1350384045214045"></a><strong><span id="EN-US_TASK_0172368159__cmdparmname1902717280214331">cipher</span></strong>: HMAC-MD5 authentication is used, and a key is displayed in ciphertext.</p>
</li><li id="EN-US_TASK_0172368159__li1553995063214045"><p id="EN-US_TASK_0172368159__p298909027214045"><a name="EN-US_TASK_0172368159__li1553995063214045"></a><a name="li1553995063214045"></a><strong><span id="EN-US_TASK_0172368159__cmdparmname947463891214331">plain</span></strong>: HMAC-MD5 authentication is used, and a key is displayed in simple text.</p>
</li><li id="EN-US_TASK_0172368159__li1186161518214045"><p id="EN-US_TASK_0172368159__p725937925214045"><a name="EN-US_TASK_0172368159__li1186161518214045"></a><a name="li1186161518214045"></a><strong><span id="EN-US_TASK_0172368159__cmdparmname1392871818214331">keychain</span></strong>: Keychain authentication is used, and a globally configured keychain is referenced.</p>
</li></ul>
<div class="notice" id="EN-US_TASK_0172368159__note1793089776214045"><span class="noticetitle"><img src="../../../../public_sys-resources/notice_3.0-en-us.png"> </span><div class="noticebody"><p id="EN-US_TASK_0172368159__p821846881214045">If you select the <strong><span id="EN-US_TASK_0172368159__cmdparmname1973752129214045">plain</span></strong> mode in authentication key configuration, the password is saved in the configuration file in plaintext. Because this mode has high security risks, you are advised to select the <strong><span id="EN-US_TASK_0172368159__cmdparmname786360806214045">cipher</span></strong> mode. To improve the device security, periodically change the password.</p>
<p id="EN-US_TASK_0172368159__p527721318430">It is recommended that the password contain uppercase letters, lowercase letters, digits, and special characters.</p>
<p id="EN-US_TASK_0172368159__p1125914895015">HMAC-MD5 authentication provides low security. To ensure high security, you are advised to use keychain authentication and a high-security algorithm, such as HMAC-SHA-256.</p>
<p id="EN-US_TASK_0172368159__p384777568214045">The configuration must be completed on the two directly connected interfaces within three update periods. If the configuration is not completed after three update periods elapse, the session goes down.</p>
</div></div>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368159__substep696609290214045"><span id="EN-US_TASK_0172368159__cmd950223210214331">Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172368159__cmdname1608999372214331">commit</span></b></a></span></span><p><p id="EN-US_TASK_0172368159__p499390998214331">The configuration is committed.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0172368159__step_02"><span id="EN-US_TASK_0172368159__cmd1308641772214045">Configure RSVP key authentication in neighbor-based mode.</span><ol id="EN-US_TASK_0172368159__substeps1653431867214045"><li class="substepexpand" id="EN-US_TASK_0172368159__substep1354215693214045"><span id="EN-US_TASK_0172368159__cmd1070455405214331">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172368159__cmdname408966318214331">system-view</span></b></a></span></span><p><p id="EN-US_TASK_0172368159__p1509567859214331">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368159__substep1178580613214045"><span id="EN-US_TASK_0172368159__cmd1987781711214331">Run <span><a href="cmdqueryname=mpls"><b><span class="cmdname" id="EN-US_TASK_0172368159__cmdname415644223214331">mpls</span></b></a></span></span><p><p id="EN-US_TASK_0172368159__p1529372515214331">The MPLS view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368159__substep2138293716214045"><span id="EN-US_TASK_0172368159__cmd0554115563716">(Optional) Run <a href="cmdqueryname=mpls+rsvp-te+challenge-lost"><b><span class="cmdname" id="EN-US_TASK_0172368159__cmdname484890804214045">mpls rsvp-te challenge-lost</span></b></a> <i><span class="varname" id="EN-US_TASK_0172368159__varname17330176175716">max-miss-times</span></i></span><p><p id="EN-US_TASK_0172368159__p2473144543710">The maximum number of Challenge messages allowed to be dropped when being sent from the authenticated end to the authenticator end during RSVP-TE authentication is configured.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368159__substep1481180150214045"><span id="EN-US_TASK_0172368159__cmd564345026214045">(Optional) Run <span><a href="cmdqueryname=mpls+rsvp-te+retrans-timer+challenge"><b><span class="cmdname" id="EN-US_TASK_0172368159__cmdname1008539162214045">mpls rsvp-te retrans-timer challenge</span></b></a> <i><span class="varname" id="EN-US_TASK_0172368159__varname1448044541214331">retransmission-interval</span></i></span></span><p><p id="EN-US_TASK_0172368159__p1387685414910">The interval at which challenge messages are retransmitted is set.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368159__substep1323749288214045"><span id="EN-US_TASK_0172368159__cmd1697910807214331">Run <span><a href="cmdqueryname=mpls+rsvp-te+peer"><b><span class="cmdname" id="EN-US_TASK_0172368159__cmdname819616937214331">mpls rsvp-te peer</span></b></a> <i><span class="varname" id="EN-US_TASK_0172368159__varname1628632808214331">peer-address</span></i></span></span><p><p id="EN-US_TASK_0172368159__p524109820214331">The RSVP neighbor view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368159__substep1074447607214045"><span id="EN-US_TASK_0172368159__cmd50943226214045">Run <span><a href="cmdqueryname=mpls+rsvp-te+authentication"><b><span class="cmdname" id="EN-US_TASK_0172368159__cmdname577495801214045">mpls rsvp-te authentication</span></b></a> { { <strong><span id="EN-US_TASK_0172368159__cmdparmname1724077812214331">cipher</span></strong> | <strong><span id="EN-US_TASK_0172368159__cmdparmname1343396886214331">plain</span></strong> } <i><span class="varname" id="EN-US_TASK_0172368159__varname1893724786214331">auth-key</span></i> | <strong><span id="EN-US_TASK_0172368159__cmdparmname159451409214331">keychain</span></strong> <i><span class="varname" id="EN-US_TASK_0172368159__varname583894406214331">keychain-name</span></i> }</span></span><p><p id="EN-US_TASK_0172368159__p1342262157214331">The key for RSVP authentication is configured.</p>
<p id="EN-US_TASK_0172368159__p515514928214331">HMAC-MD5 or keychain authentication can be configured based on the selected parameter:</p>
<ul id="EN-US_TASK_0172368159__ul1351985390214045"><li id="EN-US_TASK_0172368159__li1723304061214045"><p id="EN-US_TASK_0172368159__p459406138214045"><a name="EN-US_TASK_0172368159__li1723304061214045"></a><a name="li1723304061214045"></a><strong><span id="EN-US_TASK_0172368159__cmdparmname375517753214331">cipher</span></strong>: HMAC-MD5 authentication is used, and a key is displayed in ciphertext.</p>
</li><li id="EN-US_TASK_0172368159__li2131278254214045"><p id="EN-US_TASK_0172368159__p366383018214045"><a name="EN-US_TASK_0172368159__li2131278254214045"></a><a name="li2131278254214045"></a><strong><span id="EN-US_TASK_0172368159__cmdparmname1392928349214331">plain</span></strong>: HMAC-MD5 authentication is used, and a key is displayed in simple text.</p>
</li><li id="EN-US_TASK_0172368159__li718533144214045"><p id="EN-US_TASK_0172368159__p1086004127214045"><a name="EN-US_TASK_0172368159__li718533144214045"></a><a name="li718533144214045"></a><strong><span id="EN-US_TASK_0172368159__cmdparmname1955005249214331">keychain</span></strong>: Keychain authentication is used, and a globally configured keychain is referenced.</p>
</li></ul>
<div class="notice" id="EN-US_TASK_0172368159__note1202600664214045"><span class="noticetitle"><img src="../../../../public_sys-resources/notice_3.0-en-us.png"> </span><div class="noticebody"><p id="EN-US_TASK_0172368159__p2140757931214045">If you select the <strong><span id="EN-US_TASK_0172368159__cmdparmname17370550164312">plain</span></strong> mode in authentication key configuration, the password is saved in the configuration file in plaintext. Because this mode has high security risks, you are advised to select the <strong><span id="EN-US_TASK_0172368159__cmdparmname138817552432">cipher</span></strong> mode. To improve the device security, periodically change the password.</p>
<p id="EN-US_TASK_0172368159__p34268599319">HMAC-MD5 authentication provides low security. To ensure high security, you are advised to use keychain authentication and a high-security algorithm, such as HMAC-SHA-256.</p>
<p id="EN-US_TASK_0172368159__p1085342412496">It is recommended that the password contain uppercase letters, lowercase letters, digits, and special characters.</p>
<p id="EN-US_TASK_0172368159__p1528843596214045">The configuration must be completed on the two neighboring nodes within three update periods. If the configuration is not completed after three update periods elapse, the session goes down.</p>
</div></div>
</p></li><li class="substepexpand" id="EN-US_TASK_0172368159__substep1840139919214045"><span id="EN-US_TASK_0172368159__cmd1656461457214331">Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172368159__cmdname1975983837214331">commit</span></b></a></span></span><p><p id="EN-US_TASK_0172368159__p1113799937214331">The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0018.html">Configuring RSVP Authentication
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0021.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>