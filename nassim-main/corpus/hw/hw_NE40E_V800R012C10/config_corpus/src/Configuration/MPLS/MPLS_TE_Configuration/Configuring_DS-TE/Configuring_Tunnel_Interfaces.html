
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Tunnel Interfaces">
<meta name="abstract" content="Before creating a DS-TE tunnel, create a tunnel interface and configure tunnel attributes in the view of the tunnel interface.">
<meta name="description" content="Before creating a DS-TE tunnel, create a tunnel interface and configure tunnel attributes in the view of the tunnel interface.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0301.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0305.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0308.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,te-p2pvrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="l00468467">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00845984">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172368189">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Tunnel Interfaces</title>
</head>
<body><a name="EN-US_TASK_0172368189"></a><a name="EN-US_TASK_0172368189"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Tunnel Interfaces</h1>
<div class="taskbody"><p>Before creating a DS-TE tunnel, create a tunnel interface and configure tunnel attributes in the view of the tunnel interface.</p>
<div class="context"><a name="EN-US_TASK_0172368189__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Perform the following steps on the ingress of a TE tunnel to be established:</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172368189__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=interface+tunnel"><b><span class="cmdname">interface tunnel</span></b></a><i><span class="varname"> interface-number</span></i></span></span><p><p>A tunnel interface is created, and the tunnel interface view is displayed.</p>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=description"><b><span class="cmdname">description</span></b></a><i><span class="varname"> text</span></i></span></span><p><p>The tunnel description is configured.</p>
</p></li><li><span>Run either of the following commands to assign an IP address to the tunnel interface:</span><p><div class="p"><ul><li><p>To assign an IP address to the tunnel interface, run the <span><a href="cmdqueryname=ip+address"><b><span class="cmdname">ip address</span></b></a> <i><span class="varname">ip-address</span></i> { <i><span class="varname">mask</span></i> | <i><span class="varname">mask-length</span></i> } [ <strong><span>sub</span></strong> ]</span> command.</p>
<p>The secondary IP address of the tunnel interface can be configured only after the primary IP address is configured.</p>
</li><li>To configure the tunnel interface to borrow the IP address of another interface, run <span><a href="cmdqueryname=ip+address+unnumbered"><b><span class="cmdname">ip address unnumbered</span></b></a> <strong><span>interface</span></strong> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></li></ul>
</div>
<p>To forward traffic, the tunnel interface must have an IP address. An MPLS TE tunnel, however, is unidirectional, and o peer address exists. Therefore, it is unnecessary to assign an IP address to a tunnel interface. A tunnel interface usually borrows the loopback address, which functions as the LSR ID of the local node.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=tunnel-protocol+mpls+te"><b><span class="cmdname">tunnel-protocol mpls te</span></b></a></span></span><p><p>MPLS TE is configured as the tunneling protocol.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172368189__en-us_task_0172368081_p59301840152610">Changing, deleting, or initially configuring the tunnel mode of a tunnel interface will delete all tunnel-related configurations on the interface, such as the MTU. Exercise caution when performing this operation.</p>
</div></div>
</p></li><li><span>Run <span><a href="cmdqueryname=destination"><b><span class="cmdname">destination</span></b></a> <i><span class="varname">ip-address</span></i></span></span><p><p>The destination address of the tunnel is configured as the LSR ID of the egress.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=mpls+te+tunnel-id"><b><span class="cmdname">mpls te tunnel-id</span></b></a><i><span class="varname"> tunnel-id</span></i></span></span><p><p>A tunnel ID is set.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=mpls+te+signal-protocol"><b><span class="cmdname">mpls te signal-protocol</span></b></a> { <strong><span>cr-static</span></strong> | <strong><span>rsvp-te</span></strong> }</span></span><p><p>A signaling protocol is configured for a tunnel.</p>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=mpls+te+priority"><b><span class="cmdname">mpls te priority</span></b></a> <i><span class="varname">setup-priority</span></i> [ <i><span class="varname">hold-priority</span></i> ]</span></span><p><p>The tunnel priorities are set.</p>
<p>A smaller value indicates a higher priority.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The holding priority must be higher than or equal to the setup priority. If no holding priority is set, its value is the same as that setup priority. If the combination of the bandwidth and priorities is not listed in the TE class mapping table, LSPs cannot be established.</p>
</div></div>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p><p><p>Each time you change an MPLS TE parameter, run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0301.html">Configuring DS-TE
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0305.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0308.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>