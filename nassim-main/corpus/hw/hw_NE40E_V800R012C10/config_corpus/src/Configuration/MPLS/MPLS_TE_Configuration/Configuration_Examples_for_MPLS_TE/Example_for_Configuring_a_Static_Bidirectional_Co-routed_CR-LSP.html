
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring a Static Bidirectional Co-routed CR-LSP">
<meta name="abstract" content="This section provides an example for configuring a static bidirectional co-routed CR-LSP, including how to enable MPLS TE, configure MPLS TE bandwidth attributes, and configure an MPLS TE tunnel.">
<meta name="description" content="This section provides an example for configuring a static bidirectional co-routed CR-LSP, including how to enable MPLS TE, configure MPLS TE bandwidth attributes, and configure an MPLS TE tunnel.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0093.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0183.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0201.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00845984">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172368306">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Example for Configuring a Static Bidirectional Co-routed CR-LSP</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0172368306"></a><a name="EN-US_TASK_0172368306"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring a Static Bidirectional Co-routed CR-LSP</h1>
<div class="taskbody"><p>This section provides an example for configuring a static bidirectional co-routed CR-LSP, including how to enable MPLS TE, configure MPLS TE bandwidth attributes, and configure an MPLS TE tunnel.</p>
<div class="context"><a name="EN-US_TASK_0172368306__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Static bidirectional co-routed CR-LSPs are used to establish static bidirectional tunnels for services on an MPLS network.</p>
<p>On the network shown in <a href="#EN-US_TASK_0172368306__fig_dc_vrp_te-p2p_cfg_016801">Figure 1</a>, a static bidirectional co-routed CR-LSP is established between LSRA and LSRC. The link bandwidth between LSRA and LSRC is required to be 10 Mbit/s.</p>
<div class="fignone" id="EN-US_TASK_0172368306__fig_dc_vrp_te-p2p_cfg_016801"><a name="EN-US_TASK_0172368306__fig_dc_vrp_te-p2p_cfg_016801"></a><a name="fig_dc_vrp_te-p2p_cfg_016801"></a><span class="figcap"><b>Figure 1 </b>Networking diagram for a static bidirectional co-routed CR-LSP</span><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Interfaces 1 and 2 in this example represent GE <span>0/1/0</span> and GE <span>0/1/1</span>, respectively.</p>
</div></div>
<br><span><img class="vsd" src="images/fig_dc_vrp_te-p2p_cfg_016801.png"></span></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172368306__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><p>The configuration roadmap is as follows:</p>
<ol><li><p>Assign an IP address to each interface.</p>
</li><li>Configure a routing protocol.</li><li><p>Configure basic MPLS functions and enable MPLS TE.</p>
</li><li><p>Configure MPLS TE attributes for links.</p>
</li><li><p>Configure MPLS TE tunnels.</p>
</li><li><p>Configure the ingress, transit nodes, and egress for the static bidirectional co-routed CR-LSP.</p>
</li><li><p>Bind the static bidirectional co-routed CR-LSP to the tunnel interface on LSRC.</p>
</li></ol>
</div></div>
<div class="context"><a name="EN-US_TASK_0172368306__1.4.3"></a><a name="1.4.3"></a>
<div class="p"><h4 class="sectiontitle">Data Preparation</h4><p>To complete the configuration, you need the following data:</p>
<ul><li><p>Tunnel interface names, tunnel interface IP addresses, destination addresses, tunnel IDs, and tunnel signaling protocol (CR-Static) on LSRA and LSRC</p>
</li><li><p>Maximum reservable bandwidth and BC bandwidth of each link</p>
</li><li><p>Next-hop address and outgoing label on the ingress</p>
</li><li><p>Inbound interface, next-hop address, and outgoing label on the transit node</p>
</li><li><p>Inbound interface on the egress</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172368306__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Assign an IP address to each interface.</span><p><p>For configuration details, see <a href="#EN-US_TASK_0172368306__section_dc_vrp_cfg_01125005">Configuration Files</a> in this section.</p>
</p></li><li><span>Configure a routing protocol.</span><p><p>Static routes are used in this example to implement LSR connectivity at the network layer.</p>
<p>For configuration details, see <a href="#EN-US_TASK_0172368306__section_dc_vrp_cfg_01125005">Configuration Files</a> in this section.</p>
</p></li><li><span>Configure basic MPLS functions and enable MPLS TE.</span><p><p># Configure LSRA.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRA]<strong> mpls lsr-id 1.1.1.1</strong></pre>
<pre class="screen">[<span class="keyword">*</span>LSRA]<strong> mpls</strong></pre>
<pre class="screen">[<span class="keyword">*</span>LSRA-mpls] <strong>mpls te</strong></pre>
<pre class="screen">[<span class="keyword">*</span>LSRA-mpls] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span>LSRA]<strong> interface gigabitethernet <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword">*</span>LSRA-GigabitEthernet<span>0/1/0</span>] <strong>mpls</strong></pre>
<pre class="screen">[<span class="keyword">*</span>LSRA-GigabitEthernet<span>0/1/0</span>] <strong>mpls te</strong></pre>
<pre class="screen">[<span class="keyword">*</span>LSRA-GigabitEthernet<span>0/1/0</span>] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRA-GigabitEthernet<span>0/1/0</span>] <strong>quit</strong></pre>
<p>Repeat this step for LSRB, LSRC, and LSRD.</p>
</p></li><li><span>Configure MPLS TE bandwidth attributes for links.</span><p><p># Configure the maximum reservable bandwidth and BC0 bandwidth for the link on the outbound interface of each device along the tunnel. The BC0 bandwidth of links must be greater than the tunnel bandwidth (10 Mbit/s).</p>
<p># Configure LSRA.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRA] <strong>interface gigabitethernet <span>0/1/0</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRA-GigabitEthernet<span>0/1/0</span>] <strong>mpls te bandwidth max-reservable-bandwidth 100000</strong>
[<span class="keyword">*</span>LSRA-GigabitEthernet<span>0/1/0</span>] <strong>mpls te bandwidth bc0 100000</strong>
[<span class="keyword">*</span>LSRA-GigabitEthernet<span>0/1/0</span>] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRA-GigabitEthernet<span>0/1/0</span>] <strong>quit</strong></pre>
<p># Configure LSRB.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRB] <strong>interface gigabitethernet <span>0/1/0</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRB-GigabitEthernet<span>0/1/0</span>] <strong>mpls te bandwidth max-reservable-bandwidth 100000</strong>
[<span class="keyword">*</span>LSRB-GigabitEthernet<span>0/1/0</span>] <strong>mpls te bandwidth bc0 100000</strong>
[<span class="keyword">*</span>LSRB-GigabitEthernet<span>0/1/0</span>] <strong>quit</strong>
[<span class="keyword">*</span>LSRB] <strong>interface gigabitethernet <span>0/1/1</span></strong>
[<span class="keyword">*</span>LSRB-GigabitEthernet<span>0/1/1</span>] <strong>mpls te bandwidth max-reservable-bandwidth 100000</strong>
[<span class="keyword">*</span>LSRB-GigabitEthernet<span>0/1/1</span>] <strong>mpls te bandwidth bc0 100000</strong>
[<span class="keyword">*</span>LSRB-GigabitEthernet<span>0/1/1</span>] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRB-GigabitEthernet<span>0/1/1</span>] <strong>quit</strong></pre>
<p># Configure LSRC.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRC] <strong>interface gigabitethernet <span>0/1/0</span></strong>
[<span class="keyword">*</span>LSRC-GigabitEthernet<span>0/1/0</span>] <strong>mpls te bandwidth max-reservable-bandwidth 100000</strong>
[<span class="keyword">*</span>LSRC-GigabitEthernet<span>0/1/0</span>] <strong>mpls te bandwidth bc0 100000</strong>
[<span class="keyword">*</span>LSRC-GigabitEthernet<span>0/1/0</span>] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRC-GigabitEthernet<span>0/1/0</span>] <strong>quit</strong></pre>
</p></li><li><span>Configure MPLS TE tunnel interfaces.</span><p><p># Create an MPLS TE tunnel from LSRA to LSRC.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRA]<strong> interface Tunnel 10</strong></pre>
<pre class="screen">[<span class="keyword">*</span>LSRA-Tunnel10] <strong>ip address unnumbered interface loopback 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span>LSRA-Tunnel10] <strong>tunnel-protocol mpls te</strong></pre>
<pre class="screen">[<span class="keyword">*</span>LSRA-Tunnel10] <strong>destination 3.3.3.3</strong></pre>
<pre class="screen">[<span class="keyword">*</span>LSRA-Tunnel10] <strong>mpls te tunnel-id 100</strong></pre>
<pre class="screen">[<span class="keyword">*</span>LSRA-Tunnel10] <strong>mpls te signal-protocol cr-static</strong></pre>
<pre class="screen">[<span class="keyword">*</span>LSRA-Tunnel10] <strong>mpls te bidirectional</strong></pre>
<pre class="screen">[<span class="keyword">*</span>LSRA-Tunnel10] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRA-Tunnel10]<strong> quit</strong></pre>
<p># Create an MPLS TE tunnel from LSRC to LSRA.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRC]<strong> interface Tunnel 20</strong></pre>
<pre class="screen">[<span class="keyword">*</span>LSRC-Tunnel20] <strong>ip address unnumbered interface loopback 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span>LSRC-Tunnel20] <strong>tunnel-protocol mpls te</strong></pre>
<pre class="screen">[<span class="keyword">*</span>LSRC-Tunnel20] <strong>destination 1.1.1.1</strong></pre>
<pre class="screen">[<span class="keyword">*</span>LSRC-Tunnel20] <strong>mpls te tunnel-id 200</strong></pre>
<pre class="screen">[<span class="keyword">*</span>LSRC-Tunnel20] <strong>mpls te signal-protocol cr-static</strong></pre>
<pre class="screen">[<span class="keyword">*</span>LSRC-Tunnel20] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRC-Tunnel20] <strong>quit</strong></pre>
</p></li><li><span>Configure the ingress, transit nodes, and egress for the static bidirectional co-routed CR-LSP.</span><p><div class="p"># Configure LSRA as the ingress.<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRA] <strong>bidirectional static-cr-lsp ingress Tunnel10</strong>
[<span class="keyword">*</span>LSRA-bi-static-ingress-Tunnel10] <strong>forward nexthop 10.21.1.2 out-label 20 bandwidth ct0 10000 pir 10000</strong>
[<span class="keyword">*</span>LSRA-bi-static-ingress-Tunnel10] <strong>backward in-label 20</strong>
[<span class="keyword">*</span>LSRA-bi-static-ingress-Tunnel10] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRA-bi-static-ingress-Tunnel10] <strong>quit</strong></pre>
</div>
<div class="p"># Configure LSRB as a transit node.<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRB]<strong>bidirectional static-cr-lsp transit lsp1</strong>
[<span class="keyword">*</span>LSRB-bi-static-transit-lsp1] <strong>forward in-label 20 nexthop 10.32.1.2 out-label 40 bandwidth ct0 10000</strong><strong> pir 10000</strong>
[<span class="keyword">*</span>LSRB-bi-static-transit-lsp1] <strong>backward in-label 16 nexthop 10.21.1.1 out-label 20 bandwidth ct0 10000</strong><strong> pir 10000</strong>
[<span class="keyword">*</span>LSRB-bi-static-transit-lsp1] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRB-bi-static-transit-lsp1] <strong>quit</strong></pre>
</div>
<div class="p"># Configure LSRC as the egress.<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRC] <strong>bidirectional static-cr-lsp egress Tunnel20</strong>
[<span class="keyword">*</span>LSRC-bi-static-egress-Tunnel20] <strong>forward in-label 40 lsrid 1.1.1.1 tunnel-id 100</strong>
[<span class="keyword">*</span>LSRC-bi-static-egress-Tunnel20] <strong>backward nexthop 10.32.1.1 out-label 16 bandwidth ct0 10000</strong><strong> pir 10000</strong>
[<span class="keyword">*</span>LSRC-bi-static-egress-Tunnel20] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRC-bi-static-egress-Tunnel20] <strong>quit</strong></pre>
</div>
</p></li><li><span>Bind the static bidirectional co-routed CR-LSP to the tunnel interface on LSRC.</span><p><div class="p"><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRC] <strong>interface Tunnel20</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRC-Tunnel20] <strong>mpls te passive-tunnel</strong>
[<span class="keyword">*</span>LSRC-Tunnel20] <strong>mpls te binding bidirectional static-cr-lsp egress Tunnel20</strong>
[<span class="keyword">*</span>LSRC-Tunnel20] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRC-Tunnel20] <strong>quit</strong> </pre>
</div>
</p></li><li><span>Verify the configuration.</span><p><p>After completing the configuration, run the <strong>display interface tunnel</strong> command on LSRA. The command output shows that the tunnel interface is Up.</p>
<p>Run the <strong>display mpls te tunnel</strong> command on each LSR. The command output shows that MPLS TE tunnels have been established.</p>
<p># Check the configuration on LSRA.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRA]<strong> display mpls te tunnel</strong></pre>
<pre class="screen">-------------------------------------------------------------------------------
Ingress LsrId   Destination     LSPID In/OutLabel     R Tunnel-name
-------------------------------------------------------------------------------
1.1.1.1         3.3.3.3         0     -/20           I Tunnel10
                                      20/-          
-------------------------------------------------------------------------------
R: Role, I: Ingress, T: Transit, E: Egress</pre>
<p># Check the configuration on LSRB.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRB] <strong>display mpls te tunnel</strong></pre>
<pre class="screen">-------------------------------------------------------------------------------
Ingress LsrId   Destination     LSPID In/OutLabel     R Tunnel-name
-------------------------------------------------------------------------------
-               -               -     20/40           T lsp1
                                      16/20          
-------------------------------------------------------------------------------
R: Role, I: Ingress, T: Transit, E: Egress</pre>
<p># Check the configuration on LSRC.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRC] <strong>display mpls te tunnel</strong></pre>
<pre class="screen">-------------------------------------------------------------------------------
Ingress LsrId   Destination     LSPID In/OutLabel     R Tunnel-name
-------------------------------------------------------------------------------
1.1.1.1         3.3.3.3         -     40/-           E Tunnel20
                                      -/16          
-------------------------------------------------------------------------------
R: Role, I: Ingress, T: Transit, E: Egress</pre>
<p>Run the <strong>display mpls te bidirectional static-cr-lsp</strong> command on each LSR to view information about the static bidirectional co-routed CR-LSP.</p>
<p># Check the configuration on LSRA.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRA] <strong>display mpls te bidirectional static-cr-lsp</strong>
TOTAL          : 1     STATIC CRLSP(S)
UP             : 1     STATIC CRLSP(S)
DOWN           : 0     STATIC CRLSP(S)
Name                FEC                I/O Label    I/O If                Status
Tunnel10         3.3.3.3/32         NULL/20      -/GE<span>0/1/0</span>             
                                       20/NULL      GE<span>0/1/0</span>/-             Up</pre>
<p># Check the configuration on LSRB.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRB] <strong>display mpls te bidirectional static-cr-lsp</strong>
TOTAL          : 1     STATIC CRLSP(S)
UP             : 1     STATIC CRLSP(S)
DOWN           : 0     STATIC CRLSP(S)
Name                FEC                I/O Label    I/O If                Status
lsp1                -/32               20/40        GE<span>0/1/0</span>/GE<span>0/2/0</span>       
                                       16/20        GE<span>0/2/0</span>/GE<span>0/1/0</span>       Up</pre>
<p># Check the configuration on LSRC.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRC] <strong>display mpls te bidirectional static-cr-lsp</strong>
TOTAL          : 1     STATIC CRLSP(S)
UP             : 1     STATIC CRLSP(S)
DOWN           : 0     STATIC CRLSP(S)
Name                FEC                I/O Label    I/O If                Status
Tunnel20         1.1.1.1/32         40/NULL      GE<span>0/1/0</span>/-            
                                       NULL/16      -/GE<span>0/1/0</span>             Up</pre>
<div class="p">After completing the configuration, run the <strong>ping</strong> command on LSRA. The static bidirectional co-routed CR-LSP is reachable.<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>LSRA] <strong>ping lsp -a 1.1.1.1 te Tunnel 10</strong>
  LSP PING FEC: TE TUNNEL IPV4 SESSION QUERY Tunnel10 : 100  data bytes, press CTRL_C to break
    Reply from 3.3.3.3: bytes=100 Sequence=1 time = 56 ms
    Reply from 3.3.3.3: bytes=100 Sequence=2 time = 53 ms
    Reply from 3.3.3.3: bytes=100 Sequence=3 time = 3 ms
    Reply from 3.3.3.3: bytes=100 Sequence=4 time = 60 ms
    Reply from 3.3.3.3: bytes=100 Sequence=5 time = 5 ms

  --- FEC: RSVP IPV4 SESSION QUERY Tunnel10 ping statistics ---
    5 packet(s) transmitted
    5 packet(s) received
    0.00% packet loss
    round-trip min/avg/max = 3/35/60 ms</pre>
</div>
</p></li></ol></div>
<div class="example" id="EN-US_TASK_0172368306__section_dc_vrp_cfg_01125005"><a name="EN-US_TASK_0172368306__section_dc_vrp_cfg_01125005"></a><a name="section_dc_vrp_cfg_01125005"></a><a name="EN-US_TASK_0172368306__1.4.5"></a><a name="1.4.5"></a><h4 class="sectiontitle">Configuration Files</h4><ul><li><p>LSRA configuration file</p>
<pre class="screen">#
sysname LSRA
#
mpls lsr-id 1.1.1.1
#
mpls
 mpls te
#
bidirectional static-cr-lsp ingress Tunnel10
 forward nexthop 10.21.1.2 out-label 20 bandwidth ct0 10000 pir 10000
 backward in-label 20

#
interface GigabitEthernet<span>0/1/0</span>
 undo shutdown
 ip address 10.21.1.1 255.255.255.0
 mpls
 mpls te
 mpls te bandwidth max-reservable-bandwidth 100000
 mpls te bandwidth bc0 100000
#
interface LoopBack1
 ip address 1.1.1.1 255.255.255.255
#
interface Tunnel10
 ip address unnumbered interface LoopBack1
 tunnel-protocol mpls te
 destination 3.3.3.3
 mpls te signal-protocol cr-static
 mpls te tunnel-id 100
 mpls te bidirectional
#
ip route-static 2.2.2.2 255.255.255.255 10.21.1.2
ip route-static 3.3.3.3 255.255.255.255 10.21.1.2
#
return</pre>
</li><li><p>LSRB configuration file</p>
<pre class="screen">#
sysname LSRB
#
mpls lsr-id 2.2.2.2
#
mpls
 mpls te
#
bidirectional static-cr-lsp transit lsp1
 forward in-label 20 nexthop 10.32.1.2 out-label 40 bandwidth ct0 10000 pir 10000
 backward in-label 16 nexthop 10.21.1.1 out-label 20 bandwidth ct0 10000 pir 10000
#
interface GigabitEthernet<span>0/1/0</span>
 undo shutdown
 ip address 10.21.1.2 255.255.255.0
 mpls
 mpls te
 mpls te bandwidth max-reservable-bandwidth 100000
 mpls te bandwidth bc0 100000
#
interface GigabitEthernet<span>0/1/1</span>
 undo shutdown
 ip address 10.32.1.1 255.255.255.0
 mpls
 mpls te
 mpls te bandwidth max-reservable-bandwidth 100000
 mpls te bandwidth bc0 100000
#
interface LoopBack1
 ip address 2.2.2.2 255.255.255.255
#
ip route-static 1.1.1.1 255.255.255.255 10.21.1.1
ip route-static 3.3.3.3 255.255.255.255 10.32.1.2
#
return
</pre>
</li><li><p>LSRC configuration file</p>
<pre class="screen">#
sysname LSRC
#
mpls lsr-id 3.3.3.3
#
mpls
 mpls te
#
bidirectional static-cr-lsp egress Tunnel20
 forward in-label 40 lsrid 1.1.1.1 tunnel-id 100
 backward nexthop 10.32.1.1 out-label 16 bandwidth ct0 10000 pir 10000
#
interface GigabitEthernet<span>0/1/0</span>
 undo shutdown
 ip address 10.32.1.2 255.255.255.0
 mpls
 mpls te
 mpls te bandwidth max-reservable-bandwidth 100000
 mpls te bandwidth bc0 100000
#
interface LoopBack1
 ip address 3.3.3.3 255.255.255.255
#
interface Tunnel20
 ip address unnumbered interface LoopBack1
 tunnel-protocol mpls te
 destination 1.1.1.1
 mpls te signal-protocol cr-static
 mpls te tunnel-id 200
 mpls te passive-tunnel
 mpls te binding bidirectional static-cr-lsp egress Tunnel20
#               
ip route-static 1.1.1.1 255.255.255.255 10.32.1.1
ip route-static 2.2.2.2 255.255.255.255 10.32.1.1
#
return</pre>
</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0093.html">Configuration Examples for MPLS TE
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0183.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0201.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>