
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring Timers for a Remote LDP Session">
<meta name="abstract" content="LDP timers include the target Hello hold timer, target Hello send timer, Keepalive hold timer, Keepalive send timer, and Exponential backoff timer.">
<meta name="description" content="LDP timers include the target Hello hold timer, target Hello send timer, Keepalive hold timer, Keepalive send timer, and Exponential backoff timer.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0011.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0067.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_00691.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="ldp-p2pvrp,w00800033,z00545680,w00556928,w00606909,z00809835,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS LDP">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS LDP">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS LDP">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS LDP">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="z00809835">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="b00896120">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172368447">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring Timers for a Remote LDP Session</title>
</head>
<body><a name="EN-US_TASK_0172368447"></a><a name="EN-US_TASK_0172368447"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring Timers for a Remote LDP Session</h1>
<div class="taskbody"><p>LDP timers include the target Hello hold timer, target Hello send timer, Keepalive hold timer, Keepalive send timer, and Exponential backoff timer.</p>
<div class="context"><a name="EN-US_TASK_0172368447__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p">The following timers are used in a remote LDP session: <ul><li><p>Target Hello send timer: An LSR sends Hello messages to a peer LSR at an interval specified by the Hello send timer. The LSR can advertise its existence and establish a Hello adjacency with the peer LSR.</p>
</li><li><p>Target Hello hold timer: LDP peers that establish a Hello adjacency periodically exchange Hello messages indicating that they expect to maintain the adjacency. If the Hello hold timer expires and no Hello messages are received, the Hello adjacency is torn down.</p>
</li><li><p>Keepalive send timer: LSRs on both ends of an established LDP session start Keepalive send timers and periodically exchange Keepalive messages to maintain the LDP session.</p>
</li><li><p>Keepalive hold timer: LDP peers start Keepalive hold timers and periodically send LDP PDUs over an LDP session connection to maintain the LDP session. If the Keepalive hold timers expire and no LDP PDUs are received, the connection is closed, and the LDP session is torn down.</p>
</li><li><p>Exponential backoff timer: An active LSR starts this timer after it fails to process an LDP Initialization message or after it receives the notification that the passive LSR to which the active LSR sends the LDP Initialization message has rejected the parameters carried in the message. The active LSP periodically resends an LDP Initialization message to initiate an LDP session before the Exponential backoff timer expires.</p>
</li></ul>
</div>
<p>The default timer values are recommended.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172368447__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure a target Hello send timer.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=mpls+ldp+remote-peer"><b><span class="cmdname">mpls ldp remote-peer</span></b></a> <i><span class="varname">remote-peer-name</span></i></span></span><p><p>The remote MPLS LDP peer view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=mpls+ldp+timer+hello-send"><b><span class="cmdname">mpls ldp timer hello-send</span></b></a> <i><span class="varname">interval</span></i></span><p><p>The target Hello send timer value is set.</p>
</p><p><p>Effective target Hello send timer value = Min {Configured target Hello send timer value, 1/3 of the target Hello hold timer value}</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure a target Hello hold timer.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=mpls+ldp+remote-peer"><b><span class="cmdname">mpls ldp remote-peer</span></b></a> <i><span class="varname">remote-peer-name</span></i></span></span><p><p>The remote MPLS LDP peer view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=mpls+ldp+timer+hello-hold"><b><span class="cmdname">mpls ldp timer hello-hold</span></b></a> <i><span class="varname">interval</span></i></span><p><p>The target Hello hold timer value is set.</p>
</p><p><p>The value of the Hello hold timer configured on the local LSR may not be the actual effective value. The actual effective value is the smaller of the two values configured on the two ends of a remote LDP session.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure a Keepalive send timer for a remote LDP session.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=mpls+ldp+remote-peer"><b><span class="cmdname">mpls ldp remote-peer</span></b></a> <i><span class="varname">remote-peer-name</span></i></span></span><p><p>The remote MPLS LDP peer view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=mpls+ldp+timer+keepalive-send"><b><span class="cmdname">mpls ldp timer keepalive-send</span></b></a> <i><span class="varname">interval</span></i></span><p><p>The Keepalive send timer value is set for a remote LDP session.</p>
</p><p><p>Effective Keepalive send timer value = Min {Configured Keepalive send timer value, 1/3 of the Keepalive hold timer value}</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure a Keepalive hold timer for a remote LDP session.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=mpls+ldp+remote-peer"><b><span class="cmdname">mpls ldp remote-peer</span></b></a> <i><span class="varname">remote-peer-name</span></i></span></span><p><p>The remote MPLS LDP peer view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=mpls+ldp+timer+keepalive-hold"><b><span class="cmdname">mpls ldp timer keepalive-hold</span></b></a> <i><span class="varname">interval</span></i></span><p><p>The Keepalive hold timer value is set for the remote LDP session.</p>
</p><p><p>The value of the Keepalive hold timer configured on the local LSR may not be the actual effective value. The actual effective value is the smaller of the two values configured on the two ends of a remote LDP session.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure the global Keepalive hold timer of the remote LDP session.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=mpls+ldp"><b><span class="cmdname">mpls ldp</span></b></a></span></span><p><p>The MPLS-LDP view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=timer+auto-remote+keepalive-hold"><b><span class="cmdname">timer auto-remote keepalive-hold</span></b></a> <i><span class="varname">interval</span></i></span><p><p>The global Keepalive hold timer value is set for the remote LDP session.</p>
</p><p><p>The value of the Keepalive hold timer configured on the local LSR may not be the actual effective value. The actual effective value is the smaller of the two values configured on the two ends of a remote LDP session.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The value of the timer that takes effect is the smaller of the values of the two Keepalive hold timers configured on both ends of a remote LDP session. The Keepalive hold timer configured in the remote MPLS-LDP peer view takes precedence over the global Keepalive hold timer. If the Keepalive hold timer is configured both globally and in the remote MPLS-LDP peer view, the Keepalive hold timer configured in the remote MPLS-LDP peer view takes effect.</p>
</div></div>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure an Exponential backoff timer.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=mpls"><b><span class="cmdname">mpls</span></b></a></span></span><p><p>The MPLS view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=mpls+ldp"><b><span class="cmdname">mpls ldp</span></b></a></span></span><p><p>The MPLS-LDP view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=backoff+timer"><b><span class="cmdname">backoff timer</span></b></a> <i><span class="varname">init</span></i> <i><span class="varname">max</span></i></span><p><p>The Exponential backoff timer is configured.</p>
</p><p></p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0011.html">Configuring a Remote LDP Session
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_0067.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ldp-p2p_cfg_00691.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>