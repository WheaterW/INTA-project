
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Dynamic Bandwidth Reservation">
<meta name="abstract" content="This section describes how to configure dynamic bandwidth reservation on an MPLS TE interface. This configuration enables the MPLS TE interface to dynamically reserve bandwidth for an MPLS TE tunnel to account for the fact that physical bandwidth is variable.">
<meta name="description" content="This section describes how to configure dynamic bandwidth reservation on an MPLS TE interface. This configuration enables the MPLS TE interface to dynamically reserve bandwidth for an MPLS TE tunnel to account for the fact that physical bandwidth is variable.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0205.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0025.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,te-p2pvrp,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="featurename" content="MPLS TE">
<meta name="featuretype" content="MPLS">
<meta name="OWNER" content="l00468467">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00845984">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172368134">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Dynamic Bandwidth Reservation</title>
</head>
<body><a name="EN-US_TASK_0172368134"></a><a name="EN-US_TASK_0172368134"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Dynamic Bandwidth Reservation</h1>
<div class="taskbody"><p>This section describes how to configure dynamic bandwidth reservation on an MPLS TE interface. This configuration enables the MPLS TE interface to dynamically reserve bandwidth for an MPLS TE tunnel to account for the fact that physical bandwidth is variable.</p>
<div class="context"><a name="EN-US_TASK_0172368134__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>The reservable bandwidth values configured on the interfaces along an MPLS TE tunnel are used by the MPLS TE module to check whether a link meets all tunnel bandwidth requirements. If a fixed bandwidth value is configured on an interface and the physical bandwidth of the interface changes, the MPLS TE module cannot correctly evaluate link bandwidth resources when the actual reservable bandwidth differs from the configured bandwidth value. For example, the actual physical bandwidth of a trunk interface on an MPLS TE tunnel is 1 Gbit/s. The maximum reservable bandwidth is set to 800 Mbit/s, and the BC0 bandwidth is set to 600 Mbit/s for the interface. If a member of the trunk interface fails, the trunk interface has its physical bandwidth reduced to 500 Mbit/s, which does not meet the requirements for the maximum reservable bandwidth and BC0 bandwidth. However, the MPLS TE module still attempts to reserve the bandwidth as configured. As a result, bandwidth reservation fails.</p>
<p>To address this issue, you can configure the maximum reservable dynamic bandwidth and BC dynamic bandwidth. The former is the proportion of the maximum reservable bandwidth to the actual physical bandwidth, and the latter is the proportion of the BC bandwidth to the maximum reservable bandwidth. Based on the two proportions, the MPLS TE module can quickly detect physical bandwidth changes along links and preempt the bandwidth of any MPLS TE tunnel that requires more than the available interface bandwidth. If soft preemption is supported by the preempted tunnel, traffic on the tunnel can be smoothly switched to another links with sufficient bandwidth. The smooth traffic switchover is also performed when an interface fails, which minimizes traffic loss.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172368134__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring dynamic bandwidth reservation, enable MPLS TE on the interface.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172368134__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The view of an MPLS TE-enabled interface is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=mpls+te+bandwidth+max-reservable-bandwidth+dynamic"><b><span class="cmdname">mpls te bandwidth max-reservable-bandwidth dynamic</span></b></a> <i><span class="varname">max-dynamic-bw-value</span></i></span><p><p>The maximum reservable dynamic bandwidth is configured for the link.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If this command is run in the same interface view as the <a href="cmdqueryname=mpls+te+bandwidth+max-reservable-bandwidth"><b><span class="cmdname">mpls te bandwidth max-reservable-bandwidth</span></b></a> command, the latest configuration overrides the previous one.</p>
</div></div>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=mpls+te+bandwidth+max-reservable-bandwidth+dynamic+baseline+remain-bandwidth"><b><span class="cmdname">mpls te bandwidth max-reservable-bandwidth dynamic baseline remain-bandwidth</span></b></a></span><p><p>The device is configured to use the remaining bandwidth of the interface when calculating the maximum reservable dynamic bandwidth for TE.</p>
</p><p><p>In scenarios such as channelized sub-interface and bandwidth lease, the remaining bandwidth of an interface changes, but the physical bandwidth does not. In this case, the actual forwarding capability of the interface decreases. If the maximum reservable dynamic bandwidth of the TE tunnel is still calculated based on the physical bandwidth, the calculated TE bandwidth is greater than the actual bandwidth, and the actual forwarding capability of the interface does not meet the bandwidth requirement of the tunnel.</p>
</p></li><li><span>Run <a href="cmdqueryname=mpls+te+bandwidth+dynamic"><b><span class="cmdname">mpls te bandwidth dynamic</span></b></a> <strong><span>bc0</span></strong> <i><span class="varname">bc0-bw-percentage</span></i></span><p><p>The BC0 dynamic bandwidth is configured for the link.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If this command is run in the same interface view as the <a href="cmdqueryname=mpls+te+bandwidth+bc0"><b><span class="cmdname">mpls te bandwidth bc0</span></b></a> command, the latest configuration overrides the previous one.</p>
</div></div>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0172368134__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+mpls+te+link-administration+bandwidth-allocation"><b><span class="cmdname">display mpls te link-administration bandwidth-allocation</span></b></a> [ <strong><span>interface</span></strong> <i><span class="varname">interface-type interface-number</span></i> ] command to check bandwidth information on a specified or all MPLS TE interfaces.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0000.html">MPLS TE Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0205.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_te-p2p_cfg_0025.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>