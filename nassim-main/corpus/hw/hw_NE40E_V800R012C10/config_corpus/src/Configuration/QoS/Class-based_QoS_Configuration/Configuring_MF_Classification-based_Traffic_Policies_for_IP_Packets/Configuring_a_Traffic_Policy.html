
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a Traffic Policy">
<meta name="abstract" content="After defining traffic classifiers and behaviors, you need to configure a traffic policy to associate them.">
<meta name="description" content="After defining traffic classifiers and behaviors, you need to configure a traffic policy to associate them.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_0040.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_0043.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_0045.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909,m00390128">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Class-based QoS">
<meta name="featuretype" content="QOS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Class-based QoS">
<meta name="featuretype" content="QOS">
<meta name="featurename" content="Class-based QoS">
<meta name="featuretype" content="QOS">
<meta name="featurename" content="Class-based QoS">
<meta name="featuretype" content="QOS">
<meta name="OWNER" content="m00390128">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="m00915594">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172371251">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring a Traffic Policy</title>
</head>
<body><a name="EN-US_TASK_0172371251"></a><a name="EN-US_TASK_0172371251"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a Traffic Policy</h1>
<div class="taskbody"><p>After defining traffic classifiers and behaviors, you need to configure a traffic policy to associate them.</p>
<div class="context"><a name="EN-US_TASK_0172371251__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>After defining traffic classifiers and behaviors, you need to configure a traffic policy to associate them.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172371251__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=traffic+policy"><b><span class="cmdname">traffic policy</span></b></a> <i><span class="varname">policy-name</span></i></span><p><p>A traffic policy is defined and its view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=classifier"><b><span class="cmdname">classifier</span></b></a> <i><span class="varname">classifier-name</span></i> <strong><span>behavior</span></strong> <i><span class="varname">behavior-name</span></i> [ <strong><span>precedence</span></strong> <i><span class="varname">precedence-value</span></i> ]</span><p><p>A traffic classifier is associated with a traffic behavior in the traffic policy, and a matching precedence is configured.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=step"><b><span class="cmdname">step</span></b></a> <i><span class="varname">step-value</span></i></span><p><p>The step between sub-policies is configured.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=statistics+enable"><b><span class="cmdname">statistics enable</span></b></a></span><p><p>The statistics collection function is enabled for the traffic policy.</p>
</p><p><p>By default, the statistics collection function is disabled for a traffic policy to conserve memory resources. To view statistics about a traffic policy, you can enable the statistics collection function for it.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=undo+share-mode"><b><span class="cmdname">undo share-mode</span></b></a></span><p><p>The unshared mode is specified for the traffic policy.</p>
</p><p><div class="p">By default, a traffic policy works in shared mode. If a traffic policy has been applied to an interface, you cannot modify its shared or unshared mode. If such modification is required, you need to cancel the application on the interface first.<ul><li>Shared mode: Although a traffic policy is applied to different interfaces, its statistics are displayed as summarized data of the interfaces and the data of each interface cannot be distinguished.</li><li>Unshared mode: Statistics on a traffic policy can be displayed by interface according to the interfaces to which the traffic policy is applied.</li></ul>
</div>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=match-type+ipv6+qos-local-id+enable"><b><span class="cmdname">match-type ipv6 qos-local-id enable</span></b></a></span><p><p>The IPv6 qos-local-id matching mode is enabled.</p>
</p><p><p>If a matching rule based on an IPv6 QoS policy ID is configured in a traffic classifier, the matching rule takes effect only after the IPv6 qos-local-id matching mode is enabled. If the IPv6 qos-local-id matching mode is not enabled, the matching rule cannot be applied to the traffic policy.</p>
</p><p></p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_0040.html">Configuring MF Classification-based Traffic Policies for IP Packets
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_0043.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_0045.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>