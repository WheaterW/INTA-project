
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring an Flow Queue">
<meta name="abstract" content="You can configure scheduling parameters and traffic shaping for FQs in common 8-CoS mode based on network requirements.">
<meta name="description" content="You can configure scheduling parameters and traffic shaping for FQs in common 8-CoS mode based on network requirements.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_023826.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_013878_1.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_50866.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909,m00390128">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="User Access QoS">
<meta name="featuretype" content="QOS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="User Access QoS">
<meta name="featuretype" content="QOS">
<meta name="featurename" content="User Access QoS">
<meta name="featuretype" content="QOS">
<meta name="featurename" content="Last-Mile QoS">
<meta name="featuretype" content="QOS">
<meta name="OWNER" content="l00425560,m00390128">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="m00915594">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0288662485">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring an Flow Queue</title>
</head>
<body><a name="EN-US_TASK_0288662485"></a><a name="EN-US_TASK_0288662485"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring an Flow Queue</h1>
<div class="taskbody"><p>You can configure scheduling parameters and traffic shaping for FQs in common 8-CoS mode based on network requirements.</p>
<div class="context"><a name="EN-US_TASK_0288662485__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0288662485__en-us_task_0283210398_context2046545657214058"><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p428735995214">You can use a non-default FQ profile to configure scheduling parameters for FQs based on network requirements. Multiple flow WRED objects can be created for FQs to reference. You can set upper and lower drop thresholds and a drop probability for a created flow WRED profile. When the percentage of the actual length of a queue over the length of an FQ is less than the lower drop threshold, the system does not drop packets; when the percentage of the actual length of a queue over the length of an FQ is between the upper and lower drop thresholds, the system drops packets through the WRED mechanism (the longer the queue length, the higher the drop probability); when the percentage of the actual length of a queue over the length of an FQ is greater than the upper drop threshold, the system drops all subsequent packets. </p>
<div class="note" id="EN-US_TASK_0288662485__en-us_task_0283210398_note1970880685214058"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul id="EN-US_TASK_0288662485__en-us_task_0283210398_ul1803901467214058"><li id="EN-US_TASK_0288662485__en-us_task_0283210398_li924209365214058"><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p437578804214058"><a name="EN-US_TASK_0288662485__en-us_task_0283210398_li924209365214058"></a><a name="en-us_task_0283210398_li924209365214058"></a>The upper and lower drop thresholds for red packets can be set to the minimum; those for yellow packets can be greater; those for green packets can be set to the maximum.</p>
</li><li id="EN-US_TASK_0288662485__en-us_task_0283210398_li391136861214058"><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p389779360214058"><a name="EN-US_TASK_0288662485__en-us_task_0283210398_li391136861214058"></a><a name="en-us_task_0283210398_li391136861214058"></a>In the actual configuration, the lower drop threshold is recommended to begin with 50% and be adjusted based on different colors of packets. 100% is recommended for the drop probability.</p>
</li><li id="EN-US_TASK_0288662485__en-us_task_0283210398_li2141884707214058"><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p387895888214058"><a name="EN-US_TASK_0288662485__en-us_task_0283210398_li2141884707214058"></a><a name="en-us_task_0283210398_li2141884707214058"></a>If no flow WRED object is set, the system adopts the default tail drop policy.</p>
</li></ul>
</div></div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0288662485__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul id="EN-US_TASK_0288662485__en-us_task_0283210398_steps-unordered12645123914619"><li id="EN-US_TASK_0288662485__en-us_task_0283210398_step464583913614"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd364503917616">Configure a flow WRED object.</span><ol id="EN-US_TASK_0288662485__en-us_task_0283210398_substeps1569134119133"><li class="substepexpand" id="EN-US_TASK_0288662485__en-us_task_0283210398_substep56974115136"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd18691741111319">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdname1696203540214058">system-view</span></b></a></span><p><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p515374291318">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0288662485__en-us_task_0283210398_substep117086452146"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd19708045131411">Run <a href="cmdqueryname=flow-wred"><b><span class="cmdname" id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdname1204636892214058">flow-wred</span></b></a> <i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname1949235354214058">wred-name</span></i></span><p><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p68932554246">A flow WRED object is created and its view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0288662485__en-us_task_0283210398_substep0190165616144"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd419014569141">Run <a href="cmdqueryname=color"><b><span class="cmdname" id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdname1509525230214058">color</span></b></a> { <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname1665763631214058">green</span></strong> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname220167408214058">yellow</span></strong> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname555522529214058">red</span></strong> } <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname1098748604214058">low-limit</span></strong> <i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname2011683168214058">low-limit-percentage</span></i> <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname667792588214058">high-limit</span></strong> <i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname1321121373214058">high-limit-percentage</span></i> <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname1512708249214058">discard-percentage</span></strong> <i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname1874172436214058">discard-percentage</span></i></span><p><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p1358891212256">Upper and lower drop thresholds as well as a drop probability are configured.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0288662485__en-us_task_0283210398_substep10283755151515"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd10283355101510">Run <a href="cmdqueryname=queue-depth"><b><span class="cmdname" id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdname2086041050214058">queue-depth</span></b></a> <i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname1497473457214058">queue-depth-value</span></i></span><p><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p9743728112517">A queue depth is set.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0288662485__en-us_task_0283210398_substep11703185581513"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd5703195510155">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdname163090200214058">commit</span></b></a></span><p><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p484641142520">The configuration is committed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0288662485__en-us_task_0283210398_substep13748135116172"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd16748195141717">Run <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdname15106183115611">quit</span></b></a></span><p><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p142214542259">Return to the system view.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0288662485__en-us_task_0283210398_step0282831151615"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd1328293171619">Configure scheduling parameters for an FQ.</span><ol id="EN-US_TASK_0288662485__en-us_task_0283210398_substeps872911118175"><li class="substepexpand" id="EN-US_TASK_0288662485__en-us_task_0283210398_substep15177191312188"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd317720136188">Run <a href="cmdqueryname=flow-queue"><b><span class="cmdname" id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdname133034817214058">flow-queue</span></b></a> <i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname1637332336214058">flow-queue-name</span></i></span><p><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p13316250192613">The FQ view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0288662485__en-us_task_0283210398_substep32689451019"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd726934515116">Run <a href="cmdqueryname=queue"><b><span class="cmdname" id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdname11380101318219">queue</span></b></a> <i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname13801013822">cos-value</span></i> { { <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname238019131620">pq</span></strong> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname1438011130220">wfq</span></strong> <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname19380201318220">weight</span></strong> <i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname17380213222">weight-value</span></i> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname14380113625">lpq</span></strong> } | { <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname173807131521">shaping</span></strong> { <i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname163802013526">shaping-value</span></i> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname73801113122">shaping-percentage</span></strong> <i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname13802138213">shaping-percentage-value</span></i> } [ <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname16380313527">pbs</span></strong> <i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname93807136216">pbs-value</span></i> ] <span>| <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname3380613022">car</span></strong> { <i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname133808135216">car-value</span></i> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname23801813323">car-percentage</span></strong> <i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname53804131624">car-percentage-value</span></i> } [ <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname14381161317214">pbs</span></strong> <i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname16381141319213">pbs-value</span></i> ]</span>  } | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname838118131218">flow-wred</span></strong> <i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname18381121319213">wred-name</span></i>  | <span><strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname1338112131122">low-latency</span></strong></span><span> </span><span>| <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname17381111314219">low-jitter</span></strong></span> } *<span> or <a href="cmdqueryname=queue"><b><span class="cmdname" id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdname1881191132420">queue </span></b></a><i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname12868161519242">cos-value</span></i> <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname13613162511245">cir </span></strong>{ { <i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname174111028102413">cir-value</span></i> [ <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname1534417350248">cbs </span></strong><i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname10053914247">cbs-value</span></i> ] <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname3225048132413">cir-schedule </span></strong><strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname967525442414">pq</span></strong> <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname1037275814248">pir </span></strong><i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname19671719253">pir-value</span></i> } | { <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname9639151014255">cir-percentage </span></strong><i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname184811143254">cir-percentage-value</span></i> [ <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname12760132322511">cbs </span></strong><i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname6486727172517">cbs-value</span></i> ] <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname134931434112511">cir-schedule </span></strong><strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname1544164018256">pq</span></strong> <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname11201144411250">pir</span></strong> <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname1338164792514">pir-percentage </span></strong><i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname9359850182519">pir-percentage-value</span></i> } } [ <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname11738175732517">pbs </span></strong><i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname1886917082617">pbs-value</span></i> ] <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname176694812612">pir-schedule </span></strong>{ <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname1347661119260">pq </span></strong>| <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname18668151482614">wfq </span></strong><strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname1636262622619">weight</span></strong> <i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname10543133013267">weight-value</span></i> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname7774193712616">lpq </span></strong>} [ <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname141151741182611">flow-wred </span></strong><i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname137205445269">wred-name</span></i> ]</span></span><p><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p17291194012537">The scheduling parameters and policy of the FQ are modified.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0288662485__en-us_task_0283210398_substep1091875153615"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd89183523613">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdname15444612153619">commit</span></b></a></span><p><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p473153531610">The configuration is committed.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0288662485__en-us_task_0283210398_step11141222191"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd714922191918">Configure share shaping.</span><ol id="EN-US_TASK_0288662485__en-us_task_0283210398_substeps24368411195"><li class="substepexpand" id="EN-US_TASK_0288662485__en-us_task_0283210398_substep043584101916"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd1843524141910">Run <a href="cmdqueryname=share-shaping"><b><span class="cmdname" id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdname1667559506214058">share-shaping</span></b></a><span> [ <i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname895719559214058">shap-id</span></i> ]</span> { <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname1936523051214058">af1</span></strong> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname1909035142214058">af2</span></strong> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname1186594255214058">af3</span></strong> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname781792317214058">af4</span></strong> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname1237780696214058">be</span></strong> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname1305396201214058">cs6</span></strong> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname104748574214058">cs7</span></strong> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname14474642214058">ef</span></strong> } <sup id="EN-US_TASK_0288662485__en-us_task_0283210398_sup1142606814214058">*</sup><span> [ <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname2099663657214058">pq</span></strong> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname104553963214058">wfq</span></strong> <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname1931409389214058">weight</span></strong> <i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname1429917586214058">weight-value</span></i> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname605320092214058">lpq</span></strong> ]</span><i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname315223015214058"> shaping-value</span></i> [ <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname1744540106214058">pbs</span></strong> <i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname1881812902214058">pbs-value</span></i> ]</span><p><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p1679464017263">Share shaping is configured for multiple FQs.</p>
<p id="EN-US_TASK_0288662485__en-us_task_0283210398_p20759854142817">After share shaping is configured for queues, they are shaped before being scheduled together with other user queues.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0288662485__en-us_task_0283210398_substep454218102917"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd11541718182915">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdname35413185297">commit</span></b></a></span><p><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p4941027132912">The configuration is committed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0288662485__en-us_task_0283210398_substep175461862915"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd17546184290">Run <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdname454191872911">quit</span></b></a></span><p><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p1276174192918">Return to the system view.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0288662485__en-us_task_0283210398_step685717233434"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd4857182324311">Enable the low-latency function for FQs in PQ scheduling mode.</span><ol id="EN-US_TASK_0288662485__en-us_task_0283210398_substeps14763105024410"><li class="substepexpand" id="EN-US_TASK_0288662485__en-us_task_0283210398_substep364175861117"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd83512552011">Run <a href="cmdqueryname=qos+flow-queue+low-latency+enable"><b><span class="cmdname" id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdname1535346425214058">qos flow-queue low-latency enable</span></b></a></span><p><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p2033624811015">The low-latency function is enabled for FQs in PQ scheduling mode to ensure the latency of PQ scheduling.</p>
</p><p></p></li></ol>
</li><li id="EN-US_TASK_0288662485__en-us_task_0283210398_step42434257714"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd1024214251077">Configure the PQ scheduling priority, the burst size, and the shared threshold for buffer resources.</span><ol id="EN-US_TASK_0288662485__en-us_task_0283210398_substeps3861639104713"><li class="substepexpand" id="EN-US_TASK_0288662485__en-us_task_0283210398_substep10622143610536"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd1962213363533">Run <a href="cmdqueryname=slot"><b><span class="cmdname" id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdname16318135195319">slot</span></b></a> <i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname133183510532">slot-id</span></i></span><p><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p1531345142417">The slot view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0288662485__en-us_task_0283210398_substep6125123314537"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd1812513316539">Run <a href="cmdqueryname=qos+cos"><b><span class="cmdname" id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdname18572123455314">qos cos</span></b></a> { <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname95724345536">be </span></strong>| <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname5572634195319">af1</span></strong> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname3572163475312">af2</span></strong> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname357253495312">af3</span></strong> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname125725341533">af4</span></strong> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname857215347532">ef </span></strong>| <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname25724345533">cs6 </span></strong>| <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname957263413539">cs7 </span></strong>} <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname5572183465318">burst-size </span></strong><i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname1357283455312">buffer-size-value</span></i></span><p><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p165511054105010">The burst size of a module is configured.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0288662485__en-us_task_0283210398_substep18517150131115"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd1651745019119">Run <strong id="EN-US_TASK_0288662485__en-us_task_0283210398_b2890182417124"><a href="cmdqueryname=qos+cos+all+pack-size"><b><span class="cmdname" id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdname1655417399123">qos cos all pack-size</span></b></a> </strong><em id="EN-US_TASK_0288662485__en-us_task_0283210398_i108901524191219"><i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname8959145151219">pack-size-value</span></i></em></span><p><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p65604101516">The maximum packet size is configured on the eTM subcard.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0288662485__en-us_task_0283210398_substep2914952513"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd1291495125112">Run <a href="cmdqueryname=qos+pq-scheduler+priority"><b><span class="cmdname" id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdname1914253512">qos pq-scheduler priority</span></b></a> { <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname891425105118">high</span></strong> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname14914553510">low</span></strong> } { <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname1791412525117">inbound</span></strong> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname109143514514">outbound</span></strong> }</span><p><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p498232317517">The PQ scheduling priority on the board is changed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0288662485__en-us_task_0283210398_substep15833191312511"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd17833813145113">Run <a href="cmdqueryname=qos+pq-scheduler+priority"><b><span class="cmdname" id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdname983311375116">qos pq-scheduler priority</span></b></a> { <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname1343063024112">high</span></strong> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname143093094120">low</span></strong> } <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname10431173011414">outbound</span></strong> [ <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname6431143094110">card</span></strong> <i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname343111303412">card_id</span></i> ]</span><p><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p69321637135111">The PQ scheduling priority on a subcard is changed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0288662485__en-us_task_0283210398_substep9631885481"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd106319814812">Run <a href="cmdqueryname=qos+global-buffer"><b><span class="cmdname" id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdname1713512365110">qos global-buffer</span></b></a> { <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname6136223135110">share-threshold</span></strong> <i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname13136132313516">share-value</span></i> | { <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname1313618238518">be</span></strong> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname191362237514">af1</span></strong> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname1136172355111">af2</span></strong> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname10136023185118">af3</span></strong> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname1113632319516">af4</span></strong> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname1013692365120">ef</span></strong> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname191361923195113">cs6</span></strong> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname191361323165116">cs7</span></strong> } <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname813614232513">share</span></strong> } { <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname21361823135112">inbound</span></strong> | <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname1713612319518">outbound</span></strong> }</span><p><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p11271448165019">A shared threshold is configured for buffer resources.</p>
</p><p><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p144631153484">To prevent buffer resources from being exhausted by some queues, control flow WRED scheduling. If the flow WRED value is set to a small value, packet loss occurs in traffic bursts. To resolve this problem, run the <a href="cmdqueryname=qos+global-buffer"><b><span class="cmdname" id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdname055012365116">qos global-buffer</span></b></a> command to set a shared threshold for buffer resources. Before the shared buffer resources are exhausted, flow WRED configurations do not take effect, preventing packet loss.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0288662485__en-us_task_0283210398_substep1542371219307"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd6423212193015">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdname54231312153012">commit</span></b></a></span><p><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p18828242123010">The configuration is committed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0288662485__en-us_task_0283210398_substep16632152911579"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd1763216296575">Run <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdname9632172911576">quit</span></b></a></span><p><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p1281995643011">Return to the system view.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0288662485__en-us_task_0283210398_step31803211247"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd13180192120248">Configure an FQ mapping.</span><ol id="EN-US_TASK_0288662485__en-us_task_0283210398_substeps12747155213247"><li class="substepexpand" id="EN-US_TASK_0288662485__en-us_task_0283210398_substep3747205232417"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd674710523242">Run <a href="cmdqueryname=flow-mapping"><b><span class="cmdname" id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdname186814115814">flow-mapping</span></b></a> <i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname143244274441">mapping-name</span></i></span><p><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p113431510124111">The flow mapping view is displayed.</p>
</p><p><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p794905369">You can configure eight FQ-to-PQ mappings in an FQ mapping profile. You can also create multiple FQ mapping profiles for user queues to reference. A maximum of 15 FQ mapping profiles can be configured in the system.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0288662485__en-us_task_0283210398_substep1072912324286"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd0729113262815">Run <a href="cmdqueryname=map+flow-queue"><b><span class="cmdname" id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdname9691715585">map flow-queue</span></b></a> <i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname8696185813">cos-value</span></i> <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname1069416586">to</span></strong> <strong><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdparmname1469715581">port-queue</span></strong> <i><span class="varname" id="EN-US_TASK_0288662485__en-us_task_0283210398_varname6691135818">cos-value</span></i></span><p><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p127671266417">The CoS of the FQ is mapped to the CoS of the PQ.</p>
</p><p><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p12659111171919">If no FQ-to-PQ mapping is set, the system defaults the one-to-one mapping.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0288662485__en-us_task_0283210398_substep1178173352818"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd3178133302815">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdname20976151819109">commit</span></b></a></span><p><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p15528132320344">The configuration is committed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0288662485__en-us_task_0283210398_substep45941855142915"><span id="EN-US_TASK_0288662485__en-us_task_0283210398_cmd859417551295">Run <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0288662485__en-us_task_0283210398_cmdname2594195519296">quit</span></b></a></span><p><p id="EN-US_TASK_0288662485__en-us_task_0283210398_p39234340340">Return to the system view.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_023826.html">Configuring HQoS Scheduling for Common Users
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_013878_1.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_50866.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>