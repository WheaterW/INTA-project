
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring Scheduling Parameters for an FQ">
<meta name="abstract" content="">
<meta name="description" content="">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_hqos_cfg_5013_interface.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_hqos_cfg_5023.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909,m00390128">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="HQoS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="HQoS">
<meta name="featuretype" content="QOS">
<meta name="featurename" content="HQoS">
<meta name="featuretype" content="QOS">
<meta name="featurename" content="HQoS">
<meta name="featuretype" content="QOS">
<meta name="OWNER" content="m00390128">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="m00915594">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001519654260">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring Scheduling Parameters for an FQ</title>
</head>
<body><a name="EN-US_TASK_0000001519654260"></a><a name="EN-US_TASK_0000001519654260"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring Scheduling Parameters for an FQ</h1>
<div class="taskbody"><p></p>
<div class="context"><a name="EN-US_TASK_0000001519654260__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>You can use a non-default FQ profile to configure scheduling parameters for FQs based on network requirements. Multiple flow WRED objects can be created for FQs to reference. You can set upper and lower drop thresholds and a drop probability for a created flow WRED profile. When the percentage of the actual length of a queue over the length of an FQ is less than the lower drop threshold, the system does not drop packets; when the percentage of the actual length of a queue over the length of an FQ is between the upper and lower drop thresholds, the system drops packets through the WRED mechanism (the longer the queue length, the higher the drop probability); when the percentage of the actual length of a queue over the length of an FQ is greater than the upper drop threshold, the system drops all subsequent packets. </p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul id="EN-US_TASK_0000001519654260__en-us_task_0283210398_ul1803901467214058"><li id="EN-US_TASK_0000001519654260__en-us_task_0283210398_li924209365214058"><p id="EN-US_TASK_0000001519654260__en-us_task_0283210398_p437578804214058"><a name="EN-US_TASK_0000001519654260__en-us_task_0283210398_li924209365214058"></a><a name="en-us_task_0283210398_li924209365214058"></a>The upper and lower drop thresholds for red packets can be set to the minimum; those for yellow packets can be greater; those for green packets can be set to the maximum.</p>
</li><li id="EN-US_TASK_0000001519654260__en-us_task_0283210398_li391136861214058"><p id="EN-US_TASK_0000001519654260__en-us_task_0283210398_p389779360214058"><a name="EN-US_TASK_0000001519654260__en-us_task_0283210398_li391136861214058"></a><a name="en-us_task_0283210398_li391136861214058"></a>In the actual configuration, the lower drop threshold is recommended to begin with 50% and be adjusted based on different colors of packets. 100% is recommended for the drop probability.</p>
</li><li id="EN-US_TASK_0000001519654260__en-us_task_0283210398_li2141884707214058"><p id="EN-US_TASK_0000001519654260__en-us_task_0283210398_p387895888214058"><a name="EN-US_TASK_0000001519654260__en-us_task_0283210398_li2141884707214058"></a><a name="en-us_task_0283210398_li2141884707214058"></a>If no flow WRED object is set, the system adopts the default tail drop policy.</p>
</li></ul>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001519654260__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>(Optional) Configure a flow WRED object.</span><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=flow-wred"><b><span class="cmdname">flow-wred</span></b></a> <i><span class="varname">wred-name</span></i></span><p><p>A flow WRED object is created and its view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=color"><b><span class="cmdname">color</span></b></a> { <strong><span>green</span></strong> | <strong><span>yellow</span></strong> | <strong><span>red</span></strong> } <strong><span>low-limit</span></strong> <i><span class="varname">low-limit-percentage</span></i> <strong><span>high-limit</span></strong> <i><span class="varname">high-limit-percentage</span></i> <strong><span>discard-percentage</span></strong> <i><span class="varname">discard-percentage</span></i></span><p><p>Upper and lower drop thresholds as well as a drop probability are configured for packets of a color.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=queue-depth"><b><span class="cmdname">queue-depth</span></b></a> <i><span class="varname">queue-depth-value</span></i></span><p><p>A queue depth is set.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> Return to the system view.</span></li></ol>
</li><li><span>Configure scheduling parameters for an FQ.</span><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=flow-queue"><b><span class="cmdname">flow-queue</span></b></a> <i><span class="varname">flow-queue-name</span></i></span><p><p>The FQ view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=queue"><b><span class="cmdname">queue</span></b></a> <i><span class="varname">cos-value</span></i> <strong><span>cir</span></strong> { { <i><span class="varname">cir-value</span></i> [ <strong><span>cbs</span></strong> <i><span class="varname">cbs-value</span></i> ] <strong><span>cir-schedule pq pir</span></strong> <i><span class="varname">pir-value</span></i> } | { <strong><span>cir-percentage</span></strong> <i><span class="varname">cir-percentage-value</span></i> [ <strong><span>cbs</span></strong> <i><span class="varname">cbs-value</span></i> ] <strong><span>cir-schedule pq pir pir-percentage</span></strong> <i><span class="varname">pir-percentage-value</span></i> } } [ <strong><span>pbs</span></strong> <i><span class="varname">pbs-value</span></i> ] <strong><span>pir-schedule</span></strong> { <strong><span>pq</span></strong> | <strong><span>wfq</span></strong> <strong><span>weight</span></strong> <i><span class="varname">weight-value</span></i> | <strong><span>lpq</span></strong> } [ <strong><span>flow-wred</span></strong> <i><span class="varname">wred-name</span></i> ] * or <a href="cmdqueryname=queue"><b><span class="cmdname">queue</span></b></a> <i><span class="varname">cos-value</span></i> { { <strong><span>pq</span></strong> | <strong><span>wfq weight</span></strong> <i><span class="varname">weight-value</span></i> | <strong><span>lpq</span></strong> } | { <strong><span>shaping</span></strong> { <i><span class="varname">shaping-value</span></i> | <strong><span>shaping-percentage</span></strong> <i><span class="varname">shaping-percentage-value</span></i> } [ <strong><span>pbs</span></strong> <i><span class="varname">pbs-value</span></i> ] | <strong><span>car</span></strong> { <i><span class="varname">car-value</span></i> | <strong><span>car-percentage</span></strong> <i><span class="varname">car-percentage-value</span></i> } [ <strong><span>pbs</span></strong> <i><span class="varname">pbs-value</span></i> ] } | { <strong><span>flow-wred</span></strong> <i><span class="varname">wred-name</span></i> } | <strong><span>low-latency</span></strong> | <strong><span>low-jitter</span></strong> } *</span><p><p>The scheduling parameters and policies of the FQ are modified.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li></ol>
</li><li><span>(Optional) Configure a mapping from an FQ to a PQ.</span><ol type="a"><li class="substepexpand"><span>Run <strong><a href="cmdqueryname=flow-mapping"><b><span class="cmdname">flow-mapping</span></b></a> </strong><em><i><span class="varname">mapping-name</span></i></em></span><p><p>A flow mapping object is created and its view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <strong><a href="cmdqueryname=map+flow-queue"><b><span class="cmdname">map flow-queue</span></b></a> </strong><em><i><span class="varname">cos-value</span></i></em><strong> <strong><span>to</span></strong> </strong><strong><strong><span>port-queue</span></strong> </strong><em><i><span class="varname">cos-value</span></i></em></span><p><p>A mapping from an FQ to a PQ is configured.</p>
</p><p><p>By configuring a mapping from an FQ to a PQ, you can flexibly guide the service traffic of the FQ with a specified CoS into the PQ with a specified CoS for scheduling.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li></ol>
</li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_hqos_cfg_5013_interface.html">Configuring Interface-based HQoS
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_hqos_cfg_5023.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>