
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Applying a QoS Profile to a Domain">
<meta name="abstract" content="You can define a QoS profile and then apply it to the AAA domain to perform QoS scheduling for access user traffic.">
<meta name="description" content="You can define a QoS profile and then apply it to the AAA domain to perform QoS scheduling for access user traffic.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_023826.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_013819.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_5103.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909,m00390128">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="User Access QoS">
<meta name="featuretype" content="QOS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="User Access QoS">
<meta name="featuretype" content="QOS">
<meta name="featurename" content="User Access QoS">
<meta name="featuretype" content="QOS">
<meta name="featurename" content="Last-Mile QoS">
<meta name="featuretype" content="QOS">
<meta name="OWNER" content="m00390128">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00437000">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0268653009">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Applying a QoS Profile to a Domain</title>
</head>
<body><a name="EN-US_TASK_0268653009"></a><a name="EN-US_TASK_0268653009"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Applying a QoS Profile to a Domain</h1>
<div class="taskbody"><p>You can define a QoS profile and then apply it to the AAA domain to perform QoS scheduling for access user traffic.</p>
<div class="context"><a name="EN-US_TASK_0268653009__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Applying a QoS profile to an interface functions differently from applying a QoS profile to a domain. The parameters about the bandwidth allocated to family users are obtained through the QoS profile applied to the interface while the parameters about the bandwidth allocated based on service types are obtained through the QoS profile applied to the domain.</p>
<p>The system performs traffic scheduling on common online users in a domain by directly adopting the parameters in the QoS profile applied to the domain. For family users, however, the system adopts only the parameters in the <a href="cmdqueryname=car"><b><span class="cmdname">car</span></b></a> command that is configured in the view of the QoS profile applied to the domain for traffic rate limiting.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0268653009__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>(Optional) If the <a href="cmdqueryname=user-queue"><b><span class="cmdname">user-queue</span></b></a> command is run in a QoS profile to bind a flow queue in 4-CoS mode, perform the following configurations before applying the QoS profile because no user-queue resources support the 4-CoS mode by default.</span><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=slot"><b><span class="cmdname">slot</span></b></a> <i><span class="varname">slot-id</span></i></span><p><p>The slot view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=qos+user-queue+resource+4cos"><b><span class="cmdname">qos user-queue resource 4cos</span></b></a> <i><span class="varname">4cos-size</span></i></span><p><p>The specification of user-queue resources supporting the 4-CoS mode is specified.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li></ol>
</li><li><span>Run <a href="cmdqueryname=aaa"><b><span class="cmdname">aaa</span></b></a></span><p><p>The AAA view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=domain"><b><span class="cmdname">domain</span></b></a> <i><span class="varname">domain-name</span></i></span><p><p>An AAA domain is created and its view is displayed.</p>
</p><p><p>Here, <i><span class="varname">domain-name</span></i> specifies the domain to which the service needs to be mapped.</p>
</p></li><li><span>Run <a href="cmdqueryname=qos-profile"><b><span class="cmdname">qos-profile</span></b></a> <i><span class="varname">profile-name</span></i> { <strong><span>inbound</span></strong> | <strong><span>outbound</span></strong> } <strong><strong><span>lns-gts</span></strong></strong></span><p><p>The QoS profile is applied to the domain.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The <strong>lns-gts</strong> parameter can be used only when a QoS profile is bound to L2TP users on an LNS.</p>
</div></div>
</p></li><li><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the AAA view.</p>
</p></li><li><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li><li><span>(Optional) When a user accesses the device through an Eth-Trunk interface and the Eth-Trunk member interfaces reside on different forwarding or traffic management modules, to prevent the bandwidth of the Eth-Trunk interface from doubling, perform the following operations to configure the total bandwidth to be allocated among Eth-Trunk member interfaces based on weights.</span><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface </span></b></a><i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span><p><p>The Eth-Trunk interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Perform either of the following operations based on the user access type:</span><p><ul><li>For common access users, run the <a href="cmdqueryname=qos+subscriber-access+member-link-scheduler+distribute"><b><span class="cmdname">qos subscriber-access member-link-scheduler distribute</span></b></a> <strong><span>inbound</span></strong> command to allocate the bandwidth to trunk member interfaces based on weights.</li><li>For private line access users, run the <a href="cmdqueryname=qos+leased-line-access+member-link-scheduler+distribute"><b><span class="cmdname">qos leased-line-access member-link-scheduler distribute</span></b></a> { <strong><span>inbound</span></strong> | <strong><span>outbound</span></strong> } command to allocate the bandwidth to trunk member interfaces based on weights.</li></ul>
</p></li></ol>
</li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_023826.html">Configuring HQoS Scheduling for Common Users
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_013819.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_5103.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>