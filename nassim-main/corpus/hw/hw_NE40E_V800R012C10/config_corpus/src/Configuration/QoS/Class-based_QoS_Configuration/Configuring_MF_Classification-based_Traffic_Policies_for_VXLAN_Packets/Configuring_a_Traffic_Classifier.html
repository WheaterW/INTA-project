
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a Traffic Classifier">
<meta name="abstract" content="You need to configure a traffic classifier before configuring class-based QoS. The traffic classifier can be configured based on the ACL rule, IP precedence, and so on.">
<meta name="description" content="You need to configure a traffic classifier before configuring class-based QoS. The traffic classifier can be configured based on the ACL rule, IP precedence, and so on.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_0126.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_0128.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909,m00390128">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Class-based QoS">
<meta name="featuretype" content="QOS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Class-based QoS">
<meta name="featuretype" content="QOS">
<meta name="featurename" content="Class-based QoS">
<meta name="featuretype" content="QOS">
<meta name="featurename" content="Class-based QoS">
<meta name="featuretype" content="QOS">
<meta name="OWNER" content="m00390128">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="m00915594">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172371271">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring a Traffic Classifier</title>
</head>
<body><a name="EN-US_TASK_0172371271"></a><a name="EN-US_TASK_0172371271"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a Traffic Classifier</h1>
<div class="taskbody"><p>You need to configure a traffic classifier before configuring class-based QoS. The traffic classifier can be configured based on the ACL rule, IP precedence, and so on.</p>
<div class="steps"><a name="EN-US_TASK_0172371271__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=traffic+classifier"><b><span class="cmdname">traffic classifier</span></b></a> <i><span class="varname">classifier-name</span></i> [ <strong><span>operator</span></strong> { <strong><span>and</span></strong> | <strong><span>or</span></strong> } ]</span><p><p>A traffic classifier is defined and its view is displayed.</p>
</p><p><p>If you define multiple matching rules in a traffic classifier, you can set the logical relationship between the matching rules by specifying the <strong>operator</strong> parameter.</p>
<ul><li><strong>and</strong>: A packet belongs to the classifier only when it matches all the rules.</li><li><strong>or</strong>: A packet belongs to the classifier if it matches any one of the rules.</li></ul>
</p></li><li><span>Define matching rules for the traffic classifier as required.</span><p><ul><li><p>To define a matching rule based on an ACL, run the <a href="cmdqueryname=if-match"><b><span class="cmdname">if-match</span></b></a> <strong><span>acl</span></strong> { <i><span class="varname">acl-number</span></i> | <strong><span>name</span></strong> <i><span class="varname">acl-name</span></i> } <span>[ <span><strong><span>precedence</span></strong> <i><span class="varname">precedence-value</span></i></span> ]</span> command.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If the <a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a> [ <i><span class="varname">rule-id</span></i> ] { <strong><span>deny</span></strong> | <strong><span>permit</span></strong> } { <i><span class="varname">protocol</span></i> | <strong><span>udp</span></strong> } <strong><span>vxlan</span></strong> <strong><span>vni</span></strong> <i><span class="varname">vni</span></i> and <a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a> [ <i><span class="varname">rule-id</span></i> ] { <strong><span>deny</span></strong> | <strong><span>permit</span></strong> } <i><span class="varname">protocol</span></i> [ <strong><span>packet-length</span></strong> <i><span class="varname">length-operation length-value</span></i> ] commands are configured for an advanced ACL, the rules that can be configured will be reduced.</p>
<p>ACL rules can be defined based on different parameters, such as the protocol type, source address, destination address, and the precedence field in packets. Packets are matched against rules configured using the <strong>rule</strong> command in the <strong>if-match acl</strong> configuration, and traffic behaviors are performed for the matching packets.</p>
</div></div>
</li><li><p>To define a matching rule based on a DSCP value, run the <a href="cmdqueryname=if-match"><b><span class="cmdname">if-match</span></b></a> <strong><span>dscp</span></strong> { <i><span class="varname">dscp-value</span></i> | <strong><span>af11</span></strong> | <strong><span>af12</span></strong> | <strong><span>af13</span></strong> | <strong><span>af21</span></strong> | <strong><span>af22</span></strong> | <strong><span>af23</span></strong> | <strong><span>af31</span></strong> | <strong><span>af32</span></strong> | <strong><span>af33</span></strong> | <strong><span>af41</span></strong> | <strong><span>af42</span></strong> | <strong><span>af43</span></strong> | <strong><span>cs1</span></strong> | <strong><span>cs2</span></strong> | <strong><span>cs3</span></strong> | <strong><span>cs4</span></strong> | <strong><span>cs5</span></strong> | <strong><span>cs6</span></strong> | <strong><span>cs7</span></strong> | <strong><span>ef</span></strong> | <strong><span>default</span></strong> } command.</p>
</li><li><p>To define a matching rule based on an IP precedence, run the <a href="cmdqueryname=if-match"><b><span class="cmdname">if-match</span></b></a><span> [ <strong><span>ipv6</span></strong> ]</span> <strong><span>ip-precedence</span></strong> <i><span class="varname">ip-precedence</span></i> command.</p>
</li><li><p>To define a matching rule to match all packets, run the <a href="cmdqueryname=if-match"><b><span class="cmdname">if-match</span></b></a> <strong><span>any</span></strong> command.</p>
</li></ul>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_0126.html">Configuring MF Classification-based Traffic Policies for VXLAN Packets
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_0128.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>