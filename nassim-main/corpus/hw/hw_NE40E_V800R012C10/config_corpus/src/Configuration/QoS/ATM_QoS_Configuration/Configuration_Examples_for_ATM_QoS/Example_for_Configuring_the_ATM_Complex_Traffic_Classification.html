
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring the ATM Complex Traffic Classification">
<meta name="abstract" content="This section provides an example for configuring ATM complex traffic classification.">
<meta name="description" content="This section provides an example for configuring ATM complex traffic classification.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_012604.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_012610.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_012612.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,atmqos_ne,w00556928,w00606909,m00390128,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="ATM QoS">
<meta name="featuretype" content="QOS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="ATM QoS">
<meta name="featuretype" content="QOS">
<meta name="featurename" content="ATM QoS">
<meta name="featuretype" content="QOS">
<meta name="featurename" content="ATM QoS">
<meta name="featuretype" content="QOS">
<meta name="OWNER" content="f00453093,m00390128">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00596142">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172371696">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Example for Configuring the ATM Complex Traffic Classification</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0172371696"></a><a name="EN-US_TASK_0172371696"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring the ATM Complex Traffic Classification</h1>
<div class="taskbody"><p>This section provides an example for configuring ATM complex traffic classification.</p>
<div class="context"><a name="EN-US_TASK_0172371696__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>As shown in <a href="#EN-US_TASK_0172371696__fig_dc_ne_qos_qos_cfg_01261101">Figure 1</a>, <span class="keyword">Device</span>A, <span class="keyword">Device</span>B, and <span class="keyword">Device</span>C are at the edge of the ATM network. They provide IP network access, enabling communications between the three separated packet switched networks (PSNs). IP packets are encapsulated into AAL5 frames when they are transmitted over the ATM network. The service is therefore called the IPoA service. When the packets leave the ATM network, the AAL5 frame headers are removed on the <span class="keyword">Router</span> before the packets are forwarded to other types of interfaces.</p>
<ul><li><p>The IP addresses of the ATM interfaces of the three <span class="keyword">Router</span>s are 202.38.160.1/24, 202.38.160.2/24, and 202.38.160.3/24.</p>
</li><li><p>On the ATM network, the VPIs/VCIs of <span class="keyword">Device</span>A are 0/40 and 0/50, which connect <span class="keyword">Device</span>B and <span class="keyword">Device</span>C respectively; the VPIs/VCIs of <span class="keyword">Device</span>B are 0/40 and 0/60, which connect <span class="keyword">Device</span>A and <span class="keyword">Device</span>C respectively; the VPIs/VCIs of <span class="keyword">Device</span>C are 0/50 and 0/60 respectively, which connect <span class="keyword">Device</span>A and <span class="keyword">Device</span>B respectively.</p>
</li><li><p>All PVCs on the ATM interfaces of the three <span class="keyword">Router</span>s are in IPoA mode.</p>
</li></ul>
<p>The specific requirements are as follows:</p>
<p>The downstream ATM <span>0/1/0</span> on <span class="keyword">Device</span>A is enabled with the complex traffic classification. All ATM cells carrying the IP packets with the IP precedence of 5, 6, and 7 can pass; the ATM cells carrying the IP packets with the IP precedence of 4 are guaranteed a bandwidth of 2 Mbit/s.</p>
<div class="fignone" id="EN-US_TASK_0172371696__fig_dc_ne_qos_qos_cfg_01261101"><a name="EN-US_TASK_0172371696__fig_dc_ne_qos_qos_cfg_01261101"></a><a name="fig_dc_ne_qos_qos_cfg_01261101"></a><span class="figcap"><b>Figure 1 </b>Networking diagram for configuring the ATM complex traffic classification</span><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>interface1 in this example represents ATM<span>0/1/0</span>.</p>
</div></div>
<br><span><img class="vsd" src="images/fig_dc_ne_qos_cfg_01261101.png"></span></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172371696__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><p>The configuration roadmap is as follows:</p>
<ol><li><p>Configure IP addresses for the interfaces.</p>
</li><li>Configure IPoA mappings for PVCs on interfaces.</li><li><p>Configure traffic classifiers.</p>
</li><li><p>Configure traffic behaviors.</p>
</li><li><p>Configure traffic policies.</p>
</li><li><p>Apply traffic policies to the ATM interfaces.</p>
</li></ol>
</div></div>
<div class="context"><a name="EN-US_TASK_0172371696__1.4.3"></a><a name="1.4.3"></a>
<div class="p"><h4 class="sectiontitle">Data Preparation</h4><p>To complete the configuration, you need the following data:</p>
<ul><li><p>IP addresses of the ATM interfaces of the three <span class="keyword">Router</span>s: 202.38.160.1/24, 202.38.160.2/24, and 202.38.160.3/24.</p>
</li><li><p>VPIs/VCIs of <span class="keyword">Device</span>A: 0/40 and 0/50, which connect <span class="keyword">Device</span>B and <span class="keyword">Device</span>C respectively</p>
</li><li><p>VPIs/VCIs of <span class="keyword">Device</span>B: 0/40 and 0/60, which connect <span class="keyword">Device</span>A and <span class="keyword">Device</span>C respectively</p>
</li><li><p>VPIs/VCIs of <span class="keyword">Device</span>C: 0/50 and 0/60, which connect <span class="keyword">Device</span>A and <span class="keyword">Device</span>B respectively</p>
</li><li><p>Parameters for the ATM complex traffic classification: names of traffic classifiers, IP precedence, names of traffic behaviors, guaranteed bandwidths, the name of a traffic policy, and interfaces to which the policy is applied</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172371696__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view and configure IP addresses for the ATM interfaces of the <span class="keyword">Router</span>s.</span><p><pre class="screen">&lt;<span class="keyword">Device</span>A&gt; <strong>system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A]<strong> interface atm <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-Atm<span>0/1/0</span>] <strong>undo shutdown</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-Atm<span>0/1/0</span>]<strong> ip address 202.38.160.1 255.255.255.0</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Atm<span>0/1/0</span>]<strong> commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-Atm<span>0/1/0</span>]<strong> return</strong></pre>
<pre class="screen">&lt;<span class="keyword">Device</span>B&gt; <strong>system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B]<strong> interface atm <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B-Atm<span>0/1/0</span>] <strong>undo shutdown</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B-Atm<span>0/1/0</span>] <strong>ip address 202.38.160.2 255.255.255.0</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Atm<span>0/1/0</span>]<strong> commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B-Atm<span>0/1/0</span>]<strong> return</strong></pre>
<pre class="screen">&lt;<span class="keyword">Device</span>C&gt; <strong>system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>C]<strong> interface atm <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>C-Atm<span>0/1/0</span>] <strong>undo shutdown</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>C-Atm<span>0/1/0</span>] <strong>ip address 202.38.160.3 255.255.255.0</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Atm<span>0/1/0</span>]<strong> commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>C-Atm<span>0/1/0</span>]<strong> return</strong></pre>
</p></li><li><span>Create PVCs and configure IPoA mappings for the PVCs.</span><p><pre class="screen">&lt;<span class="keyword">Device</span>A&gt; <strong>system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>interface atm <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-Atm<span>0/1/0</span>]<strong> pvc to_b 0/40</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-atm-pvc-Atm<span>0/1/0</span>-0/40-to_b]<strong> map ip 202.38.160.2</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-atm-pvc-Atm<span>0/1/0</span>-0/40-to_b]<strong> commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-atm-pvc-Atm<span>0/1/0</span>-0/40-to_b]<strong> quit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-Atm<span>0/1/0</span>]<strong> pvc to_c 0/50</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-atm-pvc-Atm<span>0/1/0</span>-0/50-to_c]<strong> map ip 202.38.160.3</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-atm-pvc-Atm<span>0/1/0</span>-0/50-to_c]<strong> commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-atm-pvc-Atm<span>0/1/0</span>-0/50-to_c]<strong> return</strong></pre>
<pre class="screen">&lt;<span class="keyword">Device</span>B&gt; <strong>system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B] <strong>interface atm <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B-Atm<span>0/1/0</span>]<strong> pvc to_a 0/40</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-atm-pvc-Atm<span>0/1/0</span>-0/40-to_a]<strong> map ip 202.38.160.1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-atm-pvc-Atm<span>0/1/0</span>-0/40-to_a]<strong> commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B-atm-pvc-Atm<span>0/1/0</span>-0/40-to_a]<strong> quit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B-Atm<span>0/1/0</span>]<strong> pvc to_c 0/60</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-atm-pvc-Atm<span>0/1/0</span>-0/60-to_c]<strong> map ip 202.38.160.3</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B-atm-pvc-Atm<span>0/1/0</span>-0/60-to_c]<strong> commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B-atm-pvc-Atm<span>0/1/0</span>-0/60-to_c]<strong> return</strong></pre>
<pre class="screen">&lt;<span class="keyword">Device</span>C&gt; <strong>system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>C] <strong>interface atm <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>C-Atm<span>0/1/0</span>]<strong> pvc to_a 0/50</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>C-atm-pvc-Atm<span>0/1/0</span>-0/50-to_a]<strong> map ip 202.38.160.1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>C-atm-pvc-Atm<span>0/1/0</span>-0/50-to_a]<strong> quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>C-Atm<span>0/1/0</span>]<strong> pvc to_b 0/60</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>C-atm-pvc-Atm<span>0/1/0</span>-0/60-to_b]<strong> map ip 202.38.160.2</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>C-atm-pvc-Atm<span>0/1/0</span>-0/60-to_b]<strong> commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>C-atm-pvc-Atm<span>0/1/0</span>-0/60-to_b]<strong> return</strong></pre>
</p></li><li><span>Configure the ATM complex traffic classification.</span><p><p># Create traffic classifiers and define matching rules.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>traffic classifier a</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-classifier-a]<strong> if-match ip-precedence 7</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-classifier-a]<strong> if-match ip-precedence 6</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-classifier-a]<strong> if-match ip-precedence 5</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-classifier-a] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A] <strong>traffic classifier b</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-classifier-b] <strong>if-match</strong> <strong>ip-precedence 4</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-classifier-b] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-classifier-b] <strong>quit</strong></pre>
<p>After the preceding configuration, you can run the <strong>display</strong> command to view the configuration of the traffic classifiers.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A]<strong> display traffic classifier user-defined</strong></pre>
<pre class="screen">User Defined Classifier Information:</pre>
<pre class="screen">   Classifier: b</pre>
<pre class="screen">    Operator: OR</pre>
<pre class="screen">Rule(s): if-match ip-precedence 4 </pre>
<pre class="screen">   Classifier: a</pre>
<pre class="screen">    Operator: OR</pre>
<pre class="screen">Rule(s) : if-match ip-precedence 7</pre>
<pre class="screen">            if-match ip-precedence 6</pre>
<pre class="screen">            if-match ip-precedence 5 </pre>
<p># Define traffic behaviors.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>traffic behavior a</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-behavior-a] <strong>permit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-behavior-a]<strong> quit</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A]<strong> traffic behavior b</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-behavior-b]<strong> car cir 2000</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-behavior-b]<strong> commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-behavior-b]<strong> quit</strong></pre>
<p>After the preceding configuration, you can run the <strong>display</strong> command to view the configuration of the traffic classifiers.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A]<strong> display traffic behavior user-defined</strong></pre>
<pre class="screen">User Defined Behavior Information:</pre>
<pre class="screen">    Behavior: b</pre>
<pre class="screen">      Committed Access Rate:</pre>
<pre class="screen">        CIR 2000 (Kbps), PIR 0 (Kbps), CBS 10000 (byte), PBS 0 (byte)</pre>
<pre class="screen"></pre>
<pre class="screen">        Conform Action: pass</pre>
<pre class="screen">        Yellow  Action: pass</pre>
<pre class="screen">        Exceed  Action: discard</pre>
<pre class="screen">    Behavior: a</pre>
<pre class="screen">      Firewall:</pre>
<pre class="screen">        permit  </pre>
<p># Define a traffic policy and associate the traffic classifiers with the traffic behaviors.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>traffic policy p</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-trafficpolicy-a]<strong> classifier a behavior a</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-trafficpolicy-a]<strong> classifier b behavior b</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-trafficpolicy-a]<strong> commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-trafficpolicy-a]<strong> quit</strong></pre>
<p># Apply the traffic policy to the outbound interface.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A]<strong> interface atm <span>0/1/0</span></strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-Atm<span>0/1/0</span>] <strong>undo shutdown</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-Atm<span>0/1/0</span>]<strong> traffic-policy p outbound</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Atm<span>0/1/0</span>]<strong> commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-Atm<span>0/1/0</span>] <strong>quit</strong></pre>
</p></li><li><span>Verify the configuration.</span><p><p>Run the <strong>display</strong> <strong>traffic</strong> <strong>policy</strong> command. You can view the configuration of the traffic policies, traffic classifiers defined in the traffic policies, and the traffic behaviors associated with traffic classifiers.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>display traffic policy user-defined</strong></pre>
<pre class="screen">User Defined Traffic Policy Information:</pre>
<pre class="screen"> Policy: p</pre>
<pre class="screen">   Classifier: default-class</pre>
<pre class="screen">     Behavior: be</pre>
<pre class="screen">      -none-</pre>
<pre class="screen">   Classifier: a</pre>
<pre class="screen">     Behavior: a</pre>
<pre class="screen">      Firewall:</pre>
<pre class="screen">        permit</pre>
<pre class="screen">   Classifier: b</pre>
<pre class="screen">     Behavior: b</pre>
<pre class="screen">      Committed Access Rate:</pre>
<pre class="screen">        CIR 2000 (Kbps), PIR 0 (Kbps), CBS 10000 (byte), PBS 0 (byte)</pre>
<pre class="screen"></pre>
<pre class="screen">        Conform Action: pass</pre>
<pre class="screen">        Yellow  Action: pass</pre>
<pre class="screen">        Exceed  Action: discard  </pre>
<p>Run the <strong>display interface</strong> command on <span class="keyword">Device</span>A. You can view that the traffic on the interfaces is controlled according to the specified requirements.</p>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0172371696__1.4.5"></a><a name="1.4.5"></a><h4 class="sectiontitle">Configuration Files</h4><ul><li><p>Configuration file of <span class="keyword">Device</span>A</p>
<pre class="screen">#</pre>
<pre class="screen"> sysname <span class="keyword">Device</span>A</pre>
<pre class="screen">#</pre>
<pre class="screen">traffic classifier a</pre>
<pre class="screen"> if-match ip-precedence 7</pre>
<pre class="screen">if-match ip-precedence 6</pre>
<pre class="screen">if-match ip-precedence 5</pre>
<pre class="screen">traffic classifier b</pre>
<pre class="screen"> if-match ip-precedence 4</pre>
<pre class="screen">#</pre>
<pre class="screen">traffic behavior a</pre>
<pre class="screen"> permit</pre>
<pre class="screen">traffic behavior b</pre>
<pre class="screen">car cir 2000 cbs 10000 pbs 0 green pass red discard </pre>
<pre class="screen">#</pre>
<pre class="screen">traffic policy p</pre>
<pre class="screen"> classifier a behavior a</pre>
<pre class="screen"> classifier b behavior b</pre>
<pre class="screen">#</pre>
<pre class="screen">interface Atm<span>0/1/0</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen">pvc to_b 0/40</pre>
<pre class="screen">  map ip 202.38.160.2</pre>
<pre class="screen">pvc to_c 0/50</pre>
<pre class="screen">  map ip 202.38.160.3</pre>
<pre class="screen">ip address 202.38.160.1 255.255.255.0</pre>
<pre class="screen">traffic-policy p outbound</pre>
<pre class="screen">#</pre>
<pre class="screen">return</pre>
</li><li><p>Configuration file of <span class="keyword">Device</span>B</p>
<pre class="screen">#</pre>
<pre class="screen"> sysname <span class="keyword">Device</span>B</pre>
<pre class="screen">#</pre>
<pre class="screen">interface Atm<span>0/1/0</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen">pvc to_a 0/40</pre>
<pre class="screen">  map ip 202.38.160.1</pre>
<pre class="screen">pvc to_c 0/60</pre>
<pre class="screen">  map ip 202.38.160.3</pre>
<pre class="screen">ip address 202.38.160.2 255.255.255.0</pre>
<pre class="screen">#</pre>
<pre class="screen">return</pre>
</li><li><p>Configuration file of <span class="keyword">Device</span>C</p>
<pre class="screen">#</pre>
<pre class="screen"> sysname <span class="keyword">Device</span>C</pre>
<pre class="screen">#</pre>
<pre class="screen">interface Atm<span>0/1/0</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen">pvc to_a 0/50</pre>
<pre class="screen">  map ip 202.38.160.1</pre>
<pre class="screen">pvc to_b 0/60</pre>
<pre class="screen">  map ip 202.38.160.2</pre>
<pre class="screen">ip address 202.38.160.3 255.255.255.0</pre>
<pre class="screen">#</pre>
<pre class="screen">return</pre>
</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_012604.html">Configuration Examples for ATM QoS
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_012610.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_012612.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>