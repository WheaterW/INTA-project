
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Basic VPLS QoS Functions">
<meta name="abstract" content="The VPN services carried over a tunnel have different resource requirements. To meet the resource requirements of VPLS services carried over a tunnel without affecting the quality of other VPN services, you need to configure VPLS QoS.">
<meta name="description" content="The VPN services carried over a tunnel have different resource requirements. To meet the resource requirements of VPLS services carried over a tunnel without affecting the quality of other VPN services, you need to configure VPLS QoS.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpn-qos_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpn-qos_cfg_0004.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpn-qos_cfg_0011.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_vpn-qos_cfg_5090a.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="vpnqos,w00800033,w00556928,w00606909,m00390128,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="VPN QoS">
<meta name="featuretype" content="QOS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="VPN QoS">
<meta name="featuretype" content="QOS">
<meta name="featurename" content="VPN QoS">
<meta name="featuretype" content="QOS">
<meta name="OWNER" content="z00545680,m00390128">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="l00425560">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172371738">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Basic VPLS QoS Functions</title>
</head>
<body><a name="EN-US_TASK_0172371738"></a><a name="EN-US_TASK_0172371738"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Basic VPLS QoS Functions</h1>
<div class="taskbody"><p>The VPN services carried over a tunnel have different resource requirements. To meet the resource requirements of VPLS services carried over a tunnel without affecting the quality of other VPN services, you need to configure VPLS QoS.</p>
<div class="context"><a name="EN-US_TASK_0172371738__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>In an L2VPN scenario, if multiple VPN services are carried over the same tunnel, bandwidth preemption occurs among these VPN services. Non-VPN traffic also preempts the bandwidth of VPN traffic. As a result, VPN traffic cannot be forwarded strictly based on service priorities.</p>
<p>To solve this problem, you need to configure VPLS QoS. VPLS QoS ensures that the VPLS services carried over the tunnel have their resource requirements met without affecting the service quality of other VPNs.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172371738__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring basic VPLS QoS functions, configure a VPLS VSI.</p>
<p>The VSI-based QoS configuration takes effect to all PWs in the VSI view. The VSI PW-based QoS configuration takes effect to a specified PW in an LDP VSI.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>VSI-based QoS and VSI PW-based QoS cannot be both configured in an LDP VSI.</p>
</div></div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172371738__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure basic VPN QoS functions in the VSI view.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=vsi"><b><span class="cmdname">vsi</span></b></a></span><em> vsi-name</em></span><p><p>A VSI is created, and the VSI view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=qos+cir"><b><span class="cmdname">qos cir</span></b></a> <i><span class="varname">cir-value</span></i> [ <strong><span>pir</span></strong> <i><span class="varname">pir-value</span></i> ] [ <strong><span>qos-profile</span></strong> <i><span class="varname">qos-profile-name</span></i> ]</span></span><p><p>QoS parameters are configured for the VSI.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure basic VPN QoS functions in the VSI-LDP-PW view.</span><ol><li class="substepexpand"><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=vsi"><b><span class="cmdname">vsi</span></b></a></span> <em>vsi-name</em></span><p><p>A VSI is created, and the VSI view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=pwsignal"><b><span class="cmdname">pwsignal</span></b></a> <strong><span>ldp</span></strong></span></span><p><p>The LDP signaling mode is configured for the VSI, and the VSI-LDP view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=pw"><b><span class="cmdname">pw</span></b></a></span> <em>pw-name</em></span><p><p>A PW is created, and the VSI-LDP-PW view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=qos+cir"><b><span class="cmdname">qos cir</span></b></a> <i><span class="varname">cir-value</span></i> [ <strong><span>pir</span></strong> <i><span class="varname">pir-value</span></i> ] [ <strong><span>qos-profile</span></strong> <i><span class="varname">qos-profile-name</span></i> ]</span><p><p>QoS parameters are configured for the VSI PW.</p>
</p></li><li class="substepexpand"><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
<div class="postreq"><a name="EN-US_TASK_0172371738__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><div class="p">After configuring basic VPLS QoS functions, verify the configuration.<ul><li>Run the <a href="cmdqueryname=display+mpls+l2vpn+qos"><b><span class="cmdname">display mpls l2vpn qos</span></b></a> command to check the bandwidth information about VPLS QoS.</li></ul>
</div>
</div></div>

<ul class="ullinks">
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_vpn-qos_cfg_5090a.html">(Optional) Configuring VPN-based QoS Profiles</a>
</dt>
<dd>
To implement QoS scheduling for VPN users, you can define various QoS profiles and apply them to VPN.</dd>
</dl>
</ul>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpn-qos_cfg_0001.html">VPN QoS Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpn-qos_cfg_0004.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vpn-qos_cfg_0011.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>