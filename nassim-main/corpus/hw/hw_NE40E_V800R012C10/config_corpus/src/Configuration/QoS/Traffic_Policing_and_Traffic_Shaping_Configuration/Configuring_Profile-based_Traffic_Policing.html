
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Profile-based Traffic Policing">
<meta name="abstract" content="QoS profile-based traffic policing allows you to configure a CAR policy in a QoS profile and apply the QoS profile to an interface to control the traffic on this interface.">
<meta name="description" content="QoS profile-based traffic policing allows you to configure a CAR policy in a QoS profile and apply the QoS profile to an interface to control the traffic on this interface.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_0003_1.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_0007.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909,m00390128">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Traffic Policing and Traffic Shaping">
<meta name="featuretype" content="QOS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Traffic Policing and Traffic Shaping">
<meta name="featuretype" content="QOS">
<meta name="featurename" content="Traffic Policing and Traffic Shaping">
<meta name="featuretype" content="QOS">
<meta name="OWNER" content="m00390128">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="m00915594">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0304220161">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Profile-based Traffic Policing</title>
</head>
<body><a name="EN-US_TASK_0304220161"></a><a name="EN-US_TASK_0304220161"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Profile-based Traffic Policing</h1>
<div class="taskbody"><p>QoS profile-based traffic policing allows you to configure a CAR policy in a QoS profile and apply the QoS profile to an interface to control the traffic on this interface.</p>
<div class="steps-unordered"><a name="EN-US_TASK_0304220161__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure traffic policing in a QoS profile.</span><ol><li class="substepexpand"><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=qos-profile"><b><span class="cmdname">qos-profile</span></b></a> <i><span class="varname">profile-name</span></i> command to create a QoS profile and enter its view.</span></li><li class="substepexpand"><span>(Optional) Run the <strong><a href="cmdqueryname=description"><b><span class="cmdname">description</span></b></a> </strong><em><i><span class="varname">description-info</span></i></em> command to configure a description for the QoS profile.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=car"><b><span class="cmdname">car</span></b></a> { <strong><span>cir </span></strong><i><span class="varname">cir-value</span></i> [ <strong><span>pir</span></strong> <i><span class="varname">pir-value</span></i> ] | <strong><span>cir </span></strong><strong><span>cir-percentage</span></strong> <i><span class="varname">cir-percentage-value</span></i> [ <strong><span>pir </span></strong><strong><span>pir-percentage</span></strong> <i><span class="varname">pir-percentage-value</span></i> ] } [ <a href="cmdqueryname=cbs"><b><span class="cmdname">cbs </span></b></a><i><span class="varname">cbs-value</span></i> [ <strong><span>pbs </span></strong><i><span class="varname">pbs-value</span></i> ] ] [ <strong><span>green </span></strong>{ <strong><span>discard </span></strong>| <strong><span>pass </span></strong>[ <strong><span>service-class </span></strong><i><span class="varname">class</span></i> <strong><span>color</span></strong><i><span class="varname"> color</span></i> ] } | <strong><span>yellow </span></strong>{ <strong><span>discard </span></strong>| <strong><span>pass </span></strong>[ <strong><span>service-class </span></strong><i><span class="varname">class</span></i> <strong><span>color </span></strong><i><span class="varname">color</span></i> ] } | <strong><span>red</span></strong> { <strong><span>discard </span></strong>| <strong><span>pass </span></strong>[ <strong><span>service-class </span></strong><i><span class="varname">class</span></i> <strong><span>color </span></strong><i><span class="varname">color</span></i> ] } ] * [ <strong><span>inbound </span></strong>| <strong><span>outbound </span></strong>] [ <strong><span>color-aware </span></strong>] command to configure CAR in order to guarantee user traffic.</span></li><li class="substepexpand"><span>(Optional) Run the <a href="cmdqueryname=broadcast-suppression"><b><span class="cmdname">broadcast-suppression</span></b></a> <strong><span>cir</span></strong> <i><span class="varname">cir-value</span></i> [ <strong><span>cbs</span></strong> <i><span class="varname">cbs-value</span></i> ] <span>[ <strong><span>inbound</span></strong> | <strong><span>outbound</span></strong> ]</span> command to configure a rate limit for broadcast packets in the QoS profile.</span></li><li class="substepexpand"><span>(Optional) Run the <a href="cmdqueryname=multicast-suppression"><b><span class="cmdname">multicast-suppression</span></b></a> <strong><span>cir</span></strong> <i><span class="varname">cir-value</span></i> [ <strong><span>cbs</span></strong> <i><span class="varname">cbs-value</span></i> ] <span>[ <strong><span>inbound</span></strong> | <strong><span>outbound</span></strong> ]</span> command to configure a rate limit for multicast packets in the QoS profile.</span></li><li class="substepexpand"><span>(Optional) Run the <a href="cmdqueryname=unknown-unicast-suppression"><b><span class="cmdname">unknown-unicast-suppression</span></b></a> <strong><span>cir</span></strong> <i><span class="varname">cir-value</span></i> [ <strong><span>cbs</span></strong> <i><span class="varname">cbs-value</span></i> ] <span>[ <strong><span>inbound</span></strong> | <strong><span>outbound</span></strong> ]</span> command to configure a rate limit for unknown unicast packets in the QoS profile.</span></li><li class="substepexpand"><span>(Optional) Run the <a href="cmdqueryname=bu-suppression"><b><span class="cmdname">bu-suppression</span></b></a> <strong><span>cir</span></strong> <i><span class="varname">cir-value</span></i> [ <strong><span>cbs</span></strong> <i><span class="varname">cbs-value</span></i> ] <strong><span>inbound</span></strong> command to configure an overall rate limit for broadcast and unknown unicast packets in the QoS profile.</span></li><li class="substepexpand"><span>(Optional) Run the <a href="cmdqueryname=bum-suppression"><b><span class="cmdname">bum-suppression</span></b></a> <strong><span>cir</span></strong> <i><span class="varname">cir-value</span></i> [ <strong><span>cbs</span></strong> <i><span class="varname">cbs-value</span></i> ] <strong><span>inbound</span></strong> command to configure an overall rate limit for broadcast, unknown unicast, and multicast packets in the QoS profile.</span><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The <a href="cmdqueryname=qos-profile"><b><span class="cmdname">qos-profile</span></b></a> command configuration on an interface is mutually exclusive with the CAR and traffic suppression configuration on this interface in the same direction.</p>
</div></div>
</p></li></ol>
</li><li><span>Apply the QoS profile.</span><ol><li class="substepexpand"><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> command to enter the interface view.</span></li><li class="substepexpand"><span>Run any of the following commands to apply the QoS profile to a specific type of interface:</span><p><ul><li>Run the <a href="cmdqueryname=qos-profile"><b><span class="cmdname">qos-profile</span></b></a> <i><span class="varname">qos-profile-name</span></i> { <strong><span>inbound</span></strong> | <strong><span>outbound</span></strong> }<span> [ <strong><span>identifier</span></strong> <strong><span>none</span></strong> ] </span>[ <strong><span>group</span></strong> <i><span class="varname">group-name</span></i> ] command to apply the QoS profile to <span>an IP-Trunk interface or </span>a dot1q sub-interface.</li><li>Run the <a href="cmdqueryname=qos-profile"><b><span class="cmdname">qos-profile</span></b></a> <i><span class="varname">qos-profile-name</span></i> { <strong><span>inbound</span></strong> | <strong><span>outbound</span></strong> } <strong><span>vlan</span></strong> <i><span class="varname">vlan-id-begin</span></i> [ <strong><span>to</span></strong> <i><span class="varname">vlan-id-end</span></i> ] [ <strong><span>identifier</span></strong> { <strong><span>vlan-id</span></strong> | <strong><span>none</span></strong> } ] [ <strong><span>group</span></strong> <i><span class="varname">group-name</span></i> ] command to apply the QoS profile to a Layer 2 interface or a dot1q VLAN tag termination sub-interface.</li><li>Run the <a href="cmdqueryname=qos-profile"><b><span class="cmdname">qos-profile</span></b></a> <i><span class="varname">qos-profile-name</span></i> { <strong><span>inbound</span></strong> | <strong><span>outbound</span></strong> } <strong><span>pe-vid</span></strong> <i><span class="varname">pe-vlan-id</span></i> <strong><span>ce-vid</span></strong> { <i><span class="varname">ce-vlan-id-begin</span></i> [<strong><span> to</span></strong> <i><span class="varname">ce-vlan-id-end</span></i> ] } [ <strong><span>identifier</span></strong> { <strong><span>pe-vid</span></strong> | <strong><span>ce-vid</span></strong> | <strong><span>pe-ce-vid</span></strong> | <strong><span>none</span></strong> } ] [ <strong><span>group</span></strong> <i><span class="varname">group-name</span></i> ] command to apply the QoS profile to a QinQ VLAN tag termination sub-interface.</li><li>Run the <a href="cmdqueryname=qos-profile"><b><span class="cmdname">qos-profile</span></b></a> <i><span class="varname">qos-profile-name</span></i> { <strong><span>inbound</span></strong> | <strong><span>outbound</span></strong> } [ <strong><span>identifier</span></strong> { <strong><span>none</span></strong> | <strong><span>vid</span></strong> | <strong><span>ce-vid</span></strong> | <strong><span>vid-ce-vid</span></strong> } ] [ <strong><span>group</span></strong> <i><span class="varname">group-name</span></i> ] command to apply the QoS profile to an EVC Layer 2 sub-interface.</li><li>Run the <a href="cmdqueryname=qos-profile"><b><span class="cmdname">qos-profile</span></b></a> <i><span class="varname">qos-profile-name</span></i> { <strong><span>inbound</span></strong> | <strong><span>outbound</span></strong> } <strong><span>vni</span></strong> <i><span class="varname">vni-id</span></i> <strong><span>source</span></strong> <i><span class="varname">sourceip</span></i> <strong><span>peer</span></strong> <i><span class="varname">peerip</span></i> command to apply the QoS profile to an NVE interface.</li></ul>
</p></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li></ol>
</li></ul></div>
<div class="postreq"><a name="EN-US_TASK_0304220161__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Verifying the Configuration</h4><div class="p">After completing the configuration, perform the following operations to verify the configuration:<ul><li>Run the <a href="cmdqueryname=display+qos-profile+application"><b><span class="cmdname">display qos-profile application</span></b></a> { <i><span class="varname">qos-profile-name</span></i> } command to check the application information about a QoS profile.</li><li>Run the <a href="cmdqueryname=display+qos-profile+configuration"><b><span class="cmdname">display qos-profile configuration</span></b></a> [ <i><span class="varname">qos-profile-name</span></i> ] command to check the configurations of a QoS profile.</li><li>Run the <a href="cmdqueryname=monitor+qos-profile+statistics"><b><span class="cmdname">monitor qos-profile statistics</span></b></a> <strong><span>interface</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> } [ <strong><span>vlan</span></strong> <i><span class="varname">vlan-id</span></i> | <strong><span>pe-vid</span></strong> <i><span class="varname">pe-vid</span></i> <strong><span>ce-vid</span></strong> <i><span class="varname">ce-vid</span></i> | <strong><span>vid</span></strong> <i><span class="varname">vid-id</span></i> | <strong><span>ce-vid</span></strong> <i><span class="varname">ce-vid</span></i> | <strong><span>vid</span></strong> <i><span class="varname">vid-id</span></i> <strong><span>ce-vid</span></strong> <i><span class="varname">ce-vid</span></i> ] { <strong><span>inbound</span></strong> | <strong><span>outbound</span></strong> } [ <strong><span>interval</span></strong> <i><span class="varname">seconds</span></i> [ <strong><span>repeat</span></strong> <i><span class="varname">repeat</span></i> ] ] command to monitor QoS profile statistics.</li><li>Run the <a href="cmdqueryname=display+traffic+buffer+usage+slot"><b><span class="cmdname">display traffic buffer usage slot</span></b></a> <i><span class="varname">slot-id</span></i> command to check the current buffer usage.<p><span>In VS mode, this command is supported only by the admin VS.</span></p>
</li></ul>
</div>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_0000.html">Traffic Policing and Traffic Shaping Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_0003_1.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_qos_cfg_0007.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>