
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring User Queues Based on a QoS Profile">
<meta name="abstract" content="A QoS profile is the aggregate of QoS scheduling parameters. You can configure scheduling parameters and bandwidth values for user queues or bind an FQ profile.">
<meta name="description" content="A QoS profile is the aggregate of QoS scheduling parameters. You can configure scheduling parameters and bandwidth values for user queues or bind an FQ profile.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_hqos_cfg_5011.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_hqos_cfg_5011_5.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_hqos_cfg_5011_7.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909,m00390128">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="HQoS">
<meta name="featuretype" content="QOS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="HQoS">
<meta name="featuretype" content="QOS">
<meta name="featurename" content="HQoS">
<meta name="featuretype" content="QOS">
<meta name="featurename" content="HQoS">
<meta name="featuretype" content="QOS">
<meta name="OWNER" content="m00390128">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="m00915594">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0268573349">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring User Queues Based on a QoS Profile</title>
</head>
<body><a name="EN-US_TASK_0268573349"></a><a name="EN-US_TASK_0268573349"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring User Queues Based on a QoS Profile</h1>
<div class="taskbody"><p>A QoS profile is the aggregate of QoS scheduling parameters. You can configure scheduling parameters and bandwidth values for user queues or bind an FQ profile.</p>
<div class="context"><a name="EN-US_TASK_0268573349__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0268573349__en-us_task_0266976973_context1061427862214058"><p id="EN-US_TASK_0268573349__en-us_task_0266976973_p68721145122418">To achieve uniform scheduling of incoming traffic flows on multiple interfaces, you need to implement traffic management by user levels. Interface-based HQoS only supports classifying traffic flows on one interface into a user queue (SQ) for scheduling. It does not support uniform scheduling of traffic flows on multiple interfaces. Profile-based HQoS, by comparison, supports classifying traffic flows on multiple interfaces into an SQ for scheduling. It implements uniform scheduling of traffic flows on multiple interfaces by defining QoS profiles and applying the profiles to different interfaces.</p>
<div class="note" id="EN-US_TASK_0268573349__en-us_task_0266976973_note2113842598214058"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0268573349__en-us_task_0266976973_p1530572265214058">You can configure scheduling parameters in a common QoS profile or a time-based QoS profile. A maximum of two user queue configurations can be configured in a time-based QoS profile.</p>
<ul id="EN-US_TASK_0268573349__en-us_task_0266976973_ul711624755214058"><li id="EN-US_TASK_0268573349__en-us_task_0266976973_li559682733214058"><p id="EN-US_TASK_0268573349__en-us_task_0266976973_p609319671214058"><a name="EN-US_TASK_0268573349__en-us_task_0266976973_li559682733214058"></a><a name="en-us_task_0266976973_li559682733214058"></a>The names of the common QoS profile and time-based QoS profile must be different.</p>
</li><li id="EN-US_TASK_0268573349__en-us_task_0266976973_li807152579214058"><p id="EN-US_TASK_0268573349__en-us_task_0266976973_p159197154214058"><a name="EN-US_TASK_0268573349__en-us_task_0266976973_li807152579214058"></a><a name="en-us_task_0266976973_li807152579214058"></a>If you have configured one time-based user queue, configuring one more non-time-based user queue is recommended. Within the time range, the time-based user queue takes effect; at other time, the non-time-based user queue takes effect.</p>
</li><li id="EN-US_TASK_0268573349__en-us_task_0266976973_li1805394490214058"><p id="EN-US_TASK_0268573349__en-us_task_0266976973_p1468744967214058"><a name="EN-US_TASK_0268573349__en-us_task_0266976973_li1805394490214058"></a><a name="en-us_task_0266976973_li1805394490214058"></a>If you need to configure two time-based user queues, configuring the two time ranges to cover the full day (24 hours) is recommended. If the two time ranges do not cover the full day (24 hours), the user queue does not take effect at the unspecified time.</p>
</li></ul>
</div></div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0268573349__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul id="EN-US_TASK_0268573349__en-us_task_0266976973_steps-unordered3339546141219"><li id="EN-US_TASK_0268573349__en-us_task_0266976973_step183391946151210"><span id="EN-US_TASK_0268573349__en-us_task_0266976973_cmd4339204621210">Configure user-queue scheduling parameters for a QoS profile.</span><ol id="EN-US_TASK_0268573349__en-us_task_0266976973_substeps4995172016133"><li class="substepexpand" id="EN-US_TASK_0268573349__en-us_task_0266976973_substep79951320191317"><span id="EN-US_TASK_0268573349__en-us_task_0266976973_cmd1579121552310">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0268573349__en-us_task_0266976973_cmdname354466104214058">system-view</span></b></a></span><p><p id="EN-US_TASK_0268573349__en-us_task_0266976973_p851010191424">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0268573349__en-us_task_0266976973_substep7994742151912"><span id="EN-US_TASK_0268573349__en-us_task_0266976973_cmd299434215190">Run <a href="cmdqueryname=qos-profile"><b><span class="cmdname" id="EN-US_TASK_0268573349__en-us_task_0266976973_cmdname721075003214058">qos-profile</span></b></a> <i><span class="varname" id="EN-US_TASK_0268573349__en-us_task_0266976973_varname166443460519">qos-profile-name</span></i></span><p><p id="EN-US_TASK_0268573349__en-us_task_0266976973_p99713514215">A QoS profile is defined and its view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0268573349__en-us_task_0266976973_substep1798188101512"><span id="EN-US_TASK_0268573349__en-us_task_0266976973_cmd7981168171519">(Optional) Run <strong id="EN-US_TASK_0268573349__en-us_task_0266976973_b1405170121610"><a href="cmdqueryname=description"><b><span class="cmdname" id="EN-US_TASK_0268573349__en-us_task_0266976973_cmdname93918631619">description</span></b></a> </strong><em id="EN-US_TASK_0268573349__en-us_task_0266976973_i640511017169"><i><span class="varname" id="EN-US_TASK_0268573349__en-us_task_0266976973_varname3271191131616">description-info</span></i></em></span><p><p id="EN-US_TASK_0268573349__en-us_task_0266976973_p22657341277">The description of the QoS profile is configured.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0268573349__en-us_task_0266976973_substep16565450122214"><span id="EN-US_TASK_0268573349__en-us_task_0266976973_cmd1656595015224">Run <strong id="EN-US_TASK_0268573349__en-us_task_0266976973_b019283917526"><a href="cmdqueryname=weight"><b><span class="cmdname" id="EN-US_TASK_0268573349__en-us_task_0266976973_cmdname1068313437520">weight</span></b></a> </strong><em id="EN-US_TASK_0268573349__en-us_task_0266976973_i7192123916523"><i><span class="varname" id="EN-US_TASK_0268573349__en-us_task_0266976973_varname1466025019527">weight-value</span></i></em> [ <strong id="EN-US_TASK_0268573349__en-us_task_0266976973_b8192539115214"><strong><span id="EN-US_TASK_0268573349__en-us_task_0266976973_cmdparmname88603545523">inbound</span></strong></strong> | <strong id="EN-US_TASK_0268573349__en-us_task_0266976973_b13192113916525"><strong><span id="EN-US_TASK_0268573349__en-us_task_0266976973_cmdparmname9410311538">outbound</span></strong></strong> ]</span><p><p id="EN-US_TASK_0268573349__en-us_task_0266976973_p1485310232215">A weight is set for user queues.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0268573349__en-us_task_0266976973_substep3891194732714"><span id="EN-US_TASK_0268573349__en-us_task_0266976973_cmd1989154717277">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0268573349__en-us_task_0266976973_cmdname1262619601214058">commit</span></b></a></span><p><p id="EN-US_TASK_0268573349__en-us_task_0266976973_p03261316124512">The configuration is committed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0268573349__en-us_task_0266976973_substep13748135116172"><span id="EN-US_TASK_0268573349__en-us_task_0266976973_cmd16748195141717">Run <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0268573349__en-us_task_0266976973_cmdname15106183115611">quit</span></b></a></span><p><p id="EN-US_TASK_0268573349__en-us_task_0266976973_p1328163994510">Return to the system view.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0268573349__en-us_task_0266976973_step91941046193015"><span id="EN-US_TASK_0268573349__en-us_task_0266976973_cmd121941246163020">(Optional) Configure the bandwidth granularity and quantity in a channel profile.</span><ol id="EN-US_TASK_0268573349__en-us_task_0266976973_substeps1768452063213"><li class="substepexpand" id="EN-US_TASK_0268573349__en-us_task_0266976973_substep16843209326"><span id="EN-US_TASK_0268573349__en-us_task_0266976973_cmd16848202322">Run <a href="cmdqueryname=qos+channel-profile"><b><span class="cmdname" id="EN-US_TASK_0268573349__en-us_task_0266976973_cmdname244743233214058">qos channel-profile</span></b></a> <i><span class="varname" id="EN-US_TASK_0268573349__en-us_task_0266976973_varname139210270264">channel-profile-name</span></i></span><p><p id="EN-US_TASK_0268573349__en-us_task_0266976973_p129420413473">A channel profile is created and its view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0268573349__en-us_task_0266976973_substep18778192413330"><span id="EN-US_TASK_0268573349__en-us_task_0266976973_cmd1622017304421">Run <a href="cmdqueryname=channel"><b><span class="cmdname" id="EN-US_TASK_0268573349__en-us_task_0266976973_cmdname461044830214058">channel</span></b></a> <i><span class="varname" id="EN-US_TASK_0268573349__en-us_task_0266976973_varname913847153211">channel-id</span></i> <strong id="EN-US_TASK_0268573349__en-us_task_0266976973_b91318471328"><strong><span id="EN-US_TASK_0268573349__en-us_task_0266976973_cmdparmname181315477322">bandwidth</span></strong></strong> <i><span class="varname" id="EN-US_TASK_0268573349__en-us_task_0266976973_varname31354793218">bandwidth-value</span></i> <strong id="EN-US_TASK_0268573349__en-us_task_0266976973_b18141947133218"><strong><span id="EN-US_TASK_0268573349__en-us_task_0266976973_cmdparmname1132473323">quantity</span></strong></strong> <i><span class="varname" id="EN-US_TASK_0268573349__en-us_task_0266976973_varname16148477329">quantity-value</span></i></span><p><p id="EN-US_TASK_0268573349__en-us_task_0266976973_p2874182118427">A bandwidth granularity and quantity are configured for a specific channel.</p>
</p><p><p id="EN-US_TASK_0268573349__en-us_task_0266976973_p11423139895">The bandwidth configured for user queues is a combination of a series of discrete bandwidths. Bandwidth granularity and quantity can be manually specified for each discrete bandwidth so that bandwidth can be properly allocated to services on the live network. If the default channel bandwidth is too small, the QoS resource specification requirements of PPP and MP services on low-speed cards cannot be met. Therefore, you need to run the <a href="cmdqueryname=display+qos+channel-profile"><b><span class="cmdname" id="EN-US_TASK_0268573349__en-us_task_0266976973_cmdname94237912914">display qos channel-profile</span></b></a> <strong><span id="EN-US_TASK_0268573349__en-us_task_0266976973_cmdparmname0297134233317">slot</span></strong> <i><span class="varname" id="EN-US_TASK_0268573349__en-us_task_0266976973_varname1129713424337">slot-id</span></i> [ <strong><span id="EN-US_TASK_0268573349__en-us_task_0266976973_cmdparmname7297842143317">verbose</span></strong> ] command to check whether the current resources meet the specification requirements. If the current resources do not meet the requirements, you need to configure a static channel bandwidth.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0268573349__en-us_task_0266976973_substep17245185153512"><span id="EN-US_TASK_0268573349__en-us_task_0266976973_cmd52456511356">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0268573349__en-us_task_0266976973_cmdname1024595183519">commit</span></b></a></span><p><p id="EN-US_TASK_0268573349__en-us_task_0266976973_p1933302515475">The configuration is committed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0268573349__en-us_task_0266976973_substep9241135315466"><span id="EN-US_TASK_0268573349__en-us_task_0266976973_cmd162411853144614">Run <a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0268573349__en-us_task_0266976973_cmdname162411533461">quit</span></b></a></span><p><p id="EN-US_TASK_0268573349__en-us_task_0266976973_p1568209192316">Return to the system view.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_hqos_cfg_5011.html">Configuring HQoS in Priority-based 8-CoS Mode
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_hqos_cfg_5011_5.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_hqos_cfg_5011_7.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>