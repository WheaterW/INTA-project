
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Modifying the User Address Lease Before the DHCPv6 Server Restarts">
<meta name="abstract" content="The user address lease can be shortened. This change allows DHCPv6 users to get online within a short period of time due to the DHCPv6 server upgrade without restarting the terminal.">
<meta name="description" content="The user address lease can be shortened. This change allows DHCPv6 users to get online within a short period of time due to the DHCPv6 server upgrade without restarting the terminal.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0091.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0086.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0082.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z50024784,z00603461,w00800033,z00588052,c00549182,ipv6-address_ne,w00556928,l00593348,w00606909,w00447999,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="l00593348">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172373883">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Modifying the User Address Lease Before the DHCPv6 Server Restarts</title>
</head>
<body><a name="EN-US_TASK_0172373883"></a><a name="EN-US_TASK_0172373883"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Modifying the User Address Lease Before the DHCPv6 Server Restarts</h1>
<div class="taskbody"><p>The user address lease can be shortened. This change allows DHCPv6 users to get online within a short period of time due to the DHCPv6 server upgrade without restarting the terminal.</p>
<div class="context"><a name="EN-US_TASK_0172373883__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>When the <span class="keyword">NE40E</span> is being upgraded, DHCPv6 users cannot detect that the link goes Down and dial-up again like PPP users. Therefore, these users do not redial to get online. Instead, the terminal must be restarted to trigger a DHCPv6 request so that the users can obtain IP addresses to get online again. In the current upgrade solution, the address pool lease time is shortened at the lease renewal time before the upgrade date. This solution ensures that the terminal can send lease renewal packets in a shorter period of time after the device is upgraded to allow DHCPv6 users to get online again.</p>
<div class="p">This upgrade solution has two disadvantages:<ul><li><p>Changing the address pool lease takes effect only for users that obtain addresses from local address pools. The address lease delivered by a RADIUS server is not changed. The users that have obtained addresses from the RADIUS server have to wait a comparatively long period of time to get online again.</p>
</li><li><p>The address pool lease is configured in the address pool view. Manually changing the lease configurations of all the address pools brings a huge workload.</p>
</li></ul>
</div>
<p>Using the <a href="cmdqueryname=dhcpv6+upgrade"><b><span class="cmdname">dhcpv6 upgrade</span></b></a> command in the system view to change the address lease for all DHCP users attached to the device solves these problems.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172373883__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=dhcpv6+upgrade"><b><span class="cmdname">dhcpv6 upgrade</span></b></a> <strong><span>preferred-lifetime</span></strong> <i><span class="varname">days</span></i> [ <i><span class="varname">hours</span></i> [ <i><span class="varname">minutes</span></i> ] ] <strong><span>valid-lifetime</span></strong> <i><span class="varname">day</span></i>s [ <i><span class="varname">hours</span></i> [ <i><span class="varname">minutes</span></i> ] ] [ <strong><span>renew-time-percent</span></strong> <i><span class="varname">renew-time-value</span></i> ] [ <strong><span>rebind-time-percent</span></strong> <i><span class="varname">rebind-time-value</span></i> ]</span></span><p><p>The address lease for all DHCPv6 users attached to the device is configured.</p>
<p>After the <strong>dhcpv6 upgrade</strong> command is used, the lease configured in the system view takes effect for new users, online users that need to renew the lease, users using addresses/prefixes in local and delegation address pools, and users using addresses/prefixes delivered by a RADIUS server.</p>
<p>No configuration file will be generated after the <strong>dhcpv6 upgrade</strong> command is used. To view the configuration result, run the <strong>display dhcpv6 upgrade</strong> command. The <strong>dhcpv6 upgrade</strong> command becomes invalid after the device restarts.</p>
<div class="notice"><span class="noticetitle"><img src="../../../../public_sys-resources/notice_3.0-en-us.png"> </span><div class="noticebody"><p>If a short lease is configured, a large number of users will renew their lease at the same time, causing high CPU usage. Therefore, configuring a short lease is not recommended unless the device needs to be upgraded.</p>
<p></p>
</div></div>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0091.html">(Optional) Configuring DHCPv6 Service Parameters
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0086.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0082.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>