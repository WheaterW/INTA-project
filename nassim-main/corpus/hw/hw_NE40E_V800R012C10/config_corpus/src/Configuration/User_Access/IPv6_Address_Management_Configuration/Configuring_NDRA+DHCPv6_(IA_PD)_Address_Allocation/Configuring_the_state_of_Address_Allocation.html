
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring the state of Address Allocation">
<meta name="abstract" content="You can configure the address assignment status based on the address assignment mode and access mode.">
<meta name="description" content="You can configure the address assignment status based on the address assignment mode and access mode.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0043.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0074.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0052.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z50024784,z00603461,w00800033,z00588052,c00549182,ipv6-address_ne,w00556928,l00593348,w00606909,w00447999,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="l00593348">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172373927">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring the state of Address Allocation</title>
</head>
<body><a name="EN-US_TASK_0172373927"></a><a name="EN-US_TASK_0172373927"></a>

<div class="articleBoxWithoutHead">





<h1 class="topicTitle-h1">Configuring the state of Address Allocation</h1>
<div class="taskbody"><p>You can configure the address assignment status based on the address assignment mode and access mode.</p>
<div class="context"><a name="EN-US_TASK_0172373927__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0172373927__en-us_task_0172373919_context2037641295214107"><p id="EN-US_TASK_0172373927__en-us_task_0172373919_p867744919563">If the address assignment mode is NDRA or NDRA+IA_PD, stateless address assignment (M=0) needs to be configured. By default, the M flag is 0 in the interface view and domain view, and no configuration is required.</p>
<p id="EN-US_TASK_0172373927__en-us_task_0172373919_p2045529099214107">If the M flag is 0 and the O flag is 1, clients obtain IPv6 addresses in stateless mode and other configuration information in stateful mode.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172373927__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0172373927__en-us_task_0172373919_steps897688099214107"><li id="EN-US_TASK_0172373927__en-us_task_0172373919_step2089638842214107"><span id="EN-US_TASK_0172373927__en-us_task_0172373919_cmd612454456214107">Configure the address assignment status on an interface.</span><ul id="EN-US_TASK_0172373927__en-us_task_0172373919_choices15671955278"><li id="EN-US_TASK_0172373927__en-us_task_0172373919_choice186710559711">For IPoE users, configure the address assignment status in the interface view.<ol type="a" id="EN-US_TASK_0172373927__en-us_task_0172373919_ol14397936484"><li id="EN-US_TASK_0172373927__en-us_task_0172373919_li839883615820">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172373927__en-us_task_0172373919_cmdname1745341835914">system-view</span></b></a><p id="EN-US_TASK_0172373927__en-us_task_0172373919_p1150712195590">The system view is displayed.</p>
</li><li id="EN-US_TASK_0172373927__en-us_task_0172373919_li23840572088">Run <a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0172373927__en-us_task_0172373919_cmdname102411725910">interface</span></b></a> <i><span class="varname" id="EN-US_TASK_0172373927__en-us_task_0172373919_varname024122692">interface-type interface-number</span></i> [ <i><span class="varname" id="EN-US_TASK_0172373927__en-us_task_0172373919_varname17485131517571">sub-interface</span></i> ]<p id="EN-US_TASK_0172373927__en-us_task_0172373919_p11405122975912">The interface view is displayed.</p>
</li><li id="EN-US_TASK_0172373927__en-us_task_0172373919_li1221645575511"><p id="EN-US_TASK_0172373927__en-us_task_0172373919_li1221645575511p0"><a name="EN-US_TASK_0172373927__en-us_task_0172373919_li1221645575511"></a><a name="en-us_task_0172373919_li1221645575511"></a>Run <a href="cmdqueryname=ipv6+enable"><b><span class="cmdname" id="EN-US_TASK_0172373927__en-us_task_0172373919_cmdname102938278568">ipv6 enable</span></b></a></p>
<p id="EN-US_TASK_0172373927__en-us_task_0172373919_p1346118445543">The IPv6 function is enabled for the interface.</p>
</li><li id="EN-US_TASK_0172373927__en-us_task_0172373919_li9984821911">Run <a href="cmdqueryname=undo+ipv6+nd+autoconfig+managed-address-flag"><b><span class="cmdname" id="EN-US_TASK_0172373927__en-us_task_0172373919_cmdname125551377592">undo ipv6 nd autoconfig managed-address-flag</span></b></a><p id="EN-US_TASK_0172373927__en-us_task_0172373919_p11370153811597">The interface is configured to use stateless autoconfiguration to obtain IPv6 addresses.</p>
</li><li id="EN-US_TASK_0172373927__en-us_task_0172373919_li1628112015910">Run <a href="cmdqueryname=ipv6+nd+autoconfig+other-flag"><b><span class="cmdname" id="EN-US_TASK_0172373927__en-us_task_0172373919_cmdname12904144614594">ipv6 nd autoconfig other-flag</span></b></a><p id="EN-US_TASK_0172373927__en-us_task_0172373919_p1681749125910">The interface is configured to use stateful autoconfiguration to obtain other configuration information.</p>
</li><li id="EN-US_TASK_0172373927__en-us_task_0172373919_li199703265911">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172373927__en-us_task_0172373919_cmdname161436573595">commit</span></b></a><p id="EN-US_TASK_0172373927__en-us_task_0172373919_p8525857155916">The configuration is committed.</p>
</li><li id="EN-US_TASK_0172373927__en-us_task_0172373919_li395312325120">(Optional) Configure a unicast destination address for RA messages.<ul id="EN-US_TASK_0172373927__en-us_task_0172373919_ul68781855181214"><li id="EN-US_TASK_0172373927__en-us_task_0172373919_li987965551217">Run the <a href="cmdqueryname=bas"><b><span class="cmdname" id="EN-US_TASK_0172373927__en-us_task_0172373919_cmdname154366131314">bas</span></b></a> command to enter the BAS interface view.</li><li id="EN-US_TASK_0172373927__en-us_task_0172373919_li181961689135">Run the <a href="cmdqueryname=ipv6+nd+ra+unicast"><b><span class="cmdname" id="EN-US_TASK_0172373927__en-us_task_0172373919_cmdname19962144133">ipv6 nd ra unicast</span></b></a> command to configure the <span class="keyword" id="EN-US_TASK_0172373927__en-us_task_0172373919_keyword6729238124515">Router</span> to send RA messages that carry a unicast destination address in response to IPoEv6 user access requests.</li><li id="EN-US_TASK_0172373927__en-us_task_0172373919_li12887111418131">Run the <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172373927__en-us_task_0172373919_cmdname20960519151314">commit</span></b></a> command to commit the configuration.</li></ul>
</li></ol>
</li><li id="EN-US_TASK_0172373927__en-us_task_0172373919_choice151849441697">For PPPoE users, configure the address assignment status in the domain view.<ol type="a" id="EN-US_TASK_0172373927__en-us_task_0172373919_ol127972915108"><li id="EN-US_TASK_0172373927__en-us_task_0172373919_li17797699101">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172373927__en-us_task_0172373919_cmdname109531481505">system-view</span></b></a><p id="EN-US_TASK_0172373927__en-us_task_0172373919_p151815920019">The system view is displayed.</p>
</li><li id="EN-US_TASK_0172373927__en-us_task_0172373919_li8798192212102">Run <a href="cmdqueryname=aaa"><b><span class="cmdname" id="EN-US_TASK_0172373927__en-us_task_0172373919_cmdname116162018903">aaa</span></b></a><p id="EN-US_TASK_0172373927__en-us_task_0172373919_p729316198011">The AAA view is displayed.</p>
</li><li id="EN-US_TASK_0172373927__en-us_task_0172373919_li18491129151019">Run <a href="cmdqueryname=domain"><b><span class="cmdname" id="EN-US_TASK_0172373927__en-us_task_0172373919_cmdname1075832716012">domain</span></b></a> <i><span class="varname" id="EN-US_TASK_0172373927__en-us_task_0172373919_varname27589274020">domain-name</span></i><p id="EN-US_TASK_0172373927__en-us_task_0172373919_p2499428301">A domain is created and the AAA domain view is displayed.</p>
</li><li id="EN-US_TASK_0172373927__en-us_task_0172373919_li151213441018">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172373927__en-us_task_0172373919_cmdname1598443716017">commit</span></b></a><p id="EN-US_TASK_0172373927__en-us_task_0172373919_p1313193915011">The configuration is committed.</p>
</li><li id="EN-US_TASK_0172373927__en-us_task_0172373919_li133271939181019">Run <a href="cmdqueryname=undo+ipv6+nd+autoconfig+managed-address-flag"><b><span class="cmdname" id="EN-US_TASK_0172373927__en-us_task_0172373919_cmdname18391344105515">undo ipv6 nd autoconfig managed-address-flag</span></b></a><p id="EN-US_TASK_0172373927__en-us_task_0172373919_p7682948701">The device is configured to assign IP addresses to PPPoX users in stateless mode.</p>
</li><li id="EN-US_TASK_0172373927__en-us_task_0172373919_li1011264617108"><p id="EN-US_TASK_0172373927__en-us_task_0172373919_li1011264617108p0"><a name="EN-US_TASK_0172373927__en-us_task_0172373919_li1011264617108"></a><a name="en-us_task_0172373919_li1011264617108"></a>Run <a href="cmdqueryname=ipv6+nd+autoconfig+other-flag"><b><span class="cmdname" id="EN-US_TASK_0172373927__en-us_task_0172373919_cmdname15301151121016">ipv6 nd autoconfig other-flag</span></b></a> { <strong><span id="EN-US_TASK_0172373927__en-us_task_0172373919_cmdparmname105312519104">ndra</span></strong> | <strong><span id="EN-US_TASK_0172373927__en-us_task_0172373919_cmdparmname0531125161014">dhcpv6</span></strong> | <a href="cmdqueryname=dhcpv6-enhance"><b><span class="cmdname" id="EN-US_TASK_0172373927__en-us_task_0172373919_cmdname1053115114106">dhcpv6-enhance</span></b></a> }</p>
<p id="EN-US_TASK_0172373927__en-us_task_0172373919_p186141825415">The device is configured to assign other configuration information using NDRA or stateless DHCPv6 when IPv6 addresses are assigned in NDRA mode.</p>
</li><li id="EN-US_TASK_0172373927__en-us_task_0172373919_li1844825415109">(Optional) Run <a href="cmdqueryname=prefix-assign-mode+unshared"><b><span class="cmdname" id="EN-US_TASK_0172373927__en-us_task_0172373919_cmdname105381130114">prefix-assign-mode unshared</span></b></a><p id="EN-US_TASK_0172373927__en-us_task_0172373919_p824124911">The IPv6 prefix assignment mode is set to unshared. That is, IPv6 users do not share the same IP prefix.</p>
</li><li id="EN-US_TASK_0172373927__en-us_task_0172373919_li1394142171113">(Optional) Run <a href="cmdqueryname=dhcpv6-follow-ipv6cp+wait-delay"><b><span class="cmdname" id="EN-US_TASK_0172373927__en-us_task_0172373919_cmdname7594151013120">dhcpv6-follow-ipv6cp wait-delay</span></b></a> <span id="EN-US_TASK_0172373927__en-us_task_0172373919_ph1759510101913">{ </span><i><span class="varname" id="EN-US_TASK_0172373927__en-us_task_0172373919_varname2059581014119">time-value</span></i><span id="EN-US_TASK_0172373927__en-us_task_0172373919_ph4595171012117"> | <strong><span id="EN-US_TASK_0172373927__en-us_task_0172373919_cmdparmname259513101518">infinity</span></strong> }</span><p id="EN-US_TASK_0172373927__en-us_task_0172373919_p441461115114">The timeout period for waiting for a DHCPv6 connection request from a PPPoE user is configured.</p>
</li><li id="EN-US_TASK_0172373927__en-us_task_0172373919_li3372165720117">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172373927__en-us_task_0172373919_cmdname18871121817118">commit</span></b></a><p id="EN-US_TASK_0172373927__en-us_task_0172373919_p378719191118">The configuration is committed.</p>
</li></ol>
</li></ul>
</li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0043.html">Configuring NDRA+DHCPv6 (IA_PD) Address Allocation
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0074.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0052.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>