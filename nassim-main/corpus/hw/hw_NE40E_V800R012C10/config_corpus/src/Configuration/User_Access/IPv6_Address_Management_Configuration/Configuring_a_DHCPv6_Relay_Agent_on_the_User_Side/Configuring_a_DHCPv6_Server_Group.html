
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a DHCPv6 Server Group">
<meta name="abstract" content="A DHCPv6 server group needs to be configured only when BAS-side users are assigned IPv6 addresses or prefixes from a remote address pool.">
<meta name="description" content="A DHCPv6 server group needs to be configured only when BAS-side users are assigned IPv6 addresses or prefixes from a remote address pool.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0012.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0056.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0069.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z50024784,z00603461,w00800033,z00588052,c00549182,ipv6-address_ne,w00556928,l00593348,w00606909,w00447999,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="l00593348">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172373862">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring a DHCPv6 Server Group</title>
</head>
<body><a name="EN-US_TASK_0172373862"></a><a name="EN-US_TASK_0172373862"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a DHCPv6 Server Group</h1>
<div class="taskbody"><p>A DHCPv6 server group needs to be configured only when BAS-side users are assigned IPv6 addresses or prefixes from a remote address pool.</p>
<div class="steps"><a name="EN-US_TASK_0172373862__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=dhcpv6-server+group"><b><span class="cmdname">dhcpv6-server group</span></b></a> <i><span class="varname">group-name</span></i></span><p><p>A DHCPv6 server group is created, and its view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li><li><span>Run <a href="cmdqueryname=dhcpv6-server"><b><span class="cmdname">dhcpv6-server</span></b></a> { <strong><span>destination</span></strong> <i><span class="varname">ipv6-address</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance</span></i> ] | <strong><span>interface</span></strong> <i><span class="varname">interface-type interface-number</span></i> } [ <strong><span>weight</span></strong> <i><span class="varname">weight-value</span></i> ]</span><p><p>An IPv6 address or an outbound interface is configured for the DHCPv6 server. A maximum of eight DHCPv6 servers can be configured in a DHCPv6 server group.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=dhcpv6-server+algorithm"><b><span class="cmdname">dhcpv6-server algorithm</span></b></a> { <strong><span>loading-share</span></strong> | <strong><span>master-backup</span></strong> | <strong><span>polling</span></strong> }</span><p><p>The algorithm for selecting DHCPv6 servers is configured.</p>
</p><p><p>This algorithm takes effect only when the DHCPv6 server group contains multiple servers. The available algorithms are load balancing, active/standby, and polling.</p>
<ul><li>Load balancing: Traffic is distributed based on the weights of DHCPv6 servers.</li><li>Active/standby: The first server that you configure is the active server and the others are standby servers.</li><li>Polling: The device sends Solicit, Request, Rebind, and Confirm messages to all servers in the DHCPv6 server group and selects the server that first responds to the request message for subsequent message exchanges.</li></ul>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=release-agent"><b><span class="cmdname">release-agent</span></b></a></span><p><p>The DHCPv6 release agent function is enabled.</p>
</p><p><p>When a user wants to go offline and the DHCPv6 release agent function is enabled, the <span class="keyword">NE40E</span>, instead of the user, sends DHCPv6 Release messages to DHCPv6 servers.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=dhcpv6-server+source"><b><span class="cmdname">dhcpv6-server source</span></b></a> { <strong><span>interface</span></strong> <i><span class="varname">interface-type interface-name</span></i> | <strong><span>link-address</span></strong> }</span><p><p>The source address or source interface of the messages to be sent to servers in the DHCPv6 server group is configured.</p>
</p></li><li><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view.</p>
</p></li><li><span>(Optional) Configure the device to insert Option 18 and Option 37 into the messages to be sent to a DHCPv6 server.</span><ol type="a"><li class="substepexpand"><span>Run the <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> command to enter the interface view.</span></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=dhcpv6+relay+option-insert+mode+type1"><b><span class="cmdname">dhcpv6 relay option-insert mode type1</span></b></a> [ <strong><span>remote-id</span></strong> { <strong><span>neba</span></strong> | <strong><span>vula</span></strong> } ] command to configure the device to insert the Option 18 and Option 37 attributes in OSP format into the Relay-Forward messages to be sent to the DHCPv6 server. <span>Alternatively, run the <a href="cmdqueryname=dhcpv6+relay+option-insert"><b><span class="cmdname">dhcpv6 relay option-insert</span></b></a> <i><span class="varname">option-code2</span></i> <strong><span>mode cn-telecom version2</span></strong> command to insert the Option 18 attribute into the Relay-Forward messages to be sent to the DHCPv6 server.</span></span><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>The <a href="cmdqueryname=dhcpv6+relay+option-insert+mode+type1"><b><span class="cmdname">dhcpv6 relay option-insert mode type1</span></b></a> [ <strong><span>remote-id</span></strong> { <strong><span>neba</span></strong> | <strong><span>vula</span></strong> } ]<span>, <a href="cmdqueryname=dhcpv6+relay+option-insert"><b><span class="cmdname">dhcpv6 relay option-insert</span></b></a> <i><span class="varname">option-code</span></i>2 <strong><span>mode cn-telecom version2</span></strong>,</span> and <a href="cmdqueryname=dhcpv6+relay+option-insert"><b><span class="cmdname">dhcpv6 relay option-insert</span></b></a> { <strong><span>interface-id</span></strong> <strong><span>mode</span></strong> { <strong><span>cn-telecom</span></strong> | <strong><span>tr-101</span></strong> } | <strong><span>remote-id</span></strong> } commands are mutually exclusive.</li><li>The <a href="cmdqueryname=dhcpv6+relay+option-insert+mode+type1"><b><span class="cmdname">dhcpv6 relay option-insert mode type1</span></b></a> [ <strong><span>remote-id</span></strong> { <strong><span>neba</span></strong> | <strong><span>vula</span></strong> } ] command takes effect in real time. After the command configuration is added, the device enables the function to insert the Option 18 and Option 37 attributes into the messages to be sent to the DHCPv6 server in the OSP format for online users on the current interface. After the command configuration is deleted, the device disables this function for online users on the current interface.</li><li><span>The <a href="cmdqueryname=dhcpv6+relay+option-insert"><b><span class="cmdname">dhcpv6 relay option-insert</span></b></a> <i><span class="varname">option-code</span></i>2 <strong><span>mode cn-telecom version2</span></strong></span> command takes effect in real time. After the command configuration is added, the device enables the function to <span>insert the Option 18 attribute into the Relay-Forward messages </span>to be sent to the DHCPv6 server for online users on the current interface. After the command configuration is deleted, the device disables this function for online users on the current interface.</li><li>The <a href="cmdqueryname=dhcpv6+relay+option-insert"><b><span class="cmdname">dhcpv6 relay option-insert</span></b></a> { <strong><span>interface-id</span></strong> <strong><span>mode</span></strong> { <strong><span>cn-telecom</span></strong> | <strong><span>tr-101</span></strong> } | <strong><span>remote-id</span></strong> } command takes effect in real time in BAS relay scenarios. After the command configuration is added, the device enables the function to insert the Option 18 and Option 37 attributes into the messages to be sent to the DHCPv6 server in the specified format for online users on the current interface. After the command configuration is deleted, the device disables this function for online users on the current interface.</li></ul>
</div></div>
</p></li><li class="substepexpand"><span>Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to return to the system view.</span></li></ol>
</li><li><span>(Optional) Configure the device to insert Option 79 into the messages to be sent to a DHCPv6 server.</span><ol type="a"><li><span>Run the <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> command to enter the interface view.</span></li><li><span>Run the <a href="cmdqueryname=dhcpv6+relay+option-insert"><b><span class="cmdname">dhcpv6 relay option-insert</span></b></a> <i><span class="varname">option-code</span></i><span>1</span> command to configure the device to insert Option 79 into the Relay-Forward messages to be sent to a DHCPv6 server.</span></li><li><span>Run the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command to return to the system view.</span></li></ol>
</li><li><span>(Optional) Run <a href="cmdqueryname=dhcpv6-server"><b><span class="cmdname">dhcpv6-server</span></b></a> [ <i><span class="varname">ipv6-address</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] ] { <strong><span>dead-count</span></strong> <i><span class="varname">dead-count</span></i> | <strong><span>timeout</span></strong> <i><span class="varname">timeout-value</span></i> | <strong><span>dead-time</span></strong> <i><span class="varname">dead-time</span></i> } *</span><p><p>The threshold for the DHCPv6 server to alternate between up and down is configured.</p>
</p></li><li><span>(Optional) Configure whitelist session-CAR for DHCPv6.</span><ol type="a"><li><span>(Optional) Run the <a href="cmdqueryname=undo+whitelist+session-car+dhcpv6-server+disable"><b><span class="cmdname">undo whitelist session-car dhcpv6-server disable</span></b></a> command to enable Whitelist session-CAR for DHCPv6.</span></li><li><span>Run the <strong>whitelist session-car dhcpv6-server</strong> { <strong>cir<em> </em></strong><em>cir-value</em> | <strong>cbs</strong><em> cbs-value</em> | <strong>pir</strong> <em>pir-value</em> | <strong>pbs</strong> <em>pbs-value </em>} * command to configure the bandwidth parameters of whitelist session-CAR for DHCPv6.</span></li></ol>
</li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0012.html">Configuring a DHCPv6 Relay Agent on the User Side
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0056.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0069.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>