
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring RADIUS Server Status Detection">
<meta name="abstract" content="">
<meta name="description" content="">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_aaa_cfg_0600.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_aaa_cfg_0610.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_aaa_cfg_0624.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00588052,w00437000,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="AAA (Access User)">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="z00588052,w00437000">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001136177694">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>(Optional) Configuring RADIUS Server Status Detection</title>
</head>
<body><a name="EN-US_TASK_0000001136177694"></a><a name="EN-US_TASK_0000001136177694"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring RADIUS Server Status Detection</h1>
<div class="taskbody" id="taskbody0000001136177694"><p id="shortdesc1314521583214059"></p>
<div class="context"><a name="EN-US_TASK_0000001136177694__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0000001136177694__context1805662189214059"><p id="EN-US_TASK_0000001136177694__p1672994766214059">RADIUS clients can detect the status of RADIUS servers and, based on the responses they receive, determine the real-time status of the servers. This helps identify which servers are in the Up state so that user request packets can be processed in real time.</p>
<p id="EN-US_TASK_0000001136177694__p203439677214059">The configuration is valid for all RADIUS servers.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001136177694__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0000001136177694__steps1132290861214059"><li id="EN-US_TASK_0000001136177694__step838938744214059"><span id="EN-US_TASK_0000001136177694__cmd1813327853214059">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0000001136177694__cmdname2065914699214059">system-view</span></b></a></span><p><p id="EN-US_TASK_0000001136177694__p3979419194418">The system view is displayed.</p>
</p></li><li id="EN-US_TASK_0000001136177694__step513126239214059"><span id="EN-US_TASK_0000001136177694__cmd1965856168214059">Run <a href="cmdqueryname=radius-server"><b><span class="cmdname" id="EN-US_TASK_0000001136177694__cmdname314221148214059">radius-server</span></b></a> { <strong><span id="EN-US_TASK_0000001136177694__cmdparmname1664371167214059">dead-count</span></strong> <i><span class="varname" id="EN-US_TASK_0000001136177694__varname1918043174214059">count</span></i> <span>[ <strong><span id="EN-US_TASK_0000001136177694__cmdparmname105760559214059">fail-rate</span></strong> <i><span class="varname" id="EN-US_TASK_0000001136177694__varname443673910535">fail-rate</span></i> ]</span> | <strong id="EN-US_TASK_0000001136177694__b10721743185610">dead-time</strong> <em id="EN-US_TASK_0000001136177694__i15721343205616">dead-time</em> [ <strong id="EN-US_TASK_0000001136177694__b072143135615">recover-count</strong> <strong id="EN-US_TASK_0000001136177694__b1772743135611">invalid</strong> ] | <strong><span id="EN-US_TASK_0000001136177694__cmdparmname1951599888214059">dead-interval</span></strong> <i><span class="varname" id="EN-US_TASK_0000001136177694__varname360843310214059">interval</span></i> }<sup id="EN-US_TASK_0000001136177694__sup1104820755214059">*</sup></span><p><p id="EN-US_TASK_0000001136177694__p89350346445">Parameters are configured for determining whether the state of a RADIUS server changes from Up to Down.</p>
</p><p><p id="EN-US_TASK_0000001136177694__p2118453125214059">If the device consecutively sends RADIUS packets to the RADIUS server for a number of times specified by <strong><span id="EN-US_TASK_0000001136177694__cmdparmname547379415214059">dead-count</span></strong> but receives no response and the interval between the first ignored packet and the n<sup id="EN-US_TASK_0000001136177694__sup1230918325451">th</sup> ignored packet where n is equal to <strong><span id="EN-US_TASK_0000001136177694__cmdparmname1630983204511">dead-count</span></strong> is longer than the value of <strong><span id="EN-US_TASK_0000001136177694__cmdparmname689655983214059">dead-interval</span></strong>, the device considers that the RADIUS server is abnormal. In this case, the device sets the state of the RADIUS server to Down.</p>
</p></li><li id="EN-US_TASK_0000001136177694__step15875192643120"><span id="EN-US_TASK_0000001136177694__cmd98751826133118">Configure a mode for restoring the Up state of the RADIUS server after its state is set to Down.</span><p>
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_TASK_0000001136177694__table1015084911336" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Configuring a mode for restoring the Up state of the RADIUS server after its state is set to Down</caption><thead align="left"><tr id="EN-US_TASK_0000001136177694__row13151134993318"><th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.4.2.3.2.1.2.4.1.1" liSelected="liSelected"><p id="EN-US_TASK_0000001136177694__p415184923319">Operation</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.4.2.3.2.1.2.4.1.2" liSelected="liSelected"><p id="EN-US_TASK_0000001136177694__p2015116495339">Command</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.4.2.3.2.1.2.4.1.3" liSelected="liSelected"><p id="EN-US_TASK_0000001136177694__p8151134953313">Description</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_TASK_0000001136177694__row101516496338"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.3.2.1.2.4.1.1 "><p id="EN-US_TASK_0000001136177694__p315144933317">Configure automatic recovery of the RADIUS server state.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0000001136177694__p315115491336"><a href="cmdqueryname=radius-server%28%E7%B3%BB%E7%BB%9F%E8%A7%86%E5%9B%BE%29"><b><span class="cmdname" id="EN-US_TASK_0000001136177694__cmdname12986161873411">radius-server</span></b></a> <strong><span id="EN-US_TASK_0000001136177694__cmdparmname498612188343">dead-time</span></strong> <i><span class="varname" id="EN-US_TASK_0000001136177694__varname1298671893419">time-value</span></i> <span>[ <strong><span id="EN-US_TASK_0000001136177694__cmdparmname1398601811343">recover-count invalid</span></strong> ]</span></p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.3.2.1.2.4.1.3 "><p id="EN-US_TASK_0000001136177694__p1915114913319">After the device sets the state of a RADIUS server to Down, the device waits a period specified by <strong><span id="EN-US_TASK_0000001136177694__cmdparmname2091102813346">dead-time</span></strong>. The device then sets the state of the RADIUS server to Up and attempts to set up a connection with it. If the connection cannot be set up, the device sets the state of the RADIUS server to Down again.</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001136177694__row101511749193315"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.3.2.1.2.4.1.1 "><p id="EN-US_TASK_0000001136177694__p015114920334">Configure RADIUS server state detection and restoration.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.3.2.1.2.4.1.2 "><p id="EN-US_TASK_0000001136177694__p12151194953310"><a href="cmdqueryname=radius-server+state-recovery-detect"><b><span class="cmdname" id="EN-US_TASK_0000001136177694__cmdname1432933943817">radius-server state-recovery-detect</span></b></a> { <strong><span id="EN-US_TASK_0000001136177694__cmdparmname832973933814">authentication</span></strong> | <strong><span id="EN-US_TASK_0000001136177694__cmdparmname133292398389">accounting</span></strong> } <strong><span id="EN-US_TASK_0000001136177694__cmdparmname13293395388">username</span></strong> <i><span class="varname" id="EN-US_TASK_0000001136177694__varname33291539103816">username</span></i> [ <strong><span id="EN-US_TASK_0000001136177694__cmdparmname83292396381">detect-interval</span></strong> <i><span class="varname" id="EN-US_TASK_0000001136177694__varname173291839193816">detect-interval</span></i> ] [ <strong><span id="EN-US_TASK_0000001136177694__cmdparmname183291039113820">detect-threshold</span></strong> <i><span class="varname" id="EN-US_TASK_0000001136177694__varname1832983953812">detect-threshold</span></i> ]</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.3.2.1.2.4.1.3 "><p id="EN-US_TASK_0000001136177694__p01514495334">Run this command to enable RADIUS server state detection and restoration so that the device can accurately determine the state of the RADIUS server. The device then sends detection packets to the RADIUS server at an interval specified by <strong><span id="EN-US_TASK_0000001136177694__cmdparmname206821912103914">detect-interval</span></strong>. If detection succeeds for a consecutive number of times specified by <strong><span id="EN-US_TASK_0000001136177694__cmdparmname368211215396">detect-threshold</span></strong>, the device sets the RADIUS server state to Up again.</p>
<div class="note" id="EN-US_TASK_0000001136177694__note26896307398"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TASK_0000001136177694__p1138693510393">After this command is run, the <a href="cmdqueryname=radius-server"><b><span class="cmdname" id="EN-US_TASK_0000001136177694__cmdname6386935153916">radius-server</span></b></a> <strong><span id="EN-US_TASK_0000001136177694__cmdparmname8386935173913">dead-time</span></strong> <i><span class="varname" id="EN-US_TASK_0000001136177694__varname338663511394">dead-time</span></i> <span>[ <strong><span id="EN-US_TASK_0000001136177694__cmdparmname173867356399">recover-count invalid</span></strong> ]</span> command does not take effect. That is, the RADIUS server state will not be automatically set to Up after the period specified by <strong><span id="EN-US_TASK_0000001136177694__cmdparmname438616359391">dead-time</span></strong> expires.</p>
</div></div>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li id="EN-US_TASK_0000001136177694__step533541561214059"><span id="EN-US_TASK_0000001136177694__cmd1488789502214059">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001136177694__cmdname223007532214059">commit</span></b></a></span><p><p id="EN-US_TASK_0000001136177694__p6234185220442">The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_aaa_cfg_0600.html">Configuring a Device as a RADIUS Client
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_aaa_cfg_0610.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_aaa_cfg_0624.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>