
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Diameter Functions">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_aaa_cfg_0050.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_aaa_cfg_0051.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_aaa_cfg_0053.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00588052,w00437000,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="AAA (Access User)">
<meta name="featurename" content="PPPoE">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="AAA (Access User)">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="z00588052,w00437000">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172373704">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Diameter Functions</title>
</head>
<body><a name="EN-US_TASK_0172373704"></a><a name="EN-US_TASK_0172373704"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Diameter Functions</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0172373704__1.3.1"></a><a name="1.3.1"></a>
<div class="p"><h4 class="sectiontitle">Context</h4><p>Enabling Diameter functions is a prerequisite for configuring a Diameter server. After Diameter is enabled, you can also configure some optional Diameter functions, such as <span>the format of the subscription-id attribute to be sent to the Diameter server, </span>number of retransmissions of detection packets, and number of retransmissions of CCR-I messages.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172373704__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=diameter+enable"><b><span class="cmdname">diameter enable</span></b></a></span><p><p>The <span class="keyword">Router</span> is configured to interwork with the Diameter server.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=diameter+subscription-id+include"><b><span class="cmdname">diameter subscription-id include</span></b></a> { <strong><span>mac-address</span></strong> { <i><span class="varname">macaddr_separator</span></i> | <strong><span>noseparator</span></strong> } [ <i><span class="varname">subscription-separator</span></i> ] | <strong><span>username</span></strong> [ <i><span class="varname">subscription-separator</span></i> ] | <strong><span>circuit-id</span></strong> [ <i><span class="varname">subscription-separator</span></i> ] } <sup>*</sup></span><p><p>The format of the subscription-id attribute to be sent to the Diameter server is configured.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=diameter-dwr"><b><span class="cmdname">diameter-dwr</span></b></a> { <strong><span>retransmit</span></strong> <i><span class="varname">retry-times</span></i> | <strong><span>timeout</span></strong> <i><span class="varname">second</span></i> }<sup> *</sup></span><p><p>The number of retransmissions of device watchdog request (DWR) packets and a detection timeout period are configured.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=diameter+gx+event-trigger+version"><b><span class="cmdname">diameter gx event-trigger version</span></b></a> { <strong><span>r940</span></strong> | <strong><span>r970</span></strong> }</span><p><p>The value of USAGE-REPORT in Event-Trigger is modified.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=diameter+monitor-key+parse-mode"><b><span class="cmdname">diameter monitor-key parse-mode</span></b></a> { <strong><span>integer</span></strong> | <strong><span>string</span></strong> }</span><p><p>A parsing mode is configured for the Diameter monitoring key.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=diameter+gx+ccri+retransmit"><b><span class="cmdname">diameter gx ccri retransmit</span></b></a> <i><span class="varname">retry-times</span></i></span><p><p>The number of times that the device retransmits CCR-I messages to the Diameter server is configured when the Diameter server does not receive CCR-I messages or the device discards CCR-I messages returned by the Diameter server. This command can be used together with the <a href="cmdqueryname=diameter+gx+ccri+retransmit+round"><b><span class="cmdname">diameter gx ccri retransmit round</span></b></a> <i><span class="varname">round-num </span></i><strong><span>round-timeout </span></strong><i><span class="varname">timeout-num</span></i> command to configure the number of CCR-I message retransmission rounds and the retransmission interval of each round.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=diameter+gx+event-trigger+ignore+usage-report"><b><span class="cmdname">diameter gx event-trigger ignore usage-report</span></b></a></span><p><p>The device is enabled to identify the quotas delivered by the Diameter server through CCR-I, CCR-U, or RAR messages even if the Event-Trigger AVP of USAGE_REPORT is not delivered.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=diameter+daa+volume-quota+total"><b><span class="cmdname">diameter daa volume-quota total</span></b></a> { <strong><span>send</span></strong> | <a href="cmdqueryname=receive"><b><span class="cmdname">receive</span></b></a> }</span><p><p>The device is configured to process the traffic quota delivered by the Diameter server or the traffic usage sent to the Diameter server in total mode.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_aaa_cfg_0050.html">Configuring a Device as a Diameter Client
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_aaa_cfg_0051.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_aaa_cfg_0053.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>