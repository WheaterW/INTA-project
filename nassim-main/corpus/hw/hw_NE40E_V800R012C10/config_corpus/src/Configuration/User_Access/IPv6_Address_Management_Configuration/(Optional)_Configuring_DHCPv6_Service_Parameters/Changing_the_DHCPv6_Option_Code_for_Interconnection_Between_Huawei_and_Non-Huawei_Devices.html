
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Changing the DHCPv6 Option Code for Interconnection Between Huawei and Non-Huawei Devices">
<meta name="abstract" content="On the NE40E, the vendor-class attribute is carried in DHCPv6 Option 16. However, on a non-Huawei device, a different option code may be used. To enable a Huawei device to communicate with a non-Huawei device, you can modify the DHCPv6 option code.">
<meta name="description" content="On the NE40E, the vendor-class attribute is carried in DHCPv6 Option 16. However, on a non-Huawei device, a different option code may be used. To enable a Huawei device to communicate with a non-Huawei device, you can modify the DHCPv6 option code.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0091.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0082.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0090.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z50024784,z00603461,w00800033,z00588052,c00549182,ipv6-address_ne,w00556928,l00593348,w00606909,w00447999,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="l00593348">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172373885">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Changing the DHCPv6 Option Code for Interconnection Between Huawei and Non-Huawei Devices </title>
</head>
<body><a name="EN-US_TASK_0172373885"></a><a name="EN-US_TASK_0172373885"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Changing the DHCPv6 Option Code for Interconnection Between Huawei and Non-Huawei Devices </h1>
<div class="taskbody"><p>On the <span class="keyword">NE40E</span>, the vendor-class attribute is carried in DHCPv6 Option 16. However, on a non-Huawei device, a different option code may be used. To enable a Huawei device to communicate with a non-Huawei device, you can modify the DHCPv6 option code.</p>
<div class="context"><a name="EN-US_TASK_0172373885__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>If the mapping between the vendor-class attribute and a DHCPv6 option code is configured in both system and BAS interface views, the configuration in the BAS interface view takes effect.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172373885__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure a mapping between the vendor-class attribute and a DHCPv6 option code in the system view.</span><ol><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172373885__su_01"><span id="EN-US_TASK_0172373885__cmd063892118257">Run <a href="cmdqueryname=vendor-class+dhcpv6"><b><span class="cmdname" id="EN-US_TASK_0172373885__cmdname1811806434214107">vendor-class dhcpv6</span></b></a> { <strong><span id="EN-US_TASK_0172373885__cmdparmname682049834214107">option-code</span></strong> <i><span class="varname" id="EN-US_TASK_0172373885__varname1229732734214107">option-code</span></i> | <strong><span id="EN-US_TASK_0172373885__cmdparmname1477144676214107">offset</span></strong> <i><span class="varname" id="EN-US_TASK_0172373885__varname1798856782214107">offset</span></i> } <sup id="EN-US_TASK_0172373885__sup742665660214107">*</sup></span><p><p id="EN-US_TASK_0172373885__p13918141852417">The mapping between the vendor-class attribute and a DHCPv6 option code as well as the offset value are configured. After the configuration is complete, the BRAS uses the offset value to obtain the desired content in the Value field of the DHCPv6 option.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li><li><span>Configure a mapping between the vendor-class attribute and a DHCPv6 option code in the BAS interface view.</span><ol><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <em>interface-type interface-number</em> [<i><span class="varname">. subinterface-number</span></i> ]</span><p><p>The interface view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=bas"><b><span class="cmdname">bas</span></b></a></span><p><p>A BAS interface is created, and its view is displayed.</p>
</p></li><li class="substepexpand"><span>Configure a user access type and related attributes:</span><p><ul id="EN-US_TASK_0172373885__en-us_task_0172373974_ul165593716212"><li id="EN-US_TASK_0172373885__en-us_task_0172373974_li1412793214328">To set the access type to Layer 2 common users and configure related attributes, run the <a href="cmdqueryname=access-type"><b><span class="cmdname" id="EN-US_TASK_0172373885__en-us_task_0172373974_cmdname1833610486327">access-type</span></b></a> <strong id="EN-US_TASK_0172373885__en-us_task_0172373974_b6336174815329">layer2-subscriber</strong> [ <strong id="EN-US_TASK_0172373885__en-us_task_0172373974_b11336548123212">bas-interface-name </strong><i><span class="varname" id="EN-US_TASK_0172373885__en-us_task_0172373974_varname163361348143210">bname</span></i> | <strong><span id="EN-US_TASK_0172373885__en-us_task_0172373974_cmdparmname43361948173219">default-domain</span></strong> { <strong id="EN-US_TASK_0172373885__en-us_task_0172373974_b123361248183212">pre-authentication</strong> <em id="EN-US_TASK_0172373885__en-us_task_0172373974_i6336124815321">predname</em> | <strong id="EN-US_TASK_0172373885__en-us_task_0172373974_b633614803218">authentication</strong> [ <strong id="EN-US_TASK_0172373885__en-us_task_0172373974_b12336748193217">force</strong> | <strong id="EN-US_TASK_0172373885__en-us_task_0172373974_b17336174853220">replace</strong> ] <em id="EN-US_TASK_0172373885__en-us_task_0172373974_i1033634863217">dname</em> } <sup id="EN-US_TASK_0172373885__en-us_task_0172373974_sup1933634810329">*</sup> | <strong id="EN-US_TASK_0172373885__en-us_task_0172373974_b53361448133212">accounting-copy </strong><strong id="EN-US_TASK_0172373885__en-us_task_0172373974_b113361748173215">radius-server </strong><em id="EN-US_TASK_0172373885__en-us_task_0172373974_i433644893218">rd-name</em> ] <sup id="EN-US_TASK_0172373885__en-us_task_0172373974_sup233615480324">*</sup> command.</li><li id="EN-US_TASK_0172373885__en-us_task_0172373974_li1065643782119">To configure the access type and related attributes for Layer 3 common users, run the <a href="cmdqueryname=access-type"><b><span class="cmdname" id="EN-US_TASK_0172373885__en-us_task_0172373974_cmdname79687174214107">access-type</span></b></a> <strong id="EN-US_TASK_0172373885__en-us_task_0172373974_b1685950058214107">layer3-subscriber</strong> [ <strong id="EN-US_TASK_0172373885__en-us_task_0172373974_b1674661342214107">default-domain</strong> { [ <strong id="EN-US_TASK_0172373885__en-us_task_0172373974_b1910136732214107">pre-authentication</strong> <em id="EN-US_TASK_0172373885__en-us_task_0172373974_i1759707876214107">predname</em> ] <strong id="EN-US_TASK_0172373885__en-us_task_0172373974_b1318807456214107">authentication</strong> [ <strong id="EN-US_TASK_0172373885__en-us_task_0172373974_b1512026284214107">force</strong> | <strong id="EN-US_TASK_0172373885__en-us_task_0172373974_b1050503503214107">replace</strong> ] <em id="EN-US_TASK_0172373885__en-us_task_0172373974_i1828208780214107">dname</em> }<sup id="EN-US_TASK_0172373885__en-us_task_0172373974_sup2292135842918">*</sup> ] command.<div class="note" id="EN-US_TASK_0172373885__en-us_task_0172373974_note1763072417315"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172373885__en-us_task_0172373974_p186301824153110">When setting the user access type on a BAS interface, you can set the service attributes of the access users at the same time or later.</p>
</div></div>
<ul id="EN-US_TASK_0172373885__en-us_task_0172373974_ul1985783973111"><li id="EN-US_TASK_0172373885__en-us_task_0172373974_li28571539113117">To specify an IP address segment and an associated authentication domain name for Layer 3 common users, run the <a href="cmdqueryname=layer3-subscriber"><b><span class="cmdname" id="EN-US_TASK_0172373885__en-us_task_0172373974_cmdname8220344163112">layer3-subscriber</span></b></a> {<i><span class="varname" id="EN-US_TASK_0172373885__en-us_task_0172373974_varname422011443316"> start-ip-address</span></i> [<i><span class="varname" id="EN-US_TASK_0172373885__en-us_task_0172373974_varname10220844133110"> end-ip-address</span></i> ] | <i><span class="varname" id="EN-US_TASK_0172373885__en-us_task_0172373974_varname1522094418319">start-ipv6-address</span></i> [<i><span class="varname" id="EN-US_TASK_0172373885__en-us_task_0172373974_varname122024418312"> end-ipv6-address</span></i> ] | <strong><span id="EN-US_TASK_0172373885__en-us_task_0172373974_cmdparmname222015448315">delegation-prefix</span></strong> <i><span class="varname" id="EN-US_TASK_0172373885__en-us_task_0172373974_varname122054413117">start-ipv6-address</span></i> [<i><span class="varname" id="EN-US_TASK_0172373885__en-us_task_0172373974_varname1822014463110"> end-ipv6-address</span></i> ] [<i><span class="varname" id="EN-US_TASK_0172373885__en-us_task_0172373974_varname1022074473120"> end-ip-address</span></i> ] <i><span class="varname" id="EN-US_TASK_0172373885__en-us_task_0172373974_varname1356759835214107">mask-length</span></i>} * [ <strong><span id="EN-US_TASK_0172373885__en-us_task_0172373974_cmdparmname102209449313">vpn-instance</span></strong> <i><span class="varname" id="EN-US_TASK_0172373885__en-us_task_0172373974_varname122011440311">instance-name</span></i> ] <strong><span id="EN-US_TASK_0172373885__en-us_task_0172373974_cmdparmname142211844183112">domain-name</span></strong> <i><span class="varname" id="EN-US_TASK_0172373885__en-us_task_0172373974_varname2221544103117">domain-name</span></i><span id="EN-US_TASK_0172373885__en-us_task_0172373974_ph12211044123113"> and <a href="cmdqueryname=layer3-subscriber+ip-address+any"><b><span class="cmdname" id="EN-US_TASK_0172373885__en-us_task_0172373974_cmdname14221844123114">layer3-subscriber ip-address any</span></b></a> <strong><span id="EN-US_TASK_0172373885__en-us_task_0172373974_cmdparmname112211744133119">domain-name</span></strong> <i><span class="varname" id="EN-US_TASK_0172373885__en-us_task_0172373974_varname1822110447314">domain-name</span></i></span> commands in the system view.</li><li id="EN-US_TASK_0172373885__en-us_task_0172373974_li1827994711318">To specify an IPv4 address segment and an associated authentication domain name for Layer 3 static users using the mask mode, run the <a href="cmdqueryname=layer3-subscriber+subnet-session"><b><span class="cmdname" id="EN-US_TASK_0172373885__en-us_task_0172373974_cmdname72491551163113">layer3-subscriber subnet-session</span></b></a> <i><span class="varname" id="EN-US_TASK_0172373885__en-us_task_0172373974_varname1024955183118">start-ip-address</span></i> { <i><span class="varname" id="EN-US_TASK_0172373885__en-us_task_0172373974_varname1424935143111">mask-address</span></i> | <i><span class="varname" id="EN-US_TASK_0172373885__en-us_task_0172373974_varname122491951133112">mask-length</span></i> } [ <strong><span id="EN-US_TASK_0172373885__en-us_task_0172373974_cmdparmname6249145103120">vpn-instance </span></strong><i><span class="varname" id="EN-US_TASK_0172373885__en-us_task_0172373974_varname324995120313">instance-name</span></i> ] <strong><span id="EN-US_TASK_0172373885__en-us_task_0172373974_cmdparmname42491511311">domain-name </span></strong><i><span class="varname" id="EN-US_TASK_0172373885__en-us_task_0172373974_varname17249155116314">domain-name</span></i> command in the system view.</li></ul>
<div class="note" id="EN-US_TASK_0172373885__en-us_task_0172373974_note6423838327"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul id="EN-US_TASK_0172373885__en-us_task_0172373974_ul11804157143211"><li id="EN-US_TASK_0172373885__en-us_task_0172373974_li880467133216">The access type cannot be configured on an Ethernet interface that is added to an Eth-Trunk interface. You can configure the access type of such an Ethernet interface only on the associated Eth-Trunk interface.</li><li id="EN-US_TASK_0172373885__en-us_task_0172373974_li980413710324">When configuring static routes for Layer 3 users, specify the next hop as the user IP address and do not specify the outbound interface. Otherwise, network-to-user traffic may fail to be forwarded.</li></ul>
</div></div>
</li></ul>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=vendor-class+dhcpv6"><b><span class="cmdname" id="EN-US_TASK_0172373885__en-us_task_0172373885_cmdname1811806434214107">vendor-class dhcpv6</span></b></a> { <strong><span id="EN-US_TASK_0172373885__en-us_task_0172373885_cmdparmname682049834214107">option-code</span></strong> <i><span class="varname" id="EN-US_TASK_0172373885__en-us_task_0172373885_varname1229732734214107">option-code</span></i> | <strong><span id="EN-US_TASK_0172373885__en-us_task_0172373885_cmdparmname1477144676214107">offset</span></strong> <i><span class="varname" id="EN-US_TASK_0172373885__en-us_task_0172373885_varname1798856782214107">offset</span></i> } <sup id="EN-US_TASK_0172373885__en-us_task_0172373885_sup742665660214107">*</sup></span><p><p id="EN-US_TASK_0172373885__en-us_task_0172373885_p13918141852417">The mapping between the vendor-class attribute and a DHCPv6 option code as well as the offset value are configured. After the configuration is complete, the BRAS uses the offset value to obtain the desired content in the Value field of the DHCPv6 option.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0091.html">(Optional) Configuring DHCPv6 Service Parameters
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0082.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0090.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>