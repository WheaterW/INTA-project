
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring Global DHCPv4 Parameters">
<meta name="abstract" content="Global DHCPv4 parameters include the maximum number of DHCPv4 access users allowed for a specified board and the limit on the packet transmission rate of a DHCPv4 server group.">
<meta name="description" content="Global DHCPv4 parameters include the maximum number of DHCPv4 access users allowed for a specified board and the limit on the packet transmission rate of a DHCPv4 server group.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0041.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0141.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z50024784,z00603461,w00800033,z00588052,c00549182,w00556928,l00593348,ipv4-address_ne,w00606909,w00447999,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPv4 Address Management">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv4 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv4 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv4 Address Management">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="l00593348">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172373794">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring Global DHCPv4 Parameters </title>
</head>
<body><a name="EN-US_TASK_0172373794"></a><a name="EN-US_TASK_0172373794"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring Global DHCPv4 Parameters </h1>
<div class="taskbody"><p>Global DHCPv4 parameters include the maximum number of DHCPv4 access users allowed for a specified board and the limit on the packet transmission rate of a DHCPv4 server group.</p>
<div class="steps"><a name="EN-US_TASK_0172373794__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=dhcp"><b><span class="cmdname">dhcp</span></b></a> <i><span class="varname">slot-id</span></i> <a href="cmdqueryname=max-sessions"><b><span class="cmdname">max-sessions</span></b></a> <i><span class="varname">user-number</span></i></span><p><p>The maximum number of DHCPv4 users allowed to access a specified board of the device is configured.</p>
</p><p></p></li><li><span>Run <a href="cmdqueryname=dhcp+check-client-packet+strict"><b><span class="cmdname">dhcp check-client-packet strict</span></b></a></span><p><p>The <span class="keyword">Router</span> is configured to perform strict checks on packets from DHCP clients.</p>
</p><p></p></li><li><span>Run <a href="cmdqueryname=dhcp-server"><b><span class="cmdname">dhcp-server</span></b></a> <i><span class="varname">ip-address</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance</span></i> ] <a href="cmdqueryname=send-discover-speed"><b><span class="cmdname">send-discover-speed</span></b></a> <i><span class="varname">packet-number time-value</span></i></span><p><p>The packet transmission rate of a DHCPv4 server group is limited.</p>
</p><p></p></li><li><span>Run <a href="cmdqueryname=dhcp+server+identifier+dest-ip"><b><span class="cmdname">dhcp server identifier dest-ip</span></b></a></span><p><p>The destination IP address of a packet forwarded by a DHCP relay is configured as the identifier of the DHCP server.</p>
</p><p><p>After the <a href="cmdqueryname=dhcp+server+identifier+dest-ip"><b><span class="cmdname">dhcp server identifier dest-ip</span></b></a> command is run, the DHCP response packet forwarded by the <span class="keyword">NE40E</span> carries the destination IP address of the request packet as the DHCP server identifier.</p>
<p>This command applies only to the scenario where the <span class="keyword">NE40E</span> functions as a non-first PE and a DHCP server.</p>
</p></li><li><span>Run <a href="cmdqueryname=dhcp+request-ip-address+check"><b><span class="cmdname">dhcp request-ip-address check</span></b></a> { <strong><span>enable</span></strong> | <strong><span>disable</span></strong> }</span><p><p>The device is enabled to check or disabled from checking DHCP Request messages carrying Option 50.</p>
</p><p><p>After a large number of users send DHCP Request messages carrying Option 50 to apply for IP addresses and the users pass the authentication, if the <span class="keyword">Router</span> finds that the requested IP addresses have been assigned to other users, it sends NAK messages to the users. If the <a href="cmdqueryname=dhcp+request-ip-address+check"><b><span class="cmdname">dhcp request-ip-address check</span></b></a> <strong><span>enable</span></strong> command is not run and users resend DHCP Discover messages for login, the <span class="keyword">Router</span> authenticates the users again, causing high CPU usage. After the <span class="keyword">Router</span> is enabled to check DHCP request packets carrying Option 50, if the request IP addresses have been assigned to other users, the <span class="keyword">Router</span> replies with NAK messages without authenticating the users again. In this manner, high CPU usage is prevented.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=dhcp+giaddr+zero+user-type+layer2"><b><span class="cmdname">dhcp giaddr zero user-type layer2</span></b></a></span><p><p>The GiAddr field in the DHCPv4 header is set to 0 when the device sends DHCPv4 messages to Layer 2 access DHCPv4 clients.</p>
</p></li><li><span>Run <a href="cmdqueryname=access-line-id+attach"><b><span class="cmdname">access-line-id attach</span></b></a></span><p><p>The BRAS is enabled to send Option 82 information to the RADIUS server if user packets do not carry Option 82 or the BRAS does not trust Option 82 information in user packets.</p>
</p><p></p></li><li><span>(Optional) Run <a href="cmdqueryname=dhcp+rebind+no-user+action+keep-silence"><b><span class="cmdname">dhcp rebind no-user action keep-silence</span></b></a></span><p><p>The device is disabled from sending an NAK message in response to a DHCP Rebind message if no corresponding user entry exists on the device.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=dhcp+rebind+no-user+action+nak+server-ip"><b><span class="cmdname">dhcp rebind no-user action nak server-ip</span></b></a> <i><span class="varname">server-ip</span></i></span><p><p>The device is configured to send a DHCP NAK message in response to a DHCP Rebind message if no corresponding user entry exists on the device.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0041.html">Adjusting DHCPv4 Service Parameters
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0141.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>