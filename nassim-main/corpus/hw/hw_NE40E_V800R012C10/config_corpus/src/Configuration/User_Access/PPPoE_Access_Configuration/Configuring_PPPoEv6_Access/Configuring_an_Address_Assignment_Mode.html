
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an Address Assignment Mode">
<meta name="abstract" content="The address assignment modes supported by the NE40E include NDRA, DHCPv6 (IA_NA), DHCPv6 (IA_PD), DHCPv6 (IA_NA)+DHCPv6 (IA_PD), and NDRA+DHCPv6 (IA_PD). You can configure an address assignment mode as required.">
<meta name="description" content="The address assignment modes supported by the NE40E include NDRA, DHCPv6 (IA_NA), DHCPv6 (IA_PD), DHCPv6 (IA_NA)+DHCPv6 (IA_PD), and NDRA+DHCPv6 (IA_PD). You can configure an address assignment mode as required.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_pppoxv6_cfg_0012.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_pppoe_cfg_0005a.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z50024784,z00603461,w00800033,z00588052,c00549182,w00556928,l00593348,w00606909,pppoxne,w00447999,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="dcAudienceJob" content="Configuration">
<meta name="featurename" content="PPPoE Access">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="PPPoE Access">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="PPPoE Access">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="PPPoE Access">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="c00549182">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172374109">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Configuring an Address Assignment Mode</title>
</head>
<body><a name="EN-US_TASK_0172374109"></a><a name="EN-US_TASK_0172374109"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an Address Assignment Mode</h1>
<div class="taskbody"><p>The address assignment modes supported by the <span class="keyword">NE40E</span> include NDRA, DHCPv6 (IA_NA), DHCPv6 (IA_PD), DHCPv6 (IA_NA)+DHCPv6 (IA_PD), and NDRA+DHCPv6 (IA_PD). You can configure an address assignment mode as required.</p>
<div class="context"><a name="EN-US_TASK_0172374109__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><ul><li>If an IPv4 network is upgraded to an IPv6 network, the CPE working mode and authentication mode do not need to be changed unless there are special service requirements.<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li><p>Layer 2 IPv6 leased line access is equivalent to the situation where a CPE works in unnumbered or numbered routing mode.</p>
</li><li><p>Layer 3 IPv6 users of a leased line obtain their addresses from the access router. The <span class="keyword">NE40E</span> is in charge of only authentication and accounting, not address assignment.</p>
</li></ul>
</div></div>
</li><li>In PPP authentication mode, either ND or DHCPv6 can be used for address assignment.</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172374109__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>The address assignment mode varies according to the CPE working mode. For details, see the following table.</span><p>
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" frame="border" border="1" rules="all"><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="20.5%" id="mcps1.4.2.1.2.1.1.4.1.1" liSelected="liSelected"><p>CPE Working Mode</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="47.92%" id="mcps1.4.2.1.2.1.1.4.1.2" liSelected="liSelected"><p>Scenario</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="31.580000000000002%" id="mcps1.4.2.1.2.1.1.4.1.3" liSelected="liSelected"><p>IPv6 Address Configuration Mode</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" rowspan="2" valign="top" width="20.5%" headers="mcps1.4.2.1.2.1.1.4.1.1 "><p>Bridging mode</p>
</td>
<td class="cellrowborder" rowspan="2" valign="top" width="47.92%" headers="mcps1.4.2.1.2.1.1.4.1.2 "><p>A host initiates a connection request. A CPE transparently forwards user request packets, and the <span class="keyword">NE40E</span> assigns an IPv6 address to the host.</p>
</td>
<td class="cellrowborder" valign="top" width="31.580000000000002%" headers="mcps1.4.2.1.2.1.1.4.1.3 "><p><a href="dc_ne_ipv6_address_cfg_0020.html">NDRA</a></p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.2.1.2.1.1.4.1.3 "><p><a href="dc_ne_ipv6_address_cfg_0027.html">DHCPv6 (IA_NA)</a></p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="20.5%" headers="mcps1.4.2.1.2.1.1.4.1.1 "><p>Unnumbered routing mode</p>
</td>
<td class="cellrowborder" valign="top" width="47.92%" headers="mcps1.4.2.1.2.1.1.4.1.2 "><p>A CPE initiates a connection request. After receiving the request, the <span class="keyword">NE40E</span> assigns a prefix to the CPE to generate IPv6 addresses for the hosts attached to the CPE.</p>
</td>
<td class="cellrowborder" valign="top" width="31.580000000000002%" headers="mcps1.4.2.1.2.1.1.4.1.3 "><p><a href="dc_ne_ipv6_address_cfg_0035.html">DHCPv6 (IA_PD)</a></p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="2" valign="top" width="20.5%" headers="mcps1.4.2.1.2.1.1.4.1.1 "><p>Numbered routing mode</p>
</td>
<td class="cellrowborder" rowspan="2" valign="top" width="47.92%" headers="mcps1.4.2.1.2.1.1.4.1.2 "><p>A CPE initiates a connection request. After receiving the request, the <span class="keyword">NE40E</span> assigns an IPv6 address to the WAN interface on the CPE and a prefix to the CPE to generate IPv6 addresses for the hosts attached to the CPE.</p>
</td>
<td class="cellrowborder" valign="top" width="31.580000000000002%" headers="mcps1.4.2.1.2.1.1.4.1.3 "><p><a href="dc_ne_ipv6_address_cfg_0053.html">DHCPv6 (IA_NA)+DHCPv6 (IA_PD)</a></p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.2.1.2.1.1.4.1.3 "><p><a href="dc_ne_ipv6_address_cfg_0043.html">NDRA+DHCPv6 (IA_PD)</a></p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In a home broadband scenario where CU separation is deployed, if PPPoEv6 authentication is used for user access, users may fail to obtain IPv6 addresses due to limited hardware parsing capability after the <a href="cmdqueryname=load-balance+identify+pppoe"><b><span class="cmdname">load-balance identify pppoe</span></b></a> command is run in the slot view of the UP.</p>
</div></div>
</p></li><li><span>(Optional) In addition to choosing an address assignment mode, perform the following steps on the <span class="keyword">NE40E</span> if needed:</span><ol type="a"><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=aaa"><b><span class="cmdname">aaa</span></b></a></span><p><p>The AAA view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=domain"><b><span class="cmdname">domain</span></b></a> <i><span class="varname">domain-name</span></i></span><p><p>An AAA domain is created, and its view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <strong>commit</strong></span><p><p>The configuration is committed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=user-basic-service-ip-type"><b><span class="cmdname">user-basic-service-ip-type</span></b></a> { <strong><span>ipv4</span></strong> | <strong><span>ipv6</span></strong> | <strong><span>ipv6-pd</span></strong> } <sup>*</sup></span><p><p>An IP type is configured for the main service of a user who goes online from the domain. In this case, if the IP address of this type fails to be assigned, users of other IP types are forced to go offline, and the user fails to go online.</p>
</p><p><p></p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=ipv6+nd+ra+halt"><b><span class="cmdname">ipv6 nd ra halt</span></b></a></span><p><p>The <span class="keyword">NE40E</span> is suppressed from sending RA messages to IPv6 access users.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=ppp+address-release+separate"><b><span class="cmdname">ppp address-release separate</span></b></a></span><p><p>PPP dual-stack users are allowed to go offline from a single stack.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command and the <a href="cmdqueryname=any-address-release+offline"><b><span class="cmdname">any-address-release offline</span></b></a> command are mutually exclusive.</p>
</div></div>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol>
</li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_pppoxv6_cfg_0012.html">Configuring PPPoEv6 Access
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_pppoe_cfg_0005a.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>