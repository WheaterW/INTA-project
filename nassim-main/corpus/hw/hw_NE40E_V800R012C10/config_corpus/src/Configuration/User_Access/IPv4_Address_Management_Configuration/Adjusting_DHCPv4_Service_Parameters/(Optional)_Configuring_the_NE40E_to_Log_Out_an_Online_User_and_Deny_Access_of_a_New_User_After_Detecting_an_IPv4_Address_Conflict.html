
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring the NE40E to Log Out an Online User and Deny Access of a New User After Detecting an IPv4 Address Conflict">
<meta name="abstract" content="You can configure the NE40E to log out an online user and deny access of a new user if it detects that the IP address assigned to the new user from a remote address pool or by the RADIUS server is the same as the IP address of the online user.">
<meta name="description" content="You can configure the NE40E to log out an online user and deny access of a new user if it detects that the IP address assigned to the new user from a remote address pool or by the RADIUS server is the same as the IP address of the online user.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0041.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0046.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0073.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z50024784,z00603461,w00800033,z00588052,c00549182,w00556928,l00593348,ipv4-address_ne,w00606909,w00447999,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPv4 Address Management">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv4 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv4 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv4 Address Management">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="l00593348">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172373804">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring the NE40E to Log Out an Online User and Deny Access of a New User After Detecting an IPv4 Address Conflict</title>
</head>
<body><a name="EN-US_TASK_0172373804"></a><a name="EN-US_TASK_0172373804"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring the <span class="keyword">NE40E</span> to Log Out an Online User and Deny Access of a New User After Detecting an IPv4 Address Conflict</h1>
<div class="taskbody"><p>You can configure the <span class="keyword">NE40E</span> to log out an online user and deny access of a new user if it detects that the IP address assigned to the new user from a remote address pool or by the RADIUS server is the same as the IP address of the online user.</p>
<div class="context"><a name="EN-US_TASK_0172373804__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>To implement authentication, authorization, and accounting for users separately, users must use different IP addresses to go online. This requires the <span class="keyword">NE40E</span> to detect whether the IP address assigned to a new user conflicts with that of an online user. By default, if the <span class="keyword">NE40E</span> detects that the IP address assigned to a new user is the same as the IP address of an online user, it sends a DHCP Decline message to the DHCP server. Then the new user cannot go online, but the online user is not affected.</p>
<p>In scenarios in which IP addresses are assigned based on the Option 82 field that carries physical location information of users and ARP probe is not configured, the online user is required to go offline to allow the new user to go online. For example, if a CPE is replaced, users attached to the old CPE will switch to the new CPE to go online. As their physical location information remains the same, they will be assigned the same IP addresses as before. However, if the previous IP address lease has not expired, the user information is retained. Therefore, the <span class="keyword">NE40E</span> considers that the users are already online and discards the user packets sent from the new CPE. Subsequently, the users fail to go online through the new CPE. To allow the users to go online through the new CPE, configure the <span class="keyword">NE40E</span> to delete the previous user information and deny new user access so that the users can be triggered to go online again.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172373804__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=dhcp+conflict-ip-address+offline+user"><b><span class="cmdname">dhcp conflict-ip-address offline user</span></b></a> [ <strong><span>include framed-ip</span></strong> ]</span></span><p><p>The <span class="keyword">NE40E</span> is configured to log out an online user and deny access of a new user if it detects that the IP address assigned to the new user from a remote address pool or by the RADIUS server is the same as the IP address of the online user.</p>
<p>When both the <a href="cmdqueryname=dhcp+conflict-ip-address+offline"><b><span class="cmdname">dhcp conflict-ip-address offline</span></b></a> and <a href="cmdqueryname=dhcp+conflict-ip-address+offline+user"><b><span class="cmdname">dhcp conflict-ip-address offline user</span></b></a> commands are run, a new user is assigned the IP address of an online user from a remote address pool, and the two users are both IPv4/IPv6 dual-stack users, the <a href="cmdqueryname=dhcp+conflict-ip-address+offline"><b><span class="cmdname">dhcp conflict-ip-address offline</span></b></a> command configuration takes effect. Specifically, the <span class="keyword">NE40E</span> will log out the online user only from the IPv4 address after detecting the IPv4 address conflict.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0041.html">Adjusting DHCPv4 Service Parameters
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0046.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv4_address_cfg_0073.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>