
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configure an IPv6 Delegation Prefix Pool">
<meta name="abstract" content="When the NE40E functions as a delegating router, an IPv6 delegation prefix pool must be configured to manage prefixes.">
<meta name="description" content="When the NE40E functions as a delegating router, an IPv6 delegation prefix pool must be configured to manage prefixes.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0071.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0010.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0038.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00588052,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="IPv6 Address Management">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172373874">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configure an IPv6 Delegation Prefix Pool</title>
</head>
<body><a name="EN-US_TASK_0172373874"></a><a name="EN-US_TASK_0172373874"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configure an IPv6 Delegation Prefix Pool</h1>
<div class="taskbody"><p>When the <span class="keyword">NE40E</span> functions as a delegating router, an IPv6 delegation prefix pool must be configured to manage prefixes.</p>
<div class="context"><a name="EN-US_TASK_0172373874__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Only one prefix and its mask can be configured in a prefix pool. After a prefix pool is locked, the leases of addresses that have been assigned cannot be renewed, and new addresses cannot be assigned.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172373874__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li><span>Run the <a href="cmdqueryname=ipv6+prefix"><b><span class="cmdname">ipv6 prefix</span></b></a> <i><span class="varname">prefix-name</span></i> <strong><span>delegation</span></strong> command to create an IPv6 prefix pool and enter its view.</span></li><li><span>Run the <a href="cmdqueryname=prefix"><b><span class="cmdname">prefix</span></b></a> <i><span class="varname">prefix-address/prefix-length</span></i> [ <strong><span>delegating-prefix-length</span></strong> <i><span class="varname">delegating-prefix-length</span></i> ] command to configure an IPv6 address prefix.</span><p><p>The <i><span class="varname">prefix-length</span></i> parameter specifies the length of a prefix. The assignable prefix length indicates the length of the IPv6 prefix which is assigned by a device that functions as a delegating router to the requesting router. The assignable prefix length configured in a prefix pool must be greater than the prefix length configured in the prefix pool. Otherwise, prefixes in the prefix pool cannot be assigned to users.</p>
</p></li><li><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li><li><span>(Optional) Run the <a href="cmdqueryname=lock"><b><span class="cmdname" id="EN-US_TASK_0172373874__en-us_task_0172373916_cmdname1824756784214107">lock</span></b></a> command to lock an IPv6 prefix pool.</span><p><p id="EN-US_TASK_0172373874__en-us_task_0172373916_p1633793510214107">After this command is run, no prefix in the locked prefix pool can be assigned, preventing new users from going online using prefixes in the prefix pool.</p>
<p id="EN-US_TASK_0172373874__en-us_task_0172373916_p1262849142214107">This method is typically used when a prefix pool cannot be deleted because its prefixes are in use by online users. You can lock the prefix pool first to stop it from assigning prefixes. After all users go offline, the prefixes in the prefix pool are all released, and the prefix pool can then be deleted.</p>
</p></li><li><span>(Optional) Run the <a href="cmdqueryname=vpn-instance"><b><span class="cmdname" id="EN-US_TASK_0172373874__en-us_task_0172373916_cmdname477134557214107">vpn-instance</span></b></a> <i><span class="varname" id="EN-US_TASK_0172373874__en-us_task_0172373916_varname1443902391214107">vpn-instance-name</span></i> command to bind a VPN instance to the prefix pool.</span></li><li><span>(Optional) Run the <a href="cmdqueryname=lifetime+preferred-lifetime"><b><span class="cmdname" id="EN-US_TASK_0172373874__en-us_task_0172373916_cmdname1829019909214107">lifetime preferred-lifetime</span></b></a> { <strong><span id="EN-US_TASK_0172373874__en-us_task_0172373916_cmdparmname1376698838214107">days</span></strong> <i><span class="varname" id="EN-US_TASK_0172373874__en-us_task_0172373916_varname112781231214107">days-value</span></i> [ <strong><span id="EN-US_TASK_0172373874__en-us_task_0172373916_cmdparmname831736457214107">hours</span></strong> <i><span class="varname" id="EN-US_TASK_0172373874__en-us_task_0172373916_varname1230165390214107">hours-value</span></i> [ <strong><span id="EN-US_TASK_0172373874__en-us_task_0172373916_cmdparmname1855702265214107">minutes</span></strong> <i><span class="varname" id="EN-US_TASK_0172373874__en-us_task_0172373916_varname1811140316214107">minutes-value</span></i> ] ] | <strong><span id="EN-US_TASK_0172373874__en-us_task_0172373916_cmdparmname1858169560214107">infinite</span></strong> } <strong><span id="EN-US_TASK_0172373874__en-us_task_0172373916_cmdparmname164933457214107">valid-lifetime</span></strong> { <strong><span id="EN-US_TASK_0172373874__en-us_task_0172373916_cmdparmname1969727102214107">days</span></strong> <i><span class="varname" id="EN-US_TASK_0172373874__en-us_task_0172373916_varname1166081639214107">days-value</span></i> [ <strong><span id="EN-US_TASK_0172373874__en-us_task_0172373916_cmdparmname1164596323214107">hours</span></strong> <i><span class="varname" id="EN-US_TASK_0172373874__en-us_task_0172373916_varname1863083766214107">hours-value</span></i> [ <strong><span id="EN-US_TASK_0172373874__en-us_task_0172373916_cmdparmname611530095214107">minutes</span></strong> <i><span class="varname" id="EN-US_TASK_0172373874__en-us_task_0172373916_varname997365017214107">minutes-value</span></i> ] ] | <strong><span id="EN-US_TASK_0172373874__en-us_task_0172373916_cmdparmname1337631574214107">infinite</span></strong> } command to configure the lifetime of IPv6 prefixes.</span><p><p id="EN-US_TASK_0172373874__en-us_task_0172373916_p762939954214107">The <strong><span id="EN-US_TASK_0172373874__en-us_task_0172373916_cmdparmname75610748214107">preferred-lifetime</span></strong> parameter is used to calculate the lease renewal time and rebinding time of the IPv6 prefix pool. The time value must be no less than 1 minute. The default value is two days.</p>
<p id="EN-US_TASK_0172373874__en-us_task_0172373916_p1846273907214107">The <strong><span id="EN-US_TASK_0172373874__en-us_task_0172373916_cmdparmname71343301214107">valid-lifetime</span></strong> parameter specifies the validity period of a specified IPv6 prefix. The user using the prefix will be logged out after the validity period expires. The time value must be no less than 1 minute and the <strong><span id="EN-US_TASK_0172373874__en-us_task_0172373916_cmdparmname79772045102518">preferred-lifetime</span></strong> value. The default value is three days.</p>
</p></li><li><span>(Optional) Run the <a href="cmdqueryname=reserved+prefix"><b><span class="cmdname" id="EN-US_TASK_0172373874__en-us_task_0172373916_cmdname766425839214107">reserved prefix</span></b></a> { <strong><span id="EN-US_TASK_0172373874__en-us_task_0172373916_cmdparmname34775626214107">duid</span></strong> | <strong><span id="EN-US_TASK_0172373874__en-us_task_0172373916_cmdparmname189545442214107">mac</span></strong> } [ <strong><span id="EN-US_TASK_0172373874__en-us_task_0172373916_cmdparmname1660026298214107">lease</span></strong> ] command to configure the reservation type of user prefixes in the prefix pool.</span><p><p id="EN-US_TASK_0172373874__en-us_task_0172373916_p6957418203615">This command can be run only in the local and delegation prefix pools.</p>
</p></li><li><span>(Optional) Run the <a href="cmdqueryname=recycle+prefix"><b><span class="cmdname" id="EN-US_TASK_0172373874__en-us_task_0172373916_cmdname525182631214107">recycle prefix</span></b></a> <i><span class="varname" id="EN-US_TASK_0172373874__en-us_task_0172373916_varname231907286214107">start-prefix</span></i> [ <i><span class="varname" id="EN-US_TASK_0172373874__en-us_task_0172373916_varname1197019665214107">end-prefix</span></i> ] command to configure the prefix status as idle.</span></li><li><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li><li><span>(Optional) Run the <a href="cmdqueryname=pd-unshare-only"><b><span class="cmdname">pd-unshare-only</span></b></a> command to configure the DHCPv6 IA_PD prefix assignment mode for the delegation prefix pool.</span><p><p>After the <a href="cmdqueryname=pd-unshare-only"><b><span class="cmdname">pd-unshare-only</span></b></a> command is run in the delegation prefix pool, this prefix pool can be used for prefix assignment only in DHCPv6 IA_PD mode and is preferred in DHCPv6 IA_PD prefix assignment.</p>
</p></li><li><span>(Optional) Run the <a href="cmdqueryname=recycle+reserved+ipv6-prefix"><b><span class="cmdname">recycle reserved ipv6-prefix</span></b></a> command to reclaim all reserved IPv6 prefixes in the prefix pool.</span></li><li><span>(Optional) Run the <a href="cmdqueryname=dhcpv6-unshare-only"><b><span class="cmdname">dhcpv6-unshare-only</span></b></a> command to configure the prefix pool to assign only addresses, not prefixes.</span><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is mutually exclusive with the following commands:</p>
<ul><li><a href="cmdqueryname=slaac-unshare-only"><b><span class="cmdname">slaac-unshare-only</span></b></a></li><li><a href="cmdqueryname=pd-unshare-only"><b><span class="cmdname">pd-unshare-only</span></b></a></li><li><a href="cmdqueryname=client-duid+client-duid+bind+prefix"><b><span class="cmdname">client-duid client-duid bind prefix </span></b></a><i><span class="varname">prefix-address</span></i></li></ul>
</div></div>
</p></li><li><span>(Optional) Run the <a href="cmdqueryname=frame-ipv6+lease+manage"><b><span class="cmdname">frame-ipv6 lease manage</span></b></a> command to configure lease management for the RADIUS-delivered IPv6 addresses in an address pool which is supported by the device.</span><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>To configure lease management for the RADIUS-delivered IPv6 addresses in an address pool which is not supported by the device, run the <a href="cmdqueryname=access+frame-ipv6+lease+manage+pool-exclude"><b><span class="cmdname">access frame-ipv6 lease manage pool-exclude</span></b></a> command in the system view.</p>
</div></div>
</p></li><li><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0071.html">Configuring a Delegating Router
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0010.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_ipv6_address_cfg_0038.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>