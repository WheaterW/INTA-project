
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring PPPoE Access to a VPN for IPv4 Users">
<meta name="abstract" content="This section provides an example for configuring PPPoE access to a VPN for IPv4 users.">
<meta name="description" content="This section provides an example for configuring PPPoE access to a VPN for IPv4 users.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_pppox_cfg_0183.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_pppoe_cfg_0014.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_pppoe_cfg_0015.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00588052,w00606909,w00447999">
<meta name="DC.Publisher" content="20240229">
<meta name="dcAudienceJob" content="Configuration">
<meta name="featurename" content="PPPoE Access">
<meta name="featuretype" content="User Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="PPPoE Access">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="PPPoE Access">
<meta name="featuretype" content="User Access">
<meta name="featurename" content="PPPoE Access">
<meta name="featuretype" content="User Access">
<meta name="OWNER" content="l00425560">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00588052">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0281506197">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Example for Configuring PPPoE Access to a VPN for IPv4 Users</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0281506197"></a><a name="EN-US_TASK_0281506197"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring PPPoE Access to a VPN for IPv4 Users</h1>
<div class="taskbody"><p>This section provides an example for configuring PPPoE access to a VPN for IPv4 users.</p>
<div class="context"><a name="EN-US_TASK_0281506197__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>On the network shown in <a href="#EN-US_TASK_0281506197__fig_dc_ne_pppox_cfg_018801">Figure 1</a>, the requirements are as follows:</p>
<ul><li><p>The user belongs to domain <strong>isp1</strong> and accesses the VPN through GE <span>0/1/1</span>.1 on <span class="keyword">Device</span>A in PPPoE mode.</p>
</li><li><p>RADIUS authentication and accounting are used.</p>
</li><li><p>The RADIUS server address is 192.168.7.249. The authentication port number is 1645, and the accounting port number is 1646. RADIUS+1.1 is used, with the key being <strong>it-is-my-secret1</strong>.</p>
</li><li><p>The DNS server address is 192.168.7.252.</p>
</li></ul>
<div class="fignone" id="EN-US_TASK_0281506197__fig_dc_ne_pppox_cfg_018801"><a name="EN-US_TASK_0281506197__fig_dc_ne_pppox_cfg_018801"></a><a name="fig_dc_ne_pppox_cfg_018801"></a><span class="figcap"><b>Figure 1 </b>Network diagram of configuring PPPoE access to a VPN for IPv4 users</span><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Interface1 and interface2 in this example represent GE <span>0/1/1</span>.1 and GE <span>0/1/2</span>, respectively.</p>
</div></div>
<br><span><img class="vsd" src="figure/en-us_image_0281508108.png"></span></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0281506197__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><ol><li><p>Configure a virtual template.</p>
</li><li><p>Configure AAA schemes.</p>
</li><li>Configure a VPN instance.</li><li><p>Configure a RADIUS server group.</p>
</li><li><p>Configure an IPv4 address pool.</p>
</li><li><p>Configure a domain and bind the VPN instance to the domain.</p>
</li><li><p>Configure a user-VLAN sub-interface and bind the virtual template to the sub-interface.</p>
</li><li><p>Configure a BAS interface.</p>
</li></ol>
</div></div>
<div class="context"><a name="EN-US_TASK_0281506197__1.4.3"></a><a name="1.4.3"></a>
<div class="p"><h4 class="sectiontitle">Data Preparation</h4><ul><li>Virtual template number</li><li>Authentication and accounting schemes and their names</li><li>RADIUS server group name and RADIUS server address</li><li>DNS server address</li><li>User access domain name</li><li>BAS interface parameters</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0281506197__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure a virtual template.</span><p><pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>sysname <span class="keyword">Device</span>A</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A]<strong> interface virtual-template 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Virtual-Template1]<strong> ppp authentication-mode chap</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-Virtual-Template1] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-Virtual-Template1]<strong> quit</strong></pre>
</p></li><li><span>Configure AAA schemes.</span><p><p># Configure an authentication scheme.</p>
</p><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A]<strong> aaa</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-aaa]<strong> authentication-scheme acct1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-aaa-authen-acct1]<strong> authentication-mode radius</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-aaa-authen-acct1] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-aaa-authen-acct1]<strong> quit</strong></pre>
<p># Configure an accounting scheme. </p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-aaa]<strong> accounting-scheme acct1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-aaa-accounting-acct1]<strong> accounting-mode radius</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-aaa-accounting-acct1]<strong> commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-aaa-accounting-acct1]<strong> quit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-aaa]<strong> quit</strong></pre>
</p></li><li><span>Configure a VPN instance.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A]<strong> ip vpn-instance isp1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-vpn-instance-isp1] <strong>ipv4-family</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-vpn-instance-isp1-af-ipv4] <strong>route-distinguisher 100:2</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-vpn-instance-isp1-af-ipv4] <strong>vpn-target 100:100 export-extcommunity</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-vpn-instance-isp1-af-ipv4] <strong>vpn-target 100:100 import-extcommunity</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-vpn-instance-isp1-af-ipv4] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-vpn-instance-isp1-af-ipv4] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-vpn-instance-isp1]<strong> quit</strong></pre>
</p></li><li><span>Configure a RADIUS server group.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A]<strong> radius-server group rd1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-radius-rd1]<strong> radius-server authentication 192.168.7.249 1645</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-radius-rd1]<strong> radius-server accounting 192.168.7.249 1646</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-radius-rd1] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-radius-rd1]<strong> radius-server type plus11</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-radius-rd1]<strong> radius-server shared-key-cipher it-is-my-secret1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-radius-rd1] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-radius-rd1]<strong> quit</strong></pre>
</p></li><li><span>Configure an IPv4 address pool.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A]<strong> ip pool pool1 bas local</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-ip-pool-pool1]<strong> gateway 10.82.0.1 255.255.255.0</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-ip-pool-pool1] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-ip-pool-pool1]<strong> section 0 10.82.0.2 10.82.0.200</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-ip-pool-pool1]<strong> dns-server 192.168.7.252</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-ip-pool-pool1] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-ip-pool-pool1] <strong>vpn-instance isp1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-ip-pool-pool1] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-ip-pool-pool1]<strong> quit</strong></pre>
</p></li><li><span>Configure a domain and bind the VPN instance to the domain.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A]<strong> aaa</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-aaa]<strong> domain isp1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-aaa-domain-isp1]<strong> authentication-scheme acct1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-aaa-domain-isp1]<strong> accounting-scheme acct1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-aaa-domain-isp1]<strong> radius-server group rd1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-aaa-domain-isp1] <strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-aaa-domain-isp1]<strong> ip-pool pool1</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-aaa-domain-isp1]<strong> </strong><strong>vpn-instance isp1</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-aaa-domain-isp1]<strong> quit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-aaa]<strong> quit</strong></pre>
</p></li><li><span>Configure a user-VLAN sub-interface and bind the virtual template to the sub-interface.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A]<strong> interface gigabitethernet <span>0/1/1</span>.1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/1</span>.1]<strong> </strong><strong>commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/1</span>.1] <strong>user-vlan</strong> <strong>1 2</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/1</span>.1-vlan-1-2] <strong>quit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/1</span>.1]<strong> pppoe-server bind virtual-template 1</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/1</span>.1]<strong> </strong><strong>commit</strong></pre>
</p></li><li><span>Configure a BAS interface.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/1</span>.1]<strong> bas</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/1</span>.1-bas]<strong> access-type layer2-subscriber </strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/1</span>.1-bas]<strong> authentication-method ppp</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/1</span>.1-bas]<strong> commit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/1</span>.1-bas]<strong> quit</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-GigabitEthernet<span>0/1/1</span>.1]<strong> quit</strong></pre>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In this example, the user goes online using a username carrying the domain name <strong>isp1</strong>. Therefore, you do not need to bind the BAS interface to an authentication domain. If a user goes online with a username that does not carry a domain name, you must specify an authentication domain on the BAS interface.</p>
</div></div>
</p></li><li><span>Verify the configuration. </span><p><p># Check information about the address pool named <strong>pool1</strong>. The command output shows that the gateway address is 10.82.0.1, the addresses in the pool range from 10.82.0.2 to 10.82.0.200, and the DNS server address is 192.168.7.252.</p>
<pre class="screen">[<font style="font-size:8pt" Face="Courier New" >~</font><span class="keyword">Device</span>A]<strong> display ip pool name pool1</strong>
2020-01-23 17:38:40.529
  ------------------------------------------------------------------------------
  Pool-Name      : pool1
  Pool-No        : 270
  Pool-constant-index: 270
  Lease          : 3 Days 0 Hours 0 Minutes
  Frameip-Lease-Manage:  disable
  NetBios Type   : N-Node
  Auto recycle   : 30
  Option 3       : Enable
  DNS-Suffix     : -
  Dom-Search-List0: -
  Dom-Search-List1: -
  Dom-Search-List2: -
  Dom-Search-List3: -
  Option-Code 125 : enterprise-code : 2011, string: -
 
  DNS1         :192.168.7.252
  Position       : Local           Status           : Unlocked
  RUI-Flag       : -
  Attribute      : Private
  Gateway        : 10.82.0.1       Mask             : 255.255.255.0
  Vpn instance   : isp1            Unnumbered gateway: -
  Profile-Name   : -               Server-Name     : -
  Total Idle     : 199             Have Dhcp IP     : 1
  Timeouts       : 0
  Timeout Count  : 0               Sub Option Count : 0
  Option Count   : 0               Force-reply Count: 0
  Auto-Blocked Times: 0            IP Allocation Failures: 0
  Codes: CFLCT(conflicted)         Wait-Request-Time: --
  IP Loose Check : 0               Blocked Times : 0
  -------------------------------------------------------------------------------------------------------
  ID           start             end   total    used    idle   CFLCT disable reserved static-bind delayed
  ------------------------------------------------------------------------------------------------------
  0       10.82.0.2     10.82.0.200     199       0     199       0       0        0           0       0
  -------------------------------------------------------------------------------------------------------</pre>
<p># Check the configuration of the domain named <strong>isp1</strong>. The command output shows that the address pool named <strong>pool1</strong> is bound to the domain <strong>isp1</strong>.</p>
<pre class="screen">[<font style="font-size:8pt" Face="Courier New" >~</font><span class="keyword">Device</span>A]<strong> display domain isp1</strong>
2020-01-23 17:40:01.532
------------------------------------------------------------------------------
  Domain-name                     : isp1
  Domain-state                    : Active
  Authentication-scheme-name      : none
  Accounting-scheme-name          : none
  Authorization-scheme-name       : -
  Vpn-instance-name               : isp1
  Primary-DNS-IP-address          : -
  Second-DNS-IP-address           : -
  Primary-DNS-IPV6-address        : -
  Second-DNS-IPV6-address         : -
  Web-server-URL-parameter        : No
  Portal-server-URL-parameter     : No
  Primary-NBNS-IP-address         : -
  Second-NBNS-IP-address          : -
  Time-range                      : Disable
  Idle-cut direction              : Both
  Idle-data-attribute (time,flow) : 0, 60
  User detect interval            : 0s
  User detect retransmit times    : 0
  Install-BOD-Count               : 0
  Report-VSM-User-Count           : 0
  Value-added-service             : default
  User-access-limit               : 1045504
  Online-number                   : 0
  Web-IP-address                  : -
  Web-IPv6-address                : -
  Dns-redirect-IP-address         : -
  Web-URL                         : -
  Web-auth-server                 : -
  Web-auth-state                  : -
  Web-server-mode                 : get
  Slave Web-IP-address            : -
  Slave Web-IPv6-address          : -
  Slave Web-URL                   : -
  Slave Web-auth-server           : -
  Slave Web-auth-state            : -
  Web-server identical-url        : Disable
  Portal-server-IP                : -
  Portal-URL                      : -
  Portal-force-times              : 2
  Portal-server identical-url     : Disable
  Service-policy(Portal)          : -
  Ds-lite IPv4 portal             : Disable
  PPPoE-user-URL                  : Disable
  AdminUser-priority              : 16
  IPUser-ReAuth-Time              : 300s
  mscg-name-portal-key            : -
  Portal-user-first-url-key       : -
  User-session-limit              : 4294967295
  Ancp auto qos adapt             : Disable
  L2TP-group-name                 : -
  User-lease-time-no-response     : 0s
  RADIUS-server-template          : -
  Two-acct-template               : -
  RADIUS-server-pre-template      : -
                                    -
                                    -
  RADIUS-server-llid-first-template: -
  HWTACACS-server-template        : -
  Bill Flow                       : Disable
  Tunnel-acct-2867                : Disable
  Qos-profile-name inbound        : -
  Qos-profile-name outbound       : -
 
  Flow Statistic:
  Flow-Statistic-Up               : Yes
  Flow-Statistic-Down             : Yes
  Source-IP-route                 : Disable
  IP-warning-threshold            : -
  IP-warning-threshold(Low)       : -
  IPv6-warning-threshold          : -
  IPv6-warning-threshold(Low)     : -
  Multicast Forwarding            : Yes
  Multicast Virtual               : No
  Max-multilist num               : 4
  Multicast-profile               : -
  Multicast-profile ipv6          : -
  Multicast-policy                : -
  Multicast-bandwidth             : -
  Multicast-bandwidth-level-1     : -
  IP-address-pool-name            : pool1
  Quota-out                       : Offline
  Service-type                    : -
  User-basic-service-ip-type      : -/-/-
  PPP-ipv6-address-protocol       : Ndra
  IPv6-information-protocol       : Stateless dhcpv6
  IPv6-PPP-assign-interfaceid     : Disable
  IPv6-PPP-NDRA-halt              : Disable
  IPv6-PPP-NDRA-unicast           : Disable
  Trigger-packet-wait-delay       : 60s
  Peer-backup                     : Enable
  Reallocate-ip-address           : Disable
  Cui  enable                     : Disable
  Igmp enable                     : Enable
  CPE IP address                  : -
  Pim snooping enable             : Enable
  L2tp-user radius-force          : Disable
  Accounting dual-stack           : Separate
  Radius server domain-annex      : -
  Dhcp-option64-service           : Disable
  Parse-separator                 : -
  Parse-segment-value             : -
  Dhcp-receive-server-packet      : -
  Http-hostcar                    : Disable
  Public-address assign-first     : Disable
  Public-address nat              : Enable
  Dhcp-user auto-save             : Disable
  IP-pool usage-status threshold  : 255 , 255
  Select-Pool-Rule                : gateway + local priority
  AFTR name                       : -
  Traffic-rate-mode               : Separate
  Traffic-statistic-mode          : Separate
  Rate-limit-mode-inbound         : Car
  Rate-limit-mode-outbound        : Car
  Service-change-mode             : Stop-start
  Session-group function          : Disable
  DAA Direction                   : both
  Session Volumequota apply direction: both
  Soap-server group               : -
  Nas logic-sysname               : -
  Accounting exclude-type vlan    : -/-
  Framed-ip urpf                  : Enable
  RA link-prefix                  : Disable
  Local backup                    : Enable
  DAA start accounting merge      : disable
  DAA stop accounting merge       : disable
  DAA interim accounting merge    : disable
  DAA merged interim accounting interval(minute) : --
  DAA merged interim accounting hash  : disable
  EDSG stop accounting merge      : disable
  EDSG interim accounting merge   : disable
  EDSG merged interim accounting interval(minute): --
  EDSG merged interim accounting hash : disable
  Stop dropped flow direction     : -
  Interval dropped flow direction : -
  Edsg family-schedule inbound    : Disable
  Edsg family-schedule outbound   : Disable
  Layer2 IPoE ip-pool select-mode : Local
  Layer2 PPPoE ip-pool select-mode: Local
  access-trigger loose time(minute)   : 0
  access-trigger loose infinite-lease : Disable
  IPv6 address assignment mode    : -
  LNS Tcp-Ack Priority-Car        : Disable
  EDSG Tcp-Ack Priority-Car       : Disable
  Include LNS-IPv6                : Disable
  Map priority                    : MAP-E
  Coa-zero-lease Dual-cut         : Disable
  COA lease zero policy           : -
  Authentication fail online domain : -
  ------------------------------------------------------------------------------</pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0281506197__1.4.5"></a><a name="1.4.5"></a><h4 class="sectiontitle">Configuration Files</h4><pre class="screen">#
 sysname <span class="keyword">Device</span>A
#
interface Virtual-Template1
 ppp authentication-mode chap
#
interface GigabitEthernet<span>0/1/1</span>
#
interface GigabitEthernet<span>0/1/1</span>.1
 pppoe-server bind virtual-template 1
 user-vlan 1 2
 bas
 access-type layer2-subscriber
#
ip vpn-instance isp1
 ipv4-family
  route-distinguisher 100:2
  vpn-target 100:100 export-extcommunity
  vpn-target 100:100 import-extcommunity
# 
interface GigabitEthernet<span>0/1/2</span>
 ip address 10.1.1.1 255.255.255.0
#
radius-server group rd1
 radius-server authentication 192.168.7.249 1645 weight 0
 radius-server accounting 192.168.7.249 1646 weight 0
 radius-server shared-key-cipher %^%#clY:%[]x='-RMNJus[s/VJ:3YBq3&lt;..|.{'xgbp+%^%
 radius-server type plus11
 radius-server traffic-unit kbyte
#
ip pool pool1 bas local
 vpn-instance isp1
 gateway 10.82.0.1 255.255.255.0
 section 0 10.82.0.2 10.82.0.200
 dns-server 192.168.7.252
#
aaa
 #
 authentication-scheme acct1
  authentication-mode radius
 #
 accounting-scheme acct1
  accounting-mode radius
#
 domain default0
 domain default1
 domain default_admin
#
 domain isp1
  authentication-scheme acct1
  accounting-scheme acct1
  radius-server group rd1
  ip-pool pool1
  vpn-instance isp1
#
return</pre>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_pppox_cfg_0183.html">PPPoE Access Configuration Examples
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_pppoe_cfg_0014.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_pppoe_cfg_0015.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>