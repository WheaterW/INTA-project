
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring the Manycast Mode">
<meta name="abstract" content="The NTP manycast mode can be configured to synchronize clocks in a manycast domain.">
<meta name="description" content="The NTP manycast mode can be configured to synchronize clocks in a manycast domain.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ntp_cfg_0004.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ntp_cfg_0009.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ntp_cfg_0010.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,jwx1168690,w00556928,w00437000,w00845984,w00606909,l00455378,ntpvrp">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="NTP">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="NTP">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="NTP">
<meta name="featuretype" content="System Management">
<meta name="OWNER" content="w00845984,lwx1238418,l00587852">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00845984">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001801088630">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring the Manycast Mode</title>
</head>
<body><a name="EN-US_TASK_0000001801088630"></a><a name="EN-US_TASK_0000001801088630"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring the Manycast Mode</h1>
<div class="taskbody"><p>The NTP manycast mode can be configured to synchronize clocks in a manycast domain.</p>
<div class="steps-unordered"><a name="EN-US_TASK_0000001801088630__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure an NTP manycast server.</span><p><p>Perform the following steps on the <span class="keyword">Router</span> functioning as an NTP manycast server:</p>
</p><ol><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=ntp-service+authentication-keyid"><b><span class="cmdname">ntp-service authentication-keyid </span></b></a><i><span class="varname">key-Id</span></i> <strong><span>authentication-mode</span></strong> { <strong><span>md5</span></strong> | <strong><span>hmac-sha256</span></strong> | <strong><span>aes-128-cmac</span></strong> | <strong><span>aes-256-cmac</span></strong> } { <i><span class="varname">password</span></i> | <strong><span>cipher</span></strong> <i><span class="varname">password</span></i> }</span><p><p>The NTP authentication key is configured.</p>
</p><p><p>Using the HMAC-SHA256 algorithm for NTP key authentication is recommended.</p>
<div class="notice"><span class="noticetitle"><img src="../../../../public_sys-resources/notice_3.0-en-us.png"> </span><div class="noticebody"><p>The algorithm specified using <strong>md5</strong> in the command is a weak security algorithm, which is not recommended. To use such an algorithm, run the <strong>undo crypto weak-algorithm disable</strong> command to enable the weak security algorithm function. To avoid security risks, you are advised to use a more secure algorithm.</p>
</div></div>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=ntp-service+authentication-password+complexity-check+enable"><b><span class="cmdname">ntp-service authentication-password complexity-check enable</span></b></a></span><p><p>Password strength check is enabled for NTP authentication.</p>
</p><p><p>After this command is configured, the system automatically verifies the strength of an entered password. Only the password that meets the strength requirements can be configured. You are advised to run this command on a network that requires high security.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span><p><p>The view of the interface specified for sending NTP manycast packets is displayed.</p>
</p></li><li class="substepexpand"><span>Configure an NTP manycast server.</span><p><ul><li>Run the <a href="cmdqueryname=ntp-service+manycast-server"><b><span class="cmdname">ntp-service manycast-server</span></b></a> <i><span class="varname">ip-address</span></i> command to configure the <span class="keyword">Router</span>as an NTP manycast server on an IPv4 network.</li><li><p>Run the <a href="cmdqueryname=ntp-service+manycast-server"><b><span class="cmdname">ntp-service manycast-server</span></b></a> <strong><span>ipv6</span></strong> [ <i><span class="varname">ipv6-address</span></i> ] command to configure the <span class="keyword">Router</span> as an NTP manycast server on an IPv6 network.</p>
</li></ul>
</p></li></ol>
</li><li><span>Configure an NTP manycast client.</span><p><p>Perform the following steps on the <span class="keyword">Router</span> functioning as an NTP manycast client:</p>
</p><ol><li class="substepexpand"><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=ntp-service+authentication-keyid"><b><span class="cmdname">ntp-service authentication-keyid </span></b></a><i><span class="varname">key-Id</span></i> <strong><span>authentication-mode</span></strong> { <strong><span>md5</span></strong> | <strong><span>hmac-sha256</span></strong> } { <i><span class="varname">password</span></i> | <strong><span>cipher</span></strong> <i><span class="varname">password</span></i> }</span><p><p>The NTP authentication key is configured.</p>
</p><p><p>Using the HMAC-SHA256 algorithm for NTP key authentication is recommended.</p>
<div class="notice"><span class="noticetitle"><img src="../../../../public_sys-resources/notice_3.0-en-us.png"> </span><div class="noticebody"><p>The algorithm specified using <strong>md5</strong> in the command is a weak security algorithm, which is not recommended. To use such an algorithm, run the <strong>undo crypto weak-algorithm disable</strong> command to enable the weak security algorithm function. To avoid security risks, you are advised to use a more secure algorithm.</p>
</div></div>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=ntp-service+authentication-password+complexity-check+enable"><b><span class="cmdname">ntp-service authentication-password complexity-check enable</span></b></a></span><p><p>Password strength check is enabled for NTP authentication.</p>
</p><p><p>After this command is configured, the system automatically verifies the strength of an entered key. Only the key that meets the strength requirements can be configured. You are advised to run this command on a network that requires high security.</p>
</p></li><li class="substepexpand"><span>(Optional) Run <a href="cmdqueryname=ntp-service+max-dynamic-sessions"><b><span class="cmdname">ntp-service max-dynamic-sessions</span></b></a> <i><span class="varname">number</span></i></span><p><p>The maximum number of dynamic sessions supported by the local device is specified.</p>
</p><p><p>Running this command does not affect the existing NTP sessions. When the number of sessions reaches the maximum number, no more session can be established.</p>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span><p><p>The interface for receiving NTP manycast packets is specified.</p>
</p></li><li class="substepexpand"><span>Configure an NTP manycast client.</span><p><ul><li>Run the <a href="cmdqueryname=ntp-service+manycast-client"><b><span class="cmdname">ntp-service manycast-client</span></b></a> <i><span class="varname">ip-address</span></i> [ [ <strong><span>authentication-keyid</span></strong> <i><span class="varname">key-id</span></i> ] | <strong><span>ttl</span></strong> <i><span class="varname">ttl-number</span></i><span> | <strong><span>port</span></strong> <i><span class="varname">port-number</span></i></span> ] * command to configure the <span class="keyword">Router</span> as an IPv4 NTP manycast client.</li><li>Run the <a href="cmdqueryname=ntp-service+manycast-client"><b><span class="cmdname">ntp-service manycast-client</span></b></a> <strong><span>ipv6</span></strong> [ <i><span class="varname">ipv6-address</span></i> ][ [ <strong><span>authentication-keyid</span></strong> <i><span class="varname">key-id</span></i> ] | <strong><span>ttl</span></strong> <i><span class="varname">ttl-number</span></i><span> | <strong><span>port</span></strong> <i><span class="varname">port-number</span></i></span> ] * command to configure the <span class="keyword">Router</span> as an NTP manycast client on an IPv6 network.</li></ul>
</p></li><li class="substepexpand"><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p><p><p>The NTP manycast client receives the NTP manycast packets sent from the server and synchronizes the local clock.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ntp_cfg_0004.html">Configuring Basic NTP Functions
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ntp_cfg_0009.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ntp_cfg_0010.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>