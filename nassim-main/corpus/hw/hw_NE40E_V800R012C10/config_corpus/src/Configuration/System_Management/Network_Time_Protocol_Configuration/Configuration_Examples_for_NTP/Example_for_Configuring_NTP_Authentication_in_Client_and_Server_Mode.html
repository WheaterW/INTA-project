
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring NTP Authentication in Client/Server Mode">
<meta name="abstract" content="You must enable NTP authentication for the NTP client, and then specify the IP address of the NTP server and the authentication key to be sent to the NTP server. Otherwise, if NTP authentication fails, then no synchronization will take place. To implement authentication successfully, configure both the server and the client.">
<meta name="description" content="You must enable NTP authentication for the NTP client, and then specify the IP address of the NTP server and the authentication key to be sent to the NTP server. Otherwise, if NTP authentication fails, then no synchronization will take place. To implement authentication successfully, configure both the server and the client.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ntp_cfg_0026.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ntp_cfg_0028.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,jwx1168690,w00556928,w00437000,w00845984,w00606909,l00455378,ntpvrp">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="NTP">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="NTP">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="NTP">
<meta name="featuretype" content="System Management">
<meta name="OWNER" content="w00845984,lwx1238418,l00587852">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="lWX1238418">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001847727701">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Example for Configuring NTP Authentication in Client/Server Mode</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001847727701"></a><a name="EN-US_TASK_0000001847727701"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring NTP Authentication in Client/Server Mode</h1>
<div class="taskbody"><p>You must enable NTP authentication for the NTP client, and then specify the IP address of the NTP server and the authentication key to be sent to the NTP server. Otherwise, if NTP authentication fails, then no synchronization will take place. To implement authentication successfully, configure both the server and the client.</p>
<div class="context"><a name="EN-US_TASK_0000001847727701__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>On the network shown in <a href="#EN-US_TASK_0000001847727701__fig_dc_vrp_ntp_cfg_002701">Figure 1</a>:</p>
<ul><li><p><span class="keyword">Device</span>A functions as a unicast NTP server. The clock on it functions as a stratum 2 NTP master clock.</p>
</li><li><p><span class="keyword">Device</span>B functions as a unicast NTP client. The client synchronizes clock with <span class="keyword">Device</span>A.</p>
</li><li><p><span class="keyword">Device</span>C and <span class="keyword">Device</span>D function as NTP clients of <span class="keyword">Device</span>B.</p>
</li><li><p>Enable NTP authentication on all the <span class="keyword">Router</span>s.</p>
</li></ul>
<div class="fignone" id="EN-US_TASK_0000001847727701__fig_dc_vrp_ntp_cfg_002701"><a name="EN-US_TASK_0000001847727701__fig_dc_vrp_ntp_cfg_002701"></a><a name="fig_dc_vrp_ntp_cfg_002701"></a><span class="figcap"><b>Figure 1 </b>Configuring the client/server mode</span><br><span><img class="vsd" src="figure/en-us_image_0000001801088666.png" width="NaN" height="NaN"></span></div>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In this example, interface1 and interface2 represent GE<span>0/1/0</span> and GE<span>0/2/0</span>, respectively.</p>
</div></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001847727701__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Precautions</h4><div class="p"><ul><li>You must enable NTP authentication for the NTP client, and then specify the IP address of the NTP server and the authentication key to be sent to the NTP server. Otherwise, clock synchronization is implemented without NTP authentication.</li><li>Configure the same authentication key on the NTP server and NTP client and declare the authentication key on the client as reliable. Otherwise, the NTP authentication fails.</li><li>Configure both the server and the client to implement authentication successfully.</li><li>Enable NTP authentication on all the <span class="keyword">Router</span>s.</li></ul>
</div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001847727701__1.4.3"></a><a name="1.4.3"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><p>The configuration roadmap is as follows:</p>
<ol><li><p>Configure <span class="keyword">Device</span>A as an NTP server and configure a master clock on it.</p>
</li><li><p>Configure <span class="keyword">Device</span>B as an NTP client and synchronize its clock with the clock of <span class="keyword">Device</span>A.</p>
</li><li><p>Configure <span class="keyword">Device</span>C and <span class="keyword">Device</span>D as NTP clients to synchronize their clocks with the clock of <span class="keyword">Device</span>B.</p>
</li><li><p>Enable NTP authentication on all the <span class="keyword">Router</span>s.</p>
</li></ol>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001847727701__1.4.4"></a><a name="1.4.4"></a>
<div class="p"><h4 class="sectiontitle">Data Preparation</h4><p>To complete the configuration, you need the following data:</p>
<ul><li><p>IP address of the reference clock</p>
</li><li><p>Stratum of the NTP master clock</p>
</li><li><p>Key ID and key. The HMAC-SHA256 algorithm is used to verify the key.</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001847727701__1.4.5"></a><a name="1.4.5"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure available routes among the devices. For configuration details, see <a href="#EN-US_TASK_0000001847727701__example71152866214019">Configuration Files</a> in this section. </span></li><li><span>Configure the IP addresses based on <a href="#EN-US_TASK_0000001847727701__fig_dc_vrp_ntp_cfg_002701">Figure 1</a> so that <span class="keyword">Device</span>A, <span class="keyword">Device</span>B, <span class="keyword">Device</span>C, and <span class="keyword">Device</span>D are routable. For configuration details, see Configuration Files.</span></li><li><span>Configure an NTP master clock and listening interface on <span class="keyword">Device</span>A and enable NTP authentication.</span><p><p># On <span class="keyword">Device</span>A, set its local clock as an NTP master clock with stratum 2.</p>
<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>sysname DeviceA</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>commit</strong> </pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>undo ntp-service server disable</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A]<strong> ntp-service refclock-master 2</strong></pre>
<p># Specify a listening interface on <span class="keyword">Device</span>A.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>ntp-service server source-interface gigabitethernet <span>0/1/0</span> </strong></pre>
<p># On <span class="keyword">Device</span>A, enable NTP authentication. Configure the authentication key and declare the key to be reliable.</p>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A] <strong>ntp-service authentication enable</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A] <strong>ntp-service authentication-keyid 42 authentication-mode hmac-sha256 cipher Hello123</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>A] <strong>commit</strong></pre>
<div class="p"><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Authentication keys configured on the server and the client must be the same.</p>
</div></div>
</div>
</p></li><li><span>Configure an NTP master clock and listening interface on <span class="keyword">Device</span>B and enable NTP authentication.</span><p><p># On <span class="keyword">Device</span>B, enable NTP authentication. Configure the authentication key and declare the key to be reliable.</p>
<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>sysname DeviceB</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>]<strong> commit </strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B] <strong>undo ntp-service server disable</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B]<strong> ntp-service authentication enable</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B]<strong> ntp-service authentication-keyid 42 authentication-mode hmac-sha256 cipher Hello123</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B] <strong>ntp-service reliable authentication-keyid 42</strong></pre>
<p># Specify a listening interface on <span class="keyword">Device</span>B.</p>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B] <strong>ntp-service server source-interface gigabitethernet <span>0/1/0</span> </strong></pre>
<p># Specify <span class="keyword">Device</span>A to be the NTP server of <span class="keyword">Device</span>B and use the authentication key.</p>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B]<strong> ntp-service unicast-server 2.2.2.2 authentication-keyid 42</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>B]<strong> commit</strong></pre>
</p></li><li><span>Configure <span class="keyword">Device</span>C as an NTP client and enable NTP authentication.</span><p><p># On <span class="keyword">Device</span>C, configure <span class="keyword">Device</span>B to be its NTP server.</p>
<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>sysname DeviceC</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>commit </strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>C] <strong>undo ntp-service disable</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>C]<strong> ntp-service authentication enable</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>C]<strong> ntp-service authentication-keyid 42 authentication-mode hmac-sha256 cipher Hello123</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>C] <strong>ntp-service reliable authentication-keyid 42</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>C]<strong> ntp-service unicast-server 10.0.0.1 authentication-keyid 42</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>C]<strong> commit</strong></pre>
</p></li><li><span>Configure <span class="keyword">Device</span>D as an NTP client and enable NTP authentication.</span><p><p># On <span class="keyword">Device</span>D, configure <span class="keyword">Device</span>B to be its NTP server.</p>
<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>sysname DeviceD</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>commit </strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>D] <strong>undo ntp-service disable</strong></pre>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>D]<strong> ntp-service authentication enable</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D]<strong> ntp-service authentication-keyid 42 authentication-mode hmac-sha256 cipher Hello123</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D] <strong>ntp-service reliable authentication-keyid 42</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D]<strong> ntp-service unicast-server 10.0.0.1 authentication-keyid 42</strong></pre>
<pre class="screen">[<span class="keyword">*</span><span class="keyword">Device</span>D]<strong> commit</strong></pre>
</p></li><li><span>Verify the configuration.</span><p><p>After the configurations are complete, the clock on <span class="keyword">Device</span>B can be synchronized with the clock on <span class="keyword">Device</span>A.</p>
<p>Check the NTP status on <span class="keyword">Device</span>B. You can find that the clock status is <strong>synchronized</strong>. The stratum of the clock is 3, one stratum lower than that on <span class="keyword">Device</span>A.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>B]<strong> display ntp-service status</strong></pre>
<pre class="screen"> clock status: synchronized</pre>
<pre class="screen"> clock stratum: 3</pre>
<pre class="screen"> reference clock ID: 2.2.2.2</pre>
<pre class="screen"> nominal frequency: 60.0002 Hz</pre>
<pre class="screen"> actual frequency: 60.0002 Hz</pre>
<pre class="screen"> clock precision: 2^18</pre>
<pre class="screen"> clock offset: 3.8128 ms</pre>
<pre class="screen"> root delay: 31.26 ms</pre>
<pre class="screen"> root dispersion: 74.20 ms</pre>
<pre class="screen"> peer dispersion: 34.30 ms</pre>
<pre class="screen"> reference time: 11:55:56.833 UTC Mar 2 2006(C7B15BCC.D5604189)</pre>
<pre class="screen"> synchronization state: clock synchronized</pre>
<p>After the configurations are complete, the clock on <span class="keyword">Device</span>C can be synchronized with the clock on <span class="keyword">Device</span>B.</p>
<p>Check the NTP status on <span class="keyword">Device</span>C. You can find that the clock status is <strong>synchronized</strong>. The stratum of the clock is 4, one stratum lower than that on <span class="keyword">Device</span>B.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>C]<strong> display ntp-service status</strong></pre>
<pre class="screen"> clock status: synchronized</pre>
<pre class="screen"> clock stratum: 4</pre>
<pre class="screen"> reference clock ID: 10.0.0.1</pre>
<pre class="screen"> nominal frequency: 60.0002 Hz</pre>
<pre class="screen"> actual frequency: 60.0002 Hz</pre>
<pre class="screen"> clock precision: 2^18</pre>
<pre class="screen"> clock offset: 3.8128 ms</pre>
<pre class="screen"> root delay: 31.26 ms</pre>
<pre class="screen"> root dispersion: 74.20 ms</pre>
<pre class="screen"> peer dispersion: 34.30 ms</pre>
<pre class="screen"> reference time: 11:55:56.833 UTC Mar 2 2006(C7B15BCC.D5604189)</pre>
<pre class="screen"> synchronization state: clock synchronized</pre>
<p>Check the NTP status on <span class="keyword">Device</span>D. You can find that the clock status is <strong>synchronized</strong>. The stratum of the clock is 4, one stratum lower than that on <span class="keyword">Device</span>B.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>D]<strong> display ntp-service status</strong></pre>
<pre class="screen"> clock status: synchronized</pre>
<pre class="screen"> clock stratum: 4</pre>
<pre class="screen"> reference clock ID: 10.0.0.1</pre>
<pre class="screen"> nominal frequency: 60.0002 Hz</pre>
<pre class="screen"> actual frequency: 60.0002 Hz</pre>
<pre class="screen"> clock precision: 2^18</pre>
<pre class="screen"> clock offset: 3.8128 ms</pre>
<pre class="screen"> root delay: 31.26 ms</pre>
<pre class="screen"> root dispersion: 74.20 ms</pre>
<pre class="screen"> peer dispersion: 34.30 ms</pre>
<pre class="screen"> reference time: 11:55:56.833 UTC Mar 2 2006(C7B15BCC.D5604189)</pre>
<pre class="screen"> synchronization state: clock synchronized</pre>
<p>Check the NTP status on <span class="keyword">Device</span>A.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>display ntp-service status</strong></pre>
<pre class="screen"> clock status: synchronized</pre>
<pre class="screen"> clock stratum: 2</pre>
<pre class="screen"> reference clock ID: LOCAL(0)</pre>
<pre class="screen"> nominal frequency: 60.0002 Hz</pre>
<pre class="screen"> actual frequency: 60.0002 Hz</pre>
<pre class="screen"> clock precision: 2^18</pre>
<pre class="screen"> clock offset: 0.0000 ms</pre>
<pre class="screen"> root delay: 0.00 ms</pre>
<pre class="screen"> root dispersion: 26.50 ms</pre>
<pre class="screen"> peer dispersion: 10.00 ms</pre>
<pre class="screen"> reference time: 12:01:48.377 UTC Mar 2 2006(C7B15D2C.60A15981)</pre>
<pre class="screen"> synchronization state: clock synchronized</pre>
</p></li></ol></div>
<div class="example" id="EN-US_TASK_0000001847727701__example71152866214019"><a name="EN-US_TASK_0000001847727701__example71152866214019"></a><a name="example71152866214019"></a><a name="EN-US_TASK_0000001847727701__1.4.6"></a><a name="1.4.6"></a><h4 class="sectiontitle">Configuration Files</h4><ul><li><p><span class="keyword">Device</span>A configuration file</p>
<pre class="screen">#</pre>
<pre class="screen">sysname <span class="keyword">Device</span>A</pre>
<pre class="screen">#</pre>
<pre class="screen">undo ntp-service server disable</pre>
<pre class="screen">ntp-service authentication-keyid 42 authentication-mode hmac-sha256 cipher %#%#JA!v6M22=Gg\{&gt;U.lx%#)c%yY}0*"/`5mi&gt;&lt;QS)L%#%#</pre>
<pre class="screen">ntp-service refclock-master 2</pre>
<pre class="screen">ntp-service authentication enable</pre>
<pre class="screen">ntp-service server source-interface gigabitethernet <span>0/1/0</span></pre>
<pre class="screen">#</pre>
<pre class="screen">interface GigabitEthernet<span>0/1/0</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen"> ip address 2.2.2.2 255.255.255.0</pre>
<pre class="screen">#</pre>
<pre class="screen">ospf 1</pre>
<pre class="screen"> area 0.0.0.0</pre>
<pre class="screen">  network 2.2.2.0 0.0.0.255</pre>
<pre class="screen">#</pre>
<pre class="screen">return</pre>
</li><li><p><span class="keyword">Device</span>B configuration file</p>
<pre class="screen">#</pre>
<pre class="screen">sysname <span class="keyword">Device</span>B</pre>
<pre class="screen">#</pre>
<pre class="screen">undo ntp-service server disable</pre>
<pre class="screen">ntp-service authentication-keyid 42 authentication-mode hmac-sha256 cipher %#%#&gt;hD8))_H-XZVut2u3!_0lq3,+Ph=:OE}pX;T2M'9%#%#</pre>
<pre class="screen">ntp-service reliable authentication-keyid 42</pre>
<pre class="screen">ntp-service unicast-server 2.2.2.2 authentication-keyid 42</pre>
<pre class="screen">ntp-service authentication enable</pre>
<pre class="screen">ntp-service server source-interface gigabitethernet <span>0/1/0</span></pre>
<pre class="screen">#</pre>
<pre class="screen">interface GigabitEthernet<span>0/1/0</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen"> ip address 10.0.0.1 255.255.255.0</pre>
<pre class="screen">interface GigabitEthernet<span>0/2/0</span>
 undo shutdown</pre>
<pre class="screen"> ip address 10.1.1.11 255.255.255.0</pre>
<pre class="screen">#</pre>
<pre class="screen">ospf 1</pre>
<pre class="screen"> area 0.0.0.0</pre>
<pre class="screen">  network 10.1.1.0 0.0.0.255</pre>
<pre class="screen">  network 10.0.0.0 0.0.0.255</pre>
<pre class="screen">#</pre>
<pre class="screen">return</pre>
</li><li><p><span class="keyword">Device</span>C configuration file</p>
<pre class="screen">#</pre>
<pre class="screen">sysname <span class="keyword">Device</span>C</pre>
<pre class="screen">#</pre>
<pre class="screen">ntp-service authentication-keyid 42 authentication-mode hmac-sha256 cipher %#%#m:fVJfk*r&amp;3x"1J`21^K`Y;LH;B+g(t2&lt;ZX^}Q_<font style="font-size:8pt" Face="Courier New" >~</font>%#%#</pre>
<pre class="screen">ntp-service reliable authentication-keyid 42</pre>
<pre class="screen">ntp-service unicast-server 10.0.0.1 authentication-keyid 42</pre>
<pre class="screen">ntp-service authentication enable</pre>
<pre class="screen">#</pre>
<pre class="screen">interface GigabitEthernet<span>0/1/0</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen"> ip address 10.0.0.2 255.255.255.0</pre>
<pre class="screen">#</pre>
<pre class="screen">return</pre>
</li><li><p><span class="keyword">Device</span>D configuration file</p>
<pre class="screen">#</pre>
<pre class="screen">sysname <span class="keyword">Device</span>D</pre>
<pre class="screen">#</pre>
<pre class="screen">ntp-service authentication-keyid 42 authentication-mode hmac-sha256 cipher %#%#$\`_6BKWy1]kdR@=c;O@UX!)Vor5iYi|zIYEG_v5%#%#</pre>
<pre class="screen">ntp-service reliable authentication-keyid 42</pre>
<pre class="screen">ntp-service unicast-server 10.0.0.1 authentication-keyid 42</pre>
<pre class="screen">ntp-service authentication enable</pre>
<pre class="screen">#</pre>
<pre class="screen">interface GigabitEthernet<span>0/1/0</span></pre>
<pre class="screen"> undo shutdown</pre>
<pre class="screen"> ip address 10.0.0.3 255.255.255.0</pre>
<pre class="screen">#</pre>
<pre class="screen">return</pre>
</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ntp_cfg_0026.html">Configuration Examples for NTP
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ntp_cfg_0028.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>