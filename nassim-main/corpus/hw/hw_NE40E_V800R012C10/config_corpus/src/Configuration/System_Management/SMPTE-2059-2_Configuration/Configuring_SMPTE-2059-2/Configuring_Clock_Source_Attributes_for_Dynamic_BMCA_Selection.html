
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Clock Source Attributes for Dynamic BMCA Selection">
<meta name="abstract" content="After multiple SMPTE-2059-2 devices are configured with time signal input, clock source attributes can be configured on these devices to allow them to participate in BMCA selection. The local clock of an SMPTE-2059-2 device can also participate in BMCA selection. The BMCA helps SMPTE-2059-2 devices dynamically determine the grandmaster clock which provides time signals for the entire SMPTE-2059-2 network. SMPTE-2059-2 devices can obtain time synchronization information from the grandmaster clock through the SMPTE-2059-2 protocol.">
<meta name="description" content="After multiple SMPTE-2059-2 devices are configured with time signal input, clock source attributes can be configured on these devices to allow them to participate in BMCA selection. The local clock of an SMPTE-2059-2 device can also participate in BMCA selection. The BMCA helps SMPTE-2059-2 devices dynamically determine the grandmaster clock which provides time signals for the entire SMPTE-2059-2 network. SMPTE-2059-2 devices can obtain time synchronization information from the grandmaster clock through the SMPTE-2059-2 protocol.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_smpte-2059-2_cfg_004.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_smpte-2059-2_cfg_005.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_smpte-2059-2_cfg_0013.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00606909,l00587852">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="SMPTE-2059-2">
<meta name="featuretype" content="Clock and Time Synchronization">
<meta name="featuretype" content="System Management">

<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="SMPTE-2059-2">
<meta name="featuretype" content="Clock and Time Synchronization">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="SMPTE-2059-2">
<meta name="featuretype" content="Clock and Time Synchronization">
<meta name="featuretype" content="System Management">
<meta name="OWNER" content="w00845984">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="w00845984">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001778921766">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Clock Source Attributes for Dynamic BMCA Selection</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001778921766"></a><a name="EN-US_TASK_0000001778921766"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Clock Source Attributes for Dynamic BMCA Selection</h1>
<div class="taskbody"><p>After multiple SMPTE-2059-2 devices are configured with time signal input, clock source attributes can be configured on these devices to allow them to participate in BMCA selection. The local clock of an SMPTE-2059-2 device can also participate in BMCA selection. The BMCA helps SMPTE-2059-2 devices dynamically determine the grandmaster clock which provides time signals for the entire SMPTE-2059-2 network. SMPTE-2059-2 devices can obtain time synchronization information from the grandmaster clock through the SMPTE-2059-2 protocol.</p>
<div class="context"><a name="EN-US_TASK_0000001778921766__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>When an SMPTE-2059-2-enabled <span class="keyword">Router</span> uses the BMCA to dynamically select a time source, the <span class="keyword">Router</span> compares the following parameters in sequence: <strong><span>priority1</span></strong> &gt; <strong><span>clock-class</span></strong> &gt; <strong><span>clock-accuracy</span></strong> &gt; <strong><span>priority2</span></strong>. That is, the <span class="keyword">Router</span> preferentially compares <strong><span>priority1</span></strong> of time sources. The time source with the largest value of <strong><span>priority1</span></strong> is selected as the grandmaster clock. If the <strong><span>priority1</span></strong> values are the same, the <span class="keyword">Router</span> then compares <strong><span>clock-class</span></strong>.</p>
<p>Perform the following steps on the <span class="keyword">Router</span>s connected to external BITS time sources (including PTP interfaces and external time interfaces) on the SMPTE-2059-2 network.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0000001778921766__en-us_task_0000001825841181_p0121140135216">This section uses the BITS1 external time interface as an example. The actual quantity of external time interfaces and their types and numbers vary with the hardware configuration. You need to set them based on the actual situation.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001778921766__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run the <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> command to enter the system view.</span></li><li><span>Configure the type of the clock source to be traced.</span><p><pre class="screen"><a href="cmdqueryname=ptp+clock-source"><b><span class="cmdname">ptp clock-source</span></b></a> { <strong><span>local</span></strong> | <strong><span>bits1</span></strong> } <strong>time-source</strong> <em>time-source-value</em> </pre>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command applies only to the grandmaster. The parameter settings vary according to the type of the clock source. For the mapping between the <i><span class="varname">time-source-value</span></i> parameter and the clock source type, see <a href="cmdqueryname=ptp+clock-source"><b><span class="cmdname">ptp clock-source</span></b></a> in the <span class="keyword">NE40E</span> Command Reference.</p>
</div></div>
</p></li><li><span>Configure the accuracy of the clock source.</span><p><pre class="screen"><a href="cmdqueryname=ptp+clock-source"><b><span class="cmdname">ptp clock-source</span></b></a> { <strong><span>local</span></strong> | <strong><span>bits1</span></strong> } <strong>clock-accuracy</strong> <em>clock-accuracy-value</em> </pre>
</p><p><p>For the mapping between the <i><span class="varname">clock-accuracy-value</span></i> parameter and the clock precision, see <a href="cmdqueryname=ptp+clock-source"><b><span class="cmdname">ptp clock-source</span></b></a> in the <em><span class="keyword">NE40E</span> Command Reference</em>.</p>
</p></li><li><span>Configure the class of the clock source.</span><p><pre class="screen"><a href="cmdqueryname=ptp+clock-source"><b><span class="cmdname">ptp clock-source</span></b></a> { <strong><span>local</span></strong> | <strong><span>bits1</span></strong> } <strong><span>clock-class</span></strong> <em>clock-class-value</em></pre>
<p>For the mapping between the <i><span class="varname">clock-class-value</span></i> parameter and the clock source class, see <a href="cmdqueryname=ptp+clock-source"><b><span class="cmdname">ptp clock-source</span></b></a> in the <em><span class="keyword">NE40E</span> Command Reference</em>.</p>
<p>If the <i><span class="varname">clock-class-value</span></i> value is less than 128, the device cannot function as a slave clock.</p>
</p></li><li><span>Configure priority1 of the clock source.</span><p><pre class="screen"><a href="cmdqueryname=ptp+clock-source"><b><span class="cmdname">ptp clock-source</span></b></a> { <strong><span>local</span></strong> | <strong><span>bits1</span></strong> } <strong><span>priority1</span></strong> <em>priority1-value</em></pre>
</p></li><li><span>Configure priority2 of the clock source.</span><p><pre class="screen"><a href="cmdqueryname=ptp+clock-source"><b><span class="cmdname">ptp clock-source</span></b></a> { <strong><span>local</span></strong> | <strong><span>bits1</span></strong> } <strong><span>priority2</span></strong> <i><span class="varname">priority2-value</span></i></pre>
</p></li><li><span>(Optional) Configure the grandmaster clock ID of the time source.</span><p><pre class="screen"><a href="cmdqueryname=ptp+clock-source"><b><span class="cmdname">ptp clock-source</span></b></a> <strong><span>bits1 grandmaster-clockid</span></strong> <em>clockid-value</em></pre>
</p></li><li><span>(Optional) Configure the stability value of the time source.</span><p><pre class="screen"><a href="cmdqueryname=ptp+clock-source"><b><span class="cmdname">ptp clock-source</span></b></a> <strong><span>bits1 offsetscaled-logvariance</span></strong> <em>offsetscaled-logvariance-value</em></pre>
</p></li><li><span>Run the <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a> command to commit the configuration.</span></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_smpte-2059-2_cfg_004.html">Configuring SMPTE-2059-2
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_smpte-2059-2_cfg_005.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/dc_ne_smpte-2059-2_cfg_0013.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>