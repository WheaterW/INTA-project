
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring the Inform Function">
<meta name="abstract" content="A Router on which the SNMP agent function is enabled can generate two types of alarms: traps and informs. Traps are messages that notify the NMS of a condition on the network, and informs are alarms that require a reply from the NMS and are resent until a reply is received. Informs are more reliable than traps.">
<meta name="description" content="A Router on which the SNMP agent function is enabled can generate two types of alarms: traps and informs. Traps are messages that notify the NMS of a condition on the network, and informs are alarms that require a reply from the NMS and are resent until a reply is received. Informs are more reliable than traps.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_snmp_cfg_0009.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_snmp_cfg_1007.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_snmp_cfg_0040.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,jwx1168690,w00556928,w00437000,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="SNMP">
<meta name="OWNER" content="j00655225">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="j00655225">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172361006">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring the Inform Function</title>
</head>
<body><a name="EN-US_TASK_0172361006"></a><a name="EN-US_TASK_0172361006"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring the Inform Function</h1>
<div class="taskbody" id="taskbody551620297214021"><p id="shortdesc380028288214021">A <span class="keyword" id="keyword129182613548">Router</span> on which the SNMP agent function is enabled can generate two types of alarms: traps and informs. Traps are messages that notify the NMS of a condition on the network, and informs are alarms that require a reply from the NMS and are resent until a reply is received. Informs are more reliable than traps.</p>
<div class="steps"><a name="EN-US_TASK_0172361006__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0172361006__steps1636933242214021"><li id="EN-US_TASK_0172361006__step2127516939214021"><span id="EN-US_TASK_0172361006__cmd1574471223214021">Run the <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172361006__cmdname361820613214021">system-view</span></b></a> command to enter the system view.</span></li><li id="EN-US_TASK_0172361006__step1900680417214021"><span id="EN-US_TASK_0172361006__cmd916519394214021">Run the <a href="cmdqueryname=snmp-agent+trap+enable"><b><span class="cmdname" id="EN-US_TASK_0172361006__cmdname1883504455214021">snmp-agent trap enable</span></b></a> command to enable the device to send traps to the NMS.</span></li><li id="EN-US_TASK_0172361006__step308944295214021"><span id="EN-US_TASK_0172361006__cmd1958791266214021">Run the <a href="cmdqueryname=snmp-agent+trap+enable+feature-name"><b><span class="cmdname" id="EN-US_TASK_0172361006__cmdname2006928372214304">snmp-agent trap enable feature-name</span></b></a> <i><span class="varname" id="EN-US_TASK_0172361006__varname316568083214304">feature-name</span></i> <strong><span id="EN-US_TASK_0172361006__cmdparmname755654443214304">trap-name</span></strong> <i><span class="varname" id="EN-US_TASK_0172361006__varname1870723193214304">trap-name</span></i> command to enable the device to send a trap of a specified feature to the NMS.</span><p><div class="note" id="EN-US_TASK_0172361006__note651606334214021"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><div class="p" id="EN-US_TASK_0172361006__p1528539485214021">If the <a href="cmdqueryname=snmp-agent+trap+enable"><b><span class="cmdname" id="EN-US_TASK_0172361006__cmdname2032366571214021">snmp-agent trap enable</span></b></a> command has been run to enable the trap functions of all modules, or the <a href="cmdqueryname=snmp-agent+trap+enable+feature-name"><b><span class="cmdname" id="EN-US_TASK_0172361006__cmdname1500811624214021">snmp-agent trap enable feature-name</span></b></a> command has been run to enable three or more trap functions of a module, note the following points:<ul id="EN-US_TASK_0172361006__ul1517349802214021"><li id="EN-US_TASK_0172361006__li1706285806214021"><p id="EN-US_TASK_0172361006__p48919404214021"><a name="EN-US_TASK_0172361006__li1706285806214021"></a><a name="li1706285806214021"></a>To disable the trap functions of all modules, run the <a href="cmdqueryname=snmp-agent+trap+disable"><b><span class="cmdname" id="EN-US_TASK_0172361006__cmdname428298346214021">snmp-agent trap disable</span></b></a> command.</p>
</li><li id="EN-US_TASK_0172361006__li1923061144214021"><p id="EN-US_TASK_0172361006__p1259759858214021"><a name="EN-US_TASK_0172361006__li1923061144214021"></a><a name="li1923061144214021"></a>To restore the trap functions of all modules to the default status, run the <a href="cmdqueryname=undo+snmp-agent+trap+enable"><b><span class="cmdname" id="EN-US_TASK_0172361006__cmdname1056944651175535">undo snmp-agent trap enable</span></b></a> or <a href="cmdqueryname=undo+snmp-agent+trap+disable"><b><span class="cmdname" id="EN-US_TASK_0172361006__cmdname1205107582175535">undo snmp-agent trap disable</span></b></a> command.</p>
</li><li id="EN-US_TASK_0172361006__li1624874013214021"><p id="EN-US_TASK_0172361006__p1855481239214021"><a name="EN-US_TASK_0172361006__li1624874013214021"></a><a name="li1624874013214021"></a>To disable the trap function for a specified module, run the <a href="cmdqueryname=undo+snmp-agent+trap+enable+feature-name"><b><span class="cmdname" id="EN-US_TASK_0172361006__cmdname255983505214021">undo snmp-agent trap enable feature-name</span></b></a> command.</p>
</li></ul>
</div>
</div></div>
</p></li><li id="EN-US_TASK_0172361006__step2079220827214021"><span id="EN-US_TASK_0172361006__cmd1610535405214021">(Optional) Run the <a href="cmdqueryname=snmp-agent+inform"><b><span class="cmdname" id="EN-US_TASK_0172361006__cmdname1692258669214304">snmp-agent inform</span></b></a> { <strong><span id="EN-US_TASK_0172361006__cmdparmname1776147405214304">timeout</span></strong> <i><span class="varname" id="EN-US_TASK_0172361006__varname474373061214304">seconds</span></i> | <strong><span id="EN-US_TASK_0172361006__cmdparmname1283227030214304">resend-times</span></strong> <i><span class="varname" id="EN-US_TASK_0172361006__varname971791259214304">times</span></i> | <strong><span id="EN-US_TASK_0172361006__cmdparmname779562298214304">pending</span></strong> <i><span class="varname" id="EN-US_TASK_0172361006__varname754605367214304">number</span></i> } * command to set the timeout period for waiting to receive Inform Ack messages, the number of times to resend Inform messages, and the maximum number of pending Inform messages (Inform messages need to be acknowledged).</span><p><div class="note" id="EN-US_TASK_0172361006__note1429654756214021"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172361006__p12957809214021">On a network that is unstable, you are advised to increase these values from the default.</p>
</div></div>
</p></li><li id="EN-US_TASK_0172361006__step1733639622214021"><span id="EN-US_TASK_0172361006__cmd223004458214021">Run the <a href="cmdqueryname=snmp-agent+inform"><b><span class="cmdname" id="EN-US_TASK_0172361006__cmdname325098131214021">snmp-agent inform</span></b></a> { <strong><span id="EN-US_TASK_0172361006__cmdparmname41356497214021">timeout</span></strong> <i><span class="varname" id="EN-US_TASK_0172361006__varname516561998214021">seconds</span></i> | <strong><span id="EN-US_TASK_0172361006__cmdparmname2002528736214021">resend-times</span></strong> <i><span class="varname" id="EN-US_TASK_0172361006__varname1653761338214021">times</span></i> } <sup id="EN-US_TASK_0172361006__sup1359742078214021">*</sup> { <strong><span id="EN-US_TASK_0172361006__cmdparmname2038679244214021">host-name</span></strong> <em id="EN-US_TASK_0172361006__i101181521203413"><i><span class="varname" id="EN-US_TASK_0172361006__varname20631937113415">target-host-name</span></i></em> | { <strong><span id="EN-US_TASK_0172361006__cmdparmname966810812214021">address</span></strong> <strong><span id="EN-US_TASK_0172361006__cmdparmname220979711214021">udp-domain</span></strong> <i><span class="varname" id="EN-US_TASK_0172361006__varname1564914988214021">ip-address</span></i> | <strong><span id="EN-US_TASK_0172361006__cmdparmname9935173111205">ipv6</span></strong> <strong><span id="EN-US_TASK_0172361006__cmdparmname1371223818207">address</span></strong> <strong><span id="EN-US_TASK_0172361006__cmdparmname1954010442203">udp-domain</span></strong> <i><span class="varname" id="EN-US_TASK_0172361006__varname196421828204">ipv6-address</span></i> } [ <strong><span id="EN-US_TASK_0172361006__cmdparmname1536688953214021">vpn-instance</span></strong> <i><span class="varname" id="EN-US_TASK_0172361006__varname955873472214021">vpn-instance-name</span></i> ] <strong><span id="EN-US_TASK_0172361006__cmdparmname1692743402214021">params</span></strong> <strong><span id="EN-US_TASK_0172361006__cmdparmname1421047165214021">securityname</span></strong> { <i><span class="varname" id="EN-US_TASK_0172361006__varname2070525445214021">security-name</span></i> | <strong><span id="EN-US_TASK_0172361006__cmdparmname82164121900">cipher</span></strong> <i><span class="varname" id="EN-US_TASK_0172361006__varname142163127013">security-name-cipher</span></i> } } command to set the timeout period for waiting to receive Inform Ack messages and the number of times to resend Inform messages.</span></li><li id="EN-US_TASK_0172361006__step657604177214021"><span id="EN-US_TASK_0172361006__cmd1402555377214021">Run the <a href="cmdqueryname=snmp-agent+notification-log+enable"><b><span class="cmdname" id="EN-US_TASK_0172361006__cmdname970294464214304">snmp-agent notification-log enable</span></b></a> command to enable the alarm logging function.</span><p><p id="EN-US_TASK_0172361006__p924553775214021">If the link between the managed device and the NMS is faulty, the route is unreachable. In this case, the managed device no longer sends Inform alarms but continues to record alarm logs. After the link recovers, the NMS obtains alarm logs generated during the fault period from the managed device.</p>
<p id="EN-US_TASK_0172361006__p1251799549214021">The alarm logging function logs only Inform messages. </p>
</p></li><li id="EN-US_TASK_0172361006__step1492308858214021"><span id="EN-US_TASK_0172361006__cmd773463093214021">Run the <a href="cmdqueryname=snmp-agent+notification-log"><b><span class="cmdname" id="EN-US_TASK_0172361006__cmdname1748170729214304">snmp-agent notification-log</span></b></a> { <strong><span id="EN-US_TASK_0172361006__cmdparmname2014277635214304">global-ageout</span></strong> <i><span class="varname" id="EN-US_TASK_0172361006__varname825545408214304">ageout</span></i> | <strong><span id="EN-US_TASK_0172361006__cmdparmname2144198343214304">global-limit</span></strong> <i><span class="varname" id="EN-US_TASK_0172361006__varname1744983726214304">limit</span></i> } <sup id="EN-US_TASK_0172361006__sup1093755468214304">*</sup> command to set the aging time of Inform logs and the maximum number of Inform logs that can be stored in the log buffer.</span><p><p id="EN-US_TASK_0172361006__p623518855214021">If the aging time expires, Inform logs are automatically deleted.</p>
<p id="EN-US_TASK_0172361006__p220134355214021">Newer Inform logs replace the oldest ones.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_snmp_cfg_0009.html">Configuring a Device to Communicate with an NMS Using SNMPv2c
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_snmp_cfg_1007.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_snmp_cfg_0040.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>