
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Sending Information to a Syslog Server">
<meta name="abstract" content="Information can be sent to a Syslog server for user query. This allows users to learn the device operation in real time.">
<meta name="description" content="Information can be sent to a Syslog server for user query. This allows users to learn the device operation in real time.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_logs_cfg_2031.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_logs_cfg_2033.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_logs_cfg_2035.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,w00437000,w00556928,w00606909,l00455378">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Information Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Information Management">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="Information Management">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="Information Management">
<meta name="OWNER" content="j00655225">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="j00655225">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172361188">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Sending Information to a Syslog Server</title>
</head>
<body><a name="EN-US_TASK_0172361188"></a><a name="EN-US_TASK_0172361188"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Sending Information to a Syslog Server</h1>
<div class="taskbody"><p>Information can be sent to a Syslog server for user query. This allows users to learn the device operation in real time.</p>
<div class="context"><a name="EN-US_TASK_0172361188__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>When a device is working, the system records the operating status of the device in real time and generates certain information. If the UDP port number, information recording device, and information severity are specified for a Syslog server of a specified IP address, information is sent to the Syslog for query. This allows the network administrator to monitor the device operation and diagnose network faults.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In this document, logs and traps are sent to a Syslog server.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172361188__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=info-center+enable"><b><span class="cmdname">info-center enable</span></b></a></span><p><p>Information management is enabled to output information to a terminal or remote server.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=info-center+channel"><b><span class="cmdname">info-center channel</span></b></a> <i><span class="varname">channel-number</span></i> <strong><span>name</span></strong> <i><span class="varname">channel-name</span></i></span><p><p>The information channel specified by <em>channel-number</em> is named <em>channel-name</em>.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=info-center+syslog+packet-priority"><b><span class="cmdname">info-center syslog packet-priority</span></b></a> <i><span class="varname">priority-level</span></i></span><p><p>The output priority of Syslog packets is configured.</p>
</p></li><li><span>Run <a href="cmdqueryname=info-center+loghost+source"><b><span class="cmdname">info-center loghost source</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span><p><p>The source interface through which the device sends information to the Syslog server is configured.</p>
</p><p><p>After the configuration is complete, if the device sends information to the Syslog server, the Syslog server can check the source address to determine whether the information is sent from the device and can search the received information.</p>
</p></li><li><span>Run <a href="cmdqueryname=info-center+loghost+source-port"><b><span class="cmdname">info-center loghost source-port</span></b></a> <i><span class="varname">source-port</span></i></span><p><p>The source interface through which the device sends information to the syslog server is configured.</p>
</p></li><li><span>Send information to a specified Syslog server.</span><p><div class="p"><ul><li>On an IPv4 network, run <a href="cmdqueryname=info-center+loghost"><b><span class="cmdname">info-center loghost</span></b></a> <i><span class="varname">ipv4-address</span></i> [ <span><span>{ <strong><span>public-net</span></strong> | </span><strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> <span>} </span>| </span><strong><span>channel</span></strong> { <i><span class="varname">channel-number</span></i> | <i><span class="varname">channel-name</span></i> } | <span><strong><span>source-ip</span></strong> <i><span class="varname">source-ip-address</span></i> | </span><strong><span>facility</span></strong> <i><span class="varname">local-number</span></i> | <strong><span>port</span></strong> <i><span class="varname">port-number</span></i> | <strong><span>level</span></strong> <i><span class="varname">log-level</span></i> | { <strong><span>local-time</span></strong> | <strong><span>utc</span></strong> }<span> | <strong><span>transport</span></strong> { <strong><span>udp</span></strong> | <strong><span>tcp</span></strong> { [ <strong><span>version</span></strong> <strong><span>rfc6587</span></strong> ] [ <strong><span>ssl-policy</span></strong> <i><span class="varname">policy-name</span></i> <span>[ <span><strong><span>security</span></strong> | </span><strong><span>verify-dns-name</span></strong> <i><span class="varname">dns-name</span></i> ] </span>] }</span> }  ] <sup>*</sup><p>The device is configured to send information to a specified Syslog server.</p>
</li><li>On an IPv6 network, run <a href="cmdqueryname=info-center+loghost"><b><span class="cmdname">info-center loghost</span></b></a> <strong><span>ipv6</span></strong> <i><span class="varname">ipv6-address</span></i> [ { <strong><span>public-net</span></strong> | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> } | <strong><span>facility</span></strong> <i><span class="varname">local-number</span></i><span> | <strong><span>source-ip</span></strong> <i><span class="varname">source-ipv6-address</span></i></span> | <strong><span>channel</span></strong> { <i><span class="varname">channel-number</span></i> | <i><span class="varname">channel-name</span></i> } | <strong><span>port</span></strong> <i><span class="varname">port-number</span></i> | <strong><span>level</span></strong> <i><span class="varname">log-level</span></i> | { <strong><span>local-time</span></strong> | <strong><span>utc</span></strong> }<span> | <strong><span>transport</span></strong> { <strong><span>udp</span></strong> | <strong><span>tcp</span></strong> { [ <strong><span>version</span></strong> <strong><span>rfc6587</span></strong> ] [ <strong><span>ssl-policy</span></strong> <i><span class="varname">policy-name</span></i> <span>[ <span><strong><span>security</span></strong> | </span><strong><span>verify-dns-name</span></strong> <i><span class="varname">dns-name</span></i> ] </span>] }</span> }  ] <sup>*</sup><p>The device is configured to send information to a specified Syslog server.</p>
</li><li>For a log host with a domain name specified, run <a href="cmdqueryname=info-center+loghost"><b><span class="cmdname">info-center loghost</span></b></a> <strong><span>domain</span></strong> <i><span class="varname">domain-name</span></i> [ { <strong><span>local-time</span></strong> | <strong><span>utc</span></strong> } | <strong><span>channel</span></strong> { <i><span class="varname">channel-number</span></i> | <i><span class="varname">channel-name</span></i> } | { <strong><span>public-net</span></strong> | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> } | <strong><span>source-ip</span></strong> <i><span class="varname">source-ip-address</span></i> | <strong><span>facility</span></strong> <i><span class="varname">local-number</span></i> | <strong><span>level</span></strong> <i><span class="varname">log-level</span></i> | <strong><span>port</span></strong> <i><span class="varname">port-number</span></i> | <strong><span>transport</span></strong> { <strong><span>udp</span></strong> | <strong><span>tcp</span></strong> { [ <strong><span>version</span></strong> <strong><span>rfc6587</span></strong> ] [ <strong><span>ssl-policy</span></strong> <i><span class="varname">policy-name</span></i><span> [ <strong><span>security</span></strong> ]</span> ] } } ] <sup>*</sup><p>The device is configured to send information to a specified Syslog server.</p>
</li></ul>
</div>
<p>The same information can be sent to multiple Syslog servers backing up each other. You can check the maximum number of Syslog servers supported by the system based on the <strong>PafValue</strong> field corresponding to <strong>SPEC_RES_SYSLOG_LOGHOST_MAXNUM</strong> in the <a href="cmdqueryname=display+paf"><b><span class="cmdname">display paf</span></b></a> command output.</p>
<p>If the <strong><span>security</span></strong> parameter is set, the system sends only security logs to the log host.</p>
<div class="p">By default, a device sends logs to a Syslog server over UDP. To improve transmission security, you can configure TCP-based SSL encrypted transmission by specifying <strong><span>transport</span></strong> <strong><span>tcp</span></strong> <strong><span>ssl-policy</span></strong> <i><span class="varname">policy-name</span></i>.<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Before configuring TCP-based SSL encrypted transmission, configure an SSL policy and load a digital certificate. For the detailed configuration procedure, see <a href="dc_vrp_basic_cfg_0055.html">Configuring and Binding an SSL Policy</a>.</p>
</div></div>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Source interface binding modes</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.4.2.7.2.4.6.2.4.1.1" liSelected="liSelected"><p>Single Host's Source IP Address</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.4.2.7.2.4.6.2.4.1.2" liSelected="liSelected"><p>Source Interface</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.4.2.7.2.4.6.2.4.1.3" liSelected="liSelected"><p>Source IP Address Selection Rule</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.7.2.4.6.2.4.1.1 "><p>The <a href="cmdqueryname=info-center+loghost"><b><span class="cmdname">info-center loghost</span></b></a> command is not run.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.7.2.4.6.2.4.1.2 "><p>The <a href="cmdqueryname=info-center+loghost+source"><b><span class="cmdname">info-center loghost source</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> command is run to configure a source interface, and both a VPN and an IP address are configured for the source interface.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.7.2.4.6.2.4.1.3 "><ul><li>If the effective VPN of a host is the same as the VPN configured for the source interface, the source IP address is the source interface's IP address.</li><li>If the effective VPN of a host is inconsistent with the VPN configured for the source interface, the source IP address is the outbound interface's IP address.</li></ul>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.7.2.4.6.2.4.1.1 "><p>The <a href="cmdqueryname=info-center+loghost"><b><span class="cmdname">info-center loghost</span></b></a> command is not run.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.7.2.4.6.2.4.1.2 "><p>The <a href="cmdqueryname=info-center+loghost+source"><b><span class="cmdname">info-center loghost source</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> command is run to configure a source interface, and only an IP address is configured for the source interface.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.7.2.4.6.2.4.1.3 "><ul><li>If the effective VPN of a host is a public network VPN, the source IP address is the source interface's IP address.</li><li>If the effective VPN of a host is not a public network VPN, the source IP address is the outbound interface's IP address.</li></ul>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.7.2.4.6.2.4.1.1 "><p>The <a href="cmdqueryname=info-center+loghost"><b><span class="cmdname">info-center loghost</span></b></a> command is not run.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.7.2.4.6.2.4.1.2 "><p>The <a href="cmdqueryname=info-center+loghost+source"><b><span class="cmdname">info-center loghost source</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> command is not run.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.7.2.4.6.2.4.1.3 "><p>If no source IP address or source interface is configured for a host, the source IP address is the outbound interface's IP address.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.7.2.4.6.2.4.1.1 "><p>The <a href="cmdqueryname=info-center+loghost"><b><span class="cmdname">info-center loghost</span></b></a> command is run with <i><span class="varname">ipv4-address</span></i><span> or <i><span class="varname">ipv6-address</span></i></span> specified.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.7.2.4.6.2.4.1.2 "><p>The source interface is configured or not.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.4.2.7.2.4.6.2.4.1.3 "><p>The source IP address is the host's source IP address if a source IP address is configured for a host.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</p></li><li><span>Run <a href="cmdqueryname=info-center+source"><b><span class="cmdname">info-center source</span></b></a> { <i><span class="varname">module-name</span></i> | <strong><span>default</span></strong> } <strong><span>channel</span></strong> { <i><span class="varname">channel-number</span></i> | <i><span class="varname">channel-name</span></i> } [ <strong><span>log</span></strong> { <strong><span>state</span></strong> { <strong><span>off</span></strong> | <strong><span>on</span></strong> } | <strong><span>level</span></strong> <i><span class="varname">log-level</span></i> } <sup>*</sup> | <strong><span>trap</span></strong> { <strong><span>state</span></strong> { <strong><span>off</span></strong> | <strong><span>on</span></strong> } | <strong><span>level</span></strong> <i><span class="varname">trap-level</span></i> } <sup>*</sup> | <strong><span>debug</span></strong> { <strong><span>state</span></strong> { <strong><span>off</span></strong> | <strong><span>on</span></strong> } | <strong><span>level</span></strong> <i><span class="varname">dbg-level</span></i> } <sup>*</sup> ] <sup>*</sup></span><p><p>Rules for outputting information through information channels are configured.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=info-center+syslog+packet-priority"><b><span class="cmdname">info-center syslog packet-priority</span></b></a> <i><span class="varname">priority-level</span></i></span><p><p>The output priority of Syslog packets is configured.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_logs_cfg_2031.html">Outputting Information to a Terminal or a Remote Server
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_logs_cfg_2033.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_logs_cfg_2035.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>