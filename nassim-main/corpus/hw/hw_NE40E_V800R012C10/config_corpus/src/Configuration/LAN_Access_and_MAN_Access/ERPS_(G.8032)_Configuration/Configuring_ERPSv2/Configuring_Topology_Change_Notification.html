
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Topology Change Notification">
<meta name="abstract" content="The topology change notification function configured on the interconnection nodes of intersecting ERPS rings allows one ERPS ring to notify the other ERPS rings of its topology change. Then all devices on the other ERPS rings clear their MAC and ARP entries and relearn MAC addresses from the ring with a topology change. This function ensures that user traffic is not interrupted.">
<meta name="description" content="The topology change notification function configured on the interconnection nodes of intersecting ERPS rings allows one ERPS ring to notify the other ERPS rings of its topology change. Then all devices on the other ERPS rings clear their MAC and ARP entries and relearn MAC addresses from the ring with a topology change. This function ensures that user traffic is not interrupted.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_erps_cfg_0009.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_erps_cfg_0011.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_erps_cfg_0013.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="wwx1238417">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="ERPS(G.8032)">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="ERPS(G.8032)">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="featurename" content="ERPS(G.8032)">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="featurename" content="ERPS">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="OWNER" content="c00648116,w00437000">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="wWX1238417">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172363474">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Topology Change Notification</title>
</head>
<body><a name="EN-US_TASK_0172363474"></a><a name="EN-US_TASK_0172363474"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Topology Change Notification</h1>
<div class="taskbody"><p>The topology change notification function configured on the interconnection nodes of intersecting ERPS rings allows one ERPS ring to notify the other ERPS rings of its topology change. Then all <span class="keyword">devices</span> on the other ERPS rings clear their MAC and ARP entries and relearn MAC addresses from the ring with a topology change. This function ensures that user traffic is not interrupted.</p>
<div class="context"><a name="EN-US_TASK_0172363474__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>If an upper-layer Layer 2 network is not notified of the topology change in an ERPS ring, the MAC address entries remain unchanged on the upper-layer network and therefore user traffic is interrupted. To ensure traffic transmission, you can configure the topology change notification function and specify the ERPS rings that will be notified of the topology change.</p>
<p>However, if an ERPS ring frequently receives topology change notification messages, its nodes will have lower CPU processing capability and repeatedly update Flush-FDB packets, consuming significant bandwidth. To resolve this problem, suppress the transmission of topology change notification messages. You can set the topology change protection interval at which topology change notification messages are sent to suppress the number of transmissions, and set the maximum number of topology change notification messages that can be processed during the topology change protection interval to prevent frequent MAC and ARP updates.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172363474__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=erps+ring"><b><span class="cmdname">erps ring</span></b></a> <i><span class="varname">ring-id</span></i></span></span><p><p>The ERPS ring view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=tc-notify+erps+ring"><b><span class="cmdname">tc-notify erps ring</span></b></a> { <i><span class="varname">ring-id1</span></i> [ <strong><span>to</span></strong> <i><span class="varname">ring-id2</span></i> ] } &amp;&lt;1-10&gt;</span><p><p>The ERPS ring is configured to notify other ERPS rings of its topology change.</p>
</p><p><p><i><span class="varname">ring-id1</span></i> [ <strong><span>to</span></strong> <i><span class="varname">ring-id2</span></i> ] specifies the start and end ring IDs of the ERPS rings that will be notified of the topology change. Ensure that the ERPS rings specified by <i><span class="varname">ring-id1</span></i> and <i><span class="varname">ring-id2</span></i> exist. If the specified rings do not exist, the topology change notification function does not take effect.</p>
<p>After the ERPS rings receive the topology change notification from an ERPS ring, they send Flush-FDB messages on their separate rings to instruct their <span class="keyword">devices</span> to update MAC addresses so that user traffic is not interrupted.</p>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=tc-protection+interval"><b><span class="cmdname">tc-protection interval</span></b></a> <i><span class="varname">interval-value</span></i></span></span><p><p>The topology change protection interval at which TC packets are sent is set for the ERPS ring.</p>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=tc-protection+threshold"><b><span class="cmdname">tc-protection threshold</span></b></a> <i><span class="varname">threshold-value</span></i></span></span><p><p>The maximum number of TC packets that the ERPS ring can process within the topology change protection interval is set.</p>
</p><p><p>The topology change protection interval is the one specified using the <a href="cmdqueryname=tc-protection+interval"><b><span class="cmdname">tc-protection interval</span></b></a> command.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_erps_cfg_0009.html">Configuring ERPSv2
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_erps_cfg_0011.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_erps_cfg_0013.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>