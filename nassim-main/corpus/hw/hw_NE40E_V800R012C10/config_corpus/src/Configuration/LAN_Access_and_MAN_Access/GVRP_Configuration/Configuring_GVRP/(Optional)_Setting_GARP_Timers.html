
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Setting GARP Timers">
<meta name="abstract" content="">
<meta name="description" content="">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_gvrp_cfg_0004.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_gvrp_cfg_0006.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_gvrp_cfg_0008.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="wwx1238417">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="GVRP">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="GVRP">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="featurename" content="GVRP">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="featurename" content="GVRP">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="OWNER" content="c00648116,w00437000">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="x60031980">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172362947">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>(Optional) Setting GARP Timers</title>
</head>
<body><a name="EN-US_TASK_0172362947"></a><a name="EN-US_TASK_0172362947"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Setting GARP Timers</h1>
<div class="taskbody"><p></p>
<div class="context"><a name="EN-US_TASK_0172362947__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>When a GARP device starts, its LeaveAll timer starts. When the LeaveAll timer expires, the device sends a LeaveAll message to request other GARP devices to re-register all of its attributes. It then restarts its LeaveAll timer for a new round of polling.</p>
<p>Devices on a network may have different settings for the LeaveAll timer, but only the LeaveAll timer with the smallest value takes effect. When the LeaveAll timer with the smallest value expires, that device whose LeaveAll timer value is the smallest sends a LeaveAll message to all other devices and restarts its own LeaveAll timer. After receiving the LeaveAll message, the other devices restart all of their GARP timers, including the LeaveAll timer. They then propagate the LeaveAll messages to all other connected devices except for the device from whom they initially received the LeaveAll message.</p>
<div class="p">When setting GARP timers for an interface, note the following:<ul><li><p>The <a href="cmdqueryname=undo+garp+timer"><b><span class="cmdname">undo garp timer</span></b></a> command restores the default values of GARP timers. If the default value of a timer is out of the valid range, the <a href="cmdqueryname=undo+garp+timer"><b><span class="cmdname">undo garp timer</span></b></a> command does not take effect.</p>
</li><li><p>The value range of each timer changes with the values of the other timers. If a timer value that you wish to set falls outside of the allowed range, you can change the value of another timer that relates to the value range of this timer.</p>
</li><li><p>To restore the default values of all GARP timers, restore in sequence the Hold timer, Join timer, Leave timer, and LeaveAll timer to default values.</p>
</li></ul>
</div>
<div class="p">When many dynamic VLANs need to be registered or the network radius is large, using the default values of GARP timers may cause VLAN flapping and high CPU usage. To prevent such problems, increase timer values. The following values are recommended depending on the number of VLANs.
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Relationship between GARP timer values and number of dynamic VLANs to be registered</caption><thead align="left"><tr><th align="left" class="cellrowborder" rowspan="2" valign="middle" id="mcps1.4.1.4.1.2.6.1.1" liSelected="liSelected"><p>Timer</p>
</th>
<th align="center" class="cellrowborder" colspan="4" valign="top" id="mcps1.4.1.4.1.2.6.1.2" liSelected="liSelected"><p>Number of Dynamic VLANs to Be Registered (N)</p>
</th>
</tr>
<tr><th align="left" class="cellrowborder" valign="top" id="mcps1.4.1.4.1.2.6.2.1" liSelected="liSelected"><p>N &lt;= 500</p>
</th>
<th align="left" class="cellrowborder" valign="top" id="mcps1.4.1.4.1.2.6.2.2" liSelected="liSelected"><p>500 &lt; N &lt;= 1000</p>
</th>
<th align="left" class="cellrowborder" valign="top" id="mcps1.4.1.4.1.2.6.2.3" liSelected="liSelected"><p>1000 &lt; N &lt;= 1500</p>
</th>
<th align="left" class="cellrowborder" valign="top" id="mcps1.4.1.4.1.2.6.2.4" liSelected="liSelected"><p>N &gt; 1500</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="11.110000000000001%" headers="mcps1.4.1.4.1.2.6.1.1 "><p>GARP Hold timer</p>
</td>
<td class="cellrowborder" valign="top" width="11.110000000000001%" headers="mcps1.4.1.4.1.2.6.1.2 mcps1.4.1.4.1.2.6.2.1 "><p>100 centiseconds (1s) </p>
</td>
<td class="cellrowborder" valign="top" width="55.559999999999995%" headers="mcps1.4.1.4.1.2.6.1.2 mcps1.4.1.4.1.2.6.2.2 "><p>200 centiseconds (2s) </p>
</td>
<td class="cellrowborder" valign="top" width="11.110000000000001%" headers="mcps1.4.1.4.1.2.6.1.2 mcps1.4.1.4.1.2.6.2.3 "><p>800 centiseconds (8s) </p>
</td>
<td class="cellrowborder" valign="top" width="11.110000000000001%" headers="mcps1.4.1.4.1.2.6.1.2 mcps1.4.1.4.1.2.6.2.4 "><p>1000 centiseconds (10s) </p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="11.110000000000001%" headers="mcps1.4.1.4.1.2.6.1.1 "><p>GARP Join timer</p>
</td>
<td class="cellrowborder" valign="top" width="11.110000000000001%" headers="mcps1.4.1.4.1.2.6.1.2 mcps1.4.1.4.1.2.6.2.1 "><p>600 centiseconds (6s) </p>
</td>
<td class="cellrowborder" valign="top" width="55.559999999999995%" headers="mcps1.4.1.4.1.2.6.1.2 mcps1.4.1.4.1.2.6.2.2 "><p>1200 centiseconds (12s) </p>
</td>
<td class="cellrowborder" valign="top" width="11.110000000000001%" headers="mcps1.4.1.4.1.2.6.1.2 mcps1.4.1.4.1.2.6.2.3 "><p>4000 centiseconds (40s) </p>
</td>
<td class="cellrowborder" valign="top" width="11.110000000000001%" headers="mcps1.4.1.4.1.2.6.1.2 mcps1.4.1.4.1.2.6.2.4 "><p>6000 centiseconds (1 min)</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="11.110000000000001%" headers="mcps1.4.1.4.1.2.6.1.1 "><p>GARP Leave timer</p>
</td>
<td class="cellrowborder" valign="top" width="11.110000000000001%" headers="mcps1.4.1.4.1.2.6.1.2 mcps1.4.1.4.1.2.6.2.1 "><p>3000 centiseconds (30s) </p>
</td>
<td class="cellrowborder" valign="top" width="55.559999999999995%" headers="mcps1.4.1.4.1.2.6.1.2 mcps1.4.1.4.1.2.6.2.2 "><p>6000 centiseconds (1 min)</p>
</td>
<td class="cellrowborder" valign="top" width="11.110000000000001%" headers="mcps1.4.1.4.1.2.6.1.2 mcps1.4.1.4.1.2.6.2.3 "><p>20000 centiseconds (3 min and 20s)</p>
</td>
<td class="cellrowborder" valign="top" width="11.110000000000001%" headers="mcps1.4.1.4.1.2.6.1.2 mcps1.4.1.4.1.2.6.2.4 "><p>30000 centiseconds (5 min)</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="11.110000000000001%" headers="mcps1.4.1.4.1.2.6.1.1 "><p>GARP LeaveAll timer</p>
</td>
<td class="cellrowborder" valign="top" width="11.110000000000001%" headers="mcps1.4.1.4.1.2.6.1.2 mcps1.4.1.4.1.2.6.2.1 "><p>12000 centiseconds (2 min)</p>
</td>
<td class="cellrowborder" valign="top" width="55.559999999999995%" headers="mcps1.4.1.4.1.2.6.1.2 mcps1.4.1.4.1.2.6.2.2 "><p>24000 centiseconds (4 min)</p>
</td>
<td class="cellrowborder" valign="top" width="11.110000000000001%" headers="mcps1.4.1.4.1.2.6.1.2 mcps1.4.1.4.1.2.6.2.3 "><p>30000 centiseconds (5 min)</p>
</td>
<td class="cellrowborder" valign="top" width="11.110000000000001%" headers="mcps1.4.1.4.1.2.6.1.2 mcps1.4.1.4.1.2.6.2.4 "><p>32765 centiseconds (5 min and 27.65s)</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172362947__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=garp+timer+leaveall"><b><span class="cmdname">garp timer leaveall</span></b></a> <i><span class="varname">timer-value</span></i></span></span><p><p>The value of a LeaveAll timer is set.</p>
</p><p><p>The Leave timer value of each interface is restricted by the global LeaveAll timer value. When setting a value for the global LeaveAll timer, ensure that all the interfaces configured with a GARP Leave timer are working properly. </p>
</p></li><li><span>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The interface view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=garp+timer"><b><span class="cmdname">garp timer</span></b></a> { <strong><span>hold</span></strong> | <strong><span>join</span></strong> | <strong><span>leave</span></strong> } <i><span class="varname">timer-value</span></i></span></span><p><p>The value of the Hold timer, Join timer, or Leave timer is set for the interface.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_gvrp_cfg_0004.html">Configuring GVRP
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_gvrp_cfg_0006.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_gvrp_cfg_0008.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>