
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Enabling MSTP">
<meta name="abstract" content="After basic Multiple Spanning Tree Protocol (MSTP) functions are configured on a device, enabling the MSTP function is required so that MSTP can work properly.">
<meta name="description" content="After basic Multiple Spanning Tree Protocol (MSTP) functions are configured on a device, enabling the MSTP function is required so that MSTP can work properly.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mstp_cfg_0004.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mstp_cfg_0010.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mstp_cfg_0012.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="wwx1238417">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MSTP">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MSTP">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="featurename" content="MSTP">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="featurename" content="MSTP">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="OWNER" content="c00648116,w00437000">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="wwx1238417">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172363618">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Enabling MSTP</title>
</head>
<body><a name="EN-US_TASK_0172363618"></a><a name="EN-US_TASK_0172363618"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Enabling MSTP</h1>
<div class="taskbody"><p>After basic Multiple Spanning Tree Protocol (MSTP) functions are configured on a <span class="keyword">device</span>, enabling the MSTP function is required so that MSTP can work properly.</p>
<div class="context"><a name="EN-US_TASK_0172363618__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>After MSTP is enabled on a ring network, MSTP immediately calculates spanning trees on the network. Configurations on the <span class="keyword">device</span>, such as, the <span class="keyword">device</span> priority and port priority, will affect spanning tree calculation. Any change of the configurations may cause network flapping. Therefore, to ensure rapid and stable spanning tree calculation, perform basic configurations on the device and its ports and enable MSTP.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172363618__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=stp+enable"><b><span class="cmdname">stp enable</span></b></a></span><p><p>MSTP is enabled on the <span class="keyword">device</span>.</p>
</p><p><div class="note" id="EN-US_TASK_0172363618__en-us_task_0172363546_note_01"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0172363618__en-us_task_0172363546_p1563082094214029">On an STP-capable Layer 2 network, packets with the same source MAC address may form loops. To prevent loops, an interface must be blocked, and an alarm must be reported to the NMS. However, STP and MAC flapping-based loop detection are mutually exclusive by default. To allow both STP and MAC flapping-based loop detection to be enabled, run the <a href="cmdqueryname=loop-detect+eth-loop+assist-stp+enable"><b><span class="cmdname" id="EN-US_TASK_0172363618__en-us_task_0172363546_cmdname710706839214029">loop-detect eth-loop assist-stp enable</span></b></a> command.</p>
<p id="EN-US_TASK_0172363618__en-us_task_0172363546_p147765357214029">STP and MAC flapping-based loop detection have different blocking principles and may block different interfaces on a network, leading to temporary traffic interruptions. Therefore, exercise caution when running the <a href="cmdqueryname=loop-detect+eth-loop+assist-stp+enable"><b><span class="cmdname" id="EN-US_TASK_0172363618__en-us_task_0172363546_cmdname480961877214029">loop-detect eth-loop assist-stp enable</span></b></a> command.</p>
</div></div>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mstp_cfg_0004.html">Configuring Basic MSTP Functions
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mstp_cfg_0010.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_mstp_cfg_0012.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>