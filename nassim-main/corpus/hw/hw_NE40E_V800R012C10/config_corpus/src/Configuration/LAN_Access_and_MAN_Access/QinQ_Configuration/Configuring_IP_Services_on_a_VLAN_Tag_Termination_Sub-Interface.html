
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring IP Services on a VLAN Tag Termination Sub-Interface">
<meta name="abstract" content="IP services include proxy Address Resolution Protocol (ARP), Virtual Router Redundancy Protocol (VRRP), and Dynamic Host Configuration Protocol (DHCP) services. You can deploy IP services on QinQ/dot1q VLAN tag termination sub-interfaces so that users in different VLANs can communicate. This ensures non-stop and reliable connections between the users and the network.">
<meta name="description" content="IP services include proxy Address Resolution Protocol (ARP), Virtual Router Redundancy Protocol (VRRP), and Dynamic Host Configuration Protocol (DHCP) services. You can deploy IP services on QinQ/dot1q VLAN tag termination sub-interfaces so that users in different VLANs can communicate. This ensures non-stop and reliable connections between the users and the network.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_qinq_cfg_0000_1.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_qinq_cfg_0048.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_qinq_cfg_0012.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_qinq_cfg_0009.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_qinq_cfg_0010.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_qinq_cfg_0011.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="wwx1238417">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="QinQ">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="QinQ">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="featurename" content="QinQ">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="OWNER" content="c00648116,w00437000">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="wWX1238417">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172363255">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Configuring IP Services on a VLAN Tag Termination Sub-Interface</title>
</head>
<body><a name="EN-US_TASK_0172363255"></a><a name="EN-US_TASK_0172363255"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring IP Services on a VLAN Tag Termination Sub-Interface</h1>
<div class="taskbody"><p>IP services include proxy Address Resolution Protocol (ARP)<span>, Virtual Router Redundancy Protocol (VRRP),</span> and Dynamic Host Configuration Protocol (DHCP) services. You can deploy IP services on QinQ/dot1q VLAN tag termination sub-interfaces so that users in different VLANs can communicate. This ensures non-stop and reliable connections between the users and the network.</p>
<div class="context"><a name="EN-US_TASK_0172363255__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p><a href="#EN-US_TASK_0172363255__tab_dc_vrp_qinq_cfg_000801">Table 1</a> shows the applications of VLAN tag termination sub-interfaces transmitting IP services.</p>

<div class="tableBorder"><a name="EN-US_TASK_0172363255__tab_dc_vrp_qinq_cfg_000801"></a><a name="tab_dc_vrp_qinq_cfg_000801"></a><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_TASK_0172363255__tab_dc_vrp_qinq_cfg_000801" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Application of VLAN tag termination sub-interfaces transmitting IP services</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="24%" id="mcps1.4.1.3.2.3.1.1" liSelected="liSelected"><p>IP service</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="76%" id="mcps1.4.1.3.2.3.1.2" liSelected="liSelected"><p>Application</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="24%" headers="mcps1.4.1.3.2.3.1.1 "><p>Proxy ARP</p>
</td>
<td class="cellrowborder" valign="top" width="76%" headers="mcps1.4.1.3.2.3.1.2 "><p id="EN-US_TASK_0172363255__p_1">A range of VLANs can access the same network segment through VLAN tag termination sub-interfaces. However, if users on the same network segment belong to different VLANs, these users cannot communicate at Layer 2, and rely on IP forwarding at Layer 3 to communicate with each other. You can configure VLAN tag termination sub-interfaces to support proxy ARP so that users from different VLANs can communicate.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="24%" headers="mcps1.4.1.3.2.3.1.1 "><p>DHCP</p>
</td>
<td class="cellrowborder" valign="top" width="76%" headers="mcps1.4.1.3.2.3.1.2 "><div class="p"><ul id="EN-US_TASK_0172363255__en-us_concept_0172363210_ul585183041214028"><li id="EN-US_TASK_0172363255__en-us_concept_0172363210_li1872673955214028"><p id="EN-US_TASK_0172363255__en-us_concept_0172363210_p510831253214028"><a name="EN-US_TASK_0172363255__en-us_concept_0172363210_li1872673955214028"></a><a name="en-us_concept_0172363210_li1872673955214028"></a>To assign IP addresses to users on a VLAN tag termination sub-interface, the DHCP server function needs to be enabled on this sub-interface.</p>
</li><li id="EN-US_TASK_0172363255__en-us_concept_0172363210_li1095984458214028"><p id="EN-US_TASK_0172363255__en-us_concept_0172363210_p_5"><a name="EN-US_TASK_0172363255__en-us_concept_0172363210_li1095984458214028"></a><a name="en-us_concept_0172363210_li1095984458214028"></a>If the DHCP client and DHCP server belong to different sub-nets, you need to deploy a DHCP relay agent to forward DHCP request packets from the client to the server so that the client can dynamically obtain IP addresses from the DHCP server.</p>
<p id="EN-US_TASK_0172363255__en-us_concept_0172363210_p_6">DHCP relay can be configured on the VLAN tag termination sub-interface to insert tag information into Option82. The tag information provides a reference for the DHCP server in IP address allocation.</p>
</li></ul>
</div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="24%" headers="mcps1.4.1.3.2.3.1.1 "><p>VRRP</p>
</td>
<td class="cellrowborder" valign="top" width="76%" headers="mcps1.4.1.3.2.3.1.2 "><p>Users may require communication with certain networks at any time. Running VRRP on the VLAN tag termination sub-interfaces ensures reliable communication and provides an active/standby mechanism for dot1q or QinQ users.</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Proxy ARP<span>, VRRP</span> and DHCP are different types of IP services. Deploy the desired service on the VLAN tag termination sub-interface.</p>
</div></div>
<h4 class="sectiontitle">Pre-configuration Tasks</h4><p id="EN-US_TASK_0172363255__p106012772214028">Before you configure a VLAN tag termination sub-interface to transmit IP services, plan user VLANs so that packets received by the VLAN tag termination sub-interface carry one or two VLAN tags.</p>
</div>
</div></div>
</div>

<ul class="ullinks">
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_qinq_cfg_0009.html">Configuring a VLAN Tag Termination Sub-interface</a>
</dt>
<dd>
A virtual local area network (VLAN) tag termination sub-interface can be a dot1q VLAN tag termination sub-interface or a QinQ VLAN tag termination sub-interface. In dot1q/QinQ termination, a device identifies whether a packet has one tag or two tags. The device then forwards the packet after stripping one or both tags or discards the packet.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_qinq_cfg_0010.html">Configuring IP Services</a>
</dt>
<dd>
After a VLAN tag termination sub-interface is configured, you need to configure IP services so that users can access IP services using the VLAN tag termination sub-interface.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_qinq_cfg_0011.html">Verifying the Configuration</a>
</dt>
<dd>
After configuring IP services on the VLAN tag termination sub-interface, verify the configuration.</dd>
</dl>
</ul>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_qinq_cfg_0000_1.html">QinQ Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_qinq_cfg_0048.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_qinq_cfg_0012.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>