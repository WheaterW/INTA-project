
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an IPv6 VXLAN Tunnel">
<meta name="abstract" content="VXLAN is a tunneling technology that uses MAC-in-UDP encapsulation to extend large Layer 2 networks. If an underlay network is an IPv6 network, you can configure an IPv6 VXLAN tunnel for a virtual network to access a large number of tenants.">
<meta name="description" content="VXLAN is a tunneling technology that uses MAC-in-UDP encapsulation to extend large Layer 2 networks. If an underlay network is an IPv6 network, you can configure an IPv6 VXLAN tunnel for a virtual network to access a large number of tenants.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vxlan6_cfg_0017.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vxlan6_cfg_0018.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vxlan6_cfg_0020.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="h00847023">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="OWNER" content="p00915595">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="p00915595">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0274174838">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring an IPv6 VXLAN Tunnel</title>
</head>
<body><a name="EN-US_TASK_0274174838"></a><a name="EN-US_TASK_0274174838"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an IPv6 VXLAN Tunnel</h1>
<div class="taskbody"><p>VXLAN is a tunneling technology that uses MAC-in-UDP encapsulation to extend large Layer 2 networks. If an underlay network is an IPv6 network, you can configure an IPv6 VXLAN tunnel for a virtual network to access a large number of tenants.</p>
<div class="context"><a name="EN-US_TASK_0274174838__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>After you configure local and remote VNIs and VTEP IPv6 addresses, an IPv6 VXLAN tunnel is statically created. This configuration is simple, and no protocol configurations are involved. To ensure the proper forwarding of IPv6 VXLAN packets, IPv6 VXLAN tunnels must be configured on VXLAN gateways.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0274174838__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=bridge-domain"><b><span class="cmdname">bridge-domain</span></b></a> <i><span class="varname">bd-id</span></i></span><p><p>The BD view is displayed.</p>
</p><p><p><i><span class="varname">bd-id</span></i> specified in this command must be the same as <i><span class="varname">bd-id</span></i> specified in Step 2 in the service access point configuration.</p>
</p></li><li><span>Run <a href="cmdqueryname=vxlan+vni"><b><span class="cmdname">vxlan vni</span></b></a> <i><span class="varname">vni-id</span></i></span><p><p>A VNI is created and associated with the BD.</p>
</p><p><p>To interconnect a VXLAN with a VPLS network, run the <a href="cmdqueryname=vxlan+vni"><b><span class="cmdname">vxlan vni</span></b></a> <i><span class="varname">vni-id</span></i> <strong><span>split-horizon-mode</span></strong> command on the edge device belonging to both networks to create a VNI, associate the VNI with a BD, and implement split horizon forwarding.</p>
</p></li><li><span>Run <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></span><p><p>Return to the system view from the BD view.</p>
</p></li><li><span>Run <a href="cmdqueryname=interface+nve"><b><span class="cmdname">interface nve</span></b></a> <i><span class="varname">nve-number</span></i></span><p><p>An NVE interface is created, and the NVE interface view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=source+%28NVE+interface+view%29+%28IPv6%29+"><b><span class="cmdname">source</span></b></a> <i><span class="varname">ipv6-address</span></i></span><p><p>An IPv6 address is configured for the source VTEP.</p>
</p><p><p>Either a physical or loopback interface address can be specified as the source VTEP's IPv6 address. Using a loopback interface address is recommended.</p>
</p></li><li><span>Run <a href="cmdqueryname=vni+head-end+peer-list+%28IPv6%29"><b><span class="cmdname">vni</span></b></a> <i><span class="varname">vni-id</span></i> <strong><span>head-end peer-list</span></strong> { <i><span class="varname">ipv6-address</span></i> } &amp;&lt;1-10&gt;</span><p><p>An IPv6 ingress replication list is configured.</p>
</p><p><p>With this function, the ingress of an IPv6 VXLAN tunnel replicates and sends a copy of any received BUM packets to each VTEP in the ingress replication list (a collection of remote VTEP IPv6 addresses). </p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Currently, BUM packets can be forwarded only through ingress replication. This means that non-Huawei devices must have ingress replication configured to establish IPv6 VXLAN tunnels with Huawei devices. If ingress replication is not configured, the tunnels fail to be established.</p>
</div></div>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vxlan6_cfg_0017.html">Configuring IPv6 VXLAN in Centralized Gateway Mode for Static Tunnel Establishment
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vxlan6_cfg_0018.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_vxlan6_cfg_0020.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>