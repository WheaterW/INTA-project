
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Enabling State Flapping Suppression on an Eth-Trunk Interface">
<meta name="abstract" content="You can enable state flapping suppression on an Eth-Trunk interface to prevent the Eth-Trunk interface from alternating between up and down due to member interface state flapping or received incorrect packets.">
<meta name="description" content="You can enable state flapping suppression on an Eth-Trunk interface to prevent the Eth-Trunk interface from alternating between up and down due to member interface state flapping or received incorrect packets.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ethtrunk_cfg_0013.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ethtrunk_cfg_0018.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ethtrunk_cfg_0020.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="wwx1238417">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="LAN Access and MAN Access">
<meta name="OWNER" content="c00648116,w00437000">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="wWX1238417">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172362875">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Enabling State Flapping Suppression on an Eth-Trunk Interface</title>
</head>
<body><a name="EN-US_TASK_0172362875"></a><a name="EN-US_TASK_0172362875"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Enabling State Flapping Suppression on an Eth-Trunk Interface</h1>
<div class="taskbody"><p>You can enable state flapping suppression on an Eth-Trunk interface to prevent the Eth-Trunk interface from alternating between up and down due to member interface state flapping or received incorrect packets.</p>
<div class="context"><a name="EN-US_TASK_0172362875__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><ul><li>If the state of an Eth-Trunk interface frequently flaps, the LACP protocol status of the Eth-Trunk interface also flaps, affecting the Eth-Trunk interface operations. To resolve this problem, enable state flapping suppression on the Eth-Trunk interface working in LACP mode.</li><li><p>By default, an Eth-Trunk interface in LACP mode is enabled to suppress invalid MAC addresses in Ethernet headers of received LACPDUs from flapping, in which case the source MAC addresses of the LACPDUs and system ID are checked. To disable the check, run the <b><span class="cmdname" id="EN-US_TASK_0172362875__en-us_cliref_0172377818_cmdname1113978950214443">lacp dampening unexpected-mac disable</span></b> command to disable MAC address flapping suppression in Ethernet headers of LACPDUs.</p>
</li></ul>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172362875__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Enable state flapping suppression on an Eth-Trunk interface.</span><p><ol><li><p>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></p>
<p>The system view is displayed.</p>
</li><li><p>Run <span><a href="cmdqueryname=interface+eth-trunk"><b><span class="cmdname">interface eth-trunk</span></b></a> <i><span class="varname">trunk-id</span></i></span></p>
<p>The Eth-Trunk interface view is displayed.</p>
</li><li><p>Run <a href="cmdqueryname=lacp+dampening+state-flapping+disable"><b><span class="cmdname">lacp dampening state-flapping disable</span></b></a></p>
<p>State flapping suppression is enabled on the Eth-Trunk interface.</p>
</li><li><p>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></p>
<p>The configuration is committed.</p>
</li></ol>
</p></li><li><span>Disable invalid-MAC-packet-based state flapping suppression on an Eth-Trunk interface.</span><p><ol><li><p>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></p>
<p>The system view is displayed.</p>
</li><li><p>Run <span><a href="cmdqueryname=interface+eth-trunk"><b><span class="cmdname">interface eth-trunk</span></b></a> <i><span class="varname">trunk-id</span></i></span></p>
<p>The Eth-Trunk interface view is displayed.</p>
</li><li><p>Run <a href="cmdqueryname=lacp+dampening+unexpected-mac"><b><span class="cmdname">lacp dampening unexpected-mac</span></b></a></p>
<p>Invalid-MAC-packet-based state flapping suppression is disabled on the Eth-Trunk interface.</p>
</li><li><p>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></p>
<p>The configuration is committed.</p>
</li></ol>
</p></li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ethtrunk_cfg_0013.html">Configuring an Eth-Trunk Interface in Static LACP Mode
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ethtrunk_cfg_0018.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ethtrunk_cfg_0020.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>