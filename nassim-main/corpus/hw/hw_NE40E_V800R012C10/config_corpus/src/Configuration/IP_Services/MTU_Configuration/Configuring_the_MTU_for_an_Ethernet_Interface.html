
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring the MTU for an Ethernet Interface">
<meta name="abstract" content="MTU is the largest packet of data that can be transmitted on a network, expressed in bytes. MTU is determined by data link layer protocols, and MTU values vary with networks. A proper MTU is a prerequisite for normal communication between network devices.">
<meta name="description" content="MTU is the largest packet of data that can be transmitted on a network, expressed in bytes. MTU is determined by data link layer protocols, and MTU values vary with networks. A proper MTU is a prerequisite for normal communication between network devices.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/mtu_feature_007.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3054_c.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="wwx1238417">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="MTU">
<meta name="featuretype" content="IP Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MTU">
<meta name="featuretype" content="IP Services">
<meta name="featurename" content="MTU">
<meta name="featuretype" content="IP Services">
<meta name="OWNER" content="c00648116,w00437000">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="m00605382">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172364858">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring the MTU for an Ethernet Interface</title>
</head>
<body><a name="EN-US_TASK_0172364858"></a><a name="EN-US_TASK_0172364858"></a>

<div class="articleBoxWithoutHead">





<h1 class="topicTitle-h1">Configuring the MTU for an Ethernet Interface</h1>
<div class="taskbody"><p>MTU is the largest packet of data that can be transmitted on a network, expressed in bytes. MTU is determined by data link layer protocols, and MTU values vary with networks. A proper MTU is a prerequisite for normal communication between network devices.</p>
<div class="context"><a name="EN-US_TASK_0172364858__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0172364858__en-us_task_0172362804_context1605639609214027"><p id="EN-US_TASK_0172364858__en-us_task_0172362804_p705400261214027">The size of each data packet is limited at the network layer. Whenever receiving an IP packet, the IP layer determines the next-hop interface for the packet and obtains the MTU configured on the interface. Then, the IP layer compares the MTU with the packet length. If the packet length is longer than the MTU, the IP layer fragments the packet into smaller packets, which are shorter than or equal to the MTU.</p>
<p id="EN-US_TASK_0172364858__en-us_task_0172362804_p188016859214027">If unfragmentation is configured, some packets may be discarded during data transmission at the IP layer. To ensure that jumbo packets are not dropped during transmission, set an MTU on an interface to fragment these packets into smaller ones. </p>
<div class="note" id="EN-US_TASK_0172364858__en-us_task_0172362804_note889714945214027"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul id="EN-US_TASK_0172364858__en-us_task_0172362804_ul510446554214027"><li id="EN-US_TASK_0172364858__en-us_task_0172362804_li1456984476214027"><p id="EN-US_TASK_0172364858__en-us_task_0172362804_p1335468436214311"><a name="EN-US_TASK_0172364858__en-us_task_0172362804_li1456984476214027"></a><a name="en-us_task_0172362804_li1456984476214027"></a>If the size of packets is much greater than the configured MTU value, the packets are broken into a great number of fragments. The packets may be discarded by quality of service (QoS) queues.</p>
</li><li id="EN-US_TASK_0172364858__en-us_task_0172362804_li904394820214027"><p id="EN-US_TASK_0172364858__en-us_task_0172362804_p641819117214311"><a name="EN-US_TASK_0172364858__en-us_task_0172362804_li904394820214027"></a><a name="en-us_task_0172362804_li904394820214027"></a>If the configured MTU value is too large, packets may be transmitted at a low speed.</p>
</li><li id="EN-US_TASK_0172364858__en-us_task_0172362804_li767981127214027">After changing the MTU of an Ethernet interface, also change the MTU of the peer Ethernet interface to ensure that the MTUs of both interfaces are the same. If the MTUs are different, services may be interrupted.</li></ul>
</div></div>
<p id="EN-US_TASK_0172364858__en-us_task_0172362804_p1946779249214027">Perform the following steps on each <span class="keyword" id="EN-US_TASK_0172364858__en-us_task_0172362804_keyword298317410214311">Router</span>:</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172364858__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul id="EN-US_TASK_0172364858__en-us_task_0172362804_steps-unordered732436876214027"><li id="EN-US_TASK_0172364858__en-us_task_0172362804_step1339021602214027"><span id="EN-US_TASK_0172364858__en-us_task_0172362804_cmd1454927901214027">Set an IPv4 MTU for an Ethernet interface.</span><ol id="EN-US_TASK_0172364858__en-us_task_0172362804_substeps871123318214027"><li class="substepexpand" id="EN-US_TASK_0172364858__en-us_task_0172362804_substep965628984214027"><span id="EN-US_TASK_0172364858__en-us_task_0172362804_cmd1775772588214311">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172364858__en-us_task_0172362804_cmdname1075562878214311">system-view</span></b></a></span></span><p><p id="EN-US_TASK_0172364858__en-us_task_0172362804_p1904098139214311">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172364858__en-us_task_0172362804_substep2056997628214027"><span id="EN-US_TASK_0172364858__en-us_task_0172362804_cmd1767384390214027">Run <span><a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0172364858__en-us_task_0172362804_cmdname46660574214311">interface</span></b></a> <strong><span id="EN-US_TASK_0172364858__en-us_task_0172362804_cmdparmname109683136214311">gigabitethernet</span></strong> <i><span class="varname" id="EN-US_TASK_0172364858__en-us_task_0172362804_varname679982761214311">interface-number</span></i></span></span><p><p id="EN-US_TASK_0172364858__en-us_task_0172362804_p236282319244">The specified Ethernet interface view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172364858__en-us_task_0172362804_substep1666946762214027"><span id="EN-US_TASK_0172364858__en-us_task_0172362804_cmd302570172214027">Run <span><a href="cmdqueryname=mtu"><b><span class="cmdname" id="EN-US_TASK_0172364858__en-us_task_0172362804_cmdname2075065430214311">mtu</span></b></a> <i><span class="varname" id="EN-US_TASK_0172364858__en-us_task_0172362804_varname1741448536214311">mtu</span></i></span></span><p><p id="EN-US_TASK_0172364858__en-us_task_0172362804_p1662791488214311">An IPv4 MTU is set for the Ethernet interface.</p>
<p id="EN-US_TASK_0172364858__en-us_task_0172362804_p16652153193011">The MTU is expressed in bytes. The MTU value range of an Ethernet interface varies depending on the device. </p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172364858__en-us_task_0172362804_substep1301060250214027"><span id="EN-US_TASK_0172364858__en-us_task_0172362804_cmd172775190214311">Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172364858__en-us_task_0172362804_cmdname230334979214311">commit</span></b></a></span></span><p><p id="EN-US_TASK_0172364858__en-us_task_0172362804_p1084339486214311">The configuration is committed.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0172364858__en-us_task_0172362804_step1292536253214027"><span id="EN-US_TASK_0172364858__en-us_task_0172362804_cmd1859714766214027">Set an IPv6 MTU for an Ethernet interface.</span><ol id="EN-US_TASK_0172364858__en-us_task_0172362804_substeps2049323940214027"><li class="substepexpand" id="EN-US_TASK_0172364858__en-us_task_0172362804_substep550697974214027"><span id="EN-US_TASK_0172364858__en-us_task_0172362804_cmd616960320214311">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172364858__en-us_task_0172362804_cmdname805630213214311">system-view</span></b></a></span></span><p><p id="EN-US_TASK_0172364858__en-us_task_0172362804_p1017835413214311">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172364858__en-us_task_0172362804_substep1797282878214027"><span id="EN-US_TASK_0172364858__en-us_task_0172362804_cmd42082411177">Run <span><a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0172364858__en-us_task_0172362804_cmdname998136411214311">interface</span></b></a> <strong><span id="EN-US_TASK_0172364858__en-us_task_0172362804_cmdparmname919657955214311">gigabitethernet</span></strong> <i><span class="varname" id="EN-US_TASK_0172364858__en-us_task_0172362804_varname852551800214311">interface-number</span></i></span></span><p><p id="EN-US_TASK_0172364858__en-us_task_0172362804_p82294337214311">The specified Ethernet interface view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172364858__en-us_task_0172362804_substep577567816214027"><span id="EN-US_TASK_0172364858__en-us_task_0172362804_cmd1214874953214311">Run <span><a href="cmdqueryname=ipv6+enable"><b><span class="cmdname" id="EN-US_TASK_0172364858__en-us_task_0172362804_cmdname618992509214311">ipv6 enable</span></b></a></span></span><p><p id="EN-US_TASK_0172364858__en-us_task_0172362804_p1959529157214311">IPv6 is enabled on the Ethernet interface.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172364858__en-us_task_0172362804_substep518743872214027"><span id="EN-US_TASK_0172364858__en-us_task_0172362804_cmd1892133531214027">Run <span><a href="cmdqueryname=ipv6+mtu"><b><span class="cmdname" id="EN-US_TASK_0172364858__en-us_task_0172362804_cmdname777433564214311">ipv6 mtu</span></b></a> <i><span class="varname" id="EN-US_TASK_0172364858__en-us_task_0172362804_varname1313085286214311">mtu</span></i></span></span><p><p id="EN-US_TASK_0172364858__en-us_task_0172362804_p1397239055214311">An IPv6 MTU is set for the Ethernet interface.</p>
<p id="EN-US_TASK_0172364858__en-us_task_0172362804_p12171143103213">The MTU is expressed in bytes. The MTU value range of an Ethernet interface varies depending on the device. </p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172364858__en-us_task_0172362804_substep400814534214027"><span id="EN-US_TASK_0172364858__en-us_task_0172362804_cmd735444440214311">Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172364858__en-us_task_0172362804_cmdname91795869214311">commit</span></b></a></span></span><p><p id="EN-US_TASK_0172364858__en-us_task_0172362804_p916712813214311">The configuration is committed.</p>
</p></li></ol>
</li></ul></div>
<div class="postreq"><a name="EN-US_TASK_0172364858__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Follow-up Procedure</h4>
<div class="p" id="EN-US_TASK_0172364858__en-us_task_0172362804_postreq1024628678214027"><p id="EN-US_TASK_0172364858__en-us_task_0172362804_p262825853214027">The length of a QoS queue is limited. If the size of packets is much greater than the configured MTU value, the packets are broken into a great number of fragments. The packets may be discarded by the QoS queue. To address this problem, you can increase the length of the QoS queue. <span>The queue scheduling mechanism First In First Out (FIFO) is used on an interface by default. You can change the FIFO queue length. </span>For detailed configuration of QoS queues, see <em id="EN-US_TASK_0172364858__en-us_task_0172362804_i174524133519">Configuration Guide - QoS</em>.</p>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/mtu_feature_007.html">MTU Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_bgp_cfg_3054_c.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>