
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Unicast ARP Probe">
<meta name="abstract" content="To check whether a peer device is reachable and to enable a device to learn a peer device's MAC address, configure a local interface to send a unicast ARP request that carries the peer device's IP and MAC addresses as the destination addresses.">
<meta name="description" content="To check whether a peer device is reachable and to enable a device to learn a peer device's MAC address, configure a local interface to send a unicast ARP request that carries the peer device's IP and MAC addresses as the destination addresses.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_arp_cfg_2030.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_arp_cfg_2054.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/../../toctopics/en-us_task_0000001675554149.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="y00852169,x00504385">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="ARP">
<meta name="featuretype" content="IP Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="ARP">
<meta name="featuretype" content="IP Services">
<meta name="featurename" content="ARP">
<meta name="featuretype" content="IP Services">
<meta name="OWNER" content="y00852169">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="x00504385">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172364502">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Configuring Unicast ARP Probe</title>
</head>
<body><a name="EN-US_TASK_0172364502"></a><a name="EN-US_TASK_0172364502"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Unicast ARP Probe</h1>
<div class="taskbody"><p>To check whether a peer device is reachable and to enable a device to learn a peer device's MAC address, configure a local interface to send a unicast ARP request that carries the peer device's IP and MAC addresses as the destination addresses.</p>
<div class="context"><a name="EN-US_TASK_0172364502__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Background</h4><div class="p">To improve network security, some devices do not support broadcast packets.<ul><li>Before an ARP entry ages out, the local device broadcasts an ARP request packet in an attempt to update the ARP entry based on the reply from a peer device. If the peer device does not support broadcast packets, it does not respond to the broadcast ARP request packet, so the local device considers the peer device offline and deletes the ARP entry. As a result, services will be interrupted between the two devices.</li><li>If the local device is new, it will broadcast an ARP request packet to learn the MAC addresses of other devices. If a peer device does not support broadcast packets, it will discard the ARP request packet, so the local device will not learn the peer device's MAC address. As a result, new services will not be started between the two devices.</li></ul>
To resolve these problems, enable the unicast ARP probe function. This function enables a local interface to send a unicast ARP request packet that carries the specified IP and MAC addresses. The unicast ARP probe function improves network security, without compromising service stability.</div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172364502__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><div class="p">Before configuring unicast ARP probe, complete the following tasks:<ul><li><p>Connect interfaces and set their physical parameters to ensure that the physical status of the interfaces is Up.</p>
</li><li><p>Configure link layer protocol parameters for interfaces to ensure that the link layer protocol status of the interfaces is Up.</p>
</li></ul>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Before configuring unicast ARP probe, run the <a href="cmdqueryname=display+arp"><b><span class="cmdname">display arp</span></b></a> command to check all ARP entries of the device. This allows you to compare the ARP entries before and after unicast ARP probe is configured.</p>
</div></div>
</div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172364502__1.4.3"></a><a name="1.4.3"></a>
<div class="p"><h4 class="sectiontitle">Data Preparation</h4><div class="p">To configure unicast ARP probe, you need the following data.
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" frame="border" border="1" rules="all"><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="11%" id="mcps1.4.3.2.1.1.3.1.1" liSelected="liSelected"><p>No.</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="89%" id="mcps1.4.3.2.1.1.3.1.2" liSelected="liSelected"><p>Data</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="11%" headers="mcps1.4.3.2.1.1.3.1.1 "><p>1</p>
</td>
<td class="cellrowborder" valign="top" width="89%" headers="mcps1.4.3.2.1.1.3.1.2 "><p>Destination IP address for the unicast ARP request packet to be sent</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="11%" headers="mcps1.4.3.2.1.1.3.1.1 "><p>2</p>
</td>
<td class="cellrowborder" valign="top" width="89%" headers="mcps1.4.3.2.1.1.3.1.2 "><p>Destination MAC address for the unicast ARP request packet to be sent</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="11%" headers="mcps1.4.3.2.1.1.3.1.1 "><p>3</p>
</td>
<td class="cellrowborder" valign="top" width="89%" headers="mcps1.4.3.2.1.1.3.1.2 "><p>Type and number of the interface for sending out the unicast ARP request packet</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="11%" headers="mcps1.4.3.2.1.1.3.1.1 "><p>4</p>
</td>
<td class="cellrowborder" valign="top" width="89%" headers="mcps1.4.3.2.1.1.3.1.2 "><p>Inner tag value for the unicast ARP request packet to be sent</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="11%" headers="mcps1.4.3.2.1.1.3.1.1 "><p>5</p>
</td>
<td class="cellrowborder" valign="top" width="89%" headers="mcps1.4.3.2.1.1.3.1.2 "><p>Outer tag value for the unicast ARP request packet to be sent</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172364502__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=arp+send-packet"><b><span class="cmdname">arp send-packet</span></b></a> <i><span class="varname">ip-address</span></i> <i><span class="varname">mac-address</span></i> <strong><span>interface</span></strong> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i><span> [ <strong><span>vid</span></strong> <i><span class="varname">vid</span></i></span><span> [ <strong><span>cevid</span></strong> <i><span class="varname">cevid</span></i> ]</span><span> ]</span></span><p><p>Unicast ARP probe is enabled.</p>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0172364502__1.4.5"></a><a name="1.4.5"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+arp"><b><span class="cmdname">display arp</span></b></a> command to check all ARP entries of the device.</p>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_arp_cfg_2030.html">ARP Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_arp_cfg_2054.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/../../toctopics/en-us_task_0000001675554149.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>