
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring an ACL IP Address Pool">
<meta name="abstract" content="An ACL IP address pool is applicable to the scenario in which multiple IP addresses need to be matched and reduces the configuration workload.">
<meta name="description" content="An ACL IP address pool is applicable to the scenario in which multiple IP addresses need to be matched and reduces the configuration workload.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_acl4_cfg_0054.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_acl4_cfg_0056.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_acl4_cfg_0103.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,aclvrp,z00485179,w00556928,w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="ACL">
<meta name="featuretype" content="IP Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="ACL">
<meta name="featuretype" content="IP Services">
<meta name="featurename" content="ACL">
<meta name="featuretype" content="IP Services">
<meta name="featurename" content="ACL">
<meta name="featuretype" content="IP Services">
<meta name="OWNER" content="z00485179,z00648985">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00485179">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172364592">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring an ACL IP Address Pool</title>
</head>
<body><a name="EN-US_TASK_0172364592"></a><a name="EN-US_TASK_0172364592"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring an ACL IP Address Pool</h1>
<div class="taskbody"><p>An ACL IP address pool is applicable to the scenario in which multiple IP addresses need to be matched and reduces the configuration workload.</p>
<div class="context"><a name="EN-US_TASK_0172364592__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>In typical ACL usage scenarios, for example, in the policy-based routing scenario, multiple IP addresses need to be matched. To implement policy-based routing using ACL rules to match both source and destination IP addresses carried in packets, specify all possible combinations of source IP addresses and destination IP addresses when configuring ACL rules. However, these combinations are over 10 thousands on a large-scale network. It is unreasonable to configure manually all ACL rules that match both source and destination IP addresses carried in packets.</p>
<div class="p">To reduce the configuration workload, configure an ACL IP address pool. After an ACL IP address pool is configured, you only need to configure an ACL rule with a specified IP address pool name (<i><span class="varname">pool-name</span></i>) to match multiple IP addresses carried in packets.<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In scenarios in which ACL rules are used to match both source and destination IP addresses carried in packets, run the <a href="cmdqueryname=acl+ip-pool"><b><span class="cmdname">acl ip-pool</span></b></a> command to create an ACL source IP address pool (which includes all needed IP addresses) and an ACL destination IP address pool (which includes all needed destination IP addresses), respectively.</p>
</div></div>
</div>
<p>If you need to filter packets with the source address being the IP address of a BGP peer, run the <a href="cmdqueryname=apply+bgp-peer"><b><span class="cmdname">apply bgp-peer</span></b></a> command to associate the IP address of the BGP peer with the ACL address pool. Then configure QoS or security services to reference the ACL to filter traffic of the BGP peer.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172364592__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=acl+ip-pool"><b><span class="cmdname">acl ip-pool</span></b></a> <i><span class="varname">pool-name</span></i></span></span><p><p>An ACL IP address pool is created and the IP address pool view is displayed.</p>
</p></li><li><span>Add an IP address to the ACL IP address pool, associate IP addresses of BGP peers with the address pool, or associate interface IP addresses with the address pool.</span><p><ul><li><p>Run the <a href="cmdqueryname=ip+address"><b><span class="cmdname">ip address</span></b></a> <i><span class="varname">ip-address</span></i> { <i><span class="varname">mask</span></i> | <i><span class="varname">mask-length</span></i> } command to add an IP address to the ACL IP address pool.</p>
<p>If the command is run more than once, all configurations take effect.</p>
</li><li><p>Run the <span><a href="cmdqueryname=apply+bgp-peer+public-vpn+all-private-vpn+vpn-instance"><b><span class="cmdname">apply bgp-peer</span></b></a> [ <strong><span>public-vpn</span></strong> | <strong><span>all-private-vpn</span></strong> | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ]</span> command to associate IP addresses of BGP peers with the ACL IP address pool.</p>
</li><li>Run the <a href="cmdqueryname=apply+interface-address+main-interface+sub-interface"><b><span class="cmdname">apply interface-address </span></b></a>{ <strong><span>main-interface</span></strong> | <strong><span>sub-interface</span></strong> | <strong><span>all-interface</span></strong> } [ <strong><span>public-vpn</span></strong> | <strong><span>all-private-vpn</span></strong> | <strong><span>vpn-instance</span></strong> <i><span class="varname">VpnInstanceName</span></i> ] command to associate interface IP addresses with the address pool.</li></ul>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is applicable only to QoS or device security services.</p>
</div></div>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_acl4_cfg_0054.html">Configuring an Advanced ACL
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_acl4_cfg_0056.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_acl4_cfg_0103.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>