
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring DHCP Relay Proxy">
<meta name="abstract" content="To isolate a DHCP server and defend against attacks, you can enable DHCP relay proxy on the DHCP relay agent.">
<meta name="description" content="To isolate a DHCP server and defend against attacks, you can enable DHCP relay proxy on the DHCP relay agent.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp_relay_cfg_0003.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp_relay_cfg_0021.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp_relay_cfg_0005.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="z00485179,w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="DHCP">
<meta name="featuretype" content="IP Services">
<meta name="featurename" content="DHCP">
<meta name="featuretype" content="IP Services">
<meta name="featurename" content="DHCP">
<meta name="featuretype" content="IP Services">
<meta name="OWNER" content="z00485179,x00504385">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="x00504385">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001456326781">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring DHCP Relay Proxy</title>
</head>
<body><a name="EN-US_TASK_0000001456326781"></a><a name="EN-US_TASK_0000001456326781"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring DHCP Relay Proxy</h1>
<div class="taskbody"><p>To isolate a DHCP server and defend against attacks, you can enable DHCP relay proxy on the DHCP relay agent.</p>
<div class="context"><a name="EN-US_TASK_0000001456326781__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>When accessing a network, a DHCP client can obtain the IP address of a DHCP server by exchanging messages with it. This brings security risks to the DHCP server. To hide the real IP address of the server from the client, you can enable DHCP relay proxy on the DHCP relay agent. When the DHCP relay agent working in DHCP relay proxy mode forwards response messages from the DHCP server to the DHCP client, it replaces the IP address of the server with the IP address of the interface connected to the client. This isolates the DHCP server and defends against attacks.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001456326781__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=dhcp+enable"><b><span class="cmdname">dhcp enable</span></b></a></span><p><p>DHCP is enabled globally.</p>
</p></li><li><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span><p><p>The interface view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=ip+address"><b><span class="cmdname">ip address</span></b></a> <i><span class="varname">ip-address</span></i> { <i><span class="varname">mask</span></i> | <i><span class="varname">mask-length</span></i> }</span><p><p>An IP address is configured for the interface.</p>
</p></li><li><span>Run <a href="cmdqueryname=dhcp+select+relay+proxy-mode"><b><span class="cmdname">dhcp select relay proxy-mode</span></b></a></span><p><p>DHCP relay proxy is enabled.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=dhcp+relay+proxy+server-id-override"><b><span class="cmdname">dhcp relay proxy server-id-override</span></b></a> <i><span class="varname">ip-address</span></i></span><p><p>The DHCP relay agent working in DHCP relay proxy mode is configured to reply with the replaced DHCP server address to clients.</p>
</p></li><li><span>Run <a href="cmdqueryname=ip+relay+address"><b><span class="cmdname">ip relay address</span></b></a> <i><span class="varname">ip-address</span></i><span> [ <strong><span>dhcp-option</span></strong> { <i><span class="varname">code_60</span></i> [ <i><span class="varname">option-text</span></i> ] | <i><span class="varname">code_1to59</span></i> | <i><span class="varname">code_61to254</span></i> } ]</span></span><p><p>The DHCP server IP address associated with options is configured on the relay interface.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp_relay_cfg_0003.html">Configuring DHCP Relay
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp_relay_cfg_0021.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp_relay_cfg_0005.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>