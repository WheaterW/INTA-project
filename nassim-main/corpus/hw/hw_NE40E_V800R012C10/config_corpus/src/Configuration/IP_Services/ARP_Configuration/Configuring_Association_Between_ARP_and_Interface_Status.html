
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Association Between ARP and Interface Status">
<meta name="abstract" content="Association between ARP and interface status allows the local device to check whether the peer device is able to properly forward packets.">
<meta name="description" content="Association between ARP and interface status allows the local device to check whether the peer device is able to properly forward packets.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_arp_cfg_2030.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_arp_cfg_2083.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_arp_cfg_3000.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="y00852169,x00504385">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="ARP">
<meta name="featuretype" content="IP Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="ARP">
<meta name="featuretype" content="IP Services">
<meta name="featurename" content="ARP">
<meta name="featuretype" content="IP Services">
<meta name="OWNER" content="y00852169">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="x00504385">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172364509">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Association Between ARP and Interface Status</title>
</head>
<body><a name="EN-US_TASK_0172364509"></a><a name="EN-US_TASK_0172364509"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Association Between ARP and Interface Status</h1>
<div class="taskbody"><p>Association between ARP and interface status allows the local device to check whether the peer device is able to properly forward packets.</p>
<div class="context"><a name="EN-US_TASK_0172364509__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Background</h4><p>To minimize the impact of device faults on services and improve network availability, a network device must be able to quickly detect communication faults of devices that are not directly connected. Then, measures can be taken to quickly rectify the faults to ensure the normal running of services.</p>
<p>Association between ARP and interface status allows the local interface to send ARP probe packets to the peer interface and checks whether the peer interface can properly forward packets based on whether a reply packet is received. This triggers fast route convergence.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0172364509__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><div class="p">Before configuring association between ARP and interface status, complete the following tasks:<ul><li><p>Configure physical parameters of the interface and ensure that the interface is physically Up.</p>
</li><li><p>Configure the link layer protocol parameters and IP addresses for the interface.</p>
</li></ul>
</div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172364509__1.4.3"></a><a name="1.4.3"></a>
<div class="p"><h4 class="sectiontitle">Procedure</h4><ol><li><p>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></p>
<p>The system view is displayed.</p>
</li><li><p>Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type interface-number</span></i></span></p>
<p>The view of the interface on which ARP and interface status needs to be enabled is displayed.</p>
</li><li><p>Run <span><a href="cmdqueryname=ip+address"><b><span class="cmdname">ip address</span></b></a> <i><span class="varname">ip-address</span></i> { <i><span class="varname">mask</span></i> | <i><span class="varname">mask-length</span></i> } [ <strong><span>sub</span></strong> ]</span></p>
<p>The IP address of the interface is configured.</p>
</li><li><p>Run <span><a href="cmdqueryname=arp+status-detect"><b><span class="cmdname">arp status-detect</span></b></a> <i><span class="varname">ip-address</span></i></span></p>
<p>Association between ARP and interface status is enabled.</p>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The destination IP address of ARP probe messages must be on the same network segment as the IP address of the local interface. The probed device does not need to be configured.</p>
</div></div>
</li><li><p>(Optional) Run <span><a href="cmdqueryname=arp+status-detect+mode+loose"><b><span class="cmdname">arp status-detect mode loose</span></b></a></span></p>
<p>The interface is configured to send ARP probe messages in loose mode.</p>
<ul><li>In strict mode, an interface sends ARP probe messages when the physical status is Up. The protocol status of the local interface remains unchanged only when the local interface receives an ARP reply message from the peer interface and the source IP address of the ARP reply message is the same as the destination IP address of the ARP probe message. If no ARP reply message is received from the peer interface within the allowable attempts, the protocol status of the local interface is set to Down.</li><li>In loose mode, an interface sends ARP probe messages only when both the physical status and protocol status are Up. The protocol status of the local interface remains unchanged only when the local interface receives an ARP message from the peer interface and the source IP address of the ARP message is the same as the destination IP address of the ARP probe message. If no ARP message is received from the peer interface within the allowable attempts, the protocol status of the local interface is set to Down.</li></ul>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If association between ARP and interface status is configured on devices at both ends, you are advised to configure at least the device at one end to work in strict mode. That is, do not configure devices at both ends to send ARP probe messages in loose mode.</p>
</div></div>
</li><li><p>(Optional) Run <span><a href="cmdqueryname=arp+status-detect+interval"><b><span class="cmdname">arp status-detect interval</span></b></a> <i><span class="varname">detect-interval</span></i></span></p>
<p>The interval at which ARP probe messages are sent is configured.</p>
<p>You are advised to set the interval at which ARP probe messages are sent to a large value to prevent interface flapping upon operations such as an active/standby switchover.</p>
</li><li><p>(Optional) Run <span><a href="cmdqueryname=arp+status-detect+times"><b><span class="cmdname">arp status-detect times</span></b></a> <i><span class="varname">detect-times</span></i></span></p>
<p>The maximum number of times that the interface can consecutively send ARP probe messages is configured.</p>
<p>You are advised to set the maximum number of times an interface can consecutively send ARP probe messages to a large value to prevent interface flapping upon operations such as an active/standby switchover.</p>
</li><li><p>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></p>
<p>The configuration is committed.</p>
</li></ol>
</div></div>
<div class="context"><a name="EN-US_TASK_0172364509__1.4.4"></a><a name="1.4.4"></a>
<div class="p"><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+interface"><b><span class="cmdname">display interface</span></b></a> [ <i><span class="varname">interface-type</span></i> [ <i><span class="varname">interface-number</span></i> ] ] command to check the status information and statistics of the interface.</p>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_arp_cfg_2030.html">ARP Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_arp_cfg_2083.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_arp_cfg_3000.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>