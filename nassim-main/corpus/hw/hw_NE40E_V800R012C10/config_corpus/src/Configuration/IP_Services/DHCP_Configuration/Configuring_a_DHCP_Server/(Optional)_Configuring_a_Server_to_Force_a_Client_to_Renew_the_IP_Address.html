
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring a Server to Force a Client to Renew the IP Address">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp_server_cfg_0011.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp_server_cfg_0024.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp_server_cfg_0026.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,z00485179,w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="DHCP">
<meta name="featuretype" content="IP Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="DHCP">
<meta name="featuretype" content="IP Services">
<meta name="featurename" content="DHCP">
<meta name="featuretype" content="IP Services">
<meta name="featurename" content="DHCP">
<meta name="featuretype" content="IP Services">
<meta name="OWNER" content="z00485179,x00504385">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="x00504385">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0305143491">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring a Server to Force a Client to Renew the IP Address</title>
</head>
<body><a name="EN-US_TASK_0305143491"></a><a name="EN-US_TASK_0305143491"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring a Server to Force a Client to Renew the IP Address</h1>
<div class="taskbody"><div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0305143491__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>Before configuring a DHCP server to send FORCERENEW messages, you must configure a gateway IP address and address segment for an address pool.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0305143491__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>To force a DHCP client to enter the RENEW state, configure a DHCP server to send a unicast FORCERENEW message to the client.</p>
<ul><li>When the DHCP client attempts to renew its lease by unicasting a DHCPREQUEST message to the DHCP server according to the DHCP lease renewal process: If the DHCP server replies with a DHCPACK message, the lease is successfully renewed. If the DHCP server replies with a DHCPNAK message, the DHCP client needs to re-initiate a request.</li><li>When the DHCP server does not receive any response from the DHCP client for a period of time: If address recycling is configured, the server reclaims the corresponding IP address. Otherwise, the server reclaims the IP address when the lease expires, but not when it receives no response in the period.</li></ul>
<p>For example, if a client has gone offline unexpectedly, after you configure the DHCP server to send FORCERENEW messages, it unicasts a FORCERENEW message to the client; however, it does not receive any response from the client. In this case, if address recycling is configured, the server will reclaim the corresponding IP address, implementing efficient allocation of IP addresses.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0305143491__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=ip+pool"><b><span class="cmdname">ip pool</span></b></a> <i><span class="varname">ip-pool-name</span></i> [ <strong><span>server</span></strong> ]</span><p><p>An address pool is created and its view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=gateway"><b><span class="cmdname">gateway</span></b></a> <i><span class="varname">ip-address</span></i> { <i><span class="varname">mask</span></i> | <i><span class="varname">mask-length</span></i> }</span><p><p>A gateway IP address and mask are configured for the address pool.</p>
</p></li><li><span>Run <a href="cmdqueryname=section"><b><span class="cmdname">section </span></b></a><i><span class="varname">section-index</span></i> <i><span class="varname">start-ip-address</span></i> [ <i><span class="varname">end-ip-address</span></i> ]</span><p><p>An address segment is configured for the address pool.</p>
</p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li><li><span>Run <a href="cmdqueryname=send+forcerenew+section"><b><span class="cmdname">send forcerenew section </span></b></a><i><span class="varname">sectionNum</span></i> [ <strong><span>ip</span></strong> <i><span class="varname">startIp</span></i> [ <i><span class="varname">endIp</span></i> ] ] [ <strong><span>recycle</span></strong> ]</span><p><p>The DHCP server is configured to send FORCERENEW messages.</p>
</p><p><div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>If you run this command again before the DHCP server sends out all FORCERENEW messages, the system displays an error message.</li><li>To stop the server from sending FORCERENEW messages, run the <a href="cmdqueryname=stop+send+forcerenew"><b><span class="cmdname">stop send forcerenew</span></b></a> command.</li></ul>
</div></div>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp_server_cfg_0011.html">Configuring a DHCP Server
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp_server_cfg_0024.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp_server_cfg_0026.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>