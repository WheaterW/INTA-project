
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Configuring Eth-Trunk Load Balancing">
<meta name="abstract" content="">
<meta name="description" content="">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/load-balance_feature_043.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/load-balance_feature_045.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/ne/load-balance_feature_047.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="Load Balance">
<meta name="featuretype" content="IP Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Load Balance">
<meta name="featuretype" content="IP Services">
<meta name="featurename" content="Load Balance">
<meta name="featuretype" content="IP Services">
<meta name="featurename" content="Load Balance">
<meta name="featuretype" content="IP Services">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00648985">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0172365021">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Eth-Trunk Load Balancing</title>
</head>
<body><a name="EN-US_CONCEPT_0172365021"></a><a name="EN-US_CONCEPT_0172365021"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Eth-Trunk Load Balancing</h1>
<div><p></p>
<p></p>
<div class="section"><h4 class="sectiontitle">Configuring Load Balancing for an Eth-Trunk Interface</h4><ol><li>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a><p>The system view is displayed.</p>
</li><li>Run <a href="cmdqueryname=interface+eth-trunk"><b><span class="cmdname">interface eth-trunk</span></b></a> <em>number</em><p>The Eth-Trunk interface view is displayed.</p>
</li><li><p>Run <a href="cmdqueryname=mode"><b><span class="cmdname">mode</span></b></a> { <strong>lacp-static</strong> | <strong>manual load-balance</strong> }</p>
<p>The working mode of the Eth-Trunk interface is set.</p>
<ul><li><strong>lacp-static</strong>: indicates the static LACP mode. In this mode, both load balancing and redundancy backup can be implemented.</li><li><strong>manual load-balance</strong>: indicates the manual load balancing mode. By default, an Eth-Trunk interface works in manual load balancing mode. </li></ul>
</li><li>(Optional) Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <em>interface-type interface-number</em><p>The Eth-Trunk member interface view is displayed.</p>
</li><li><p>(Optional) Run <a href="cmdqueryname=distribute-weight"><b><span class="cmdname">distribute-weight</span></b></a> <em>weight-value</em></p>
<p>The weight of the member interface is set.</p>
<p>By default, the weight of an Eth-Trunk member interface is 1. </p>
<p>The higher the weight of a member interface, the heavier the load over the member link.</p>
<p>A maximum of 64 member interfaces in an Eth-Trunk interface can carry out load balancing. The total weights of all member interfaces in an Eth-Trunk interface cannot be greater than 64. </p>
<p>When multicast traffic is transmitted over an Eth-Trunk interface, if the <a href="cmdqueryname=distribute-weight"><b><span class="cmdname">distribute-weight</span></b></a> command is used to change the weight of a member interface, you need to run the <a href="cmdqueryname=shutdown"><b><span class="cmdname">shutdown</span></b></a> and then <a href="cmdqueryname=undo+shutdown"><b><span class="cmdname">undo shutdown</span></b></a> commands to restart the member interface for the configuration to take effect.</p>
</li><li>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a>.<p>The configuration is committed.</p>
</li></ol>
</div>
<div class="section"><h4 class="sectiontitle">Enabling Trunk Load Balancing for Layer 2 Multicast</h4><ol id="EN-US_CONCEPT_0172365021__en-us_concept_0172365020_ol2136990498214034"><li id="EN-US_CONCEPT_0172365021__en-us_concept_0172365020_li837268061214034">Run <a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_CONCEPT_0172365021__en-us_concept_0172365020_cmdname1775663153214034">system-view</span></b></a><p id="EN-US_CONCEPT_0172365021__en-us_concept_0172365020_p173411236204514">The system view is displayed.</p>
</li><li id="EN-US_CONCEPT_0172365021__en-us_concept_0172365020_li805430741214034">Run <a href="cmdqueryname=vlan"><b><span class="cmdname" id="EN-US_CONCEPT_0172365021__en-us_concept_0172365020_cmdname372913543214034">vlan</span></b></a> <em id="EN-US_CONCEPT_0172365021__en-us_concept_0172365020_i1738186960214034">vlan-id</em><p id="EN-US_CONCEPT_0172365021__en-us_concept_0172365020_p4768558104512">The VLAN view is displayed.</p>
<p id="EN-US_CONCEPT_0172365021__en-us_concept_0172365020_p6829104664513">Or run <a href="cmdqueryname=vsi"><b><span class="cmdname" id="EN-US_CONCEPT_0172365021__en-us_concept_0172365020_cmdname1664115518453">vsi</span></b></a> <em id="EN-US_CONCEPT_0172365021__en-us_concept_0172365020_i1464175514516">vsi-name</em> [ <strong id="EN-US_CONCEPT_0172365021__en-us_concept_0172365020_b464205518452">auto</strong> | <strong id="EN-US_CONCEPT_0172365021__en-us_concept_0172365020_b106435518454">static</strong> ]</p>
<p id="EN-US_CONCEPT_0172365021__en-us_concept_0172365020_p390384819456">The VSI view is displayed.</p>
</li><li id="EN-US_CONCEPT_0172365021__en-us_concept_0172365020_li1906682598214034"><p id="EN-US_CONCEPT_0172365021__en-us_concept_0172365020_p1267683610466"><a name="EN-US_CONCEPT_0172365021__en-us_concept_0172365020_li1906682598214034"></a><a name="en-us_concept_0172365020_li1906682598214034"></a>Run <a href="cmdqueryname=trunk+multicast+load-balance+enable"><b><span class="cmdname" id="EN-US_CONCEPT_0172365021__en-us_concept_0172365020_cmdname1686747508214034">trunk multicast load-balance enable</span></b></a></p>
<p id="EN-US_CONCEPT_0172365021__en-us_concept_0172365020_p184072145468">Trunk load balancing is enabled for Layer 2 multicast.</p>
<p id="EN-US_CONCEPT_0172365021__en-us_concept_0172365020_p524006166214034">By default, trunk load balancing is not enabled for Layer 2 multicast.</p>
<p id="EN-US_CONCEPT_0172365021__en-us_concept_0172365020_p105271370214034">Trunk load balancing for Layer 2 multicast conflicts with IGMP snooping and MLD snooping in the same VLAN or VSI.</p>
</li><li id="EN-US_CONCEPT_0172365021__en-us_concept_0172365020_li1114207589214034">Run <a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_CONCEPT_0172365021__en-us_concept_0172365020_cmdname1695202214214034">commit</span></b></a><p id="EN-US_CONCEPT_0172365021__en-us_concept_0172365020_p1109203017469">The configuration is committed.</p>
</li></ol>
</div>
<div class="section"><h4 class="sectiontitle">Follow-up Procedure</h4><p>Run the <strong>save</strong> command to save the current configuration to the configuration file when a set of configuration is finished and the expected functions have been achieved.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/load-balance_feature_043.html">Configuring Load Balancing Conditions
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/load-balance_feature_045.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/ne/load-balance_feature_047.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>