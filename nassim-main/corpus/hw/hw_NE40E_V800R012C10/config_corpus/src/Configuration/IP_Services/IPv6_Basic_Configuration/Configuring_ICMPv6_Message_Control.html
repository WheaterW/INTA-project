
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring ICMPv6 Message Control">
<meta name="abstract" content="In ICMPv6 message control, the token bucket algorithm is adopted, and one token represents one ICMPv6 message. Tokens are placed in the virtual bucket at fixed intervals until the capacity of the token bucket reaches the upper threshold. If the number of ICMPv6 messages exceeds the upper threshold, extra messages are discarded.">
<meta name="description" content="In ICMPv6 message control, the token bucket algorithm is adopted, and one token represents one ICMPv6 message. Tokens are placed in the virtual bucket at fixed intervals until the capacity of the token bucket reaches the upper threshold. If the number of ICMPv6 messages exceeds the upper threshold, extra messages are discarded.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ipv6_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ipv6_cfg_2009.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ipv6_cfg_0040.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,ipv6-basicvrp,z00485179,w00556928,w00606909">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="IPv6">
<meta name="featuretype" content="IP Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv6">
<meta name="featuretype" content="IP Services">
<meta name="featurename" content="IPv6">
<meta name="featuretype" content="IP Services">
<meta name="OWNER" content="z00485179,z00648985">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="z00485179">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172365127">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring ICMPv6 Message Control</title>
</head>
<body><a name="EN-US_TASK_0172365127"></a><a name="EN-US_TASK_0172365127"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring ICMPv6 Message Control</h1>
<div class="taskbody"><p>In ICMPv6 message control, the token bucket algorithm is adopted, and one token represents one ICMPv6 message. Tokens are placed in the virtual bucket at fixed intervals until the capacity of the token bucket reaches the upper threshold. If the number of ICMPv6 messages exceeds the upper threshold, extra messages are discarded.</p>
<div class="context"><a name="EN-US_TASK_0172365127__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring ICMPv6 message control, complete the following tasks:</p>
<ul><li><p>Connect interfaces and configure physical parameters for the interfaces to ensure that the physical status of the interfaces is Up.</p>
</li><li><p>Configure link layer protocol parameters for the interfaces to ensure that the link layer protocol status of the interfaces is Up.</p>
</li><li><p>Configure IPv6 addresses for interfaces.</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0172365127__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=ipv6+icmp-error+bucket+ratelimit"><b><span class="cmdname">ipv6 icmp-error</span></b></a> { <strong><span>bucket</span></strong> <i><span class="varname">bucket-size</span></i> | <strong><span>ratelimit</span></strong> <i><span class="varname">interval</span></i> } <sup>*</sup></span></span><p><p>The ICMPv6 error message transmission interval is set.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=undo+ipv6+icmp+all-famous+send"><b><span class="cmdname">undo ipv6 icmp</span></b></a> { <i><span class="varname">icmpv6-type</span></i> <i><span class="varname">icmpv6-code</span></i> | <i><span class="varname">icmpv6-name</span></i> | <strong><span>all-famous</span></strong> } <strong><span>send</span></strong></span><p><p>The system is disabled from sending ICMPv6 messages.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=undo+ipv6+icmp+all-famous+receive"><b><span class="cmdname">undo ipv6 icmp</span></b></a> { <i><span class="varname">icmpv6-type</span></i> <i><span class="varname">icmpv6-code</span></i> | <i><span class="varname">icmpv6-name</span></i> | <strong><span>all-famous</span></strong> } <strong><span>receive</span></strong></span><p><p>The system is disabled from accepting ICMPv6 messages.</p>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=undo+ipv6+icmp+too-big-rate-limit"><b><span class="cmdname">undo ipv6 icmp too-big-rate-limit</span></b></a></span></span><p><p>The device is disabled from suppressing ICMPv6 Packet Too Big messages.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=ipv6+icmp+multicast-address+echo+receive+disable"><b><span class="cmdname">ipv6 icmp multicast-address echo receive disable</span></b></a></span><p><p>The device is disabled from responding to received ICMPv6 multicast Echo messages.</p>
</p></li><li><span>(Optional) Run <span><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span></span><p><p>The interface view is displayed.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=undo+ipv6+icmp+hop-limit-exceeded+send"><b><span class="cmdname">undo ipv6 icmp hop-limit-exceeded send</span></b></a></span><p><p>An interface is disabled from sending ICMPv6 Hop Limit Exceeded messages.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=undo+ipv6+icmp+host-unreachable+send"><b><span class="cmdname">undo ipv6 icmp host-unreachable send</span></b></a></span><p><p>An interface is disabled from sending ICMPv6 Host Unreachable messages.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=undo+ipv6+icmp+port-unreachable+send"><b><span class="cmdname">undo ipv6 icmp port-unreachable send</span></b></a></span><p><p>An interface is disabled from sending ICMPv6 Port Unreachable messages.</p>
</p></li><li><span>(Optional) Run <a href="cmdqueryname=ipv6+icmp+multicast-address+echo+receive+disable"><b><span class="cmdname">ipv6 icmp multicast-address echo receive disable</span></b></a></span><p><p>The device is disabled from responding to received ICMPv6 multicast Echo messages.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0172365127__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Verifying the Configuration of ICMPv6 Message Control</h4><p>After configuring ICMPv6 message control, verify the configuration.</p>
<ul><li><p>Run the <a href="cmdqueryname=display+ipv6+interface+brief"><b><span class="cmdname">display ipv6 interface</span></b></a> [ <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <strong><span>brief</span></strong> ] command to check IPv6 configurations on an interface.</p>
</li><li><p>Run the <a href="cmdqueryname=display+icmpv6+statistics"><b><span class="cmdname">display icmpv6 statistics</span></b></a> [ <strong><span>interface</span></strong> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> ] command to check statistics about ICMPv6 traffic on an interface.</p>
</li></ul>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ipv6_cfg_0000.html">IPv6 Basic Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ipv6_cfg_2009.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ipv6_cfg_0040.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>