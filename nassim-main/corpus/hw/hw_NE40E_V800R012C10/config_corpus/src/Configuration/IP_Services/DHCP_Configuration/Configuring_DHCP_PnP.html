
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring DHCP PnP">
<meta name="abstract" content="This section describes how to configure Dynamic Host Configuration Protocol (DHCP) plug-and-play (PnP). DHCP PnP enables the network management system (NMS) to remotely configure and commission devices. This feature improves the working process and reduces operation and maintenance (O&amp;M) costs.">
<meta name="description" content="This section describes how to configure Dynamic Host Configuration Protocol (DHCP) plug-and-play (PnP). DHCP PnP enables the network management system (NMS) to remotely configure and commission devices. This feature improves the working process and reduces operation and maintenance (O&amp;M) costs.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp_server_cfg_0011.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp_client_cfg_0001.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="w00800033,z00485179,w00556928,w00606909,dhcpvrp">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="DHCP">
<meta name="featuretype" content="IP Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="DHCP">
<meta name="featuretype" content="IP Services">
<meta name="featurename" content="DHCP">
<meta name="featuretype" content="IP Services">
<meta name="OWNER" content="z00485179,x00504385">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="x00504385">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0172364708">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring DHCP PnP</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0172364708"></a><a name="EN-US_TASK_0172364708"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring DHCP PnP</h1>
<div class="taskbody"><p>This section describes how to configure Dynamic Host Configuration Protocol (DHCP) plug-and-play (PnP). DHCP PnP enables the network management system (NMS) to remotely configure and commission devices. This feature improves the working process and reduces operation and maintenance (O&amp;M) costs.</p>
<div class="context"><a name="EN-US_TASK_0172364708__1.4.1"></a><a name="1.4.1"></a>
<div class="p" id="EN-US_TASK_0172364708__en-us_task_0172364709_context2068577504214033"><h4 class="sectiontitle">Usage Scenario</h4><p id="EN-US_TASK_0172364708__en-us_task_0172364709_p848938155214033">Mobile networks have lots of access devices. Software commissioning engineers need to configure and commission these devices on site. This network construction method requires significant human and material resources, causing high capital expenditure (CAPEX) and operational expenditure (OPEX). DHCP PnP has been developed to resolve the problem.</p>
<p id="EN-US_TASK_0172364708__en-us_task_0172364709_p384486386214033">DHCP PnP enables the NMS to use DHCP to automatically configure and commission devices remotely. This solution reduces the time required to commission devices on site and frees personnel from working in unfavorable outdoor environments. It improves the working process and reduces costs. <a href="#EN-US_TASK_0172364708__en-us_task_0172364709_fig_dc_vrp_dhcp-pnp_cfg_001901">Figure 1</a> shows the DHCP PnP networking.</p>
<p id="EN-US_TASK_0172364708__en-us_task_0172364709_p1420926031214033">In VS mode, this feature is supported only by the admin VS.</p>
<div class="p" id="EN-US_TASK_0172364708__en-us_task_0172364709_p1007308926214033"><div class="fignone" id="EN-US_TASK_0172364708__en-us_task_0172364709_fig_dc_vrp_dhcp-pnp_cfg_001901"><a name="EN-US_TASK_0172364708__en-us_task_0172364709_fig_dc_vrp_dhcp-pnp_cfg_001901"></a><a name="en-us_task_0172364709_fig_dc_vrp_dhcp-pnp_cfg_001901"></a><span class="figcap"><b>Figure 1 </b>DHCP PnP networking</span><br><span><img class="vsd" id="EN-US_TASK_0172364708__en-us_task_0172364709_image1756604198214033" src="images/fig_dc_vrp_dhcp-pnp_cfg_001901.png"></span></div>
</div>
</div></div>
<div class="context"><a name="EN-US_TASK_0172364708__1.4.2"></a><a name="1.4.2"></a>
<div class="p" id="EN-US_TASK_0172364708__en-us_task_0172364709_context2145202894214033"><h4 class="sectiontitle">Pre-configuration Tasks</h4><div class="p" id="EN-US_TASK_0172364708__en-us_task_0172364709_p1921112481214033">Before configuring DHCP PnP, complete the following tasks:<ul id="EN-US_TASK_0172364708__en-us_task_0172364709_ul1127365527214033"><li id="EN-US_TASK_0172364708__en-us_task_0172364709_li1826295174214033"><p id="EN-US_TASK_0172364708__en-us_task_0172364709_p559222847214033"><a name="EN-US_TASK_0172364708__en-us_task_0172364709_li1826295174214033"></a><a name="en-us_task_0172364709_li1826295174214033"></a>Configure a DHCP server.</p>
</li><li id="EN-US_TASK_0172364708__en-us_task_0172364709_li1044232758214033"><p id="EN-US_TASK_0172364708__en-us_task_0172364709_p1183600422214033"><a name="EN-US_TASK_0172364708__en-us_task_0172364709_li1044232758214033"></a><a name="en-us_task_0172364709_li1044232758214033"></a>Configure a DHCP relay agent if the DHCP client and DHCP server are not on the same network segment. </p>
</li></ul>
</div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0172364708__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ul id="EN-US_TASK_0172364708__en-us_task_0172364709_steps-unordered1492394293214033"><li id="EN-US_TASK_0172364708__en-us_task_0172364709_step727362089214033"><span id="EN-US_TASK_0172364708__en-us_task_0172364709_cmd1297711099214033">If PnP is required and the DHCP client and server are on different network segments, perform the following operations on the DHCP relay agent:</span><ol id="EN-US_TASK_0172364708__en-us_task_0172364709_substeps163135016214033"><li class="substepexpand" id="EN-US_TASK_0172364708__en-us_task_0172364709_substep372244891214033"><span id="EN-US_TASK_0172364708__en-us_task_0172364709_cmd55455898214318">Run <span><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0172364708__en-us_task_0172364709_cmdname1451494717214318">system-view</span></b></a></span></span><p><p id="EN-US_TASK_0172364708__en-us_task_0172364709_p941112565214318">The system view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172364708__en-us_task_0172364709_substep74943358214033"><span id="EN-US_TASK_0172364708__en-us_task_0172364709_cmd749322623214318">Run <span><a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0172364708__en-us_task_0172364709_cmdname2104410312214318">interface</span></b></a> <i><span class="varname" id="EN-US_TASK_0172364708__en-us_task_0172364709_varname1780930519214318">interface-type interface-number</span></i></span></span><p><p id="EN-US_TASK_0172364708__en-us_task_0172364709_p1043348503214318">The interface view is displayed.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172364708__en-us_task_0172364709_substep1045966869214033"><span id="EN-US_TASK_0172364708__en-us_task_0172364709_cmd1291566137214318">Run <span><a href="cmdqueryname=dhcp+select+relay"><b><span class="cmdname" id="EN-US_TASK_0172364708__en-us_task_0172364709_cmdname180559192214318">dhcp select relay</span></b></a></span></span><p><p id="EN-US_TASK_0172364708__en-us_task_0172364709_p495620777214318">The DHCP relay function is enabled.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172364708__en-us_task_0172364709_substep1563911092214033"><span id="EN-US_TASK_0172364708__en-us_task_0172364709_cmd1493291077214318">Run <span><a href="cmdqueryname=ip+relay+address"><b><span class="cmdname" id="EN-US_TASK_0172364708__en-us_task_0172364709_cmdname789314426214318">ip relay address</span></b></a> <i><span class="varname" id="EN-US_TASK_0172364708__en-us_task_0172364709_varname367042991214318">ip-address</span></i></span></span><p><p id="EN-US_TASK_0172364708__en-us_task_0172364709_p523400626214318">The IP address of the DHCP server to which the DHCP relay agent relays messages is configured on the DHCP relay agent.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172364708__en-us_task_0172364709_substep1235795439214033"><span id="EN-US_TASK_0172364708__en-us_task_0172364709_cmd1699593136214033">(Optional) Run <a href="cmdqueryname=ip+relay+source-ip-address"><b><span class="cmdname" id="EN-US_TASK_0172364708__en-us_task_0172364709_cmdname1654175218137">ip relay source-ip-address</span></b></a> <i><span class="varname" id="EN-US_TASK_0172364708__en-us_task_0172364709_varname5541852121311">ip-address</span></i></span><p><p id="EN-US_TASK_0172364708__en-us_task_0172364709_p15673923125810">An IP address is configured for the DHCP relay agent.</p>
</p><p><p id="EN-US_TASK_0172364708__en-us_task_0172364709_p448808814214033">This step is performed only when DHCP relay agent and DHCP server routes are isolated and DHCP PnP is required.</p>
</p></li><li class="substepexpand" id="EN-US_TASK_0172364708__en-us_task_0172364709_substep1609553625214033"><span id="EN-US_TASK_0172364708__en-us_task_0172364709_cmd1225446113214318">Run <span><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0172364708__en-us_task_0172364709_cmdname98818814214318">commit</span></b></a></span></span><p><p id="EN-US_TASK_0172364708__en-us_task_0172364709_p166685098214318">The configuration is committed.</p>
</p></li></ol>
</li><li id="EN-US_TASK_0172364708__en-us_task_0172364709_step995982051214033"><span id="EN-US_TASK_0172364708__en-us_task_0172364709_cmd1982786439214033">If PnP is not required, use serial interfaces to connect to the DHCP client. To disable PnP, run the <span><a href="cmdqueryname=undo+pnp+enable"><b><span class="cmdname" id="EN-US_TASK_0172364708__en-us_task_0172364709_cmdname181543105214033">undo pnp enable</span></b></a></span> command in the system view.</span></li></ul></div>
<div class="result"><a name="EN-US_TASK_0172364708__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Result</h4>
<div class="p" id="EN-US_TASK_0172364708__en-us_task_0172364709_result1235276614214033"><p id="EN-US_TASK_0172364708__en-us_task_0172364709_p1569635949214033">After the configuration is complete, run the following commands on the DHCP client to check the result:</p>
<p id="EN-US_TASK_0172364708__en-us_task_0172364709_p2089612705214033">Run the <a href="cmdqueryname=display+pnp+state"><b><span class="cmdname" id="EN-US_TASK_0172364708__en-us_task_0172364709_cmdname626117194214033">display pnp state</span></b></a> command to check whether the device is in the DHCP PnP state.</p>
<pre class="screen" id="EN-US_TASK_0172364708__en-us_task_0172364709_screen223811014214033">&lt;<span class="keyword" id="EN-US_TASK_0172364708__en-us_task_0172364709_keyword1596953051214033">HUAWEI</span>&gt; <strong id="EN-US_TASK_0172364708__en-us_task_0172364709_b1355483795214033">display pnp state</strong></pre>
<pre class="screen" id="EN-US_TASK_0172364708__en-us_task_0172364709_screen554490975214033"><strong id="EN-US_TASK_0172364708__en-us_task_0172364709_b1398272492214033">PNP State</strong>!!!PLEASE UNDO PNP enable for manual Setup! 
You can undo PNP in system view with "undo pnp enable</pre>
<p id="EN-US_TASK_0172364708__en-us_task_0172364709_p1791241924214033">Run the <a href="cmdqueryname=display+nms-vpn-instance"><b><span class="cmdname" id="EN-US_TASK_0172364708__en-us_task_0172364709_cmdname1529587076214033">display nms-vpn-instance</span></b></a> <strong><span id="EN-US_TASK_0172364708__en-us_task_0172364709_cmdparmname393347351214318">ip-address</span></strong> <i><span class="varname" id="EN-US_TASK_0172364708__en-us_task_0172364709_varname1904641526214318">ip-address</span></i> command to view VPN instances to which the specified IP address is bound.</p>
<pre class="screen" id="EN-US_TASK_0172364708__en-us_task_0172364709_screen302651207214033">&lt;<span class="keyword" id="EN-US_TASK_0172364708__en-us_task_0172364709_keyword746550253214033">HUAWEI</span>&gt; <strong id="EN-US_TASK_0172364708__en-us_task_0172364709_b972484901214033">display nms-vpn-instance ip-address 3.3.3.3</strong></pre>
<pre class="screen" id="EN-US_TASK_0172364708__en-us_task_0172364709_screen1890142085214033">IP Address           Interface                                VPN-Instance  
--------------------------------------------------------------------------------
3.3.3.3              gigabitethernet<span>0/3/2</span>                     vpna  
</pre>
</div></div>
<div class="postreq"><a name="EN-US_TASK_0172364708__1.4.5"></a><a name="1.4.5"></a><h4 class="sectiontitle">Follow-up Procedure</h4>
<div class="p" id="EN-US_TASK_0172364708__en-us_task_0172364709_postreq2096116236214033"><p id="EN-US_TASK_0172364708__en-us_task_0172364709_p2103833064214033">After DHCP PnP is performed, the PnP default route is no longer required. Run the <a href="cmdqueryname=undo+pnp+default+route"><b><span class="cmdname" id="EN-US_TASK_0172364708__en-us_task_0172364709_cmdname1849027027214033">undo pnp default route</span></b></a> command on the DHCP client to delete route information and free up routing table space.</p>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp_cfg_0000.html">DHCP Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp_server_cfg_0011.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_dhcp_client_cfg_0001.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>