
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Proxy ND Anyway">
<meta name="abstract" content="Proxy ND anyway can be deployed if VMs are on the same network segment but different physical networks and the gateways connected to the VMs have the same address.">
<meta name="description" content="Proxy ND anyway can be deployed if VMs are on the same network segment but different physical networks and the gateways connected to the VMs have the same address.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_nd_cfg_0003.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_nd_cfg_0004.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_nd_cfg_0006.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="y00852169,x00504385">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="ND">
<meta name="featuretype" content="IP Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="ND">
<meta name="featuretype" content="IP Services">
<meta name="featurename" content="ND">
<meta name="featuretype" content="IP Services">
<meta name="featurename" content="ND">
<meta name="featuretype" content="IP Services">
<meta name="OWNER" content="y00852169">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="x00504385">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0161511715">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<title>Configuring Proxy ND Anyway</title>
</head>
<body><a name="EN-US_TASK_0161511715"></a><a name="EN-US_TASK_0161511715"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Proxy ND Anyway</h1>
<div class="taskbody"><p>Proxy ND anyway can be deployed if VMs are on the same network segment but different physical networks and the gateways connected to the VMs have the same address.</p>
<div class="context"><a name="EN-US_TASK_0161511715__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>In scenarios where servers are partitioned into VMs, to allow flexible deployment and migration of VMs on multiple servers or gateways, the common solution is to configure Layer 2 interworking between multiple gateways. However, this approach may lead to larger Layer 2 domains on the network and risks of broadcast storms. To resolve this problem, a common way is to enable any proxy ND on a VM gateway so that the gateway sends its own MAC address to the source VM and the traffic sent from the source VM to other VMs is transmitted over routes.</p>
<div class="p">As shown in <a href="#EN-US_TASK_0161511715__en-us_concept_0161511699_fig_dc_vrp_nd_feature_002905">Figure 1</a>, the IPv6 address of VM1 is 2001:db8:300:400::1/64, the IPv6 address of VM2 is 2001:db8:300:400::2/64, and VM1 and VM2 are on the same network segment. DeviceA and DeviceB are connected to two networks using two interface 1s with the same IPv6 address and MAC address. Because the destination IPv6 address and local IPv6 address are on the same network segment, if VM1 wants to communicate with VM2, VM1 will send an NS packet to request for VM2's MAC address. However, because VM1 and VM2 are on different physical networks, VM2 cannot receive the NS packet and therefore fails to send a reply.<div class="fignone" id="EN-US_TASK_0161511715__en-us_concept_0161511699_fig_dc_vrp_nd_feature_002905"><a name="EN-US_TASK_0161511715__en-us_concept_0161511699_fig_dc_vrp_nd_feature_002905"></a><a name="en-us_concept_0161511699_fig_dc_vrp_nd_feature_002905"></a><span class="figcap"><b>Figure 1 </b>Typical networking of any proxy ND</span><br><span><img class="vsd" id="EN-US_TASK_0161511715__en-us_concept_0161511699_image17785090214010" src="images/fig_dc_vrp_nd_feature_003706.png" width="NaN" height="NaN"></span><br></div>
</div>
<p>To address the problem, enable any proxy ND on DeviceA's interface 1 and DeviceB's interface 1.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0161511715__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run <a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></span><p><p>The system view is displayed.</p>
</p></li><li><span>Run <a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></span><p><p>The interface view is displayed.</p>
</p></li><li><span>Run <span><a href="cmdqueryname=ipv6+enable"><b><span class="cmdname">ipv6 enable</span></b></a></span></span><p><p>IPv6 is enabled on the interface.</p>
</p></li><li><span>Run <a href="cmdqueryname=ipv6+address"><b><span class="cmdname">ipv6 address</span></b></a> { <i><span class="varname">ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> | <i><span class="varname">ipv6-address</span></i>/<i><span class="varname">prefix-length</span></i> } [ <strong><span>tag</span></strong> <i><span class="varname">tag-value</span></i> ]</span><p><p>A global unicast address is configured for the interface.</p>
</p></li><li><span>Run <a href="cmdqueryname=ipv6+nd+proxy+anyway+enable"><b><span class="cmdname">ipv6 nd proxy anyway enable</span></b></a></span><p><p>Proxy ND anyway is enabled.</p>
</p><p></p></li><li><span>Run <a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></span><p><p>The configuration is committed.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_nd_cfg_0003.html">Configuring Proxy ND
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_nd_cfg_0004.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_nd_cfg_0006.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>