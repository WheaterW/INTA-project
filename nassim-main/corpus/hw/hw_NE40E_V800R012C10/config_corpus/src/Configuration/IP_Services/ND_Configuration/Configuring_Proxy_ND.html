
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Proxy ND">
<meta name="abstract" content="A device can function as the proxy of a target host in NS messages to respond to unreachable NS messages in special cases.">
<meta name="description" content="A device can function as the proxy of a target host in NS messages to respond to unreachable NS messages in special cases.">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_nd_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ipv6_cfg_0070.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0052.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_nd_cfg_0004.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_nd_cfg_0005.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_nd_cfg_0006.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_nd_cfg_0007.html">
<meta name="DC.Relation" scheme="URI" content="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_nd_cfg_0008.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation-V8R23C00">
<meta name="DC.Creator" content="y00852169,x00504385">
<meta name="DC.Publisher" content="20240229">
<meta name="featurename" content="ND">
<meta name="featuretype" content="IP Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="ND">
<meta name="featuretype" content="IP Services">
<meta name="featurename" content="ND">
<meta name="featuretype" content="IP Services">
<meta name="OWNER" content="y00852169">
<meta name="IA" content="">
<meta name="SE" content="">
<meta name="TE" content="">
<meta name="LASTMODIFIER" content="x00504385">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0161511713">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../../../public_sys-resources/browseVersion.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/jquery.min.idp.js"></script>
<script type="text/javascript" src="../../../../public_sys-resources/RowOrColfreezeSupport.js"></script>

<script type="text/javascript">
setTimeout(function(){
	jQueryHW(document).ready(function(){
		jQueryHW("table[rowfreeze='yes']").rowfreeze();
		jQueryHW("table[colfreeze='yes']").colfreeze();
	});
},500);
</script>
<title>Configuring Proxy ND</title>
</head>
<body><a name="EN-US_TASK_0161511713"></a><a name="EN-US_TASK_0161511713"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Proxy ND</h1>
<div class="taskbody"><p>A device can function as the proxy of a target host in NS messages to respond to unreachable NS messages in special cases.</p>
<div class="context"><a name="EN-US_TASK_0161511713__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Usage Scenario</h4><p>ND applies only to the communication of hosts on the same network segment and physical network. When a <span class="keyword" id="EN-US_TASK_0161511713__en-us_concept_0161511699_keyword1243057577214254">Router</span> receives an NS packet from a host, the <span class="keyword" id="EN-US_TASK_0161511713__en-us_concept_0161511699_keyword457808205214254">Router</span> checks whether the destination IPv6 address in the NS packet is the local IPv6 address. This helps to determine whether the NS packet requests for the local MAC address. If yes, an NA packet is sent as a reply. If not, the NS packet is discarded.</p>
<p>For the hosts on the same network segment but different physical networks or the hosts that are on the same network segment and physical network but fail in Layer 2 interworking, proxy ND can be deployed on the <span class="keyword" id="EN-US_TASK_0161511713__en-us_concept_0161511699_keyword131261896214254">Router</span> between the hosts to allow such hosts to communicate with each other. After proxy ND is deployed and the <span class="keyword" id="EN-US_TASK_0161511713__en-us_concept_0161511699_keyword1003558451214254">Router</span> receives an NS packet, the <span class="keyword" id="EN-US_TASK_0161511713__en-us_concept_0161511699_keyword1969075173214254">Router</span> finds that the destination address in the NS packet is not its own IPv6 address and then replies the source host with an NA packet carrying its own MAC address and the IPv6 address of the destination host. Specifically, the <span class="keyword" id="EN-US_TASK_0161511713__en-us_concept_0161511699_keyword1118636669214254">Router</span> takes the place of the destination host to reply with an NA packet.</p>
<div class="p"><a href="#EN-US_TASK_0161511713__en-us_concept_0161511699_tab_dc_vrp_nd_feature_002901">Table 1</a> describes the usage scenarios for different types of proxy ND.
<div class="tableBorder"><a name="EN-US_TASK_0161511713__en-us_concept_0161511699_tab_dc_vrp_nd_feature_002901"></a><a name="en-us_concept_0161511699_tab_dc_vrp_nd_feature_002901"></a><table cellpadding="4" cellspacing="0" summary="" rowfreeze="yes" id="EN-US_TASK_0161511713__en-us_concept_0161511699_tab_dc_vrp_nd_feature_002901" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Usage scenarios of proxy ND</caption><thead align="left"><tr id="EN-US_TASK_0161511713__en-us_concept_0161511699_row1097743263214010"><th align="left" class="cellrowborder" valign="top" width="16.5%" id="mcps1.4.1.4.2.2.3.1.1" liSelected="liSelected"><p id="EN-US_TASK_0161511713__en-us_concept_0161511699_p1989734002214010">Proxy ND Mode</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="83.5%" id="mcps1.4.1.4.2.2.3.1.2" liSelected="liSelected"><p id="EN-US_TASK_0161511713__en-us_concept_0161511699_p1094943302214010">Usage Scenario</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_TASK_0161511713__en-us_concept_0161511699_row900251299214010"><td class="cellrowborder" valign="top" width="16.5%" headers="mcps1.4.1.4.2.2.3.1.1 "><p id="EN-US_TASK_0161511713__en-us_concept_0161511699_p1798286043214010">Routed proxy ND</p>
</td>
<td class="cellrowborder" valign="top" width="83.5%" headers="mcps1.4.1.4.2.2.3.1.2 "><p id="EN-US_TASK_0161511713__en-us_concept_0161511699_p1842643184214010">Hosts that need to communicate reside on the same network segment but different physical networks, and the gateways connecting to the two hosts are configured with different IP addresses.</p>
</td>
</tr>
<tr id="EN-US_TASK_0161511713__en-us_concept_0161511699_row922225339214010"><td class="cellrowborder" valign="top" width="16.5%" headers="mcps1.4.1.4.2.2.3.1.1 "><p id="EN-US_TASK_0161511713__en-us_concept_0161511699_p280313708214010">Any proxy ND</p>
</td>
<td class="cellrowborder" valign="top" width="83.5%" headers="mcps1.4.1.4.2.2.3.1.2 "><p id="EN-US_TASK_0161511713__en-us_concept_0161511699_p331037271214010">VMs that need to communicate reside on the same network segment but different physical networks, and the gateways connected to the VMs have the same IP address.</p>
</td>
</tr>
<tr id="EN-US_TASK_0161511713__en-us_concept_0161511699_row33776982214010"><td class="cellrowborder" valign="top" width="16.5%" headers="mcps1.4.1.4.2.2.3.1.1 "><p id="EN-US_TASK_0161511713__en-us_concept_0161511699_p787881337214010">Intra-VLAN proxy ND</p>
</td>
<td class="cellrowborder" valign="top" width="83.5%" headers="mcps1.4.1.4.2.2.3.1.2 "><p id="EN-US_TASK_0161511713__en-us_concept_0161511699_p333018033214010">Hosts that need to communicate reside on the same network segment and belong to the same VLAN, but user isolation is configured in the VLAN.</p>
</td>
</tr>
<tr id="EN-US_TASK_0161511713__en-us_concept_0161511699_row1649992406214010"><td class="cellrowborder" valign="top" width="16.5%" headers="mcps1.4.1.4.2.2.3.1.1 "><p id="EN-US_TASK_0161511713__en-us_concept_0161511699_p1191827817214010">Inter-VLAN proxy ND</p>
</td>
<td class="cellrowborder" valign="top" width="83.5%" headers="mcps1.4.1.4.2.2.3.1.2 "><p id="EN-US_TASK_0161511713__en-us_concept_0161511699_p1067485291214010">Hosts that need to communicate reside on the same network segment but belong to different VLANs.</p>
</td>
</tr>
<tr id="EN-US_TASK_0161511713__en-us_concept_0161511699_row1167139435214010"><td class="cellrowborder" valign="top" width="16.5%" headers="mcps1.4.1.4.2.2.3.1.1 "><p id="EN-US_TASK_0161511713__en-us_concept_0161511699_p1781775859214010">Local proxy ND</p>
</td>
<td class="cellrowborder" valign="top" width="83.5%" headers="mcps1.4.1.4.2.2.3.1.2 "><p id="EN-US_TASK_0161511713__en-us_concept_0161511699_p1693005618214010">Hosts that need to communicate reside on the same network segment and BD, but user isolation is configured in the BD.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="note"><img src="../../../../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>Proxy ND cannot be enabled on an interface configured with a CGA address. Otherwise, the NA messages â carrying the CGA/RSA option â returned by the proxy device may be directly discarded.</li><li>You can configure multiple types of proxy ND in the interface view. The configuration takes effect in descending order of priority: proxy ND anyway &gt; intra-VLAN proxy ND/inter-VLAN proxy ND/local proxy ND &gt; routed proxy ND.</li><li>Proxy ND is not supported for the following types of messages:<ul><li>NS messages with a link-local address as the target address</li><li>DAD NS messages with the source address of all 0s</li><li>NS messages with a local address as the target address.</li></ul>
</li></ul>
</div></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0161511713__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Pre-configuration Tasks</h4><p>Before configuring proxy ND, complete the following tasks:</p>
<ul><li><p>Connect interfaces and configure physical parameters for them to ensure that their physical status is up.</p>
</li><li><p>Configure the link layer protocol parameters for interfaces.</p>
</li><li><p>Enable IPv6 in the interface view.</p>
</li><li><p>Configure IPv6 addresses for interfaces.</p>
</li></ul>
</div></div>
</div>

<ul class="ullinks">
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_nd_cfg_0004.html">Configuring Routed Proxy ND</a>
</dt>
<dd>
Routed proxy ND can be deployed if hosts are on the same network segment but different physical networks and the gateways connected to the hosts have different addresses.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_nd_cfg_0005.html">Configuring Proxy ND Anyway</a>
</dt>
<dd>
Proxy ND anyway can be deployed if VMs are on the same network segment but different physical networks and the gateways connected to the VMs have the same address.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_nd_cfg_0006.html">Configuring Intra-VLAN Proxy ND</a>
</dt>
<dd>
Intra-VLAN proxy ND can be deployed if hosts are on the same VLAN but the VLAN is configured with Layer 2 port isolation.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_nd_cfg_0007.html">Configuring Inter-VLAN Proxy ND</a>
</dt>
<dd>
Inter-VLAN proxy ND can be deployed if hosts that are on the same network segment and physical network but belong to different VLANs need to communicate with each other at Layer 3.</dd>
</dl>
<dl>
<dt>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_nd_cfg_0008.html">Configuring Local Proxy ND</a>
</dt>
<dd>
Local proxy ND can be deployed if hosts on the same network segment and in the same BD want to communicate with each other but the BD is configured with split horizon.</dd>
</dl>
</ul>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_nd_cfg_0000.html">ND Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_ipv6_cfg_0070.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_evpn_cfg_0052.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>