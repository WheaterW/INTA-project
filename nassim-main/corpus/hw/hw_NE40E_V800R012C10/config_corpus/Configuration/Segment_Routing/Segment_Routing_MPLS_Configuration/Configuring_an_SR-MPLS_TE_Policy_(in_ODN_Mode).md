Configuring an SR-MPLS TE Policy (in ODN Mode)
==============================================

SR-MPLS TE Policy is a tunneling technology developed based on SR.

#### Usage Scenario

SR-MPLS TE Policies can either be manually configured on forwarders or be dynamically generated by a controller and then delivered from the controller to forwarders through a protocol such as BGP. In addition, they can be generated in on-demand next hop (ODN) mode.

The process of generating an SR-MPLS TE Policy in ODN mode is as follows:

1. The controller collects information, such as network topology and label information, through BGP-LS.
2. Color extended community attribute information is added to routes to specify the SLA requirements of each route, such as requiring a low-latency or high-bandwidth path.
3. An ODN template is configured for the headend forwarder to match the color extended community attributes of BGP routes against the color value in the ODN template. After the matching succeeds, the headend forwarder (PCC) sends a path computation request to the controller (PCE).
4. The controller computes an SR-MPLS TE Policy path and delivers it to the headend forwarder through PCEP. The headend forwarder then generates an SR-MPLS TE Policy entry.

#### Pre-configuration Tasks

Before configuring an SR-MPLS TE Policy, complete the following tasks:

* Configure an IGP to implement network layer connectivity.
* Configure a routing protocol between the controller and forwarders to ensure that they can communicate.


[Configuring TE Attributes](../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr_all_cfg_0200c.html)

Configure TE attributes for links so that SR-MPLS TE paths can be adjusted based on the TE attributes during path computation.

[Configuring IGP SR](../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr_all_cfg_0061c.html)

This section describes how to configure IGP SR.

[Configuring IGP SR-MPLS TE and Topology Reporting](../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr_all_cfg_0167c.html)

Before an SR-MPLS TE tunnel is established, you need to enable IGP SR-MPLS TE and topology reporting through BGP-LS.

[Configuring the Color Extended Community](../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr_all_cfg_0063c.html)

This section describes how to configure the Color Extended Community for a route through a route-policy, enabling the route to recurse to an SR-MPLS TE Policy based on the color value and next-hop address in the route.

[Configuring an ODN Template and PCEP Path Computation Constraints](../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr_all_cfg_0401.html)

The on-demand next hop (ODN) function does not require a large number of SR-MPLS TE Policies to be configured in advance. Instead, it enables SR-MPLS TE Policy creation to be dynamically triggered on demand based on service routes, simplifying network operations.

[Configuring PCEP Delegation](../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr_all_cfg_0402.html)

This section describes how to establish a PCEP session between the PCC and PCE so that the PCC can send path computation requests to the PCE and receive SR-MPLS TE Policy information from the PCE.

[(Optional) Configuring Cost Values for SR-MPLS TE Policies](../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr_all_cfg_0267c.html)

Configure cost values for SR-MPLS TE Policies so that the ingress can select the optimal SR-MPLS TE Policy based on the values.

[Verifying the SR-MPLS TE Policy Configuration](../../../../software/nev8r10_vrpv8r16/user/vrp/dc_vrp_sr_all_cfg_0066c.html)

After configuring SR-MPLS TE Policies, verify the configuration.