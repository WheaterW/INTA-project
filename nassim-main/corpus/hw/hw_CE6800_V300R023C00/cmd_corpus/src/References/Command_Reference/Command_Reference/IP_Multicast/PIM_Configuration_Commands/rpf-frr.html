
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="rpf-frr">
<meta name="DC.subject" content="rpf-frr">
<meta name="keywords" content="rpf-frr">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IPv4_PIM_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/RPF-DISABLE_1(PIMOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/PIM-RPF-PRUNE-DELAY(PIMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Creator" content="SUBSYS_ID_PIMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907766304">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>rpf-frr</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907766304"></a><a name="EN-US_CLIREF_0000001907766304"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">rpf-frr</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907766304__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">rpf-frr</span></b> command enables PIM FRR.</p>
<p>The <b><span class="cmdname">undo rpf-frr</span></b> command disables PIM FRR.</p>
</p>
<p>By default, PIM FRR is disabled.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE6885-LL (low latency mode), CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907766304__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">rpf-frr</span></b></p>

<p><b><span class="cmdname">rpf-frr policy </span></b>{ <strong><span>acl-name</span></strong> <i><span class="varname">acl-name</span></i> | <i><span class="varname">acl-number</span></i> }</p>

<p><b><span class="cmdname">undo rpf-frr</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907766304__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>policy</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Configure a policy which uses ACL rules to specify the routing table entries that the FRR function takes effect on.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>acl-name</span></strong> <i><span class="varname">acl-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an ACL by its name.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 64 case-sensitive characters without spaces. The value must start with a letter (a to z or A to Z, case sensitive).</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">acl-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an ACL by its number.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 2000 to 3999.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907766304__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>VPN instance PIM view,</span><span>PIM view of a public network instance</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907766304__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907766304__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>If a multicast link fails, services are interrupted before unicast routes are converged. Route convergence generally takes a long time, which is unacceptable by multicast services that have high requirements on real-time data transmission. To resolve this problem, configure PIM FRR. After PIM FRR is configured, PIM sets up primary and backup MDTs based on unicast backup FRR routes, allowing multicast traffic transmission through both the primary and backup links. The device's forwarding plane permits the multicast traffic on the primary link and discards that on the backup link. However, the forwarding plane permits the multicast traffic on the backup link immediately after the primary link fails, thus minimizing traffic loss.<p></p>
<span>You can specify an ACL to enable PIM FRR for the specified</span> entry.</p>
<p><strong>Precautions</strong></p>
<p>This command is mutually exclusive with the multicast load-splitting { balance-ucmp | stable-preferred } command. If FRR is enabled, load balancing cannot be configured, and vice versa.<p></p>
<span>rpf-frr and pim dm are mutually exclusive</span>.<p></p>
<span>If a device has a board that does not support PIM</span> FRR, the <b><span class="cmdname">rpf-frr</span></b> command cannot be run in the PIM view.<p></p>
<span>After PIM FRR is enabled on a device</span>, if a board that does not support PIM FRR is installed on the device, the board cannot register.<p></p>
<span>If this command is run multiple times</span>, the latest configuration overrides the previous one.<p></p>
<span>This command is under license control</span>. When the license is invalid or does not exist:</p>

<ol><li>An error is reported during configuration delivery.</li><li>The configuration is lost when the device is restarted using the configuration file.</li></ol>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907766304__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable PIM FRR for a specified multicast routing entry in the public network instance.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>acl name frracl</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-acl4-advance-frracl] <strong>rule permit ip source 10.0.0.1 0 destination 226.0.0.1 0</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-acl4-advance-frracl] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-acl4-advance-frracl] <strong>quit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>multicast routing-enable</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>pim</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-pim] <strong>rpf-frr policy acl-name frracl</strong>
</pre>
</div>

<div class="p"># Enable PIM FRR for the public network instance.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>multicast routing-enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>pim</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-pim] <strong>rpf-frr</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_IPv4_PIM_Configuration_Commands_title.html">PIM Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/RPF-DISABLE_1(PIMOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/PIM-RPF-PRUNE-DELAY(PIMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>