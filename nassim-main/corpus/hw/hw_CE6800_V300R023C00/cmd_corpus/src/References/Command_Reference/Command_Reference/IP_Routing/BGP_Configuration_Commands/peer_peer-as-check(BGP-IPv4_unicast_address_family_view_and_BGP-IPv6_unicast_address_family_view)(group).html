
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="peer peer-as-check(BGP-IPv4 unicast address family view/BGP-IPv6 unicast address family view)(group)">
<meta name="DC.subject" content="peer peer-as-check(BGP-IPv4 unicast address family view/BGP-IPv6 unicast address family view)(group)">
<meta name="keywords" content="peer peer-as-check(BGP-IPv4 unicast address family view/BGP-IPv6 unicast address family view)(group)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_BGP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/PEER-IPV4-AS-CHECK-IPV4UNI(BGPUCASTOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/GROUP-PRE-VALUE(BGPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_BGPUCASTOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942843897">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>peer peer-as-check(BGP-IPv4 unicast address family view/BGP-IPv6 unicast address family view)(group)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942843897"></a><a name="EN-US_CLIREF_0000001942843897"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">peer peer-as-check(BGP-IPv4 unicast address family view/BGP-IPv6 unicast address family view)(group)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942843897__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">peer peer-as-check</span></b> command prevents the routes received from an EBGP peer from being broadcast to other peers with the same AS number as the EBGP peer.</p>
<p>The <b><span class="cmdname">undo peer peer-as-check</span></b> command cancels the configuration.</p>
</p>
<p>By default, the routes received from an EBGP peer are broadcast to other EBGP peers in the same AS.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942843897__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">peer </span></b><i><span class="varname">peerGroupName</span></i> <strong><span>peer-as-check</span></strong></p>

<p><b><span class="cmdname">undo peer </span></b><i><span class="varname">peerGroupName</span></i> <strong><span>peer-as-check</span></strong></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942843897__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">peerGroupName</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a BGP peer group.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 47 case-sensitive characters and cannot contain spaces. If the character string is quoted by double quotation marks, the character string can contain spaces.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942843897__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>BGP-IPv4 unicast address family view,</span><span>BGP-IPv6 unicast address family view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942843897__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942843897__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>By default, after receiving a route from an EBGP peer in AS 200, the local device in AS 100 advertises the route to all EBGP peers in AS 200. After the <b><span class="cmdname">peer peer-as-check</span></b> command is run, the local device does not advertise the routes learned from an EBGP peer to the peers in a peer group with the same AS number as that of the EBGP peer. This reduces BGP memory and CPU consumption and shortens route convergence time during route flapping.</p>
<p><strong>Configuration Impact</strong></p>
<p>After this command is run, the number of BGP update peer-groups on the device is affected. If the AS numbers of BGP peers configured with this function are different, these BGP peers cannot be added to the same BGP update peer-group.</p>
<p><strong>Precautions</strong></p>
<p>This command applies only to EBGP peers.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942843897__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure a device not to advertise the routes learned from an EBGP peer to peers with the same AS number as this EBGP peer in a peer group.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>bgp 100</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp] <strong>group a external</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp] <strong>ipv4-family unicast</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp-af-ipv4] <strong>peer a enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp-af-ipv4] <strong>peer a peer-as-check</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_BGP_Configuration_Commands_title.html">BGP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/PEER-IPV4-AS-CHECK-IPV4UNI(BGPUCASTOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/GROUP-PRE-VALUE(BGPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>