
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="snmp-agent community (System view)">
<meta name="DC.subject" content="snmp-agent community (System view)">
<meta name="keywords" content="snmp-agent community (System view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_SNMP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SNMP-USER-BLOCK_1(SNMPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/COMMUNITYCOMPLEXCHK(SNMPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Creator" content="SUBSYS_ID_SNMPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000002194449357">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>snmp-agent community (System view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000002194449357"></a><a name="EN-US_CLIREF_0000002194449357"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">snmp-agent community (System view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000002194449357__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">snmp-agent community</span></b> command configures an SNMPv1 or SNMPv2c read/write community name (either in ciphertext or simple text) and specifies a MIB view and an ACL.</p>
<p>The <b><span class="cmdname">undo snmp-agent community</span></b> command deletes the community name configuration.</p>
</p>
<p>By default, no community name is configured.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000002194449357__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">

<p><b><span class="cmdname">snmp-agent community </span></b>{ <strong><span>read</span></strong> | <strong><span>write</span></strong> } <i><span class="varname">community-name</span></i> [ <strong><span>mib-view</span></strong> <i><span class="varname">security-string-cipher</span></i> | <strong><span>acl</span></strong> { <i><span class="varname">acl-number</span></i> | <i><span class="varname">acl-name</span></i> } | <strong><span>alias</span></strong> <i><span class="varname">alias-name</span></i> ] <sup>*</sup></p>






<p><b><span class="cmdname">snmp-agent community </span></b>{ <strong><span>read</span></strong> | <strong><span>write</span></strong> } <strong><span>cipher</span></strong> <i><span class="varname">host-string</span></i> [ <strong><span>mib-view</span></strong> <i><span class="varname">security-string-cipher</span></i> | <strong><span>acl</span></strong> { <i><span class="varname">acl-number</span></i> | <i><span class="varname">acl-name</span></i> } | <strong><span>alias</span></strong> <i><span class="varname">alias-name</span></i> ] <sup>*</sup></p>

<p><b><span class="cmdname">undo snmp-agent community </span></b>{ <strong><span>read</span></strong> | <strong><span>write</span></strong> } <i><span class="varname">community-name</span></i></p>

<p><b><span class="cmdname">undo snmp-agent community </span></b>{ <strong><span>read</span></strong> | <strong><span>write</span></strong> } <strong><span>cipher</span></strong> <i><span class="varname">host-string</span></i></p>

<p><b><span class="cmdname">undo snmp-agent community </span></b><i><span class="varname">host-string</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000002194449357__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>read</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that a community with a specified name has read-only permission in the specified view.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>write</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that a community with a specified name has read-write permission in the specified view.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">community-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a community.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><div class="p"><ul><li>If community name complexity check is enabled, the value is a string of 8 to 32 case-sensitive characters, spaces not supported.</li><li>If the complexity check of a community name is disabled, the value is a string of 1 to 32 case-sensitive characters, spaces not supported.</li></ul>
<p>If spaces are used, the string must start and end with double quotation marks (").</p>
</div>
</div>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>mib-view</span></strong> <i><span class="varname">security-string-cipher</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a MIB view that a community with the specified name can access.<p>The view must have been created using the snmp-agent mib-view { excluded | included } view-name oid-tree command.</p>
</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 32 case-sensitive characters, spaces not supported.</p>
<p>When quotation marks are used around the string, spaces are allowed in the string.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>acl</span></strong> <i><span class="varname">acl-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a named basic ACL.</p>
<p>If no matching rule is configured for the referenced ACL, the matching rule is permit by default.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 32 case-sensitive characters, spaces not supported.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>acl</span></strong> <i><span class="varname">acl-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the number of an access control list (ACL) mapped to a community with a specified name.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 2000 to 2999.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>alias</span></strong> <i><span class="varname">alias-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a community alias.</p>
<p>The community alias will be saved in plaintext format in the configuration file.</p>
<p>A community alias must be unique and differs from the community. Only one alias can be configured for a community.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 32 case-sensitive characters, spaces not supported.</p>
<p>If quotation marks are used at both ends of an entered character sting, you can enter spaces in the character string.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cipher</span></strong> <i><span class="varname">host-string</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the SNMP community name is stored in ciphertext.</p>
<p>The community name is displayed in ciphertext regardless of whether it is entered in ciphertext or non-cipher text.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>Enter a community name in ciphertext. The community name is a string of consecutive characters.</p>
<p>The non-cipher text is a string of 8 to 32 characters, and the cipher text is a string of 32, 44, 56, 80, 88, 88-168 characters.<p>During the upgrade, ciphertext passwords of different lengths supported by the source version are automatically compatible.</p>
</p>
</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000002194449357__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000002194449357__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000002194449357__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>The <b><span class="cmdname">snmp-agent community</span></b> command is used on SNMPv1 and SNMPv2C networks. A community is a combination of the NMS and SNMP agent and is identified by a community name. The community name functions as a password for authentication during device communication in a community. Devices can communicate if the community name of the NMS matches that of the SNMP agent. The <b><span class="cmdname">snmp-agent community</span></b> command configures a community name on a device so that the NMS can communicate with the device. Parameters in the <b><span class="cmdname">snmp-agent community</span></b> command include the access authority, ACL, and accessible MIB views mapped to a community name.</p>
<p><strong>Precautions</strong></p>
<ul><li>The NMS can access a device only when the community name of the NMS matches that of the device.<p></p>
<span>Note</span>:<p></p>
<span>If receiving a packet with the community name field</span> being null, a device discards the packet without filtering the packet based on ACL rules. In addition, a log about the community name error is generated. A device filters a received packet based on ACL rules only if the packet has a valid community name.<p></p>
<span>By default</span>, complexity check is enabled for community names. If a community name fails the complexity check, the community name cannot be configured. To disable the complexity check for a community name, run the <b><span class="cmdname">snmp-agent community complexity-check disable</span></b> command.<p></p>
<span>After the weak password dictionary maintenance function</span> is enabled, the passwords defined in the weak password dictionary cannot be used. You can run the <b><span class="cmdname">display security weak-password-dictionary</span></b> command to view the passwords.</li><li>If ip-pool or port-pool in an ACL rule is empty, the rule cannot match any IP address or port.</li><li>After a community name is configured, it is displayed in ciphertext. The alias parameter is used to distinguish different communities. If the alias parameter is not configured, it is automatically generated in the configuration file. The automatic generation rule is __CommunityAliasName_Sequence number_Random number. The sequence number is a consecutive value generated based on the configuration sequence of community names.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000002194449357__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the community name to YsHsjx_202206 in ciphertext and allow read-only access using the community name.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>snmp-agent community read cipher YsHsjx_202206</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_SNMP_Configuration_Commands_title.html">SNMP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/SNMP-USER-BLOCK_1(SNMPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/COMMUNITYCOMPLEXCHK(SNMPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>