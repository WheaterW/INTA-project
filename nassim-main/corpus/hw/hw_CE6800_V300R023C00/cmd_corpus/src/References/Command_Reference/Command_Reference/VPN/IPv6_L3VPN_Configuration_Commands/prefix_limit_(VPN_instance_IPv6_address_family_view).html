
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="prefix limit (VPN instance IPv6 address family view)">
<meta name="DC.subject" content="prefix limit (VPN instance IPv6 address family view)">
<meta name="keywords" content="prefix limit (VPN instance IPv6 address family view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_BGP_MPLS_IPv6_VPN_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IPV6-FAMILY-UNICAST(L3VPNOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/ROUTE-DISTINGUISHER-AF-IPV6(L3VPNOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IPv6 L3VPN">
<meta name="featuretype" content="VPN">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="IPv6 L3VPN">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="IPv6 L3VPN">
<meta name="featuretype" content="VPN">
<meta name="featuretype" content="VPN">
<meta name="featuretype" content="VPN">
<meta name="DC.Creator" content="SUBSYS_ID_ROUTEOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907766784">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>prefix limit (VPN instance IPv6 address family view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907766784"></a><a name="EN-US_CLIREF_0000001907766784"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">prefix limit (VPN instance IPv6 address family view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907766784__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">prefix limit</span></b> command sets the maximum number of route prefixes allowed for a VPN instance IPv6 address family, preventing a PE from importing excessive VPN routes.</p>
<p>The <b><span class="cmdname">undo prefix limit</span></b> command restores the default setting.</p>
</p>
<p>By default, the maximum number of route prefixes allowed for a VPN instance IPv6 address family is not limited.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907766784__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">prefix limit </span></b><i><span class="varname">number</span></i> { <i><span class="varname">alert-percent</span></i> [ <strong><span>route-unchanged</span></strong> ] | <strong><span>simply-alert</span></strong> }</p>

<p><b><span class="cmdname">undo prefix limit</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907766784__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the maximum number of route prefixes allowed for a VPN instance IPv6 address family.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 4294967295.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">alert-percent</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the proportion of the alarm threshold to the maximum number of route prefixes allowed for a VPN instance IPv6 address family. When the number of route prefixes in a VPN instance IPv6 address family exceeds number x alert-percent/100, the system generates an alarm. In this case, additional VPN routes can still be added to the routing table of the VPN instance IPv6 address family until the number of route prefixes of the VPN instance IPv6 address family reaches number.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 100.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>route-unchanged</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<div class="p"><p>Indicates that the routing table remains unchanged. By default, route-unchanged is not configured. When the number of route prefixes in the routing table exceeds number, routes are processed as follows:</p>
<ul><li>If route-unchanged is configured, routes in the routing table remain unchanged.</li><li>If route-unchanged is not configured, all routes in the routing table are deleted and then re-added.</li></ul>
</div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>simply-alert</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that when the number of VPN route prefixes exceeds number, VPN routes can still be added to the routing table of the VPN instance IPv6 address family, but the system will generate an alarm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907766784__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>VPN instance IPv6 address family view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907766784__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907766784__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>If many useless route prefixes imported into a VPN instance constitute a large proportion of route prefixes on a device, run this command to set a limit on the maximum number of prefixes supported by the VPN instance.<p></p>
<span>It is recommended that you run this command together</span> with the <b><span class="cmdname">peer route-limit</span></b> command in the BGP-VPN instance IPv6 address family view. The VPNv6 routes received from the remote PE are first saved in the local VPNv6 routing table indexed by the RD, and then imported into the routing table of the corresponding VPN instance IPv6 address family based on the VPN target matching relationship. The <b><span class="cmdname">prefix limit</span></b> command can prevent excessive route prefixes from being added to the routing table of the VPN instance IPv6 address family, but cannot prevent a PE from receiving excessive routes from other PEs. As a result, excessive VPNv6 routing table space is consumed.<p></p>
<span>The static and direct routes configured on the PE</span> are not affected by the <b><span class="cmdname">prefix limit</span></b> command. That is, after the number of routes exceeds the limit, static and direct routes can still be added to the IPv6 routing table of the VPN instance.</p>
<p><strong>Precautions</strong></p>
<p>If the number of route prefixes exceeds the set limit and the <b><span class="cmdname">undo prefix limit</span></b> command is run, the system will receive the route prefixes from routing tables generated by protocols to create a private network routing table.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907766784__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the allowed maximum number of route prefixes allowed for a VPN instance IPv6 address family to 1000.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ip vpn-instance vpn1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-vpn1] <strong>ipv6-family</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-vpn1-af-ipv6] <strong>route-distinguisher 100:1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-vpn1-af-ipv6] <strong>prefix limit 1000 simply-alert</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_BGP_MPLS_IPv6_VPN_Configuration_Commands_title.html">IPv6 L3VPN Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/IPV6-FAMILY-UNICAST(L3VPNOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/ROUTE-DISTINGUISHER-AF-IPV6(L3VPNOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>