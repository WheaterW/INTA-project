
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="dhcp option82 encapsulation">
<meta name="DC.subject" content="dhcp option82 encapsulation">
<meta name="keywords" content="dhcp option82 encapsulation">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-DHCP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DHCP_OPTION82_ENABLE.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DHCP_OPTION82_FORMAT.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="DHCPv4">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="DHCPv4">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="DHCPv4">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Creator" content="SUBSYS_ID_ESAP_DHCP">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942841693">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>dhcp option82 encapsulation</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942841693"></a><a name="EN-US_CLIREF_0000001942841693"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">dhcp option82 encapsulation</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942841693__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">dhcp option82 encapsulation</span></b> command configures suboptions inserted into the DHCP Option 82 field.</p>
<p>The <b><span class="cmdname">undo dhcp option82 encapsulation</span></b> command restores the default suboptions inserted into the DHCP Option 82 field.</p>
</p>
<p><p>
By default, the circuit-id (CID) suboption, remote-id (RID) suboption, subscriber-id (SID) suboption, and vendor-defined suboption in the Sub9 field are inserted into the DHCP Option 82 field.
</p>
<p>
In other views, the function of inserting suboptions into the DHCP Option 82 field is disabled by default.
</p>
</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942841693__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">dhcp option82 encapsulation </span></b>{ <strong><span>circuit-id</span></strong> | <strong><span>remote-id</span></strong> | <strong><span>vendor-specific-id</span></strong> | <strong><span>subscriber-id</span></strong> } <sup>*</sup></p>

<p><b><span class="cmdname">undo dhcp option82 encapsulation</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942841693__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>circuit-id</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Inserts the circuit-id suboption.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>remote-id</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Inserts the remote-id suboption.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>vendor-specific-id</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Inserts the vendor-specific suboption in the Sub9 field.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>subscriber-id</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Inserts the subscriber-id (SID) suboption.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942841693__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100GE interface view,</span><span>10GE interface view,</span><span>200GE interface view,</span><span>25GE interface view,</span><span>400GE interface view,</span><span>50GE interface view,</span><span>Eth-Trunk interface view,</span><span>VLAN view,</span><span>Bridge domain view,</span><span>Interface group view,</span><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942841693__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942841693__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>This function is used on the DHCP relay agent. Option 82 records the location of a DHCP client. A device adds Option 82 to a DHCP request message to send the location of a DHCP client to the DHCP server. This enables the DHCP server to allocate a proper IP address and other configurations to the client based on the content of Option 82, implementing security control on the client. The administrator can run this command to configure the device to insert one or more of the circuit-id suboption, remote-id suboption, subscriber-id suboption and vendor-specific suboption in the Sub9 field into the DHCP Option 82 field. After the command is executed, if the format of the sub-option to be inserted is not configured, the sub-option is not inserted by default.<p></p>
<span>The configuration in the interface view takes precedence</span> over that in the VLAN view. The configuration in the VLAN view takes precedence over that in the BD view. The configuration in the BD view takes precedence over that in the system view. If the default configuration is used in all views, the configuration in the system view takes effect.</p>
<p><strong>Prerequisites</strong></p>
<p>The DHCP function has been enabled in the system view using the <b><span class="cmdname">dhcp enable</span></b> command. Enable the function of adding the Option 82 field to DHCP messages.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942841693__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">


<div class="p"># Configure the circuit-id suboption to be inserted into the DHCP Option 82 field on <span>100GE</span><span>1/0/1</span>.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>dhcp enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>dhcp option82 insert enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>dhcp option82 encapsulation circuit-id</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-DHCP_Configuration_Commands_title.html">DHCPv4 Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DHCP_OPTION82_ENABLE.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/DHCP_OPTION82_FORMAT.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>