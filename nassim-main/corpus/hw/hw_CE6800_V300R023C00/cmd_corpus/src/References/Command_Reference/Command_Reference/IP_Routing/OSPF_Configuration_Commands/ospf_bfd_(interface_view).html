
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ospf bfd (interface view)">
<meta name="DC.subject" content="ospf bfd (interface view)">
<meta name="keywords" content="ospf bfd (interface view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_OSPF_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/OSPF-BFD-ENABLE_1(OSPFCOMMOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/OSPF-BFD-BLOCK(OSPFCOMMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_OSPFCOMMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907763236">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ospf bfd (interface view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907763236"></a><a name="EN-US_CLIREF_0000001907763236"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">ospf bfd (interface view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907763236__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">ospf bfd enable</span></b> command enables BFD on an OSPF interface.</p>
<p>The <b><span class="cmdname">undo ospf bfd enable</span></b> command disables BFD from an interface.</p>
<p>The <b><span class="cmdname">ospf bfd incr-cost</span></b> command enables an OSPF interface to adjust the cost based on BFD.</p>
<p>The <b><span class="cmdname">undo ospf bfd incr-cost</span></b> command disables an OSPF interface from adjusting the cost based on BFD.</p>
<p>The <b><span class="cmdname">ospf bfd incr-cost block</span></b> command blocks an OSPF interface from adjusting the cost based on BFD.</p>
<p>The <b><span class="cmdname">undo ospf bfd incr-cost block</span></b> command unblocks an OSPF interface from adjusting the cost based on BFD.</p>
</p>
<p><p>
By default, BFD is not enabled in the OSPF interface view.
</p>
<p>
By default, an OSPF interface does not adjust the cost based on BFD.
</p>
<p>
By default, an OSPF interface is not blocked from adjusting the cost based on BFD.
</p>
</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907763236__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">ospf bfd enable</span></b></p>


<p><b><span class="cmdname">ospf bfd incr-cost </span></b>{ <i><span class="varname">cost</span></i> | <strong><span>max-reachable</span></strong> }</p>

<p><b><span class="cmdname">ospf bfd incr-cost block</span></b></p>


<p><b><span class="cmdname">undo ospf bfd incr-cost </span></b>[ <i><span class="varname">cost</span></i> | <strong><span>max-reachable</span></strong> ]</p>

<p><b><span class="cmdname">undo ospf bfd incr-cost block</span></b></p>

<p><b><span class="cmdname">undo ospf bfd enable</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907763236__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">cost</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a cost increment value for the interface.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 1 to 65534 .</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>max-reachable</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Adjusts the link cost of an OSPF interface to the maximum link cost 65535.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>enable</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables BFD.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907763236__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100ge sub-interface view,</span><span>100GE interface view,</span><span>10GE sub-interface view,</span><span>10GE interface view,</span><span>200GE interface view,</span><span>25GE sub-interface view,</span><span>25GE interface view,</span><span>400GE sub-interface view,</span><span>400GE interface view,</span><span>50GE sub-interface view,</span><span>50GE interface view,</span><span>Eth-Trunk sub-interface view,</span><span>Eth-Trunk interface view,</span><span>Tunnel interface view,</span><span>VBDIF interface view,</span><span>VLANIF interface view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907763236__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907763236__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>Either a link fault or topology change on a network will cause routes to be re-calculated within an area. As such, speeding up the convergence of a routing protocol is critical to improving the network performance.<p></p>
<span>As link faults are inevitable</span>, rapidly detecting these faults and notifying routing protocols is an effective way to quickly resolve such issues. This includes associating BFD with a routing protocol to speed up convergence of the routing protocol once a link fault occurs.<p></p>
<span>On a network where BFD detects a link fault</span>, even if the fault is rectified quickly, the involved interface is disconnected due to the fact that the associated BFD session is down. As a result, the link is unstable and traffic is lost. To ensure network reliability and solve the preceding problems, run the <b><span class="cmdname">ospf bfd incr-cost</span></b> command on an OSPF interface to adjust the link cost. When the OSPF interface detects that the BFD session goes Down, the OSPF interface automatically increases the link cost so that the link in the BFD Down state is not preferentially selected, traffic can be transmitted over other links.<p></p>
<span>When an interface detects that a BFD session goes</span> Up, the cost of the interface is automatically restored to the original value. To prevent frequent BFD status changes caused by link quality, traffic loss may occur due to link instability. To solve the preceding problem, run the ospf bfd incr-cost wtr command on an OSPF interface to set a delay after which the interface cost is restored. A BFD status change within the delay does not cause a path calculation change, ensuring network reliability.</p>
</p>
<p><strong>Prerequisites</strong></p>
<p>Before running the <b><span class="cmdname">ospf bfd enable</span></b> command, you need to enable BFD globally.<p></p>
<span>Before running the</span> <b><span class="cmdname">ospf bfd incr-cost</span></b> and <b><span class="cmdname">ospf bfd incr-cost block</span></b> commands, you need to run the <b><span class="cmdname">ospf bfd enable</span></b> command to enable BFD on the interface.</p>
<p><strong>Configuration Impact</strong></p>
<p><p>If global BFD is not enabled, you can enable BFD on an interface, but BFD sessions cannot be set up in this case. Similarly, if only parameters of a BFD session are set but the <b><span class="cmdname">ospf bfd enable</span></b> command is not used, the BFD session cannot be set up.<p></p>
<span>BFD configured on an interface takes precedence over</span> BFD configured for a process. If BFD is enabled on an interface, the BFD parameters on the interface are used to establish BFD sessions.</p>
</p>
<p><strong>Precautions</strong></p>
<div class="p"><ul><li>After BFD is enabled, OSPF establishes BFD sessions only with neighbors in the Full state.</li><li>After BFD is disabled on an interface using the <b><span class="cmdname">undo ospf bfd enable</span></b> command, BFD session parameters still exist on the interface.</li><li>The cost value associated with BFD configured on an interface takes precedence over that associated with BFD configured in a process.</li><li>The <strong>ospf bfd enable</strong> and <strong>ospf bfd block</strong> commands are mutually exclusive. The latest configuration overrides the previous one.</li><li>The <strong>ospf bfd incr-cost block</strong> and <strong>ospf bfd incr-cost</strong> { <em>cost</em>| <strong>max-reachable</strong> } commands are mutually exclusive. The latest configuration overrides the previous one.</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907763236__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable BFD function on the specified interface.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span><span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ospf bfd enable</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_OSPF_Configuration_Commands_title.html">OSPF Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/OSPF-BFD-ENABLE_1(OSPFCOMMOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/OSPF-BFD-BLOCK(OSPFCOMMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>