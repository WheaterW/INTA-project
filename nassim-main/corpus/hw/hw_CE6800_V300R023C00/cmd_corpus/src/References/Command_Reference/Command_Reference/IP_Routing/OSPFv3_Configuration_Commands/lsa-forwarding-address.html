
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="lsa-forwarding-address">
<meta name="DC.subject" content="lsa-forwarding-address">
<meta name="keywords" content="lsa-forwarding-address">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_OSPFv3_Configuration_Command_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/OSPFV3-LSA-ARV-DELAY(OSPFCOMMOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/OSPFV3-LSA-ORIGINATE-INTERVAL(OSPFCOMMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_OSPFCOMMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907763396">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>lsa-forwarding-address</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907763396"></a><a name="EN-US_CLIREF_0000001907763396"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">lsa-forwarding-address</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907763396__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">lsa-forwarding-address</span></b> command enables the OSPFv3 forwarding address (FA) function.</p>
<p>The <b><span class="cmdname">undo lsa-forwarding-address</span></b> command disables the OSPFv3 FA function.</p>
</p>
<p>By default, the OSPFv3 FA function is disabled.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907763396__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">lsa-forwarding-address </span></b>{ <strong><span>standard</span></strong> | <strong><span>zero-translate</span></strong> }</p>

<p><b><span class="cmdname">undo lsa-forwarding-address</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907763396__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>standard</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the OSPFv3 FA function is compatible with OSPF NSSA RFC.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>zero-translate</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Allows the Type 7 LSAs with the Propagate (P) bit set and without the FA to be translated to Type 5 LSAs.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907763396__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>OSPFv3 view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907763396__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907763396__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<ul><li>When external routes are imported to an OSPFv3 area, to calculate the optimal path based on the FA, run the <b><span class="cmdname">lsa-forwarding-address</span></b> command. If the <b><span class="cmdname">lsa-forwarding-address standard</span></b> command is run, NSSA-LSAs are converted to AS external LSAs only when the P-bit is set to 1 and the FA exists. If the <b><span class="cmdname">lsa-forwarding-address zero-translate</span></b> command is run, NSSA-LSAs in which the P-bit is set to 1 and the FA does not exist can be converted to AS external LSAs.</li><li>The rules for setting the forwarding address of NSSA LSAs are as follows:</li></ul>

<ol><li>The global IP address of the active interface in the NSSA is preferentially selected. The global IP address of the loopback interface is preferentially selected. The global IP address of the common interface on which no neighbor relationship is established is the second optimal. Them the global IP address of another interface is selected. If the priorities are the same, the smaller global IP address of the interface is preferentially selected.</li><li>When a new interface with a better IP address is available in the area, the LSA forwarding address is updated after a delay of 10s. When the IP address of the interface that functions as the FA is unavailable, the LSA forwarding address is updated immediately.</li></ol>
<p><strong>Precautions</strong></p>
<ul><li>According to the FA selection rules of NSSA LSAs, the system compares whether the neighbor relationship is established on the interface during FA selection. If the neighbor status of the interface changes after the restart, the FA address may change after the restart.</li><li>You are advised to configure a loopback address for the device in the NSSA so that the loopback address can be automatically selected as the FA. Loopback interfaces do not establish neighbor relationships. Therefore, loopback interface addresses are stable and are recommeded as FAs. If other devices have multiple paths with the same cost to the device in the NSSA, load balancing can be implemented.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907763396__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable the OSPFv3 FA function and allow it to be compatible with OSPF NSSA RFC.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ospfv3 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospfv3-1] <strong>lsa-forwarding-address standard</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_OSPFv3_Configuration_Command_title.html">OSPFv3 Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/OSPFV3-LSA-ARV-DELAY(OSPFCOMMOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/OSPFV3-LSA-ORIGINATE-INTERVAL(OSPFCOMMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>