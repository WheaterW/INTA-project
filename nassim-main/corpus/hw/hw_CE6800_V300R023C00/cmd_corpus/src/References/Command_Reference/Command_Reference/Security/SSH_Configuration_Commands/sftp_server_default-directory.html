
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="sftp server default-directory">
<meta name="DC.subject" content="sftp server default-directory">
<meta name="keywords" content="sftp server default-directory">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_SSH_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SFTP-MAX-SESSIONS(SSHS).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SFTP-SERVER(SSHS).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="SSH">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="SSH">
<meta name="featuretype" content="Security">
<meta name="featurename" content="SSH">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="DC.Creator" content="SUBSYS_ID_SSHS">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000002158963948">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>sftp server default-directory</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000002158963948"></a><a name="EN-US_CLIREF_0000002158963948"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">sftp server default-directory</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000002158963948__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">sftp server default-directory</span></b> command configures a default authorized SFTP server directory.</p>
<p>The <b><span class="cmdname">undo sftp server default-directory</span></b> command cancels the configuration of the default authorized SFTP server directory.</p>
</p>
<p>By default, no authorized SFTP server directory is available.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000002158963948__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">sftp server default-directory </span></b><i><span class="varname">sftpdir</span></i></p>

<p><b><span class="cmdname">undo sftp server default-directory </span></b>[ <i><span class="varname">sftpdir</span></i> ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000002158963948__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">sftpdir</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a default SFTP server directory.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 255 characters.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000002158963948__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000002158963948__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000002158963948__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<ul><li>When a user accesses the server through SFTP, the user can access only the authorized directory on the SFTP server. You can use any of the following methods to configure the SFTP server to access the authorized directory:
<ol><li>Run the ssh user &lt;user-name&gt; sftp-directory &lt;sftp-dir-path&gt; command in the system view to configure an authorized SFTP service directory for a specified user.</li><li>Run the local-user &lt;user-name&gt; ftp-directory &lt;directory&gt; command in the AAA view to configure the authorized FTP server directory for a specified user.</li><li>Run the sftp server default-directory &lt;sftpdir&gt; command in the system view to configure the global default authorized SFTP server directory.</li></ol>

</li><li>The <b><span class="cmdname">ssh user sftp-directory</span></b> command has the highest priority and takes effect only for specified SSH users. The sftp server default-directory command has the lowest priority and takes effect for all SSH users.</li><li>When you run the <b><span class="cmdname">ssh authorization-type default</span></b> command to set the authorization type of the SSH connection to AAA or run the <b><span class="cmdname">ssh user authentication-type</span></b> command to set the user authentication mode to password authentication, the authentication is determined by AAA.<p></p>
<span>In this case</span>, the default authorized directories of the SFTP server are listed in descending order of priority:
<ol><li>Directory configured by running the ssh user &lt;user-name&gt; sftp-directory &lt;sftp-dir-path&gt; command.</li><li>Directory configured by running the local-user &lt;user-name&gt; ftp-directory &lt;directory&gt; command.</li><li>Directory configured by running the sftp server default-directory &lt;sftpdir&gt; command.</li></ol>

</li><li>When the <b><span class="cmdname">ssh authorization-type default</span></b> command is run to set the authorization type of the SSH connection to Root and the <b><span class="cmdname">ssh user authentication-type</span></b> command is run to set the user authentication mode to public key authentication or certificate authentication, the authentication is determined by SSH.<p></p>
<span>In this case</span>, the directory configured by running the local-user &lt;user-name&gt; ftp-directory &lt;directory&gt; command does not take effect on the SFTP server.<p></p>
<span>The default authorized directories of the SFTP server</span> are listed in descending order of priority:
<ol><li>Directory configured by running the ssh user &lt;user-name&gt; sftp-directory &lt;sftp-dir-path&gt; command.</li><li>Directory configured by running the sftp server default-directory &lt;sftpdir&gt; command.</li></ol>

</li></ul>
<p><strong>Precautions</strong></p>
<ul><li>Files cannot be uploaded to the logfile/security directory through SFTP due to permission control.</li><li>This command takes effect for both IPv4 and IPv6.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000002158963948__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure a default authorized SFTP server directory for SSH users.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>sftp server default-directory flash:</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_SSH_Configuration_Commands_title.html">SSH Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/SFTP-MAX-SESSIONS(SSHS).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SFTP-SERVER(SSHS).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>