
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="mac-vlan mac-address">
<meta name="DC.subject" content="mac-vlan mac-address">
<meta name="keywords" content="mac-vlan mac-address">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_VLAN_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IFPOLICYVLAN(VLANOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/MANAGEVLAN(VLANOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="VLAN">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="VLAN">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featurename" content="VLAN">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Creator" content="SUBSYS_ID_VLANOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942841113">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>mac-vlan mac-address</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942841113"></a><a name="EN-US_CLIREF_0000001942841113"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">mac-vlan mac-address</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942841113__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">mac-vlan mac-address</span></b> command configures VLAN classification based on MAC addresses and sets 802.1p priorities for the MAC address-based VLANs.</p>
<p>The <b><span class="cmdname">undo mac-vlan mac-address</span></b> command deletes the configuration.</p>
</p>
<p>By default, MAC address-based VLAN classification is not configured.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942841113__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">mac-vlan mac-address </span></b><i><span class="varname">mac-address</span></i> [ <strong><span>priority</span></strong> <i><span class="varname">priority</span></i> ]</p>

<p><b><span class="cmdname">undo mac-vlan mac-address </span></b>{ <i><span class="varname">mac-address</span></i> | <strong><span>all</span></strong> }</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942841113__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">mac-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a unicast MAC address.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in the format of H-H-H. Each H is a 4-digit hexadecimal number, such as 00e0 and fc01. If an H contains less than four hexadecimal digits, 0s are added ahead. For example, e0 is equal to 00e0. A MAC address cannot be full 0s or full 1s.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>priority</span></strong> <i><span class="varname">priority</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the 802.1p priority of the VLAN to be associated with the MAC address.</p>
<p>You can specify the 802.1p priority of the VLAN to be associated with the specific MAC address. In this manner, when the switching device is congested, the switching device preferentially sends frames with high priorities.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 0 to 7. The greater the value, the higher the priority. The default value is 0.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>all</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates all static MAC-VLAN entries.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942841113__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>VLAN view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942841113__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942841113__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>To configure VLAN classification based on MAC addresses, run the mac-vlan mac-address command. MAC address-based VLAN classification frees you from reconfiguring VLANs for users whose physical locations change. This improves user security and increases user access flexibility.</p>
<p><strong>Configuration Impact</strong></p>
<p>VLANs configured based on MAC addresses process only untagged frames, and treat tagged frames in the same way as VLANs configured based on interfaces.<p></p>
<span>After receiving an untagged frame</span>, an interface searches for a MAC-VLAN mapping entry based on the source MAC address in the frame.</p>

<ul><li>If an entry is found, the interface forwards the frame based on the VLAN ID and priority value in the entry.</li><li>If no entry is found, the interface matches the frame against other rules.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942841113__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Assign MAC address 00e0-fc12-3456 to VLAN 100.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>vlan 100</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vlan100] <strong>mac-vlan mac-address 00e0-fc12-3456</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_VLAN_Configuration_Commands_title.html">VLAN Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/IFPOLICYVLAN(VLANOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/MANAGEVLAN(VLANOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>