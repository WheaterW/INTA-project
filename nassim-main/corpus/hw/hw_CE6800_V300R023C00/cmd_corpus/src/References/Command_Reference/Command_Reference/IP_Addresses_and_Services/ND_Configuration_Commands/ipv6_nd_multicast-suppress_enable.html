
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ipv6 nd multicast-suppress enable">
<meta name="DC.subject" content="ipv6 nd multicast-suppress enable">
<meta name="keywords" content="ipv6 nd multicast-suppress enable">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IPv6_ND_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/NDBDMULTISUPPRESS_1(NDOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/NARATELIMIT(NDOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="ND">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="ND">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="ND">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Creator" content="SUBSYS_ID_NDOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907602924">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ipv6 nd multicast-suppress enable</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907602924"></a><a name="EN-US_CLIREF_0000001907602924"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">ipv6 nd multicast-suppress enable</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907602924__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">ipv6 nd multicast-suppress enable</span></b> command enables NS multicast suppression.</p>
<p>The <b><span class="cmdname">undo ipv6 nd multicast-suppress enable</span></b> command disables NS multicast suppression.</p>
</p>
<p>By default, NS multicast suppression is not enabled.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907602924__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">ipv6 nd multicast-suppress </span></b>{ <strong><span>proxy-reply</span></strong> [ <strong><span>unknown-options-unicast</span></strong> ] | <strong><span>unicast-forward</span></strong> } [ <strong><span>mismatch-discard</span></strong> ] <strong><span>enable</span></strong></p>

<p><b><span class="cmdname">undo ipv6 nd multicast-suppress </span></b>{ <strong><span>proxy-reply</span></strong> [ <strong><span>unknown-options-unicast</span></strong> ] | <strong><span>unicast-forward</span></strong> } [ <strong><span>mismatch-discard</span></strong> ] <strong><span>enable</span></strong></p>

<p><b><span class="cmdname">undo ipv6 nd multicast-suppress enable</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907602924__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>proxy-reply</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>When the destination address of an NS multicast message is not of the local host but can match a proxy ND entry on the local device, the device implements proxy ND and replies with an NA message.</p>
</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>This parameter is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>unknown-options-unicast</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>When the destination address of an NS multicast message is not of the local host but can match a proxy ND entry on the local device, the device converts multicast streams to unicast streams for the packets carrying unrecognized options.</p>
<p>By default, the device does not process unrecognized options in NS messages.</p>
</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>This parameter is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>unicast-forward</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>When the destination address of an NS multicast message is not of the local host but can match a proxy ND entry on the local device, the device converts the NS multicast message to an NS unicast message and forwards the NS unicast message.</p>
</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>This parameter is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>mismatch-discard</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>When the destination address of an NS multicast message is not of the local host and does not match a proxy ND entry on the local device, the device discards the NS multicast message.</p>
<p>By default, the device replicates and forwards the NS multicast messages that do not match a proxy ND entry on the local device.</p>
</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>This parameter is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907602924__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>Bridge domain view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907602924__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907602924__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>When a network device receives an NS message to implement address resolution, the device forwards the NS message within its own BD. This NS message is received only by the nodes with the last 24 bits the same as the multicast address. If a device receives a large number of NS messages within a specified period, forwarding these NS messages uses excessive network resources and leads to network congestion and deteriorated network performance. As a result, user services are affected.<p></p>
<span>To resolve this problem</span>, run the <b><span class="cmdname">ipv6 nd multicast-suppress enable</span></b> command to enable NS multicast suppression. With NS multicast suppression enabled, upon receipt of an NS message, a device checks whether the NS message contains information about the end user. If so, the device simply implements proxy ND or converts multicast streams to unicast streams. If not, the device forwards the NS message based on the original process. This reduces or suppresses message flooding occurred during address resolution.</p>
</p>
<p><strong>Precautions</strong></p>
<div class="p"><ul><li>Before enabling NS multicast suppression, ensure that the encapsulation type of the Layer 2 sub-interface bound to the BD is not one of the following:</li><li>Default type</li><li>If no traffic behavior is configured on an EVC Layer 2 sub-interface, the EVC Layer 2 sub-interface transparently transmits Dot1q packets without modifying received packets.</li><li>If no traffic behavior is configured on an EVC Layer 2 sub-interface, the EVC Layer 2 sub-interface transparently transmits received QinQ packets without modifying them.</li><li>Before NS multicast suppression is enabled, if the encapsulation type of an EVC Layer 2 sub-interface bound to a BD is QinQ, the traffic behavior on the EVC Layer 2 sub-interface must be set to pop so that the EVC Layer 2 sub-interface removes double VLAN tags from received packets, that is, run the <b><span class="cmdname">rewrite pop double</span></b> command on the EVC Layer 2 sub-interface.</li><li>The <b><span class="cmdname">ipv6 nd multicast-suppress enable</span></b> command and ND proxy-related commands are mutually exclusive and cannot be configured together. The mutually exclusive commands are as follows:
<ul><li>ipv6 nd proxy route enable</li><li>ipv6 nd proxy anyway enable</li></ul>

</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907602924__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable NS multicast suppression to allow the device to reply with an NA message when the destination address of an NS multicast message is not of the local host but can match a proxy ND entry on the local device.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>bridge-domain 10</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bd10] <strong>ipv6 nd multicast-suppress proxy-reply enable</strong>
</pre>
</div>

<div class="p"># Enable NS multicast suppression to allow the device to convert a multicast message to a unicast message and then forward the unicast message when the destination address of an NS multicast message is not of the local host but can match a proxy ND entry on the local device.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>bridge-domain 10</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bd10] <strong>ipv6 nd multicast-suppress unicast-forward enable</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_IPv6_ND_Configuration_Commands_title.html">ND Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/NDBDMULTISUPPRESS_1(NDOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/NARATELIMIT(NDOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>