
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="linkup session">
<meta name="DC.subject" content="linkup session">
<meta name="keywords" content="linkup session">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-Local_Attack_Defense_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/HOST-CAR_DISABLE.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/LINKUP-CAR.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Local Attack Defense">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Local Attack Defense">
<meta name="featuretype" content="Security">
<meta name="featurename" content="Local Attack Defense">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="DC.Creator" content="SUBSYS_ID_CPUDEFEND">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942847197">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>linkup session</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942847197"></a><a name="EN-US_CLIREF_0000001942847197"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">linkup session</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942847197__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">linkup session anti-attack ratio-threshold</span></b> command sets the percentage threshold for triggering punishment by protocol association.</p>
<p>The <b><span class="cmdname">undo linkup session anti-attack ratio-threshold</span></b> command restores the default percentage threshold for triggering punishment by protocol association.</p>
</p>
<p>By default, the percentage threshold for triggering punishment is 50%.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942847197__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">linkup session anti-attack ratio-threshold </span></b><i><span class="varname">rate-value-percent</span></i></p>

<p><b><span class="cmdname">undo linkup session anti-attack ratio-threshold</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942847197__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>anti-attack</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates attack defense.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ratio-threshold</span></strong> <i><span class="varname">rate-value-percent</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the percentage threshold for triggering punishment by protocol association. The default value is 50.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer in the range from 1 to 100.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942847197__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>Attack defense policy view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942847197__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942847197__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>The CAR value for protocol association is shared by sessions of the same protocol type. When the number of packets of a session increases greatly or the device receives a large number of attack flows matching this session, other sessions of the same protocol may be discarded because the packet rate exceeds the rate limit, data transmission is affected, and services are interrupted. In this case, you can run this command to set the percentage threshold for triggering punishment to ensure that services related to these protocol packets can run properly when attacks occur. The protocol association function triggers penalty detection when the packet rate of a protocol exceeds 80% of the protocol-associated CAR. If the packet rate of a single session exceeds the percentage threshold of the total rate of sessions of the same protocol, the rate of the session is degraded to the CPCAR, which is limited by the CAR value of CPCAR. After that, protocol association is restored periodically, which is limited by the CAR value for protocol association. The percentage threshold for triggering linkup session penalty can be set as required. Only one session can be established for M-LAG and M-LAG-SYNC, and the protocol association penalty function does not take effect. The protocol association penalty function takes effect only when at least two sessions are established for other protocols. The punished session is restored to protocol association after 5 minutes. If the attack persists, the session is punished again.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942847197__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># In the attack defense policy named test, set the percentage threshold for triggering punishment by protocol association to 20%.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>cpu-defend policy test</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-cpu-defend-policy-test] <strong>linkup session anti-attack ratio-threshold 20</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-Local_Attack_Defense_Configuration_Commands_title.html">Local Attack Defense Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/HOST-CAR_DISABLE.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/LINKUP-CAR.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>