
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="storm suppression mac-address flapping">
<meta name="DC.subject" content="storm suppression mac-address flapping">
<meta name="keywords" content="storm suppression mac-address flapping">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-Storm_Suppression_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/STORM_SUPPRESSION_BLOCK_OUTBOUND.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Storm Suppression">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Storm Suppression">
<meta name="featuretype" content="Security">
<meta name="featurename" content="Storm Suppression">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="DC.Creator" content="SUBSYS_ID_CPUDEFEND">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907608044">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>storm suppression mac-address flapping</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907608044"></a><a name="EN-US_CLIREF_0000001907608044"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">storm suppression mac-address flapping</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907608044__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">storm suppression mac-address flapping</span></b> command configures the threshold for MAC drift linkage traffic suppression on an interface.</p>
<p>The <b><span class="cmdname">undo storm suppression mac-address flapping</span></b> command removes the configured MAC drift linkage traffic suppression threshold for an interface.</p>
</p>
<p>By default, the percentage of bandwidth occupied by packets is 1% when traffic suppression associated with MAC address flapping is enabled.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907608044__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">storm suppression mac-address flapping </span></b>{ <i><span class="varname">percent-value</span></i> | <strong><span>cir</span></strong> <i><span class="varname">cir-value</span></i> [ <strong><span>kbps</span></strong> | <strong><span>mbps</span></strong> | <strong><span>gbps</span></strong> ] } [ <strong><span>force</span></strong> ]</p>

<p><b><span class="cmdname">undo storm suppression mac-address flapping </span></b>{ <i><span class="varname">percent-value</span></i> | <strong><span>cir</span></strong> <i><span class="varname">cir-value</span></i> [ <strong><span>kbps</span></strong> | <strong><span>mbps</span></strong> | <strong><span>gbps</span></strong> ] } [ <strong><span>force</span></strong> ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907608044__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">percent-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a percentage, that is, the ratio of the packet rate to the interface rate.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is an integer that ranges from 1 to 100. The default value is 1.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cir</span></strong> <i><span class="varname">cir-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the committed information rate (CIR), which is the allowed rate at which traffic can pass through.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 1 to 400000000.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>kbps</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the CIR in the unit of kbit/s.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>mbps</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the CIR in the unit of Mbit/s.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>gbps</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the CIR in the unit of Gbit/s.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>force</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Forcibly forwards packets based on the threshold for traffic suppression associated with MAC address flapping.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907608044__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907608044__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907608044__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>By default, the MAC flapping linkage traffic suppression action distinguishes between packet types (unknown unicast, unknown multicast, and broadcast). The suppression threshold is configured as a percentage, and the ratio is 1%. That is, the proportions of the three types of unknown unicast, unknown multicast and broadcast are 1%. The <b><span class="cmdname">storm suppression mac-address flapping</span></b> command can be executed to make the threshold of MAC drift linkage traffic suppression on the interface flexibly configured, and can make packets to be forwarded according to the threshold of MAC drift linkage traffic suppression.</p>
</p>
<p><strong>Precautions</strong></p>
<div class="p"><ul><li>If the MAC address flapping to the peer-link interface, the MAC flapping linkage storm suppression function will not take effect on the peer-link interface.</li><li>If the force parameter is not configured or the command line is not configured, when the MAC address flapping occurs on the interface and the storm suppression of the corresponding interface is configured, the storm suppression configured on the interface takes effect.</li><li>If the force parameter is configured, when the MAC address flapping occurs on the interface and the storm suppression of the corresponding interface is configured, the MAC flapping linkage storm suppression takes effect.</li><li>Regardless of whether the force parameter is configured or not, as long as storm control is configured on the interface, MAC flapping linkage storm suppression will not take effect.</li><li>MAC flapping linkage storm suppression is only effective for the MAC flapping port of this board.</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907608044__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the threshold for traffic suppression associated with MAC address flapping to 100 kbit/s.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>storm suppression mac-address flapping cir 100</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-Storm_Suppression_Configuration_Commands_title.html">Storm Suppression Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/STORM_SUPPRESSION_BLOCK_OUTBOUND.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>