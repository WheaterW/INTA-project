
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="confederation id">
<meta name="DC.subject" content="confederation id">
<meta name="keywords" content="confederation id">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_BGP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/VRF6-COMPARE-DIFFERENT-AS-MED(BGPVPNBASE).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/CONFEDERATION-NONSTANDARD(BGPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_BGPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942842857">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>confederation id</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942842857"></a><a name="EN-US_CLIREF_0000001942842857"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">confederation id</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942842857__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">confederation id</span></b> command configures a BGP confederation and specifies a confederation ID.</p>
<p>The <b><span class="cmdname">undo confederation id</span></b> command deletes the configured BGP confederation.</p>
</p>
<p>By default, no BGP confederation is configured.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942842857__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">confederation id </span></b><i><span class="varname">as-number</span></i></p>

<p><b><span class="cmdname">undo confederation id</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942842857__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">as-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a destination AS number.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>For an integral AS number, the value is an integer ranging from 1 to 4294967295.</p>
<p>For an AS number in dotted notation, the value is in the format of x.y, where x and y are integers ranging from 1 to 65535 and from 0 to 65535, respectively.</p>
</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942842857__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>BGP view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942842857__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942842857__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>A large AS may contain a huge number of fully meshed IBGP peer relationships. To reduce the number of fully meshed IBGP peer relationships in the AS and keep the integrity of the original AS, perform the following operations:<p></p>
<span>Divide the AS into multiple sub-ASs and run the confederation</span> id command to configure a BGP confederation. Then establish EBGP connections between sub-ASs and establish fully meshed IBGP connections within the same sub-AS.<p></p>
<span>Some key attributes of routes</span>, such as the next hop, MED, and Local_Pref are not discarded when these routes pass through sub-ASs.</p>
<p><strong>Precautions</strong></p>
<p>The confederation ID is equal to the AS number. During the establishment of a peer relationship with a peer in an external AS, specify the confederation ID. All the sub-ASs in the same confederation must be configured with the same confederation ID, and the confederation ID must be different from the number of any sub-AS.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942842857__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure a confederation ID. An AS is divided into sub-ASs 38, 39, 40, and 41, and their confederation ID is 9. Peer 10.2.3.4 is a member of the AS confederation. Peer 10.11.11.1 is a member outside the AS confederation. For external members, confederation 9 is a unified AS.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>bgp 41</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp] <strong>confederation id 9</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp] <strong>confederation peer-as 38 39 40</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp] <strong>peer 10.2.3.4 as-number 38</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp] <strong>peer 10.11.11.1 as-number 98</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_BGP_Configuration_Commands_title.html">BGP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/VRF6-COMPARE-DIFFERENT-AS-MED(BGPVPNBASE).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/CONFEDERATION-NONSTANDARD(BGPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>