
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="rollback configuration">
<meta name="DC.subject" content="rollback configuration">
<meta name="keywords" content="rollback configuration">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Configuration_Management_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/RESETSTARTUP(CFGOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SAVECFGFILE(CFGOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Configuration File Management">
<meta name="featurename" content="FTP">
<meta name="featurename" content="SFTP">
<meta name="featurename" content="SCP">
<meta name="featurename" content="TFTP">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Configuration File Management">
<meta name="featurename" content="FTP">
<meta name="featurename" content="SFTP">
<meta name="featurename" content="SCP">
<meta name="featurename" content="TFTP">
<meta name="featuretype" content="Basic Configuration">
<meta name="featurename" content="Configuration File Management">
<meta name="featurename" content="FTP">
<meta name="featurename" content="SFTP">
<meta name="featurename" content="SCP">
<meta name="featurename" content="TFTP">
<meta name="featuretype" content="Basic Configuration">
<meta name="featuretype" content="Basic Configuration">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Creator" content="SUBSYS_ID_CFGOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000002194449093">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>rollback configuration</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000002194449093"></a><a name="EN-US_CLIREF_0000002194449093"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">rollback configuration</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000002194449093__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">rollback configuration</span></b> command rolls the system configuration back to a preceding configuration.</p>
</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000002194449093__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">rollback configuration </span></b>{ <strong><span>to</span></strong> <strong><span>commit-id</span></strong> <i><span class="varname">commit-id</span></i> | <strong><span>last</span></strong> <i><span class="varname">number-of-commits</span></i> | <strong><span>to</span></strong> <strong><span>label</span></strong> <i><span class="varname">label</span></i> | <strong><span>to</span></strong> <strong><span>file</span></strong> <i><span class="varname">file-name</span></i> }</p>



</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000002194449093__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>to</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>The system will be rolled back to the configurations when the configuration rollback point is generated.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>commit-id</span></strong> <i><span class="varname">commit-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the ID of the configuration rollback point to which the system configuration is expected to roll back.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that is generated automatically and ranging from 1000000001 to 1999999999, the value of periodical configuration rollback point is ranging from 2000000001 to 2999999999.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>last</span></strong> <i><span class="varname">number-of-commits</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the number of the last configuration rollback point to which the system rolls back.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 80.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>label</span></strong> <i><span class="varname">label</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a user label for a configuration rollback point. A specified user label indicates the historical configuration state to which the system configuration is expected to roll back.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 256 case-sensitive characters. It can be any visible ASCII character except for the space. However, the string can contain spaces if it is enclosed with double quotation marks (" "). The string cannot start with a digit or be a hyphen (-).</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>file</span></strong> <i><span class="varname">file-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Rolls back the current configuration to the configuration in the specified configuration file. After the rollback, the configuration on the device is the same as that in the specified configuration file.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 5 to 64 case-sensitive characters in the format of *.zip, *.cfg, or *.dat, spaces not supported.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000002194449093__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>User view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000002194449093__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000002194449093__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>When an error occurs or the configuration procedure has an unexpected impact on services, run the <b><span class="cmdname">rollback configuration</span></b> command to roll the system configuration back to a specified configuration.<p></p>
<span>Assume that a user has committed four configurations</span> and four consecutive rollback points (A, B, C, and D) are generated. If an error is found in configurations committed at rollback point B and the system must be rolled back, configuration rollback allows the system to roll back to the configurations at rollback point A. Additionally, configuration rollback point E is generated and specially marked with a Rollback flag, indicating that this point is generated because of configuration rollback.<p></p>
<span>If a configuration rollback error is detected</span>, system configurations can be rolled back to what they were before the configuration rollback operation was performed and the new configuration rollback point is specially marked.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000002194449093__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Roll the system configuration back to configuration rollback label test.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>rollback configuration to label test</strong>
Warning: This operation will revert configuration changes to the previous status. During the rollback configuration process, some configurations involving differences may be temporarily invalid. Continue? [Y/N]:y
Checking changes...
Loading rollback changes
Committing
Check rollback result
Configuration rollback succeeded.
Please use 'display configuration commit changes last 1' to view the changes.
</pre>
</div>

<div class="p"># Roll back the system to the historical configuration state of the test.cfg file.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>rollback configuration to file test.cfg</strong>
Warning: This operation will revert configuration changes to the file test.cfg. During the rollback configuration process, some configurations involving differences may be temporarily invalid. The time required for this operation depends on the configuration delivery time and configuration difference amount. If the configuration difference amount is large, this operation will take a long time. Continue? [Y/N]:y
Checking changes...
Loading rollback changes
Committing
Check rollback result
Configuration rollback succeeded.
Please use 'display configuration commit changes last 1' to view the changes.
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Configuration_Management_Commands_title.html">Configuration File Management Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/RESETSTARTUP(CFGOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SAVECFGFILE(CFGOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>