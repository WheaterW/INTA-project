
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="linkup-car">
<meta name="DC.subject" content="linkup-car">
<meta name="keywords" content="linkup-car">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-Local_Attack_Defense_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/LINKUP_SESSION.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/RESET_ANTI-ATTACK_STATISTICS.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Local Attack Defense">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Local Attack Defense">
<meta name="featuretype" content="Security">
<meta name="featurename" content="Local Attack Defense">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="DC.Creator" content="SUBSYS_ID_CPUDEFEND">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907767944">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>linkup-car</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907767944"></a><a name="EN-US_CLIREF_0000001907767944"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">linkup-car</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907767944__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">linkup-car</span></b> command sets the CPCAR value for packets of a protocol connection.</p>
<p>The <b><span class="cmdname">undo linkup-car</span></b> command restores the default CPCAR rate limit.</p>
</p>
<p>By default, the CAR for M-LAG connections is 1024 pps, that for M-LAG-SYNC connections is 2048 pps, and that for connections of other protocols is 1536 pps.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907767944__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">

















<p>For CE6820H, CE6820H-K, CE6820S, CE6855-48XS8CQ, CE6860-SAN, CE6863H, CE6863H-K, CE6866, CE6860-HAM, CE6866K, CE6881H, CE6881H-K, CE6885, CE6885-T, CE6885-LL (standard forwarding mode), CE6863E-48S8CQ, CE6885-SAN, CE8850-SAN, CE8851-32CQ8DQ-P, CE8850-HAM, CE8851K, CE8855, CE8851-32CQ4BQ: </p>

<p><b><span class="cmdname">linkup-car packet-type </span></b>{ <strong><span>bgp</span></strong> | <strong><span>bgp4plus</span></strong> | <strong><span>ftp</span></strong> | <strong><span>isis</span></strong> | <strong><span>m-lag</span></strong> | <strong><span>m-lag-sync</span></strong> | <strong><span>ospf</span></strong> | <strong><span>ospfv3</span></strong> | <strong><span>ssh</span></strong> | <strong><span>telnet</span></strong> | <strong><span>tftp</span></strong> } <strong><span>pps</span></strong> <i><span class="varname">pps-value</span></i></p>

<p><b><span class="cmdname">undo linkup-car packet-type </span></b>{ <strong><span>bgp</span></strong> | <strong><span>bgp4plus</span></strong> | <strong><span>ftp</span></strong> | <strong><span>isis</span></strong> | <strong><span>m-lag</span></strong> | <strong><span>m-lag-sync</span></strong> | <strong><span>ospf</span></strong> | <strong><span>ospfv3</span></strong> | <strong><span>ssh</span></strong> | <strong><span>telnet</span></strong> | <strong><span>tftp</span></strong> }</p>

<p>For CE6885-LL (low latency mode): </p>

<p><b><span class="cmdname">linkup-car packet-type </span></b>{ <strong><span>bgp</span></strong> | <strong><span>ftp</span></strong> | <strong><span>isis</span></strong> | <strong><span>m-lag</span></strong> | <strong><span>m-lag-sync</span></strong> | <strong><span>ospf</span></strong> | <strong><span>ssh</span></strong> | <strong><span>telnet</span></strong> | <strong><span>tftp</span></strong> } <strong><span>pps</span></strong> <i><span class="varname">pps-value</span></i></p>

<p><b><span class="cmdname">undo linkup-car packet-type </span></b>{ <strong><span>bgp</span></strong> | <strong><span>ftp</span></strong> | <strong><span>isis</span></strong> | <strong><span>m-lag</span></strong> | <strong><span>m-lag-sync</span></strong> | <strong><span>ospf</span></strong> | <strong><span>ssh</span></strong> | <strong><span>telnet</span></strong> | <strong><span>tftp</span></strong> }</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907767944__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>bgp</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the protocol type is BGP.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>bgp4plus</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the protocol type is BGP4+.</p>
</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>This parameter is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ftp</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the protocol type is FTP.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>



<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>isis</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the protocol type is ISIS.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ssh</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the protocol type is SSH.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>telnet</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the protocol type is TELNET.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>tftp</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the protocol type is TFTP.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>


<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>pps</span></strong> <i><span class="varname">pps-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the CAR value. The value is an integer that ranges from 64 to 10000, in pps.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 64 to 10000. The default value is 1024 for M-LAG packets, 2048 for M-LAG synchronization packets, and 1536 for other packets.</p>
</td>
</tr>




<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>packet-type</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the protocol type.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ospf</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the protocol type is OSPF.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ospfv3</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the protocol type is OSPFv3.</p>
</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>This parameter is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>m-lag</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the protocol type is M-LAG.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>m-lag-sync</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the protocol type is M-LAG-SYNC.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907767944__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>Attack defense policy view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907767944__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907767944__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>The default CPCAR value of protocol is small. When a switch uses these protocols to transfer files or set up connections with other hosts or devices, the number of protocol packets sharply increases in a short period. When the packet rate exceeds the limit, the protocol packets are dropped. The switch may also undergo attacks of other protocols. This affects data transmission and causes service interruption.<p></p>
<span>You can run the cpu-defend application-apperceive</span> command to enable active link protection, ensuring normal operation of these protocols related services when attacks occur. When a connection is set up, the switch sends packets at the rate of the CPCAR value configured using the linkup-car command. The CPCAR value can be set as required.</p>
<p><strong>Precautions</strong></p>
<div class="p"><ul><li>After association between M-LAG and M-LAG-SYNC is enabled and a link is established, the system can send packets to the CPU based on the CPCAR value configured using the linkup-car command.</li><li>After M-LAG and M-LAG-SYNC packets are transmitted and association between M-LAG and M-LAG-SYNC is enabled, the system can still send packets based on the CPCAR value configured using the linkup-car command.</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907767944__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure the attack defense policy named test to limit the rate of FTP packets sent to the CPU to 5000 pps.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>cpu-defend policy test</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-cpu-defend-policy-test] <strong>linkup-car packet-type ftp pps 5000</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-Local_Attack_Defense_Configuration_Commands_title.html">Local Attack Defense Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/LINKUP_SESSION.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/RESET_ANTI-ATTACK_STATISTICS.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>