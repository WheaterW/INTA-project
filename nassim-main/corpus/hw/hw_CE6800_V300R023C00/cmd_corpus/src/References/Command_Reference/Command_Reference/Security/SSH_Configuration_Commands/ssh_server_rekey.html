
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ssh server rekey">
<meta name="DC.subject" content="ssh server rekey">
<meta name="keywords" content="ssh server rekey">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_SSH_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SSHS-PUBLICKEY-SELECT(SSHS).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SERVER-REKEY-INTERVAL(SSHS).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="SSH">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="SSH">
<meta name="featuretype" content="Security">
<meta name="featurename" content="SSH">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="DC.Creator" content="SUBSYS_ID_SSHS">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000002194484845">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ssh server rekey</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000002194484845"></a><a name="EN-US_CLIREF_0000002194484845"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">ssh server rekey</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000002194484845__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">ssh server rekey</span></b> command sets the criteria that trigger SSH server key re-negotiation.</p>
<p>The <b><span class="cmdname">undo ssh server rekey</span></b> command restores the default values of criteria that trigger SSH server key re-negotiation.</p>
</p>
<div class="p"><p>
By default, key re-negotiation is triggered on the SSH server when one of the following conditions is met:
</p>
<ul><li>
The total size of sent and received packets reaches 1000 MB.
</li><li>
The total number of sent and received packets reaches 2147483648.
</li><li>
The online duration reaches 60 minutes.
</li></ul>
</div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000002194484845__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">ssh server rekey </span></b>{ { <strong><span>max-packet</span></strong> <i><span class="varname">max-packet</span></i> } | { <strong><span>time</span></strong> <i><span class="varname">minutes</span></i> } | { <strong><span>data-limit</span></strong> <i><span class="varname">data-limit</span></i> } } <sup>*</sup></p>

<p><b><span class="cmdname">undo ssh server rekey </span></b>{ { <strong><span>max-packet</span></strong> [ <i><span class="varname">max-packet</span></i> ] } | { <strong><span>time</span></strong> [ <i><span class="varname">minutes</span></i> ] } | { <strong><span>data-limit</span></strong> [ <i><span class="varname">data-limit</span></i> ] } } <sup>*</sup></p>


</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000002194484845__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>max-packet</span></strong> <i><span class="varname">max-packet</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the maximum number of packets that triggers key re-negotiation.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 268435456 to 2147483648.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>time</span></strong> <i><span class="varname">minutes</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the session duration that triggers key re-negotiation.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer in the range of 30 to 1440, in minutes.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>data-limit</span></strong> <i><span class="varname">data-limit</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the maximum packet data volume that triggers key re-negotiation.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 100 to 10000, in MB.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000002194484845__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000002194484845__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000002194484845__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>When an SSH session meets one or more of the following criteria, the system re-negotiates a key and uses the new key to establish SSH session connections, improving system security.</p>

<ul><li>The number of interaction packets meets the configured key re-negotiation criterion.</li><li>The accumulated packet data volume meets the configured key re-negotiation criterion.</li><li>The session duration meets the configured key re-negotiation criterion.</li><li>This command takes effect for both IPv4 and IPv6 SSH clients.</li></ul>
<p><strong>Precautions</strong></p>
<p>A key re-negotiation request is initiated when either the SSH client or server meets the key re-negotiation criteria, and the other party responds.<p></p>
<span>This command applies only to the SSHv2 protocol</span>.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000002194484845__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure key re-negotiation to be triggered on the SSH server when the total size of sent and received packets reaches 10000 MB, the total number of sent and received packets reaches 268435456, or the online duration reaches 1440 minutes.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ssh server rekey data-limit 10000 max-packet 268435456 time 1440</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_SSH_Configuration_Commands_title.html">SSH Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/SSHS-PUBLICKEY-SELECT(SSHS).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SERVER-REKEY-INTERVAL(SSHS).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>