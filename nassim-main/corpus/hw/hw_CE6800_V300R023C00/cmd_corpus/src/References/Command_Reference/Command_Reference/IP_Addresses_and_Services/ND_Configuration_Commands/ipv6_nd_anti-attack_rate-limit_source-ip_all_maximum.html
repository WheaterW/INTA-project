
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ipv6 nd anti-attack rate-limit source-ip all maximum">
<meta name="DC.subject" content="ipv6 nd anti-attack rate-limit source-ip all maximum">
<meta name="keywords" content="ipv6 nd anti-attack rate-limit source-ip all maximum">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IPv6_ND_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/NDIFSRCIPRATELIMIT(NDOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/NDVRSRCMACRATELIMIT(NDOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="ND">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="ND">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="ND">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Creator" content="SUBSYS_ID_NDOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907762808">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ipv6 nd anti-attack rate-limit source-ip all maximum</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907762808"></a><a name="EN-US_CLIREF_0000001907762808"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">ipv6 nd anti-attack rate-limit source-ip all maximum</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907762808__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">ipv6 nd anti-attack rate-limit source-ip all maximum</span></b> command sets the rate limit value for ND packets based on every source IP.</p>
<p>The <b><span class="cmdname">undo ipv6 nd anti-attack rate-limit source-ip all maximum</span></b> command deletes the rate limit value for ND packets based on every source IP.</p>
</p>
<p>The default rate limit for sending ND messages to the CPU based on any source IP address is 0.45 times the rate limit for sending ND messages to the CPU that is configured in the system view.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907762808__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">ipv6 nd </span></b>{ <strong><span>ns</span></strong> | <strong><span>na</span></strong> | <strong><span>rs</span></strong> | <strong><span>ra</span></strong> } <strong><span>anti-attack</span></strong> <strong><span>rate-limit</span></strong> <strong><span>source-ip</span></strong> <strong><span>all</span></strong> <strong><span>maximum</span></strong> <i><span class="varname">max-value</span></i></p>

<p><b><span class="cmdname">undo ipv6 nd </span></b>{ <strong><span>ns</span></strong> | <strong><span>na</span></strong> | <strong><span>rs</span></strong> | <strong><span>ra</span></strong> } <strong><span>anti-attack</span></strong> <strong><span>rate-limit</span></strong> <strong><span>source-ip</span></strong> <strong><span>all</span></strong> <strong><span>maximum</span></strong> <i><span class="varname">max-value</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907762808__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ns</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the rate at which NS messages are sent.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>na</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the rate at which NA messages are sent.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>rs</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the rate at which RS messages are sent.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ra</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the rate at which RA messages are sent.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>maximum</span></strong> <i><span class="varname">max-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specify the rate limit value for ND packets based on every source IP.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 5000, in pps.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907762808__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907762808__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907762808__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>If a device is attacked, it receives a large number of ND packets within a short period. As a result, the device consumes many CPU resources to learn and respond to ND entries, affecting the processing of other services. To resolve this issue, configure a rate limit for sending ND packets to the CPU based on any source IP address. After the configuration is complete, the device counts the number of ND packets received per period based on any source IP address. If the number of ND packets exceeds the configured limit, the device does not process excess ND packets.</p>
<p><strong>Configuration Impact</strong></p>
<p>After the rate limit value is set for ND packets based on any interface source IP, the device counts the number of received ND packets. If the number of ND packets received in a specified period exceeds the upper limit, the device discards the excess ND packets. As a result, the device may fail to process some valid ND packets, causing service interruptions.</p>
<p><strong>Precautions</strong></p>
<p>If the configured rate of sending ND messages based on each source IP address is low, STelnet login fails. In this case, you can log in to the device through the console port and adjust the rate to a proper range.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907762808__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the value of RS packet rate limit based on every source IP addresses to 550 pps.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ipv6 nd rs anti-attack rate-limit source-ip all maximum 550</strong>
</pre>
</div>

<div class="p"># Set the value of NA packet rate limit based on every source IP addresses to 550 pps.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ipv6 nd na anti-attack rate-limit source-ip all maximum 550</strong>
</pre>
</div>

<div class="p"># Set the value of NS packet rate limit based on every source IP addresses to 550 pps.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ipv6 nd ns anti-attack rate-limit source-ip all maximum 550</strong>
</pre>
</div>

<div class="p"># Set the value of RA packet rate limit based on every source IP addresses to 550 pps.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ipv6 nd ra anti-attack rate-limit source-ip all maximum 550</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_IPv6_ND_Configuration_Commands_title.html">ND Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/NDIFSRCIPRATELIMIT(NDOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/NDVRSRCMACRATELIMIT(NDOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>