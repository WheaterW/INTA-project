
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="qos car">
<meta name="DC.subject" content="qos car">
<meta name="keywords" content="qos car">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-Traffic_Policing_and_Traffic_Shaping_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DISPLAY_QOS_CAR_STATISTICS.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/QOS_CAR_IFG_DISABLE.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Traffic Policing">
<meta name="featurename" content="Traffic Shaping">
<meta name="featuretype" content="QoS">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Traffic Policing">
<meta name="featurename" content="Traffic Shaping">
<meta name="featuretype" content="QoS">
<meta name="featurename" content="Traffic Policing">
<meta name="featurename" content="Traffic Shaping">
<meta name="featuretype" content="QoS">
<meta name="featuretype" content="QoS">
<meta name="featuretype" content="QoS">
<meta name="DC.Creator" content="SUBSYS_ID_QOS">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907768616">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>qos car</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907768616"></a><a name="EN-US_CLIREF_0000001907768616"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">qos car</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907768616__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">qos car</span></b> command creates a QoS CAR profile and sets parameters in the QoS CAR profile.</p>
<p>The <b><span class="cmdname">undo qos car</span></b> command deletes a QoS CAR profile.</p>
</p>
<p>By default, no QoS CAR profile is created.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907768616__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">qos car </span></b><i><span class="varname">car-name</span></i> { <strong><span>percent</span></strong> <i><span class="varname">percent-value</span></i> | <strong><span>cir</span></strong> <i><span class="varname">cir-value</span></i> [ <strong><span>kbps</span></strong> | <strong><span>mbps</span></strong> | <strong><span>gbps</span></strong> ] [ <strong><span>cbs</span></strong> <i><span class="varname">cbs-value</span></i> [ <strong><span>bytes</span></strong> | <strong><span>kbytes</span></strong> | <strong><span>mbytes</span></strong> ] [ <strong><span>pbs</span></strong> <i><span class="varname">pbs-value</span></i> [ <strong><span>bytes</span></strong> | <strong><span>kbytes</span></strong> | <strong><span>mbytes</span></strong> ] ] | <strong><span>pir</span></strong> <i><span class="varname">pir-value</span></i> [ <strong><span>kbps</span></strong> | <strong><span>mbps</span></strong> | <strong><span>gbps</span></strong> ] [ <strong><span>cbs</span></strong> <i><span class="varname">cbs-value</span></i> [ <strong><span>bytes</span></strong> | <strong><span>kbytes</span></strong> | <strong><span>mbytes</span></strong> ] <strong><span>pbs</span></strong> <i><span class="varname">pbs-value</span></i> [ <strong><span>bytes</span></strong> | <strong><span>kbytes</span></strong> | <strong><span>mbytes</span></strong> ] ] ] }</p>

<p><b><span class="cmdname">undo qos car </span></b><i><span class="varname">car-name</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907768616__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">car-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a QoS CAR profile.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 31 case-sensitive characters without spaces or question marks (?). It cannot be i, if, ifg, s, st, sta, stat, stati, statis, statist, statisti, statistic, or statistics.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>percent</span></strong> <i><span class="varname">percent-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the percentage of the CIR to the interface bandwidth.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer in the range from 1 to 100.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cir</span></strong> <i><span class="varname">cir-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the committed information rate (CIR), which is the average rate of traffic that can pass through an interface.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is an integer in the range of 24 to 400000000. The default unit is kbit/s.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>kbps</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the rate unit is kbit/s.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>mbps</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the rate unit is Mbit/s.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>gbps</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the rate unit is Gbit/s.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cbs</span></strong> <i><span class="varname">cbs-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the committed burst size (CBS), which is the average volume of burst traffic that can pass through an interface.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><div class="p"><p>The value is an integer. The value range differs depending on the CBS unit. The default unit is byte. Where:</p>
<ul><li>If the CBS is expressed in bytes, the value ranges from 10000 to 33554432. By default, the value of cbs-value is eight times the value of cir-value (kbit/s).</li><li>If the CBS is expressed in kbytes, the value ranges from 10 to 32768. By default, the value of cbs-value is eight times the value of cir-value (mbit/s).</li><li>If the CBS is expressed in mbytes, the value ranges from 1 to 32. By default, the value of cbs-value is eight times the value of cir-value (gbit/s).</li></ul>
</div>
</div>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>bytes</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the CBS is expressed in bytes.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>kbytes</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the CBS is expressed in Kbytes.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>mbytes</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the CBS is expressed in Mbytes.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>pbs</span></strong> <i><span class="varname">pbs-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the peak burst size (PBS), which is the maximum volume of burst traffic that can pass through an interface.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><div class="p"><p>The value is an integer. The value range differs depending on the CBS unit. The default unit is byte. Where:</p>
<ul><li>If the CBS is expressed in bytes, the value ranges from 10000 to 33554432. If the PIR is not specified, the default PBS value is the CBS value. If the PIR is specified, the default PBS value is eight times the PIR value (kbit/s).</li><li>If the CBS is expressed in kbytes, the value ranges from 10 to 32768. If the PIR is not specified, the default PBS value is the CBS value. If the PIR is specified, the default PBS value is eight times the PIR value (mbit/s).</li><li>If the CBS is expressed in mbytes, the value ranges from 1 to 32. If the PIR is not specified, the default PBS value is the CBS value. If the PIR is specified, the default PBS value is eight times the PIR value (gbit/s).</li></ul>
</div>
</div>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>pir</span></strong> <i><span class="varname">pir-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the peak information rate (PIR), which is the maximum rate of traffic that can pass through an interface.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is an integer in the range of 24 to 400000000. The default unit is kbit/s.</p>
</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907768616__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907768616__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907768616__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><p>Traffic policing controls traffic. It monitors the traffic rate on the network and punishes the excess traffic to limit the incoming or outgoing traffic within a proper range and protect network resources.<p></p>
<span>When data is transmitted from a high-speed link to</span> a low-speed link, a bandwidth bottleneck occurs on the low-speed link interface, causing severe data loss. In this case, the rate of data traffic needs to be limited. Traffic policing can be performed in the outbound direction of a high-speed link interface to discard the packets whose rate exceeds the limit so that the rate of sent traffic is limited within the specified range. You can also configure traffic policing in the inbound direction of a low-speed link interface. When the rate of received packets is higher than the traffic policing rate, the device discards the packets.<p></p>
<span>The packet color is determined by the cbs cbs-value</span> and pbs pbs-value parameters in the <b><span class="cmdname">qos car</span></b> command.</p>

<ul><li>When the burst size of a packet is smaller than the CBS, the packet is colored green.</li><li>When the burst size of a packet is greater than or equal to the CBS and less than the PBS, the packet is colored yellow.</li><li>When the burst size of a packet is greater than or equal to the PBS, the packet is colored red.<p></p>
<span>The QoS CAR profile created using this command can</span> be applied to the following scenarios:</li><li>The <b><span class="cmdname">car share</span></b> command is run in the traffic behavior view to perform traffic policing for a specified type of service traffic.</li><li>The <b><span class="cmdname">qos car inbound</span></b> command is run in the interface view to perform traffic policing for all incoming packets on the interface.</li></ul>
</div>
<p><strong>Precautions</strong></p>
<div class="p"><ul><li>If you specify percent percent-value when running the <b><span class="cmdname">qos car</span></b> command to create a QoS CAR profile, the QoS CAR profile can be applied only to physical interfaces.</li><li>A maximum of 512 QoS CAR profiles can be created on the device.</li><li>It is recommended that the CIR be greater than 2 Mbit/s.</li><li>When the traffic policing rate exceeds the maximum rate of an interface, traffic policing is not performed on the interface. Set cir-value and pir-value to values smaller than the interface rate based on the actual interface rate.</li><li>When the CBS is smaller than the number of bytes in a packet, packets of this type are discarded.</li><li>To prevent packet color identification problems, you are advised to set the PBS to be greater than the CBS.</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907768616__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Create a QoS CAR profile named qoscar1, and set the CIR to 10000 kbit/s and the CBS to 10240 bytes.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>qos car qoscar1 cir 10000 kbps cbs 10240 bytes</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-Traffic_Policing_and_Traffic_Shaping_Commands_title.html">Traffic Policing and Traffic Shaping Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DISPLAY_QOS_CAR_STATISTICS.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/QOS_CAR_IFG_DISABLE.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>