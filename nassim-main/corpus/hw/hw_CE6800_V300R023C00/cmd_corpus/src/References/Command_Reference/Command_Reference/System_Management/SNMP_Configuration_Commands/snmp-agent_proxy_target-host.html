
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="snmp-agent proxy target-host">
<meta name="DC.subject" content="snmp-agent proxy target-host">
<meta name="keywords" content="snmp-agent proxy target-host">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_SNMP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SNMPPROXYRULECFG(SNMPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SNMPREMOTEENGINE(SNMPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Creator" content="SUBSYS_ID_SNMPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000002159122608">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>snmp-agent proxy target-host</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000002159122608"></a><a name="EN-US_CLIREF_0000002159122608"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">snmp-agent proxy target-host</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000002159122608__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">snmp-agent proxy target-host</span></b> command configures target host information on an SNMP proxy.</p>
<p>The <b><span class="cmdname">undo snmp-agent proxy target-host</span></b> command deletes target host information.</p>
</p>
<p>By default, no target host information is configured.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000002159122608__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">snmp-agent proxy target-host </span></b><i><span class="varname">target-host-name</span></i> <strong><span>address</span></strong> <strong><span>udp-domain</span></strong> <i><span class="varname">ip-address</span></i> <strong><span>udp-port</span></strong> <i><span class="varname">port-number</span></i> [ { <strong><span>source</span></strong> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <i><span class="varname">interface-name</span></i> } | { <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> | <strong><span>public-net</span></strong> } } | { <strong><span>timeout</span></strong> <i><span class="varname">timeout-value</span></i> } ] <sup>*</sup> <strong><span>params</span></strong> <strong><span>securityname</span></strong> { <i><span class="varname">security-string</span></i> { <strong><span>v1</span></strong> | <strong><span>v2c</span></strong> | <strong><span>v3</span></strong> [ <strong><span>authentication</span></strong> | <strong><span>privacy</span></strong> ] } | <strong><span>cipher</span></strong> <i><span class="varname">security-string-cipher</span></i> { <strong><span>v1</span></strong> | <strong><span>v2c</span></strong> } }</p>

<p><b><span class="cmdname">snmp-agent proxy target-host </span></b><i><span class="varname">target-host-name</span></i> <strong><span>ipv6</span></strong> <strong><span>address</span></strong> <strong><span>udp-domain</span></strong> <i><span class="varname">ipv6-address</span></i> <strong><span>udp-port</span></strong> <i><span class="varname">port-number</span></i> [ { <strong><span>source</span></strong> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <i><span class="varname">interface-name</span></i> } | { <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> | <strong><span>public-net</span></strong> } } | { <strong><span>timeout</span></strong> <i><span class="varname">timeout-value</span></i> } ] <sup>*</sup> <strong><span>params</span></strong> <strong><span>securityname</span></strong> { <i><span class="varname">security-string</span></i> { <strong><span>v1</span></strong> | <strong><span>v2c</span></strong> | <strong><span>v3</span></strong> [ <strong><span>authentication</span></strong> | <strong><span>privacy</span></strong> ] } | <strong><span>cipher</span></strong> <i><span class="varname">security-string-cipher</span></i> { <strong><span>v1</span></strong> | <strong><span>v2c</span></strong> } }</p>

<p><b><span class="cmdname">undo snmp-agent proxy target-host </span></b><i><span class="varname">target-host-name</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000002159122608__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">target-host-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a target host.</p>
<p>The target host may be either the managed device or the NMS.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 32 case-sensitive characters, spaces not supported.</p>
<p>When quotation marks are used around the string, spaces are allowed in the string.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>address</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the destination address carried in SNMP proxy packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>udp-domain</span></strong> <i><span class="varname">ip-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Uses UDP to transmit SNMP proxy packets.</p>
<p>The ip-address parameter specifies the destination IPv4 address used to receive SNMP proxy packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>udp-port</span></strong> <i><span class="varname">port-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the number of a port used by the target host to receive SNMP proxy packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 65535.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>source</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the type and number of a source interface used by the SNMP proxy to send SNMP proxy packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interface-type</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Interface Type.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interface-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Interface Number.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interface-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Interface Name.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a VPN instance to which a target host belongs.</p>
<p>If the NMS and managed device need to communicate over a private network, use this parameter.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 31 case-sensitive characters, spaces not supported. In addition, the VPN instance name must not be _public_. When double quotation marks are used around the string, spaces are allowed in the string.</p>
<p>On a VPN, the VPN instance name, IP address, and security name form a triplet to uniquely identify a host.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>public-net</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that a host generating a trap message is connected to a public network.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>timeout</span></strong> <i><span class="varname">timeout-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the timeout period for a target host to send a response to an SNMP agent after receiving an inform from the SNMP agent.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 1800, in seconds.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>params</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Displays information about the target host that generates SNMP messages.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>securityname</span></strong> <i><span class="varname">security-string</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a security name to be displayed on the NMS.</p>
<p>For SNMPv3, securityname must be configured as the user name. securityname configured on the host must be the same as that configured on the NMS, or the NMS cannot receive the trap messages sent by the host.</p>
<p>For SNMPv1 and SNMPv2c, the NMS can receive trap messages from all hosts without having securityname configured. securityname is used to distinguish multiple hosts that generate trap messages.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 32 case-sensitive characters, spaces not supported.</p>
<p>When quotation marks are used around the string, spaces are allowed in the string.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>v1</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates SNMPv1.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>v2c</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates SNMPv2c.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>v3</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates SNMPv3.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>authentication</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Authenticates SNMPv3 packets without encrypting them.</p>
<p>The authentication function is used to check the integrity and validity of SNMP packets. The authentication password is configured using the snmp-agent usm-user command.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>privacy</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Authenticates and encrypts SNMPv3 packets.</p>
<p>The encryption function is used to protect packet data against theft. The authentication and encryption passwords are configured using the snmp-agent usm-user command.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cipher</span></strong> <i><span class="varname">security-string-cipher</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a security name in ciphertext. You can type in the plain text or ciphertext, and it is displayed as the ciphertext in the configuration file.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of case-sensitive characters, spaces not supported. A simple text password is a string of 1 to 32 case-sensitive characters. A ciphertext password is a string of 32, 48, 56 or from 68 to 168 case-sensitive characters.</p>
<p>When quotation marks are used around the string, spaces are allowed in the string.</p>
<p>Ciphertext passwords with various lengths configured in an earlier version are also supported in the existing version.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ipv6</span></strong> <i><span class="varname">ipv6-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the IPv6 address of a target host.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The address is a 32-digit hexadecimal number, in the format of X:X:X:X:X:X:X:X.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000002159122608__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000002159122608__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000002159122608__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>To enable an NMS to effectively manage a managed device, run the snmp-agent proxy target-host command to configure target host information. You can also configure the SNMP proxy to filter undesired SNMP packets.</p>
<p><strong>Precautions</strong></p>
<ul><li>You can run this command multiple times with different parameters set to configure an SNMP proxy to send packets to multiple NMSs or the managed device. An SNMP proxy supports a maximum of 20 target hosts. If the number of target hosts exceeds 20, an error message is displayed.</li><li>If you specify neither authentication nor privacy, SNMPv3 packets are neither authenticated nor encrypted.</li><li>If a VPN instance to which the target host belongs is specified by the vpn-instance vpn-instance-name parameter, make sure the VPN instance has already been created. Otherwise, the SNMP proxy packets cannot be sent to the target host.</li><li>When you configure target host information, ensure that the VPN instance name configured for the target host is the same as the name of the VPN instance to which to the source port of the target host is bound. Otherwise, the target host may fail to receive SNMP proxy packets.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000002159122608__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure an SNMP proxy to send packets to a target host with name of 10.1.1.1.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>snmp-agent proxy target-host snmp-proxy address udp-domain 10.1.1.1 udp-port 162 source <span>100GE</span> <span>1/0/1</span> timeout 45 params securityname public v3</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_SNMP_Configuration_Commands_title.html">SNMP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/SNMPPROXYRULECFG(SNMPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SNMPREMOTEENGINE(SNMPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>