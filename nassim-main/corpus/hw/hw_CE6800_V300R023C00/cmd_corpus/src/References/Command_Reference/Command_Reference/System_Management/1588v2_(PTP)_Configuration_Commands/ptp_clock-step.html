<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
 <head> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="DC.Type" content="cliref"> 
  <meta name="DC.Title" content="ptp clock-step"> 
  <meta name="DC.subject" content="ptp clock-step"> 
  <meta name="keywords" content="ptp clock-step"> 
  <meta name="product" content=""> 
  <meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-1588v2(PTP)_Configuration_Commands_title.html"> 
  <meta name="DC.Relation" scheme="URI" content="../v3r23c00/PTP_CLOCK-SOURCE.html"> 
  <meta name="DC.Relation" scheme="URI" content="../v3r23c00/PTP_DEVICE-TYPE.html"> 
  <meta name="prodname" content=""> 
  <meta name="version" content=""> 
  <meta name="brand" content="Product Documentation"> 
  <meta name="DC.Publisher" content="20230413"> 
  <meta name="featurename" content="1588v2 (PTP)"> 
  <meta name="featuretype" content="System Management"> 
  <meta name="DC.Audience.Job" content="Reference"> 
  <meta name="featurename" content="1588v2 (PTP)"> 
  <meta name="featuretype" content="System Management"> 
  <meta name="featurename" content="1588v2 (PTP)"> 
  <meta name="featuretype" content="System Management"> 
  <meta name="featuretype" content="System Management"> 
  <meta name="featuretype" content="System Management"> 
  <meta name="DC.Creator" content="SUBSYS_ID_CLKSYNC"> 
  <meta name="DC.Format" content="XHTML"> 
  <meta name="DC.Identifier" content="EN-US_CLIREF_0000001942840005"> 
  <meta name="DC.Language" content="en-us"> 
  <link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css"> 
  <link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css"> 
  <script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script> 
  <title>ptp clock-step</title> 
  <style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style> 
 </head> 
 <body>
  <a name="EN-US_CLIREF_0000001942840005"></a>
  <a name="EN-US_CLIREF_0000001942840005"></a> 
  <div class="articleBoxWithoutHead"> 
   <h1 class="topicTitle-h1">ptp clock-step</h1> 
   <div> 
    <div class="clifunc">
     <a name="EN-US_CLIREF_0000001942840005__1.3.1"></a>
     <a name="1.3.1"></a>
     <h2 class="sectiontitle">Function</h2> 
     <div class="clifuncbody"> 
      <p></p>
      <p>The <b><span class="cmdname">ptp clock-step</span></b> command configures a timestamping mode on a 1588v2 device.</p> 
      <p>The <b><span class="cmdname">undo ptp clock-step</span></b> command restores the default timestamping mode.</p> 
      <p></p> 
      <p>By default, packets carry timestamps in one-step mode.</p> 
      <div class="note">
       <img src="../public_sys-resources/note_3.0-en-us.png">
       <span class="notetitle"> </span>
       <div class="notebody">
        <p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H-48S6CQ, CE6881H-48S6CQ-K, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p> 
       </div>
      </div> 
     </div>
    </div> 
    <div class="cliformat">
     <a name="EN-US_CLIREF_0000001942840005__1.3.2"></a>
     <a name="1.3.2"></a>
     <h2 class="sectiontitle">Format</h2> 
     <div class="cliformatbody"> 
      <p><b><span class="cmdname">ptp clock-step </span></b>{ <strong><span>one-step</span></strong> | <strong><span>two-step</span></strong> }</p> 
      <p><b><span class="cmdname">undo ptp clock-step</span></b></p> 
     </div>
    </div> 
    <div class="cliparam">
     <a name="EN-US_CLIREF_0000001942840005__1.3.3"></a>
     <a name="1.3.3"></a>
     <h2 class="sectiontitle">Parameters</h2> 
     <div class="cliparambody"> 
      <div class="tableBorder">
       <table cellpadding="4" cellspacing="0" summary=""> 
        <tbody>
         <tr> 
          <th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th> 
          <th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th> 
          <th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>one-step</span></strong></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>In one-step clock mode, a Sync message in Delay mode is stamped with the time when the message is sent.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>-</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>two-step</span></strong></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>In two-step clock mode, a Sync message in Delay mode does not carry the timestamp of the time when the message is sent. Instead, the message records only the time when the message is generated. The Follow_Up message carries the timestamp of the time when the Syn message is sent.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>-</p> </td> 
         </tr> 
        </tbody>
       </table>
      </div> 
     </div>
    </div> 
    <div class="cliview">
     <a name="EN-US_CLIREF_0000001942840005__1.3.4"></a>
     <a name="1.3.4"></a>
     <h2 class="sectiontitle">Views</h2> 
     <div class="cliviewbody"> 
      <p>100GE interface view,10GE interface view,200GE interface view,25GE interface view,400GE interface view,50GE interface view</p> 
     </div>
    </div> 
    <div class="clidefaultlevel">
     <a name="EN-US_CLIREF_0000001942840005__1.3.5"></a>
     <a name="1.3.5"></a>
     <h2 class="sectiontitle">Default Level</h2> 
     <div class="clidefaultlevelbody"> 
      <p>2: Configuration level</p> 
     </div>
    </div> 
    <div class="clidesc">
     <a name="EN-US_CLIREF_0000001942840005__1.3.6"></a>
     <a name="1.3.6"></a>
     <h2 class="sectiontitle">Usage Guidelines</h2> 
     <div class="clidescbody"> 
      <p><strong>Usage Scenario</strong></p> 
      <p>Two devices exchange Announce packets to determine the master/slave relationship. The master device sends Sync packets to notify the slave device of time signal parameters and uses a delay measurement mechanism to achieve time signals accuracy.</p>
      <p></p> 
      <span>A timestamp indicates the time when 1588v2 packets</span> are sent during synchronization. 1588v2 uses timestamps to adjust clock signals and implement clock synchronization. Either of the following parameters can be specified in the ptp clock-step command to configure a command:
      <p></p> 
      <ul>
       <li>one-step: indicates the one-step clock mode. In this mode, a Sync message is stamped with the time when the message is sent.</li>
       <li>two-step: indicates the two-step clock mode. In this mode, a Sync message does not carry the timestamp of the time when the message is sent. Instead, a Follow-Up message carries the timestamp of the time when the Syn message is sent.</li>
      </ul> 
      <p><strong>Precautions</strong></p> 
      <p>By default, the device uses the one-step mode to carry timestamps. The device that uses the one-step mode can identify Follow_Up messages sent by another device that uses the two-step mode.</p>
      <p></p> 
      <span>PTP interfaces that support different timestamping</span> modes can communicate with each other.
      <p></p> 
     </div>
    </div> 
    <div class="cliexample">
     <a name="EN-US_CLIREF_0000001942840005__1.3.7"></a>
     <a name="1.3.7"></a>
     <h2 class="sectiontitle">Example</h2> 
     <div class="cliexamplebody"> 
      <div class="p">
       # Configure the two-step clock mode.
       <pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" face="Courier New">~</font></span><span class="keyword">HUAWEI</span>] <strong>ptp device-type bc</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ptp clock-step two-step</strong>
</pre> 
      </div> 
     </div>
    </div> 
   </div> 
  </div> 
  <div class="footerNavBar clearfix"> 
   <div class="parentlink">
     Parent Topic: 
    <a href="../v3r23c00/dc_PNF-1588v2(PTP)_Configuration_Commands_title.html">1588v2 (PTP) Configuration Commands </a> 
   </div> 
   <div class="copyrightBottomBar">
     Copyright ? Huawei Technologies Co., Ltd.
   </div> 
   <div class="copyrightBottomBar_responsive">
     Copyright ? Huawei Technologies Co., Ltd.
   </div> 
   <div class="bottomNavBtn clearfix"> 
    <a href="../v3r23c00/PTP_CLOCK-SOURCE.html"><span class="font-st">&lt; </span>Previous topic</a> 
    <a href="../v3r23c00/PTP_DEVICE-TYPE.html">Next topic<span class="font-st"> &gt;</span></a> 
   </div> 
  </div>  
 </body>
</html>