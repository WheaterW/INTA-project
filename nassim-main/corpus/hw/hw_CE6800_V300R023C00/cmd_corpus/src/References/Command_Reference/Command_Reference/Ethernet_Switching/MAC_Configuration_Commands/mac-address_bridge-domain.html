
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="mac-address bridge-domain">
<meta name="DC.subject" content="mac-address bridge-domain">
<meta name="keywords" content="mac-address bridge-domain">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_MAC_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/MAC-ADDRESS_BPDU.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SETMACFLAP(MACOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="MAC">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="MAC">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featurename" content="MAC">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Creator" content="SUBSYS_ID_MACOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942840857">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>mac-address bridge-domain</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942840857"></a><a name="EN-US_CLIREF_0000001942840857"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">mac-address bridge-domain</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942840857__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">mac-address static bridge-domain</span></b> command configures a static MAC address entry based on a bridge domain (BD).</p>
<p>The <b><span class="cmdname">undo mac-address static bridge-domain</span></b> command deletes a static MAC address entry in a BD.</p>
</p>
<p>By default, no static MAC address entry is configured.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942840857__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">


<p><b><span class="cmdname">mac-address static </span></b><i><span class="varname">mac-address</span></i> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <i><span class="varname">interface-name</span></i> } <strong><span>bridge-domain</span></strong> <i><span class="varname">bd-id</span></i> [ <strong><span>vid</span></strong> <i><span class="varname">pe-vid</span></i> ]</p>

<p><b><span class="cmdname">undo mac-address </span></b>{ <i><span class="varname">mac-address</span></i> <strong><span>bridge-domain</span></strong> <i><span class="varname">bd-id</span></i> | <strong><span>bridge-domain</span></strong> <i><span class="varname">bd-id</span></i> | <strong><span>static</span></strong> { <strong><span>bridge-domain</span></strong> <i><span class="varname">bd-id</span></i> | <i><span class="varname">mac-address</span></i> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <i><span class="varname">interface-name</span></i> } <strong><span>bridge-domain</span></strong> <i><span class="varname">bd-id</span></i> } }</p>

<p><b><span class="cmdname">undo mac-address static </span></b><i><span class="varname">mac-address</span></i> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <i><span class="varname">interface-name</span></i> } <strong><span>bridge-domain</span></strong> <i><span class="varname">bd-id</span></i> [ <strong><span>vid</span></strong> <i><span class="varname">pe-vid</span></i> ]</p>


</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942840857__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">mac-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a MAC address.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a hexadecimal number in the format of H-H-H. H is a 4-bit hexadecimal number, such as 00e0 or fc01. If an H contains fewer than 4 digits, the left-most digits are padded with zeros. For example, e0 is displayed as 00e0.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interface-type</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the interface type.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interface-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the interface number.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interface-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the interface name.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>bridge-domain</span></strong> <i><span class="varname">bd-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the ID of a bridge domain to which an outbound interface belongs.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is an integer ranging from 1 to 16777215.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>vid</span></strong> <i><span class="varname">pe-vid</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the outer tag carried in packets that an outbound interface. receives.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 4094.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>static</span></strong> <i><span class="varname">mac-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates a static entry.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a hexadecimal number in the format of H-H-H. H is a 4-bit hexadecimal number, such as 00e0 or fc01. If an H contains fewer than 4 digits, the left-most digits are padded with zeros. For example, e0 is displayed as 00e0.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942840857__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942840857__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942840857__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>When a device learns MAC addresses and adds MAC address entries to a MAC address table, the device cannot identify whether packets are from authorized users or hackers, which brings security threats. If hackers spoof authorized users by changing the source MAC address of packets and access a device through different interfaces from authorized users' access interfaces, the device learns incorrect MAC address entries. As a result, the packets that should be forwarded to authorized users are forwarded to hackers.<p></p>
<span>To improve interface security</span>, run the <b><span class="cmdname">mac-address static bridge-domain</span></b> command to add a specified user MAC address to a MAC address table so that a user device is bound to a local device interface, which prevents hackers from accessing the local device and obtaining data.</p>
<p><strong>Configuration Impact</strong></p>
<p>The configured static MAC address entry cannot age. After a device receives a frame with the specified static MAC address, the device forwards the frame through the specified outbound interface. The configured static MAC address entry will not be lost even if the device is reset or a board on the device is hot swapped.</p>
<p><strong>Precautions</strong></p>
<p>The manually added MAC address entries (static MAC address entries) take precedence over automatically generated MAC address entries. Static MAC address entries cannot be overwritten by dynamic MAC address entries, but dynamic MAC address entries can be overwritten by static MAC address entries.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942840857__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Add a blackhole entry with MAC address 00e0-fc12-3456 to BD 10. When packets with destination MAC address 00e0-fc12-3456 and belonging to BD 10 are received, the packets are discarded.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>bridge-domain 10</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bd10] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>mac-address blackhole 00e0-fc12-3456 bridge-domain 10</strong>
</pre>
</div>



<div class="p"># Enable a device to forward packets destined for MAC address 00e0-fc12-3456 through outbound interface <span>100GE</span><span>1/0/1</span>.1 in bridge domain 10.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>bridge-domain 10</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bd10] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span>.1 mode l2</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>.1] <strong>bridge-domain 10</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>.1] <strong>encapsulation dot1q vid 10</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>.1] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>mac-address static 00e0-fc12-3456 <span>100GE</span><span>1/0/1</span>.1 bridge-domain 10</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_MAC_Configuration_Commands_title.html">MAC Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/MAC-ADDRESS_BPDU.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SETMACFLAP(MACOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>