
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="snmp-agent protocol source-interface">
<meta name="DC.subject" content="snmp-agent protocol source-interface">
<meta name="keywords" content="snmp-agent protocol source-interface">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_SNMP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SNMPLISTENSERVICE(SNMPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SNMPAMULTISOURCESTATUS(SNMPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Creator" content="SUBSYS_ID_SNMPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000002194449373">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>snmp-agent protocol source-interface</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000002194449373"></a><a name="EN-US_CLIREF_0000002194449373"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">snmp-agent protocol source-interface</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000002194449373__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">snmp-agent protocol source-interface</span></b> command specifies a source interface for SNMP to receive and respond to requests from an NMS.</p>
<p>The <b><span class="cmdname">undo snmp-agent protocol source-interface</span></b> command restores the default configuration.</p>
<p>The <b><span class="cmdname">snmp-agent proxy protocol source-interface</span></b> command specifies a source interface for the SNMP proxy to receive and respond to requests from the CCU.</p>
<p>The <b><span class="cmdname">undo snmp-agent proxy protocol source-interface</span></b> command restores the default configuration.</p>
</p>
<p>By default, no source interface is specified for SNMP to receive and respond to requests from an NMS. The function that allows all interfaces on the device to be used by SNMP to receive and respond to requests from an NMS is not enabled. No source interface is specified for the SNMP proxy to receive and respond to requests from the CCU. The function that allows all interfaces on the device to be used by the SNMP proxy to receive and respond to requests from the CCU is not enabled.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000002194449373__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">snmp-agent protocol source-interface </span></b>{ <i><span class="varname">protocol-interface-type</span></i> <i><span class="varname">protocol-interface-number</span></i> | <i><span class="varname">protocol-interface-name</span></i> }</p>

<p><b><span class="cmdname">snmp-agent proxy protocol source-interface </span></b>{ <i><span class="varname">protocol-interface-type</span></i> <i><span class="varname">protocol-interface-number</span></i> | <i><span class="varname">protocol-interface-name</span></i> }</p>



<p><b><span class="cmdname">undo snmp-agent protocol source-interface </span></b>{ <i><span class="varname">protocol-interface-type</span></i> <i><span class="varname">protocol-interface-number</span></i> | <i><span class="varname">protocol-interface-name</span></i> }</p>

<p><b><span class="cmdname">undo snmp-agent proxy protocol source-interface </span></b>{ <i><span class="varname">protocol-interface-type</span></i> <i><span class="varname">protocol-interface-number</span></i> | <i><span class="varname">protocol-interface-name</span></i> }</p>



</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000002194449373__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">protocol-interface-type</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the type of a source interface.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">protocol-interface-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the number of a source interface.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 63 case-sensitive characters, spaces not supported.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">protocol-interface-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a source interface.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 63 case-sensitive characters, spaces not supported.</p>
</td>
</tr>


</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000002194449373__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000002194449373__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000002194449373__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>To specify a source interface for SNMP to receive and respond to requests from an NMS, run the <b><span class="cmdname">snmp-agent protocol source-interface</span></b> command.<p></p>
<span>To allow data to be managed in a unified manner</span>, you can specify the source interface for the SNMP proxy to receive and respond to requests from the CCU or configure the function that allows all interfaces on the device to be used by the SNMP proxy to receive and respond to requests from the CCU.</p>
</p>
<p><strong>Prerequisites</strong></p>
<p><p>The interface to be configured as the source interface must have been created, and a valid IP address must have been assigned to this interface. If the specified interface has not been configured, the <b><span class="cmdname">snmp-agent protocol source-interface</span></b> command fails to be run. If the specified interface has been created but no valid IP address is assigned to it, the command configuration does not take effect, but will take effect automatically after a valid IP address is assigned.</p>
</p>
<p><strong>Precautions</strong></p>
<p><p>snmp-agent protocol source-interface does not support interface association. That is, after the configured source interface is deleted or the IP address of the interface is deleted or changed, the NMS cannot communicate with the device through the original IP address of the interface.<p></p>
<span>After the source interface bound to SNMP takes effect</span>, SNMP listens only to this interface and does not receive or respond to request packets from other interfaces. The NMS uses only the IP address of the interface to communicate with the device. If the IP address of the interface changes, the NMS uses the new IP address of the interface to communicate with the device.<p></p>
<span>The</span> <b><span class="cmdname">snmp-agent protocol source-interface</span></b> command can be used to configure a maximum of 20 source interfaces for SNMP to receive and respond to NMS request packets.<p></p>
<span>The</span> <b><span class="cmdname">snmp-agent proxy protocol source-interface</span></b> command can be used to configure a maximum of 20 source interfaces for the SNMP agent to receive and respond to CCU packets.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000002194449373__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">


<div class="p"># Configure loopback 1 as a source interface for SNMP to receive and respond to requests from an NMS.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface loopback1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-LoopBack1] <strong>ip address 10.1.1.1 255.255.255.255</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-LoopBack1] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>snmp-agent protocol source-interface loopback 1</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_SNMP_Configuration_Commands_title.html">SNMP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/SNMPLISTENSERVICE(SNMPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SNMPAMULTISOURCESTATUS(SNMPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>