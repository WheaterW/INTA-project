
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="qinq protocol">
<meta name="DC.subject" content="qinq protocol">
<meta name="keywords" content="qinq protocol">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_VLAN_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IFPROTOCOLVLAN(VLANOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/RESETVLANSTATISTIC(VLANOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="VLAN">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="VLAN">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featurename" content="VLAN">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Creator" content="SUBSYS_ID_VLANOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907761852">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>qinq protocol</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907761852"></a><a name="EN-US_CLIREF_0000001907761852"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">qinq protocol</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907761852__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">qinq protocol</span></b> command configures the EtherType value in the outer tag of tagged packets.</p>
<p>The <b><span class="cmdname">undo qinq protocol</span></b> command restores the default EtherType value in the outer tag of tagged packets.</p>
</p>
<p>By default, the EtherType value in the outer tag of tagged packets received by an Ethernet interface is 0x8100.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907761852__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">qinq protocol </span></b><i><span class="varname">ethertype-value</span></i></p>

<p><b><span class="cmdname">undo qinq protocol</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907761852__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>protocol</span></strong> <i><span class="varname">ethertype-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the EtherType value in the outer tag of tagged packets on an Ethernet interface. If this parameter is set to a well-known Ethernet encapsulation type, packet identification will be affected on inbound interfaces, which will result in packet forwarding errors. Therefore, setting this parameter to a well-known Ethernet encapsulation type is not recommended.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value ranges from 0x0600 to 0xFFFF, in hexadecimal format.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907761852__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>Layer 2 100GE interface view,</span><span>Layer 2 10GE interface view,</span><span>Layer 2 200GE interface view,</span><span>25GE-L2 view,</span><span>400GE-L2 view,</span><span>Layer 2 50GE interface view,</span><span>Layer 2 Eth-Trunk interface view,</span><span>Layer 2 GE interface view,</span><span>Interface group view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907761852__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907761852__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>When a Huawei device connects to a non-Huawei device and QinQ is configured, these devices all use 0x8100 as the EtherType value in the inner tag protocol identifier (TPID) but may use different EtherType values in the outer TPID. For example, the non-Huawei device uses the EtherType value 0x88a8 defined in IEEE 802.1ad in the outer TPID while the Huawei device uses the EtherType value 0x8100. To implement interoperation between these devices, run the qinq protocol command to configure an EtherType value in the outer tag.</p>
<p><strong>Precautions</strong></p>
<p>The qinq protocol command takes effect both on double-tagged and single-tagged packets.<p></p>
<span>This command can only be used on Layer 2 Ethernet</span> interfaces.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907761852__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure the EtherType value in the outer tag to be 0x9100 on an Ethernet interface.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>qinq protocol 9100</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_VLAN_Configuration_Commands_title.html">VLAN Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/IFPROTOCOLVLAN(VLANOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/RESETVLANSTATISTIC(VLANOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>