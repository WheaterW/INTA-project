
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="snmp-agent proxy rule">
<meta name="DC.subject" content="snmp-agent proxy rule">
<meta name="keywords" content="snmp-agent proxy rule">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_SNMP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SNMPPROXYCOMMUNITYCFG(SNMPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SNMPPROXYHOSTCFG(SNMPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Creator" content="SUBSYS_ID_SNMPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000002194483737">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>snmp-agent proxy rule</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000002194483737"></a><a name="EN-US_CLIREF_0000002194483737"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">snmp-agent proxy rule</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000002194483737__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">snmp-agent proxy rule</span></b> command configures proxy rules for SNMP packets.</p>
<p>The <b><span class="cmdname">undo snmp-agent proxy rule</span></b> command deletes proxy rules for SNMP packets.</p>
</p>
<p>By default, no proxy rules are configured for SNMP packets.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000002194483737__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">snmp-agent proxy rule </span></b><i><span class="varname">rule-name</span></i> { <strong><span>read</span></strong> | <strong><span>write</span></strong> | <strong><span>trap</span></strong> } <strong><span>remote-engineid</span></strong> <i><span class="varname">remote-engineid</span></i> <strong><span>target-host</span></strong> <i><span class="varname">target-host-name</span></i> <strong><span>params-in</span></strong> <strong><span>securityname</span></strong> { <i><span class="varname">security-name</span></i> { <strong><span>v1</span></strong> | <strong><span>v2c</span></strong> | <strong><span>v3</span></strong> [ <strong><span>authentication</span></strong> | <strong><span>privacy</span></strong> ] } | <strong><span>cipher</span></strong> <i><span class="varname">cipher-text</span></i> { <strong><span>v1</span></strong> | <strong><span>v2c</span></strong> } }</p>

<p><b><span class="cmdname">snmp-agent proxy rule </span></b><i><span class="varname">rule-name</span></i> <strong><span>inform</span></strong> <strong><span>remote-engineid</span></strong> <i><span class="varname">remote-engineid</span></i> <strong><span>target-host</span></strong> <i><span class="varname">target-host-name</span></i> <strong><span>params-in</span></strong> <strong><span>securityname</span></strong> { <i><span class="varname">security-name</span></i> { <strong><span>v2c</span></strong> | <strong><span>v3</span></strong> [ <strong><span>authentication</span></strong> | <strong><span>privacy</span></strong> ] } | <strong><span>cipher</span></strong> <i><span class="varname">cipher-text</span></i> { <strong><span>v2c</span></strong> } }</p>

<p><b><span class="cmdname">undo snmp-agent proxy rule </span></b><i><span class="varname">rule-name</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000002194483737__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">rule-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a proxy rule for SNMP packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 32 case-sensitive characters, spaces not supported.</p>
<p>The character string can contain spaces if it is enclosed with double quotation marks (").</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>read</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables an NMS to send GetRequest packets to a managed device.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>write</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables an NMS to send SetRequest packets to a managed device.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>trap</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables a managed device to send traps to an NMS.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>remote-engineid</span></strong> <i><span class="varname">remote-engineid</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Binds an SNMP proxy rule to the engine ID of a managed device.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 10 to 64 case-insensitive characters without spaces.</p>
<p>The value is a hexadecimal integer ranging from 0 to F. All 0s or all Fs are invalid.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>target-host</span></strong> <i><span class="varname">target-host-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a target host for receiving SNMP proxy packets.</p>
<p>The target host may be either the managed device or the NMS.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 32 case-sensitive characters, spaces not supported.</p>
<p>The character string can contain spaces if it is enclosed with double quotation marks (").</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>params-in</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the parameters to forward received SNMP messages.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>securityname</span></strong> <i><span class="varname">security-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a security user or community, of which SNMP messages are forwarded.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 32 case-sensitive characters, spaces not supported.</p>
<p>In SNMPv1 or SNMPv2c, the value is set to an SNMP proxy community name. In SNMPv3, the value is set to an SNMP user name.</p>
<p>When quotation marks are used around the string, spaces are allowed in the string.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>v1</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables SNMPv1.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>v2c</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables SNMPv2c.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>v3</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables SNMPv3.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>authentication</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Authenticates SNMPv3 packets without encrypting them.</p>
<p>The authentication function is used to check the integrity and validity of SNMP packets. An authentication password is configured using the snmp-agent usm-user command.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>privacy</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Authenticates and encrypts SNMPv3 packets.</p>
<p>The encryption function is used to protect packet data against theft. The authentication and encryption passwords are configured using the snmp-agent usm-user command.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cipher</span></strong> <i><span class="varname">cipher-text</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a security name in ciphertext. You can type in the plain text or ciphertext, and it is displayed as the ciphertext in the configuration file.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of case-sensitive characters, spaces not supported. A simple text password is a string of 1 to 32 case-sensitive characters. A ciphertext password is a string of 32, 48, 56, 68 or 68 to 168 case-sensitive characters.</p>
<p>When quotation marks are used around the string, spaces are allowed in the string.</p>
<p>Ciphertext passwords with various lengths configured in an earlier version are also supported in the existing version.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>inform</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables a managed device to send informs to an NMS.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000002194483737__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000002194483737__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000002194483737__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>The SNMP proxy and the Cabinet Control Unit (CCU) of a managed device are placed in the same outdoor cabinet. The SNMP proxy enables communication between the NMS and managed device and allows you to manage the configurations and system software version of the managed device. The NMS manages the SNMP proxy and managed device as an independent network element, reducing the number of managed network elements and management costs. The NMS monitors the performance of managed devices in real time, helping to improve service quality. After you run the snmp-agent proxy rule command to configure proxy rules, the SNMP proxy can automatically forward SNMP requests from the NMS to the managed device and forward responses from the managed device to the NMS.</p>
<p><strong>Prerequisites</strong></p>
<p>The proxy rules configured on an SNMP proxy must be unique.</p>
<p><strong>Precautions</strong></p>
<ul><li>If trap or inform is specified, the proxy rule uniquely identifies a target host for receiving notifications.</li><li>If read or write is specified, the proxy rule uniquely identifies a target host for receiving GetRequest or SetRequest PDUs.</li><li>If you specify neither authentication nor privacy, SNMPv3 packets are neither authenticated nor encrypted.</li><li>If the target host specified by the target-host target-host-name parameter does not exist, the proxy rule configured using this command does not take effect.If the security user or community specified by the securityname security-name parameter does not exist, the proxy rule configured using this command does not take effect.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000002194483737__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure a proxy rule for SNMP packets and set the rule name to proxy_rule_write@ccu2, target host name to 10.1.1.1, and remote engine ID to 01120025602101.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>snmp-agent proxy rule proxy_rule_write@ccu2 write remote-engineid 01120025602101 target-host 10.1.1.1 params-in securityname hello v3</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_SNMP_Configuration_Commands_title.html">SNMP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/SNMPPROXYCOMMUNITYCFG(SNMPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SNMPPROXYHOSTCFG(SNMPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>