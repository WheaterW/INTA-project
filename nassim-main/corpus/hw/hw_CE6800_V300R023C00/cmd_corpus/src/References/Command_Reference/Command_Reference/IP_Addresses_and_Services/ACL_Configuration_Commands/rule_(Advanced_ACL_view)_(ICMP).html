
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="rule (Advanced ACL view) (ICMP)">
<meta name="DC.subject" content="rule (Advanced ACL view) (ICMP)">
<meta name="keywords" content="rule (Advanced ACL view) (ICMP)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_ACL_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/RULE-ARP(ACLOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/RULE-IPV4-ADV-TCP(ACLOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="ACL">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="ACL">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="ACL">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Creator" content="SUBSYS_ID_ACLOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907762748">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>rule (Advanced ACL view) (ICMP)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907762748"></a><a name="EN-US_CLIREF_0000001907762748"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">rule (Advanced ACL view) (ICMP)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907762748__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">rule</span></b> command creates or modifies an ACL rule in the advanced ACL view.</p>
<p>The <b><span class="cmdname">undo rule</span></b> command deletes an ACL rule in the advanced ACL view.</p>
</p>
<p>By default, no advanced ACL rule is created.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907762748__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">



<p><b><span class="cmdname">rule </span></b>[ <i><span class="varname">rule-id</span></i> ] [ <strong><span>name</span></strong> <i><span class="varname">rule-name</span></i> ] { <strong><span>permit</span></strong> | <strong><span>deny</span></strong> } { <strong><span>icmp</span></strong> | <i><span class="varname">1</span></i> } [ [ <strong><span>dscp</span></strong> { <i><span class="varname">dscp</span></i> | <strong><span>af11</span></strong> | <strong><span>af12</span></strong> | <strong><span>af13</span></strong> | <strong><span>af21</span></strong> | <strong><span>af22</span></strong> | <strong><span>af23</span></strong> | <strong><span>af31</span></strong> | <strong><span>af32</span></strong> | <strong><span>af33</span></strong> | <strong><span>af41</span></strong> | <strong><span>af42</span></strong> | <strong><span>af43</span></strong> | <strong><span>cs1</span></strong> | <strong><span>cs2</span></strong> | <strong><span>cs3</span></strong> | <strong><span>cs4</span></strong> | <strong><span>cs5</span></strong> | <strong><span>cs6</span></strong> | <strong><span>cs7</span></strong> | <strong><span>default</span></strong> | <strong><span>ef</span></strong> } | [ <strong><span>tos</span></strong> { <i><span class="varname">tos</span></i> | <strong><span>max-reliability</span></strong> | <strong><span>max-throughput</span></strong> | <strong><span>min-delay</span></strong> | <strong><span>min-monetary-cost</span></strong> | <strong><span>normal</span></strong> } | <strong><span>precedence</span></strong> { <i><span class="varname">precedence</span></i> | <strong><span>critical</span></strong> | <strong><span>flash</span></strong> | <strong><span>flash-override</span></strong> | <strong><span>immediate</span></strong> | <strong><span>internet</span></strong> | <strong><span>network</span></strong> | <strong><span>priority</span></strong> | <strong><span>routine</span></strong> } ] <sup>*</sup> ] | { <strong><span>destination</span></strong> { <i><span class="varname">destination-ip-address</span></i> { <i><span class="varname">destination-wildcard</span></i> | <strong><span>0</span></strong> | <i><span class="varname">des-netmask</span></i> } | <strong><span>any</span></strong> } | <strong><span>destination-pool</span></strong> <i><span class="varname">destination-pool-name</span></i> } | <strong><span>fragment-type</span></strong> <strong><span>fragment</span></strong> | <strong><span>icmp-type</span></strong> { <i><span class="varname">icmp-name</span></i> | <i><span class="varname">icmp-type</span></i> [ <i><span class="varname">icmp-code</span></i> ] } | { <strong><span>source</span></strong> { <i><span class="varname">source-ip-address</span></i> { <i><span class="varname">source-wildcard</span></i> | <strong><span>0</span></strong> | <i><span class="varname">src-netmask</span></i> } | <strong><span>any</span></strong> } | <strong><span>source-pool</span></strong> <i><span class="varname">source-pool-name</span></i> } | <strong><span>time-range</span></strong> <i><span class="varname">time-name</span></i> | <strong><span>ttl</span></strong> { { <strong><span>gt</span></strong> | <strong><span>lt</span></strong> | <strong><span>eq</span></strong> | <strong><span>neq</span></strong> } <i><span class="varname">ttl-value</span></i> | <strong><span>range</span></strong> <i><span class="varname">ttl-value</span></i> <i><span class="varname">ttl-value</span></i> } | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> | <strong><span>logging</span></strong> ] <sup>*</sup></p>












<p><b><span class="cmdname">undo rule </span></b>[ <strong><span>name</span></strong> <i><span class="varname">rule-name</span></i> ] { <strong><span>permit</span></strong> | <strong><span>deny</span></strong> } { <strong><span>icmp</span></strong> | <i><span class="varname">1</span></i> } [ [ <strong><span>dscp</span></strong> { <i><span class="varname">dscp</span></i> | <strong><span>af11</span></strong> | <strong><span>af12</span></strong> | <strong><span>af13</span></strong> | <strong><span>af21</span></strong> | <strong><span>af22</span></strong> | <strong><span>af23</span></strong> | <strong><span>af31</span></strong> | <strong><span>af32</span></strong> | <strong><span>af33</span></strong> | <strong><span>af41</span></strong> | <strong><span>af42</span></strong> | <strong><span>af43</span></strong> | <strong><span>cs1</span></strong> | <strong><span>cs2</span></strong> | <strong><span>cs3</span></strong> | <strong><span>cs4</span></strong> | <strong><span>cs5</span></strong> | <strong><span>cs6</span></strong> | <strong><span>cs7</span></strong> | <strong><span>default</span></strong> | <strong><span>ef</span></strong> } | [ <strong><span>tos</span></strong> { <i><span class="varname">tos</span></i> | <strong><span>max-reliability</span></strong> | <strong><span>max-throughput</span></strong> | <strong><span>min-delay</span></strong> | <strong><span>min-monetary-cost</span></strong> | <strong><span>normal</span></strong> } | <strong><span>precedence</span></strong> { <i><span class="varname">precedence</span></i> | <strong><span>critical</span></strong> | <strong><span>flash</span></strong> | <strong><span>flash-override</span></strong> | <strong><span>immediate</span></strong> | <strong><span>internet</span></strong> | <strong><span>network</span></strong> | <strong><span>priority</span></strong> | <strong><span>routine</span></strong> } ] <sup>*</sup> ] | { <strong><span>destination</span></strong> { <i><span class="varname">destination-ip-address</span></i> { <i><span class="varname">destination-wildcard</span></i> | <strong><span>0</span></strong> | <i><span class="varname">des-netmask</span></i> } | <strong><span>any</span></strong> } | <strong><span>destination-pool</span></strong> <i><span class="varname">destination-pool-name</span></i> } | <strong><span>fragment-type</span></strong> <strong><span>fragment</span></strong> | <strong><span>icmp-type</span></strong> { <i><span class="varname">icmp-name</span></i> | <i><span class="varname">icmp-type</span></i> [ <i><span class="varname">icmp-code</span></i> ] } | { <strong><span>source</span></strong> { <i><span class="varname">source-ip-address</span></i> { <i><span class="varname">source-wildcard</span></i> | <strong><span>0</span></strong> | <i><span class="varname">src-netmask</span></i> } | <strong><span>any</span></strong> } | <strong><span>source-pool</span></strong> <i><span class="varname">source-pool-name</span></i> } | <strong><span>time-range</span></strong> <i><span class="varname">time-name</span></i> | <strong><span>ttl</span></strong> { { <strong><span>gt</span></strong> | <strong><span>lt</span></strong> | <strong><span>eq</span></strong> | <strong><span>neq</span></strong> } <i><span class="varname">ttl-value</span></i> | <strong><span>range</span></strong> <i><span class="varname">ttl-value</span></i> <i><span class="varname">ttl-value</span></i> } | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> | <strong><span>logging</span></strong> ] <sup>*</sup></p>









</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907762748__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">rule-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the ID of an advanced ACL rule.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 4294967294.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>name</span></strong> <i><span class="varname">rule-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of an ACL rule.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 32 case-sensitive characters. It cannot contain spaces or begin with an underscore (_).</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>permit</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Permits the packets that match a rule.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>deny</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Denies packets that match conditions.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>icmp</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Internet Control Message Protocol(1).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">1</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the protocol number.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>dscp</span></strong> <i><span class="varname">dscp</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches packets based on the 6-bit DSCP field in an IPv4 packet as defined in standard protocols.<p>DSCP can be used together neither with ToS nor with IP Precedence.</p>
</p>
<p>DSCP is 6-bit, and left bit is high bit, and right bit is low bit. The DSCP equals to 32 in decimal number (100000 in binary number), rather than 1.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 63.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>af11</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches packets based on a DSCP value AF11 DSCP (001010).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>af12</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches packets based on a priority value AF12 DSCP (001100).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>af13</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches packets based on a priority value AF13 DSCP (001110).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>af21</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches packets based on a DSCP value AF21 DSCP (010010).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>af22</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches packets based on a DSCP value AF22 DSCP (010100).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>af23</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches packets based on a DSCP value AF23 DSCP (010110).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>af31</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches packets based on a DSCP value AF31 DSCP (011010).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>af32</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches packets based on a DSCP value AF32 DSCP (011100).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>af33</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches packets based on a DSCP value AF33 DSCP (011110).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>af41</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches packets based on a DSCP value AF41 DSCP (100010).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>af42</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches packets based on a DSCP value AF42 DSCP (100100).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>af43</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches packets based on a DSCP value AF43 DSCP (100110).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cs1</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Class selector 1 service (8).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cs2</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Class selector 2 service (16).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cs3</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Class selector 3 service (24).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cs4</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Class selector 4 service (32).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cs5</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Class selector 5 service (40).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cs6</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Class selector 6 service (48).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cs7</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Class selector 7 service (56).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>default</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches packets based on the 6-bit DSCP field in an IPv4 packet as defined in standard protocols, Default DSCP (000000).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ef</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Expedited forwarding service (46).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>tos</span></strong> <i><span class="varname">tos</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches packets based on the 4-bit ToS field in an IPv4 packet as defined in standard protocols.</p>
<p>The ToS of an advanced ACL refers to the 4-bit ToS field defined in standard protocols. The ToS value is 1000 in binary mode and its decimal value is 8, indicating that all low-delay IPv4 packets are matched.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer in the range 0 to 15.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>max-reliability</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches packets with max reliability TOS (2).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>max-throughput</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches packets with max throughput TOS (4).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>min-delay</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches packets with min delay TOS (8).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>min-monetary-cost</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches packets with min monetary cost TOS (1).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>normal</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches packets with normal TOS (0).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>precedence</span></strong> <i><span class="varname">precedence</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches packets based on the three most significant bits of the ToS field in an IP packet. The Precedence field has three bits. The left bit is the most significant bit, and the right bit is the least significant bit. For the IPv4 packet header, the value of the Precedence field is 100 in binary mode, and its decimal value is 4 instead of 1.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 7.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>critical</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the critical precedence (5).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>flash</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the flash precedence (3).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>flash-override</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the flash-override precedence (4).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>immediate</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the immediate precedence (2).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>internet</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the internetwork control precedence (6).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>network</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the network control precedence (7).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>priority</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the priority of an ACL.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>



<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>routine</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the routine precedence (0).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>destination</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches packets based on destination IP addresses.</p>
<p>If destination is not configured, packets to any destination IP address are matched.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">destination-ip-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a destination IP address.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">destination-wildcard</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the wildcard of a destination IP address. A wildcard mask is a 32-bit number string that indicates which bits of an IP address are checked. Its form is the same as that of an IP address. A source or destination IP address range can be determined by a wildcard mask and an IP address of criteria conditions. If a packet address is within this range, the packet meets the criteria conditions; otherwise, the packet does not. Among bits of wildcard masks, 0 represents "Check corresponding bits" and 1 "Do not check corresponding bits".</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation. The wildcard of the destination IP address can be 0, equivalent to 0.0.0.0, indicating that the destination IP address is a host address.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>0</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the address wildcard 0.0.0.0 (matching a single host).</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">des-netmask</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the mask length of the destination IP address.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 32.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>any</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches packets with any IP address.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>destination-pool</span></strong> <i><span class="varname">destination-pool-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of an ACL destination port pool.</p>
<p>The ACL destination port pool is created using the acl port-pool pool-name command.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 32 case-sensitive characters, spaces not supported.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>fragment-type</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches packets based on the fragment type of the packets.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>fragment</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Checks fragmented packets.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>icmp-type</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches ICMP packets based on the ICMP type and message code.</p>
<p>This parameter is available only when protocol is ICMP. If this parameter is not specified, any types of ICMP packets are matched.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">icmp-type</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an ICMP message type.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is an integer that ranges from 0 to 255.<p>You can run the icmp name? command in the system view or interface view to view the mapping between the ICMP packet name and the values of type and code.</p>
</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">icmp-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an ICMP message name.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">icmp-code</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the code of an ICMP message.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is an integer that ranges from 0 to 255.<p>You can run the icmp name? command in the system view or interface view to view the mapping between the ICMP packet name and the values of type and code.</p>
</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>source</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches packets based on the source IP address.</p>
<p>If no source IP address is specified, packets with any source IP address are matched.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">source-ip-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the source IP address.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">source-wildcard</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the wildcard of a source IP address.</p>
<p>A wildcard mask is a 32-bit number string that indicates which bits of an IP address are checked. Its form is the same as that of an IP address. A source or destination IP address range can be determined by a wildcard mask and an IP address of criteria conditions. If a packet address is within this range, the packet meets the criteria conditions; otherwise, the packet does not. Among bits of wildcard masks, 0 represents "Check corresponding bits", and 1 "Do not check corresponding bits".</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is in dotted decimal notation. The wildcard of the source IP address can be 0, equivalent to 0.0.0.0, indicating that the source IP address is a host address. 192.168.1.16 0.0.0.15 indicates that the IP address ranges from 192.168.1.16 to 192.168.1.31.</p>
<p>The wildcard mask 255.255.255.255 represents all IP addresses. As all bits are 1s, it implies that all 32 bits are not checked. In this case, use "any" to replace the IP addresses. The wildcard mask 0.0.0.0 implies that all 32 bits need to be matched.</p>
<p>The wildcard mask works in a different way from the IP subnet mask. In the subnet mask, 1 and 0 are used to determine the network, subnet, or the IP address of the corresponding host.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">src-netmask</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the mask length of a source IP address.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 32.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>source-pool</span></strong> <i><span class="varname">source-pool-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an advanced ACL source IP address pool.</p>
<p>An ACL IP address pool is created using the acl ip-pool command.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 32 case-sensitive characters, spaces not supported.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>time-range</span></strong> <i><span class="varname">time-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a time range during which an ACL rule takes effect. If the time-range is not configured for ACL, it indicates the ACL takes effect immediately.</p>
<p>A time range is configured using the time-range command.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 32 case-sensitive characters, spaces not supported.</p>
</td>
</tr>


<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ttl</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches packets based on TTL values of packets.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>gt</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that packets with TTL values greater than the specified TTL value are matched.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>lt</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that packets with TTL values less than the specified TTL value are matched.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>eq</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that packets with TTL values equal to the specified TTL value are matched.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>neq</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches the packets whose TTL values are not equal to the specified TTL value.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>range</span></strong> <i><span class="varname">ttl-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches packets based on a specified TTL value.<p>If range is specified for ttl-operation, specify ttl-value twice to specify a range.</p>
</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 255.</p>
</td>
</tr>


<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Matches packets based on a VPN instance name.</p>
<p>The parameter indicates the L3VPN that the traffic belongs to. If the traffic is from L3VPN, this option must be configured in the ACL. If this option is not configured, it indicates the traffic belongs to the public network rather than L3VPN.</p>
<p>This parameter does not take effect in a traffic policy configuration.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 31 case-sensitive characters. It cannot be _public_. If spaces are used, the string must be enclosed in double quotation marks (" ").</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>logging</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Logs matched packets.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>rule</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates an ACL rule.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>














<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>undo</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Cancels the current setting.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907762748__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>Advanced ACL view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907762748__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907762748__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>After an advanced ACL is created, run the <b><span class="cmdname">rule</span></b> command to add rules to the ACL.<p></p>
<span>Advanced ACL rules with the fragment-type can prevent</span> such attacks by permitting only non-fragmented packets.</p>
</p>
<p><strong>Prerequisites</strong></p>
<p><p>An advanced ACL has been created using the <b><span class="cmdname">acl</span></b> command in the system view.</p>
</p>
<p><strong>Configuration Impact</strong></p>
<div class="p"><p>When specifying an ACL rule ID, note the following:</p>

<ul><li>If a rule with a specified rule ID already exists, and the new rule conflicts with the existing one, the conflicting part in the new rule overwrites that in the existing rule.</li><li>If no rule with the specified rule ID exists, a rule with the specified rule ID is created.<p></p>
<span>When an ACL rule ID is not specified and a rule is</span> added, the system automatically allocates an ID to this rule. ACL rules are arranged in ascending order of rule IDs, with the difference between two adjacent rules as an ACL increment.<p></p>
<span>The rule IDs automatically generated by the system</span> start from the ACL increment. For example, if the ACL increment is 5, the rule ID starts from 5; if the ACL increment is 2, the rule ID starts from 2. This allows you to add rules before the first rule.<p></p>
<span>By default</span>, if an ACL is not configured with the fragment-type,</li><li>If only Layer 3 information is configured to the rule, the ACL rules will filter all packets (including the first fragment of a packet, non-first fragments, and non-fragmented packets).</li><li>If both Layer 3 and Layer 4 information is configured to the rule,
<ul><li>The ACL filters the first fragment of a packet and non-fragmented packets, as these packets contain Layer 3 and Layer 4 information.</li><li>Only Layer 3 information about non-first fragments is filtered, as they contain Layer 3 information never Layer 4 information. If Layer 3 information matches the "permit" rule, the non-first fragment is allowed to pass through; if Layer 3 information matches the "deny" rule, continue matching the non-first fragment against the next rule. (Note: this is different to the normal ACL working process.)</li></ul>

</li></ul>
</div>
<p><strong>Precautions</strong></p>
<p><p>If you specify the fragment type of packets as fragment when you configure advanced ACL rules for ICMP, fragment-type and icmp-type cannot be both configured.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907762748__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Create an advanced ACL numbered 3999 and add a rule to ACL 3999 to match packets with the source and destination IP addresses 10.1.1.1 and 10.2.1.1, respectively.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>acl number 3999</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-acl4-advance-3999] <strong>rule 1 permit icmp source 10.1.1.1 0 destination 10.2.1.1 0</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_ACL_Configuration_Commands_title.html">ACL Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/RULE-ARP(ACLOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/RULE-IPV4-ADV-TCP(ACLOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>