
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="vrrp vrid">
<meta name="DC.subject" content="vrrp vrid">
<meta name="keywords" content="vrrp vrid">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_VRRP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/VIPDISABLE(VRRPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/ADMIN-VRRP(VRRPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="High Availability">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="High Availability">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="DC.Creator" content="SUBSYS_ID_VRRPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942846585">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>vrrp vrid</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942846585"></a><a name="EN-US_CLIREF_0000001942846585"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">vrrp vrid</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942846585__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">vrrp vrid</span></b> command configures a VRRP backup group.</p>
<p>The <b><span class="cmdname">undo vrrp vrid</span></b> command deletes a VRRP backup group.</p>
</p>
<p>By default, no VRRP backup group is configured.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942846585__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">vrrp vrid </span></b><i><span class="varname">virtual-router-id</span></i> [ <strong><span>virtual-ip</span></strong> <i><span class="varname">virtual-address</span></i> ]</p>

<p><b><span class="cmdname">undo vrrp vrid </span></b><i><span class="varname">virtual-router-id</span></i> [ <strong><span>virtual-ip</span></strong> <i><span class="varname">virtual-address</span></i> ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942846585__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">virtual-router-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the ID of a VRRP group.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 255.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>virtual-ip</span></strong> <i><span class="varname">virtual-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the virtual IP address of a VRRP backup group. The virtual IP address and the IP address of the interface where the VRRP backup group resides must be on the same network segment.</p>
<p>If the VRRP backup group is an LBRG member group, you do not need to assign a virtual IP address to the VRRP backup group.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942846585__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100GE interface view,</span><span>10GE interface view,</span><span>200GE interface view,</span><span>25GE interface view,</span><span>400GE interface view,</span><span>50GE interface view,</span><span>Eth-Trunk interface view,</span><span>VLANIF interface view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942846585__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942846585__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>A VRRP backup group can be used to implement gateway redundancy without causing networking changes. The VRRP backup group uses the master device to forward traffic along an active link. One virtual IP address serves one separate user group, in which users have the same reliability requirements. This setting helps prevent the default gateway addresses from varying according to location changes of VRRP routers. A maximum of 16 virtual IP addresses can be configured for each VRRP group.<p></p>
<span>A VRRP backup group works in either master</span>/backup or load balancing mode.</p>

<ul><li>In master/backup mode, a single VRRP backup group works and consists of a master device and one or more backup devices. The master and backup devices have different priorities. The master device has the highest priority among all devices in the backup group. If the network is working properly, the master device transmits all services. If the master device fails, a backup device with a higher priority than others takes over traffic.</li><li>In load balancing mode, two or more VRRP backup groups are set up and their master devices forward traffic. These master devices load-balance traffic for various users.<p></p>
<span>If VRRP backup groups need to work in load balancing</span> mode, repeat this step to configure two or more VRRP backup groups on the interface and assign different VRIDs to them. In addition, virtual IP addresses of VRRP backup groups must be different.</li></ul>
<p><strong>Follow-up Procedure</strong></p>
<p>After a VRRP backup group is configured, you can optimize VRRP performance by operations such as changing VRRP packet attributes or the interval at which VRRP packets are sent. This improves VRRP link stability.</p>
<p><strong>Precautions</strong></p>
<p><p>If all virtual IP addresses in a VRRP group are deleted, the system automatically deletes the VRRP group.<p></p>
<span>The VRRP group to be configured as an LBRG must have</span> been assigned a virtual IP address.<p></p>
<span>After this command is run on an interface</span>, when the ARP entries learned by the interface are aged, the device sends ARP aging probe messages with the source IP address being the interface's IP address. The virtual IP address of the interface is not used as the source IP address.<p></p>
<span>A maximum of 16 virtual IP addresses can be configured</span> for each VRID.<p></p>
<span>If multiple vrrp vrid commands are configured in the</span> interface view, the ARP fast reply function does not take effect on the interface.<p></p>
<span>VRRP cannot be configured together with MUX VLAN</span>.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942846585__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure a virtual IP address for an existing VRRP group.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span><span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>vrrp vrid 1 virtual-ip 10.10.10.11</strong>
</pre>
</div>

<div class="p"># Configure a VRRP backup group.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>vrrp vrid 1 virtual-ip 10.10.10.10</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_VRRP_Configuration_Commands_title.html">VRRP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/VIPDISABLE(VRRPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/ADMIN-VRRP(VRRPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>