
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ospf network-type">
<meta name="DC.subject" content="ospf network-type">
<meta name="keywords" content="ospf network-type">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_OSPF_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/OSPF-FRR-BLOCK-MA(OSPFFRROM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IGNORE-P2MP-MASK(OSPFCOMMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_OSPFCOMMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907763248">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ospf network-type</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907763248"></a><a name="EN-US_CLIREF_0000001907763248"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">ospf network-type</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907763248__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">ospf network-type</span></b> command sets the network type for an OSPF interface.</p>
<p>The <b><span class="cmdname">undo ospf network-type</span></b> command restores the default network type.</p>
</p>
<p>By default, the network type of an interface is determined by the physical interface. For details, see "IP Routing" &gt; "OSPF Configuration" &gt; "Configuring OSPF on the NBMA or P2MP Network" &gt; "Configuring Network Types for OSPF Interfaces" in the Configuration Guide.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907763248__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">ospf network-type </span></b>{ <strong><span>broadcast</span></strong> | <strong><span>p2p</span></strong> | <strong><span>p2mp</span></strong> | <strong><span>nbma</span></strong> }</p>

<p><b><span class="cmdname">undo ospf network-type</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907763248__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>broadcast</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the network type of the interface is changed to broadcast.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>p2p</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the network type of the interface is changed to point-to-point.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>p2mp</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the network type of the interface is changed to point-to-multipoint.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>nbma</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the network type of the interface is changed to NBMA.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907763248__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100GE interface view,</span><span>10GE sub-interface view,</span><span>10GE interface view,</span><span>200GE interface view,</span><span>25GE sub-interface view,</span><span>25GE interface view,</span><span>400GE interface view,</span><span>50GE sub-interface view,</span><span>50GE interface view,</span><span>Eth-Trunk interface view,</span><span>Loopback interface view,</span><span>Tunnel interface view,</span><span>VBDIF interface view,</span><span>VLANIF interface view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907763248__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907763248__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>When link layer protocols remain unchanged, you can change network types and configure OSPF features to flexibly build networks.</p>

<ul><li>On the broadcast network, if there is a device that does not support multicast addresses, you can change the network type of the interface to NBMA.</li><li>If the network type of the interface is NBMA which is then changed to broadcast, no neighbors need to be configured.<p></p>
<span>The network type can be changed from NBMA to broadcast</span> only when a direct virtual circuit is available between any two devices (the network must be fully meshed). If the condition is not met, change the network type to point-to-multipoint. In this manner, two indirectly connected devices can communicate with the help of one or two directly connected and reachable devices. After the network type of the interface is changed to point-to-multipoint, no neighbors need to be configured.<p></p>
<span>If there are only two devices that run OSPF in the</span> same network segment, the network type of an interface can be changed to P2P.</li></ul>
<p><strong>Precautions</strong></p>
<div class="p"><ul><li>OSPF does not support the configuration on null interfaces.</li><li>When the network type of an interface is NBMA or the network type of an interface is changed to NBMA manually by using this command, you must run the <b><span class="cmdname">peer</span></b> command to configure the neighbor.</li><li>If the network type of an OSPF interface is NBMA, OSPF does not advertise information about the interface to RSVP-TE. As a result, the TE tunnel that passes through the interface cannot go Up.</li><li>Generally, the network types of OSPF interfaces on both ends of a link must be the same. Otherwise, the two interfaces cannot establish a neighbor relationship.</li><li>The network type of a star topology cannot be set to the P2P type. Otherwise, a deadlock may occur after the Layer 2 link is interrupted and then recovers.</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907763248__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set network type of an interface to NBMA.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span><span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ospf network-type nbma</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_OSPF_Configuration_Commands_title.html">OSPF Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/OSPF-FRR-BLOCK-MA(OSPFFRROM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/IGNORE-P2MP-MASK(OSPFCOMMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>