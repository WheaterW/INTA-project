
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="isis peer hold-max-cost">
<meta name="DC.subject" content="isis peer hold-max-cost">
<meta name="keywords" content="isis peer hold-max-cost">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IS-IS_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/ISIS-PEER-HOLDCOST(ISISCOMMOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/ISIS-PPP-NEGOTIATION(ISISCOMMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IS-IS">
<meta name="featurename" content="IS-ISv6">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="IS-IS">
<meta name="featurename" content="IS-ISv6">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="IS-IS">
<meta name="featurename" content="IS-ISv6">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_ISISCOMMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907605748">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>isis peer hold-max-cost</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907605748"></a><a name="EN-US_CLIREF_0000001907605748"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">isis peer hold-max-cost</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907605748__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">isis peer hold-max-cost</span></b> command sets the maximum holdtime for the largest IS-IS route cost in local Link State PDUs (LSPs).</p>
<p>The <b><span class="cmdname">undo isis peer hold-max-cost</span></b> command restores the default configuration.</p>
</p>
<p>By default, no maximum holdtime is set for the largest IS-IS route cost in local LSPs.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907605748__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">isis peer hold-max-cost timer </span></b><i><span class="varname">timer-val</span></i></p>

<p><b><span class="cmdname">isis process-id </span></b><i><span class="varname">process-id</span></i> <strong><span>peer</span></strong> <strong><span>hold-max-cost</span></strong> <strong><span>timer</span></strong> <i><span class="varname">timer-val</span></i></p>

<p><b><span class="cmdname">undo isis peer hold-max-cost timer </span></b>[ <i><span class="varname">timer-val</span></i> ]</p>

<p><b><span class="cmdname">undo isis process-id </span></b><i><span class="varname">process-id</span></i> <strong><span>peer</span></strong> <strong><span>hold-max-cost</span></strong> <strong><span>timer</span></strong> [ <i><span class="varname">timer-val</span></i> ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907605748__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>process-id</span></strong> <i><span class="varname">process-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the ID of an IS-IS process, which is used in multi-instance process scenarios.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 4294967295.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>timer</span></strong> <i><span class="varname">timer-val</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Sets the maximum holdtime for the largest IS-IS route cost in local LSPs.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 100 to 1000000, in milliseconds.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907605748__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100ge sub-interface view,</span><span>100GE interface view,</span><span>10GE interface view,</span><span>200GE sub-interface view,</span><span>200GE interface view,</span><span>25GE sub-interface view,</span><span>25GE interface view,</span><span>400GE sub-interface view,</span><span>400GE interface view,</span><span>50GE sub-interface view,</span><span>50GE interface view,</span><span>Eth-Trunk sub-interface view,</span><span>Eth-Trunk interface view,</span><span>Tunnel interface view,</span><span>VBDIF interface view,</span><span>VLANIF interface view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907605748__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907605748__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p>When a Down IS-IS interface goes Up, IS-IS neighbor relationships are re-established on the interface, and traffic is switched back to this Up interface after IGP route convergence. IGP route convergence is fast, but many services that depend on IGP routes may not expect such fast traffic switchback. To delay traffic switchback after IGP route convergence, run the <b><span class="cmdname">isis peer hold-max-cost</span></b> command to set the maximum holdtime for the largest IS-IS route cost (16777214 in wide mode and 63 in narrow mode) in local LSPs. In this manner, before the specified maximum holdtime expires, traffic is not switched back to this route due to its large cost. After the specified maximum holdtime expires, the route cost reverts to the original value, and then traffic is switched back to this route.<p></p>
<span>The effective time of the specified maximum holdtime</span> is different for P2P and broadcast neighbors.</p>

<ul><li>For a P2P neighbor, the maximum holdtime takes effect after the neighbor relationship goes Up.</li><li>For a broadcast neighbor, the maximum holdtime takes effect after the neighbor relationship goes Up and then a DIS is elected successfully.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907605748__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the maximum holdtime to 1000 ms for the largest IS-IS route cost in local LSPs on <span>100GE</span><span>1/0/1</span>.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>isis 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-isis-1] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span><span>1/0/1</span></strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>isis enable 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>isis peer hold-max-cost timer 1000</strong>
</pre>
</div>



</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_IS-IS_Configuration_Commands_title.html">IS-IS Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/ISIS-PEER-HOLDCOST(ISISCOMMOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/ISIS-PPP-NEGOTIATION(ISISCOMMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>