
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="set cpu-usage threshold(System view)">
<meta name="DC.subject" content="set cpu-usage threshold(System view)">
<meta name="keywords" content="set cpu-usage threshold(System view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Device_Management_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SETCPURELITHRES(DEBUGOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/OPERIDLIGHT(DRIVER).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Hardware Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Hardware Management">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="Hardware Management">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Creator" content="SUBSYS_ID_SYSDIAG">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000002159122456">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>set cpu-usage threshold(System view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000002159122456"></a><a name="EN-US_CLIREF_0000002159122456"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">set cpu-usage threshold(System view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000002159122456__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">set cpu-usage threshold</span></b> command is used to set the overload threshold, recovery threshold, and overload detection period for board-level CPU usage.</p>
<p>The <b><span class="cmdname">undo set cpu-usage threshold</span></b> command is used to reset the overload threshold, recovery threshold, and overload detection period of the board-level CPU usage.</p>
</p>
<p>By default, the CPU usage monitoring alarm overload threshold is 90%, the monitoring alarm recovery threshold is 75%, and the overload detection cycle is 1 minute.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000002159122456__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">set cpu-usage threshold </span></b><i><span class="varname">thresholdValue</span></i> [ <strong><span>restore</span></strong> <i><span class="varname">restoreValue</span></i> ] [ <strong><span>interval</span></strong> <i><span class="varname">interval-time</span></i> ] [ <strong><span>slot</span></strong> <i><span class="varname">slotId</span></i> [ <strong><span>cpu</span></strong> <i><span class="varname">cpuid</span></i> ] ]</p>

<p><b><span class="cmdname">undo set cpu-usage threshold </span></b>[ <strong><span>slot</span></strong> <i><span class="varname">slotId</span></i> [ <strong><span>cpu</span></strong> <i><span class="varname">cpuid</span></i> ] ]</p>

<p><b><span class="cmdname">undo set cpu-usage threshold </span></b><i><span class="varname">thresholdValue</span></i> <strong><span>restore</span></strong> <i><span class="varname">restoreValue</span></i> <strong><span>interval</span></strong> <i><span class="varname">interval-time</span></i> <strong><span>slot</span></strong> <i><span class="varname">slotId</span></i> <strong><span>cpu</span></strong> <i><span class="varname">cpuid</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000002159122456__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">thresholdValue</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specify the CPU overload threshold.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 4 to 100, default value is 90.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>restore</span></strong> <i><span class="varname">restoreValue</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the CPU restore overload threshold.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to threshold-value - 3, default value is 75.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>interval</span></strong> <i><span class="varname">interval-time</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a CPU overload detection period.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 60, in minutes, default value is 1.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>slot</span></strong> <i><span class="varname">slotId</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an available slot ID.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 49 case-sensitive characters, spaces not supported.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cpu</span></strong> <i><span class="varname">cpuid</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an available CPU ID.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 49 case-sensitive characters, spaces not supported.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000002159122456__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000002159122456__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000002159122456__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>You can use the <b><span class="cmdname">set cpu-usage threshold</span></b> command to set the CPU usage alarm threshold and CPU usage alarm recovery threshold. When CPU usage exceeds the alarm threshold, the system logs the event and generates an alarm. By viewing log information, you can learn about CPU usage. When CPU usage falls within the recovery threshold, the system generates a clear alarm.</p>
<p><strong>Configuration Impact</strong></p>
<p>When the CPU usage reaches the threshold for monitoring alarms, the system triggers monitoring alarms and logs.</p>
<p><strong>Precautions</strong></p>
<p>The default values are recommended for monitoring the alarm threshold and the restore threshold. Otherwise, if the setting is too low, the system will frequently report alarms and logs; if the setting is too high, users will not be able to know the CPU usage in time. Configuration item values support product capability set customization, and default values are not displayed in device prompts.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000002159122456__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the CPU usage overload threshold for all boards to 60%, the de-overload threshold to 50%, and the detection period to 5 minutes.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>set cpu-usage threshold 60 restore 50 interval 5</strong>
</pre>
</div>

<div class="p"># Set the CPU usage threshold of the specified board to 80%.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>set cpu-usage threshold 80 slot <span>1</span> cpu 0</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Device_Management_Commands_title.html">Hardware Management Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/SETCPURELITHRES(DEBUGOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/OPERIDLIGHT(DRIVER).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>