
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="authentication-mode (OSPF area view)">
<meta name="DC.subject" content="authentication-mode (OSPF area view)">
<meta name="keywords" content="authentication-mode (OSPF area view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_OSPF_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/ASBR-SUMMARY-OSPF(OSPFCOMMOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/OSPF-BANDWIDTH-CONFIG(OSPFCOMMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_OSPFCOMMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942842373">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>authentication-mode (OSPF area view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942842373"></a><a name="EN-US_CLIREF_0000001942842373"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">authentication-mode (OSPF area view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942842373__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">authentication-mode</span></b> command configures an authentication mode and a password for an OSPF area.</p>
<p>The <b><span class="cmdname">undo authentication-mode</span></b> command cancels the configuration.</p>
</p>
<p>By default, authentication is not configured for an OSPF area. Configuring authentication is recommended to ensure system security.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942842373__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">authentication-mode simple </span></b>[ <strong><span>plain</span></strong> <i><span class="varname">SPlainText</span></i> | [ <strong><span>cipher</span></strong> ] <i><span class="varname">SCipherText</span></i> ]</p>

<p><b><span class="cmdname">authentication-mode </span></b>{ <strong><span>md5</span></strong> | <strong><span>hmac-md5</span></strong> | <strong><span>hmac-sha256</span></strong> } [ <i><span class="varname">KeyID</span></i> { <strong><span>plain</span></strong> <i><span class="varname">MPlainText</span></i> | [ <strong><span>cipher</span></strong> ] <i><span class="varname">MCipherText</span></i> } ]</p>

<p><b><span class="cmdname">authentication-mode keychain </span></b><i><span class="varname">Keychain-Name</span></i></p>

<p><b><span class="cmdname">undo authentication-mode</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942842373__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>plain</span></strong> <i><span class="varname">SPlainText</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the simple password authentication key. Only a simple password can be entered. The password is displayed in plaintext when you view the configuration file.</p>
<p>Description:</p>
<p>When configuring an authentication password, you are advised to select the ciphertext mode because a simple password is saved in the configuration file in plaintext mode, which has high security risks. To ensure device security, change the password periodically.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><p>The value is a character string.</p>
<ul><li>In simple mode, the value is a string of 1 to 8 characters.</li></ul>
<p>Description:</p>
<p>The value cannot contain question marks (?) or spaces. However, if double quotation marks are used around the password, spaces are allowed in the password. In this case, the double quotation marks are part of the password.</p>
<p>In simple authentication mode, the cipher type is used by default.</p>
</div>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cipher</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the ciphertext mode. You can enter a cleartext or a ciphertext, but the password is displayed in ciphertext in the configuration file.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>By default, cipher takes effect for MD5, HMAC-MD5, or HMAC-SHA256 authentication.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">SCipherText</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a ciphertext password.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><p>The value is a character string.</p>
<ul><li>In simple mode, a simple password is a string of 1 to 8 characters, and a ciphertext password is a string of 24 to 128 characters.</li></ul>
<p>Description:</p>
<p>The value cannot contain question marks (?) or spaces but can contain spaces if surrounded by double quotation marks (""). In this case, the double quotation marks are part of the password.</p>
</div>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>md5</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates MD5 authentication.</p>
<p>For the sake of security, using the HMAC-SHA256 algorithm rather than the MD5 algorithm is recommended.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>hmac-md5</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates HMAC-MD5 authentication.</p>
<p>For the sake of security, using the HMAC-SHA256 algorithm rather than the HMAC-MD5 algorithm is recommended.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>hmac-sha256</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates HMAC SHA256 ciphertext authentication.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">KeyID</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>This object indicates the key ID for ciphertext authentication on an interface. The key ID must be the same as that on the peer end.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 255.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">MPlainText</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a plaintext password.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><p>The value is a character string.</p>
<ul><li>In md5, hmac-md5, or hmac-sha256 mode, the value is a string of 1 to 255 characters.</li></ul>
<p>Description:</p>
<p>The value cannot contain question marks (?) or spaces but can contain spaces if surrounded by double quotation marks (""). In this case, the double quotation marks are part of the password.</p>
</div>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">MCipherText</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a ciphertext password.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><p>The value is a character string.</p>
<ul><li>In md5, hmac-md5, or hmac-sha256 mode, the value is a string of 1 to 255 plaintext characters or a string of 20 to 432 ciphertext characters.</li></ul>
<p>Description:</p>
<p>The value cannot contain question marks (?) or spaces but can contain spaces if surrounded by double quotation marks (""). In this case, the double quotation marks are part of the password.</p>
</div>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>keychain</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the keychain authentication mode.</p>
<p>Before configuring keychain authentication, run the keychain command to create a keychain, the key-id command to configure a key ID, the key-string command to configure a password, and the algorithm command to configure an algorithm. Otherwise, OSPF authentication fails.</p>
<p>Currently, OSPF supports MD5, SHA-1, SHA-256, SM3, HMAC-MD5, HMAC-SHA1-12, HMAC-SHA1-20, HMAC-SHA256, HMAC-SHA384, and HMAC-SHA512 algorithms.</p>
<p>If the dependent keychain is deleted, the neighbor relationship may be interrupted. Therefore, exercise caution when deleting the keychain.</p>
<p>To ensure high security, using the HMAC-SHA256 algorithm instead of the SHA-1 and MD5 algorithms is recommended.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">Keychain-Name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a keychain.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 47 case-insensitive characters.</p>
<p>The value cannot contain question marks (?) and spaces However, when double quotation marks are used around the password, spaces are allowed in the password. In this case, the double quotation marks at both ends of the password are used as a part of the password.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>simple</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Sets the simple authentication mode.</p>
<p>By default, the simple authentication mode is cipher.</p>
<p>To prevent high security risks, you are advised to select the ciphertext mode. To ensure device security, change the password periodically.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942842373__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>OSPF area view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942842373__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942842373__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>OSPF authentication can be configured to improve network security and meet high security demands. When area authentication is used, interfaces on all devices in an area must have the same area authentication mode and the password.</p>
<p><strong>Precautions</strong></p>
<p><p>The priority of area authentication is lower than that of interface authentication. The priority of interface authentication is set using the <b><span class="cmdname">ospf authentication-mode</span></b> command.<p></p>
<span>For security purposes</span>, md5 and hmac-md5 are not recommended. If they must be used, run the <b><span class="cmdname">install feature-software WEAKEA</span></b> command to install the weak security algorithm/protocol feature package WEAKEA first.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942842373__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure HMAC SHA256 authentication for OSPF area 0.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ospf 100</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospf-100] <strong>area 0</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospf-100-area-0.0.0.0] <strong>authentication-mode hmac-sha256 1 cipher YsHsjx_202206</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_OSPF_Configuration_Commands_title.html">OSPF Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/ASBR-SUMMARY-OSPF(OSPFCOMMOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/OSPF-BANDWIDTH-CONFIG(OSPFCOMMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>