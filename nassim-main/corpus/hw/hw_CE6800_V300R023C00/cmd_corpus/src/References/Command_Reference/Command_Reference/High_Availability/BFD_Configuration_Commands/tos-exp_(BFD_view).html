
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="tos-exp (BFD view)">
<meta name="DC.subject" content="tos-exp (BFD view)">
<meta name="keywords" content="tos-exp (BFD view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_BFD_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/TOSEXPSESS(BFDOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/UNDOBFDSESS(BFDOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="BFD">
<meta name="featuretype" content="High Availability">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="BFD">
<meta name="featuretype" content="High Availability">
<meta name="featurename" content="BFD">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="DC.Creator" content="SUBSYS_ID_BFDOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907767304">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>tos-exp (BFD view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907767304"></a><a name="EN-US_CLIREF_0000001907767304"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">tos-exp (BFD view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907767304__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">tos-exp</span></b> command sets priorities of BFD control packets for all dynamic or static BFD sessions.</p>
<p>The <b><span class="cmdname">undo tos-exp</span></b> command restores the default setting.</p>
</p>
<p>By default, the priority is 7, which is the highest priority of BFD control packets.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907767304__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">tos-exp </span></b><i><span class="varname">tos-value</span></i> <strong><span>dynamic</span></strong></p>

<p><b><span class="cmdname">tos-exp </span></b><i><span class="varname">tos-value</span></i> <strong><span>static</span></strong></p>

<p><b><span class="cmdname">undo tos-exp </span></b><i><span class="varname">tos-value</span></i> <strong><span>dynamic</span></strong></p>

<p><b><span class="cmdname">undo tos-exp dynamic</span></b></p>

<p><b><span class="cmdname">undo tos-exp </span></b><i><span class="varname">tos-value</span></i> <strong><span>static</span></strong></p>

<p><b><span class="cmdname">undo tos-exp static</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907767304__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">tos-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Sets the ToS or EXP field. The default value is 7.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 7.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>dynamic</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the priority of BFD control packets for dynamic BFD sessions.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>tos-exp</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a priority for BFD control packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 7.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>static</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the priority of BFD control packets for static BFD sessions.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907767304__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>BFD view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907767304__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907767304__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>Priorities of BFD sessions can be set based on the importance of services bound to BFD sessions. For an important service, run the <b><span class="cmdname">tos-exp</span></b> command to set a high priority for BFD control packets. When the system is congested, BFD control packets with a higher priority are preferentially sent.<p></p>
<span>Changing the priorities of BFD control packets helps</span> check whether BFD control packets with different priorities can be forwarded properly.</p>
<p><strong>Prerequisites</strong></p>
<p>BFD has been globally enabled using the bfd command.</p>
<p><strong>Configuration Impact</strong></p>
<p>Running the tos exp command will change priorities of BFD control packets for BFD sessions. When there are large numbers of BFD sessions, updating the priorities of BFD control packets for all BFD sessions takes time.</p>
<p><strong>Precautions</strong></p>
<div class="p"><ul><li>For static BFD sessions, if the <b><span class="cmdname">tos-exp</span></b> command is run in the BFD session view to set a priority and the <b><span class="cmdname">tos-exp</span></b> command is run in the BFD view to set a priority, the configuration of the <b><span class="cmdname">tos-exp</span></b> command in the BFD session view takes effect.</li><li>For static BFD sessions, if the <b><span class="cmdname">tos-exp</span></b> command is run in the BFD session view to set a priority to 7 (the default value) and the <b><span class="cmdname">tos-exp</span></b> command is run in the BFD view to set a priority to a non-default value, the configuration of the <b><span class="cmdname">tos-exp</span></b> command in the BFD session view takes effect.</li><li>To specify the tos-value parameter in the undo tos-exp dynamic command, the value of the tos-value parameter must be the same as the set priority of BFD control packets. If the value of the tos-value parameter is not specified the same as the set priority, running the undo tos-exp dynamic command fails.</li><li>For dynamic BFD sessions, if a priority value is set for BFD packets of a specific service, this priority takes effect. If such a priority is not set, the priority configured using the <b><span class="cmdname">tos-exp tos-value dynamic</span></b> command takes effect.</li><li>For dynamic BFD sessions, if multiple services share a BFD session and a specific priority value is set for BFD packets of each service, the smallest tos-exp value takes effect.</li><li>When there are large numbers of dynamic BFD sessions, updating the priorities of packets for all dynamic BFD sessions takes time.</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907767304__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the priority of BFD control packets for dynamic BFD sessions to 5 and the priority of BFD control packets for static BFD sessions to 6.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>bfd</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bfd] <strong>tos-exp 5 dynamic</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bfd] <strong>tos-exp 6 static</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_BFD_Configuration_Commands_title.html">BFD Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/TOSEXPSESS(BFDOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/UNDOBFDSESS(BFDOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>