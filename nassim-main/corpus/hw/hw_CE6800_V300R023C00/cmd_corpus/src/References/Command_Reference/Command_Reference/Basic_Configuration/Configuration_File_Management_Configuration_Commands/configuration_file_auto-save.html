
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="configuration file auto-save">
<meta name="DC.subject" content="configuration file auto-save">
<meta name="keywords" content="configuration file auto-save">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Configuration_Management_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/CONFIGLOCKTIMEDC(CFGOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/BACKUPSERVERDC(CFGOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Configuration File Management">
<meta name="featurename" content="FTP">
<meta name="featurename" content="SFTP">
<meta name="featurename" content="SCP">
<meta name="featurename" content="TFTP">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Configuration File Management">
<meta name="featurename" content="FTP">
<meta name="featurename" content="SFTP">
<meta name="featurename" content="SCP">
<meta name="featurename" content="TFTP">
<meta name="featuretype" content="Basic Configuration">
<meta name="featurename" content="Configuration File Management">
<meta name="featurename" content="FTP">
<meta name="featurename" content="SFTP">
<meta name="featurename" content="SCP">
<meta name="featurename" content="TFTP">
<meta name="featuretype" content="Basic Configuration">
<meta name="featuretype" content="Basic Configuration">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Creator" content="SUBSYS_ID_CFGOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000002159122288">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>configuration file auto-save</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000002159122288"></a><a name="EN-US_CLIREF_0000002159122288"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">configuration file auto-save</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000002159122288__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">configuration file auto-save</span></b> command configures the function of saving system configurations periodically.</p>
<p>The <b><span class="cmdname">undo configuration file auto-save</span></b> command cancels the function of saving system configurations periodically.</p>
</p>
<p>By default, the system does not enable the function.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000002159122288__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">configuration file auto-save </span></b>[ <strong><span>interval</span></strong> <i><span class="varname">interval</span></i> | <strong><span>delay</span></strong> <i><span class="varname">delay-interval</span></i> | <strong><span>cpu-limit</span></strong> <i><span class="varname">cpu-usage</span></i> ] <sup>*</sup></p>

<p><b><span class="cmdname">configuration file auto-save </span></b>{ <strong><span>interval</span></strong> | <strong><span>delay</span></strong> | <strong><span>cpu-limit</span></strong> } <strong><span>default</span></strong></p>

<p><b><span class="cmdname">undo configuration file auto-save</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000002159122288__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>interval</span></strong> <i><span class="varname">interval</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the interval at which configurations are saved automatically.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 30 to 43200, in minutes. The default value is 30.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>delay</span></strong> <i><span class="varname">delay-interval</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the delay time for backing up a configuration automatically after the configuration is changed.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 60, in minutes. The default value is 5.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cpu-limit</span></strong> <i><span class="varname">cpu-usage</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the maximum CPU usage.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 100. The default value is 50.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>default</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Restores the default values for the parameters of the automatic save function.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000002159122288__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000002159122288__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000002159122288__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>If the <b><span class="cmdname">configuration file auto-save</span></b> command is not run, the system does not enable the auto-save function. After the function of periodically saving configurations is enabled, if the configuration or configuration file changes, the system saves the configuration. Otherwise, the system does not save the configuration. If the system is configured to periodically save the configuration file to the server, the configuration file is also uploaded to the server.</p>

<ul><li>To specify the interval at which configurations are saved, specify interval.</li><li>cpu-limit: specifies the upper limit of the CPU usage when the system automatically saves the configuration. When the auto-save timer is triggered and the CPU usage of the system is higher than the configured value, the system cancels the auto-save operation. By default, the upper limit of the CPU usage is 50%.</li><li>delay: The system automatically saves the configuration after the specified delay.</li><li>If interval and delay are specified, the configuration saving operation is triggered by the parameter whose configuration time arrives first. When the configuration time of the other parameter arrives, the system checks the configuration again. If no change is found, the system does not save the configuration.<p></p>
<span>The</span> <b><span class="cmdname">undo configuration file auto-save</span></b> command is used to disable the auto-save function.<p></p>
<span>The</span> configuration file auto-save { interval | delay | cpu-limit } default command is used to restore the default values for the parameters of the auto-save function.</li></ul>
<p><strong>Configuration Impact</strong></p>
<p><p>After the autosave function is configured, the system automatically saves configurations to the configuration file used for the next startup when the current running configuration is different from the next startup configuration file and the interval configured in the interval parameter expires, no matter whether the save operation has been manually saved.</p>
</p>
<p><strong>Follow-up Procedure</strong></p>
<p><p>Run the <b><span class="cmdname">display saved-configuration configuration</span></b> command, and view configuration information about the function of saving configurations periodically.</p>
</p>
<p><strong>Precautions</strong></p>
<div class="p"><p>In the following situations, the system cancels the operation of saving configurations periodically:</p>

<ul><li>The configuration file is being written.</li><li>The device is restoring configurations.</li><li>The CPU usage exceeds the configured threshold.</li></ul>

<p>When the configuration file for next startup is specified, automatic saving is disabled and the disabling duration is 30 minutes.<p></p>
<span>When the configuration is changed or the configuration</span> file for next startup is specified, the configuration sequence number is changed and the configuration is automatically saved to the configuration file for next startup.<p></p>
<span>When the automatic saving function is disabled</span>, the configuration file auto-save delay default command cannot be used to enable the automatic saving function.</p>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000002159122288__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure the autosave function, with the delay time for saving configuration change being 3 minutes, the interval for saving configuration change being 10 hours, and the maximum CPU usage being 60%.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>configuration file auto-save interval 600 delay 3 cpu-limit 60</strong>
</pre>
</div>

<div class="p"># Configure the interval at which the system saves new configurations to be 60 minutes.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>configuration file auto-save interval 60</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Configuration_Management_Commands_title.html">Configuration File Management Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/CONFIGLOCKTIMEDC(CFGOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/BACKUPSERVERDC(CFGOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>