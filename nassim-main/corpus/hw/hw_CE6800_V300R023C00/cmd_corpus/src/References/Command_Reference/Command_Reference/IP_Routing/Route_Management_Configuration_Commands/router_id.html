
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="router id">
<meta name="DC.subject" content="router id">
<meta name="keywords" content="router id">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IP_Routing_Basic_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/RTITERARESTRAIN(ROUTEOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/RTLIMITINVPNAF4(ROUTEOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Route Management">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Route Management">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="Route Management">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_L3VPNOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942842313">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>router id</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942842313"></a><a name="EN-US_CLIREF_0000001942842313"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">router id</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942842313__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">router id</span></b> command sets the router ID in the RM module.</p>
<p>The <b><span class="cmdname">undo router id</span></b> command deletes the configured router ID.</p>
</p>
<p>By default, the router ID in the RM module is 0.0.0.0 if no IPv4 interface address is configured for a device.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942842313__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">router id </span></b><i><span class="varname">router-id</span></i></p>

<p><b><span class="cmdname">undo router id</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942842313__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">router-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the router ID in the format of an IPv4 address.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942842313__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942842313__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942842313__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><p>Some dynamic routing protocols, such as OSPF and BGP, require router IDs. If no router ID is specified when these routing protocols are started, the router ID in RM is used by default.<p></p>
<span>The rules for selecting a router ID are as follows</span>:</p>

<ol><li>If the router ID is configured using the <b><span class="cmdname">router id</span></b> command, set the router ID based on the configuration result. If no router ID is configured, the router ID is selected according to the following rules:</li></ol>

<ul><li>If loopback interfaces with IP addresses configured exist, the largest IP address of the loopback interfaces is selected as the router ID.</li><li>If no loopback interface is configured with an IP address, the largest IP address among the IP addresses of other interfaces is selected as the router ID (regardless of the Up/Down status of the interface).</li></ul>

<ol><li>The router ID is reselected only when the IP address of the interface that is selected as the router ID is deleted or changed. The router ID is not reselected in the following cases:</li></ol>

<ul><li>The interface is Down.</li><li>A loopback interface address is configured after a non-loopback interface address is selected.</li><li>A larger interface address is configured.<p></p>
<span>You can run the</span> <b><span class="cmdname">display router id</span></b> command to view the router ID. For a VPN instance, run the display router id vpn-instance &lt;vpn-instance-name&gt; command to check the router ID.</li></ul>

<ol><li>The route ID cannot be manually set in the VPN instance. Instead, the route ID can be selected from the interface addresses of the VPN instance according to the preceding two rules.</li><li>If active and standby s exist, the system backs up the router ID configured using the command and the router ID selected from interface addresses. During the active/standby switchover, the system checks the validity of the router ID selected from the addresses. If the router ID is invalid, the system reselects a router ID.<p></p>
<span>The router ID configured in the protocol view takes</span> precedence over the router ID configured in the system view. A protocol selects the router ID configured in the system view only when the protocol is not configured with its own router ID. If the router ID changes, you need to run the <b><span class="cmdname">reset</span></b> command to obtain the new router ID. For BGP, you need to run the reset bgp all command to obtain a new router ID.</li></ol>
</div>
<p><strong>Precautions</strong></p>
<p><p>If the device is restarted in DB mode, the router ID saved in the DB table before the restart is used. If the device is restarted in CFG mode and the <b><span class="cmdname">router id</span></b> command is not configured on the device, the router ID of the interface that completes configuration restoration the earliest is used as the router ID after the restart.<p></p>
<span>Description</span>:<p></p>
<span>To improve network stability</span>, you are advised to manually configure the IP address of the loopback interface as the router ID.<p></p>
<span>For a BGP public network peer</span>, if the peer exists and neither the BGP router ID nor the router ID in the RM module is configured, when you delete the IP address of the last public network interface, the system may display a message indicating that the router ID will change to 0.0.0.0.<p></p>
<span>If a BGP VPN peer exists and none of the BGP VPN instance</span> router ID, BGP VPN instance address family router ID, BGP router ID, and RM router ID is configured, the system may display a message indicating that the router ID will change to 0.0.0.0 when you delete the IP address of the last VPN interface.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942842313__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the device ID in RM to 10.1.1.1.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>router id 10.1.1.1</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_IP_Routing_Basic_Configuration_Commands_title.html">Route Management Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/RTITERARESTRAIN(ROUTEOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/RTLIMITINVPNAF4(ROUTEOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>