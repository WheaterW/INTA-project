
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="work-mode priority">
<meta name="DC.subject" content="work-mode priority">
<meta name="keywords" content="work-mode priority">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Telemetry_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/TELEMETRY-VIEW(TELEMETRYOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Telemetry">
<meta name="featuretype" content="System Monitoring">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Telemetry">
<meta name="featuretype" content="System Monitoring">
<meta name="featurename" content="Telemetry">
<meta name="featuretype" content="System Monitoring">
<meta name="featuretype" content="System Monitoring">
<meta name="featuretype" content="System Monitoring">
<meta name="DC.Creator" content="SUBSYS_ID_TELEMETRYOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907609160">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>work-mode priority</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907609160"></a><a name="EN-US_CLIREF_0000001907609160"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">work-mode priority</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907609160__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">work-mode priority</span></b> command is used to set the working mode of a destination group to priority.</p>
<p>The <b><span class="cmdname">undo work-mode priority</span></b> command is used to restore the working mode of a destination group to the default value.</p>
</p>
<p>By default, a destination group works in default mode. That is, the device establishes telemetry connections with all IP addresses in the destination group.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907609160__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">work-mode priority</span></b></p>

<p><b><span class="cmdname">undo work-mode priority</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907609160__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
None
</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907609160__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>Destination group view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907609160__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907609160__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>After a destination group is created, you can run this command to set the working mode of the destination group to priority. In priority mode, the device establishes a telemetry connection with only one destination collector in the destination group.<p></p>
<span>If the working mode of a destination group is priority</span>, the device first initiates a telemetry connection with the highest-priority destination collector in the destination group. If the connection fails, the device attempts to establish a telemetry connection with the second-priority destination collector, and so on and so forth. If the current connection is not of the highest priority, the device continuously attempts to establish a telemetry connection with a higher-priority destination collector.<p></p>
<span>You can run the ipv4-address port priority or ipv6</span>-address port priority command to configure the priority of the destination collector. A device establishes a telemetry connection with a destination collector in descending order of priority: high &gt; medium &gt; low. If destination collectors have the same priority, they are first sorted based on the VPN name, then based on IP addresses (in ascending order), and finally based on port numbers (in ascending order).</p>

<ul><li>Priorities of VPN names: A public VPN has a higher priority than a private VPN. The priorities of private VPNs are sorted in the lexicographic order (ASCII code) of VPN names.</li><li>Priorities of IP addresses: An IPv4 address has a higher priority than an IPv6 address. IP addresses of the same type are sorted in ascending order.</li><li>Priorities of port numbers: Port numbers are sorted in ascending order.</li></ul>
<p><strong>Precautions</strong></p>
<ul><li>The device supports a maximum of two destination groups working in priority mode.</li><li>If a destination group has destination IP addresses, you cannot run this command to switch the working mode of the destination group.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907609160__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the working mode of the destination group d1 to priority.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword">HUAWEI</span>] <strong>telemetry</strong>
[<span class="keyword">HUAWEI</span>-telemetry] <strong>destination-group d1</strong>
[<span class="keyword">HUAWEI</span>-telemetry-destination-group-d1] <strong>work-mode priority</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Telemetry_Configuration_Commands_title.html">Telemetry Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/TELEMETRY-VIEW(TELEMETRYOM).html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>