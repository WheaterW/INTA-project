
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="peer-link source ip tcp-port">
<meta name="DC.subject" content="peer-link source ip tcp-port">
<meta name="keywords" content="peer-link source ip tcp-port">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-M-LAG_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/PEER-LINK_MAC-ADDRESS_REMAIN_ENABLE.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/PEER-LINK_SOURCE_IPV6_TCP-PORT.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="M-LAG">
<meta name="featuretype" content="High Availability">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="M-LAG">
<meta name="featuretype" content="High Availability">
<meta name="featurename" content="M-LAG">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="DC.Creator" content="SUBSYS_ID_MCLAG">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907767228">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>peer-link source ip tcp-port</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907767228"></a><a name="EN-US_CLIREF_0000001907767228"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">peer-link source ip tcp-port</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907767228__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">peer-link source ip tcp-port</span></b> command specifies the IP address bound to the TCP channel for M-LAG synchronization packets.</p>
<p>The <b><span class="cmdname">undo peer-link source ip tcp-port</span></b> command cancels the IP address bound to the TCP channel for M-LAG synchronization packets.</p>
</p>
<p>By default, no TCP link channel is configured for M-LAG synchronization packets.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907767228__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">peer-link source ip </span></b><i><span class="varname">ipv4-address1</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpnname</span></i> ] <strong><span>peer</span></strong> <i><span class="varname">ipv4-address2</span></i> <strong><span>tcp-port</span></strong> <i><span class="varname">portnum</span></i></p>

<p><b><span class="cmdname">undo peer-link source ip </span></b><i><span class="varname">ipv4-address1</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpnname</span></i> ] <strong><span>peer</span></strong> <i><span class="varname">ipv4-address2</span></i> <strong><span>tcp-port</span></strong> <i><span class="varname">portnum</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907767228__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">ipv4-address1</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the local IP address bound to M-LAG synchronization packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>vpn-instance</span></strong> <i><span class="varname">vpnname</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the VPN instance name.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 31 case-sensitive characters.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>peer</span></strong> <i><span class="varname">ipv4-address2</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the peer IP address of M-LAG synchronization packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">portnum</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the destination TCP port number of M-LAG synchronization packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 1 to 65535. The port number must not be well-known or used by other modules already.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907767228__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>DFS group view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907767228__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907767228__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>To improve M-LAG synchronization reliability when a device is dual-homed to a common Ethernet, VXLAN, or IP network through an M-LAG, you need to bind the IP addresses and TCP port numbers of the Layer 3 interfaces on the two M-LAG devices to a TCP channel. This is used only for ARP/ND entry synchronization between the two M-LAG devices.</p>
<p><strong>Precautions</strong></p>
<p>Either the peer-link source ip tcp-port or peer-link source ipv6 tcp-port command can be configured. They cannot be configured together. The TCP port number of the local device must be the same as that of the remote device. The IPv4 addresses of the local and remote devices bound to the channel for M-LAG synchronization packets must be different, and cannot be set to non-class A, B, or C addresses or loopback addresses.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907767228__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the source IPv4 address to 10.1.0.3, the peer IPv4 address to 10.1.0.4, and the TCP port number to 2048 for M-LAG synchronization on the peer-link interface.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>dfs-group 1</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-dfs-group-1] <strong>peer-link source ip 10.1.0.3 peer 10.1.0.4 tcp-port 2048</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-M-LAG_Configuration_Commands_title.html">M-LAG Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/PEER-LINK_MAC-ADDRESS_REMAIN_ENABLE.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/PEER-LINK_SOURCE_IPV6_TCP-PORT.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>