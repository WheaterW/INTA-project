
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="asbr-summary">
<meta name="DC.subject" content="asbr-summary">
<meta name="keywords" content="asbr-summary">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_OSPF_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/AREA(OSPFCOMMOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/OSPF-AREA-AUTH(OSPFCOMMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_OSPFCOMMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942842369">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>asbr-summary</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942842369"></a><a name="EN-US_CLIREF_0000001942842369"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">asbr-summary</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942842369__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">asbr-summary</span></b> command configures an AS boundary router (ASBR) to summarize routes imported by OSPF.</p>
<p>The <b><span class="cmdname">undo asbr-summary</span></b> command disables ASBRs from summarizing routes imported by OSPF.</p>
</p>
<p>By default, ASBRs do not summarize routes imported by OSPF.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942842369__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">asbr-summary </span></b><i><span class="varname">ip-address</span></i> <i><span class="varname">mask</span></i> [ [ <strong><span>not-advertise</span></strong> | <strong><span>generate-null0-route</span></strong> ] | <strong><span>tag</span></strong> <i><span class="varname">tag-value</span></i> | <strong><span>cost</span></strong> <i><span class="varname">cost-value</span></i> | <strong><span>distribute-delay</span></strong> <i><span class="varname">interval</span></i> ] <sup>*</sup></p>

<p><b><span class="cmdname">undo asbr-summary </span></b><i><span class="varname">ip-address</span></i> <i><span class="varname">mask</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942842369__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">ip-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the IP address of a summary route.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">mask</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the mask of the IP address of the summary route.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>not-advertise</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Prevents the summary route from being advertised.</p>
<p>If this parameter is not specified, the summary route is advertised.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>generate-null0-route</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Generates a black-hole route in the RM module to prevent routing loops.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>tag</span></strong> <i><span class="varname">tag-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the tag of the summary route.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 4294967295.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cost</span></strong> <i><span class="varname">cost-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the cost of the summary route.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><p>The value is an integer ranging from 0 to 16777214.</p>
<p>By default:</p>
<ul><li>For Type 1 external routes, the largest cost of the routes for summarization is used as the cost of the summary route.</li><li>For Type 2 external routes, the largest cost of the routes for summarization plus 1 is used as the cost of the summary route.</li></ul>
</div>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>distribute-delay</span></strong> <i><span class="varname">interval</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the delay for advertising the summary route.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 65535.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942842369__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>OSPF view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942842369__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942842369__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>When a large-scale OSPF network is deployed, the route search speed may be slowed down because the size of the OSPF routing table is too large. To solve this problem, you can configure route summarization to reduce the size of the routing table and simplify management.<p></p>
<span>Route summarization allows multiple routes with the</span> same IP prefix to be summarized into one route. If a link within the summary IP address range frequently alternates between Up and Down, the change is not advertised to the devices beyond the summary IP address range. This prevents route flapping on the network and improves network stability.<p></p>
<span>If the imported routes have the same prefix</span>, you can run the <b><span class="cmdname">asbr-summary</span></b> command to summarize these routes and advertise them as one summary route. Route summarization reduces the size of a routing table and improves device performance.</p>
<p><strong>Precautions</strong></p>
<ul><li>When there are a large number of summary routes, you can configure the distribute-delay parameter to set the delay for advertising the summary routes. This ensures that the summary routes advertised each time contain more valid routes, preventing inaccurate routing information caused by network flapping.</li><li>Route summarization takes effect only when the imported routes are within the summary network segment configured on the device. If generate-null0-route is specified when route summarization takes effect, a blackhole route is generated, and the blackhole route has a higher priority than the Type 5 and Type 7 LSAs received from other devices.</li><li>After the imported routes are summarized, the following situations occur:</li><li>If the local device is an ASBR in a common area, the local device summarizes all imported Type 5 LSAs within the summarized address range.</li><li>If the local device is an ASBR in an NSSA, the local device summarizes all imported Type 7 LSAs within the summarized address range.</li><li>If the local device functions as both an ASBR and an ABR in an NSSA, the local device summarizes all imported Type 5 and Type 7 LSAs within the summarized address range and also summarizes Type 5 LSAs translated from Type 7 LSAs.</li><li>When a summarized route changes, the cost of the summary LSA may change, triggering route update. In specific scenarios, routing microloops may be triggered, causing temporary service interruptions. To prevent this problem, specify a fixed cost value when configuring summarization.</li><li>The metric type and cost of the LSA generated after route summarization are as follows:</li><li>If the summarized routes have both metric type 1 and metric type 2 or have only metric type 2, the metric type of the LSA generated after summarization is 2. When the cost value is not specified in the command, the cost value is the maximum cost value of the summarized routes with metric type 2 plus 1.</li><li>If the summarized routes have only metric type 1, the metric type of the LSA generated after summarization is 1. If the cost value is not specified in the command, the maximum cost value of the LSA with metric type 1 is used as the cost value.</li><li>If the summarized routes contain both Type 5 routes and the Type 5 routes converted from Type 7 routes, the metric type and cost of the LSA generated after summarization are obtained from the summarized Type 5 LSA.</li><li>If only Type 5 routes converted from Type 7 LSAs exist, the metric type and cost of the summarized LSA are obtained from the Type 5 LSAs converted from the summarized Type 7 LSAs.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942842369__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure route summarization for imported routes.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ospf 100</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospf-100] <strong>asbr-summary 10.2.0.0 255.255.0.0 not-advertise tag 2 cost 100</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_OSPF_Configuration_Commands_title.html">OSPF Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/AREA(OSPFCOMMOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/OSPF-AREA-AUTH(OSPFCOMMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>