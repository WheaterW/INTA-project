
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="match inner-ip">
<meta name="DC.subject" content="match inner-ip">
<meta name="keywords" content="match inner-ip">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-NetStream_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DISPLAY_NETSTREAM_STATISTICS.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/MATCH_IP.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="NetStream">
<meta name="featuretype" content="System Monitoring">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="NetStream">
<meta name="featuretype" content="System Monitoring">
<meta name="featurename" content="NetStream">
<meta name="featuretype" content="System Monitoring">
<meta name="featuretype" content="System Monitoring">
<meta name="featuretype" content="System Monitoring">
<meta name="DC.Creator" content="SUBSYS_ID_NSM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907609056">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>match inner-ip</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907609056"></a><a name="EN-US_CLIREF_0000001907609056"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">match inner-ip</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907609056__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">match inner-ip</span></b> command configures aggregation keywords in a VXLAN flexible flow statistics template.</p>
<p>The <b><span class="cmdname">undo match inner-ip</span></b> command deletes aggregation keywords from a VXLAN flexible flow statistics template.</p>
</p>
<p>By default, no aggregation keyword is configured in a VXLAN flexible flow statistics template.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907609056__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">match inner-ip </span></b>{ <strong><span>destination-address</span></strong> | <strong><span>destination-port</span></strong> | <strong><span>tos</span></strong> | <strong><span>protocol</span></strong> | <strong><span>source-address</span></strong> | <strong><span>source-port</span></strong> | <strong><span>source-mac</span></strong> | <strong><span>destination-mac</span></strong> | <strong><span>cvlan</span></strong> | <strong><span>ethernet-type</span></strong> }</p>

<p><b><span class="cmdname">undo match inner-ip </span></b>{ <strong><span>destination-address</span></strong> | <strong><span>destination-port</span></strong> | <strong><span>tos</span></strong> | <strong><span>protocol</span></strong> | <strong><span>source-address</span></strong> | <strong><span>source-port</span></strong> | <strong><span>source-mac</span></strong> | <strong><span>destination-mac</span></strong> | <strong><span>cvlan</span></strong> | <strong><span>ethernet-type</span></strong> }</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907609056__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>destination-address</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates to aggregate flows based on the destination IP address in original Ethernet frames.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>destination-port</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates to aggregate flows based on the destination port number in original Ethernet frames.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>tos</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates to aggregate flows based on the ToS value in original Ethernet frames.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>protocol</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates to aggregate flows based on the protocol type in original Ethernet frames.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>source-address</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates to aggregate flows based on the source IP address in original Ethernet frames.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>source-port</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates to aggregate flows based on the source port number in original Ethernet frames.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>source-mac</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates to aggregate flows based on the source MAC address in original Ethernet frames.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>destination-mac</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates to aggregate flows based on the destination MAC address in original Ethernet frames.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cvlan</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates to aggregate flows based on the VLAN ID in original Ethernet frames.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ethernet-type</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates to aggregate flows based on the ethernet type in original Ethernet frames.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907609056__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>VXLAN flexible flow statistics template view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907609056__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907609056__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>During exporting of VXLAN flexible flow statistics, you can run the <b><span class="cmdname">match inner-ip</span></b> command to configure aggregation keywords in a flexible flow statistics template. The aggregation keywords refer to the destination IP address, destination port number, ToS, protocol type, source IP address, and source port number in the original Ethernet frames encapsulated in VXLAN packets.</p>
<p><strong>Prerequisites</strong></p>
<p>The netstream record vxlan inner-ip (system view) command has been executed to create a VXLAN flexible flow statistics template.</p>
<p><strong>Precautions</strong></p>
<p>When you run the <b><span class="cmdname">match inner-ip</span></b> command to configure the aggregation keywords, only one keyword can be configured each time. If you run this command multiple times in the same view, a set of aggregation keywords is configured. If a template has been applied to an interface, you cannot modify or delete aggregation keywords from the template.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907609056__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the flexible flow statistics template abc123 to aggregate VXLAN flows based on the source port number.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>netstream record abc123 vxlan inner-ip</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-netstream-record-vxlan-abc123] <strong>match inner-ip source-port</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-NetStream_Configuration_Commands_title.html">NetStream Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DISPLAY_NETSTREAM_STATISTICS.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/MATCH_IP.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>