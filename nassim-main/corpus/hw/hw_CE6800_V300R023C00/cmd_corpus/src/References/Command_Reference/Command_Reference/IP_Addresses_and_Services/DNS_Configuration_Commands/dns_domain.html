
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="dns domain">
<meta name="DC.subject" content="dns domain">
<meta name="keywords" content="dns domain">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-DNS_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DNS_DEBUGGING_FILTER_DOMAIN_IP.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DNS_FORWARD_RETRY-NUMBER.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="DNS">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="DNS">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="DNS">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Creator" content="SUBSYS_ID_ESAP_DNS">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907602760">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>dns domain</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907602760"></a><a name="EN-US_CLIREF_0000001907602760"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">dns domain</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907602760__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">dns domain</span></b> command configures a domain name suffix.</p>
<p>The <b><span class="cmdname">undo dns domain</span></b> command deletes a domain name suffix.</p>
</p>
<p>By default, no domain name suffix is configured.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907602760__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">dns domain </span></b><i><span class="varname">domain-name</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ]</p>


<p><b><span class="cmdname">undo dns domain </span></b>[ <i><span class="varname">domain-name</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] ]</p>


</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907602760__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">domain-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the suffix of a domain name.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 63 case-insensitive characters without spaces. The value can contain digits, letters, underscores (_), hyphens (-), and periods (.).</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of the VPN instance to which the domain name suffix applies.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 31 case-sensitive characters. The VPN instance name cannot be _public_. The character string can contain spaces if it is enclosed with double quotation marks (").</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907602760__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907602760__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907602760__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>The domain name suffixes of some servers or hosts accessed by the DNS client are usually the same. Pre-defining some domain name suffixes allows you to enter only parts of a domain name to be resolved. The system automatically adds a specific suffix to the domain name before resolving the domain name.<p></p>
<span>For instance</span>, if you configure "com" in the suffix list and enter "example" in a domain name query, the system automatically associates "example" with the suffix "com" and searches for "example.com." You may encounter the following situations during a resolution process:</p>

<ul><li>If you enter a domain name without a period (.), such as example, the system considers it as a host name and adds a domain name suffix to the domain name for query. If there is no matched domain name, the system searches for an IP address mapped to "example."</li><li>If you enter a domain name with a dot (.) in the middle, for example, www.example, the system directly uses this domain name for query. If the system does not find a matched entry, it adds every configured suffix to search for an IP address mapped to the domain name.</li><li>If you enter a domain name with a period (.) at the end, for example, example.com., the system removes the period (.) at the end of the domain name and uses the remaining part for query. If the query fails, the system adds suffixes to the domain name for query.<p></p>
<span>Note 1</span>: All the preceding queries (original domain names and changed domain names) are performed locally. If no query result is obtained, the DNS server is queried.<p></p>
<span>Note 2</span>: When the local static domain name configuration is queried, only the original requested domain name is used for query. The domain name suffix or other information is not added for query.</li></ul>
<p><strong>Precautions</strong></p>
<p>The device supports a maximum of 10 domain name suffixes. To configure multiple domain name suffixes, you can run the dns domain command repeatedly.<p></p>
<span>If the name of the suffix to be deleted is specified</span>, the specified suffix is deleted. Otherwise, all the suffixes are deleted.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907602760__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure the domain name suffix com.cn for vpn1.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ip vpn-instance vpn1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-vpn1] <strong>ipv4-family</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-vpn1-af-ipv4] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-vpn1] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>dns domain com.cn vpn-instance vpn1</strong>
</pre>
</div>

<div class="p"># Configure a domain name suffix as com.cn.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>dns domain com.cn</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-DNS_Configuration_Commands_title.html">DNS Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DNS_DEBUGGING_FILTER_DOMAIN_IP.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/DNS_FORWARD_RETRY-NUMBER.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>