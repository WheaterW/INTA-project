
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="snmp-agent inform">
<meta name="DC.subject" content="snmp-agent inform">
<meta name="keywords" content="snmp-agent inform">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_SNMP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SNMPGROUP(SNMPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/INFORMGBL(SNMPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Creator" content="SUBSYS_ID_SNMPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000002159122596">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>snmp-agent inform</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000002159122596"></a><a name="EN-US_CLIREF_0000002159122596"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">snmp-agent inform</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000002159122596__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">snmp-agent inform address</span></b> command sets parameters for sending Inform messages. The parameters include the timeout period for waiting for Inform ACK messages from the NMS and the number of attempts to retransmit an Inform message.</p>
<p>The <b><span class="cmdname">undo snmp-agent inform address</span></b> command restores the default settings for a particular inform host.</p>
</p>
<p>By default, the timeout waiting period for Inform ACK messages is 15 seconds, and the number of attempts to retransmit an Inform message is 3.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000002159122596__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">snmp-agent inform </span></b>{ <strong><span>timeout</span></strong> <i><span class="varname">seconds</span></i> | <strong><span>resend-times</span></strong> <i><span class="varname">times</span></i> } <sup>*</sup> { <strong><span>host-name</span></strong> <i><span class="varname">target-host-name</span></i> | { <strong><span>address</span></strong> <strong><span>udp-domain</span></strong> <i><span class="varname">ip-address</span></i> | <strong><span>ipv6</span></strong> <strong><span>address</span></strong> <strong><span>udp-domain</span></strong> <i><span class="varname">ipv6-address</span></i> } [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] <strong><span>params</span></strong> <strong><span>securityname</span></strong> { <i><span class="varname">security-name</span></i> | <strong><span>cipher</span></strong> <i><span class="varname">security-name-cipher</span></i> } }</p>

<p><b><span class="cmdname">undo snmp-agent inform </span></b>{ <strong><span>timeout</span></strong> [ <i><span class="varname">seconds</span></i> ] | <strong><span>resend-times</span></strong> [ <i><span class="varname">times</span></i> ] } <sup>*</sup> { <strong><span>host-name</span></strong> <i><span class="varname">target-host-name</span></i> | { <strong><span>address</span></strong> <strong><span>udp-domain</span></strong> <i><span class="varname">ip-address</span></i> | <strong><span>ipv6</span></strong> <strong><span>address</span></strong> <strong><span>udp-domain</span></strong> <i><span class="varname">ipv6-address</span></i> } [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] <strong><span>params</span></strong> <strong><span>securityname</span></strong> { <i><span class="varname">security-name</span></i> | <strong><span>cipher</span></strong> <i><span class="varname">security-name-cipher</span></i> } }</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000002159122596__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>timeout</span></strong> <i><span class="varname">seconds</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specified the timeout period for waiting for Inform ACK messages from the NMS.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 1800, in seconds. The default value is 15, which is equal to the global timeout period configured using the snmp-agent inform command.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>resend-times</span></strong> <i><span class="varname">times</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the maximum number of attempts to retransmit an Inform message if no Inform ACK message is returned by the NMS.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 10. The default value is 3, which is equal to the global retransmission times configured using the snmp-agent inform command.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>host-name</span></strong> <i><span class="varname">target-host-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an SNMP target host name.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 32 case-sensitive characters, spaces not supported.</p>
<p>The character string can contain spaces if it is enclosed with double quotation marks (").</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>address</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the IP address of a target host for receiving SNMP trap messages.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The IP address specified using address and the security name specified using securityname together identify a host.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>udp-domain</span></strong> <i><span class="varname">ipv6-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the IP address of the IPv6 target host and the UDP protocol for the transmission domain.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a 32-bit hexadecimal string in format X:X:X:X:X:X:X:X.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>udp-domain</span></strong> <i><span class="varname">ip-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the IP address of a specified target host within a UDP transmission domain.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation. The value must be a valid unicast address.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ipv6</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the type of the IPv6 target host for SNMP message transmission.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a VPN instance.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 31 case-sensitive characters, spaces not supported. In addition, the VPN instance name must not be _public_. When double quotation marks are used around the string, spaces are allowed in the string.</p>
<p>The parameter vpn-instance is optional. On a VPN network, use the VPN instance specified using vpn-instance, IP address, and security name together to identify a target host.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>params</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates information about a target host that generates SNMP notifications.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>securityname</span></strong> <i><span class="varname">security-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Displays the name of a target host for receiving Inform messages on the NMS.</p>
<p>For SNMPv3, securityname must be set to a user name. securityname configured on the host must be the same as that configured on the NMS, or the NMS cannot receive the trap messages sent by the host.</p>
<p>For SNMPv1 and SNMPv2c, the NMS can receive trap messages from all hosts without having securityname configured. securityname is used to distinguish multiple hosts that generate trap messages.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 32 case-sensitive characters, spaces not supported.</p>
<p>When quotation marks are used around the string, spaces are allowed in the string.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cipher</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the password in ciphertext. The simple password or the ciphertext password can be entered. The password in the configuration file is displayed in ciphertext.</p>
<p>If you do not specify the keyword, enter the simple password only.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of case-sensitive characters, spaces not supported. A simple text password is a string of 1 to 32 case-sensitive characters. A ciphertext password is a string of 32, 48, 56 or from 68 to 168 case-sensitive characters.</p>
<p>When quotation marks are used around the string, spaces are allowed in the string.</p>
<p>Ciphertext passwords with various lengths configured in an earlier version are also supported in the existing version.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cipher</span></strong> <i><span class="varname">security-name-cipher</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a ciphertext security name.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 168 case-sensitive characters without spaces.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000002159122596__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000002159122596__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000002159122596__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>You can run the <b><span class="cmdname">snmp-agent inform address</span></b> command to set the parameters of the Inform mode for the target host. The timeout and resend-times parameters take precedence over the two parameters set by the <b><span class="cmdname">snmp-agent inform</span></b> command. If the <b><span class="cmdname">snmp-agent inform address</span></b> command is run on the target host after the global Inform parameters are configured, only the parameter configured using the <b><span class="cmdname">snmp-agent inform address</span></b> command takes effect.<p></p>
<span>You can use both the</span> <b><span class="cmdname">snmp-agent inform address</span></b> command and the <b><span class="cmdname">snmp-agent inform</span></b> command to set parameters based on network conditions.</p>

<ul><li>When a large number of Inform messages are lost on the network, you are advised to increase the queue length. You are advised to run the snmp-agent inform pending <em>number</em>command globally, and then run the <b><span class="cmdname">snmp-agent inform address</span></b> command to specify the destination address and the user name to be displayed.</li><li>If the network transmission speed is low, you are advised to increase the timeout period. Increasing the timeout period will increase the waiting time of Inform messages in the message queue for confirmation. You are advised to run the snmp-agent inform { timeout <em>seconds</em>| pending <em>number</em>} * command globally and then run the <b><span class="cmdname">snmp-agent inform address</span></b> command to specify the destination address and user name to be displayed.</li><li>If the network transmission speed is high, you are advised to reduce the timeout period. You are advised to run the snmp-agent inform timeout address udp-domain params securityname or <b><span class="cmdname">snmp-agent inform timeout ipv6 address udp-domain params securityname</span></b> command.</li><li>If Inform messages are transmitted on an unreliable network, you are advised to increase the number of retransmission times. In this case, the Inform messages in the message queue need to wait for a longer time to be confirmed. You are advised to run the snmp-agent inform { resend-times <em>times</em>| pending <em>number</em>} * command and then run the <b><span class="cmdname">snmp-agent inform address</span></b> command to specify the destination address and user name to be displayed.</li><li>When the timeout and resend-times parameters of the target host are configured using parameters such as address, the parameters are converted to the host name of the corresponding host in the configuration file.</li></ul>
<p><strong>Prerequisites</strong></p>
<p>Parameters for sending Inform messages take effect only after the IP address of the target host for receiving Inform messages is configured using the <b><span class="cmdname">snmp-agent target-host inform</span></b> command.<p></p>
<span>The IP address of the target host for receiving Inform</span> messages has been configured using the <b><span class="cmdname">snmp-agent target-host inform</span></b> command.</p>
<p><strong>Precautions</strong></p>
<p>You must set the parameters timeout and resend-times based on network conditions. Setting an inappropriate parameter deteriorates the transmission efficiency of SNMP messages. If the parameters timeout and resend-times are already configured globally using the <b><span class="cmdname">snmp-agent inform</span></b> command, after the <b><span class="cmdname">snmp-agent inform address</span></b> command is run on a specified target host, the earlier configuration is overwritten.<p></p>
<span>Note</span>:<p></p>
<span>Only parameters for sending Inform messages need to</span> be configured using the <b><span class="cmdname">snmp-agent inform address</span></b> command. Parameters for sending trap messages do not need to be configured.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000002159122596__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the maximum number of attempts 10 to retransmit an Inform message to a target host with the IP address of 10.1.1.1 and the security name of ABC.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>snmp-agent inform resend-times 10 address udp-domain 10.1.1.1 params securityname ABC</strong>
</pre>
</div>

<div class="p"># Set the maximum number of attempts 10 to retransmit an Inform message to a target host.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>snmp-agent inform resend-times 10</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_SNMP_Configuration_Commands_title.html">SNMP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/SNMPGROUP(SNMPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/INFORMGBL(SNMPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>