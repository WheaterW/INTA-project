
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="route loop-detect isis enable">
<meta name="DC.subject" content="route loop-detect isis enable">
<meta name="keywords" content="route loop-detect isis enable">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IS-IS_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/LINK-GROUP-RELATE-CMD_1(ISISCOMMOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SET-OVERLOAD(ISISCOMMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IS-IS">
<meta name="featurename" content="IS-ISv6">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="IS-IS">
<meta name="featurename" content="IS-ISv6">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="IS-IS">
<meta name="featurename" content="IS-ISv6">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_ISISCOMMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907765724">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>route loop-detect isis enable</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907765724"></a><a name="EN-US_CLIREF_0000001907765724"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">route loop-detect isis enable</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907765724__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">route loop-detect isis enable</span></b> command enables loop detection for routes imported into IS-IS.</p>
<p>The <b><span class="cmdname">undo route loop-detect isis enable</span></b> command disables loop detection for routes imported into IS-IS.</p>
</p>
<p>By default, loop detection is disabled for  the routes imported into IS-IS.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907765724__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">route loop-detect isis enable</span></b></p>

<p><b><span class="cmdname">undo route loop-detect isis enable</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907765724__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
None
</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907765724__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907765724__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907765724__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>When an IS-IS process imports routes, routing loops may occur. To enable routing loop detection for routes imported into IS-IS, run the <b><span class="cmdname">route loop-detect isis enable</span></b> command. When a device detects that it has imported a route advertised by itself, the device advertises a large link cost for the route so that other devices can preferentially select another path after learning the route. This prevents routing loops.</p>
<p><strong>Precautions</strong></p>
<ul><li>Before enabling loop detection, check whether non-Huawei devices exist on the network and ensure that IS-IS services are not affected when non-Huawei devices receive LSPs and private TLVs advertised by IS-IS.</li></ul>

<ol><li>If the non-Huawei device cannot identify the TLV or sub-TLV carried in the packet, ensure that the non-Huawei device ignores the TLV or sub-TLV without affecting the processing of other TLVs.</li><li>If the non-Huawei device uses the same private TLV type and the TLV values of the two functions conflict, do not configure this function.</li></ol>

<ul><li>After a routing loop is removed, the device cannot automatically exit the routing loop state or clear the alarm. Manual intervention is required. For example, after a route-policy or route tag is correctly configured, run the <b><span class="cmdname">clear route loop-detect isis alarm-state</span></b> command to exit the loop state and clear the alarm.</li><li>A single process supports loop detection for a maximum of 2000 imported routes. When the number of imported routes exceeds 2000, loop detection is automatically disabled. The system checks the number of imported routes in the early morning every day. If the number of imported routes is less than 2000, the system automatically restores the loop detection function.</li><li>Summary routes and default routes do not support loop detection.</li><li>Routing loop detection is supported in the scenario where two IS-IS domains import routes from each other. If there are more than two IS-IS domains, loops cannot be detected.</li><li>After a loop is detected during route import between IS-IS processes, if the original route is withdrawn, a loop occurs. IS-IS reports a loop alarm, but the loop cannot be removed. Manual intervention is required.</li><li>If the system IDs of the devices configured with IS-IS route import conflict in two IS-IS domains, a false loop detection error may occur.</li><li>When a large cost is advertised due to detection of a loop, the <b><span class="cmdname">apply cost</span></b> command no longer takes effect.</li><li>The IS-IS process that imports routes also calculates routes with the same prefix. If these routes and the routes imported to IS-IS work in load balancing mode across processes, loops cannot be detected.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907765724__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable loop detection.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>route loop-detect isis enable</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_IS-IS_Configuration_Commands_title.html">IS-IS Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/LINK-GROUP-RELATE-CMD_1(ISISCOMMOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SET-OVERLOAD(ISISCOMMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>