
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="load-balance instance slave">
<meta name="DC.subject" content="load-balance instance slave">
<meta name="keywords" content="load-balance instance slave">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Smart_Link_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/FLUSHSEND(SMLKOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/ADDPORT(SMLKOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Smart Link">
<meta name="featuretype" content="High Availability">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Smart Link">
<meta name="featuretype" content="High Availability">
<meta name="featurename" content="Smart Link">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="DC.Creator" content="SUBSYS_ID_SMLKOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907767444">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>load-balance instance slave</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907767444"></a><a name="EN-US_CLIREF_0000001907767444"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">load-balance instance slave</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907767444__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">load-balance instance slave</span></b> command configures a load balancing instance for a Smart Link group.</p>
<p>The <b><span class="cmdname">undo load-balance instance slave</span></b> command deletes a load balancing instance from a Smart Link group.</p>
</p>
<p>By default, no load-balancing instance is configured.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6820H, CE6820H-K and CE6820S.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907767444__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">load-balance instance </span></b>{ <i><span class="varname">instance-id1</span></i> [ <strong><span>to</span></strong> <i><span class="varname">instance-id2</span></i> ] } &amp;&lt;1-10&gt; <strong><span>slave</span></strong></p>

<p><b><span class="cmdname">undo load-balance instance </span></b>{ <strong><span>all</span></strong> | { <i><span class="varname">instance-id1</span></i> [ <strong><span>to</span></strong> <i><span class="varname">instance-id2</span></i> ] } &amp;&lt;1-10&gt; [ <strong><span>slave</span></strong> ] }</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907767444__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">instance-id1</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the first ID of a Smart Link load-balancing instance.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 48.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>to</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the range.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">instance-id2</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the last ID of a Smart Link load-balancing instance.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is an integer ranging from 0 to 48.</p>
<p>The value of &lt;instance-id2&gt; must be greater than the value of &lt;instance-id1&gt;. &lt;instance-id2&gt; and &lt;instance-id1&gt; specify a range of VLANs. If to &lt;instance-id2&gt; is not specified, only the load balancing instance specified by &lt;instance-id1&gt; is specified.</p>
<p>In one load-balance instance command, a maximum of 10 instance ranges can be specified using to.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>slave</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies that packets from the Smart Link load-balancing instance are sent through the slave interface.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>all</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Deletes all Smart Link load-balancing instance IDs.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907767444__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>Smart Link group view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907767444__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907767444__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<ul><li>If Smart Link load balancing is not configured in a Smart Link group, the primary link forwards traffic, and the secondary link is idle in most cases.</li><li>To improve link utilization, you can configure Smart Link load balancing. When the primary and secondary links in a Smart Link are both Up, traffic from the VLANs bound to a specified MSTI is forwarded only along the secondary link, and traffic from other VLANs is forwarded along the primary link. This configuration achieves load balancing between the primary and secondary links.</li><li>Smart Link uses MSTIs. An MSTI is bound to multiple VLANs, but a VLAN can be bound to only one MSTI. MSTIs are bound to the secondary link in a Smart Link group to implement load balancing.</li></ul>
<p><strong>Prerequisites</strong></p>
<p>A Smart Link group has been created using the <b><span class="cmdname">smart-link group</span></b> command, and mappings between VLANs and an MSTI have been configured using the <b><span class="cmdname">instance</span></b> command in the MST domain view or VLAN instance view.</p>
<p><strong>Configuration Impact</strong></p>
<p>If the load-balance <b><span class="cmdname">instance</span></b> command is run more than once, all configurations take effect.</p>
<p><strong>Follow-up Procedure</strong></p>
<p>Run the <b><span class="cmdname">display smart-link group</span></b> command to view the load balancing mode in the Smart Link group.</p>
<p><strong>Precautions</strong></p>
<p>A VLAN that is bound to a load-balancing instance cannot be configured as the control VLAN of sent Flush packets.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907767444__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure load balancing for Smart Link group 3 and bind MSTI 1 to the secondary link so that traffic from VLANs bound to MSTI 1 is forwarded along the secondary link.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>stp region-configuration</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-mst-region] <strong>instance 1 vlan 10</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-mst-region] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>smart-link group 3</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-smlk-group3] <strong>load-balance instance 1 slave</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Smart_Link_Configuration_Commands_title.html">Smart Link Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/FLUSHSEND(SMLKOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/ADDPORT(SMLKOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>