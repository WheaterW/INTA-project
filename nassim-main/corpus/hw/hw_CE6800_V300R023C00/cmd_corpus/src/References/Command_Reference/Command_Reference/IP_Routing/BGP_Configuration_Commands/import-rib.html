
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="import-rib">
<meta name="DC.subject" content="import-rib">
<meta name="keywords" content="import-rib">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_BGP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/VRF6-IBGP-INTERFACE-SENSITIVE(BGPVPNBASE).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IMPORT-RIB-VRF-ROUTE(BGPUCASTVPNOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_BGPVPNBASE">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907603892">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>import-rib</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907603892"></a><a name="EN-US_CLIREF_0000001907603892"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">import-rib</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907603892__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">import-rib</span></b> command imports public network BGP routes or BGP routes in a specified VPN instance into a BGP-VPN instance routing table.</p>
<p>The <b><span class="cmdname">undo import-rib</span></b> command cancels the configuration of importing public network BGP routes or BGP routes in a specified VPN instance into a BGP-VPN instance routing table.</p>
</p>
<p>By default, a device does not import public network BGP routes or BGP routes in a VPN instance into a BGP-VPN instance routing table.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907603892__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">import-rib </span></b>{ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> } [ <strong><span>valid-route</span></strong> ] [ <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> ]</p>

<p><b><span class="cmdname">undo import-rib </span></b>{ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> } [ <strong><span>valid-route</span></strong> ] [ <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907603892__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a VPN instance.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 31 case-sensitive characters. It cannot contain spaces. The VPN instance name cannot be _public_. If the character string is quoted by double quotation marks, the character string can contain spaces.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>valid-route</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Imports valid routes of a specified type. Valid routes include optimal routes, routes for load balancing, FRR routes, and reachable routes that are not selected for packet forwarding. If this parameter is not specified, only optimal routes, load balancing routes, and FRR routes can be imported.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a route-filter.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 200 case-sensitive characters, spaces not supported. When double quotation marks are used around the string, spaces are allowed in the string. If parameters are included in the referenced route-filter, specify values for them in the format of (var1, var2, ...var8) behind the route-filter name. Each value ranges from 1 to 200 characters.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907603892__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>BGP multi-instance VPN instance IPv6 address family view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907603892__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907603892__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>To configure a device to import public network BGP routes into a BGP-VPN instance IPv6 routing table, run the <b><span class="cmdname">import-rib public</span></b> command in the BGP-VPN instance IPv6 address family view.<p></p>
<span>To configure a device to import BGP routes from a</span> specified VPN instance into a BGP-VPN instance IPv6 routing table, run the <b><span class="cmdname">import-rib vpn-instance</span></b> command in the BGP-VPN instance IPv6 address family view.</p>
<p><strong>Precautions</strong></p>
<p>If the source of the invalid routes imported using the <b><span class="cmdname">import-rib</span></b> command matches the instance and address family in which the <b><span class="cmdname">routing-table rib-only</span></b> command is run, the import-rib and <b><span class="cmdname">routing-table rib-only</span></b> commands are mutually exclusive.<p></p>
<span>If route-policy-name is specified in the command</span>, the if-match interface or if-match route-type command configured in the route-policy does not take effect.<p></p>
<span>The</span> <b><span class="cmdname">import-rib</span></b> command does not take effect for non-labeled routes that are locally or remotely imported. This configuration also does not apply to the routes imported using the import-route or network command.<p></p>
<span>Route import between VPN and public network instances</span> may cause BGP routing loops.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907603892__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure a device to import BGP routes from a vpn network to a specified VPN instance's BGP routing table.<pre class="screen">&lt;pe&gt; <strong>system-view</strong>
[<font style="font-size:8pt" Face="Courier New" >~</font>pe] <strong>ip vpn-instance vpna</strong>
[*pe-vpn-instance-vpna] <strong>ipv6-family</strong>
[*pe-vpn-instance-vpna-af-ipv6] <strong>quit</strong>
[*pe-vpn-instance-vpna] <strong>quit</strong>
[*pe] <strong>ip vpn-instance vpnb</strong>
[*pe-vpn-instance-vpnb] <strong>ipv6-family</strong>
[*pe-vpn-instance-vpnb-af-ipv6] <strong>quit</strong>
[*pe-vpn-instance-vpnb] <strong>quit</strong>
[*pe] <strong>bgp 100 instance a</strong>
[*pe-bgp-instance-a] <strong>ipv6-family vpn-instance vpna</strong>
[*pe-bgp-instance-a-6-vpna] <strong>import-rib vpn-instance vpnb valid-route</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_BGP_Configuration_Commands_title.html">BGP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/VRF6-IBGP-INTERFACE-SENSITIVE(BGPVPNBASE).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/IMPORT-RIB-VRF-ROUTE(BGPUCASTVPNOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>