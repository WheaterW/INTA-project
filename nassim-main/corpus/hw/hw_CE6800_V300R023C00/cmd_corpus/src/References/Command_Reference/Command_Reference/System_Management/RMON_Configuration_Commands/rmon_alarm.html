
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="rmon alarm">
<meta name="DC.subject" content="rmon alarm">
<meta name="keywords" content="rmon alarm">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_RMON_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DISPLAYRMONETHSTATS(RMONOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SETRMONEVENT(RMONOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="RMON">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="RMON">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="RMON">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Creator" content="SUBSYS_ID_RMONOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907760964">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>rmon alarm</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907760964"></a><a name="EN-US_CLIREF_0000001907760964"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">rmon alarm</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907760964__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">rmon alarm</span></b> command configures RMON threshold alarm function.</p>
<p>The <b><span class="cmdname">undo rmon alarm</span></b> command disables RMON threshold alarm function.</p>
</p>
<p>By default, the RMON threshold alarm function is disabled.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907760964__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">rmon alarm </span></b><i><span class="varname">entry-number</span></i> <i><span class="varname">alarm-OID</span></i> <i><span class="varname">sampling-time</span></i> { <strong><span>delta</span></strong> | <strong><span>absolute</span></strong> | <strong><span>changeratio</span></strong> } <strong><span>rising-threshold</span></strong> <i><span class="varname">threshold-value1</span></i> <i><span class="varname">event-entry1</span></i> <strong><span>falling-threshold</span></strong> <i><span class="varname">threshold-value2</span></i> <i><span class="varname">event-entry2</span></i> [ <strong><span>startup-alarm</span></strong> { <strong><span>falling</span></strong> | <strong><span>rising</span></strong> | <strong><span>risingorfalling</span></strong> } ] [ <strong><span>owner</span></strong> <i><span class="varname">owner-name</span></i> ]</p>

<p><b><span class="cmdname">undo rmon alarm </span></b><i><span class="varname">entry-number</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907760964__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">entry-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the index number of an alarm MIB entry.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 65535.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">alarm-OID</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the OID of a monitored object.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The name is a string of 1 to 256 case-sensitive characters, spaces not supported.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">sampling-time</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the sampling interval.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 5 to 65535, in seconds.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>delta</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Sets the sampling type to the delta value. Specifically, the delta value of the variable in the sampling interval is extracted when the sampling time expires.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>absolute</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the sampling type as absolute. Specifically, the variable value is directly extracted once when the sampling time expires.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>changeratio</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Sets the sampling type to the changing ratio. Specifically, the ratio of the delta value to the sampling interval is extracted when the sampling time expires.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>rising-threshold</span></strong> <i><span class="varname">threshold-value1</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an upper threshold for the sampled value.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from -2147483648 to 2147483647.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">event-entry1</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the event index number mapped to the upper threshold.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 65535.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>falling-threshold</span></strong> <i><span class="varname">threshold-value2</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a lower threshold for the sampled value.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from -2147483648 to 2147483647.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">event-entry2</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the event index number mapped to the lower threshold.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 65535.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>startup-alarm</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the type of alarm generated when a valid alarm table was sampled for the first time.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>falling</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the lower-threshold-related alarm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>rising</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the upper-threshold-related alarm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>risingorfalling</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the upper- or lower-threshold-related alarm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>owner</span></strong> <i><span class="varname">owner-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the owner creating the alarm function.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The name is a string of 1 to 127 case-sensitive characters, spaces not supported.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907760964__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907760964__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907760964__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>To configure the RMON threshold alarm function to monitor key states during system operating, run the rmon alarm command. After the RMON threshold alarm function is configured, the system will obtain the value of a monitored alarm object based on the defined interval and trigger corresponding events after performing comparison between this value and the specified threshold. A log is recorded or trap messages are sent to the NMS.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907760964__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Monitor the alarm threshold of linkdown (1.3.6.1.6.3.1.1.5.3) and sample the absolute value with an interval of 30 seconds. When the sampled value is greater than or equal to the upper threshold 500, event 1 is triggered. When the sampled value is less than or equal to the lower threshold 100, event 2 is triggered. The creator parameter indicates the owner that creates the event.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>rmon event 1 trap public</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>rmon event 2 trap public</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>rmon alarm 1 1.3.6.1.6.3.1.1.5.3 30 absolute rising-threshold 500 1 falling-threshold 100 2 owner creator</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_RMON_Configuration_Commands_title.html">RMON Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DISPLAYRMONETHSTATS(RMONOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SETRMONEVENT(RMONOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>