
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ops run python">
<meta name="DC.subject" content="ops run python">
<meta name="keywords" content="ops run python">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_OPS_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/OPSSCRIPTINSTALL(OPSOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SCRIPT-ASSISTANT(OPSOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="OPS">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="OPS">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="OPS">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Creator" content="SUBSYS_ID_OPSOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942840405">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ops run python</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942840405"></a><a name="EN-US_CLIREF_0000001942840405"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">ops run python</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942840405__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">ops run python</span></b> command executes a script.</p>
<p>The <b><span class="cmdname">ops stop process</span></b> command stops a running OPS process.</p>
</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942840405__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">ops run python </span></b><i><span class="varname">script-name</span></i> [ <i><span class="varname">arguments</span></i> ]</p>

<p><b><span class="cmdname">ops stop process </span></b><i><span class="varname">process-id</span></i></p>

<p><b><span class="cmdname">ops run python background </span></b><i><span class="varname">script-name</span></i> [ <i><span class="varname">arguments</span></i> ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942840405__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">script-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a script.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 127 characters.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">arguments</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the script parameter, which is parsed by the script.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 383 characters.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">process-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Process ID.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>IDs are automatically allocated by the system. You can run the display ops process state command to query the process ID.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>background</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Executes the script in the background.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942840405__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>User view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942840405__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942840405__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><p>To execute a script, run the <b><span class="cmdname">ops run python</span></b> command. A maximum of 10 scripts can be concurrently executed. Scripts can be executed in the foreground or background in the OPS.</p>

<ul><li>When scripts are executed in the foreground, users can view the script execution output and interoperate with scripts. In addition, users can press Ctrl+C to end the script execution, but scripts may keep being executed if codes do not cover the Ctrl+C operation.<p></p>
<span>User input is transparently transmitted to scripts</span>, and the OPS does not proactively perform timeout tests.<p></p>
<span>If a script is executed in the foreground and a user</span> closes the window, the script execution will be ended.</li><li>When scripts are executed in the background, users cannot view the script execution output. Users receive only a null character string in any interaction operation.<p></p>
<span>To stop a running process</span>, run the <b><span class="cmdname">ops stop process</span></b> command.</li></ul>
</div>
<p><strong>Prerequisites</strong></p>
<p>A script has been installed on the device.</p>

<ul><li>The Python script has been uploaded to the device.</li><li>The <b><span class="cmdname">ops install file</span></b> command is run in the system view to install the script.<p></p>
<span>The</span> <b><span class="cmdname">display ops process current</span></b> command has been run to query the process ID.</li></ul>
<p><strong>Configuration Impact</strong></p>
<p>If a script contains configuration delivering operations, the system configuration will be affected.<p></p>
<span>After a process is stopped</span>, subsequent operations are no longer performed, and all resources applied for this process will be released.</p>
<p><strong>Follow-up Procedure</strong></p>
<p>Run the <b><span class="cmdname">display ops process history</span></b> command to view information about the stopped process. Information shows that a user cancels this process.</p>
<p><strong>Precautions</strong></p>
<p>The <b><span class="cmdname">ops stop process</span></b> command is potentially service-affecting. The running process will be stopped suddenly. Therefore, exercise caution when running this command.<p></p>
<span>When a command is executed</span>, a log is recorded. When running the <b><span class="cmdname">ops run python</span></b> command with arguments specified, do not carry sensitive information (such as user passwords). This prevents security risks caused by log leakage. If sensitive information needs to be carried, you are advised to write it into another python script as a parameter of the cli.execute interface of the ops module and run the ops run python &lt;script-name&gt; command to execute the script.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942840405__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Stop a running script with the process ID 2002.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>ops stop process 2002</strong>
Warning: This operation maybe lost some data, are you sure stop the process? [Y/N]Y
</pre>
</div>

<div class="p"># Execute the script config.py with the parameter "1 2 3".<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>ops run python config.py "1 2 3"</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_OPS_Configuration_Commands_title.html">OPS Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/OPSSCRIPTINSTALL(OPSOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SCRIPT-ASSISTANT(OPSOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>