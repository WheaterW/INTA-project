
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="dampening timer-interval">
<meta name="DC.subject" content="dampening timer-interval">
<meta name="keywords" content="dampening timer-interval">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_BFD_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/TRIGGERIFDOWN(BFDOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DEFAULT-IP(BFDOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="BFD">
<meta name="featuretype" content="High Availability">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="BFD">
<meta name="featuretype" content="High Availability">
<meta name="featurename" content="BFD">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="DC.Creator" content="SUBSYS_ID_BFDOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942846505">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>dampening timer-interval</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942846505"></a><a name="EN-US_CLIREF_0000001942846505"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">dampening timer-interval</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942846505__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">dampening timer-interval</span></b> command configures a flapping suppression time for a BFD session.</p>
<p>The <b><span class="cmdname">undo dampening timer-interval</span></b> command restores the default flapping suppression time.</p>
</p>
<p>By default, the flapping suppression timer is started.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942846505__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">dampening timer-interval maximum </span></b><i><span class="varname">maximum-milliseconds</span></i> <strong><span>initial</span></strong> <i><span class="varname">initial-milliseconds</span></i> <strong><span>secondary</span></strong> <i><span class="varname">secondary-milliseconds</span></i></p>

<p><b><span class="cmdname">dampening timer-interval bundle-member maximum </span></b><i><span class="varname">bundle-maximum-milliseconds</span></i> <strong><span>initial</span></strong> <i><span class="varname">bundle-initial-milliseconds</span></i> <strong><span>secondary</span></strong> <i><span class="varname">bundle-secondary-milliseconds</span></i></p>

<p><b><span class="cmdname">dampening timer-interval bundle-member l3-only-mode</span></b></p>

<p><b><span class="cmdname">undo dampening timer-interval </span></b>[ <strong><span>maximum</span></strong> <i><span class="varname">maximum-milliseconds</span></i> <strong><span>initial</span></strong> <i><span class="varname">initial-milliseconds</span></i> <strong><span>secondary</span></strong> <i><span class="varname">secondary-milliseconds</span></i> ]</p>

<p><b><span class="cmdname">undo dampening timer-interval bundle-member </span></b>[ <strong><span>maximum</span></strong> <i><span class="varname">bundle-maximum-milliseconds</span></i> <strong><span>initial</span></strong> <i><span class="varname">bundle-initial-milliseconds</span></i> <strong><span>secondary</span></strong> <i><span class="varname">bundle-secondary-milliseconds</span></i> ]</p>

<p><b><span class="cmdname">undo dampening timer-interval bundle-member l3-only-mode</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942846505__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">maximum-milliseconds</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a maximum flapping suppression time for a BFD session.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 3600000, in milliseconds. The default value is 12000.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>initial</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Initial dampening timer interval.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">initial-milliseconds</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an initial flapping suppression time for a BFD session.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 3600000, in milliseconds. The default value is 2000.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>secondary</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Secondary dampening timer interval.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">secondary-milliseconds</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a secondary flapping suppression time for a BFD session.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 3600000, in milliseconds. The default value is 5000.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>bundle-member</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that a flapping suppression time is configured for a BFD for link-bundle session.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>maximum</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Maximum dampening timer interval.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">bundle-maximum-milliseconds</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a maximum flapping suppression time for a BFD for link-bundle session.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 20000 to 3600000, in milliseconds. The default value is 600000.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">bundle-initial-milliseconds</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an initial flapping suppression time for a BFD for link-bundle session.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 6000 to 3600000, in milliseconds. The default value is 16000.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">bundle-secondary-milliseconds</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a secondary flapping suppression time for a BFD for link-bundle session.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 10000 to 3600000, in milliseconds. The default value is 20000.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>l3-only-mode</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that flapping suppression takes effect only for a main BFD for link-bundle session.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942846505__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>BFD view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942846505__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942846505__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><p>If BFD detects link Down, services are switched. A penalty mechanism is provided to delay BFD session establishment and prevent frequent service switchovers, protecting link resources and reducing link resource consumption.<p></p>
<span>Flapping suppression can take effect for the following</span> BFD sessions:</p>

<ul><li>Non-BFD for link-bundle sessions</li><li>BFD for link-bundle sessions (bundle-member must be specified)<p></p>
<span>In flapping suppression detection for BFD</span>, BFD flapping suppression is started if BFD detects two consecutive down events within 10 minutes. For the first time when flapping suppression starts, the BFD session remains Down within a period specified using the initial bundle-initial-milliseconds parameter. After the period of time expires, BFD session negotiation is restarted. If the BFD session detects a Down event again, for the second time when flapping suppression starts, the BFD session remains Down within a period specified using the secondary secondary-milliseconds parameter. After the period of time elapses, BFD session negotiation is restarted.If the BFD session detects a Down event for the third time, the flapping suppression time is incremented based on the formula of secondary secondary-milliseconds multiplied by 2 and multiplied by (total number of flapping times - 3). The flapping suppression time keeps increasing till it reaches the maximum maximum-milliseconds value, and stays at the maximum value.For non-BFD for link-bundle sessions, the default initial flapping suppression period is 2000 ms, the secondary negotiation suppression period is 5000 ms, and the maximum negotiation suppression period is 12000 ms. The suppression periods of the BFD down event are 0, 2000, 5000, 10000, and 12000. The value 0 indicates that flapping suppression is not performed the first time BFD detects a down event. For link-bundle sessions, the initial flapping suppression period is 16000 ms, the secondary flapping suppression period is 20000 ms, and the maximum flapping suppression period is 600000 ms. The suppression periods of the BFD down event are 0, 16000, 20000, 40000, 80000, 120000, 160000, and 600000, respectively.</li></ul>
</div>
<p><strong>Prerequisites</strong></p>
<p>BFD has been globally enabled using the bfd command.</p>
<p><strong>Precautions</strong></p>
<p>It is recommended that the secondary flapping suppression time be greater than the initial flapping suppression time and less than the maximum flapping suppression time.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942846505__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the initial flapping suppression time for a BFD session to 8000 ms, the secondary suppression time for a BFD session to 20000 ms, and the maximum suppression time for a BFD session to 30000 ms. 
Flapping suppression is not performed the first time BFD detects a down event.
The suppression period for the second BFD down event is 8000 ms.
The suppression period for the third BFD down event is 20000 ms. 
The suppression period for the fourth BFD down event is 30000 ms. 
... 
The suppression period for the Nth BFD down event is 30000 ms. 
When BFD goes down, the suppression timer starts. If no BFD down event is detected with 10 minutes after the timer starts, flapping suppression is no longer performed.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>bfd</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bfd] <strong>dampening timer-interval maximum 30000 initial 8000 secondary 20000</strong>
</pre>
</div>

<div class="p"># Set the maximum flapping suppression time for a BFD session to 10000 ms, the initial flapping suppression time for a BFD session to 8000 ms, and the secondary flapping suppression time for a BFD session to 9000 ms.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>bfd</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bfd] <strong>dampening timer-interval maximum 10000 initial 8000 secondary 9000</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_BFD_Configuration_Commands_title.html">BFD Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/TRIGGERIFDOWN(BFDOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/DEFAULT-IP(BFDOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>