
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="mac-address limit">
<meta name="DC.subject" content="mac-address limit">
<meta name="keywords" content="mac-address limit">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_MAC_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SETMACLEARNFLAP(MACOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SETPORTMACLIMIT_5(MACOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="MAC">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="MAC">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featurename" content="MAC">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Creator" content="SUBSYS_ID_MACOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942840873">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>mac-address limit</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942840873"></a><a name="EN-US_CLIREF_0000001942840873"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">mac-address limit</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942840873__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">mac-address limit</span></b> command sets a MAC address learning limit rule, including the maximum number of MAC addresses that a device can learn.</p>
<p>The <b><span class="cmdname">undo mac-address limit</span></b> command deletes MAC address learning limit rules.</p>
</p>
<p>By default, a device can learn MAC addresses without limit.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE6885-LL (low latency mode), CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942840873__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">mac-address limit </span></b>{ <strong><span>maximum</span></strong> <i><span class="varname">max</span></i> | <strong><span>action</span></strong> { <strong><span>discard</span></strong> | <strong><span>forward</span></strong> } | <strong><span>alarm</span></strong> { <strong><span>enable</span></strong> | <strong><span>disable</span></strong> } } <sup>*</sup></p>

<p><b><span class="cmdname">undo mac-address limit </span></b>[ <strong><span>maximum</span></strong> <i><span class="varname">max</span></i> | <strong><span>action</span></strong> { <strong><span>discard</span></strong> | <strong><span>forward</span></strong> } | <strong><span>alarm</span></strong> { <strong><span>enable</span></strong> | <strong><span>disable</span></strong> } ] <sup>*</sup></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942840873__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>maximum</span></strong> <i><span class="varname">max</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the maximum number of MAC address entries that can be learned.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p><p>The value is an integer ranging from 0 to 130048.</p>
<p>When the value is 0, the number of MAC addresses that can be learned is not set.</p>
</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>action</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an action to be taken when the number of MAC address entries in the MAC address table reaches the limit.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>discard</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>The packet with the source MAC address not contained in the MAC address table is discarded.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>forward</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>The packet with the source MAC address not contained in the MAC address table is forwarded but its MAC address is not recorded.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>alarm</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates whether an alarm is generated when the number of learned MAC addresses reaches the upper limit.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>enable</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that an alarm is generated when the number of learned MAC addresses reaches the upper limit.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>disable</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that no alarm is generated when the number of learned MAC addresses reaches the upper limit.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942840873__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>Bridge domain view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942840873__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942840873__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>On insecure networks, devices are prone to attacks using forged MAC addresses. The capacity of a MAC address table on a device is limited. A hacker can forge a great number of source MAC addresses to a device. Upon receipt, the device adds the MAC addresses to the dynamic MAC address table, resulting in a dynamic MAC address table overflow. As a result, the device cannot learn more source MAC addresses carried in valid packets.<p></p>
<span>To set a MAC address learning limit rule</span>, run the <b><span class="cmdname">mac-address limit</span></b> command. This command helps control the number of access users. If the number of learned MAC addresses reaches the upper limit, the device can be configured to discard packets carrying new MAC addresses, which prevents MAC address attacks and improves network security.</p>
<p><strong>Prerequisites</strong></p>
<p>If a device has learned some MAC addresses, run the <b><span class="cmdname">reset mac-address bridge-domain bd-id</span></b> command to delete them.</p>
<p><strong>Configuration Impact</strong></p>
<p>The device with the MAC address learning limit configured cannot verify MAC addresses. If an attack to an enterprise or home is initiated by changing MAC addresses, the attack affects transmission of the enterprise or home network, not the entire network.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942840873__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure a maximum of 1000 MAC addresses that a device can learn in a BD. After the number of learned MAC addresses reaches the limit, the packets with new MAC addresses are still forwarded, and an alarm is generated.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>bridge-domain 10</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bd10] <strong>mac-address limit action forward maximum 1000 alarm enable</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_MAC_Configuration_Commands_title.html">MAC Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/SETMACLEARNFLAP(MACOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SETPORTMACLIMIT_5(MACOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>