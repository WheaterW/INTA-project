<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
 <head> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="DC.Type" content="cliref"> 
  <meta name="DC.Title" content="radius-server accounting"> 
  <meta name="DC.subject" content="radius-server accounting"> 
  <meta name="keywords" content="radius-server accounting"> 
  <meta name="product" content=""> 
  <meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-AAA_Configuration_Commands_title.html"> 
  <meta name="DC.Relation" scheme="URI" content="../v3r23c00/RADIUS-SERVER.html"> 
  <meta name="DC.Relation" scheme="URI" content="../v3r23c00/RADIUS-SERVER_ACCOUNTING-STOP-PACKET_RESEND.html"> 
  <meta name="prodname" content=""> 
  <meta name="version" content=""> 
  <meta name="brand" content="Product Documentation"> 
  <meta name="DC.Publisher" content="20230413"> 
  <meta name="featurename" content="AAA"> 
  <meta name="featuretype" content="User Access and Authentication"> 
  <meta name="DC.Audience.Job" content="Reference"> 
  <meta name="featurename" content="AAA"> 
  <meta name="featuretype" content="User Access and Authentication"> 
  <meta name="featurename" content="AAA"> 
  <meta name="featuretype" content="User Access and Authentication"> 
  <meta name="featuretype" content="User Access and Authentication"> 
  <meta name="featuretype" content="User Access and Authentication"> 
  <meta name="DC.Creator" content="SUBSYS_ID_ESAP_RADIUS"> 
  <meta name="DC.Format" content="XHTML"> 
  <meta name="DC.Identifier" content="EN-US_CLIREF_0000001907607716"> 
  <meta name="DC.Language" content="en-us"> 
  <link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css"> 
  <link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css"> 
  <script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script> 
  <title>radius-server accounting</title> 
  <style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style> 
 </head> 
 <body>
  <a name="EN-US_CLIREF_0000001907607716"></a>
  <a name="EN-US_CLIREF_0000001907607716"></a> 
  <div class="articleBoxWithoutHead"> 
   <h1 class="topicTitle-h1">radius-server accounting</h1> 
   <div> 
    <div class="clifunc">
     <a name="EN-US_CLIREF_0000001907607716__1.3.1"></a>
     <a name="1.3.1"></a>
     <h2 class="sectiontitle">Function</h2> 
     <div class="clifuncbody"> 
      <p></p>
      <p>The <b><span class="cmdname">radius-server accounting</span></b> command configures the RADIUS accounting server.</p> 
      <p>The <b><span class="cmdname">undo radius-server accounting</span></b> command deletes the configuration.</p> 
      <p></p> 
      <p>By default, no RADIUS accounting server is configured.</p> 
     </div>
    </div> 
    <div class="cliformat">
     <a name="EN-US_CLIREF_0000001907607716__1.3.2"></a>
     <a name="1.3.2"></a>
     <h2 class="sectiontitle">Format</h2> 
     <div class="cliformatbody"> 
      <p><b><span class="cmdname">radius-server accounting </span></b><i><span class="varname">ip-address</span></i> <i><span class="varname">port</span></i> [ <strong><span>shared-key</span></strong> <strong><span>cipher</span></strong> <i><span class="varname">share-key</span></i> | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> | <strong><span>source</span></strong> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <strong><span>ip-address</span></strong> <i><span class="varname">source-ip-address</span></i> } | <strong><span>weight</span></strong> <i><span class="varname">weight-value</span></i> ] <sup>*</sup></p> 
      <p><b><span class="cmdname">undo radius-server accounting </span></b>[ <i><span class="varname">ip-address</span></i> [ <i><span class="varname">port</span></i> [ <strong><span>shared-key</span></strong> | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> | <strong><span>source</span></strong> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <strong><span>ip-address</span></strong> <i><span class="varname">source-ip-address</span></i> } | <strong><span>weight</span></strong> ] <sup>*</sup> ] ]</p> 
     </div>
    </div> 
    <div class="cliparam">
     <a name="EN-US_CLIREF_0000001907607716__1.3.3"></a>
     <a name="1.3.3"></a>
     <h2 class="sectiontitle">Parameters</h2> 
     <div class="cliparambody"> 
      <div class="tableBorder">
       <table cellpadding="4" cellspacing="0" summary=""> 
        <tbody>
         <tr> 
          <th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th> 
          <th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th> 
          <th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>ip-address</span></strong> <i><span class="varname">source-ip-address</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies the source IPv4 address in RADIUS packets sent from the device to a RADIUS accounting server.</p> <p>If this parameter is specified, ensure that the value of this parameter is the same as the client's IPv4 address specified on the RADIUS accounting server.</p> <p>If this parameter is not specified, the IPv4 address of the outbound interface is used as the source IPv4 address in RADIUS packets sent from the device to a RADIUS accounting server.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>The value must be a valid unicast address in dotted decimal notation.</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">ip-address</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies the IPv4 address of a RADIUS accounting server.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation and must be a valid unicast address.</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">port</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies the port number of a server.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 65535.</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">share-key</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies the shared key of a RADIUS server.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 128 case-sensitive characters in plaintext or 128 to 268 case-sensitive characters in ciphertext. The value can be letters or digits. The character string can contain spaces if it is enclosed in double quotation marks (").</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies the name of a VPN instance. This parameter is supported only in the RADIUS server template view.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>The VPN instance name must exist.</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>source</span></strong></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies the source interface or source IP address.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>-</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interface-type</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies the RADIUS server source interface.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>-</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interface-number</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies the source interface number. The value is an integer.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>-</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>weight</span></strong> <i><span class="varname">weight-value</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies the weight of a RADIUS accounting server.</p> <p>When multiple servers are available, the device uses the server with the highest weight to perform accounting. If the servers have the same weights, the device uses the server configured first to perform accounting.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 100.</p> </td> 
         </tr> 
        </tbody>
       </table>
      </div> 
     </div>
    </div> 
    <div class="cliview">
     <a name="EN-US_CLIREF_0000001907607716__1.3.4"></a>
     <a name="1.3.4"></a>
     <h2 class="sectiontitle">Views</h2> 
     <div class="cliviewbody"> 
      <p>RADIUS server template view</p> 
     </div>
    </div> 
    <div class="clidefaultlevel">
     <a name="EN-US_CLIREF_0000001907607716__1.3.5"></a>
     <a name="1.3.5"></a>
     <h2 class="sectiontitle">Default Level</h2> 
     <div class="clidefaultlevelbody"> 
      <p>3: Management level</p> 
     </div>
    </div> 
    <div class="clidesc">
     <a name="EN-US_CLIREF_0000001907607716__1.3.6"></a>
     <a name="1.3.6"></a>
     <h2 class="sectiontitle">Usage Guidelines</h2> 
     <div class="clidescbody"> 
      <p><strong>Usage Scenario</strong></p> 
      <p>To perform accounting for users, configure a RADIUS accounting server. The device communicates with a RADIUS accounting server to obtain accounting information, and performs accounting for users based on the accounting information. The device sends accounting packets to the RADIUS accounting server only after the IP address and port number of the RADIUS accounting server are specified in the RADIUS server template.</p> 
      <p><strong>Precautions</strong></p> 
      <p>The IP address of the primary accounting server must be different from the IP address of the secondary accounting server; otherwise, the configuration fails. For the RADIUS server in down state, if configuration parameters except weight of the RADIUS server are modified, the server state will change from down to up.</p> 
     </div>
    </div> 
    <div class="cliexample">
     <a name="EN-US_CLIREF_0000001907607716__1.3.7"></a>
     <a name="1.3.7"></a>
     <h2 class="sectiontitle">Example</h2> 
     <div class="cliexamplebody"> 
      <div class="p">
       # Configure the secondary RADIUS accounting server.
       <pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" face="Courier New">~</font></span><span class="keyword">HUAWEI</span>] <strong>radius-server template group1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-radius-group1] <strong>radius-server accounting 10.163.155.15 1813 weight 50</strong>
</pre> 
      </div> 
      <div class="p">
       # Configure the primary RADIUS accounting server.
       <pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" face="Courier New">~</font></span><span class="keyword">HUAWEI</span>] <strong>radius-server template group1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-radius-group1] <strong>radius-server accounting 10.163.155.12 1813</strong>
</pre> 
      </div> 
     </div>
    </div> 
   </div> 
  </div> 
  <div class="footerNavBar clearfix"> 
   <div class="parentlink">
     Parent Topic: 
    <a href="../v3r23c00/dc_PNF-AAA_Configuration_Commands_title.html">AAA Configuration Commands </a> 
   </div> 
   <div class="copyrightBottomBar">
     Copyright ? Huawei Technologies Co., Ltd.
   </div> 
   <div class="copyrightBottomBar_responsive">
     Copyright ? Huawei Technologies Co., Ltd.
   </div> 
   <div class="bottomNavBtn clearfix"> 
    <a href="../v3r23c00/RADIUS-SERVER.html"><span class="font-st">&lt; </span>Previous topic</a> 
    <a href="../v3r23c00/RADIUS-SERVER_ACCOUNTING-STOP-PACKET_RESEND.html">Next topic<span class="font-st"> &gt;</span></a> 
   </div> 
  </div>  
 </body>
</html>