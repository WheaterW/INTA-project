
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="peer unnumbered-interface">
<meta name="DC.subject" content="peer unnumbered-interface">
<meta name="keywords" content="peer unnumbered-interface">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_BGP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/BGP-MULI-VRF-GROUP-TRACKING(BGPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/PEER-UPDATE-GROUP-INDEPENDENT(BGPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_BGPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942844697">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>peer unnumbered-interface</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942844697"></a><a name="EN-US_CLIREF_0000001942844697"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">peer unnumbered-interface</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942844697__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">peer unnumbered-interface</span></b> command specifies an outbound interface for an unnumbered peer group.</p>
<p>The <b><span class="cmdname">undo peer unnumbered-interface</span></b> command restores the default configuration.</p>
</p>
<p>By default, no outbound interface is specified for an unnumbered peer group.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942844697__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">peer </span></b><i><span class="varname">peerGroupName</span></i> <strong><span>unnumbered-interface</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">IfType</span></i> <i><span class="varname">IFNum</span></i> }</p>

<p><b><span class="cmdname">undo peer </span></b><i><span class="varname">peerGroupName</span></i> <strong><span>unnumbered-interface</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">IfType</span></i> <i><span class="varname">IFNum</span></i> }</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942844697__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">peerGroupName</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a peer group.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The name is a string of 1 to 47 case-sensitive characters, with spaces not supported. When double quotation marks are used around the string, spaces are allowed in the string.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interface-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an interface name.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">IfType</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the type of an interface.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">IFNum</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an interface number.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 63 case-sensitive characters, spaces not supported.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942844697__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>BGP view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942844697__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942844697__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>As the BGP network topology becomes increasingly complex, IP address resources are insufficient, a large number of peer relationships are established, and the configurations are more and more complex. BGP Unnumbered is a port multiplexing technology that saves IP address resources and automatically discovers and establishes peer relationships. You can run the <b><span class="cmdname">peer unnumbered-interface</span></b> command to configure an outbound interface for an unnumbered peer group. After this command is run, the IPv6 link-local address of the outbound interface and the advertisement protocol are used to automatically discover peers and establish BGP sessions with the peers, implementing IPv4 and IPv6 route distribution.</p>
</p>
<p><strong>Prerequisites</strong></p>
<p><p>A peer group has been created using the <b><span class="cmdname">group unnumbered</span></b> command.</p>
</p>
<p><strong>Precautions</strong></p>
<p><p>For the outbound interface of an unumbered peer group, no IP address needs to be configured by default. The IPv6 link-local address of the outbound interface is used to establish a peer relationship.<p></p>
<span>However</span>, in IPv4 scenarios, if no IP address is configured, traffic cannot be forwarded. In this case, you need to configure the interface to borrow the IP address of another interface using the <b><span class="cmdname">ip address unnumbered interface</span></b> command.<p></p>
<span>It is recommended that the hold time be set based</span> on the total number of BGP peers in each address family. As the number of peers increases, increase the minimum hold time accordingly. Adjust the hold time according to "Mapping Between the Total Number of BGP Peers in Each Address Family and the Recommended Minimum Hold Time" in the usage guide of the <b><span class="cmdname">peer timer</span></b> command.<p></p>
<span>By default</span>, an interface on a device is a Layer 3 interface. After you run the <b><span class="cmdname">peer unnumbered-interface</span></b> command to specify an interface, changing the interface type to Layer 2 may affect Layer 3 services. Therefore, exercise caution when changing the interface type.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942844697__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Specify an outbound interface for the unnumbered peer group.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>bgp 100</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp] <strong>group a unnumbered</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp] <strong>peer a unnumbered-interface <span>100GE</span><span>1/0/1</span></strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_BGP_Configuration_Commands_title.html">BGP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/BGP-MULI-VRF-GROUP-TRACKING(BGPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/PEER-UPDATE-GROUP-INDEPENDENT(BGPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>