
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ospf authentication-mode multi-area">
<meta name="DC.subject" content="ospf authentication-mode multi-area">
<meta name="keywords" content="ospf authentication-mode multi-area">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_OSPF_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/OSPF-INTF-AUTH(OSPFCOMMOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/OSPF-BFD-ENABLE_1(OSPFCOMMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_OSPFCOMMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907763224">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ospf authentication-mode multi-area</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907763224"></a><a name="EN-US_CLIREF_0000001907763224"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">ospf authentication-mode multi-area</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907763224__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">ospf authentication-mode multi-area</span></b> command configures an authentication mode for a multi-area adjacency interface.</p>
<p>The <b><span class="cmdname">ospf authentication-mode multi-area null</span></b> command configures null authentication for a multi-area adjacency interface.</p>
<p>The <b><span class="cmdname">undo ospf authentication-mode multi-area</span></b> command deletes the authentication mode configured for a multi-area adjacency interface.</p>
</p>
<p>By default, a multi-area adjacency interface does not authenticate OSPF packets.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907763224__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">ospf authentication-mode simple </span></b>[ <strong><span>plain</span></strong> <i><span class="varname">plain-text</span></i> | [ <strong><span>cipher</span></strong> ] <i><span class="varname">cipher-text</span></i> ] <strong><span>multi-area</span></strong> { <i><span class="varname">area-id</span></i> | <i><span class="varname">area-id-ipv4</span></i> }</p>

<p><b><span class="cmdname">ospf authentication-mode </span></b>{ <strong><span>md5</span></strong> | <strong><span>hmac-md5</span></strong> | <strong><span>hmac-sha256</span></strong> } [ <i><span class="varname">key-id</span></i> { <strong><span>plain</span></strong> <i><span class="varname">plain-text</span></i> | [ <strong><span>cipher</span></strong> ] <i><span class="varname">cipher-text</span></i> } ] <strong><span>multi-area</span></strong> { <i><span class="varname">area-id</span></i> | <i><span class="varname">area-id-ipv4</span></i> }</p>

<p><b><span class="cmdname">ospf authentication-mode null multi-area </span></b>{ <i><span class="varname">area-id</span></i> | <i><span class="varname">area-id-ipv4</span></i> }</p>

<p><b><span class="cmdname">ospf authentication-mode keychain </span></b><i><span class="varname">keychain-name</span></i> <strong><span>multi-area</span></strong> { <i><span class="varname">area-id</span></i> | <i><span class="varname">area-id-ipv4</span></i> }</p>

<p><b><span class="cmdname">undo ospf authentication-mode multi-area </span></b>{ <i><span class="varname">area-id</span></i> | <i><span class="varname">area-id-ipv4</span></i> }</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907763224__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>plain</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the cleartext authentication.</p>
<p>When configuring an authentication password, select the ciphertext mode because the password is saved in configuration files in cleartext if you select cleartext mode, which has a high risk. To ensure device security, change the password periodically.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>By default, cipher takes effect for simple authentication.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">plain-text</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a plaintext password.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><p>The value is a string of characters.</p>
<ul><li>In simple mode, the value is a string of 1 to 8 characters.</li><li>In md5, hmac-md5, or hmac-sha256 mode, the value is a string of 1 to 255 characters.</li></ul>
<p>A password cannot contain a question mark (?), but can contain spaces if surrounded by double quotation marks (""). In this case, the double quotation marks are part of the password.</p>
</div>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cipher</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the cipher mode.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>In MD5/HMAC-MD5 authentication mode, if this parameter is not specified, the password is in cipher text by default.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">cipher-text</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a ciphertext password.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><p>The value is a string of characters.</p>
<ul><li>For simple authentication, a plaintext is 1 to 8 characters, and a ciphertext is 24 to 128 characters.</li><li>For MD5, HMAC-MD5, or HMAC-SHA256 authentication, a plaintext is 1 to 255 characters, and a ciphertext is 20 to 432 characters.</li></ul>
<p>A password cannot contain a question mark (?), but can contain spaces if surrounded by double quotation marks (""). In this case, the double quotation marks are part of the password.</p>
</div>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">area-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the ID of an OSPF area.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value can be a decimal integer ranging from 0 to 4294967295 or in the format of an IP address.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">area-id-ipv4</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the ID of an OSPF area, in the format of an IP address.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in the format X.X.X.X, where each X represents a value from 0 to 255</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>md5</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates MD5 authentication.</p>
<p>Configuring HMAC-SHA256 rather than MD5 is recommended for the sake of security.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The string $@$@ is particularly used to distinguish the target-version password from the source-version password during an upgrade. Therefore, do not start and end an MD5 authentication password with $@$@.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>hmac-md5</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates HMAC-MD5 authentication.</p>
<p>Configuring HMAC-SHA256 rather than HMAC-MD5 is recommended for the sake of security.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>hmac-sha256</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates HMAC-SHA256 ciphertext authentication.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">key-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a key ID for authentication, which must be the same as the one configured at the other end.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 255.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>null</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the null authentication mode.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>keychain</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the keychain authentication mode.</p>
<p>Before configuring this parameter, run the keychain command to create a keychain, and run the key-id, key-string, and algorithm commands to configure a key ID, a password, and an authentication algorithm for the keychain. Otherwise, OSPF authentication fails.</p>
<p>Currently, OSPF supports the MD5, SHA-1, SHA-256, SM3, HMAC-MD5, HMAC-SHA1-12, HMAC-SHA1-20, HMAC-SHA256, HMAC-SHA384, and HMAC-SHA512 algorithms.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">keychain-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a keychain name.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 47 case-insensitive characters.</p>
<p>The value cannot contain question marks (?) and spaces However, when double quotation marks are used around the password, spaces are allowed in the password. In this case, the double quotation marks at both ends of the password are used as a part of the password.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>simple</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Sets the simple authentication mode.</p>
<p>To prevent high security risks, you are advised to select the ciphertext mode. To ensure device security, change the password periodically.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><ul><li>The length of a simple password ranges from 1 to 8.</li><li>A ciphertext password is a string of 24 to 128 characters.</li></ul>
<p>By default, the simple authentication mode is cipher.</p>
</div>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907763224__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100GE interface view,</span><span>10GE interface view,</span><span>200GE interface view,</span><span>25GE sub-interface view,</span><span>25GE interface view,</span><span>400GE interface view,</span><span>50GE sub-interface view,</span><span>50GE interface view,</span><span>Eth-Trunk interface view,</span><span>Tunnel interface view,</span><span>VBDIF interface view,</span><span>VLANIF interface view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907763224__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907763224__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>Due to inherent defects and flawed implementation of the TCP/IP protocol suite, there are an increasing number of attacks, which poses greater threats on TCP/IP networks than ever before. The attacks on network devices may lead to network failures. To configure an authentication mode and a password for an OSPF interface to improve OSPF network security, run the ospf authentication-mode command.</p>
<p><strong>Prerequisites</strong></p>
<p>Run the <b><span class="cmdname">ospf enable multi-area</span></b> command first.</p>
<p><strong>Configuration Impact</strong></p>
<p>Interface authentication is used to set authentication mode and password used between neighboring devices. It takes precedence over area authentication.</p>
<p><strong>Precautions</strong></p>
<p>Null indicates an authentication mode, which does not mean that no authentication is configured.<p></p>
<span>Interfaces on the same network segment must be configured</span> with the same authentication mode and password.<p></p>
<span>For security purposes</span>, md5 and hmac-md5 are not recommended. If they must be used, run the <b><span class="cmdname">install feature-software WEAKEA</span></b> command to install the weak security algorithm/protocol feature package WEAKEA first.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907763224__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure HMAC-SHA256 authentication on a specified interface.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ospf 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospf-1] <strong>area 0</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospf-1-area-0.0.0.0] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospf-1] <strong>area 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospf-1-area-0.0.0.1] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospf-1] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span><span>1/0/1</span></strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ospf enable 1 area 0</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ospf enable multi-area 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ospf authentication-mode hmac-sha256 1 cipher YsHsjx_202206 multi-area 1</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_OSPF_Configuration_Commands_title.html">OSPF Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/OSPF-INTF-AUTH(OSPFCOMMOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/OSPF-BFD-ENABLE_1(OSPFCOMMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>