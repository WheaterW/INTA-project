
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="abs-pfc priority enable">
<meta name="DC.subject" content="abs-pfc priority enable">
<meta name="keywords" content="abs-pfc priority enable">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-Adaptive_Routing_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/ADAPTIVE-ROUTING_BANDWIDTH.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Adaptive Routing">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Adaptive Routing">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="featurename" content="Adaptive Routing">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="DC.Creator" content="SUBSYS_ID_AIS">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907609436">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>abs-pfc priority enable</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907609436"></a><a name="EN-US_CLIREF_0000001907609436"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">abs-pfc priority enable</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907609436__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">abs-pfc priority enable</span></b> command enables dragonfly antilocking PFC for interface queues in a dragonfly profile.</p>
<p>The <b><span class="cmdname">undo abs-pfc priority enable</span></b> command disables dragonfly antilocking PFC for interface queues in a dragonfly profile.</p>
</p>
<p>By default, dragonfly antilocking PFC is disabled for interface queues in a dragonfly profile.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE8850-SAN, CE8851K, CE8851-32CQ8DQ-P and CE8850-HAM.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907609436__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">abs-pfc priority </span></b>{ <i><span class="varname">prioritynumber</span></i> } &amp;&lt;1-3&gt; <strong><span>enable</span></strong> [ <strong><span>threshold</span></strong> <i><span class="varname">threshold-value</span></i> ]</p>

<p><b><span class="cmdname">undo abs-pfc priority </span></b>{ <i><span class="varname">prioritynumber</span></i> } &amp;&lt;1-3&gt; <strong><span>enable</span></strong> [ <strong><span>threshold</span></strong> <i><span class="varname">threshold-value</span></i> ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907609436__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">prioritynumber</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the index of a queue for which dragonfly antilocking PFC is enabled.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 5.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>threshold</span></strong> <i><span class="varname">threshold-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the buffer threshold for dragonfly antilocking PFC to take effect.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 0 to 512. The unit is KB and the default value is 0.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907609436__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>Dragonfly-profile view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907609436__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907609436__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>On a lossless network with direct connections, you can run this command to enable dragonfly antilocking PFC for interface queues in a dragonfly profile.</p>
<p><strong>Precautions</strong></p>
<ul><li>If dragonfly antilocking PFC is enabled in the dragonfly profile, dragonfly antilocking PFC is enabled on the interface where the adaptive routing function is enabled.</li><li>If dragonfly antilocking PFC is enabled in the dragonfly profile and adaptive routing is enabled on an interface, you need to run the <b><span class="cmdname">qos hpc enhanced</span></b> command to ensure that packets in queues 6 and 7 are not discarded.</li><li>If dragonfly antilocking PFC is enabled in the dragonfly profile, the bandwidths of the interfaces enabled with the adaptive routing function on the device must be the same.</li><li>Dragonfly antilocking PFC can be enabled for a maximum of three queues on an interface.</li><li>The total number of queues for which dragonfly antilocking PFC is enabled on all interfaces of a device cannot exceed 90.</li><li>PFC and dragonfly antilocking PFC cannot be enabled on the same interface at the same time.</li><li>Antilocking PFC and dragonfly antilocking PFC cannot be enabled on the same interface at the same time.</li><li>On an interface, dragonfly antilocking PFC for priority queue 1 and differentiated flow scheduling for any queue cannot be enabled at the same time.</li><li>Dragonfly antilocking PFC and differentiated flow scheduling cannot be enabled for queues of the same priority on the same interface at the same time.</li><li>If dragonfly deadlock prevention has been enabled for a queue of a certain priority, you need to disable this function for the queue before disabling dragonfly antilocking PFC for the queue.</li><li>If PFC or antilocking PFC has been enabled on an interface, PFC resources on the interface will be occupied. To release PFC resources on the interface, disable PFC or antilocking PFC on the interface and restart the device.</li><li>Currently, the device supports PFC or antilocking PFC on a maximum of 127 interfaces. If the number of interfaces on which PFC or antilocking PFC has been enabled exceeds 127, disable delivered configurations to reduce the number of interfaces on which PFC or antilocking PFC has been enabled, and restart the device, so that the number of interfaces enabled with PFC or antilocking PFC can be increased.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907609436__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable dragonfly antilocking PFC for interface queues in the default dragonfly profile.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>dragonfly profile default</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-dragonfly-profile-default] <strong>abs-pfc priority 2 3 4 enable threshold 10</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-Adaptive_Routing_Configuration_Commands_title.html">Adaptive Routing Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/ADAPTIVE-ROUTING_BANDWIDTH.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>