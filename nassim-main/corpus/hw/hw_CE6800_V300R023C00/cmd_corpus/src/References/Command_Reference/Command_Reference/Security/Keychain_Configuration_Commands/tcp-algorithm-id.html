
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="tcp-algorithm-id">
<meta name="DC.subject" content="tcp-algorithm-id">
<meta name="keywords" content="tcp-algorithm-id">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Keychain_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SENDYEARLYTIME(KEYCHAINOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/KIND(KEYCHAINOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Keychain">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Keychain">
<meta name="featuretype" content="Security">
<meta name="featurename" content="Keychain">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="DC.Creator" content="SUBSYS_ID_KEYCHAINOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907608484">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>tcp-algorithm-id</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907608484"></a><a name="EN-US_CLIREF_0000001907608484"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">tcp-algorithm-id</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907608484__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>Using the <b><span class="cmdname">tcp-algorithm-id</span></b> command, you can specify TCP algorithm ids to represent algorithms supported by the keychain uniquely.</p>
<p>Using the <b><span class="cmdname">undo tcp-algorithm-id</span></b> command, you can restore the default values specified by Internet Assigned Numbers Authority (IANA).</p>
</p>
<p>By default, the algorithm IDs supported by IANA are used.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907608484__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">tcp-algorithm-id md5 </span></b><i><span class="varname">md5-algorithm-id</span></i></p>

<p><b><span class="cmdname">tcp-algorithm-id sha-1 </span></b><i><span class="varname">sha1-algorithm-id</span></i></p>

<p><b><span class="cmdname">tcp-algorithm-id hmac-md5 </span></b><i><span class="varname">hmac-md5-algorithm-id</span></i></p>

<p><b><span class="cmdname">tcp-algorithm-id hmac-sha1-12 </span></b><i><span class="varname">hmac-sha1-12-algorithm-id</span></i></p>

<p><b><span class="cmdname">tcp-algorithm-id hmac-sha1-20 </span></b><i><span class="varname">hmac-sha1-20-algorithm-id</span></i></p>

<p><b><span class="cmdname">tcp-algorithm-id hmac-sha-256 </span></b><i><span class="varname">hmac-sha-256-algorithm-id</span></i></p>

<p><b><span class="cmdname">tcp-algorithm-id sha-256 </span></b><i><span class="varname">sha-256-algorithm-id</span></i></p>

<p><b><span class="cmdname">tcp-algorithm-id sm3 </span></b><i><span class="varname">sm3-algorithm-id</span></i></p>


<p><b><span class="cmdname">tcp-algorithm-id hmac-sha-384 </span></b><i><span class="varname">hmac-sha-384-algorithm-id</span></i></p>

<p><b><span class="cmdname">tcp-algorithm-id hmac-sha-512 </span></b><i><span class="varname">hmac-sha-512-algorithm-id</span></i></p>

<p><b><span class="cmdname">undo tcp-algorithm-id md5</span></b></p>

<p><b><span class="cmdname">undo tcp-algorithm-id sha-1</span></b></p>

<p><b><span class="cmdname">undo tcp-algorithm-id hmac-md5</span></b></p>

<p><b><span class="cmdname">undo tcp-algorithm-id hmac-sha1-12</span></b></p>

<p><b><span class="cmdname">undo tcp-algorithm-id hmac-sha1-20</span></b></p>

<p><b><span class="cmdname">undo tcp-algorithm-id hmac-sha-256</span></b></p>

<p><b><span class="cmdname">undo tcp-algorithm-id sha-256</span></b></p>

<p><b><span class="cmdname">undo tcp-algorithm-id sm3</span></b></p>


<p><b><span class="cmdname">undo tcp-algorithm-id hmac-sha-384</span></b></p>

<p><b><span class="cmdname">undo tcp-algorithm-id hmac-sha-512</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907608484__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">md5-algorithm-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the TCP algorithm ID representing the MD5 algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is of the character type. It ranges from 1 to 63, and the default value is 3.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>sha-1</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that SHA-1 is used for packet encryption and authentication.</p>
<p>To ensure high security, do not use the SHA-1 algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The length of the key is 20 bytes.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">sha1-algorithm-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the TCP algorithm ID representing the SHA-1 algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is of the character type. It ranges from 1 to 63, and the default value is 4.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>hmac-md5</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that HMAC-MD5 is used for packet encryption and authentication.</p>
<p>To ensure high security, do not use the HMAC-MD5 algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The length of the key is 16 bytes.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">hmac-md5-algorithm-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the TCP algorithm ID representing the HMAC-MD5 algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is of the character type. It ranges from 1 to 63, and the default value is 5.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>hmac-sha1-12</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that HMAC-SHA1-12 is used for packet encryption and authentication.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The length of the key is 12 bytes.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">hmac-sha1-12-algorithm-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the TCP algorithm ID representing the HMAC-SHA1-12 algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is of the character type. It ranges from 1 to 63, and the default value is 2.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>hmac-sha1-20</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that HMAC-SHA1-20 is used for packet encryption and authentication.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The length of the key is 20 bytes.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">hmac-sha1-20-algorithm-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the TCP algorithm ID representing the HMAC-SHA1-20 algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is of the character type. It ranges from 1 to 63, and the default value is 6.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>hmac-sha-256</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that HMAC-SHA-256 is used for packet encryption and authentication.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The length of the key is 32 bytes.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">hmac-sha-256-algorithm-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the TCP algorithm ID representing the HMAC-SHA-256 algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is of the character type. It ranges from 1 to 63, and the default value is 7.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>sha-256</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that SHA-256 is used for packet encryption and authentication.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The length of the key is 32 bytes.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">sha-256-algorithm-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the TCP algorithm ID representing the SHA-256 algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is of the character type. It ranges from 1 to 63, and the default value is 8.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>sm3</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that SM3 is used for packet encryption and authentication.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The length of the key is 32 bytes.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">sm3-algorithm-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the TCP algorithm ID representing the SM3 algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is of the character type. It ranges from 1 to 63, and the default value is 9.</p>
</td>
</tr>



<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>hmac-sha-384</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that HMAC-SHA-384 is used for packet encryption and authentication.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The key length is 48 bytes.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">hmac-sha-384-algorithm-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the TCP algorithm ID representing the HMAC-SHA-384 authentication algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is of the character type. It ranges from 1 to 63, and the default value is 11.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>hmac-sha-512</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that HMAC-SHA-512 is used for packet encryption and authentication.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The key length is 64 bytes.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">hmac-sha-512-algorithm-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the TCP algorithm ID representing the HMAC-SHA-512 authentication algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is of the character type. It ranges from 1 to 63, and the default value is 12.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>md5</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that MD5 is used for packet encryption and authentication.</p>
<p>To ensure high security, do not use the MD5 algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The length of the key is 16 bytes.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907608484__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>Keychain view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907608484__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907608484__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>A keychain ensures a secure protocol packet transmission by changing the authentication algorithm and key dynamically. Packets to be transmitted over non-TCP and TCP connections are authenticated using the authentication and encryption algorithms corresponding to a key ID. The two connections differ in that the TCP connection needs to be authenticated to enhance the security.<p></p>
<span>The TCP connection is authenticated using the authentication</span> algorithm specified by the algorithm ID. The algorithm ID is not defined by the IANA. Different vendors use different algorithm IDs to identify authentication algorithms. When two devices of different vendors are connected, ensure that algorithm IDs configured on the two devices are identical.</p>
</p>
<p><strong>Prerequisites</strong></p>
<p><p>The authentication algorithm used to authenticate the TCP connection needs to be specified.</p>
</p>
<p><strong>Implementation Procedure</strong></p>
<div class="p"><p>The TCP authentication algorithm IDs configured for the two communication devices must be identical.<p></p>
<span>The characteristics of each authentication algorithm</span> are as follows:</p>

<ul><li>Message Digest 5 (MD5): generates a 128-bit message digest based on an entered message of any length.</li><li>Secure Hash Algorithm 1 (SHA-1): generates a 160-bit message digest based on an entered message with the length of shorter than the 64th power of 2.</li><li>Keyed-Hashing for Message Authentication-MD5 (HMAC-MD5): generates a 128-bit message digest based on a 512-bit message that is converted from an entered message of any length. If the length of the entered message is less than 512 bits, 0s are added to make up a 512-bit message. If the length of the entered message is greater than 512 bits, the message is converted into a 128-bit message through the MD5 algorithm. After that, 0s are added to make up a 512-bit message.</li><li>HMAC-SHA1-12: generates a 160-bit message digest based on a 512-bit message that is converted from an entered message of any length. The most significant 96 bits (12 x 8) are used as the authentication code.</li><li>HMAC-SHA1-20: generates a 160-bit message digest based on a 512-bit message that is converted from an entered message of any length. All the 160 bits are used as the authentication code.</li><li>SHA-256: generates a 256-bit message digest based on an entered message with the length of shorter than the 64th power of 2.</li><li>HMAC-SHA-256: generates a 256-bit message digest based on a 512-bit message that is converted from an entered message of any length. All the 256 bits are used as the authentication code.</li><li>HMAC-SHA-384: generates a 384-bit message digest based on a 512-bit message that is converted from an entered message of any length. All the 384 bits are used as the authentication code.</li><li>HMAC-SHA-512: generates a 512-bit message digest based on a 512-bit message that is converted from an entered message of any length. All the 512 bits are used as the authentication code.<p></p>
<span>The calculation speed of MD5 is faster than that of</span> SHA, whereas SHA is more secure than MD5. Compared with MD5 and SHA, HMAC is more secure, but slower in calculation. For security purposes, the MD5 and SHA-1 algorithms are not recommended.</li></ul>
</div>
<p><strong>Precautions</strong></p>
<p><p>Each algorithm ID uniquely identifies an algorithm.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907608484__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure the hmac-sha-256 TCP algorithm-id as 1.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>keychain huawei mode absolute</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-keychain-huawei] <strong>tcp-algorithm-id hmac-sha-256 1</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Keychain_Configuration_Commands_title.html">Keychain Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/SENDYEARLYTIME(KEYCHAINOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/KIND(KEYCHAINOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>