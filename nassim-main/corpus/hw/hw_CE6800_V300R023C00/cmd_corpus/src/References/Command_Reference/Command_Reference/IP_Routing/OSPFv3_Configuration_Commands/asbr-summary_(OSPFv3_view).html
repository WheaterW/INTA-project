
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="asbr-summary (OSPFv3 view)">
<meta name="DC.subject" content="asbr-summary (OSPFv3 view)">
<meta name="keywords" content="asbr-summary (OSPFv3 view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_OSPFv3_Configuration_Command_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/AREAV3(OSPFCOMMOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/OSPFV3-AREA-AUTH(OSPFCOMMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_OSPFCOMMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942842577">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>asbr-summary (OSPFv3 view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942842577"></a><a name="EN-US_CLIREF_0000001942842577"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">asbr-summary (OSPFv3 view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942842577__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">asbr-summary</span></b> command configures an ASBR to summarize routes imported by OSPFv3.</p>
<p>The <b><span class="cmdname">undo asbr-summary</span></b> command cancels the configuration of enabling an ASBR to summarize routes imported by OSPFv3.</p>
</p>
<p>By default, an ASBR does not summarize routes imported by OSPFv3.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942842577__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">asbr-summary </span></b><i><span class="varname">ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> [ <strong><span>not-advertise</span></strong> | [ <strong><span>tag</span></strong> <i><span class="varname">tag-value</span></i> ] | [ <strong><span>cost</span></strong> <i><span class="varname">cost-value</span></i> ] | [ <strong><span>distribute-delay</span></strong> <i><span class="varname">interval</span></i> ] ] <sup>*</sup></p>

<p><b><span class="cmdname">undo asbr-summary </span></b><i><span class="varname">ipv6-address</span></i> <i><span class="varname">prefix-length</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942842577__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">ipv6-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the IPv6 address of a summary route.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a 32-digit hexadecimal number, in the format of X:X:X:X:X:X:X:X.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">prefix-length</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the prefix length of a summary route.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 128.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>not-advertise</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Prevents the summary route with the specified IPv6 prefix length from being advertised.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>By default, the summary route with the specified IPv6 prefix length is advertised.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>tag</span></strong> <i><span class="varname">tag-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the tag used to control summary route advertisement.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 4294967295.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cost</span></strong> <i><span class="varname">cost-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the cost of a summary route.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><p>The value is an integer that ranges from 1 to 16777214.</p>
<p>By default:</p>
<ul><li>For Type 1 external routes, the largest cost of the specific routes is used as the cost of the summary route.</li><li>For Type 2 external routes, the cost of the summary route is the maximum cost of the specific routes plus 1.</li></ul>
</div>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>distribute-delay</span></strong> <i><span class="varname">interval</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the delay for advertising a summary route.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 65535, in seconds. This parameter has no default value.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942842577__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>OSPFv3 view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942842577__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942842577__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>Routes with the same IPv6 prefix can be summarized into a single route. On a large-scale OSPFv3 network, route lookup may slow down because of the large size of the routing table. To reduce the routing table size and simplify management, configure route summarization. Route summarization also prevents route flapping and improves network stability. If a link associated with a summary IPv6 address prefix frequently alternates between up and down, this function prevents the changes from being advertised to devices whose IPv6 addresses do not belong to the prefix of the summary route. If route summarization is configured on an ASBR using the <b><span class="cmdname">asbr-summary</span></b> command, the ASBR summarizes routes of all imported Type 5 LSAs within the summary address range. If a large number of routes with the same IPv6 prefix are imported, you can run the <b><span class="cmdname">asbr-summary</span></b> command to summarize them into one route.<p></p>
<span>When a large number of summary routes exist</span>, specify the distribute-delay parameter to set a delay in advertising the summary routes. This ensures that the advertised summary routes contain more valid routes and avoids network flapping and incorrect routing information.<p></p>
<span>When OSPFv3 imports external routes and specific routes</span> have been advertised, if the distribute-delay parameter is specified in the <b><span class="cmdname">asbr-summary</span></b> command, the specific routes are not withdrawn immediately. After the delay expires, the specific routes are withdrawn and the summary route is advertised.<p></p>
<span>If the distribute-delay parameter is specified in</span> the <b><span class="cmdname">asbr-summary</span></b> command for OSPFv3 route summarization and then external routes are imported, specific routes and the summary route are not advertised before the delay expires. The summary route is advertised only after the delay expires.</p>
<p><strong>Precautions</strong></p>
<p>This command applies only to ASBRs and is used to summarize routes imported by OSPFv3. The <b><span class="cmdname">abr-summary</span></b> command configures route summarization on an area border router (ABR).<p></p>
<span>When the summarized route changes</span>, the cost of the summary LSA may change, triggering route update. In specific scenarios, routing microloops may be triggered, causing temporary service interruptions. To prevent this problem, specify a fixed cost value when configuring summarization.<p></p>
<span>After the imported routes are summarized</span>, the following situations occur:</p>

<ul><li>If the local device is an ASBR in a common area, the local device summarizes all imported Type 5 LSAs within the summary address range.</li><li>If the local device is an ASBR in an NSSA, the local device summarizes all imported Type 7 LSAs within the summary address range.</li><li>If the local device functions as both an ASBR and an ABR in an NSSA, the local device summarizes routes of all imported Type 5 and Type 7 LSAs within the summary address range, but does not summarize routes of Type 5 LSAs translated from Type 7 LSAs.</li></ul>

<p>The metric type and cost of the LSA generated after route summarization are as follows:</p>

<ul><li>If the routes to be summarized have both metric type 1 and metric type 2 or have only metric type 2, the metric type of the LSA generated after summarization is 2. If the cost value is not specified, the cost value is the maximum cost value of the summarized LSAs with metric type 2 plus 1.</li><li>If the LSAs to be summarized have only metric type 1, the metric type of the LSA generated after summarization is 1. If the cost value is not specified, the maximum cost value of the LSAs with metric type 1 is used as the cost value.</li><li>If the summarized LSAs contain both Type 5 LSAs and Type 5 LSAs converted from Type 7 LSAs, the metric type and cost of the summarized LSAs are obtained from the summarized Type 5 LSAs.</li><li>Only when only Type 5 LSAs converted from Type 7 LSAs exist, the metric type and cost of the LSA generated after summarization are obtained from Type 5 LSAs converted from Type 7 LSAs.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942842577__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure an ASBR to summarize two imported OSPFv3 routes into a route with cost 20 and tag 100.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ospfv3 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospfv3-1] <strong>asbr-summary 2001:db8:1::1 16 cost 20 tag 100</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_OSPFv3_Configuration_Command_title.html">OSPFv3 Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/AREAV3(OSPFCOMMOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/OSPFV3-AREA-AUTH(OSPFCOMMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>