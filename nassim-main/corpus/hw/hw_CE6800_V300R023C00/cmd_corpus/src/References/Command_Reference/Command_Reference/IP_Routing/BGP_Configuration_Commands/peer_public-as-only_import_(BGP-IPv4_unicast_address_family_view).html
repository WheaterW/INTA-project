
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="peer public-as-only import (BGP-IPv4 unicast address family view)">
<meta name="DC.subject" content="peer public-as-only import (BGP-IPv4 unicast address family view)">
<meta name="keywords" content="peer public-as-only import (BGP-IPv4 unicast address family view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_BGP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/BGP-PEER-PUBLIC-AS-ONLY-IMPORT(BGPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/GROUP-IPV4-PUBLIC-AS-ONLY-IMPORT(BGPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_BGPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942843921">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>peer public-as-only import (BGP-IPv4 unicast address family view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942843921"></a><a name="EN-US_CLIREF_0000001942843921"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">peer public-as-only import (BGP-IPv4 unicast address family view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942843921__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">peer public-as-only import</span></b> command enables a device to remove private AS numbers from the AS_Path list in received BGP Update messages.</p>
<p>The <b><span class="cmdname">undo peer public-as-only import</span></b> command allows a device to accept BGP Update messages in which the AS_Path list carries private AS numbers.</p>
</p>
<p>By default, a device does not remove private AS numbers from the AS_Path list when receiving BGP Update messages.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942843921__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">peer </span></b><i><span class="varname">peerIpv4Addr</span></i> <strong><span>public-as-only</span></strong> <strong><span>import</span></strong> <strong><span>disable</span></strong></p>

<p><b><span class="cmdname">peer </span></b><i><span class="varname">peerIpv4Addr</span></i> <strong><span>public-as-only</span></strong> <strong><span>import</span></strong> [ <strong><span>force</span></strong> ]</p>

<p><b><span class="cmdname">undo peer </span></b><i><span class="varname">peerIpv4Addr</span></i> <strong><span>public-as-only</span></strong> <strong><span>import</span></strong> <strong><span>disable</span></strong></p>

<p><b><span class="cmdname">undo peer </span></b><i><span class="varname">peerIpv4Addr</span></i> <strong><span>public-as-only</span></strong> <strong><span>import</span></strong> [ <strong><span>force</span></strong> ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942843921__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">peerIpv4Addr</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an IPv4 peer address.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>It is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>disable</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Disables a device from removing the private AS numbers from the AS_Path list in received BGP Update messages.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>force</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Deletes all private AS numbers from the AS_Path attribute.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942843921__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>BGP-IPv4 unicast address family view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942843921__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942843921__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p>Generally, AS numbers range from 1 to 4294967295, including the public, private, and reserved AS numbers. If the <b><span class="cmdname">private-4-byte-as enable</span></b> command is not run, private AS numbers range from 64512 to 65534, and the AS number 65535 is reserved for special use. If the <b><span class="cmdname">private-4-byte-as enable</span></b> command is run, private AS numbers range from 64512 to 65534 and from 4200000000 to 4294967294, and the AS numbers 65535 and 4294967295 are reserved for special use.<p></p>
<span>Public AS numbers can be used over the Internet</span>, whereas private AS numbers cannot be advertised to the Internet. If private AS numbers are advertised to the Internet, routing loops may occur. Therefore, private AS numbers are used only within a routing domain.<p></p>
<span>This command enables BGP to process the private and</span> reserved AS numbers in the AS_Path attribute of BGP routes as required. Reserved AS numbers are processed the same as private AS numbers. The following uses private AS numbers as an example to illustrate the processing modes:<p></p>
<span>If the</span> <b><span class="cmdname">peer public-as-only import</span></b> command is run without any optional parameter specified and the AS_Path attribute of BGP routes contains only private AS numbers, BGP deletes these private AS numbers and then accepts update messages. If the AS_Path contains both public and private AS numbers, BGP does not delete the private AS numbers. If private AS numbers are deleted in this case, a forwarding error may occur. To forcibly delete private AS numbers from the AS_Path, configure force.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942843921__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">


<div class="p"># Enable a BGP device to remove all the private AS numbers from the AS_Path list in BGP Update messages received from a specified peer.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>bgp 100</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp] <strong>peer 10.1.1.1 as-number 100</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp] <strong>ipv4-family unicast</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp-af-ipv4] <strong>peer 10.1.1.1 public-as-only import</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_BGP_Configuration_Commands_title.html">BGP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/BGP-PEER-PUBLIC-AS-ONLY-IMPORT(BGPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/GROUP-IPV4-PUBLIC-AS-ONLY-IMPORT(BGPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>