
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="arp detect mode unicast">
<meta name="DC.subject" content="arp detect mode unicast">
<meta name="keywords" content="arp detect mode unicast">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_ARP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/ARPGLOBALDETECT_1(ARPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/ARPGLOBALDETECT_2(ARPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="ARP">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="ARP">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="ARP">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Creator" content="SUBSYS_ID_ARPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907602332">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>arp detect mode unicast</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907602332"></a><a name="EN-US_CLIREF_0000001907602332"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1"><span>arp detect mode unicast</span></h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907602332__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">arp detect mode unicast</span></b> command configures an interface to send Address Resolution Protocol (ARP) aging probe messages in unicast mode.</p>
<p>The <b><span class="cmdname">undo arp detect mode unicast</span></b> command restores the default configuration.</p>
</p>
<p>By default, an interface sends the last ARP aging probe message in broadcast mode and the rest ARP aging probe messages in unicast mode.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907602332__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">arp detect mode unicast</span></b></p>

<p><b><span class="cmdname">undo arp detect mode unicast</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907602332__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
None
</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907602332__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100ge sub-interface view,</span><span>100GE interface view,</span><span>10GE sub-interface view,</span><span>10GE interface view,</span><span>1200ge sub-interface view,</span><span>200GE sub-interface view,</span><span>200GE interface view,</span><span>25GE sub-interface view,</span><span>25GE interface view,</span><span>400GE sub-interface view,</span><span>400GE interface view,</span><span>50GE sub-interface view,</span><span>50GE interface view,</span><span>Eth-Trunk sub-interface view,</span><span>Eth-Trunk interface view,</span><span>VBDIF interface view,</span><span>VLANIF interface view,</span><span>Interface group view,</span><span>Management interface view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907602332__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907602332__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>Before aging ARP entries, an interface sends ARP aging probe messages at a specified aging probe interval. If responses are received, the device updates ARP entries on the interface. If no response is received for some ARP entries within a specified interval, the device ages these ARP entries. An aging probe message can be unicast or broadcast. To configure an interface to send aging probe messages in unicast mode, run the command.<p></p>
<span>When a non-Huawei device is connected to a Huawei</span> device, the non-Huawei device receives an ARP aging probe message whose destination MAC address is a broadcast address. If the ARP entry contains the mapping between the IP address and MAC address of the Huawei device, the non-Huawei device discards the ARP aging probe message. The Huawei device deletes the corresponding ARP entry because it does not receive a response to the ARP probe message. As a result, traffic from the network side cannot be forwarded. To solve this problem, configure the Huawei device to send ARP aging probe messages in unicast mode, and configure the non-Huawei device to respond to the unicast ARP aging probe messages.</p>
<p><strong>Precautions</strong></p>
<p>If the IP address of the peer device remains the same but the MAC address changes frequently, configuring an interface to send ARP aging probe messages in broadcast mode is recommended.<p></p>
<span>If the MAC address of the peer device remains the</span> same, the network bandwidth is insufficient, and the aging time of ARP entries is set to a small value, configuring an interface to send ARP aging probe messages in unicast mode is recommended.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907602332__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure an interface to send ARP aging probe messages in unicast mode.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>arp detect mode unicast</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_ARP_Configuration_Commands_title.html">ARP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/ARPGLOBALDETECT_1(ARPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/ARPGLOBALDETECT_2(ARPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>