
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ping tcp">
<meta name="DC.subject" content="ping tcp">
<meta name="keywords" content="ping tcp">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Ping_and_Tracert_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/PING6(DGNIP4OM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/TRACERT(DGNIP4OM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Ping and Tracert">
<meta name="featuretype" content="System Monitoring">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Ping and Tracert">
<meta name="featuretype" content="System Monitoring">
<meta name="featurename" content="Ping and Tracert">
<meta name="featuretype" content="System Monitoring">
<meta name="featuretype" content="System Monitoring">
<meta name="featuretype" content="System Monitoring">
<meta name="DC.Creator" content="SUBSYS_ID_DGNIP4OM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942848181">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ping tcp</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942848181"></a><a name="EN-US_CLIREF_0000001942848181"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">ping tcp</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942848181__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">ping tcp</span></b> command tests whether the link between the client and TCP server is reachable and checks the speed of setting up a TCP connection through three-way handshake.</p>
</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942848181__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">ping tcp </span></b>[ <strong><span>-c</span></strong> <i><span class="varname">count</span></i> | <strong><span>-t</span></strong> <i><span class="varname">timeout</span></i> | <strong><span>-m</span></strong> <i><span class="varname">interval</span></i> | <strong><span>-h</span></strong> <i><span class="varname">ttl</span></i> | <strong><span>-vpn-instance</span></strong> <i><span class="varname">vrfName</span></i> | <strong><span>-passroute</span></strong> | <strong><span>-a</span></strong> <i><span class="varname">srcAddress</span></i> ] <sup>*</sup> <i><span class="varname">destAddress</span></i> [ <i><span class="varname">destPort</span></i> ]</p>


</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942848181__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>-c</span></strong> <i><span class="varname">count</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the number of messages to be sent.</p>
<p>After you run the ping tcp command, the sequence number of an ICMP echo request message starts from 1 and is incremented by 1 for each subsequent message. By default, a device sends five ICMP echo request messages for a ping operation. You can configure the parameter -c to specify the number of ICMP echo request messages to be sent. If the peer is reachable, it sends five ICMP echo reply messages with the same sequence numbers as those of the ICMP echo request messages.</p>
<p>If the network quality is poor, you can increase the parameter value to determine the network quality based on the packet loss rate.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 4294967295. The default value is 5.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>-t</span></strong> <i><span class="varname">timeout</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the length of time to wait for an ICMP echo reply message after an ICMP echo request message is sent.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 65535, in milliseconds. The default value is 2000.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>-m</span></strong> <i><span class="varname">interval</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an interval at which ICMP echo request messages are sent.</p>
<p>Each time the source sends an ICMP echo request message, the source waits a period of time (500 ms by default) before sending the next ICMP echo request message. You can set the time to wait before sending the next ICMP echo request message. If network quality is poor, setting this parameter to a value greater than or equal to 2000 ms is recommended.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 10000, in milliseconds. The default value is 500.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>-h</span></strong> <i><span class="varname">ttl</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the TTL value.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 255. The default value is 30.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>-vpn-instance</span></strong> <i><span class="varname">vrfName</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a VPN instance.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 31 case-sensitive characters, spaces not supported. In addition, the VPN instance name must not be _public_. When double quotation marks are used around the string, spaces are allowed in the string.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>-passroute</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Sends packets without searching for the routing table.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>-a</span></strong> <i><span class="varname">srcAddress</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the source IP address for echo request packets.</p>
<p>If no source IP address is specified, the IP address of the outbound interface is used.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>Dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">destAddress</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the IP address or host name of a remote system.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><ul><li>If the value is an IPv4 address, it is in dotted decimal notation.</li><li>If the value is a host name, it is a string of case-sensitive characters without spaces.</li></ul>
</div>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">destPort</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the TCP server port.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 65535. The default value is 7.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942848181__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>All views</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942848181__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>0: Visit level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942848181__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>To test whether the link between the client and TCP server is reachable and check the speed of setting up a TCP connection through three-way handshake, run the <b><span class="cmdname">ping tcp</span></b> command.<p></p>
<span>The command output helps detect the performance indicators</span> such as the network connectivity, packet loss rate, and delay.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942848181__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Test whether the TCP server with the IP address 10.1.1.1 and port number 3000 is reachable, and check the TCP connection setup speed and performance indicators.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>ping tcp 10.1.1.1 3000</strong>
  PING TCP 10.1.1.1: 3000, press CTRL_C to break
    Reply from 10.1.1.1: Sequence=1 time=3 ms
    Reply from 10.1.1.1: Sequence=2 time=3 ms
    Reply from 10.1.1.1: Sequence=3 time=3 ms
    Reply from 10.1.1.1: Sequence=4 time=3 ms
    Reply from 10.1.1.1: Sequence=5 time=4 ms

  --- TCP ping statistics ---
    5 packet(s) transmitted
    5 packet(s) received
    0.00% packet loss
    round-trip min/avg/max = 3/3/4 ms
</pre>
</div>


<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Description of the <b><span class="cmdname">ping tcp</span></b> command output</caption>
    
    
<thead align="left">
<tr>
<th align="left" class="cellrowborder" valign="top" width="44.5%" id="mcps1.3.7.2.2.3.1.1" liSelected="liSelected">Item</th>

<th align="left" class="cellrowborder" valign="top" width="55.50000000000001%" id="mcps1.3.7.2.2.3.1.2" liSelected="liSelected">Description</th>

</tr>

</thead>

<tbody>
<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.2.2.3.1.1 ">PING TCP x.x.x.x</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.2.2.3.1.2 "><p>IP address of the destination host.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.2.2.3.1.1 ">TCP ping statistics</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.2.2.3.1.2 "><div class="p"><p>Statistics collected in the tcp ping test on the destination host. The statistics include the following information:</p>
<ul><li>packets transmitted: number of sent ICMP echo request packets.</li><li>packets received: number of received ICMP echo reply packets.</li><li>% packet loss: percentage of unresponded packets to total sent packets.</li><li>round-trip min/avg/max: minimum, average, and maximum time of responses.</li></ul>
</div>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.2.2.3.1.1 ">press CTRL_C to break</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.2.2.3.1.2 "><p>You can terminate the ongoing tcp ping test by pressing Ctrl+C.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.2.2.3.1.1 ">Reply from x.x.x.x</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.2.2.3.1.2 "><div class="p"><p>Destination host of an ICMP echo request packet. An ICMP Echo Response packet contains the following:</p>
<ul><li>sequence: sequence number of the packet.</li><li>time: timeout period, in milliseconds. If no ICMP Echo Response packet is received within the timeout period, the system displays "Request time out".</li></ul>
</div>
</td>

</tr>

</tbody>

</table>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Ping_and_Tracert_Configuration_Commands_title.html">Ping and Tracert Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/PING6(DGNIP4OM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/TRACERT(DGNIP4OM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>