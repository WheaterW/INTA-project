
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="echo-passive">
<meta name="DC.subject" content="echo-passive">
<meta name="keywords" content="echo-passive">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_BFD_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DISPLAYDEBUG(BFDOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IPV6TRAP-SEPARATED(BFDOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="BFD">
<meta name="featuretype" content="High Availability">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="BFD">
<meta name="featuretype" content="High Availability">
<meta name="featurename" content="BFD">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="DC.Creator" content="SUBSYS_ID_BFDOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907607364">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>echo-passive</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907607364"></a><a name="EN-US_CLIREF_0000001907607364"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">echo-passive</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907607364__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">echo-passive</span></b> command enables passive BFD echo.</p>
<p>The <b><span class="cmdname">undo echo-passive</span></b> command disables passive BFD echo.</p>
</p>
<p>By default, passive BFD echo is disabled.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907607364__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">echo-passive </span></b>{ <strong><span>all</span></strong> | <strong><span>acl</span></strong> <i><span class="varname">basic-acl-number</span></i> }</p>

<p><b><span class="cmdname">undo echo-passive</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907607364__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>all</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables passive echo for all BFD sessions.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>acl</span></strong> <i><span class="varname">basic-acl-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the number of a basic ACL, which determines rules for enabling passive BFD echo.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 2000 to 2999.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907607364__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>BFD view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907607364__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907607364__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>BFD provides asynchronous detection mode. An auxiliary function of the mode is the echo function, which must work in this mode. When the echo function is activated, the local system sends a BFD control packet and the remote system loops back the packet through the forwarding channel. If several consecutive echo packets are not received, the session is declared to be Down.<p></p>
<span>If a device that supports the echo function is deployed</span> on a network, you can run the <b><span class="cmdname">echo-passive</span></b> command to enable passive BFD echo for interworking with other vendors' devices.</p>
</p>
<p><strong>Prerequisites</strong></p>
<p>BFD has been globally enabled using the <b><span class="cmdname">bfd</span></b> command in the system view.<p></p>
<span>The ACL and its rules have been configured respectively</span> using the <b><span class="cmdname">acl</span></b> and <b><span class="cmdname">rule</span></b> commands if an ACL is used to determine rules for enabling passive echo.</p>
<p><strong>Precautions</strong></p>
<p>Passive BFD echo applies only to single-hop IP link scenarios and works with asynchronous BFD. When a BFD session works in asynchronous echo mode, the two endpoints of the BFD session perform both slow detection in asynchronous mode and quick detection in echo mode.<p></p>
<span>If an ACL rule is created or modified after a BFD</span> session goes Up through negotiations, this ACL rule can take effect only after the BFD session goes Down and then Up or the parameters of the BFD session are modified.<p></p>
<span>You can enable passive echo for BFD control packets</span> that match the permit action and disable passive echo for BFD control packets that match the deny action or do not match any ACL rules.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907607364__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable passive echo for BFD sessions that match ACL 2000 rules.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>acl 2000</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-acl-basic-2000] <strong>rule permit source 10.1.1.1 0</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-acl-basic-2000] <strong>rule permit source 10.1.1.2 0</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-acl-basic-2000] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>bfd</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bfd] <strong>echo-passive acl 2000</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_BFD_Configuration_Commands_title.html">BFD Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DISPLAYDEBUG(BFDOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/IPV6TRAP-SEPARATED(BFDOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>