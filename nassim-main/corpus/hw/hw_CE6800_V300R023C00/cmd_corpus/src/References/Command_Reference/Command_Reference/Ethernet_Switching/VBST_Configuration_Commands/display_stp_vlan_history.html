
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="display stp vlan history">
<meta name="DC.subject" content="display stp vlan history">
<meta name="keywords" content="display stp vlan history">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-VBST_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DISPLAY_STP_VLAN_BRIDGE.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DISPLAY_STP_VLAN_INFORMATION.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="VBST">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="VBST">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featurename" content="VBST">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Creator" content="SUBSYS_ID_VBST">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942841257">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>display stp vlan history</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942841257"></a><a name="EN-US_CLIREF_0000001942841257"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">display stp vlan history</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942841257__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">display stp vlan history</span></b> command displays historical port role changes and priorities of triggering port rule changes.</p>
</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942841257__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">display stp vlan </span></b>[ <i><span class="varname">vlan-id</span></i> ] <strong><span>history</span></strong></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942841257__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">vlan-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Displays historical information about the spanning tree protocol in a specified VLAN.</p>
<p>If vlan-id is not specified, the historical information about all VLANs is displayed.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>For the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ:The value is an integer ranging from 1 to 4094.</p>
<p>For the CE6885-LL (low latency mode):The value is an integer ranging from 1 to 1023.</p>
</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942841257__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>All views</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942841257__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>1: Monitoring level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942841257__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>In the VBST topology, when a VLAN is configured on an interface, you can run this command to check historical information about the spanning tree protocol of an interface that joins the VLAN. At this time, you do not need to pay attention to the mapping between VLANs and instances.</p>
<p><strong>Prerequisites</strong></p>
<p>The following configuration must be performed before you run this command:</p>

<ul><li>In the system view, the <strong>stp enable</strong> command has been run to enable VBST globally.</li><li>In the interface view, the <strong>stp enable</strong> command has been run to enable VBST on a port.</li></ul>
<p><strong>Precautions</strong></p>
<p>Nothing is displayed if VBST is not enabled globally or on ports.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942841257__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The actual command output varies according to the device. The command output here is only an example.</p>
</div></div>

<div class="p"># Display historical information of VLAN 2 when running VBST.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>display stp vlan 2 history</strong>
 VLAN 2 history trace:
 ----------------------------------------------------------
 Interface: 100GE<span>1/0/1</span>
     Role Transition       : Disable -&gt; Designated
     Is Aged               : Yes
     Time                  : 2016-10-08 14:42:48
     Root Priority         : 32770
     Root MAC              : 00e0-fc12-3456
     Root Path Cost        : 0
     Designated Priority   : 32770
     Designated Bridge MAC : 00e0-fc12-3456
     Port Priority         : 128
     Port Id               : 2
</pre>
</div>


<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Description of the <b><span class="cmdname">display stp vlan history</span></b> command output</caption>
    
    
<thead align="left">
<tr>
<th align="left" class="cellrowborder" valign="top" width="44.5%" id="mcps1.3.7.3.2.3.1.1" liSelected="liSelected">Item</th>

<th align="left" class="cellrowborder" valign="top" width="55.50000000000001%" id="mcps1.3.7.3.2.3.1.2" liSelected="liSelected">Description</th>

</tr>

</thead>

<tbody>
<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Role Transition</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Role change.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Designated Priority</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Priority of the specified bridge.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Designated Bridge MAC</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>MAC address of the specified bridge.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Is Aged</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Whether a timer is aged.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Time</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Displayed time.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Root Priority</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Priority of the root bridge.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Root MAC</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>MAC address of the root bridge.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Root Path Cost</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Root path cost.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Port Priority</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Port priority.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Port Id</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Port index.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Interface</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Port name.</p>
</td>

</tr>

</tbody>

</table>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-VBST_Configuration_Commands_title.html">VBST Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DISPLAY_STP_VLAN_BRIDGE.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/DISPLAY_STP_VLAN_INFORMATION.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>