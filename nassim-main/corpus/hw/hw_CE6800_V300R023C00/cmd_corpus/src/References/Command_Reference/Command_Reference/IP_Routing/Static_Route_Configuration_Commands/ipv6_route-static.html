
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ipv6 route-static">
<meta name="DC.subject" content="ipv6 route-static">
<meta name="keywords" content="ipv6 route-static">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Static_Route_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/RELAYLABEL6(ROUTEOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IPV6BFDPARA(STATICRTOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IPv4 Static Route">
<meta name="featurename" content="IPv6 Static Route">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="IPv4 Static Route">
<meta name="featurename" content="IPv6 Static Route">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="IPv4 Static Route">
<meta name="featurename" content="IPv6 Static Route">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_STATICRTOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907763092">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ipv6 route-static</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907763092"></a><a name="EN-US_CLIREF_0000001907763092"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">ipv6 route-static</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907763092__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">ipv6 route-static</span></b> command configures an IPv6 static route on the public network.</p>
<p>The <b><span class="cmdname">undo ipv6 route-static</span></b> command deletes a configured IPv6 static route of the public network.</p>
</p>
<p>By default, no IPv6 static route is configured on the public network.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907763092__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
























<p><b><span class="cmdname">ipv6 route-static </span></b><i><span class="varname">dest-ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> <i><span class="varname">nexthop-ipv6-address</span></i> [ <strong><span>recursive-lookup</span></strong> <strong><span>host-route</span></strong> ] [ <strong><span>preference</span></strong> <i><span class="varname">preference</span></i> | <strong><span>tag</span></strong> <i><span class="varname">tag</span></i> ] <sup>*</sup> [ <strong><span>bfd</span></strong> <strong><span>enable</span></strong> | <strong><span>track</span></strong> { <strong><span>bfd-session</span></strong> <i><span class="varname">cfg-name</span></i> | <strong><span>nqa</span></strong> <i><span class="varname">admin-name</span></i> <i><span class="varname">test-name</span></i> } ] [ <strong><span>inter-protocol-ecmp</span></strong> ] [ <strong><span>description</span></strong> <i><span class="varname">text</span></i> ]</p>

<p><b><span class="cmdname">ipv6 route-static </span></b><i><span class="varname">dest-ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] <i><span class="varname">nexthop-ipv6-address</span></i> [ <strong><span>recursive-lookup</span></strong> <strong><span>host-route</span></strong> ] [ <strong><span>preference</span></strong> <i><span class="varname">preference</span></i> | <strong><span>tag</span></strong> <i><span class="varname">tag</span></i> ] <sup>*</sup> [ <strong><span>bfd</span></strong> <strong><span>enable</span></strong> | <strong><span>track</span></strong> { <strong><span>bfd-session</span></strong> <i><span class="varname">cfg-name</span></i> | <strong><span>nqa</span></strong> <i><span class="varname">admin-name</span></i> <i><span class="varname">test-name</span></i> } ] <strong><span>inherit-cost</span></strong> [ <strong><span>inter-protocol-ecmp</span></strong> ] [ <strong><span>description</span></strong> <i><span class="varname">text</span></i> ]</p>

<p><b><span class="cmdname">ipv6 route-static </span></b><i><span class="varname">dest-ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> [ <strong><span>preference</span></strong> <i><span class="varname">preference</span></i> | <strong><span>tag</span></strong> <i><span class="varname">tag</span></i> ] <sup>*</sup> [ <strong><span>description</span></strong> <i><span class="varname">text</span></i> ]</p>

<p><b><span class="cmdname">undo ipv6 route-static </span></b><i><span class="varname">dest-ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> <i><span class="varname">nexthop-ipv6-address</span></i></p>

<p><b><span class="cmdname">undo ipv6 route-static </span></b><i><span class="varname">dest-ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i></p>


<p><b><span class="cmdname">ipv6 route-static </span></b><i><span class="varname">dest-ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> <i><span class="varname">nexthop-ipv6-address</span></i> [ <strong><span>recursive-lookup</span></strong> <strong><span>host-route</span></strong> ] [ <strong><span>preference</span></strong> <i><span class="varname">preference</span></i> | <strong><span>tag</span></strong> <i><span class="varname">tag</span></i> ] <sup>*</sup> [ <strong><span>bfd</span></strong> <strong><span>enable</span></strong> | <strong><span>track</span></strong> { <strong><span>bfd-session</span></strong> <i><span class="varname">cfg-name</span></i> | <strong><span>nqa</span></strong> <i><span class="varname">admin-name</span></i> <i><span class="varname">test-name</span></i> } ] [ <strong><span>inter-protocol-ecmp</span></strong> ] [ <strong><span>description</span></strong> <i><span class="varname">text</span></i> ]</p>

<p><b><span class="cmdname">ipv6 route-static </span></b><i><span class="varname">dest-ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> } [ <i><span class="varname">nexthop-ipv6-address</span></i> ] [ <strong><span>preference</span></strong> <i><span class="varname">preference</span></i> | <strong><span>tag</span></strong> <i><span class="varname">tag</span></i> ] <sup>*</sup> [ <strong><span>bfd</span></strong> <strong><span>enable</span></strong> | <strong><span>track</span></strong> { <strong><span>bfd-session</span></strong> <i><span class="varname">cfg-name</span></i> | <strong><span>nqa</span></strong> <i><span class="varname">admin-name</span></i> <i><span class="varname">test-name</span></i> } ] [ <strong><span>inter-protocol-ecmp</span></strong> ] [ <strong><span>description</span></strong> <i><span class="varname">text</span></i> ]</p>



</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907763092__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">dest-ipv6-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies  the destination IPv6 address.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a 32-digit hexadecimal number in the format X:X:X:X:X:X:X:X.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">prefix-length</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the length of an IPv6 prefix.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>It is an integer ranging from 0 to 128.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of an IPv6 address family-enabled VPN instance. If a VPN instance is specified, the static route searches the routing table of the VPN instance for an outbound interface based on the configured nexthop-ipv6-address.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p><p>The value is a string of 1 to 31 case-sensitive characters without spaces. The VPN instance name cannot be _public_. The character string can contain spaces if it is enclosed with double quotation marks (").</p>
<p>If nexthop-ipv6-address is not specified, the next-table function is configured. After receiving a packet, the searches the public network forwarding table for a forwarding path, finds the destination VPN instance, and then searches the destination VPN instance forwarding table for a forwarding path.</p>
</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">nexthop-ipv6-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the next-hop IPv6 address.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a 32-digit hexadecimal number in the format X:X:X:X:X:X:X:X.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>recursive-lookup</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Recursive route lookup policy.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>host-route</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Recurses the static route to a 128-bit host route.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>preference</span></strong> <i><span class="varname">preference</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a priority for static routes.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 1 to 255. The default value is 60. A smaller value indicates a higher preference.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>tag</span></strong> <i><span class="varname">tag</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the tag value of a static route. You can configure different tag values to classify static routes and implement different routing management policies.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 4294967295. The default value is 0.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>bfd</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Binds a dynamic BFD session to static routes to quickly detect faults.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>enable</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Binds a dynamic BFD session to static routes to quickly detect faults.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>track</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a monitored object.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>bfd-session</span></strong> <i><span class="varname">cfg-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Associates a static BFD session with the static route to fast detect faults.</p>
<p>The undo ip route-static [ track bfd-session ] all command with track bfd-session cfg-name specified dissociates the static route from the current BFD session only without deleting the static route.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 64 case-sensitive characters without spaces.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>nqa</span></strong> <i><span class="varname">admin-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Associates the static route with an NQA test instance to fast detect faults so that the system determines whether to activate the static route based on the NQA link detection result to control route advertisement and guide remote traffic.</p>
<p>Currently, only ICMP NQA test instances and TCP NQA test instances can be bound to static routes to implement fast fault detection.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 32 case-sensitive characters.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">test-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Associates the static route with an NQA test instance to fast detect faults so that the system determines whether to activate the static route based on the NQA link detection result to control route advertisement and guide remote traffic.</p>
<p>Currently, only ICMP NQA test instances and TCP NQA test instances can be bound to static routes to implement fast fault detection.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 32 case-sensitive characters.</p>
</td>
</tr>


<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>inter-protocol-ecmp</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<div class="p"><p>Enables inter-protocol load balancing among static routes and the routes of dynamic routing protocols.</p>
<p>If the static route is the optimal or suboptimal route and the optimal and suboptimal routes have the same priority, inter-protocol load balancing can be implemented between the static route and the routes of other routing protocols.</p>
<p>If this parameter is specified for any of the static routes, all the static routes with the specified prefix in the routing table carry out inter-protocol load balancing.</p>
<p>Intra-protocol inter-process load balancing and inter-protocol load balancing cannot coexist. Intra-protocol inter-process load balancing takes precedence over inter-protocol load balancing.</p>
<p>Inter-protocol load balancing does not take effect in the following cases:</p>
<ul><li>import-rib and non-import-rib routes.</li><li>Blackhole route and non-blackhole route.</li><li>Vlink routes and routes of other protocols.</li></ul>
</div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>description</span></strong> <i><span class="varname">text</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the description of a static route.</p>
<p>You can run the display this (system view) and display current-configuration commands to view the description.</p>
<p>Other command parameters, such as bfd and preference, cannot be configured after the description keyword. The content is only used as the description. For example, if ipv6 route-static 2001:db8::1 128 NULL0 description aa preference 10 is configured, aa preference 10 is used as the description.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 150 characters, spaces supported.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interface-type</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the type of an interface.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>-</p>
<p>-</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interface-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the number of an interface.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 63 case-sensitive characters, spaces not supported.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>inherit-cost</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the static route to inherit the cost of recursive routes.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907763092__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907763092__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907763092__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>On a simple network or when the device cannot use a dynamic routing protocol to establish a route to a destination, you can configure static routes.<p></p>
<span>If you specify a VPN instance for a static route</span>, a device searches the routing table of the VPN instance for an outbound interface of the static route and adds the static route to the public routing table. To configure a static route in a VPN instance, run the <b><span class="cmdname">ipv6 route-static vpn-instance</span></b> command.</p>
<p><strong>Prerequisites</strong></p>
<p><p>BFD must have been enabled when you bind a static route to a BFD session.<p></p>
<span>An NQA test instance must have been created when you</span> bind it to a static route.</p>
</p>
<p><strong>Precautions</strong></p>
<p><p>If a totable static route and another static route with a next hop or outbound interface specified have the same prefix and preference, the two static routes overwrite each other.<p></p>
<span>For static routes with the same prefix but different</span> preferences, you can configure a static route with a specified next-hop IP address and a static route with only a VPN instance specified as the next hop; in addition, you can configure a static route with a specified outbound interface and a static route with only a VPN instance specified as the next hop; you can also configure multiple static routes with only VPN instances specified as next hops.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907763092__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure IPv6 static routes on the public network.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ipv6 route-static 2001:db8:1::1 64 2001:db8:2::1</strong>
</pre>
</div>

<div class="p"># Configure an IPv6 static route and enable inter-protocol load balancing among static routes and the routes of dynamic routing protocols.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ipv6 route-static 2001:db8:2::1 64 2001:db8:1::1 inter-protocol-ecmp</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Static_Route_Configuration_Commands_title.html">Static Route Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/RELAYLABEL6(ROUTEOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/IPV6BFDPARA(STATICRTOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>