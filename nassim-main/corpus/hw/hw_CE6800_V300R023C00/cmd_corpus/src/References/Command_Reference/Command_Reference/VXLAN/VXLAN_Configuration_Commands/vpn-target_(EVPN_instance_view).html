
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="vpn-target (EVPN instance view)">
<meta name="DC.subject" content="vpn-target (EVPN instance view)">
<meta name="keywords" content="vpn-target (EVPN instance view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_VXLAN_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/EVPN-VPN-ORF(BGPEVPNOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/VPN-TARGET-AF-IPV4-EVPN(EVPNL3VPNOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="DC.Creator" content="SUBSYS_ID_EVPNOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907767124">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>vpn-target (EVPN instance view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907767124"></a><a name="EN-US_CLIREF_0000001907767124"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">vpn-target (EVPN instance view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907767124__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">vpn-target</span></b> command configures VPN targets for a BD EVPN instance.</p>
<p>The <b><span class="cmdname">undo vpn-target</span></b> command deletes the VPN targets of a BD EVPN instance.</p>
</p>
<p>By default, no VPN target is configured for BD EVPN instances.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907767124__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">vpn-target </span></b>{ <i><span class="varname">vrfRt</span></i> } &amp;&lt;1-8&gt; [ <i><span class="varname">vrfRtType</span></i> ]</p>

<p><b><span class="cmdname">vpn-target auto </span></b>[ <i><span class="varname">vrfRtType</span></i> ]</p>

<p><b><span class="cmdname">undo vpn-target </span></b>{ <i><span class="varname">vrfRt</span></i> } &amp;&lt;1-8&gt; [ <i><span class="varname">vrfRtType</span></i> ]</p>

<p><b><span class="cmdname">undo vpn-target all</span></b></p>

<p><b><span class="cmdname">undo vpn-target auto </span></b>[ <i><span class="varname">vrfRtType</span></i> ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907767124__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">vrfRt</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a VPN target to be configured for a BD EVPN instance.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><p>The format of a VPN target can be as follows:</p>
<ul><li>2-byte AS number:4-byte user-defined number, for example, 1:3. An AS number is an integer ranging from 0 to 65535, and a user-defined number is an integer ranging from 0 to 4294967295. The AS and user-defined numbers cannot be both 0s. This means that a VPN target cannot be 0:0.</li><li>Integral 4-byte AS number:2-byte user-defined number, for example, 65537:3. An AS number is an integer ranging from 65536 to 4294967295, and a user-defined number is an integer ranging from 0 to 65535.</li><li>4-byte AS number in dotted notation:2-byte user-defined number, for example, 0.0:3 or 0.1:0. A 4-byte AS number in dotted notation is in the format of x.y, where x and y are integers ranging from 0 to 65535. A user-defined number is an integer ranging from 0 to 65535. The AS and user-defined numbers cannot be both 0s. This means that a VPN target cannot be 0.0:0.</li><li>32-bit IP address:2-byte user-defined number. For example, 192.168.122.15:1. An IP address ranges from 0.0.0.0 to 255.255.255.255, and a user-defined number is an integer ranging from 0 to 65535.</li></ul>
</div>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">vrfRtType</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Adds a VPN target to both the import or export VPN target lists of a BD EVPN instance.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value can be both, export-extcommunity, and import-extcommunity. If none is specified, the configured VPN target is added to both the import and export VPN target lists by default.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>auto</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the VPN target that is automatically generated.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>all</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Deletes all VPN targets of the EVPN instance address family in the BD view.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907767124__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>EVPN instance view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907767124__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907767124__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>When a local PE advertises EVPN routes to peer PEs, the EVPN routes carry all the export VPN targets of the local EVPN instance. A peer PE installs a received EVPN route to its EVPN routing table only when the route's export VPN target is identical with the import VPN target in the PE's EVPN instance. To configure VPN targets for a BD EVPN instance, run the <b><span class="cmdname">vpn-target</span></b> command.<p></p>
<span>NOTE</span>:<p></p>
<span>A maximum of eight VPN targets can be specified in</span> the <b><span class="cmdname">vpn-target</span></b> command. If you want to configure more VPN targets in an EVPN instance, run the <b><span class="cmdname">vpn-target</span></b> command more than once.</p>
<p><strong>Prerequisites</strong></p>
<p>An RD has been configured for the BD EVPN instance using the <b><span class="cmdname">route-distinguisher</span></b> command.</p>
<p><strong>Configuration Impact</strong></p>
<p>If the <b><span class="cmdname">vpn-target</span></b> command is not run, a PE does not install received EVPN routes into its EVPN routing table.<p></p>
<span>If all the VPN targets of an EVPN instance are deleted</span> using the <b><span class="cmdname">undo vpn-target</span></b> command, all routes learned by the EVPN instance from other VPN instances will be deleted.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907767124__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Add 5:5 to both the export and import VPN target lists of an EVPN instance in BD 11.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>bridge-domain 11</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bd11] <strong>evpn</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bd11-evpn] <strong>route-distinguisher 22:1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bd11-evpn] <strong>vpn-target 5:5 both</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_VXLAN_Configuration_Commands_title.html">VXLAN Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/EVPN-VPN-ORF(BGPEVPNOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/VPN-TARGET-AF-IPV4-EVPN(EVPNL3VPNOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>