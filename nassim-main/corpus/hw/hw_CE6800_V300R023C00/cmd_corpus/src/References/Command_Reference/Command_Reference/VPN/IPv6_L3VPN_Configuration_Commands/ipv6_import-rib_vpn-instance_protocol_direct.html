
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ipv6 import-rib vpn-instance protocol direct">
<meta name="DC.subject" content="ipv6 import-rib vpn-instance protocol direct">
<meta name="keywords" content="ipv6 import-rib vpn-instance protocol direct">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_BGP_MPLS_IPv6_VPN_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SRIMPORTRTVRF6(STATICRTOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SRIMPORTRTSYS6(STATICRTOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IPv6 L3VPN">
<meta name="featuretype" content="VPN">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="IPv6 L3VPN">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="IPv6 L3VPN">
<meta name="featuretype" content="VPN">
<meta name="featuretype" content="VPN">
<meta name="featuretype" content="VPN">
<meta name="DC.Creator" content="SUBSYS_ID_DIRECTRTOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907606864">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ipv6 import-rib vpn-instance protocol direct</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907606864"></a><a name="EN-US_CLIREF_0000001907606864"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">ipv6 import-rib vpn-instance protocol direct</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907606864__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">ipv6 import-rib vpn-instance protocol direct</span></b> command enables a device to import IPv6 routes from a VPN instance to the public network instance's IPv6 routing table.</p>
<p>The <b><span class="cmdname">undo ipv6 import-rib vpn-instance protocol direct</span></b> command disables a device from importing IPv6 routes from a VPN instance to the public network instance's IPv6 routing table.</p>
</p>
<p>By default, a device does not import IPv6 routes from a VPN instance to the public network instance's IPv6 routing table.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907606864__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">

<p><b><span class="cmdname">ipv6 import-rib vpn-instance </span></b><i><span class="varname">vpn-instance-name</span></i> <strong><span>protocol</span></strong> <strong><span>direct</span></strong> [ <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> ]</p>

<p><b><span class="cmdname">undo ipv6 import-rib vpn-instance </span></b><i><span class="varname">vpn-instance-name</span></i> <strong><span>protocol</span></strong> <strong><span>direct</span></strong></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907606864__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">vpn-instance-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a VPN instance.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 31 case-sensitive characters, spaces not supported. In addition, the VPN instance name must not be _public_. When double quotation marks are used around the string, spaces are allowed in the string.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>protocol</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the type of routes to be imported.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>direct</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Imports direct routes.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a route-policy.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The name is a string of 1 to 200 case-sensitive characters, with spaces not supported. When double quotation marks are used around the string, spaces are allowed in the string.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907606864__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907606864__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907606864__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>In IPv6 VPN networking, a VPN instance can communicate only with other VPN instances that have matching VPN targets, but cannot communicate with public network users. If you want the public network and VPN to communicate with each other, ensure that VPN users and public network users can obtain routes from each other. You can run the <b><span class="cmdname">ipv6 import-rib vpn-instance protocol direct</span></b> command to import IPv6 routes from a VPN instance to the public network IPv6 routing table so that public network IPv6 users can obtain routes to access the IPv6 VPN.</p>
<p><strong>Precautions</strong></p>
<p>If the routes imported using the import-rib command are imported by other routing protocols, routing loops may occur. For details, see the precautions for IGP or BGP route import commands.<p></p>
<span>When a route-policy is specified to filter routes</span>, if the address family of the route does not match the address family of the if-match clause in the route-policy, the default matching result depends on whether the <b><span class="cmdname">route-policy address-family mismatch-deny</span></b> command is configured. For details, see the precautions for the <b><span class="cmdname">route-policy address-family mismatch-deny</span></b> command and the scenario description and precautions for the route-policy command.<p></p>
<span>When a route-policy is specified to filter routes</span>, if the next hop-based matching rule is configured in the route-policy node, this command is not supported, and the matching result is Permit.<p></p>
<span>When a route-policy is specified to filter routes</span>, the IPv6 destination address ACL, IPv6 destination address prefix list, route cost, route modulo, route preference, route tag, and outbound interface attributes can be matched. If the referenced route-policy contains an unsupported attribute matching behavior, unexpected results may occur.<p></p>
<span>When a route-policy is specified to filter routes</span>, the route cost, route preference, and route tag can be set. If the referenced route-policy contains unsupported attributes, unexpected results may occur.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907606864__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure a device to import IPv6 direct routes from a VPN instance named vrf1 to the public network instance's IPv6 routing table.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ip vpn-instance vrf1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-vrf1] <strong>ipv6-family</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-vrf1-af-ipv6] <strong>route-distinguisher 100:1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-vrf1-af-ipv6] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-vrf1] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>ipv6 import-rib vpn-instance vrf1 protocol direct</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_BGP_MPLS_IPv6_VPN_Configuration_Commands_title.html">IPv6 L3VPN Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/SRIMPORTRTVRF6(STATICRTOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SRIMPORTRTSYS6(STATICRTOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>