
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ip path detection packet-format arp">
<meta name="DC.subject" content="ip path detection packet-format arp">
<meta name="keywords" content="ip path detection packet-format arp">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-Path_and_Connectivity_Detection_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IP_PATH_DETECTION_ENABLE.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IP_PATH_DETECTION_PACKET-FORMAT_ICMP.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Path and Connectivity Detection">
<meta name="featuretype" content="System Monitoring">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Path and Connectivity Detection">
<meta name="featuretype" content="System Monitoring">
<meta name="featurename" content="Path and Connectivity Detection">
<meta name="featuretype" content="System Monitoring">
<meta name="featuretype" content="System Monitoring">
<meta name="featuretype" content="System Monitoring">
<meta name="DC.Creator" content="SUBSYS_ID_FWM_VXLAN">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942848189">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ip path detection packet-format arp</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942848189"></a><a name="EN-US_CLIREF_0000001942848189"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">ip path detection packet-format arp</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942848189__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">ip path detection packet-format arp</span></b> command enables the connectivity detection function and sets the packet type for connectivity detection to ARP Request packet.</p>
<p>The <b><span class="cmdname">undo ip path detection packet-format arp</span></b> command restores the default settings.</p>
</p>
<p>By default, the connectivity detection function is disabled.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942848189__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">ip path detection packet-format arp </span></b>[ <strong><span>src-mac</span></strong> <i><span class="varname">srcmacaddr</span></i> ] [ <strong><span>dst-mac</span></strong> <i><span class="varname">dstmacaddr</span></i> ] <strong><span>src-ip</span></strong> <i><span class="varname">srcip</span></i> <strong><span>dst-ip</span></strong> <i><span class="varname">dstip</span></i></p>

<p><b><span class="cmdname">undo ip path detection packet-format arp </span></b>[ <strong><span>src-mac</span></strong> <i><span class="varname">srcmacaddr</span></i> ] [ <strong><span>dst-mac</span></strong> <i><span class="varname">dstmacaddr</span></i> ] <strong><span>src-ip</span></strong> <i><span class="varname">srcip</span></i> <strong><span>dst-ip</span></strong> <i><span class="varname">dstip</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942848189__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>src-mac</span></strong> <i><span class="varname">srcmacaddr</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the source MAC address as the detection flag.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is in H-H-H format. H is a 4-bit hexadecimal number, such as 00e0 or fc01.</p>
<p>If an H contains fewer than 4 digits, the left-most digits are padded with zeros. For example, e0 is displayed as 00e0.</p>
<p>The MAC address cannot be set to FFFF-FFFF-FFFF.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>dst-mac</span></strong> <i><span class="varname">dstmacaddr</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the destination MAC address as the detection flag.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is in H-H-H format. H is a 4-bit hexadecimal number, such as 00e0 or fc01.</p>
<p>If an H contains fewer than 4 digits, the left-most digits are padded with zeros. For example, e0 is displayed as 00e0.</p>
<p>The MAC address cannot be set to FFFF-FFFF-FFFF.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>src-ip</span></strong> <i><span class="varname">srcip</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Sets the source IPv4 address as the detection flag.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>dst-ip</span></strong> <i><span class="varname">dstip</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the destination IPv4 address as the detection flag.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942848189__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942848189__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942848189__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p>This function corresponds to the MAC ping function in connectivity detection on iMaster NCE-Fabric. It detects connectivity between two VMs only on a Layer 2 network. iMaster NCE-Fabric automatically delivers the configuration corresponding to the <b><span class="cmdname">ip path detection packet-format arp</span></b> command to the device through NETCONF, and specifies the source and destination IPv4 addresses as the detection flags. iMaster NCE-Fabric delivers the ARP request packet to the device through a Packet-out packet. The source and destination IPv4 addresses of the ARP request packet are used as those of the detection flags, respectively. After receiving the ARP Reply packet corresponding to the ARP Request packet, the device encapsulates the ARP Reply packet into a Packet-in packet and sends the packet to iMaster NCE-Fabric. If iMaster NCE-Fabric receives an ARP Reply packet within the timeout interval, the connectivity between the source and destination IPv4 addresses is normal. If iMaster NCE-Fabric does not receive any ARP Reply packet within the timeout interval, the source IPv4 address is unreachable to the destination IPv4 address.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942848189__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable the connectivity detection function and set the packet type for connectivity detection to ARP Request packet. Specify the source and destination IPv4 addresses as the detection flags. The device identifies ARP Request packets based on the source and destination IPv4 addresses.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ip path detection packet-format arp src-ip 10.1.1.1 dst-ip 10.2.2.2</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-Path_and_Connectivity_Detection_Configuration_Commands_title.html">Path and Connectivity Detection Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/IP_PATH_DETECTION_ENABLE.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/IP_PATH_DETECTION_PACKET-FORMAT_ICMP.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>