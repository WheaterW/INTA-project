
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="display isis spf-log">
<meta name="DC.subject" content="display isis spf-log">
<meta name="keywords" content="display isis spf-log">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IS-IS_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DISPLAY-ISIS-ROUTE(ISISCOMMOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DISPLAY-ISIS-SPF-LOG-NOVPN(ISISCOMMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IS-IS">
<meta name="featurename" content="IS-ISv6">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="IS-IS">
<meta name="featurename" content="IS-ISv6">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="IS-IS">
<meta name="featurename" content="IS-ISv6">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_ISISCOMMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907605624">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>display isis spf-log</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907605624"></a><a name="EN-US_CLIREF_0000001907605624"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">display isis spf-log</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907605624__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">display isis spf-log</span></b> command displays the SPF calculation log of IS-IS.</p>
</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907605624__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">





<p>For CE8851-32CQ8DQ-P, CE8850-HAM, CE8850-SAN, CE8851K, CE8855, CE8851-32CQ4BQ, CE6860-SAN, CE6866, CE6860-HAM, CE6866K, CE6820H, CE6820H-K, CE6820S, CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6855-48XS8CQ, CE6885, CE6885-T, CE6885-LL (standard forwarding mode), CE6863E-48S8CQ, CE6885-SAN: </p>

<p><b><span class="cmdname">display isis </span></b><i><span class="varname">process-id</span></i> <strong><span>spf-log</span></strong> <strong><span>spf</span></strong> [ <strong><span>ipv6</span></strong> | [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> ] ] <sup>*</sup></p>

<p><b><span class="cmdname">display isis spf-log </span></b>[ <i><span class="varname">process-id</span></i> | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] <strong><span>spf</span></strong> [ <strong><span>ipv6</span></strong> | [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> ] ] <sup>*</sup></p>

<p><b><span class="cmdname">display isis </span></b><i><span class="varname">process-id</span></i> <strong><span>spf-log</span></strong> <strong><span>frr</span></strong> [ <strong><span>ipv6</span></strong> | [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> ] ] <sup>*</sup></p>

<p><b><span class="cmdname">display isis spf-log </span></b>[ <i><span class="varname">process-id</span></i> | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] <strong><span>frr</span></strong> [ <strong><span>ipv6</span></strong> | [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> ] ] <sup>*</sup></p>

<p><b><span class="cmdname">display isis </span></b><i><span class="varname">process-id</span></i> <strong><span>spf-log</span></strong> <strong><span>prc</span></strong> [ <strong><span>ipv6</span></strong> ] <sup>*</sup></p>

<p><b><span class="cmdname">display isis spf-log </span></b>[ <i><span class="varname">process-id</span></i> | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] <strong><span>prc</span></strong> [ <strong><span>ipv6</span></strong> ]</p>

<p><b><span class="cmdname">display isis </span></b>[ <i><span class="varname">process-id</span></i> ] <strong><span>spf-log</span></strong> [ <strong><span>spf</span></strong> | <strong><span>prc</span></strong> | <strong><span>frr</span></strong> | <strong><span>ipv6</span></strong> ]</p>

<p>For CE6885-LL (low latency mode): </p>

<p><b><span class="cmdname">display isis </span></b><i><span class="varname">process-id</span></i> <strong><span>spf-log</span></strong> <strong><span>spf</span></strong> [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> ]</p>

<p><b><span class="cmdname">display isis spf-log </span></b>[ <i><span class="varname">process-id</span></i> | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] <strong><span>spf</span></strong> [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> ]</p>

<p><b><span class="cmdname">display isis </span></b><i><span class="varname">process-id</span></i> <strong><span>spf-log</span></strong> <strong><span>frr</span></strong> [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> ]</p>

<p><b><span class="cmdname">display isis spf-log </span></b>[ <i><span class="varname">process-id</span></i> | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] <strong><span>frr</span></strong> [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> ]</p>

<p><b><span class="cmdname">display isis </span></b><i><span class="varname">process-id</span></i> <strong><span>spf-log</span></strong> <strong><span>prc</span></strong></p>

<p><b><span class="cmdname">display isis spf-log </span></b>[ <i><span class="varname">process-id</span></i> | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] <strong><span>prc</span></strong></p>

<p><b><span class="cmdname">display isis </span></b>[ <i><span class="varname">process-id</span></i> ] <strong><span>spf-log</span></strong> [ <strong><span>spf</span></strong> | <strong><span>prc</span></strong> | <strong><span>frr</span></strong> ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907605624__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">process-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an IS-IS process ID.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 4294967295.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>spf</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the SPF calculation log.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ipv6</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the SPF calculation log in the IPv6 topology.</p>
</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>This parameter is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>level-1</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the SPF calculation log in a Level-1 area.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>level-2</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the SPF calculation log in a Level-2 area.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>prc</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the PRC calculation log.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a VPN instance.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 31 case-sensitive characters. It cannot contain spaces. The VPN instance name cannot be _public_. If the character string is quoted by double quotation marks, the character string can contain spaces.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>frr</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the FRR calculation log.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907605624__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>All views</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907605624__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>1: Monitoring level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907605624__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p>When an error occurs in the IS-IS SPF calculation, run the <b><span class="cmdname">display isis spf-log</span></b> command to diagnose the fault. The command can be used to view the SPF calculation log of IS-IS, such as the start time, duration, number of nodes, and events that trigger the SPF calculation. You can check which event causes the error of the SPF calculation by the start time.<p></p>
<span>Check the StartTime field first</span>. If the SPF calculation is performed repeatedly at short intervals, flapping may have occurred. Then check the Last Trigger LSP and Trigger Event fields for further analysis.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907605624__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The actual command output varies according to the device. The command output here is only an example.</p>
</div></div>

<div class="p"># Display the SPF calculation log of IS-IS.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>display isis spf-log</strong>
                        SPF Log information for ISIS(1)
                        -------------------------------
                            ISIS(1) Level-1 SPF Log
                            -----------------------
 StartTime  Duration  Nodes  Count  Last Trigger LSP      Trigger Event
--------------------------------------------------------------------------------
 15:11:28   0         0      1      NULL                  ISPF_ADJ_STATE_CHG
 15:11:6    0         2      2      NULL                  ISPF_CIRC_DR_CHANGE
 15:9:30    0         0      4      1111.1111.1111.00-00  TUNNEL_ADJ_UP
 15:9:20    0         2      3      NULL                  ISPF_LINK_ADD
 15:3:36    0         0      1      NULL                  ISPF_ADJ_STATE_CHG
 15:3:15    0         2      2      NULL                  ISPF_CIRC_DR_CHANGE
 15:2:30    0         2      3      NULL                  ISPF_LINK_ADD
 15:1:40    0         0      1      NULL                  ISPF_ADJ_STATE_CHG
 15:1:30    0         2      2      NULL                  ISPF_CIRC_DR_CHANGE
 14:2:39    0         1      5      1111.1111.1111.00-00  ISPF_LINK_DEL
 13:5:49    0         1      2      NULL                  ISPF_LINK_ADD
 13:5:39    0         2      5      NULL                  ISPF_ADJ_PROT_CHG
 13:5:17    0         2      2      NULL                  ISPF_CIRC_DR_CHANGE
 11:12:19   0         0      3      NULL                  ISPF_2WAY_CHECK
 10:27:32   0         0      3      NULL                  ISPF_2WAY_CHECK
 9:54:12    0         2      8      NULL                  ISPF_LINK_ADD
 9:54:2     0         2      2      NULL                  ISPF_CIRC_DR_CHANGE
 9:38:33    0         0      4      1111.1111.1111.00-00  TUNNEL_ADJ_UP
 9:38:12    0         0      1      NULL                  ISPF_ADJ_NEXTHOP_CHG
 9:38:2     0         2      3      NULL                  ADJDOWN
</pre>
</div>


<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Description of the <b><span class="cmdname">display isis spf-log</span></b> command output</caption>
    
    
<thead align="left">
<tr>
<th align="left" class="cellrowborder" valign="top" width="44.5%" id="mcps1.3.7.3.2.3.1.1" liSelected="liSelected">Item</th>

<th align="left" class="cellrowborder" valign="top" width="55.50000000000001%" id="mcps1.3.7.3.2.3.1.2" liSelected="liSelected">Description</th>

</tr>

</thead>

<tbody>
<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">StartTime</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Start time for SPF calculation.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Duration</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Time taken for SPF calculation, the value rounds down the actual duration, in milliseconds. In most cases, the value is less than 1 ms. Therefore, it is displayed as 0.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Nodes</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Number of nodes calculated by SPF.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Count</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Number of events that trigger the SPF calculation.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Last Trigger LSP</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>LSP that triggers the last SPF calculation.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Trigger Event</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Event that triggers the last SPF calculation.</p>
</td>

</tr>

</tbody>

</table>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_IS-IS_Configuration_Commands_title.html">IS-IS Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DISPLAY-ISIS-ROUTE(ISISCOMMOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/DISPLAY-ISIS-SPF-LOG-NOVPN(ISISCOMMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>