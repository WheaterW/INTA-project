
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="pim ipv6 bfd">
<meta name="DC.subject" content="pim ipv6 bfd">
<meta name="keywords" content="pim ipv6 bfd">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IPv6_PIM_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/PIM-IPV6-DC(PIMOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IPV6-C-BSR-BOUNDARY(PIMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IPv6 PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="IPv6 PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IPv6 PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Creator" content="SUBSYS_ID_PIMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907766604">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>pim ipv6 bfd</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907766604"></a><a name="EN-US_CLIREF_0000001907766604"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">pim ipv6 bfd</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907766604__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">pim ipv6 bfd</span></b> command enables BFD on an interface and configures BFD parameters.</p>
<p>The <b><span class="cmdname">undo pim ipv6 bfd</span></b> command disables BFD on an interface.</p>
</p>
<p>By default, BFD for IPv6 PIM is disabled on an interface.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907766604__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">pim ipv6 bfd enable</span></b></p>

<p><b><span class="cmdname">pim ipv6 bfd </span></b>{ <strong><span>min-tx-interval</span></strong> <i><span class="varname">tx-value</span></i> | <strong><span>min-rx-interval</span></strong> <i><span class="varname">rx-value</span></i> | <strong><span>detect-multiplier</span></strong> <i><span class="varname">multiplier-value</span></i> } <sup>*</sup></p>

<p><b><span class="cmdname">undo pim ipv6 bfd enable</span></b></p>

<p><b><span class="cmdname">undo pim ipv6 bfd </span></b>{ <strong><span>min-tx-interval</span></strong> <i><span class="varname">tx-value</span></i> | <strong><span>min-rx-interval</span></strong> <i><span class="varname">rx-value</span></i> | <strong><span>detect-multiplier</span></strong> <i><span class="varname">multiplier-value</span></i> } <sup>*</sup></p>

<p><b><span class="cmdname">undo pim ipv6 bfd </span></b>{ <strong><span>min-tx-interval</span></strong> | <strong><span>min-rx-interval</span></strong> | <strong><span>detect-multiplier</span></strong> } <sup>*</sup></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907766604__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>min-tx-interval</span></strong> <i><span class="varname">tx-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the minimum interval for sending PIM IPv6 BFD packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 3 to 1000.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>min-rx-interval</span></strong> <i><span class="varname">rx-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the minimum interval for receiving PIM IPv6 BFD packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 3 to 1000.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>detect-multiplier</span></strong> <i><span class="varname">multiplier-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<div class="p"><p>Specifies the local detection multiplier of PIM IPv6 BFD packets.</p>
<ul><li>For a stable link, you can set the detection multiplier to a large value to avoid frequent link detection.</li><li>For an unstable link, a small detection multiplier may cause BFD session flapping. Therefore, it is recommended that you set the detection multiplier to a large value.</li></ul>
</div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer in the range 3 to 50. The default value is 3.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>enable</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies that enables BFD for IPv6 PIM on an interface.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907766604__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100GE interface view,</span><span>10GE interface view,</span><span>200GE interface view,</span><span>25GE interface view,</span><span>400GE interface view,</span><span>50GE interface view,</span><span>Eth-Trunk interface view,</span><span>VLANIF interface view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907766604__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907766604__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>To minimize the impact of a fault on services and improve network availability, a network device is required to fast detect a communication fault between adjacent devices so that the upper layer protocol can rectify the fault to ensure normal services.<p></p>
<span>In multicast applications</span>, if the current Designated router (DR) or Assert winner at the shared network segment is faulty, other PIM neighbors start a new DR election or Assert election after the neighbor relationship or the Assert timer times out. Consequently, multicast data transmission is discontinued. The discontinue period, usually in seconds, is longer than the timeout period of the neighbor relationship or the Assert timer.<p></p>
<span>BFD can detect the status of the link at the shared</span> network segment within milliseconds and fast respond to the fault on the PIM neighbor. If the interface configured with BFD for IPv6 PIM does not receive any BFD packets from the current DR or Assert winner within a detection period, it considers that a fault occurs on the current DR or Assert winner. BFD fast notifies the Routing Management (RM) of the session status and the RM then notifies PIM of the session status. PIM triggers a new DR election or Assert election immediately rather than waits until the neighbor relationship or the Assert timer times out. This reduces the discontinue period of multicast data transmission and thus improves the reliability of multicast data transmission.<p></p>
<span>If you need to control detection parameters of PIM</span> IPv6 BFD packets, run the <b><span class="cmdname">pim ipv6 bfd</span></b> command to configure the sending interval, receiving interval, and local detection multiplier for PIM IPv6 BFD packets.min-tx-interval, min-rx-interval, and detect-multiplier parameters can be configured separately on two ends, that is, the two link ends can send or receive BFD packets at different rates. If there is no special requirement for the detection period and the link is stable, you are recommended to configure the same parameter values for the routing devices of the same performance at the shared network segment.</p>
<p><strong>Prerequisites</strong></p>
<p>The <b><span class="cmdname">multicast ipv6 routing-enable</span></b> command is run in the public network instance view.<p></p>
<span>BFD for IPv6 PIM depends on the BFD protocol</span>. Therefore, you need first to enable BFD globally to validate the BFD for IPv6 PIM function.<p></p>
<span>Before configuring BFD for IPv6 PIM</span>, enable IPv6 PIM-SM in the interface view. If the <b><span class="cmdname">undo pim ipv6 sm</span></b> command is run, IPv6 PIM-SM is disabled and the BFD for IPv6 PIM function is removed from the interface at the same time.<p></p>
<span>The</span> <b><span class="cmdname">pim ipv6 bfd</span></b> command and the <b><span class="cmdname">pim ipv6 bfd enable</span></b> command need to be used together. To validate PIM IPv6 BFD, ensure that a BFD session has been set up and the session is in the Up state.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907766604__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable BFD for IPv6 PIM on <span>100GE</span><span>1/0/1</span>.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>bfd</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bfd] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>multicast ipv6 routing-enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ipv6 enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>pim ipv6 sm</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>pim ipv6 bfd enable</strong>
</pre>
</div>

<div class="p"># Set the minimum interval at which BFD packets are sent to 200 ms, the minimum interval at which BFD packets are received to 200 ms, and the local detection multiplier to 5 on <span>100GE</span><span>1/0/1</span>.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>multicast ipv6 routing-enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface 100 <span>100GE</span><span>1/0/1</span></strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ipv6 enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>pim ipv6 bfd min-tx-interval 200 min-rx-interval 200 detect-multiplier 5</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_IPv6_PIM_Configuration_Commands_title.html">IPv6 PIM Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/PIM-IPV6-DC(PIMOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/IPV6-C-BSR-BOUNDARY(PIMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>