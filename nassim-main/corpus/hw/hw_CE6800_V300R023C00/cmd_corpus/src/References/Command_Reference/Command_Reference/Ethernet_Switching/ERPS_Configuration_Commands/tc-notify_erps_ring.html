
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="tc-notify erps ring">
<meta name="DC.subject" content="tc-notify erps ring">
<meta name="keywords" content="tc-notify erps ring">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_ERPS_(G.8032)_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/ERPSSUBRING(ERPSOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/ERPSTCPROTECTINT(ERPSOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="ERPS">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="ERPS">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featurename" content="ERPS">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Creator" content="SUBSYS_ID_ERPSOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907762060">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>tc-notify erps ring</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907762060"></a><a name="EN-US_CLIREF_0000001907762060"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">tc-notify erps ring</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907762060__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">tc-notify erps ring</span></b> command configures an ERPS ring to notify other ERPS rings of its topology change.</p>
<p>The <b><span class="cmdname">undo tc-notify erps ring</span></b> command disables an ERPS ring from notifying other ERPS rings of its topology change.</p>
</p>
<p>By default, an ERPS ring does not notify other ERPS rings of its topology change.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6820H, CE6820H-K and CE6820S.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907762060__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">tc-notify erps ring </span></b>{ <i><span class="varname">ring-id1</span></i> [ <strong><span>to</span></strong> <i><span class="varname">ring-id2</span></i> ] } &amp;&lt;1-10&gt;</p>

<p><b><span class="cmdname">undo tc-notify erps ring </span></b>{ <i><span class="varname">ring-id1</span></i> [ <strong><span>to</span></strong> <i><span class="varname">ring-id2</span></i> ] } &amp;&lt;1-10&gt;</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907762060__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">ring-id1</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies ID1 of an ERPS ring.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is an integer ranging from 1 to 255.</p>
<p>The value of &lt;ring-id2&gt; must be greater than or equal to &lt;ring-id1&gt;.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>to</span></strong> <i><span class="varname">ring-id2</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies ID2 of an ERPS ring.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is an integer ranging from 1 to 255.</p>
<p>The value of &lt;ring-id2&gt; must be greater than or equal to &lt;ring-id1&gt;.</p>
</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907762060__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>ERPS ring view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907762060__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907762060__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>If other ERPS rings are not notified of the topology change in an ERPS ring, the MAC address entries remain unchanged on the other ERPS rings and user traffic is interrupted. To ensure nonstop traffic transmission, run the <b><span class="cmdname">tc-notify erps ring</span></b> command to specify an ERPS ring for which the topology change notifications are sent.</p>
<p><strong>Prerequisites</strong></p>
<p>The <b><span class="cmdname">version v2</span></b> command has been run to specify ERPSv2.</p>
<p><strong>Configuration Impact</strong></p>
<p>After receiving the topology change notification from an ERPS ring, the other ERPS rings send Flush-FDB packets on their own rings. Then, all the devices on the upper-layer network delete the original MAC addresses and learn new MAC addresses to ensure normal traffic transmission.</p>

<p>If you run this command multiple times, all configurations take effect.</p>
<p><strong>Precautions</strong></p>
<p>When the topology of an ERPS ring changes, the ERPS ring notifies sub-rings of the topology change. If the ERPS sub-ring that has been specified to receive the topology change notification does not exist, the configuration does not take effect.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907762060__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure ERPS ring 5 to notify ERPS rings 1 through 3 of its topology change.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>erps ring 5</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-erps-ring5] <strong>version v2</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-erps-ring5] <strong>tc-notify erps ring 1 to 3</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_ERPS_(G.8032)_Configuration_Commands_title.html">ERPS Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/ERPSSUBRING(ERPSOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/ERPSTCPROTECTINT(ERPSOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>