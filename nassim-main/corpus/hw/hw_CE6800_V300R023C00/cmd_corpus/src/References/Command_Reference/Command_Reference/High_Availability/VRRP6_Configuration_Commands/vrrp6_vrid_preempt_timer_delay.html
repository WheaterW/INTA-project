
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="vrrp6 vrid preempt timer delay">
<meta name="DC.subject" content="vrrp6 vrid preempt timer delay">
<meta name="keywords" content="vrrp6 vrid preempt timer delay">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_VRRP6_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/PREEMPT-MODE(VRRP6OM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/PRIORITY(VRRP6OM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="VRRP6">
<meta name="featuretype" content="High Availability">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="VRRP6">
<meta name="featuretype" content="High Availability">
<meta name="featurename" content="VRRP6">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="DC.Creator" content="SUBSYS_ID_VRRP6OM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907767392">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>vrrp6 vrid preempt timer delay</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907767392"></a><a name="EN-US_CLIREF_0000001907767392"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">vrrp6 vrid preempt timer delay</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907767392__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">vrrp6 vrid preempt timer delay</span></b> command sets a preemption delay for a router in a Virtual Router Redundancy Protocol for IPv6 (VRRP6) group.</p>
<p>The <b><span class="cmdname">undo vrrp6 vrid preempt timer delay</span></b> command restores the default preemption delay.</p>
</p>
<p>The default preemption delay is 5 seconds for a preemption caused by an interface up event or 0 seconds (indicating immediate preemption) for a preemption caused by any other reason.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907767392__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">vrrp6 vrid </span></b><i><span class="varname">virtual-router-id</span></i> <strong><span>preempt</span></strong> <strong><span>timer</span></strong> <strong><span>delay</span></strong> <i><span class="varname">delay-time</span></i></p>

<p><b><span class="cmdname">undo vrrp6 vrid </span></b><i><span class="varname">virtual-router-id</span></i> <strong><span>preempt</span></strong> <strong><span>timer</span></strong> <strong><span>delay</span></strong></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907767392__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>delay</span></strong> <i><span class="varname">delay-time</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a preemption delay for the device in a VRRP6 group.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 0 to 3600.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>vrid</span></strong> <i><span class="varname">virtual-router-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the ID of a VRRP6 group.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 255.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907767392__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100GE interface view,</span><span>10GE interface view,</span><span>200GE interface view,</span><span>25GE interface view,</span><span>400GE interface view,</span><span>50GE interface view,</span><span>Eth-Trunk interface view,</span><span>VLANIF interface view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907767392__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907767392__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>On an unstable network, if backup routers in a VRRP6 backup group fail to receive VRRP packets from the master router within a specified timeout period, a backup router with the highest priority preempts the Master state. If network congestion occurs, backup routers also may not receive VRRP packets from the master router. To prevent frequent master/backup VRRP6 switchovers, run the vrrp6 vrid preempt-mode timer delay command to set a preemption delay for a backup router in a VRRP6 backup group. The backup router preempts the Master state only after the configured preemption delay elapses.</p>
<p><strong>Prerequisites</strong></p>
<p>A VRRP6 backup group has been created using the <b><span class="cmdname">vrrp6 vrid virtual-ip</span></b> command.</p>
<p><strong>Precautions</strong></p>
<p>You are advised to set the preemption delay to 0 on a backup device to allow it to preempt the master role immediately after the master device fails or set the preemption delay to a non-0 value on the master device so that it can preempt the master role after a specified delay if a master/backup VRRP6 switchover is performed. If the master device in a VRRP6 group recovers from a fault and receives protocol packets, it delivers the VRRP forwarding table slowly if a large number of service configurations are configured. In this case, an immediate traffic switchback leads to packet loss on the master device. To prevent packet loss, set a proper preemption delay for the master device with a large number of services configured.<p></p>
<span>When an IP address owner recovers from a fault</span>, it immediately preempts the Master state. The preemption delay is a period during which a backup device is waiting to preempt the master role. Therefore, the preemption delay does not take effect on the IP address owner. If a preemption delay needs to be configured for a VRRP6 group, do not configure the master router in the group as an IP address owner.<p></p>
<span>If the VRRP group is associated with a BFD session</span> or an interface in increase mode and the new VRRP priority is higher than the VRRP priority of the master, the VRRP group immediately preempts the Master state without waiting for the preemption delay.<p></p>
<span>When a device or board is restarted and a large number</span> of services are configured, the backup device may fail to receive protocol packets from the master device immediately after the restart. As a result, the backup device becomes the master device due to a timeout and the configured preemption delay does not take effect. Therefore, it is recommended that you set a proper VRRP6 recover-delay when setting the preemption delay.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907767392__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the preemption delay to 5 seconds for a router in VRRP6 backup group 1.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ipv6 enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ipv6 address 2001:db8::1 64</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>vrrp6 vrid 1 virtual-ip FE80::7 link-local</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>vrrp6 vrid 1 preempt timer delay 5</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_VRRP6_Configuration_Commands_title.html">VRRP6 Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/PREEMPT-MODE(VRRP6OM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/PRIORITY(VRRP6OM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>