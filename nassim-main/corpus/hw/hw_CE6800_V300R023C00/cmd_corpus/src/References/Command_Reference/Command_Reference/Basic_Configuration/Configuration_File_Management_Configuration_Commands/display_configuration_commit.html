
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="display configuration commit">
<meta name="DC.subject" content="display configuration commit">
<meta name="keywords" content="display configuration commit">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Configuration_Management_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DISPLAYCFGCOMMITCHANGES(CFGOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DISPLAYCFGCOMMITLIST(CFGOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Configuration File Management">
<meta name="featurename" content="FTP">
<meta name="featurename" content="SFTP">
<meta name="featurename" content="SCP">
<meta name="featurename" content="TFTP">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Configuration File Management">
<meta name="featurename" content="FTP">
<meta name="featurename" content="SFTP">
<meta name="featurename" content="SCP">
<meta name="featurename" content="TFTP">
<meta name="featuretype" content="Basic Configuration">
<meta name="featurename" content="Configuration File Management">
<meta name="featurename" content="FTP">
<meta name="featurename" content="SFTP">
<meta name="featurename" content="SCP">
<meta name="featurename" content="TFTP">
<meta name="featuretype" content="Basic Configuration">
<meta name="featuretype" content="Basic Configuration">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Creator" content="SUBSYS_ID_CFGOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000002159122296">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>display configuration commit</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000002159122296"></a><a name="EN-US_CLIREF_0000002159122296"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">display configuration commit</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000002159122296__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">display configuration commit</span></b> command displays all configurations at a specified configuration rollback point.</p>
<p>The <b><span class="cmdname">display configuration</span></b> command displays configurations in a specified configuration file. The configuration file must be stored in the root directory of the MPU.</p>
<p>The <b><span class="cmdname">display saved-configuration</span></b> command displays the configuration file used for startup.</p>
</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000002159122296__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">display </span></b>{ <strong><span>saved-configuration</span></strong> [ <strong><span>last</span></strong> ] | <strong><span>configuration</span></strong> <i><span class="varname">configuration-file</span></i> }</p>

<p><b><span class="cmdname">display configuration commit at </span></b><i><span class="varname">commit-id</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000002159122296__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>saved-configuration</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Displays the setting of the configuration file for the next startup.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>last</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Displays the system configurations saved last time.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>configuration</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Display parameter information about the configuration of the autosave function.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">configuration-file</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a configuration file. The file must have been created.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The name is a string of 5 to 64 characters in the format of *.zip, *.cfg or *.dat.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>at</span></strong> <i><span class="varname">commit-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Displays configuration changes at a configuration rollback point.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The id is a string of 1 to 22 characters and generated by the system automatically.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000002159122296__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>All views</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000002159122296__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000002159122296__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><ul><li>After a configuration command is successfully committed to the system, the system automatically generates a configuration rollback point to record the configuration change information and the all system configurations at the point. You can run the <b><span class="cmdname">display configuration commit</span></b> command to view all configurations at a specified configuration rollback point. If a fault occurs in the system, you can run the <b><span class="cmdname">rollback configuration</span></b> command to roll back the system to the configuration before the fault occurs.</li><li>You can run the <b><span class="cmdname">save configuration-file</span></b> command to save the current configuration as a *.cfg, *.zip, or *.dat file. The *.cfg file is a text file and can be viewed by running the <b><span class="cmdname">more</span></b> command. The *.zip and *.dat files cannot be viewed by running this command. You can run the <b><span class="cmdname">display configuration</span></b> command to view the contents of the preceding three types of configuration files to check whether the configurations are correct.</li><li>If the device does not work properly after being powered on, you can run the <b><span class="cmdname">display saved-configuration</span></b> command to check the startup configuration of the device.</li><li>The <b><span class="cmdname">display saved-configuration last</span></b> command displays the system configuration saved last time.</li><li>The <b><span class="cmdname">display saved-configuration time</span></b> command displays the time when the system automatically saves configurations last time.</li></ul>
</div>
<p><strong>Prerequisites</strong></p>
<div class="p"><ul><li>A configuration rollback point has been selected from the list displayed using the <b><span class="cmdname">display configuration commit list</span></b> command.</li><li>The specified configuration file has been created.</li><li>The <b><span class="cmdname">set save-configuration</span></b> command has been run to enable autosave.</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000002159122296__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The actual command output varies according to the device. The command output here is only an example.</p>
</div></div>

<div class="p"># Display information about the configuration file named vrpcfg.cfg.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>display configuration vrpcfg.cfg</strong>
#                                                                               
info-center loghost source LoopBack0                                            
info-center loghost 10.1.1.1                                                    
info-center loghost 10.1.1.2                                                    
#
sysname HUAWEI
#
user-interface maximum-vty 15                                                                                                                       
#                                                                               
aaa                                                                             
 local-user admin1234 password cipher $1d$k4:o79a_DJ$dkxW!,\@7Cjr*k+Q}gb'{g{x)#wS1GjQST'EZ]/F$                                            
 local-user admin1234 service-type ssh                                                                                    
#
sftp server enable
ssh user admin1234
ssh user admin1234 authentication-type dsa 
ssh user admin1234 assign dsa-key dsakey001
ssh user admin1234 service-type sftp
ssh user admin1234 sftp-directory flash:/ 
#                                                                               
interface LoopBack0                                                             
 ip address 1.1.1.1 255.255.255.255                                             
#                                                                               
user-interface con 0                                                            
 set authentication password cipher $1d$k4:o79a_DJ$dkxW!,\@7Cjr*k+Q}gb'{g{x)#wS1GjQST'EZ]/F$     
 history-command max-size 30                                                    
#                                                                               
user-interface vty 0 14                                                         
 user privilege level 3       
 idle-timeout 0 0                                                               
#                                                                               
return
</pre>
</div>

<div class="p"># Display the configuration file used after the next startup of the device.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>display saved-configuration</strong>
#                                                                               
info-center loghost source LoopBack0                                            
info-center loghost 10.1.1.1                                                    
info-center loghost 10.1.1.2                                                    
#
sysname HUAWEI
#
user-interface maximum-vty 15                                                                                                                        
#                                                                               
aaa                                                                             
 local-user admin1234 password cipher $1d$k4:o79a_DJ$dkxW!,\@7Cjr*k+Q}gb'{g{x)#wS1GjQST'EZ]/F$                                                              
 local-user admin1234 service-type ssh                                                                                   
#
sftp server enable
ssh user admin1234
ssh user admin1234 authentication-type dsa 
ssh user admin1234 assign dsa-key dsakey001
ssh user admin1234 service-type sftp
ssh user admin1234 sftp-directory flash:/   
#                                                                             
interface LoopBack0                                                             
 ip address 1.1.1.1 255.255.255.255                                             
#                                                                               
user-interface con 0                                                            
 set authentication password cipher $1d$k4:o79a_DJ$dkxW!,\@7Cjr*k+Q}gb'{g{x)#wS1GjQST'EZ]/F$                    
 history-command max-size 30                                                    
#                                                                               
user-interface vty 0 14                                                         
 user privilege level 3                                                         
 idle-timeout 0 0                                                               
#                                                                               
return
</pre>
</div>

<div class="p"># Display all configurations at configuration rollback point 1000000001.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>display configuration commit at 1000000001</strong>
#
sysname HUAWEI
#
aaa
 #
 authentication-scheme default
 #
 authorization-scheme default
 #
 accounting-scheme default
 #
 domain default
 #
 domain default_admin
#
interface NULL0
#
            
#
user-interface con 0
#               
vm-manager
#
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Configuration_Management_Commands_title.html">Configuration File Management Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DISPLAYCFGCOMMITCHANGES(CFGOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/DISPLAYCFGCOMMITLIST(CFGOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>