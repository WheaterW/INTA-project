
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="import-route(OSPFv3 view)">
<meta name="DC.subject" content="import-route(OSPFv3 view)">
<meta name="keywords" content="import-route(OSPFv3 view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_OSPFv3_Configuration_Command_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/OSPFV3-IMPORT-ROUTE(OSPFCOMMOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/OSPFV3-LSA-AGE-REFRESH(OSPFCOMMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_OSPFCOMMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942842641">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>import-route(OSPFv3 view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942842641"></a><a name="EN-US_CLIREF_0000001942842641"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">import-route(OSPFv3 view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942842641__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">import-route</span></b> command imports external routes. Before the routes are imported, the OSPFv3 process of the route must be active.</p>
<p>The <b><span class="cmdname">undo import-route</span></b> command cancels the configuration.</p>
</p>
<p>By default, routes learned by other protocols are not imported.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942842641__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">

<p><b><span class="cmdname">import-route </span></b>{ <strong><span>ospfv3</span></strong> | <strong><span>isis</span></strong> | <strong><span>ripng</span></strong> } { <i><span class="varname">process-id</span></i> } [ { <strong><span>cost</span></strong> <i><span class="varname">cost</span></i> | <strong><span>inherit-cost</span></strong> } | <strong><span>type</span></strong> <i><span class="varname">type</span></i> | <strong><span>tag</span></strong> <i><span class="varname">tag</span></i> | { <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> } ] <sup>*</sup></p>


<p><b><span class="cmdname">undo import-route </span></b>{ <strong><span>ospfv3</span></strong> | <strong><span>isis</span></strong> | <strong><span>ripng</span></strong> } { <i><span class="varname">process-id</span></i> }</p>


</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942842641__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ospfv3</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Imports OSPFv3 routes.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>isis</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Imports IS-IS routes.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ripng</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Imports RIPng routes.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">process-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the process ID of the protocol whose routes are imported.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 4294967295.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cost</span></strong> <i><span class="varname">cost</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the cost of the imported route.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 0 to 16777214.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>inherit-cost</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the imported route inherits the original cost.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>type</span></strong> <i><span class="varname">type</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the type of the imported route.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><p>The value is 1 or 2.</p>
<ul><li>1: Type 1 external route</li><li>2: Type 2 external route</li></ul>
<p>The default value is 2.</p>
</div>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>tag</span></strong> <i><span class="varname">tag</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the tag of the external LSA.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 4294967295. The default value is 1.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Imports only the route that matches the specified route-policy.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 200 case-sensitive characters without spaces. The character string can contain spaces if it is enclosed with double quotation marks (").</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942842641__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>OSPFv3 view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942842641__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942842641__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>By importing routes of other routing protocols, you can expand OSPFv3 routing information.<p></p>
<span>OSPFv3 uses four types of routes</span>, which are listed in descending order of priority:</p>

<ul><li>Intra-area routes: refer to the routes within an AS area.</li><li>Inter-area routes: refer to the routes between different areas in an AS. Both intra-area routes and external routes are internal routes of an AS.</li><li>Type 1 external route: When the cost of an external route is equal to the cost of an AS internal route and is comparable to the cost of an OSPFv3 route, the external route has a high reliability and can be configured as a Type 1 external route.</li><li>Type 2 external routes: When the cost of the route from an ASBR to the destination outside an AS is greater than the cost of the internal route to the ASBR, Type 2 external routes have low reliability and can be configured as Type 2 external routes.</li></ul>
<p><strong>Prerequisites</strong></p>
<p><p>A route-policy has been created using the <b><span class="cmdname">route-policy</span></b> command if you want to import external routes using the route-policy.</p>
</p>
<p><strong>Implementation Procedure</strong></p>
<p>The costs of a Type 1 external route and a Type 2 external route are as follows:</p>

<ul><li>The cost of a Type 1 external route equals the cost for the OSPF device to reach an ASBR plus the cost of the route from the ASBR to the destination.</li><li>The cost of a Type 2 external route equals the cost of the route from an ASBR to the destination.</li></ul>
<p><strong>Configuration Impact</strong></p>
<p>OSPFv3 does not have a good mechanism to prevent loops of imported external routes. Therefore, exercise caution when configuring OSPFv3 to import external routes to prevent loops caused by manual configurations. You are advised to specify a tag, route-filter, or route-policy when importing routes and configure the policy to inherit the cost mode.<p></p>
<span>If tag is not specified</span>, the default tag value (specified using the <b><span class="cmdname">default tag</span></b> command) is used for the process that is not bound to any VPN instance or the process that is bound to a VPN instance but has the <b><span class="cmdname">vpn-instance-capability simple</span></b> command configured. This cannot prevent loops caused by manual configurations.<p></p>
<span>If the cost parameter is not specified</span>, the default cost value (specified by the <b><span class="cmdname">default cost</span></b> command) is used.<p></p>
<span>To inherit the cost</span>, you need to configure the cost inheritance mode in the policy or specify the inherit-cost parameter.<p></p>
<span>After a policy for importing routes is configured</span> using the route-filter or route-policy parameter in the command, the OSPFv3 process can import only the network segment routes that meet the specified conditions. This prevents the device from passively receiving unnecessary routes. If no policy is specified for importing routes, a large number of unexpected routes may be imported. As a result, the number of routes exceeds the upper limit or the memory is overloaded.</p>
<p><strong>Precautions</strong></p>
<p>You can run the default (OSPFv3) command to set default parameters for an OSPFv3 process on a public network or an OSPFv3 process on a private network for which the <b><span class="cmdname">vpn-instance-capability simple</span></b> command is run. The default parameters include the cost, type (Type 1 or Type 2), tag, and number of routes imported by OSPF.<p></p>
<span>The import-route</span> (OSPFv3) command cannot import the default route of an external routing table. To advertise the default route of an external routing table that is learned when OSPF updates the routing table in a common OSPF area, run the default-route-advertise (OSPFv3) command.<p></p>
<span>For details about the rules for generating the tag</span> values carried in the routes imported using the import-route (OSPFv3) command, see the usage scenario description of the <b><span class="cmdname">route-tag</span></b> command.<p></p>
<span>An OSPF process bound to a VPN instance can import</span> only the routes of the same VPN instance.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942842641__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Import the routes discovered by OSPFv3 process 160 to OSPFv3 process 100.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ospfv3 100</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospfv3-100] <strong>import-route ospfv3 160</strong>
</pre>
</div>

<div class="p"># Import type 2 ISIS routes, with cost 50.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ospfv3 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospfv3-1] <strong>import-route isis 1 type 2 cost 50</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_OSPFv3_Configuration_Command_title.html">OSPFv3 Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/OSPFV3-IMPORT-ROUTE(OSPFCOMMOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/OSPFV3-LSA-AGE-REFRESH(OSPFCOMMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>