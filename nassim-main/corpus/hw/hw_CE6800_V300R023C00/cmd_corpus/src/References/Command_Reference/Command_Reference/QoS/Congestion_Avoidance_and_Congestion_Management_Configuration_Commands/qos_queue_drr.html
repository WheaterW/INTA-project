
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="qos queue drr">
<meta name="DC.subject" content="qos queue drr">
<meta name="keywords" content="qos queue drr">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-Congestion_Avoidance_and_Congestion_Management_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/QOS_PQ_DRR_LPQ.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/QOS_QUEUE_ECN.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Congestion Avoidance">
<meta name="featurename" content="Congestion Management">
<meta name="featuretype" content="QoS">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Congestion Avoidance">
<meta name="featurename" content="Congestion Management">
<meta name="featuretype" content="QoS">
<meta name="featurename" content="Congestion Avoidance">
<meta name="featurename" content="Congestion Management">
<meta name="featuretype" content="QoS">
<meta name="featuretype" content="QoS">
<meta name="featuretype" content="QoS">
<meta name="DC.Creator" content="SUBSYS_ID_QOS">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942847941">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>qos queue drr</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942847941"></a><a name="EN-US_CLIREF_0000001942847941"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">qos queue drr</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942847941__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">qos queue drr</span></b> command sets the WDRR weight of queues that participate in WDRR scheduling.</p>
<p>The <b><span class="cmdname">undo qos queue drr</span></b> command restores the default WDRR weight of queues that participate in WDRR scheduling.</p>
</p>
<p>The default WDRR weight of queues that participate in DRR scheduling is 1.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942847941__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">qos queue </span></b><i><span class="varname">queue-index</span></i> <strong><span>drr</span></strong> <strong><span>weight</span></strong> <i><span class="varname">weight-value</span></i></p>

<p><b><span class="cmdname">undo qos queue </span></b><i><span class="varname">queue-index</span></i> <strong><span>drr</span></strong> <strong><span>weight</span></strong></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942847941__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>weight</span></strong> <i><span class="varname">weight-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a WDRR weight.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 1 to 100.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>queue</span></strong> <i><span class="varname">queue-index</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the index of a queue.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 0 to 7.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942847941__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100GE interface view,</span><span>10GE interface view,</span><span>200GE interface view,</span><span>25GE interface view,</span><span>400GE interface view,</span><span>50GE interface view,</span><span>Interface group view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942847941__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942847941__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>WDRR schedules packets based on the packet length used as the weight. If the packet length is too long, WDRR allows the negative weight value so that long packets can be scheduled. In the next round, the queue with the negative weight value is not scheduled until its weight value becomes positive.<p></p>
<span>WDRR offsets the disadvantages of PQ scheduling</span>. That is, in PQ scheduling, packets in queues with lower priorities cannot be scheduled for a long time.<p></p>
<span>When WDRR scheduling is used</span>, set the weight for each queue. The device schedules queues in turn according to the weights.</p>
<p><strong>Precautions</strong></p>
<div class="p"><ul><li>If you need to set the same WDRR weight on multiple interfaces, you can perform the configuration on a port group to reduce the workload.</li><li>For the CE8855-32CQ4BQ, CE8851-32CQ4BQ, CE6855-48XS8CQ, CE6885-LL, CE6885-48YS8CQ, CE6885-48YS8CQ-T, CE6863E-48S8CQ, and CE6885-SAN-56F, SP scheduling is used for the CIR token bucket by default. The user-configured scheduling mode takes effect only on the EIR token bucket.</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942847941__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the WDRR weight of queue 4 on the specified interface to 9.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>qos drr 4</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>qos queue 4 drr weight 9</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-Congestion_Avoidance_and_Congestion_Management_Commands_title.html">Congestion Avoidance and Congestion Management Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/QOS_PQ_DRR_LPQ.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/QOS_QUEUE_ECN.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>