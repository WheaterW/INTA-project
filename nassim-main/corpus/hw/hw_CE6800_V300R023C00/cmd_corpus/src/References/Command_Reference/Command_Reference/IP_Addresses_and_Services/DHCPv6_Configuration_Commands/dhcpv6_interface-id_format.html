
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="dhcpv6 interface-id format">
<meta name="DC.subject" content="dhcpv6 interface-id format">
<meta name="keywords" content="dhcpv6 interface-id format">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-DHCPv6_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DHCPV6_INTERFACE-ID_INSERT_ENABLE.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="DHCPv6">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="DHCPv6">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="DHCPv6">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Creator" content="SUBSYS_ID_ESAP_DHCP6">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907762568">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>dhcpv6 interface-id format</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907762568"></a><a name="EN-US_CLIREF_0000001907762568"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">dhcpv6 interface-id format</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907762568__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">dhcpv6 interface-id format</span></b> command configures the Interface-ID format in DHCPv6 packets.</p>
<p>The <b><span class="cmdname">undo dhcpv6 interface-id format</span></b> command restores the default Interface-ID format in DHCPv6 packets.</p>
</p>
<p>By default, the Interface-ID format in DHCPv6 packets is default.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907762568__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">dhcpv6 interface-id format </span></b>{ <strong><span>default</span></strong> | <strong><span>user-defined</span></strong> <i><span class="varname">user-defined-text</span></i> }</p>

<p><b><span class="cmdname">undo dhcpv6 interface-id format</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907762568__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>default</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the default Interface-ID format.</p>
<p>The default Interface-ID format is %04svlan.%04cvlan.%mac:%portname. The values of the S-VLAN and C-VLAN are integers containing four characters. If the length is fewer than four characters, the value is prefixed with 0s. For example, if the outer VLAN value in the DHCPv6 packets received by the device is 11, the inner VLAN value is 22, the inbound interface is VLANIF100, and the device MAC address is 00-e0-fc-12-34-56, the Interface-ID generated during the system parsing process is 0011.0022.00e0fc123456:vlanif100.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>user-defined</span></strong> <i><span class="varname">user-defined-text</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<div class="p"><p>Specifies a user-defined format as the Interface-ID format. A user-defined format can be:</p>
<ul><li>Format defined by keywords: The Interface-ID is defined based on the keywords supported by the user-defined format. For example, if the name of the device to which the users are connected and the outer VLAN to which the users belong need to be recorded, the user-defined format can be %sysname %svlan. If the device name is HUAWEI and the S-VLAN is 100, the user location information recorded by the Interface-ID is HUAWEI 100.</li></ul>
<p>For description of the keywords supported by the user-defined format, see Table 1.</p>
<ul><li>Format defined by common character strings: The Interface-ID is directly defined as a character string. For example, if all users on an interface are located in the office building named N8, the Interface-ID can be directly defined as N8.</li><li>Mixed format: The Interface-ID is defined by both the keywords and common character strings. For example, the Interface-ID can be defined as %sysname N8.</li></ul>
</div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 251 case-sensitive characters, spaces not supported. When quotation marks are used around the string, spaces are allowed in the string.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907762568__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907762568__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907762568__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>The Interface-ID option records user access information such as the inbound interface of DHCPv6 request packets received by the device from clients. In scenarios where a device functions as a lightweight DHCPv6 relay agent (LDRA), it can insert the Interface-ID option into a DHCPv6 request packet received from a DHCPv6 client to identify the location of the client before forwarding the packet to the DHCPv6 server. The DHCPv6 server assigns an IPv6 address and network parameters based on the location. You can run the <b><span class="cmdname">dhcpv6 interface-id format</span></b> command to configure the format of the Interface-ID option inserted into DHCPv6 packets.<p></p>
<span>The keywords supported by the user-defined option</span> format and their meanings are as follows:<p></p>
<span>duid</span>: indicates the client ID, including information such as the MAC address of a client.<p></p>
<span>sysname</span>: indicates the device name of a client.<p></p>
<span>portname</span>: indicates the name of the device's inbound interface that receives the DHCPv6 packets from a client.<p></p>
<span>porttype</span>: indicates the type of the device's inbound interface that receives the DHCPv6 packets from a client. In certain scenarios, the interface type is specified when the NAS interface is configured.<p></p>
<span>iftype</span>: indicates the type of the device's inbound interface that receives the DHCPv6 packets from a client.<p></p>
<span>mac</span>: indicates the MAC address of the device.<p></p>
<span>slot</span>: indicates the ID of the device's slot that receives the DHCPv6 packets from a client.<p></p>
<span>subslot</span>: indicates the ID of the device's subslot that receives the DHCPv6 packets from a client.<p></p>
<span>port</span>: indicates the number of the device's interface that receives the DHCPv6 packets from a client.<p></p>
<span>svlan</span>: indicates the outer VLAN ID of the DHCPv6 packets sent by a client.<p></p>
<span>cvlan</span>: indicates the inner VLAN ID of the DHCPv6 packets sent by a client.<p></p>
<span>length</span>: indicates the total length of the content following the length keyword, excluding the length of the length keyword.<p></p>
<span>The content of the user-defined option format must</span> be enclosed in double quotation marks (""). For example, to configure the content of the user-defined option format as mac, run the dhcpv6 interface-id format user-defined "%mac" command. Separators that cannot be digits must be added between the keywords in the user-defined option format. Otherwise, the keywords cannot be parsed. The symbol % must be prefixed to the keywords in the user-defined option format to differentiate them from common character strings. If a digit exists before the symbol % and keyword, the digit refers to the number of characters in the keyword. The self-defined content is encapsulated in ASCII format. In addition to the preceding precautions, note the following rules: - The symbol \ is an escape character. The symbols % and [] following the escape character indicate themselves. For example, \ represents the character . - An ASCII character string can contain Arabic numerals, uppercase letters, lowercase letters, and the following symbols: ! @ # $ % ^ &amp; * ( ) _ + | - = [ ] { } ; : ' " / ? . , `. - By default, the length of each keyword in an ASCII character string is the actual length of the keyword.</p>
<p><strong>Prerequisites</strong></p>
<p>DHCP has been enabled globally by using the <b><span class="cmdname">dhcp enable</span></b> command.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907762568__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure a user-defined format as the format of the Interface-ID in DHCPv6 packets and the device MAC address as the encapsulated content.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>dhcp enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>dhcpv6 interface-id format user-defined "%mac"</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-DHCPv6_Configuration_Commands_title.html">DHCPv6 Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DHCPV6_INTERFACE-ID_INSERT_ENABLE.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>