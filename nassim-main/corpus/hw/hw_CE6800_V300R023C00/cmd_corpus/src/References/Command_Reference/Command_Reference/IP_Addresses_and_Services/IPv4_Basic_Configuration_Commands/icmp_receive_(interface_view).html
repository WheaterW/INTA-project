
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="icmp receive (interface view)">
<meta name="DC.subject" content="icmp receive (interface view)">
<meta name="keywords" content="icmp receive (interface view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IPv4_Basic_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IFICMPRATLMTTOTAL(PP4OM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/ICMPSECURITY_RECEIVE(PP4OM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IPv4 Basic">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="IPv4 Basic">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="IPv4 Basic">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Creator" content="SUBSYS_ID_PP4OM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942841385">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>icmp receive (interface view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942841385"></a><a name="EN-US_CLIREF_0000001942841385"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">icmp receive (interface view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942841385__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">icmp receive enable</span></b> command enables an interface to receive ICMP packets.</p>
<p>The <b><span class="cmdname">undo icmp receive enable</span></b> command restores the default setting.</p>
<p>The <b><span class="cmdname">icmp receive disable</span></b> command disables an interface from receiving ICMP packets.</p>
<p>The <b><span class="cmdname">undo icmp receive disable</span></b> command restores the default setting.</p>
</p>
<p>By default, the system is enabled to receive ICMP packets.</p>
<p>By default, an interface's ICMP packet receiving capability is determined by the system's ICMP packet receiving capability.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942841385__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">icmp name </span></b>{ <strong><span>echo</span></strong> | <strong><span>echo-reply</span></strong> | <strong><span>net-unreachable</span></strong> | <strong><span>parameter-problem</span></strong> | <strong><span>timestamp-reply</span></strong> | <strong><span>timestamp-request</span></strong> | <strong><span>ttl-exceeded</span></strong> | <strong><span>information-reply</span></strong> | <strong><span>information-request</span></strong> | <strong><span>net-redirect</span></strong> | <strong><span>source-quench</span></strong> } <strong><span>receive</span></strong> <strong><span>disable</span></strong></p>

<p><b><span class="cmdname">icmp name </span></b>{ <strong><span>echo</span></strong> | <strong><span>echo-reply</span></strong> | <strong><span>net-unreachable</span></strong> | <strong><span>parameter-problem</span></strong> | <strong><span>timestamp-reply</span></strong> | <strong><span>timestamp-request</span></strong> | <strong><span>ttl-exceeded</span></strong> | <strong><span>information-reply</span></strong> | <strong><span>information-request</span></strong> | <strong><span>net-redirect</span></strong> | <strong><span>source-quench</span></strong> } <strong><span>receive</span></strong> <strong><span>enable</span></strong></p>

<p><b><span class="cmdname">icmp name </span></b>{ <strong><span>reassembly-timeout</span></strong> | <strong><span>host-unreachable</span></strong> | <strong><span>host-redirect</span></strong> } <strong><span>receive</span></strong> <strong><span>disable</span></strong></p>

<p><b><span class="cmdname">icmp name </span></b>{ <strong><span>reassembly-timeout</span></strong> | <strong><span>host-unreachable</span></strong> | <strong><span>host-redirect</span></strong> } <strong><span>receive</span></strong> <strong><span>enable</span></strong></p>

<p><b><span class="cmdname">icmp name </span></b>{ <strong><span>net-tos-redirect</span></strong> | <strong><span>protocol-unreachable</span></strong> } <strong><span>receive</span></strong> <strong><span>disable</span></strong></p>

<p><b><span class="cmdname">icmp name </span></b>{ <strong><span>net-tos-redirect</span></strong> | <strong><span>protocol-unreachable</span></strong> } <strong><span>receive</span></strong> <strong><span>enable</span></strong></p>

<p><b><span class="cmdname">icmp name </span></b>{ <strong><span>port-unreachable</span></strong> | <strong><span>host-tos-redirect</span></strong> } <strong><span>receive</span></strong> <strong><span>disable</span></strong></p>

<p><b><span class="cmdname">icmp name </span></b>{ <strong><span>port-unreachable</span></strong> | <strong><span>host-tos-redirect</span></strong> } <strong><span>receive</span></strong> <strong><span>enable</span></strong></p>

<p><b><span class="cmdname">icmp name fragmentneed-dfset receive disable</span></b></p>

<p><b><span class="cmdname">icmp name fragmentneed-dfset receive enable</span></b></p>

<p><b><span class="cmdname">icmp name source-route-failed receive disable</span></b></p>

<p><b><span class="cmdname">icmp name source-route-failed receive enable</span></b></p>

<p><b><span class="cmdname">icmp name redirect receive enable</span></b></p>

<p><b><span class="cmdname">icmp type </span></b><i><span class="varname">typevalue</span></i> <strong><span>code</span></strong> <i><span class="varname">codevalue</span></i> <strong><span>receive</span></strong> <strong><span>disable</span></strong></p>

<p><b><span class="cmdname">icmp type </span></b><i><span class="varname">typevalue</span></i> <strong><span>code</span></strong> <i><span class="varname">codevalue</span></i> <strong><span>receive</span></strong> <strong><span>enable</span></strong></p>

<p><b><span class="cmdname">icmp name redirect receive disable</span></b></p>

<p><b><span class="cmdname">undo icmp name </span></b>{ <strong><span>echo</span></strong> | <strong><span>echo-reply</span></strong> | <strong><span>net-unreachable</span></strong> | <strong><span>parameter-problem</span></strong> | <strong><span>timestamp-reply</span></strong> | <strong><span>timestamp-request</span></strong> | <strong><span>ttl-exceeded</span></strong> | <strong><span>information-reply</span></strong> | <strong><span>information-request</span></strong> | <strong><span>net-redirect</span></strong> | <strong><span>source-quench</span></strong> } <strong><span>receive</span></strong> { <strong><span>disable</span></strong> | <strong><span>enable</span></strong> }</p>

<p><b><span class="cmdname">undo icmp name </span></b>{ <strong><span>reassembly-timeout</span></strong> | <strong><span>host-unreachable</span></strong> | <strong><span>host-redirect</span></strong> } <strong><span>receive</span></strong> { <strong><span>disable</span></strong> | <strong><span>enable</span></strong> }</p>

<p><b><span class="cmdname">undo icmp name </span></b>{ <strong><span>net-tos-redirect</span></strong> | <strong><span>protocol-unreachable</span></strong> } <strong><span>receive</span></strong> { <strong><span>disable</span></strong> | <strong><span>enable</span></strong> }</p>

<p><b><span class="cmdname">undo icmp name </span></b>{ <strong><span>port-unreachable</span></strong> | <strong><span>host-tos-redirect</span></strong> } <strong><span>receive</span></strong> { <strong><span>disable</span></strong> | <strong><span>enable</span></strong> }</p>

<p><b><span class="cmdname">undo icmp name fragmentneed-dfset receive </span></b>{ <strong><span>disable</span></strong> | <strong><span>enable</span></strong> }</p>

<p><b><span class="cmdname">undo icmp name source-route-failed receive </span></b>{ <strong><span>disable</span></strong> | <strong><span>enable</span></strong> }</p>

<p><b><span class="cmdname">undo icmp name redirect receive </span></b>{ <strong><span>disable</span></strong> | <strong><span>enable</span></strong> }</p>

<p><b><span class="cmdname">undo icmp type </span></b><i><span class="varname">typevalue</span></i> <strong><span>code</span></strong> <i><span class="varname">codevalue</span></i> <strong><span>receive</span></strong> { <strong><span>disable</span></strong> | <strong><span>enable</span></strong> }</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942841385__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>echo</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive ICMP Echo packets (type 8; code 0: echo). An ICMP echo packet is sent to the destination host during a ping operation. The destination host responds with an echo reply packet, indicating that the destination is reachable.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>echo-reply</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive ICMP Echo Reply packets (type 0; code 0: echo reply).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>net-unreachable</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive ICMP Destination Unreachable packets (type 3; code 0: net unreachable).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>parameter-problem</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive Parameter Problem packets (type 12; code 0: pointer indicates the error).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>timestamp-reply</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive Timestamp Reply packets (type 14; code 0: timestamp reply).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>timestamp-request</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive Timestamp packets (type 13; code 0: timestamp).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ttl-exceeded</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive ICMP Time Exceeded packets (type 11; code 0: time to live exceeded in transit).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>information-reply</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive Information Reply packets (type 16; code 0: information reply).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>information-request</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive Information Request packets (type 15; code 0: information request).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>net-redirect</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive Redirect packets (type 5; code 0: Redirect datagrams for the Network).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>source-quench</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive Source Quench packets (type 4; code 0: source quench).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>name</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive ICMP packets with a specified name.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>reassembly-timeout</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive Time Exceeded packets (type 11; code 1: fragment reassembly time exceeded).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>host-unreachable</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive ICMP Destination Unreachable packets (type 3; code 1: host unreachable).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>host-redirect</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive Redirect packets (type 5; code 1: Redirect datagrams for the Host).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>net-tos-redirect</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive Redirect packets (type 5; code 2: Redirect datagrams for the Type of Service and Network).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>protocol-unreachable</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive ICMP Destination Unreachable packets (type 3; code 2: protocol unreachable).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>port-unreachable</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive ICMP Destination Unreachable packets (type 3; code 3: port unreachable).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>host-tos-redirect</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive Redirect packets (type 5; code 3: Redirect datagrams for the Type of Service and Host).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>fragmentneed-dfset</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive ICMP Destination Unreachable packets (type 3; code 4: fragmentation needed and DF set).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>source-route-failed</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive ICMP Destination Unreachable packets (type 3; code 5: source route failed).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>redirect</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive Redirect packets (type 5; code 0: Redirect datagrams for the Network; code 1: Redirect datagrams for the Host; code 2: Redirect datagrams for the Type of Service and Network; code 3: Redirect datagrams for the Type of Service and Host).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>type</span></strong> <i><span class="varname">typevalue</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the system to receive ICMP packets of a specified type.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 255.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>code</span></strong> <i><span class="varname">codevalue</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the system to receive ICMP packets with a specified message code.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 255.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942841385__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100ge sub-interface view,</span><span>100GE interface view,</span><span>10GE sub-interface view,</span><span>10GE interface view,</span><span>1200ge sub-interface view,</span><span>200GE sub-interface view,</span><span>200GE interface view,</span><span>25GE sub-interface view,</span><span>25GE interface view,</span><span>400GE sub-interface view,</span><span>400GE interface view,</span><span>50GE sub-interface view,</span><span>50GE interface view,</span><span>Eth-Trunk sub-interface view,</span><span>Eth-Trunk interface view,</span><span>Loopback interface view,</span><span>Tunnel interface view,</span><span>VBDIF interface view,</span><span>VLANIF interface view,</span><span>Management interface view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942841385__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942841385__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p>When the network is normal, ICMP packets can be correctly received. However, when network traffic is heavy, if hosts or ports are frequently unreachable, routing devices receive a large number of ICMP packets, which burdens the network and degrades the performance of routing devices. In addition, network attackers often use ICMP error packets to probe the internal structure of the network. To improve network performance and security, run the <b><span class="cmdname">icmp receive disable</span></b> command to disable the system from receiving ICMP packets.<p></p>
<span>To re-enable an interface to receive ICMP packets</span>, run the <b><span class="cmdname">icmp receive enable</span></b> command.<p></p>
<span>Before running the</span> <b><span class="cmdname">icmp receive enable</span></b> command in the interface view, you need to configure the inbound interface of original packets.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942841385__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable an interface to receive Host Unreachable messages.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface vlanif 100</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-Vlanif100] <strong>icmp name host-unreachable receive enable</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_IPv4_Basic_Configuration_Commands_title.html">IPv4 Basic Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/IFICMPRATLMTTOTAL(PP4OM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/ICMPSECURITY_RECEIVE(PP4OM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>