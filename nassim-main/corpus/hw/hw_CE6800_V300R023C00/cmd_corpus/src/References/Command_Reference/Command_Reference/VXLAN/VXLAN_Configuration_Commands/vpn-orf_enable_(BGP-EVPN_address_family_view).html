
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="vpn-orf enable (BGP-EVPN address family view)">
<meta name="DC.subject" content="vpn-orf enable (BGP-EVPN address family view)">
<meta name="keywords" content="vpn-orf enable (BGP-EVPN address family view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_VXLAN_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/VNI_RESERVED_FOR_M-LAG.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/VPN-TARGET-EVPN(EVPNOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="DC.Creator" content="SUBSYS_ID_BGPEVPNOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907767120">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>vpn-orf enable (BGP-EVPN address family view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907767120"></a><a name="EN-US_CLIREF_0000001907767120"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">vpn-orf enable (BGP-EVPN address family view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907767120__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">vpn-orf enable</span></b> command enables EVPN ORF.</p>
<p>The <b><span class="cmdname">undo vpn-orf enable</span></b> command disables EVPN ORF.</p>
</p>
<p>By default, EVPN ORF is disabled.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907767120__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">vpn-orf enable</span></b></p>

<p><b><span class="cmdname">undo vpn-orf enable</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907767120__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
None
</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907767120__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>BGP-EVPN address family view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907767120__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907767120__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>To allow two devices between which a BGP-EVPN peer relationship is established to exchange ORF routes carrying the import VPN target (IRT) of each other's EVPN instance, run the <b><span class="cmdname">vpn-orf enable</span></b> command to enable EVPN ORF. Upon receipt of ORF routes, a device uses the export VPN target (ERT) carried in the EVPN routes to be advertised to match the IRT in the received ORF routes so that the peer can receive only the expected routes. This relieves the pressure on the peer and reduces network load.</p>
<p><strong>Precautions</strong></p>
<ol><li>This command must be used together with the ipv4-family vpn-target and peer enable (BGP-EVPN address family view) commands. If only the <b><span class="cmdname">vpn-orf enable</span></b> command is run, the BGP speaker in the BGP-EVPN address family view does not advertise ORF routes to its peers.</li><li>In a scenario where a Huawei device is connected to a non-Huawei device, VPN ORF is configured on the non-Huawei device. VPN ORF is enabled in all VPN-related address families on the non-Huawei device and enabled by address family on the Huawei device. To enable the non-Huawei device to send all required routes to the Huawei device, ensure that the import VPN targets of all VPNs are the same, or different address families are deployed over different BGP sessions.</li></ol>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907767120__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable EVPN ORF in the BGP-EVPN address family view.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>evpn-overlay enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>bgp 100</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp] <strong>peer 1.1.1.1 as-number 100</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp] <strong>ipv4-family vpn-target</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp-af-vpn-target] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp] <strong>l2vpn-family evpn</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp-af-evpn] <strong>peer 1.1.1.1 enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp-af-evpn] <strong>vpn-orf enable</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_VXLAN_Configuration_Commands_title.html">VXLAN Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/VNI_RESERVED_FOR_M-LAG.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/VPN-TARGET-EVPN(EVPNOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>