
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="router-id">
<meta name="DC.subject" content="router-id">
<meta name="keywords" content="router-id">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_BGP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/VRF6-ROUTE-SELECT-DELAY(BGPVPNBASE).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/VRF-ROUTER-ID(BGPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_BGPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942844277">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>router-id</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942844277"></a><a name="EN-US_CLIREF_0000001942844277"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">router-id</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942844277__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">router-id</span></b> command configures a Router ID for the Router. Each Router ID uniquely identifies one Device in an AS.</p>
<p>The <b><span class="cmdname">undo router-id</span></b> command deletes the Router ID configured for the Device.</p>
</p>
<p>By default, no BGP Router ID is configured, and the Router ID configured for the route management module through the router id command is used.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942844277__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">router-id </span></b><i><span class="varname">ipv4-address</span></i></p>

<p><b><span class="cmdname">undo router-id</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942844277__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">ipv4-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a router ID in the IPv4 address format. The router ID 0.0.0.0 is not supported.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942844277__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>BGP view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942844277__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942844277__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>The <b><span class="cmdname">router-id</span></b> command is used to configure a router ID for the device. Each router ID identifies a device in an AS.</p>
<p><strong>Prerequisites</strong></p>
<p><p>The <b><span class="cmdname">bgp</span></b> command is run to enable BGP.</p>
</p>
<p><strong>Configuration Impact</strong></p>
<p>In the BGP view, changing the router ID or deleting the configured router ID resets the BGP session.</p>
<p><strong>Precautions</strong></p>
<p><p>By default, the router ID in the RM module is 0.0.0.0 when the device is not configured with any interface. For details about how to select a router ID, see the description of the <b><span class="cmdname">router id</span></b> command in the system view.<p></p>
<span>If the</span> <b><span class="cmdname">router-id</span></b> command is not run in the BGP view, the router ID in RM is used by default. When the IP address of the interface that is selected as the router ID is deleted or changed, router ID reselection is triggered. In addition, you need to run the <b><span class="cmdname">reset</span></b> command for the configuration to take effect. The router IDs of BGP private network instances, BGP public network instances, and RM instances are selected in descending order of priority.<p></p>
<span>If BGP uses the router ID of the RM module and all</span> public IP addresses are deleted, after the <b><span class="cmdname">reset</span></b> command is run, the BGP router ID changes to 0.0.0.0. As a result, the BGP peer relationship cannot be established.<p></p>
<span>For a BGP public network peer</span>, if the peer exists and neither the BGP router ID nor the router ID in the RM module is configured, when you delete the IP address of the last public network interface, the system may display a message indicating that the router ID will change to 0.0.0.0.<p></p>
<span>If a BGP VPN peer exists and none of the BGP VPN instance</span> router ID, BGP VPN instance address family router ID, BGP router ID, and RM router ID is configured, the system may display a message indicating that the router ID will change to 0.0.0.0 when you delete the IP address of the last VPN interface.<p></p>
<span>If two devices have different router IDs</span>, an IBGP or EBGP connection can be established between them. If the router IDs are the same and the <b><span class="cmdname">router-id allow-same enable</span></b> command is run in the BGP view, an EBGP connection can be established.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942844277__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure a Router ID for the Device.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>bgp 100</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp] <strong>router-id 10.1.1.1</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_BGP_Configuration_Commands_title.html">BGP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/VRF6-ROUTE-SELECT-DELAY(BGPVPNBASE).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/VRF-ROUTER-ID(BGPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>