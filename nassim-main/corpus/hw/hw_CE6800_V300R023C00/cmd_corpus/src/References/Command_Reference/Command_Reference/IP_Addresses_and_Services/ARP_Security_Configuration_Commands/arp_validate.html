
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="arp validate">
<meta name="DC.subject" content="arp validate">
<meta name="keywords" content="arp validate">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_ARP_Security_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/ARP_MISS_DISABLE.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/ARPSECGLOBAL_4(ARPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="ARP Security">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="ARP Security">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="ARP Security">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Creator" content="SUBSYS_ID_ARPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907762368">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>arp validate</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907762368"></a><a name="EN-US_CLIREF_0000001907762368"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">arp validate</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907762368__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">arp validate</span></b> command enables an interface to check the consistency between source and destination Media Access Control (MAC) addresses in the Ethernet packet header and those in the data area of an Address Resolution Protocol (ARP) packet.</p>
<p>The <b><span class="cmdname">undo arp validate</span></b> command disables an interface from checking the consistency between source and destination MAC addresses in the Ethernet packet header and those in the data area of an ARP packet.</p>
</p>
<p>By default, the interface does not perform a consistency check.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907762368__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">arp validate source-mac</span></b></p>

<p><b><span class="cmdname">arp validate destination-mac</span></b></p>

<p><b><span class="cmdname">arp validate </span></b>{ <strong><span>destination-mac</span></strong> <strong><span>source-mac</span></strong> | <strong><span>source-mac</span></strong> <strong><span>destination-mac</span></strong> }</p>

<p><b><span class="cmdname">undo arp validate source-mac</span></b></p>

<p><b><span class="cmdname">undo arp validate destination-mac</span></b></p>

<p><b><span class="cmdname">undo arp validate </span></b>{ <strong><span>destination-mac</span></strong> <strong><span>source-mac</span></strong> | <strong><span>source-mac</span></strong> <strong><span>destination-mac</span></strong> }</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907762368__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>destination-mac</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies that an interface checks the consistency between the destination MAC address in the Ethernet packet header and that in the data area of an ARP packet.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>source-mac</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies that an interface checks the consistency between source MAC address in the Ethernet packet header and those in the data area of an ARP packet.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907762368__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>Layer 2 100GE interface view,</span><span>100GE interface view,</span><span>Layer 2 10GE interface view,</span><span>10GE interface view,</span><span>Layer 2 200GE interface view,</span><span>200GE interface view,</span><span>25GE-L2 view,</span><span>25GE interface view,</span><span>400GE-L2 view,</span><span>400GE interface view,</span><span>Layer 2 50GE interface view,</span><span>50GE interface view,</span><span>Layer 2 Eth-Trunk interface view,</span><span>Eth-Trunk interface view,</span><span>Layer 2 GE interface view,</span><span>VBDIF interface view,</span><span>Interface group view,</span><span>Management interface view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907762368__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907762368__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>In a Metro Ethernet, various forms of attacks on ARP entries exist. To ensure network security, you need to prevent ARP attacks on the access layer or convergence layer of the network.<p></p>
<span>To prevent ARP spoofing</span>, the arp validate command is used to enable an interface to check the consistency between source and destination MAC addresses in the Ethernet packet header and those in the data area of an ARP packet. If an inconsistency is detected, the ARP packet is directly discarded. If no inconsistency is detected, the ARP packet is accepted.<p></p>
<span>When using the arp validate command</span>, note the following:</p>

<ul><li>If source-mac is selected:</li><li>The interface performs a consistency check on the source MAC address after receiving an ARP request packet.</li><li>The interface performs a consistency check only on the source MAC address after receiving an ARP response packet.</li><li>If destination-mac is selected:</li><li>The interface does not perform a consistency check after receiving an ARP request packet. No consistency check is required because the received ARP request packet is a broadcast packet.</li><li>The interface performs a consistency check on the destination MAC address after receiving an ARP response packet.</li><li>If source-mac and destination-mac are selected:</li><li>The interface performs a consistency check only on the source MAC address after receiving an ARP request packet.</li><li>The interface performs a consistency check on the source and destination MAC addresses after receiving an ARP response packet.</li></ul>
<p><strong>Precautions</strong></p>
<p>The sub-interfaces and the VLANIF interfaces are logical interfaces. The implementation of the device requires that the MAC address of a logical interface be the same as that of the corresponding physical interface.</p>

<ul><li>The arp validate command can be run on interfaces, but not on sub-interfaces. When a sub-interface receives an ARP packet through its interface, it checks whether the source and destination MAC addresses in the Ethernet packet header are the same as those in the data area of the ARP packet by following the rules configured on the interface.</li><li>The arp validate command can be run on member interfaces of VLANIF interfaces, but not on VLANIF interfaces. When a VLANIF interface receives an ARP packet through its interface, it checks whether the source and destination MAC addresses in the Ethernet packet header are the same as those in the data area of the ARP packet by following the rules configured on the member interface.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907762368__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable the interface to perform a consistency check on the source and destination MAC addresses in the header of an Ethernet packet and the source and destination MAC addresses in the data area of an ARP packet.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>arp validate source-mac destination-mac</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_ARP_Security_Configuration_Commands_title.html">ARP Security Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/ARP_MISS_DISABLE.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/ARPSECGLOBAL_4(ARPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>