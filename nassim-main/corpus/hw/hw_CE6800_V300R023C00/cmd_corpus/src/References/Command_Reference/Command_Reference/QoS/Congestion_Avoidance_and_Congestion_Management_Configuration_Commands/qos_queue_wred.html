
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="qos queue wred">
<meta name="DC.subject" content="qos queue wred">
<meta name="keywords" content="qos queue wred">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-Congestion_Avoidance_and_Congestion_Management_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/QOS_QUEUE_ECN.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/QOS_QUEUE-ALARM_DROP-PACKET-RATE.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Congestion Avoidance">
<meta name="featurename" content="Congestion Management">
<meta name="featuretype" content="QoS">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Congestion Avoidance">
<meta name="featurename" content="Congestion Management">
<meta name="featuretype" content="QoS">
<meta name="featurename" content="Congestion Avoidance">
<meta name="featurename" content="Congestion Management">
<meta name="featuretype" content="QoS">
<meta name="featuretype" content="QoS">
<meta name="featuretype" content="QoS">
<meta name="DC.Creator" content="SUBSYS_ID_QOS">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907608772">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>qos queue wred</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907608772"></a><a name="EN-US_CLIREF_0000001907608772"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">qos queue wred</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907608772__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">qos queue wred</span></b> command applies a Weighted Random Early Detection (WRED) drop profile to an interface queue.</p>
<p>The <b><span class="cmdname">undo qos queue wred</span></b> command deletes a WRED drop profile from an interface queue.</p>
</p>
<p>By default, no WRED drop profile is applied to an interface queue.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907608772__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">qos queue </span></b><i><span class="varname">queue-index</span></i> <strong><span>wred</span></strong> <i><span class="varname">drop-profile-name</span></i></p>

<p><b><span class="cmdname">undo qos queue </span></b><i><span class="varname">queue-index</span></i> <strong><span>wred</span></strong></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907608772__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">queue-index</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the index of a queue.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 0 to 7.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">drop-profile-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a WRED drop profile.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value must be the name of an existing WRED drop profile on the device.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907608772__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100GE interface view,</span><span>10GE interface view,</span><span>200GE interface view,</span><span>25GE interface view,</span><span>400GE interface view,</span><span>50GE interface view,</span><span>Interface group view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907608772__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907608772__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>The traditional packet loss policy uses the tail drop method. This method processes all packets equally without classifying the packets into different types. When congestion occurs, packets at the end of a queue are discarded until the congestion problem is solved. This policy leads to global TCP synchronization. The RED technique randomly discards packets to prevent the transmission speed of multiple TCP connections from being reduced simultaneously.<p></p>
<span>To prevent global TCP synchronization</span>, use Random Early Detection (RED) and WRED.<p></p>
<span>RED and WRED randomly discard packets to prevent global</span> TCP synchronization. When packets of a TCP connection are discarded, packets of other TCP connections can still be sent at a high rate, ensuring bandwidth use efficiency.</p>
<p><strong>Prerequisites</strong></p>
<p>Before applying a WRED drop profile, run the <b><span class="cmdname">drop-profile</span></b> command to create a WRED drop profile.</p>
<p><strong>Precautions</strong></p>
<p>On the device, you can apply a WRED drop profile to an interface or a queue on an interface.<p></p>
<span>If you apply a WRED drop profile to an interface and</span> an interface queue simultaneously, the WRED drop profile that is applied to the interface queue first takes effect.<p></p>
<span>To apply the same WRED drop profile to queues with</span> the same index on multiple interfaces, perform the configuration on a port group to reduce the workload.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907608772__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Create a WRED drop profile named wred1 and apply it to queue 1 on the specified interface.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>drop-profile wred1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-drop-wred1] <strong>color green low-limit 80 high-limit 100 discard-percentage 10</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-drop-wred1] <strong>color yellow low-limit 60 high-limit 80 discard-percentage 20</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-drop-wred1] <strong>color red low-limit 40 high-limit 60 discard-percentage 40</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-drop-wred1] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>qos queue 1 wred wred1</strong>
</pre>
</div>



</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-Congestion_Avoidance_and_Congestion_Management_Commands_title.html">Congestion Avoidance and Congestion Management Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/QOS_QUEUE_ECN.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/QOS_QUEUE-ALARM_DROP-PACKET-RATE.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>