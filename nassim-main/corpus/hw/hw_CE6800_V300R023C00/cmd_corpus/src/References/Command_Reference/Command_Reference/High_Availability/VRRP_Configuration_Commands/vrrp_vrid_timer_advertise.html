
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="vrrp vrid timer advertise">
<meta name="DC.subject" content="vrrp vrid timer advertise">
<meta name="keywords" content="vrrp vrid timer advertise">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_VRRP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/PRIORITY(VRRPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/TRACKADMINVRRP(VRRPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="High Availability">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="High Availability">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="DC.Creator" content="SUBSYS_ID_VRRPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942846609">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>vrrp vrid timer advertise</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942846609"></a><a name="EN-US_CLIREF_0000001942846609"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">vrrp vrid timer advertise</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942846609__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">vrrp vrid timer advertise</span></b> command sets an interval at which the master device sends a VRRP Advertisement packet.</p>
<p>The <b><span class="cmdname">undo vrrp vrid timer advertise</span></b> command restores the default interval.</p>
</p>
<p>By default, the master device sends VRRP Advertisement packets at an interval of 1 second.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942846609__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">vrrp vrid </span></b><i><span class="varname">virtual-router-id</span></i> <strong><span>timer</span></strong> <strong><span>advertise</span></strong> <i><span class="varname">advertise-interval</span></i></p>

<p><b><span class="cmdname">undo vrrp vrid </span></b><i><span class="varname">virtual-router-id</span></i> <strong><span>timer</span></strong> <strong><span>advertise</span></strong></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942846609__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>advertise</span></strong> <i><span class="varname">advertise-interval</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the interval at which the master device sends a VRRP Advertisement packet.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 255, in seconds.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>vrid</span></strong> <i><span class="varname">virtual-router-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the ID of a VRRP group.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 255.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942846609__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100GE interface view,</span><span>10GE interface view,</span><span>200GE interface view,</span><span>25GE interface view,</span><span>400GE interface view,</span><span>50GE interface view,</span><span>Eth-Trunk interface view,</span><span>VLANIF interface view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942846609__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942846609__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>The master device in a VRRP group periodically sends VRRP Advertisement packets to the backup devices in the group to notify them of its status. You can run the vrrp vrid timer advertise command to set an interval at which the master device in the VRRP group sends a VRRP Advertisement packet.<p></p>
<span>If a backup device does not receive a VRRP Advertisement</span> packet from the master device within a period three times the interval (As defined in relevant standards protocols: Interval specified by master-down-interval= (256 - priority)/256 + 3 x timer. According to the formula, the default interval specified by master-down-interval is about three times the interval specified by advertise-interval.) between sending VRRP Advertisement packets, the backup device considers the master device Down and preempts the Master state. If a backup device does not receive a VRRP Advertisement packet within a specified timeout period due to heavy network traffic or timer differences, a master/backup VRRP switchover is performed. To prevent this situation, configure a large interval at which the master device sends VRRP Advertisement packets.</p>
<p><strong>Prerequisites</strong></p>
<p>A VRRP group has been configured using the <b><span class="cmdname">vrrp vrid</span></b> command.</p>
<p><strong>Configuration Impact</strong></p>
<p>After the vrrp vrid timer advertise command is run, the master device in the specified VRRP group on a specified interface sends a VRRP Advertisement packet at a specified interval.<p></p>
<span>When you configure more than 1K VRRP groups on a device</span>, set the interval at which VRRP Advertisement packets are sent to 3 or more seconds to ensure VRRP stability.</p>
<p><strong>Precautions</strong></p>
<p><p>If the <b><span class="cmdname">vrrp timer advertise learning disable</span></b> command has been run to disable a device from learning the interval at which VRRP Advertisement packets are sent, ensure that the devices in the VRRP group have the same time for learning the interval. An interval inconsistency causes a VRRP negotiation failure. As a result, two master devices coexist.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942846609__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the interval at which the master device in VRRP group 1 sends a VRRP Advertisement packet to 5 seconds.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ip address 10.1.1.1 24</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>vrrp vrid 1 virtual-ip 10.1.1.111</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>vrrp vrid 1 timer advertise 5</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_VRRP_Configuration_Commands_title.html">VRRP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/PRIORITY(VRRPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/TRACKADMINVRRP(VRRPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>