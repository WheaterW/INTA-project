
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="protocol up-delay-time">
<meta name="DC.subject" content="protocol up-delay-time">
<meta name="keywords" content="protocol up-delay-time">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-Basic_Interface_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/MTU(IFMOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/RESETIFPEAKCOUNTER(DEVOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Interface Basic">
<meta name="featuretype" content="Interface Management">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Interface Basic">
<meta name="featuretype" content="Interface Management">
<meta name="featurename" content="Interface Basic">
<meta name="featuretype" content="Interface Management">
<meta name="featuretype" content="Interface Management">
<meta name="featuretype" content="Interface Management">
<meta name="DC.Creator" content="SUBSYS_ID_IFMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907760276">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>protocol up-delay-time</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907760276"></a><a name="EN-US_CLIREF_0000001907760276"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">protocol up-delay-time</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907760276__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">protocol up-delay-time</span></b> command configures a delay period (in seconds) after which the protocol status of a Layer 3 interface goes Up.</p>
<p>The <b><span class="cmdname">undo protocol up-delay-time</span></b> command restores the default configuration.</p>
</p>
<p>By default, the delay period is 0s, indicating the delay Up function is disabled.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907760276__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">protocol up-delay-time </span></b><i><span class="varname">time</span></i></p>

<p><b><span class="cmdname">undo protocol up-delay-time</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907760276__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">time</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a delay period (in seconds) after which the protocol status of a Layer 3 interface goes Up.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer, in seconds. The range of the value and the default value vary with the interface type. The VLANIF interface number ranges from 0 to 7200. The default value is 1. For other interfaces, the value ranges from 0 to 60. The default value is 0.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907760276__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100GE interface view,</span><span>10GE interface view,</span><span>200GE interface view,</span><span>25GE interface view,</span><span>400GE interface view,</span><span>50GE interface view,</span><span>Eth-Trunk interface view,</span><span>VBDIF interface view,</span><span>VLANIF interface view,</span><span>Sub-interface view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907760276__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907760276__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>In a scenario where active and standby links are configured, if the active link is faulty, the standby link will take over traffic from the faulty active link. After the active link restores, traffic is switched back to the active link. Once the protocol status of the active link interface goes Up on a device, Layer 3 protocols, such as routing protocols and VRRP begin to send protocol packets to renegotiate with a remote device. However, if the link Layer of the local interface or remote interface is not ready for forwarding packets, the protocol packets will be discarded, causing the Layer 3 protocol negotiation to fail and burdening the device with extra costs. To address this problem, run the <b><span class="cmdname">protocol up-delay-time</span></b> command to configure a delay period (in seconds) after which the protocol status of a Layer 3 interface goes Up.<p></p>
<span>For example</span>, two devices are connected using an active link with the same rate interfaces whose protocol status has gone Up, but the physical status of the remote interface is blocked by STP. In this situation, when the local device sends a routing packet to the remote device, the remote device cannot respond to the packet. To address this problem, run the <b><span class="cmdname">protocol up-delay-time</span></b> command which allows the protocol status of a Layer 3 interface to go Up after the physical status of a link Layer restores to Up.</p>
</p>
<p><strong>Prerequisites</strong></p>
<p>The <b><span class="cmdname">protocol up-delay-time</span></b> command can be configured only on a Layer 3 interface.</p>
<p><strong>Precautions</strong></p>
<p>The <b><span class="cmdname">protocol up-delay-time time</span></b> and <b><span class="cmdname">shutdown network-layer</span></b> commands cannot be configured together.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907760276__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">


<div class="p"># Configure the delay period after which the protocol status of <span>100GE</span><span>1/0/1</span> goes Up to 20s.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>protocol up-delay-time 20</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-Basic_Interface_Configuration_Commands_title.html">Interface Basic Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/MTU(IFMOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/RESETIFPEAKCOUNTER(DEVOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>