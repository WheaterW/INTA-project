
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="dhcp snooping check dhcp-request enable(system view)">
<meta name="DC.subject" content="dhcp snooping check dhcp-request enable(system view)">
<meta name="keywords" content="dhcp snooping check dhcp-request enable(system view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-DHCP_Snooping_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DHCP_SNOOPING_CHECK_DHCP-REQUEST_ENABLE.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DHCP_SNOOPING_CHECK_SERVER-VLAN_ENABLE.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="DHCP Snooping">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="DHCP Snooping">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="DHCP Snooping">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Creator" content="SUBSYS_ID_ESAP_DHCPSNP">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907602692">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>dhcp snooping check dhcp-request enable(system view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907602692"></a><a name="EN-US_CLIREF_0000001907602692"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">dhcp snooping check dhcp-request enable(system view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907602692__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">dhcp snooping check dhcp-request enable</span></b> enables the device to check DHCP messages against the DHCP snooping binding table.</p>
<p>The <b><span class="cmdname">undo dhcp snooping check dhcp-request enable</span></b> disables the device from checking DHCP messages against the DHCP snooping binding table.</p>
</p>
<p>By default, the device does not check DHCP messages against the DHCP snooping binding table.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907602692__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">dhcp snooping check dhcp-request enable vlan </span></b>{ <i><span class="varname">vlan-id1</span></i> [ <strong><span>to</span></strong> <i><span class="varname">vlan-id2</span></i> ] } &amp;&lt;1-10&gt;</p>

<p><b><span class="cmdname">undo dhcp snooping check dhcp-request enable vlan </span></b>{ <i><span class="varname">vlan-id1</span></i> [ <strong><span>to</span></strong> <i><span class="varname">vlan-id2</span></i> ] } &amp;&lt;1-10&gt;</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907602692__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>to</span></strong> <i><span class="varname">vlan-id2</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the ID of the last VLAN.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>For the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ:The value is an integer ranging from 1 to 4094.</p>
<p>For the CE6885-LL (low latency mode):The value is an integer ranging from 1 to 1023.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>vlan</span></strong> <i><span class="varname">vlan-id1</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Represents the number of the first VLAN.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>For the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ:The value is an integer ranging from 1 to 4094.</p>
<p>For the CE6885-LL (low latency mode):The value is an integer ranging from 1 to 1023.</p>
</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907602692__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907602692__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907602692__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><p>After a binding table is generated, the device checks DHCPv4 Request or Release messages against the binding table. The device forwards only the messages that match the binding table. Otherwise, the device discards the messages. This effectively prevents unauthorized users from sending bogus DHCP packets to pretend to be authorized users to renew or release IP addresses. The device checks DHCPv4 Request or Release messages against binding entries based on the following rules:<p></p>
&middot; For DHCPv4 Request messages:</p>

<ol><li>The device checks whether the CIADDR field in the DHCPv4 Request message is 0. If the CIADDR field is 0, the DHCPv4 Request message is sent for the first login and is directly forwarded. If the CIADDR field in the DHCPv4 Request message is not 0, the DHCPv4 Request message is sent for lease renewal and is checked against the binding table.</li><li>The device checks whether the CHADDR field in the message matches an entry in the binding table. If not, the device considers that the user goes online for the first time and forwards the message. If yes, the device checks whether the VLAN ID, client IP address, and interface information in the message match the binding table. If yes, the device forwards the message. If no, the device discards the message.<p></p>
&middot; After receiving a DHCPv4 Release/Inform/Decline message, the device checks whether the CHADDR field in the message matches an entry in the binding table. If not, the device forwards the message. If a binding entry is matched, the device checks whether the VLAN ID, client IP address, and interface information in the message match the binding table. If yes, the device forwards the message. If no, the device discards the message.</li></ol>
</div>
<p><strong>Prerequisites</strong></p>
<p>DHCP snooping has been enabled on the device using the <strong>dhcp snooping enable</strong> command.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907602692__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable the function of checking DHCP messages against the DHCP snooping binding table in VLAN 10 in the system view.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>dhcp enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>dhcp snooping enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>vlan 10</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vlan10] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>dhcp snooping check dhcp-request enable vlan 10</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-DHCP_Snooping_Configuration_Commands_title.html">DHCP Snooping Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DHCP_SNOOPING_CHECK_DHCP-REQUEST_ENABLE.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/DHCP_SNOOPING_CHECK_SERVER-VLAN_ENABLE.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>