
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="dhcp relay request server-match enable">
<meta name="DC.subject" content="dhcp relay request server-match enable">
<meta name="keywords" content="dhcp relay request server-match enable">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-DHCP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DHCP_RELAY_REPLY_FORWARD_ALL_ENABLE.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DHCP_RELAY_SERVER_GROUP.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="DHCPv4">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="DHCPv4">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="DHCPv4">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Creator" content="SUBSYS_ID_ESAP_DHCPRELAY">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907762436">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>dhcp relay request server-match enable</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907762436"></a><a name="EN-US_CLIREF_0000001907762436"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">dhcp relay request server-match enable</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907762436__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">dhcp relay request server-match enable</span></b> command configures a DHCP relay agent to check the DHCP server identifier (Option54) in a DHCP Request message to be forwarded.</p>
<p>The <b><span class="cmdname">undo dhcp relay request server-match enable</span></b> command configures a DHCP relay agent not to check the DHCP server identifier (Option54) in a DHCP Request message to be forwarded.</p>
</p>
<p>By default, a DHCP relay agent checks the DHCP server identifier (Option54) in a DHCP Request message to be forwarded.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907762436__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">dhcp relay request server-match enable</span></b></p>

<p><b><span class="cmdname">undo dhcp relay request server-match enable</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907762436__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
None
</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907762436__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907762436__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907762436__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>During the four-message exchange process, the DHCP Offer message sent by a DHCP server carries the DHCP server identifier (Option54) to identify the server. After receiving the DHCP Offer message, the DHCP client records the DHCP server identifier and carries it in the DHCP Request message to be replied to indicate which DHCP server is selected. When the DHCP relay agent forwards the DHCP Request message, it checks the DHCP server identifier in the message and forwards the message only to the corresponding DHCP server.<p></p>
<span>If multiple DHCP servers are deployed on the network</span> and the design of a server does not comply with standards, the DHCP server identifier carried in the DHCP Offer message to be sent by the server is not its identifier. As a result, the DHCP server identifier carried in the DHCP Request message is incorrect, the DHCP relay agent forwards the message to an incorrect DHCP server rather than the matching DHCP server, and the client fails to obtain an IP address.<p></p>
<span>To resolve this issue</span>, you can run the <b><span class="cmdname">undo dhcp relay request server-match enable</span></b> command, so that the DHCP relay agent does not check the DHCP server identifier (Option54) in the DHCP Request message to be forwarded and forwards the message to all relayed DHCP servers, ensuring that the matching DHCP server can receive the DHCP Request message.</p>
<p><strong>Prerequisites</strong></p>
<p>DHCP has been enabled globally by using the <b><span class="cmdname">dhcp enable</span></b> command.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907762436__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure a DHCP relay agent not to check the DHCP server identifier (Option54) in a DHCP Request message to be forwarded.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>dhcp enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>undo dhcp relay request server-match enable</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-DHCP_Configuration_Commands_title.html">DHCPv4 Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DHCP_RELAY_REPLY_FORWARD_ALL_ENABLE.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/DHCP_RELAY_SERVER_GROUP.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>