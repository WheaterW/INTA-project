
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="frr-policy route">
<meta name="DC.subject" content="frr-policy route">
<meta name="keywords" content="frr-policy route">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_OSPF_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/OSPFFRR(OSPFFRROM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/OSPF-GRENABLE(OSPFCOMMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_OSPFFRROM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907603252">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>frr-policy route</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907603252"></a><a name="EN-US_CLIREF_0000001907603252"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">frr-policy route</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907603252__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">frr-policy route</span></b> command configures a filtering policy for OSPF/OSPFv3 IP FRR backup routes to control whether OSPF/OSPFv3 backup routes are added to the routing table.</p>
<p>The <b><span class="cmdname">undo frr-policy route</span></b> command disables the device from filtering backup routes for OSPF/OSPFv3 IP FRR.</p>
</p>
<p>By default, OSPF/OSPFv3 IP FRR-enabled backup routes are not filtered.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907603252__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">

<p><b><span class="cmdname">frr-policy route </span></b>{ <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> }</p>

<p><b><span class="cmdname">undo frr-policy route</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907603252__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of an IP FRR filtering policy.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The name is a string of 1 to 200 case-sensitive characters, with spaces not supported. When double quotation marks are used around the string, spaces are allowed in the string.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907603252__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>OSPF FRR view,</span><span>OSPFv3 FRR view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907603252__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907603252__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>OSPF/OSPFv3 IP FRR can rapidly switch traffic from a faulty link to a backup link, ensuring uninterrupted traffic transmission. OSPF/OSPFv3 IP FRR is a method to improve OSPF/OSPFv3 network reliability. After an OSPF or OSPFv3 filtering policy is configured using the <b><span class="cmdname">frr-policy route</span></b> command, only the backup OSPF or OSPFv3 routes that meet the filtering conditions can be added to the forwarding table. If the primary link fails, OSPF or OSPFv3 can quickly switch traffic to the backup route.</p>
<p><strong>Prerequisites</strong></p>
<p><p>The system has entered the OSPFv3 IP FRR view using the <b><span class="cmdname">frr</span></b> command, and OSPFv3 IP FRR has been enabled using the <b><span class="cmdname">loop-free-alternate</span></b> command.<p></p>
<span>The system has entered the OSPF IP FRR view using</span> the <b><span class="cmdname">frr</span></b> command, and OSPF IP FRR has been enabled using the <b><span class="cmdname">loop-free-alternate</span></b> command.</p>
</p>
<p><strong>Precautions</strong></p>
<p><p>If the command is run more than once, the last configuration overrides the previous one.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907603252__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure OSPFv3 IP FRR filtering policy abc.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>route-policy abc permit node 10</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-route-policy] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>ospfv3 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospfv3-1] <strong>frr</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospfv3-1-frr] <strong>loop-free-alternate</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospfv3-1-frr] <strong>frr-policy route route-policy abc</strong>
</pre>
</div>

<div class="p"># Configure OSPF IP FRR filtering policy abc.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>route-policy abc permit node 10</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-route-policy] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>ospf 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospf-1] <strong>frr</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospf-1-frr] <strong>loop-free-alternate</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospf-1-frr] <strong>frr-policy route route-policy abc</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_OSPF_Configuration_Commands_title.html">OSPF Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/OSPFFRR(OSPFFRROM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/OSPF-GRENABLE(OSPFCOMMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>