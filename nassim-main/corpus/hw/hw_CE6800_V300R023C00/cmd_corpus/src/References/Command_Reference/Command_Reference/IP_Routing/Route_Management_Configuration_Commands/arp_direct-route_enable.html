
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="arp direct-route enable">
<meta name="DC.subject" content="arp direct-route enable">
<meta name="keywords" content="arp direct-route enable">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IP_Routing_Basic_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IPV4VLINKIFDELAYDC(EUMOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SYSVLINKENABLEDC(EUMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Route Management">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Route Management">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="Route Management">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_EUMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907762960">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>arp direct-route enable</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907762960"></a><a name="EN-US_CLIREF_0000001907762960"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">arp direct-route enable</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907762960__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">arp direct-route enable</span></b> command advertises ARP Vlink direct routes.</p>
<p>The <b><span class="cmdname">undo arp direct-route enable</span></b> command restores the default setting.</p>
</p>
<p>By default, ARP Vlink direct routes are not advertised.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907762960__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">arp direct-route enable </span></b>[ <strong><span>route-policy</span></strong> <i><span class="varname">name</span></i> ]</p>

<p><b><span class="cmdname">undo arp direct-route enable</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907762960__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>route-policy</span></strong> <i><span class="varname">name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a route-policy that is used to filter ARP Vlink direct routes.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The name is a string of 1 to 200 case-sensitive characters, with spaces not supported. When double quotation marks are used around the string, spaces are allowed in the string.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907762960__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>VBDIF interface view,</span><span>VLANIF interface view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907762960__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907762960__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>By default, ARP Vlink direct routes are only used for packet forwarding in the same VLAN and cannot be imported to dynamic routing protocols. This is because importing Vlink direct routes to dynamic routing protocols will increase the number of routing entries and affect routing table stability. In some cases, some operations need to be performed based on Vlink direct routes of VLAN users. For example, different VLAN users use different route exporting policies to guide traffic from the remote device. In this scenario, ARP Vlink direct routes are needed to be imported by a dynamic routing protocol and advertised to the remote device. After advertisement of ARP Vlink direct routes is enabled, these direct routes can be imported by a dynamic routing protocol (IGP or BGP) and advertised to the remote device.</p>
<p><strong>Configuration Impact</strong></p>
<p>After route-policy route-policy-name is specified in the arp direct-route enable command, only filtered ARP Vlink direct routes are advertised.</p>
<p><strong>Follow-up Procedure</strong></p>
<p>Import advertised ARP Vlink direct routes to the routing table of each dynamic routing protocol on the device so that the ARP Vlink direct routes can be advertised by each dynamic routing protocol.</p>
<p><strong>Precautions</strong></p>
<p>Route-policies can filter ARP Vlink direct routes only based on IPv4 or IPv6 route prefixes.<p></p>
<span>Route-policy must be specified using the</span> <b><span class="cmdname">route-policy</span></b> command. If the parameter is not specified, ARP Vlink direct routes cannot be filtered.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907762960__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable a VLANIF interface to advertise the ARP Vlink direct routes matching the route-policy named rp1 only when the corresponding ARP virtual IP address is obtained by ARP through probing based on learned ARP entries in an EVN scenario.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>vlan 200</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-Vlan200] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface vlanif 200</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-Vlanif200] <strong>arp direct-route enable route-policy rp1</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_IP_Routing_Basic_Configuration_Commands_title.html">Route Management Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/IPV4VLINKIFDELAYDC(EUMOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SYSVLINKENABLEDC(EUMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>