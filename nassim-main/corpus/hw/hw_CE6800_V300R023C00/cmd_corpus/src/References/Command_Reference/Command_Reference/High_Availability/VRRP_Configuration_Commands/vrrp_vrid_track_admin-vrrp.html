
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="vrrp vrid track admin-vrrp">
<meta name="DC.subject" content="vrrp vrid track admin-vrrp">
<meta name="keywords" content="vrrp vrid track admin-vrrp">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_VRRP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/TIMER-ADVERTISE(VRRPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/TRACKBFD(VRRPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="High Availability">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="High Availability">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="DC.Creator" content="SUBSYS_ID_VRRPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907767364">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>vrrp vrid track admin-vrrp</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907767364"></a><a name="EN-US_CLIREF_0000001907767364"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">vrrp vrid track admin-vrrp</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907767364__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">vrrp vrid track admin-vrrp</span></b> command binds a common VRRP group to a management VRRP (mVRRP) backup group. After the binding is configured, the common VRRP group becomes a service VRRP group.</p>
<p>The <b><span class="cmdname">undo vrrp vrid track admin-vrrp</span></b> command removes the binding between a service VRRP group and an mVRRP group. After the binding is removed, the service VRRP group changes to a common VRRP group.</p>
</p>
<p>By default, no VRRP group is bound to an mVRRP group.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907767364__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">vrrp vrid </span></b><i><span class="varname">virtual-router-id1</span></i> <strong><span>track</span></strong> <strong><span>admin-vrrp</span></strong> <strong><span>interface</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> } <strong><span>vrid</span></strong> <i><span class="varname">virtual-router-id2</span></i> [ <strong><span>unflowdown</span></strong> ]</p>

<p><b><span class="cmdname">undo vrrp vrid </span></b><i><span class="varname">virtual-router-id1</span></i> <strong><span>track</span></strong> <strong><span>admin-vrrp</span></strong></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907767364__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">virtual-router-id1</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the ID of a common VRRP group.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is an integer ranging from 1 to 255.</p>
<p>Each card supports a maximum of eight VRIDs.</p>
<p>The VRID on an interface must be unique, but different interfaces can be bound to VRRP groups with the same VRID. If the number of VRIDs is insufficient, bind different interfaces to VRRP groups with the same VRID.</p>
<p>The total number of virtual MAC addresses on VLANIF, Eth-Trunk, VBDIF, and NVE interfaces of the device cannot exceed the maximum number of VRIDs.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>interface</span></strong> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the type and number of an interface on which an mVRRP group is configured.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>vrid</span></strong> <i><span class="varname">virtual-router-id2</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the ID of an mVRRP group.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is an integer ranging from 1 to 255.</p>
<p>Each card supports a maximum of eight VRIDs.</p>
<p>The VRID on an interface must be unique, but different interfaces can be bound to VRRP groups with the same VRID. If the number of VRIDs is insufficient, bind different interfaces to VRRP groups with the same VRID.</p>
<p>The total number of virtual MAC addresses on VLANIF, Eth-Trunk, VBDIF, and NVE interfaces of the device cannot exceed the maximum number of VRIDs.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>unflowdown</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Disables the flowdown function of the interface. A common VRRP group is bound to an mVRRP group in unflowdown mode.</p>
<p>After the unflowdown function is configured for the mVRRP group that is in the Backup or Initialize state, the interface on which the bound service VRRP group is established will retain the Up state and the service VRRP group will enter the Backup or Initialize state.</p>
<p>By default, the flowdown mode is used.</p>
<p>After the flowdown function is configured for the mVRRP group that is in the Backup or Initialize state, the interface on which the bound service VRRP group is established will go Down and the service VRRP group will enter the Initialize state.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907767364__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100GE interface view,</span><span>10GE interface view,</span><span>200GE interface view,</span><span>25GE interface view,</span><span>400GE interface view,</span><span>50GE interface view,</span><span>Eth-Trunk interface view,</span><span>VLANIF interface view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907767364__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907767364__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>When multiple VRRP groups are configured on a single device to forward traffic, each VRRP group maintains its own state machine. This means that a large number of VRRP Advertisement packets are transmitted, consuming a lot of bandwidth and CPU resources. To reduce resource consumption, run the vrrp vrid track admin-vrrp command to bind a common VRRP group to an mVRRP group.<p></p>
<span>VRRP groups can be bound to the mVRRP group in flowdown</span> or unflowdown mode.</p>

<ul><li>flowdown: This mode is used on a network where the upstream and downstream traffic forwarding paths must be the same. On a network configured with a firewall and a VRRP group, upstream traffic flows through the master device and the downstream traffic flows through either the master or backup device. If downstream traffic flows through the backup device and the firewall detects inconsistency between the upstream and downstream traffic paths, the backup device has to discard downstream traffic. The default flowdown mode is used to allow the downstream traffic to be forwarded through the master device so that the firewall allows the packets to pass through.</li><li>unflowdown: This mode is used on a network where the upstream and downstream traffic forwarding paths do not need to be the same. unflowdown can be configured to allow the mVRRP group to determine the states of its bound VRRP group. This means that upstream traffic travels through the master device and then reaches the upper-layer network and downstream traffic travels through either the master or backup device and reaches the user.</li></ul>
<p><strong>Prerequisites</strong></p>
<ul><li>An mVRRP group has been created using the <b><span class="cmdname">admin-vrrp vrid</span></b> command.</li><li>A common VRRP group has been created using the <b><span class="cmdname">vrrp vrid virtual-ip</span></b> command.</li></ul>
<p><strong>Configuration Impact</strong></p>
<p>After a common VRRP group is bound to an mVRRP group, the common VRRP group becomes a service VRRP group. The mVRRP group sends VRRP Advertisement packets to determine the master/backup status of the service VRRP group. The service VRRP group only forwards service traffic, which significantly reduces device loads and bandwidth consumption.</p>
<p><strong>Precautions</strong></p>
<ul><li>The vrrp vrid track admin-vrrp command can be run only on the interface on which a common VRRP group resides.</li><li>A common VRRP4 backup group and a common VRRP6 group can be configured on the same interface. However, when both a common VRRP4 backup group and a common VRRP6 backup group are configured on an interface, there are several restrictions:</li><li>The common VRRP4 backup group must be bound to the mVRRP4 backup group, whereas the common VRRP6 backup group must be bound to the mVRRP6 backup group.</li><li>A maximum of one common VRRP4 group and one common VRRP6 group can be configured on an interface. The common VRRP groups must be configured on the interface using the unflowdown parameter.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907767364__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Bind the service VRRP group 1 on <span>100GE</span> <span>1/0/1</span> to the mVRRP group 2 on <span>100GE</span> <span>1/0/7</span>.1.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>vrrp vrid 1 track admin-vrrp interface <span>100GE</span> <span>1/0/7</span>.1 vrid 2</strong>
</pre>
</div>



</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_VRRP_Configuration_Commands_title.html">VRRP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/TIMER-ADVERTISE(VRRPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/TRACKBFD(VRRPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>