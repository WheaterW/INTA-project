
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="frr-policy route (IS-IS FRR view)">
<meta name="DC.subject" content="frr-policy route (IS-IS FRR view)">
<meta name="keywords" content="frr-policy route (IS-IS FRR view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IS-IS_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/FRR(ISISFRROM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IGNORE-RECEIVE-LSP-SYSTEMID(ISISCOMMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IS-IS">
<meta name="featurename" content="IS-ISv6">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="IS-IS">
<meta name="featurename" content="IS-ISv6">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="IS-IS">
<meta name="featurename" content="IS-ISv6">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_ISISFRROM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907765592">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>frr-policy route (IS-IS FRR view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907765592"></a><a name="EN-US_CLIREF_0000001907765592"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">frr-policy route (IS-IS FRR view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907765592__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">frr-policy route</span></b> command filters IS-IS backup routes before the routes are added to the IP routing table.</p>
<p>The <b><span class="cmdname">undo frr-policy route</span></b> command cancels the filtering function.</p>
</p>
<p>By default, the filtering function is disabled.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907765592__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">

<p><b><span class="cmdname">frr-policy route </span></b>{ <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> }</p>

<p><b><span class="cmdname">undo frr-policy route</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907765592__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a route policy to filter IS-IS backup routes.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The name is a string of 1 to 200 case-sensitive characters, with spaces not supported. When double quotation marks are used around the string, spaces are allowed in the string.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907765592__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>IS-IS FRR view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907765592__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907765592__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>With the development of networks, Voice over Internet Protocol (VoIP) and on-line video services require high-quality real-time transmission. Nevertheless, if an IS-IS fault occurs, multiple processes, including fault detection, LSP update, LSP flooding, route calculation, and FIB entry delivery, must be performed to switch the traffic to a new link. As a result, it takes much more than 50 ms to rectify the fault, unable to meet the requirement for real-time services.<p></p>
<span>The</span> <b><span class="cmdname">frr-policy route</span></b> command can be configured as required. In this case, the IS-IS backup route matching specified rules can be added to the IP routing table and delivered to the forwarding table. When a fault occurs on the route, the system can fast switch the forwarded traffic to the IS-IS backup route to protect the traffic.<p></p>
<span>You can use IP prefix lists or ACLs to filter the</span> IS-IS backup routes.</p>
<p><strong>Prerequisites</strong></p>
<p>An IS-IS instance has been created, and fast reroute has been enabled.</p>
<p><strong>Precautions</strong></p>
<p>In the isis-frr view, if route-policy route-policy-name is specified in this command, the following items can be matched: the outbound interface, ACL list of the next hop address of IP routing information, prefix list of the next hop address of IP routing information, route cost, route type, route tag, routing protocol type, and route priority. No action can be set.<p></p>
<span>If route-policy route-policy-name is specified in</span> the command in the IS-IS IPv6 FRR view, the following items can be matched: the outbound interface, ACL list of the next hop address of IP routing information, prefix list of the next hop address of IP routing information, route cost, route type, route tag, routing protocol type, and route priority. No action can be set.<p></p>
<span>If the referenced policy contains unsupported attribute</span> matching or setting an action, unexpected results may occur.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907765592__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure IS-IS to add the IS-IS backup routes that match the route policy abc to the IP routing table.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>route-policy abc permit node 10</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-route-policy] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>isis</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-isis-1] <strong>frr</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-isis-1-frr] <strong>frr-policy route route-policy abc</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_IS-IS_Configuration_Commands_title.html">IS-IS Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/FRR(ISISFRROM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/IGNORE-RECEIVE-LSP-SYSTEMID(ISISCOMMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>