
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="display msdp rpf-peer">
<meta name="DC.subject" content="display msdp rpf-peer">
<meta name="keywords" content="display msdp rpf-peer">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_MSDP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DISPLAY-MSDP-PEER-STATUS(MSDPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DISPLAY-MSDP-SA-CACHE(MSDPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="MSDP">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="MSDP">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="MSDP">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Creator" content="SUBSYS_ID_MSDPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907766136">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>display msdp rpf-peer</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907766136"></a><a name="EN-US_CLIREF_0000001907766136"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">display msdp rpf-peer</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907766136__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">display msdp rpf-peer</span></b> command displays information about all reverse path forwarding (RPF) peers of a specific source's rendezvous point (RP) address, including RPF peer selection rules and RPF route types.</p>
</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907766136__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">display msdp </span></b>{ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> | <strong><span>all-instance</span></strong> } <strong><span>rpf-peer</span></strong> <strong><span>original-rp</span></strong> <i><span class="varname">original-rp-address</span></i></p>

<p><b><span class="cmdname">display msdp rpf-peer original-rp </span></b><i><span class="varname">original-rp-address</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907766136__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Displays information about all RPF peers of a specific source's RP address in a specified VPN instance.</p>
<p>vpn-instance-name specifies the name of a VPN instance.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 31 case-sensitive characters, spaces not supported. In addition, the VPN instance name must not be _public_. When double quotation marks are used around the string, spaces are allowed in the string.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>all-instance</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Displays information about all RPF peers of a specific source's RP address in all instances.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>original-rp</span></strong> <i><span class="varname">original-rp-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>original-rp-address specifies a source's RP address.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907766136__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>All views</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907766136__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>1: Monitoring level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907766136__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>To check whether the forwarding path of source active (SA) messages works properly, run the <b><span class="cmdname">display msdp rpf-peer</span></b> command. Based on the RPF peer information in the command output, you can check each hop in the forwarding path. If the forwarding path works improperly, this command helps you locate faulty nodes.</p>
<p><strong>Prerequisites</strong></p>
<p>Multicast Source Discovery Protocol (MSDP) peers have been configured, because only MSDP peers in Up TCP connections can become RPF peers.<p></p>
<span>NOTE</span>:<p></p>
<span>A device does not perform RPF peer checks on SA messages</span> received from any types of the following MSDP peers:</p>

<ul><li>The MSDP peer address is the source's RP address.</li><li>The MSDP peer is a static RPF peer of the local device.</li><li>The MSDP peer is a unique MSDP peer of the local device.</li><li>The MSDP peer has joined a full-mesh group.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907766136__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The actual command output varies according to the device. The command output here is only an example.</p>
</div></div>

<div class="p"># Display information about RPF peers of the source's RP 1.2.3.4 in the public network instance.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>display msdp rpf-peer original-rp 1.2.3.4</strong>
 MSDP RPF peer information of VPN-Instance: public net
 MSDP RPF peer information for Original RP: 1.2.3.4
 01. RPF peer: 6.6.6.6
  RPF selection rule: Peer is IGP next hop of best route
  RPF used topology: default
  RPF route type: multicast(static)
</pre>
</div>


<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Description of the <b><span class="cmdname">display msdp rpf-peer</span></b> command output</caption>
    
    
<thead align="left">
<tr>
<th align="left" class="cellrowborder" valign="top" width="44.5%" id="mcps1.3.7.3.2.3.1.1" liSelected="liSelected">Item</th>

<th align="left" class="cellrowborder" valign="top" width="55.50000000000001%" id="mcps1.3.7.3.2.3.1.2" liSelected="liSelected">Description</th>

</tr>

</thead>

<tbody>
<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">MSDP RPF peer information of VPN-Instance</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Instance in which RPF peer information is displayed.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">MSDP RPF peer information for Original RP</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Source RP address.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">RPF peer</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>RPF peer address.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">RPF selection rule</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><div class="p"><p>RPF peer selection rule:</p>
<ul><li>Peer is IGP next hop of best route: The RPF peer is a next hop of an IGP route.</li><li>Peer is in the AS-path to original RP: The RPF peer is on an AS-path to the source's RP address.</li><li>Peer is (M)BGP next hop of best route: The RPF peer is a next hop of a/an (M)BGP route.</li><li>Peer is (M)BGP advertiser of best route: The RPF peer is a forwarder of a/an (M)BGP route.</li></ul>
</div>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">RPF used topology</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><div class="p"><p>RPF used topology:</p>
<ul><li>default: default topology.</li><li>multicast: multicast topology.</li><li>topology name (user-defined): unicast topology.</li></ul>
</div>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">RPF route type</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><div class="p"><p>RPF route type:</p>
<ul><li>mbgp: Multicast Border Gateway Protocol (MBGP) route.</li><li>unicast(bgp): BGP route.</li><li>multicast(static): static multicast route.</li><li>unicast: IGP route (unicast route).</li></ul>
</div>
</td>

</tr>

</tbody>

</table>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_MSDP_Configuration_Commands_title.html">MSDP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DISPLAY-MSDP-PEER-STATUS(MSDPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/DISPLAY-MSDP-SA-CACHE(MSDPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>