
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="vrrp vrid fast-resume">
<meta name="DC.subject" content="vrrp vrid fast-resume">
<meta name="keywords" content="vrrp vrid fast-resume">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_VRRP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/VRRPV3SENDMODE(VRRPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SETHOLDMULTIPLIER(VRRPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="High Availability">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="High Availability">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="DC.Creator" content="SUBSYS_ID_VRRPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907607412">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>vrrp vrid fast-resume</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907607412"></a><a name="EN-US_CLIREF_0000001907607412"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">vrrp vrid fast-resume</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907607412__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">vrrp vrid fast-resume</span></b> command enables rapid VRRP switchback.</p>
<p>The <b><span class="cmdname">undo vrrp vrid fast-resume</span></b> command disables rapid VRRP switchback.</p>
</p>
<p>By default, rapid VRRP switchback is disabled.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907607412__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">vrrp vrid </span></b><i><span class="varname">virtual-router-id</span></i> <strong><span>fast-resume</span></strong></p>

<p><b><span class="cmdname">undo vrrp vrid </span></b><i><span class="varname">virtual-router-id</span></i> <strong><span>fast-resume</span></strong></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907607412__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">virtual-router-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the ID of a VRRP group.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 255.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907607412__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100GE interface view,</span><span>10GE interface view,</span><span>200GE interface view,</span><span>25GE interface view,</span><span>400GE interface view,</span><span>50GE interface view,</span><span>Eth-Trunk interface view,</span><span>VLANIF interface view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907607412__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907607412__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>When downstream links of devices in a VRRP group work in active/standby mode, upstream traffic is transmitted to the external network through the active link and the master device. If a device interface or link fails, the master device lowers the VRRP priority and switches to the Backup state. After the fault is rectified, the priority of the original master device exceeds that of the master device. However, the original master device still needs to receive protocol packets before reclaiming the master state. If the active/standby link switchover speed is faster than that of the master/backup VRRP switchover, the upstream traffic is lost. To solve the problem, run the vrrp vrid fast-resume command to configure the VRRP fast switchback function.<p></p>
<span>With the VRRP fast switchback function enabled</span>, after the original master recovers, the priority of the VRRP group becomes higher than that of the existing master. In this case, the original device does not wait for VRRP protocol packets and directly preempts to be the master.<p></p>
<span>The VRRP fast switchback function takes effect only</span> for mVRRP groups. In addition, the mVRRP groups must monitor the status of interfaces or other features in reduced mode.</p>
<p><strong>Prerequisites</strong></p>
<p>The following steps have been performed:</p>

<ul><li>Run the <b><span class="cmdname">vrrp vrid admin</span></b> command in the interface view to create an mVRRP group.</li><li>Run the <b><span class="cmdname">vrrp vrid preempt timer delay 0</span></b> command in the interface view to set the preemption delay to 0 seconds if you have set the preemption delay to a non-zero value.</li></ul>
<p><strong>Configuration Impact</strong></p>
<p>If the original master device recovers, it immediately preempts the Master state without waiting for VRRP Advertisement packets from the current master device. However, the current master device switches to the backup state only after it receives a protocol packet with a higher priority. As a result, two master devices coexist during a short period of time.</p>
<p><strong>Precautions</strong></p>
<p>The vrrp vrid fast-resume command takes precedence over the vrrp recover-delay command when they take effect. For example, if you enable rapid VRRP switchback for VRRP group 1 and globally set the recovery delay to a non-zero value, the configured recovery delay does not take effect.<p></p>
<span>After you run the vrrp vrid fast-resume command to</span> enable rapid VRRP switchback, this function is disabled if any of the following conditions is true:</p>

<ul><li>The <b><span class="cmdname">vrrp vrid preempt timer delay</span></b> command is run to set the preemption delay to a non-zero value.</li><li>The <b><span class="cmdname">vrrp vrid preempt disable</span></b> command is run to disable VRRP devices from preempting the Master state.</li><li>The <b><span class="cmdname">undo vrrp vrid admin</span></b> command is run to delete the mVRRP group.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907607412__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Create VRRP group 1 on <span>100GE</span> <span>1/0/7</span>, configure it as an mVRRP group, and enable rapid VRRP switchback.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/7</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/7</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/7</span>] <strong>vrrp vrid 1 admin</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/7</span>] <strong>vrrp vrid 1 preempt timer delay 0</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/7</span>] <strong>vrrp vrid 1 fast-resume</strong>
</pre>
</div>



</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_VRRP_Configuration_Commands_title.html">VRRP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/VRRPV3SENDMODE(VRRPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SETHOLDMULTIPLIER(VRRPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>