
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="snmp-agent proxy community">
<meta name="DC.subject" content="snmp-agent proxy community">
<meta name="keywords" content="snmp-agent proxy community">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_SNMP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SNMPAMULTISOURCESTATUS(SNMPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SNMPPROXYRULECFG(SNMPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Creator" content="SUBSYS_ID_SNMPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000002194483733">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>snmp-agent proxy community</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000002194483733"></a><a name="EN-US_CLIREF_0000002194483733"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">snmp-agent proxy community</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000002194483733__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">snmp-agent proxy community</span></b> command creates an SNMP proxy community.</p>
<p>The <b><span class="cmdname">undo snmp-agent proxy community</span></b> command deletes an SNMP proxy community.</p>
</p>
<p>By default, no SNMP proxy community is configured.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000002194483733__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">snmp-agent proxy community </span></b><i><span class="varname">community-name</span></i> <strong><span>remote-engineid</span></strong> <i><span class="varname">remote-engineid</span></i> [ <strong><span>acl</span></strong> { <i><span class="varname">acl-number</span></i> | <i><span class="varname">acl-name</span></i> } | <strong><span>alias</span></strong> <i><span class="varname">alias-name</span></i> ] <sup>*</sup></p>

<p><b><span class="cmdname">snmp-agent proxy community cipher </span></b><i><span class="varname">cipher-name</span></i> <strong><span>remote-engineid</span></strong> <i><span class="varname">remote-engineid</span></i> [ <strong><span>acl</span></strong> { <i><span class="varname">acl-number</span></i> | <i><span class="varname">acl-name</span></i> } | <strong><span>alias</span></strong> <i><span class="varname">alias-name</span></i> ] <sup>*</sup></p>

<p><b><span class="cmdname">undo snmp-agent proxy community </span></b><i><span class="varname">community-name</span></i></p>

<p><b><span class="cmdname">undo snmp-agent proxy community cipher </span></b><i><span class="varname">cipher-name</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000002194483733__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>remote-engineid</span></strong> <i><span class="varname">remote-engineid</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the engine ID of the managed device.</p>
<p>The engine ID of the managed device must be different from the engine ID of the SNMP proxy.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 10 to 64 case-insensitive characters without spaces.</p>
<p>The value is a hexadecimal integer ranging from 0 to F. All 0s or all Fs are invalid.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>acl</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that a created community is bound to a basic ACL.</p>
<p>The basic ACL defines whether NMSs with specified source IP addresses can access SNMP agents.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">acl-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the number of a basic ACL.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 2000 to 2999.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">acl-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a named basic ACL.</p>
<p>If no matching rule is configured for the referenced ACL, the matching rule is permit by default.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 32 case-sensitive characters, and spaces are not supported.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>alias</span></strong> <i><span class="varname">alias-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a community alias.</p>
<p>The community alias will be saved in simple text format in the configuration file.</p>
<p>A community alias must be unique and differs from the community. Only one alias can be configured for a community.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 32 case-sensitive characters, spaces not supported.</p>
<p>If quotation marks are used at both ends of an entered character sting, you can enter spaces in the character string.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cipher</span></strong> <i><span class="varname">cipher-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of an SNMP proxy community to be stored in ciphertext.The cipher-name value is displayed in ciphertext, no matter whether you specify it in ciphertext or simple text.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 168 consecutive characters, spaces not supported.<p>Ciphertext passwords with various lengths configured in an earlier version are also supported in the existing version.</p>
</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cipher</span></strong> <i><span class="varname">community-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of an SNMP proxy community.</p>
<p>The community-name parameter applies to only SNMPv1 and SNMPv2c entities.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><p>The value is a string of case-sensitive characters, spaces not supported. The length range depends on whether the complexity check of community names is enabled:</p>
<ul><li>If it is enabled, the length ranges from 8 to 32.</li><li>If it is disabled, the length ranges from 1 to 32.</li></ul>
<p>When quotation marks are used around the string, spaces are allowed in the string.</p>
</div>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000002194483733__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000002194483733__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000002194483733__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>An SNMP community is used to define the relationships between multiple NMSs and a managed device. The community name acts as a password to regulate access to the managed device. An NMS can access a managed device only if the community name carried in the SNMP request sent by the NMS matches the community name configured on the managed device. The snmp-agent proxy community command creates an SNMP community on an SNMP proxy, enabling communication between the NMS and managed device.</p>
<p><strong>Configuration Impact</strong></p>
<p>If a device receives a packet with a null community name, the device drops the packet without filtering the packet based on ACL rules. In addition, the community name error is logged. A device filters a received packet based on ACL rules only if the packet has a valid community name.</p>
<p><strong>Follow-up Procedure</strong></p>
<p>After you run the snmp-agent proxy community command, run the <b><span class="cmdname">display snmp-agent proxy community</span></b> command to check SNMPv1 or SNMPv2c proxy community information.</p>
<p><strong>Precautions</strong></p>
<p>The snmp-agent proxy community command applies only to SNMPv1 and SNMPv2c. After the weak password dictionary maintenance function is enabled, the passwords defined in the weak password dictionary cannot be used. You can run the <b><span class="cmdname">display security weak-password-dictionary</span></b> command to view the passwords.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000002194483733__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Create an SNMP proxy community, set the community name to proxy_public, and bind the community to a basic ACL numbered 2000.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>acl 2000</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-acl4-basic-2000] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>snmp-agent proxy community proxy_public remote-engineid 800007DB03360607111100 acl 2000</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_SNMP_Configuration_Commands_title.html">SNMP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/SNMPAMULTISOURCESTATUS(SNMPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SNMPPROXYRULECFG(SNMPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>