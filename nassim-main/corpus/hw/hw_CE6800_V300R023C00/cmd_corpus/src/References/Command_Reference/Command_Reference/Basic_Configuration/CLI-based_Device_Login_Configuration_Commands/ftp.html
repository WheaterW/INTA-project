
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ftp">
<meta name="DC.subject" content="ftp">
<meta name="keywords" content="ftp">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Accessing_Another_Device_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/FLOW-CONTROL(TTY).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/FTP-ACL(FTPS).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="CLI-based Device Login">
<meta name="featurename" content="Console">
<meta name="featurename" content="Telnet">
<meta name="featurename" content="Stelnet">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="CLI-based Device Login">
<meta name="featurename" content="Console">
<meta name="featurename" content="Telnet">
<meta name="featurename" content="Stelnet">
<meta name="featuretype" content="Basic Configuration">
<meta name="featurename" content="CLI-based Device Login">
<meta name="featurename" content="Console">
<meta name="featurename" content="Telnet">
<meta name="featurename" content="Stelnet">
<meta name="featuretype" content="Basic Configuration">
<meta name="featuretype" content="Basic Configuration">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Creator" content="SUBSYS_ID_FTPC">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907760040">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ftp</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907760040"></a><a name="EN-US_CLIREF_0000001907760040"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">ftp</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907760040__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">ftp</span></b> command sets up a control connection with a remote FTP server using an IPv4 or IPv6 address and displays the FTP client view.</p>
</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907760040__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">ftp </span></b>[ <strong><span>-a</span></strong> <i><span class="varname">source-ip-address</span></i> | <strong><span>-i</span></strong> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <i><span class="varname">interface-name</span></i> } ] <i><span class="varname">host-ip</span></i> [ <i><span class="varname">port-number</span></i> ] [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> | <strong><span>public-net</span></strong> ]</p>

<p><b><span class="cmdname">ftp</span></b></p>

<p><b><span class="cmdname">ftp ipv6 </span></b>[ <strong><span>-a</span></strong> <i><span class="varname">source-ip6</span></i> ] <i><span class="varname">host-ipv6-address</span></i> [ [ <strong><span>vpn-instance</span></strong> <i><span class="varname">ipv6-vpn-instance-name</span></i> ] | <strong><span>public-net</span></strong> ] <strong><span>-oi</span></strong> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <i><span class="varname">interface-name</span></i> } [ <i><span class="varname">port-number</span></i> ]</p>

<p><b><span class="cmdname">ftp ipv6 </span></b>[ <strong><span>-a</span></strong> <i><span class="varname">source-ip6</span></i> ] <i><span class="varname">host-ipv6-address</span></i> [ [ <strong><span>vpn-instance</span></strong> <i><span class="varname">ipv6-vpn-instance-name</span></i> ] | <strong><span>public-net</span></strong> ] [ <i><span class="varname">port-number</span></i> ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907760040__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>-a</span></strong> <i><span class="varname">source-ip-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the IPv4 address of the FTP client.</p>
<p>The IP address must have been configured on the device. You are advised to configure an IP address for the loopback interface and use this IP address as the source IP address of the FTP connection.</p>
<p>On an IPv4 network, the source IP address specified in this command takes precedence over that specified in the ftp client source command. If you run the ftp client source command to specify a source IP address and then run this command to specify a source IP address, the source IP address specified in this command is used for communication.</p>
<p>The source IP address specified in the ftp client source command is valid for all FTP connections. The source IP address specified in this command is valid only for the current FTP connection.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>-i</span></strong> <i><span class="varname">interface-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the source interface name for the FTP client.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interface-type</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the source interface type for the FTP client.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interface-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the source interface number for the FTP client.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">host-ip</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the IP address of the remote FTP server or the host with a specific name.</p>
<p>To view the mapping between the IPv4 address and host name, run the display dns dynamic-host or display ip host command.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string case-sensitive characters. It cannot contain spaces.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">port-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the listening port number of the FTP server.</p>
<p>By default, the listening port number of a Telnet server is 21. You can directly log in to the device without specifying the port number. Attackers may access the default listening port, consuming bandwidth, deteriorating server performance, and causing authorized users unable to access the server. You can run the ftp command to change the listening port number of the Telnet server. After that, attackers do not know the new listening port number, preventing attackers from accessing the listening port.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>Port number is an integer that is 21 or ranges from 1025 to 65535. By default, the port number is 21.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of the VPN instance to which the FTP server belongs.</p>
<p>Before specifying vpn-instance &lt;vpn-instance-name&gt;, ensure that a VPN instance has been configured.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 31 case-sensitive characters without spaces. The VPN instance name cannot be _public_. If the character string is quoted by double quotation marks, the character string can contain spaces.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>public-net</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the public network where the FTP server resides.</p>
<p>If you have run the set net-manager vpn-instance command to configure the default VPN instance used for an NMS to manage devices and want to use FTP to access a public network server, you must specify this parameter.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ipv6</span></strong> <i><span class="varname">host-ipv6-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the IPv6 address of the remote IPv6 FTP server or the host with a specific name.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string case-sensitive characters. It cannot contain spaces.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">source-ip6</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an IPv6 address for the FTP client.</p>
<p>An IP address that has been configured on the device is used as the IPv6 address. It is recommended that an IP address be configured on the loopback interface and then used as the source IP address of the FTP connection.</p>
<p>On an IPv6 network, the source IP address specified using the ftp command takes precedence over the source IP address specified using the ftp ipv6 client-source command. If the ftp command is run after a source IP address has been specified using the ftp ipv6 client-source command, the source IP address specified using the ftp command is used for communication.</p>
<p>The source IP address specified using the ftp ipv6 client-source command is available for all FTP connections; the source IP address specified using the ftp command is available only for the current FTP connection.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a 32-digit hexadecimal number, in the format of X:X:X:X:X:X:X:X.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">ipv6-vpn-instance-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of an IPv6 VPN instance.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 31 case-sensitive characters without spaces. The VPN instance name cannot be _public_. If the character string is quoted by double quotation marks, the character string can contain spaces.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>-oi</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the source interface for the IPv6 FTP client, including the type and number of the interface. The IPv6 address configured in this interface view is the source IPv6 address of the packet. If no IPv6 address is configured for the source interface, the FTP connection cannot be set up.</p>
<p>Setting the loopback interface as the source IPv6 address is recommended.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907760040__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>User view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907760040__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907760040__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>An FTP client can access an FTP server after establishing a connection with the FTP server. The ftp command can be used to establish an FTP connection between the FTP client and FTP server.</p>
<p><strong>Prerequisites</strong></p>
<p>An FTP connection can establish if the following conditions are met:</p>

<ul><li>FTP server function on a device is enabled by executing the <b><span class="cmdname">ftp server enable</span></b> command on the FTP server to allow FTP users to log in.</li><li>The FTP server and FTP client are routable.</li></ul>
<p><strong>Configuration Impact</strong></p>
<p>After logging in to the FTP server from the FTP client, you can remotely manage files on the FTP server.</p>
<p><strong>Follow-up Procedure</strong></p>
<p>If the number of users allowed to log in to the FTP server reaches the maximum, new authorized users cannot log in to the FTP server. To ensure that new authorized users can successfully log in to the FTP server, users who have completed the FTP function need to disconnect the FTP connection in time. Perform any of the following steps in the FTP client view as required:</p>

<ul><li>Run the <b><span class="cmdname">bye</span></b> or <b><span class="cmdname">quit</span></b> command to terminate the connection with the FTP server and return to the user view.</li><li>Run the <b><span class="cmdname">close</span></b> or <b><span class="cmdname">disconnect</span></b> command to terminate the connection with the FTP server and terminate the FTP session. The FTP client view is still displayed.</li></ul>
<p><strong>Precautions</strong></p>
<div class="p"><ul><li>After executing the <b><span class="cmdname">FTP</span></b> command, the system prompts you to enter the user name and password for logging in to the FTP server. You can log in to the FTP server and enter the FTP client view only after the correct user name and password is entered.</li><li>If no parameter is specified in the <b><span class="cmdname">FTP</span></b> command then the FTP view is displayed and the connection with the FTP server is not established.</li><li>FTP lacks a secure authentication mode. If high security is required, SFTP is recommended.</li><li>This command can be used only after the weak security algorithm/protocol feature package (WEAKEA) has been installed using the <b><span class="cmdname">install feature-software WEAKEA</span></b> command.</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907760040__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Establish FTP connection with the remote server.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>ftp 1.1.1.1</strong>
Trying 1.1.1.1 ...
Press CTRL + K to abort
Connected to 1.1.1.1.
220 VRPV8 FTP service ready.
User(1.1.1.1:(none)):root
331 Password required for root.
Password:
230 Logged on
</pre>
</div>

<div class="p"># Establish FTP connection with a remote server with source IP address.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface LoopBack 0</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-LoopBack0] <strong>ip address 1.1.1.1 24</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-LoopBack0] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>ftp client source -a 1.1.1.1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>quit</strong>
&lt;<span class="keyword">HUAWEI</span>&gt; <strong>ftp -a 1.1.1.1 1.1.1.1 10000</strong>
Trying 1.1.1.1 ...
Press CTRL + K to abort
Connected to 1.1.1.1.
220 VRPV8 FTP service ready.
User(1.1.1.1:(none)):root
331 Password required for root.
Password:
230 Logged on
</pre>
</div>

<div class="p"># Establish FTP connection with a remote server with VPN.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>ftp 2.2.2.2 vpn-instance vpn1</strong>
Trying 2.2.2.2 ...
Press CTRL + K to abort
Connected to 2.2.2.2.
220 (vsFTPd 2.3.2)
User(2.2.2.2:(none)):root
331 Please specify the password.
Password:
230 Logged on
</pre>
</div>

<div class="p"># Set up the connection to the remote IPv6 FTP server of which the address is FE80::2E0:27FF:FE35:8342 (link-local address generated automatically by the interface of the remote IPv6 FTP server).<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>ftp ipv6 FE80::2E0:27FF:FE35:8342 -oi <span>100GE</span> <span>1/0/1</span></strong>
Trying fe80::2e0:27ff:fe35:8342
Press CTRL+K to abort
Connected to FE80::2E0:27FF:FE35:8342.
220 FTP service ready.
User(FE80::2E0:27FF:FE35:8342:(none)):root
331 Password required for root.
Enter password:
230 Logged on
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Accessing_Another_Device_Commands_title.html">CLI-based Device Login Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/FLOW-CONTROL(TTY).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/FTP-ACL(FTPS).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>