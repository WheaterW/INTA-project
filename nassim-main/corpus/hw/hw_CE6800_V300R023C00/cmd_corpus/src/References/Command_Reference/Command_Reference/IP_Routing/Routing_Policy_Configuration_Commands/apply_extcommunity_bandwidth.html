
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="apply extcommunity bandwidth">
<meta name="DC.subject" content="apply extcommunity bandwidth">
<meta name="keywords" content="apply extcommunity bandwidth">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IP_Routing_Policy_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/APPLY-EXT-CMNTY(RTPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/APPLY-EXT-CMNTY-SOO(RTPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Routing Policy">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Routing Policy">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="Routing Policy">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_RTPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942845169">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>apply extcommunity bandwidth</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942845169"></a><a name="EN-US_CLIREF_0000001942845169"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">apply extcommunity bandwidth</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942845169__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">apply extcommunity bandwidth</span></b> command sets the bandwidth extended community attribute for routes.</p>
<p>The <b><span class="cmdname">undo apply extcommunity bandwidth</span></b> command deletes the bandwidth extended community attribute.</p>
</p>
<p>By default, no bandwidth extended community attribute values are set for routes.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942845169__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">apply extcommunity bandwidth </span></b>{ <i><span class="varname">extCmntyString</span></i> | <strong><span>none</span></strong> }</p>

<p><b><span class="cmdname">apply extcommunity bandwidth aggregate </span></b>[ <strong><span>limit</span></strong> <i><span class="varname">bandwidth-value</span></i> ]</p>

<p><b><span class="cmdname">apply extcommunity bandwidth aggregate-upstream </span></b>[ <strong><span>limit</span></strong> <i><span class="varname">upstream-bandwidth</span></i> ]</p>

<p><b><span class="cmdname">undo apply extcommunity bandwidth </span></b>[ <i><span class="varname">extCmntyString</span></i> | <strong><span>none</span></strong> ]</p>

<p><b><span class="cmdname">undo apply extcommunity bandwidth aggregate </span></b>[ <strong><span>limit</span></strong> <i><span class="varname">bandwidth-value</span></i> ]</p>

<p><b><span class="cmdname">undo apply extcommunity bandwidth aggregate-upstream </span></b>[ <strong><span>limit</span></strong> <i><span class="varname">upstream-bandwidth</span></i> ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942845169__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">extCmntyString</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the bandwidth extended community attribute value.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value of the bandwidth extended community attribute consists of the AS number and bandwidth value. The format is AS number:bandwidth value, for example, 1:100, in which the AS number ranges from 1 to 65535, and the bandwidth value ranges from 1 to 4294967295.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>none</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Clears the bandwidth extended community attribute of routes.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>aggregate</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the aggregated bandwidth extended community attribute.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>limit</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the maximum value of the aggregated bandwidth extended community attribute.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">bandwidth-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the aggregated bandwidth.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 4294967295, in kbit/s.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>aggregate-upstream</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the aggregated uplink bandwidth extended community attribute.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">upstream-bandwidth</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the aggregated uplink bandwidth (kbit/s).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 4294967295, in kbit/s.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942845169__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>Route-policy view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942845169__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942845169__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>After the apply extcommunity bandwidth command is run, the routes advertised by the device carry the bandwidth extended community attribute, which is used to identify sites. After the <b><span class="cmdname">apply extcommunity bandwidth aggregate-upstream</span></b> command is run, the routes advertised by the device carry the aggregated uplink bandwidth extended community attribute. BGP accumulates the uplink bandwidths of the routes for load balancing and uses the sum as the final result. If the final result is greater than the value of limit, the value of limit is used. Pay attention to the following points when using this command:<p></p>
<span>Run the</span> <b><span class="cmdname">route-policy</span></b> command first to enter the route-policy view.<p></p>
<span>A route-policy can consist of multiple nodes</span>. The relationship between different nodes is OR. The system checks each node in sequence based on the node sequence number. The later matched node overwrites the previous one.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942845169__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Add 1:1 to the bandwidth extended community attribute of routes.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>route-policy aaa permit node 1</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-route-policy] <strong>apply extcommunity bandwidth 1:1</strong>
</pre>
</div>

<div class="p"># Set the maximum value of the aggregated bandwidth extended community attribute to 100 kbit/s.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>route-policy aaa permit node 1</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-route-policy] <strong>apply extcommunity bandwidth aggregate limit 100</strong>
</pre>
</div>

<div class="p"># Clear the bandwidth extended community attribute of routes.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>route-policy aaa permit node 1</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-route-policy] <strong>apply extcommunity bandwidth none</strong>
</pre>
</div>

<div class="p"># Set the maximum value of the aggregated uplink bandwidth extended community attribute to 100 kbit/s.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>route-policy aaa permit node 1</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-route-policy] <strong>apply extcommunity bandwidth aggregate-upstream limit 100</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_IP_Routing_Policy_Configuration_Commands_title.html">Routing Policy Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/APPLY-EXT-CMNTY(RTPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/APPLY-EXT-CMNTY-SOO(RTPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>