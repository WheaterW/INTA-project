
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ospfv3 bfd enable">
<meta name="DC.subject" content="ospfv3 bfd enable">
<meta name="keywords" content="ospfv3 bfd enable">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_OSPFv3_Configuration_Command_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/OSPFV3-BFD-BLOCK(OSPFCOMMOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/OSPFV3-BFD-ENABLE-PER-LINK(OSPFCOMMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_OSPFCOMMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907763420">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ospfv3 bfd enable</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907763420"></a><a name="EN-US_CLIREF_0000001907763420"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">ospfv3 bfd enable</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907763420__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">ospfv3 bfd enable</span></b> command enables BFD on an OSPFv3 interface.</p>
<p>The <b><span class="cmdname">undo ospfv3 bfd enable</span></b> command disables BFD from an interface.</p>
<p>The <b><span class="cmdname">ospfv3 bfd incr-cost</span></b> command enables an OSPFv3 interface to adjust the cost based on BFD.</p>
<p>The <b><span class="cmdname">undo ospfv3 bfd incr-cost</span></b> command disables an OSPFv3 interface from adjusting the cost based on BFD.</p>
<p>The <b><span class="cmdname">ospfv3 bfd incr-cost block</span></b> command blocks an OSPFv3 interface from adjusting the cost based on BFD.</p>
<p>The <b><span class="cmdname">undo ospfv3 bfd incr-cost block</span></b> command unblocks an OSPFv3 interface from adjusting the cost based on BFD.</p>
</p>
<p><p>
By default, BFD is not enabled on an OSPFv3 interface.
</p>
<p>
By default, an OSPFv3 interface does not adjust the cost based on BFD.
</p>
<p>
By default, an OSPFv3 interface is not blocked from adjusting the cost based on BFD.
</p>
</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907763420__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">ospfv3 bfd enable </span></b>[ <strong><span>instance</span></strong> <i><span class="varname">instance-id</span></i> ]</p>


<p><b><span class="cmdname">ospfv3 bfd incr-cost </span></b>{ <i><span class="varname">cost</span></i> | <strong><span>max-reachable</span></strong> } [ <strong><span>instance</span></strong> <i><span class="varname">instance-id</span></i> ]</p>

<p><b><span class="cmdname">ospfv3 bfd incr-cost block</span></b></p>

<p><b><span class="cmdname">undo ospfv3 bfd enable </span></b>[ <strong><span>instance</span></strong> <i><span class="varname">instance-id</span></i> ]</p>


<p><b><span class="cmdname">undo ospfv3 bfd incr-cost </span></b>[ <i><span class="varname">cost</span></i> | <strong><span>max-reachable</span></strong> ] [ <strong><span>instance</span></strong> <i><span class="varname">instance-id</span></i> ]</p>

<p><b><span class="cmdname">undo ospfv3 bfd incr-cost block</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907763420__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>instance</span></strong> <i><span class="varname">instance-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the ID of the instance to which the interface belongs.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 0 to 255.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>incr-cost</span></strong> <i><span class="varname">cost</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a cost adjustment value.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 65534.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>max-reachable</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Adjusts the link cost of an OSPF interface to the maximum link cost 65535.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907763420__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100ge sub-interface view,</span><span>100GE interface view,</span><span>10GE sub-interface view,</span><span>10GE interface view,</span><span>200GE interface view,</span><span>25GE sub-interface view,</span><span>25GE interface view,</span><span>400GE sub-interface view,</span><span>400GE interface view,</span><span>50GE sub-interface view,</span><span>50GE interface view,</span><span>Eth-Trunk sub-interface view,</span><span>Eth-Trunk interface view,</span><span>Tunnel interface view,</span><span>VBDIF interface view,</span><span>VLANIF interface view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907763420__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907763420__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>A link fault or topology change on a network causes route recalculation in an area. Shortening the convergence time of routing protocols is important to improve network performance.<p></p>
<span>Link faults cannot be completely avoided</span>. Therefore, it is feasible to speed up fault detection and quickly notify routing protocols of faults. BFD is associated with routing protocols. Once a link fails, BFD can speed up the convergence of routing protocols.<p></p>
<span>When BFD detects a link fault on the network</span>, the interface is disconnected because BFD goes Down even if the fault is rectified quickly. As a result, the link is unstable and traffic is lost. To ensure network reliability and solve the preceding problems, run the <b><span class="cmdname">ospfv3 bfd incr-cost</span></b> command on an OSPFv3 interface to adjust the link cost. When the OSPFv3 interface detects that a BFD session goes Down, the OSPFv3 interface automatically increases the link cost.<p></p>
<span>When the device detects that the BFD session goes</span> Up, the cost of the interface is automatically restored to the previous cost. If frequent BFD status changes occur due to bad link quality, traffic loss may occur due to link instability. To address this problem, run the <b><span class="cmdname">ospfv3 bfd incr-cost wtr</span></b> command to set a withdrawal delay on an OSPFv3 interface. BFD status changes within the delay do not cause path calculation changes, ensuring network reliability.</p>
</p>
<p><strong>Prerequisites</strong></p>
<p>BFD has been enabled on the interface.</p>
<p><strong>Configuration Impact</strong></p>
<p>If global BFD is not enabled, BFD can be enabled on an interface. The BFD session, however, cannot be set up after BFD is enabled on the interface. If the parameters of a BFD session are set but the <b><span class="cmdname">ospfv3 bfd enable</span></b> command is not run, the BFD session cannot be set up.<p></p>
<span>The BFD configuration on an interface takes precedence</span> over that in a process. If BFD is enabled on an interface, a BFD session is established according to the BFD parameters set on the interface.</p>
<p><strong>Follow-up Procedure</strong></p>
<p>Run the <b><span class="cmdname">display ospfv3 bfd session</span></b> command to view the information about neighbors enabled with BFD.</p>
<p><strong>Precautions</strong></p>
<p><p>After BFD is enabled, a device sets up BFD sessions with only adjacencies.<p></p>
<span>The</span> <b><span class="cmdname">ospfv3 bfd enable</span></b> command and ospfv3 bfd block command are mutually exclusive in function, and the later configuration overwrites the previous one.<p></p>
<span>After BFD is disabled from an interface using the</span> <b><span class="cmdname">undo ospfv3 bfd enable</span></b> command, the parameters for setting up BFD sessions remain on this interface but no longer take effect.<p></p>
<span>The</span> interface-specific BFD-associated cost value has a higher priority than the process-specific BFD-associated cost value.<p></p>
<span>The</span> ospfv3 bfd incr-cost block and ospfv3 bfd incr-cost { cost | max-reachable } commands are mutually exclusive. The latter command overwrites the previously configured command.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907763420__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable BFD function on the specified interface.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ospfv3 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospfv3-1] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ipv6 enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ospfv3 1 area 0</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ospfv3 bfd enable</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_OSPFv3_Configuration_Command_title.html">OSPFv3 Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/OSPFV3-BFD-BLOCK(OSPFCOMMOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/OSPFV3-BFD-ENABLE-PER-LINK(OSPFCOMMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>