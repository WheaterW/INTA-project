
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="color">
<meta name="DC.subject" content="color">
<meta name="keywords" content="color">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-Congestion_Avoidance_and_Congestion_Management_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DISPLAY_DROP-PROFILE.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Congestion Avoidance">
<meta name="featurename" content="Congestion Management">
<meta name="featuretype" content="QoS">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Congestion Avoidance">
<meta name="featurename" content="Congestion Management">
<meta name="featuretype" content="QoS">
<meta name="featurename" content="Congestion Avoidance">
<meta name="featurename" content="Congestion Management">
<meta name="featuretype" content="QoS">
<meta name="featuretype" content="QoS">
<meta name="featuretype" content="QoS">
<meta name="DC.Creator" content="SUBSYS_ID_QOS">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907608724">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>color</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907608724"></a><a name="EN-US_CLIREF_0000001907608724"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">color</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907608724__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">color</span></b> command sets parameters of a WRED drop profile, including the absolute values of upper and lower drop thresholds, upper drop threshold, lower drop threshold, and maximum drop probability.</p>
<p>The <b><span class="cmdname">undo color</span></b> command restores the default settings of a WRED drop profile.</p>
</p>
<p>By default, the upper drop threshold, lower drop threshold, and maximum drop probability of a WRED drop profile are all 100, and absolute values of upper and lower drop thresholds are not configured.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907608724__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">




<p><b><span class="cmdname">color </span></b>{ <strong><span>green</span></strong> | <strong><span>red</span></strong> | <strong><span>yellow</span></strong> } { <strong><span>buffer-size</span></strong> <strong><span>low-limit</span></strong> <i><span class="varname">low-buffer-size</span></i> <strong><span>high-limit</span></strong> <i><span class="varname">high-buffer-size</span></i> | <strong><span>buffer-size</span></strong> <strong><span>cell</span></strong> <strong><span>low-limit</span></strong> <i><span class="varname">low-buffer-size-cell</span></i> <strong><span>high-limit</span></strong> <i><span class="varname">high-buffer-size-cell</span></i> | <strong><span>low-limit</span></strong> <i><span class="varname">low-limit-percentage</span></i> <strong><span>high-limit</span></strong> <i><span class="varname">high-limit-percentage</span></i> } <strong><span>discard-percentage</span></strong> <i><span class="varname">discard-percentage</span></i></p>


<p><b><span class="cmdname">undo color </span></b>{ <strong><span>green</span></strong> | <strong><span>red</span></strong> | <strong><span>yellow</span></strong> }</p>



</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907608724__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>high-limit</span></strong> <i><span class="varname">high-buffer-size</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the absolute value of the upper drop threshold. When the length of packets in a queue reaches this value, all subsequent packets are discarded.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>For the CE6855-48XS8CQ, CE6885-SAN, CE8855, CE8851-32CQ4BQ, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ:The value is an integer that ranges from low-buffer-size to 34078720, in bytes.</p>
<p>For the CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE8850-SAN, CE8851K, CE8851-32CQ8DQ-P and CE8850-HAM:The value is an integer that ranges from low-buffer-size to 16000000, in bytes.</p>
<p>For the CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6820H, CE6820H-K and CE6820S:The value is an integer that ranges from low-buffer-size to 36000000, in bytes.</p>
<p>For the CE6885-LL (low latency mode):The value is an integer that ranges from low-buffer-size to 10223616, in bytes.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>high-limit</span></strong> <i><span class="varname">high-buffer-size-cell</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the absolute value of the upper drop threshold. The unit is cell.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>For the CE6855-48XS8CQ, CE6885-SAN, CE8855, CE8851-32CQ4BQ, CE6885-LL (low latency mode), CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ:The value is an integer that ranges from low-buffer-size-cell to 106496.</p>
<p>For the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE8850-SAN, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K and CE6820S:The value is an integer that ranges from low-buffer-size-cell to 125000.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>high-limit</span></strong> <i><span class="varname">high-limit-percentage</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the upper drop threshold. When the percentage of the packet count in a queue to the queue length reaches this value, all subsequent packets are discarded.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is an integer that ranges from low-limit-percentage to 100. The default value is 100.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>discard-percentage</span></strong> <i><span class="varname">discard-percentage</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the maximum drop probability.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 1 to 100. The default value is 100.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>green</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates WRED parameters for green packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>red</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates WRED parameters for red packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>yellow</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates WRED parameters for yellow packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>low-limit</span></strong> <i><span class="varname">low-buffer-size</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the absolute value of the lower drop threshold. When the length of packets in a queue reaches this value, packets start to be discarded.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>For the CE6855-48XS8CQ, CE6885-SAN, CE8855, CE8851-32CQ4BQ, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ:The value is an integer that ranges from 320 to 34078720, in bytes.</p>
<p>For the CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE8850-SAN, CE8851K, CE8851-32CQ8DQ-P and CE8850-HAM:The value is an integer that ranges from 128 to 16000000, in bytes.</p>
<p>For the CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6820H, CE6820H-K and CE6820S:The value is an integer that ranges from 288 to 36000000, in bytes.</p>
<p>For the CE6885-LL (low latency mode):The value is an integer that ranges from 96 to 10223616, in bytes.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>low-limit</span></strong> <i><span class="varname">low-buffer-size-cell</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the absolute value of the lower drop threshold. The unit is cell.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>For the CE6855-48XS8CQ, CE6885-SAN, CE8855, CE8851-32CQ4BQ, CE6885-LL (low latency mode), CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ:The value is an integer that ranges from 1 to 106496.</p>
<p>For the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE8850-SAN, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K and CE6820S:The value is an integer that ranges from 1 to 125000.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>low-limit</span></strong> <i><span class="varname">low-limit-percentage</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the lower drop threshold. When the percentage of the packet count in a queue to the queue length reaches this value, packets start to be discarded.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is an integer in the range from 0 to 100. The default value is 100.</p>
</p>
</td>
</tr>


<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>buffer-size</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the absolute value of the WRED threshold.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cell</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies that the absolute value of the WRED threshold is in cells. If this parameter is not specified, the absolute value of the WRED threshold is in bytes.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907608724__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>Drop profile view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907608724__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907608724__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><p>When packets enter a device, the packets are colored based on the mapping in a DiffServ domain. The system processes packets with different colors based on the WRED configuration.<p></p>
<span>When upper and lower drop thresholds in percentage</span> are used:</p>

<ul><li>When the queue length reaches the lower drop threshold, some packets are discarded.</li><li>When the queue length is between the lower drop threshold and the upper drop threshold, a longer queue linearly increases the drop probability until the maximum drop probability is reached.</li><li>When the queue length reaches the upper drop threshold, all subsequent packets in the queue are discarded.<p></p>
<span>When absolute values of upper and lower drop thresholds</span> are used:</li><li>When the queue length reaches the absolute value of the lower drop threshold, some packets are discarded.</li><li>When the queue length is between absolute values of lower and upper drop thresholds, a longer queue linearly increases the drop probability until the maximum drop probability is reached.</li><li>When the queue length reaches the absolute value of the upper drop threshold, all subsequent packets in the queue are discarded.<p></p>
<span>When congestion occurs</span>, packets with the highest drop probability are discarded first.</li></ul>
</div>
<p><strong>Precautions</strong></p>
<p><p>If you run the <b><span class="cmdname">color</span></b> command multiple times in the same drop profile view, only the latest configuration takes effect.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907608724__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure WRED drop profile wred1 in which the lower drop threshold, upper drop threshold, and maximum drop probability are set to 80, 100, and 10 for green packets, to 60, 80, and 20 for yellow packets, and to 40, 60, and 40 for red packets.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>drop-profile wred1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-drop-wred1] <strong>color green low-limit 80 high-limit 100 discard-percentage 10</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-drop-wred1] <strong>color yellow low-limit 60 high-limit 80 discard-percentage 20</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-drop-wred1] <strong>color red low-limit 40 high-limit 60 discard-percentage 40</strong>
</pre>
</div>



</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-Congestion_Avoidance_and_Congestion_Management_Commands_title.html">Congestion Avoidance and Congestion Management Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DISPLAY_DROP-PROFILE.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>