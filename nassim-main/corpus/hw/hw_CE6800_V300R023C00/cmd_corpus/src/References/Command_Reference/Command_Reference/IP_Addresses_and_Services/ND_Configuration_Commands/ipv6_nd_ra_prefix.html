
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ipv6 nd ra prefix">
<meta name="DC.subject" content="ipv6 nd ra prefix">
<meta name="keywords" content="ipv6 nd ra prefix">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IPv6_ND_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/RAROUTERPREFERENCE(NDOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/RAPREFIXNOADVERTISE(NDOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="ND">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="ND">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="ND">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Creator" content="SUBSYS_ID_IFMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907602968">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ipv6 nd ra prefix</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907602968"></a><a name="EN-US_CLIREF_0000001907602968"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">ipv6 nd ra prefix</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907602968__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">ipv6 nd ra prefix</span></b> command configures the prefix carried in RA messages sent by the routing device.</p>
<p>The <b><span class="cmdname">undo ipv6 nd ra prefix</span></b> command configures RA messages not to carry the specified prefix.</p>
</p>
<p>By default, RA messages contain only the prefix specified through the ipv6 address command.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907602968__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">ipv6 nd ra prefix </span></b>{ <i><span class="varname">ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> | <i><span class="varname">ipv6-prefix/ipv6-prefix-length</span></i> } <i><span class="varname">valid-lifetime</span></i> <i><span class="varname">preferred-lifetime</span></i> [ <strong><span>no-autoconfig</span></strong> ] [ <strong><span>off-link</span></strong> ]</p>

<p><b><span class="cmdname">undo ipv6 nd ra prefix </span></b>{ <i><span class="varname">ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> | <i><span class="varname">ipv6-prefix/ipv6-prefix-length</span></i> }</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907602968__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">ipv6-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the IPv6 address carried in the RA message.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a 32-digit hexadecimal number in format X:X:X:X:X:X:X:X.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">prefix-length</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the prefix length of an IPv6 address.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 0 to 128. Based on the IPv6 address and prefix length, a host can calculate the IPv6 prefix carried in the RA message. When allocating the IPv6 address by means of stateless auto-configuration, specify the length of address prefixes as 64 bites. Otherwise, the address will be invalid and RA messages will be discarded.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">ipv6-prefix/ipv6-prefix-length</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the prefix of an IPv6 address.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a 32-digit hexadecimal number in format X:X:X:X:X:X:X:X.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">valid-lifetime</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the valid lifetime of a prefix. The valid lifetime determines the on-link status of the prefix. If this parameter is specified, the prefix carried in a received RA message is valid within the specified lifetime.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 4294967295, in seconds.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">preferred-lifetime</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>If this parameter is specified, the address generated based on the prefix through stateless address autoconfiguration in a received RA message is retained for a specified preferred lifetime. The preferred lifetime is less than or equal to the valid lifetime.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 0 to 4294967295, in seconds. The preferred lifetime cannot be bigger than the valid lifetime.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>no-autoconfig</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Deletes the A-Flag. If this parameter is specified, the configured prefix cannot be used for stateless address autoconfiguration. That is, the configured prefix cannot be used to generate addresses.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>off-link</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the L flag. If this parameter is specified, the prefix can be used for on-link determination. If this parameter is not specified, the advertisement makes no statement about on-link or off-link properties of the prefix. In other words, if the L flag is not set, a host must not conclude that an address derived from the prefix is off-link. That is, it must not update a previous indication that the address is on-link.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907602968__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100ge sub-interface view,</span><span>100GE interface view,</span><span>10GE sub-interface view,</span><span>10GE interface view,</span><span>200GE sub-interface view,</span><span>200GE interface view,</span><span>25GE sub-interface view,</span><span>25GE interface view,</span><span>400GE sub-interface view,</span><span>400GE interface view,</span><span>50GE sub-interface view,</span><span>50GE interface view,</span><span>Eth-Trunk sub-interface view,</span><span>Eth-Trunk interface view,</span><span>VBDIF interface view,</span><span>VLANIF interface view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907602968__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907602968__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>If the <b><span class="cmdname">ipv6 nd ra prefix</span></b> command is run to configure a prefix, the device advertises both the address prefix configured using the <b><span class="cmdname">ipv6 nd ra prefix</span></b> command and that using the <b><span class="cmdname">ipv6 address</span></b> command.<p></p>
<span>By default</span>, RA messages do not carry the default prefix generated based on the interface IPv6 address. If a user does not want the RA message to carry the default address prefix, run the <b><span class="cmdname">ipv6 nd ra prefix default no-advertise</span></b> command.</p>
<p><strong>Prerequisites</strong></p>
<p>IPv6 has been enabled on the involved interface using the <b><span class="cmdname">ipv6 enable</span></b> command.</p>
<p><strong>Configuration Impact</strong></p>
<p><p>After a host receives the RA message with the prefix configured through the <b><span class="cmdname">ipv6 nd ra prefix</span></b> command, the host updates the local prefix information.</p>
</p>
<p><strong>Precautions</strong></p>
<p>The prefix configured through the <b><span class="cmdname">ipv6 nd ra prefix</span></b> command cannot be fe80:: (prefix of a link-local address), ff00:: (prefix of a multicast address), or prefix of an unspecified address. It neither can be the prefix that has been used by another interface (including the interface address prefix and prefix carried in RA messages).</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907602968__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">


<div class="p"># Configure the prefix in the RA packet on <span>100GE</span><span>1/0/1</span>.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ipv6 enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ipv6 nd ra prefix 2001:db8:1::100 64 100 10</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ipv6 nd ra prefix 2001:db8:2::100 128 1000 400 no-autoconfig</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ipv6 nd ra prefix 2001:db8:1::100 64 1000 400 off-link</strong>
</pre>
</div>


</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_IPv6_ND_Configuration_Commands_title.html">ND Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/RAROUTERPREFERENCE(NDOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/RAPREFIXNOADVERTISE(NDOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>