<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
 <head> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="DC.Type" content="cliref"> 
  <meta name="DC.Title" content="accounting-copy radius-server"> 
  <meta name="DC.subject" content="accounting-copy radius-server"> 
  <meta name="keywords" content="accounting-copy radius-server"> 
  <meta name="product" content=""> 
  <meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-AAA_Configuration_Commands_title.html"> 
  <meta name="DC.Relation" scheme="URI" content="../v3r23c00/ACCOUNTING_START-FAIL.html"> 
  <meta name="DC.Relation" scheme="URI" content="../v3r23c00/ACCOUNTING-MODE.html"> 
  <meta name="prodname" content=""> 
  <meta name="version" content=""> 
  <meta name="brand" content="Product Documentation"> 
  <meta name="DC.Publisher" content="20230413"> 
  <meta name="featurename" content="AAA"> 
  <meta name="featuretype" content="User Access and Authentication"> 
  <meta name="DC.Audience.Job" content="Reference"> 
  <meta name="featurename" content="AAA"> 
  <meta name="featuretype" content="User Access and Authentication"> 
  <meta name="featurename" content="AAA"> 
  <meta name="featuretype" content="User Access and Authentication"> 
  <meta name="featuretype" content="User Access and Authentication"> 
  <meta name="featuretype" content="User Access and Authentication"> 
  <meta name="DC.Creator" content="SUBSYS_ID_ESAP_AAA"> 
  <meta name="DC.Format" content="XHTML"> 
  <meta name="DC.Identifier" content="EN-US_CLIREF_0000001942846749"> 
  <meta name="DC.Language" content="en-us"> 
  <link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css"> 
  <link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css"> 
  <script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script> 
  <title>accounting-copy radius-server</title> 
  <style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style> 
 </head> 
 <body>
  <a name="EN-US_CLIREF_0000001942846749"></a>
  <a name="EN-US_CLIREF_0000001942846749"></a> 
  <div class="articleBoxWithoutHead"> 
   <h1 class="topicTitle-h1">accounting-copy radius-server</h1> 
   <div> 
    <div class="clifunc">
     <a name="EN-US_CLIREF_0000001942846749__1.3.1"></a>
     <a name="1.3.1"></a>
     <h2 class="sectiontitle">Function</h2> 
     <div class="clifuncbody"> 
      <p></p>
      <p>The <b><span class="cmdname">accounting-copy radius-server</span></b> command enables the RADIUS accounting packet copy function and configures a RADIUS server template for level-2 accounting.</p> 
      <p>The <b><span class="cmdname">undo accounting-copy radius-server</span></b> command disables the RADIUS accounting packet copy function.</p> 
      <p></p> 
      <p>By default, the RADIUS accounting packet copy function is disabled.</p> 
     </div>
    </div> 
    <div class="cliformat">
     <a name="EN-US_CLIREF_0000001942846749__1.3.2"></a>
     <a name="1.3.2"></a>
     <h2 class="sectiontitle">Format</h2> 
     <div class="cliformatbody"> 
      <p><b><span class="cmdname">accounting-copy radius-server </span></b><i><span class="varname">template-name</span></i></p> 
      <p><b><span class="cmdname">undo accounting-copy radius-server</span></b></p> 
     </div>
    </div> 
    <div class="cliparam">
     <a name="EN-US_CLIREF_0000001942846749__1.3.3"></a>
     <a name="1.3.3"></a>
     <h2 class="sectiontitle">Parameters</h2> 
     <div class="cliparambody"> 
      <div class="tableBorder">
       <table cellpadding="4" cellspacing="0" summary=""> 
        <tbody>
         <tr> 
          <th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th> 
          <th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th> 
          <th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">template-name</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies the name of a RADIUS server template.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 32 case-sensitive characters, and cannot contain spaces.</p> </td> 
         </tr> 
        </tbody>
       </table>
      </div> 
     </div>
    </div> 
    <div class="cliview">
     <a name="EN-US_CLIREF_0000001942846749__1.3.4"></a>
     <a name="1.3.4"></a>
     <h2 class="sectiontitle">Views</h2> 
     <div class="cliviewbody"> 
      <p>AAA domain view</p> 
     </div>
    </div> 
    <div class="clidefaultlevel">
     <a name="EN-US_CLIREF_0000001942846749__1.3.5"></a>
     <a name="1.3.5"></a>
     <h2 class="sectiontitle">Default Level</h2> 
     <div class="clidefaultlevelbody"> 
      <p>3: Management level</p> 
     </div>
    </div> 
    <div class="clidesc">
     <a name="EN-US_CLIREF_0000001942846749__1.3.6"></a>
     <a name="1.3.6"></a>
     <h2 class="sectiontitle">Usage Guidelines</h2> 
     <div class="clidescbody"> 
      <p><strong>Usage Scenario</strong></p> 
      <p>The existing RADIUS server on the network performs authentication, authorization, and accounting for users. User login and logout information is sent to the server through accounting packets. Users want to deploy an independent RADIUS accounting server (called the level-2 RADIUS accounting server) to obtain user login and logout information for analyzing user behavior and managing users'; access to the network. However, the device currently does not send accounting packets to the level-2 RADIUS accounting server. In this case, you can configure the RADIUS accounting packet copy function on the device. After this function is configured, the device sends user login and logout information to the level-2 RADIUS accounting server through accounting packets for third-party user behavior analysis.</p> 
      <p><strong>Prerequisites</strong></p> 
      <p>The RADIUS server template has been created using the <b><span class="cmdname">radius-server template</span></b> command.</p> 
      <p><strong>Precautions</strong></p> 
      <p>Ensure that the IP address of the configured level-2 RADIUS accounting server is different from that of the level-1 RADIUS accounting server (including the active/standby RADIUS accounting server).Ensure that the level-2 RADIUS accounting server template configured in the domain is different from the RADIUS server template for authentication and accounting in the domain. If they are the same, the accounting-copy radius-server command cannot be configured and the system displays an error message during the command configuration.</p> 
     </div>
    </div> 
    <div class="cliexample">
     <a name="EN-US_CLIREF_0000001942846749__1.3.7"></a>
     <a name="1.3.7"></a>
     <h2 class="sectiontitle">Example</h2> 
     <div class="cliexamplebody"> 
      <div class="p">
       # In the huawei domain, set the IP addresses of the RADIUS authentication and accounting servers to 10.1.1.1, their port numbers to 1813 and 1814, respectively, and RADIUS server template to t1. Set the IP address and port number of the RADIUS server for level-2 accounting to 10.1.1.2 and 1814, respectively, and the RADIUS server template to t2.
       <pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" face="Courier New">~</font></span><span class="keyword">HUAWEI</span>] <strong>radius-server template t1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-radius-t1] <strong>radius-server authentication 10.1.1.1 1813</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-radius-t1] <strong>radius-server accounting 10.1.1.1 1814</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-radius-t1] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>radius-server template t2</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-radius-t2] <strong>radius-server accounting 10.1.1.2 1814</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-radius-t2] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>aaa</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-aaa] <strong>domain huawei</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-aaa-domain-huawei] <strong>radius-server t1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-aaa-domain-huawei] <strong>accounting-copy radius-server t2</strong>
</pre> 
      </div> 
     </div>
    </div> 
   </div> 
  </div> 
  <div class="footerNavBar clearfix"> 
   <div class="parentlink">
     Parent Topic: 
    <a href="../v3r23c00/dc_PNF-AAA_Configuration_Commands_title.html">AAA Configuration Commands </a> 
   </div> 
   <div class="copyrightBottomBar">
     Copyright ? Huawei Technologies Co., Ltd.
   </div> 
   <div class="copyrightBottomBar_responsive">
     Copyright ? Huawei Technologies Co., Ltd.
   </div> 
   <div class="bottomNavBtn clearfix"> 
    <a href="../v3r23c00/ACCOUNTING_START-FAIL.html"><span class="font-st">&lt; </span>Previous topic</a> 
    <a href="../v3r23c00/ACCOUNTING-MODE.html">Next topic<span class="font-st"> &gt;</span></a> 
   </div> 
  </div>  
 </body>
</html>