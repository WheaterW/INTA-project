
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="if-match nexthop">
<meta name="DC.subject" content="if-match nexthop">
<meta name="keywords" content="if-match nexthop">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-MQC_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IF-MATCH_L2-PROTOCOL.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IF-MATCH_OUTBOUND-INTERFACE.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="MQC">
<meta name="featuretype" content="QoS">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="MQC">
<meta name="featuretype" content="QoS">
<meta name="featurename" content="MQC">
<meta name="featuretype" content="QoS">
<meta name="featuretype" content="QoS">
<meta name="featuretype" content="QoS">
<meta name="DC.Creator" content="SUBSYS_ID_DC_MQC">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907608612">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>if-match nexthop</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907608612"></a><a name="EN-US_CLIREF_0000001907608612"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">if-match nexthop</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907608612__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">if-match nexthop</span></b> command configures a matching rule based on the next hop IP address and outbound interface in a traffic classifier.</p>
<p>The <b><span class="cmdname">undo if-match nexthop</span></b> command deletes a matching rule based on the next hop IP address and outbound interface in a traffic classifier.</p>
<p>The <b><span class="cmdname">if-match ipv6 nexthop</span></b> command configures a matching rule based on the next hop ipv6 IP address and outbound interface in a traffic classifier.</p>
<p>The <b><span class="cmdname">undo if-match ipv6 nexthop</span></b> command deletes a matching rule based on the next hop ipv6 IP address and outbound interface in a traffic classifier.</p>
</p>
<p>By?default,?a?matching?rule?based?on?the?next?hop?IP?address?and?outbound?interface?is?not?configured?in?a?traffic?classifier.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907608612__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">if-match </span></b>{ <strong><span>nexthop</span></strong> <i><span class="varname">ip-address</span></i> | <strong><span>ipv6</span></strong> <strong><span>nexthop</span></strong> <i><span class="varname">ipv6-address</span></i> } <strong><span>interface</span></strong> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <i><span class="varname">interface-name</span></i> }</p>

<p><b><span class="cmdname">undo if-match </span></b>{ <strong><span>nexthop</span></strong> <i><span class="varname">ip-address</span></i> | <strong><span>ipv6</span></strong> <strong><span>nexthop</span></strong> <i><span class="varname">ipv6-address</span></i> } <strong><span>interface</span></strong> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <i><span class="varname">interface-name</span></i> }</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907608612__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">ip-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specify the IP nexthop address of the flow.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ipv6</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the matching rule based on the next hop IPv6 address.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">ipv6-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specify the IPv6 nexthop address of the flow.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a 32-bit hexadecimal string in format X:X:X:X:X:X:X:X.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>interface</span></strong> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<div class="p"><p>Displays packet statistics on an interface to which a traffic policy has been applied.</p>
<ul><li>interface-type specifies the interface type.</li><li>interface-number specifies the interface number.</li></ul>
</div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interface-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Displays packet statistics on a specified interface to which a traffic policy has been applied.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907608612__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>Traffic classifier view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907608612__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907608612__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>You can run the <b><span class="cmdname">if-match nexthop</span></b> command to classify packets based on the next hop IP address and outbound interface so that the device processes packets with the same next hop IP address and outbound interface in the same manner.</p>
<p><strong>Precautions</strong></p>
<ul><li>The outbound interface must be a Layer 3 Ethernet interface or VLANIF interface.</li><li>If the destination IP address of packets and the matched next hop IP address are on the same network segment, the traffic policy does not take effect.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907608612__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure a matching rule based on the next hop IP address of 192.168.1.1 and outbound interface of VLANIF 100 in the traffic classifier c1.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>vlan 100</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface Vlanif 100</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-Vlanif100] <strong>q</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>traffic classifier c1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-classifier-c1] <strong>if-match nexthop 192.168.1.1 interface Vlanif 100</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-MQC_Configuration_Commands_title.html">MQC Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/IF-MATCH_L2-PROTOCOL.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/IF-MATCH_OUTBOUND-INTERFACE.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>