
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="sm2 peer-public-key">
<meta name="DC.subject" content="sm2 peer-public-key">
<meta name="keywords" content="sm2 peer-public-key">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_SSH_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SFTP-SERVER-ENABLE(SSHS).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SSH-AUTH-DEFLT-PASS(SSHS).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="SSH">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="SSH">
<meta name="featuretype" content="Security">
<meta name="featurename" content="SSH">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="DC.Creator" content="SUBSYS_ID_RSA">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942847549">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>sm2 peer-public-key</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942847549"></a><a name="EN-US_CLIREF_0000001942847549"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">sm2 peer-public-key</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942847549__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">sm2 peer-public-key</span></b> command displays the SM2 public key view.</p>
<p>The <b><span class="cmdname">undo sm2 peer-public-key</span></b> command deletes SM2 public key configuration.</p>
</p>
<p>By default, no SM2 public key is configured.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942847549__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">sm2 peer-public-key </span></b><i><span class="varname">key-name</span></i></p>

<p><b><span class="cmdname">undo sm2 peer-public-key </span></b><i><span class="varname">key-name</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942847549__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">key-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of an SM2 public key.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 40 case-insensitive characters, spaces not supported. The string can contain only letters, digits, and underscores (_).</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942847549__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942847549__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942847549__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>If an SM2 public key is used for authentication, you need to enter the SM2 public key view to edit the public key in the SM2 key pair on the SSH server and generate a new SM2 public key that can be successfully authenticated by the private key in the SM2 key pair. This public key can be bound to an SSH user or client as a credential for server login.</p>
<p><strong>Implementation Procedure</strong></p>
<p>To configure an SM2 public key, perform the following steps:</p>

<ul><li>Run the sm2 peer-public-key command to enter the SM2 public key view.</li><li>Run the <b><span class="cmdname">public-key-code begin</span></b> command to start editing.</li><li>Copy and paste the public key in the SM2 key pair on the SSH server.</li><li>Run the <b><span class="cmdname">public-key-code end</span></b> command to exit the SM2 public key edit view.</li><li>Run the <b><span class="cmdname">peer-public-key end</span></b> command to exit the SM2 public key edit view and return to the system view.</li></ul>
<p><strong>Precautions</strong></p>
<p>To delete SM2 public key configuration from a device after assigning an SM2 public key to an SSH user, run the <b><span class="cmdname">undo ssh user assign sm2-key</span></b> command to delete the mapping between the SM2 public key and SSH user. Otherwise, the SM2 public key configuration cannot be deleted using the <b><span class="cmdname">undo sm2 peer-public-key</span></b> command.<p></p>
<span>The public key on the client is randomly generated</span> by client software.<p></p>
<span>A maximum of 20 SM2 public keys can be configured</span>.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942847549__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Display the SM2 public key view.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>sm2 peer-public-key sm2key001</strong>
Enter "SM2 public key" view, return system view with "peer-public-key end".
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-sm2-public-key] <strong>public-key-code begin</strong>
Enter "SM2 public key" view, return system view with "peer-public-key end".
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-sm2-public-key-sm2-key-code] <strong>0474F110 F90F131B B6F6D929 9A23A41E F1AB1666</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-sm2-public-key-sm2-key-code] <strong>AC4BE4EE EF2CD876 2B633F80 DD5CF42F 147A722F</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-sm2-public-key-sm2-key-code] <strong>DE527F39 247F3744 C23296BE FE3BE502 EEF7D9EC</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-sm2-public-key-sm2-key-code] <strong>BC28A576 7E</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-sm2-public-key-sm2-key-code] <strong>public-key-code end</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-sm2-public-key] <strong>peer-public-key end</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_SSH_Configuration_Commands_title.html">SSH Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/SFTP-SERVER-ENABLE(SSHS).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SSH-AUTH-DEFLT-PASS(SSHS).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>