
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="peer route-policy import (BGP-EVPN address family view)(IPv4)">
<meta name="DC.subject" content="peer route-policy import (BGP-EVPN address family view)(IPv4)">
<meta name="keywords" content="peer route-policy import (BGP-EVPN address family view)(IPv4)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_VXLAN_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/GROUP-EVPN-ROUTE-POLICY-IMPORT(BGPEVPNOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/EVPN-PEER-UPDATE-INTERVAL(BGPEVPNOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="DC.Creator" content="SUBSYS_ID_BGPEVPNOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907767028">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>peer route-policy import (BGP-EVPN address family view)(IPv4)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907767028"></a><a name="EN-US_CLIREF_0000001907767028"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">peer route-policy import (BGP-EVPN address family view)(IPv4)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907767028__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">peer route-policy import</span></b> command specifies a route-policy for filtering routes received from a peer.</p>
<p>The <b><span class="cmdname">undo peer route-policy import</span></b> command deletes a specified route-policy.</p>
</p>
<p>By default, no route-policy is configured for filtering routes received from a peer.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907767028__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">peer </span></b><i><span class="varname">peerIpv4Addr</span></i> <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> <strong><span>import</span></strong></p>

<p><b><span class="cmdname">undo peer </span></b><i><span class="varname">peerIpv4Addr</span></i> <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> <strong><span>import</span></strong></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907767028__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">peerIpv4Addr</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an IPv4 peer address.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">route-policy-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a route-policy.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 200 case-sensitive characters. It cannot contain spaces. When double quotation marks are used around the string, spaces are allowed in the string.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907767028__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>BGP-EVPN address family view,</span><span>bgp-muli-instance-af-evpn view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907767028__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907767028__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>After a route-policy is created, the <b><span class="cmdname">peer route-policy import</span></b> command is used to apply a Route-Policy to a peer so that the routes received from the peer can be controlled. To be specific, only the necessary routes are received from the peer. In this manner, route management is implemented, the scale of the routing table is reduced, and fewer network resources are consumed.</p>
<p><strong>Prerequisites</strong></p>
<p>If a routing policy needs to be specified in the command, run the route-policy command to create the routing policy first.</p>
<p><strong>Configuration Impact</strong></p>
<p>If a BGP peer relationship is established, then an import policy is bound to the peer or the import policy bound to the peer is modified, and the device does not support the Refresh capability, the peer relationship is re-established because the import policy addition or modification causes the peer to resend Refresh messages.</p>
<p><strong>Precautions</strong></p>
<p><p>After the <b><span class="cmdname">peer route-policy import</span></b> command is run, only the routes that match the route-policy are received. Replacing or modifying the route-policy may cause a large number of routes to match the route-policy and be received.</p>

<p>When <strong>route-policy</strong> <em>route-policy-name</em>is configured in the BGP multi-instance EVPN address family view, the following items can be matched: IPv4 ACL, AS_Path filter, AS_Path length, community filter, route cost, IPv6 route destination address, VPN target extended community filter, priority-based coloring extended community filter, SoO extended community filter, outbound interface, MPLS label, Large-community filter, MAC address list, ACL for the next hop address of a route, ACL for the next hop address of an IPv6 route, next hop address prefix list of routing information, next hop address prefix list of IPv6 routing information, destination address prefix list of IP routing information, destination address prefix list of IPv6 routing information, route modulo, routing protocol type, RD attribute filter, route source IP address ACL, route source IPv6 address ACL, route source IP address prefix list, route source IPv6 address prefix list, route type, route tag, and encapsulation extended community filter.<p></p>
<span>The following attributes can be set</span>: BGP Large-community, AS_Path, BGP community, BGP route MED, BGP route VPN target extended community, BGP route coloring extended community, BGP route SoO extended community, EVPN route priority coloring extended community, gateway IP address, gateway IPv6 address, BGP route local preference, next-hop address (IPv4), next-hop address (IPv6), BGP route source, BGP route preferred value, QoS parameters, and EVPN route VN-ID attributes.</p>

<p>When <strong>route-policy</strong> <em>route-policy-name</em>is configured in the BGP-EVPN address family view, the following items can be matched: IPv4 ACL, AS_Path filter, AS_Path length, community filter, route cost, IPv6 route destination address, VPN target extended community filter, priority-based coloring extended community filter, SoO extended community filter, outbound interface, MPLS label, Large-community filter, MAC address list, next-hop address ACL of routing information, next-hop address ACL of IPv6 routing information, next-hop address prefix list based on IP routing information, next-hop address prefix list based on IPv6 routing information, destination address prefix list of IP routing information, destination address prefix list of IPv6 routing information, route modulo, routing protocol type, RD attribute filter, route source IP address ACL, route source IPv6 address ACL, route source IP address prefix list, route source IPv6 address prefix list, route type, route tag, and encapsulation extended community filter.<p></p>
<span>The following attributes can be set</span>: BGP Large-community, AS_Path, BGP community, BGP route MED, BGP route VPN target extended community, BGP route coloring extended community, BGP route SoO extended community, EVPN route priority-based coloring extended community, route gateway IP address, route gateway IPv6 address, BGP route local preference, route next-hop address (IPv4), route next-hop address (IPv6), BGP route source, BGP route preferred value, QoS parameters, and EVPN route VN-ID attributes.<p></p>
<span>If the referenced policy contains unsupported attribute</span> matching or behavior setting, unexpected results may occur. For some attribute matching behaviors, the device may display warning-level information.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907767028__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Apply the routing policy named test-policy to the routes received from a peer in the BGP-EVPN address family view.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>route-policy test-policy permit node 10</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-route-policy] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>bgp 100</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp] <strong>peer 10.1.1.9 as-number 100</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp] <strong>l2vpn-family evpn</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp-af-evpn] <strong>peer 10.1.1.9 enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp-af-evpn] <strong>peer 10.1.1.9 route-policy test-policy import</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_VXLAN_Configuration_Commands_title.html">VXLAN Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/GROUP-EVPN-ROUTE-POLICY-IMPORT(BGPEVPNOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/EVPN-PEER-UPDATE-INTERVAL(BGPEVPNOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>