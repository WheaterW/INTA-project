
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="anycast-rp">
<meta name="DC.subject" content="anycast-rp">
<meta name="keywords" content="anycast-rp">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IPv4_PIM_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/PIM-IPV4-ANYCAST-RP-VPN(PIMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Creator" content="SUBSYS_ID_PIMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907606264">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>anycast-rp</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907606264"></a><a name="EN-US_CLIREF_0000001907606264"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">anycast-rp</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907606264__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">anycast-rp</span></b> command configures an anycast-rendezvous point (Anycast-RP) and displays the Anycast-RP view or displays an existing Anycast-RP view.</p>
<p>The <b><span class="cmdname">undo anycast-rp</span></b> command deletes an Anycast-RP.</p>
</p>
<p>By default, no Anycast-RP is configured.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907606264__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">anycast-rp </span></b><i><span class="varname">rp-address</span></i></p>

<p><b><span class="cmdname">undo anycast-rp </span></b><i><span class="varname">rp-address</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907606264__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">rp-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an Anycast-RP address.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation. This address must be a valid unicast IP address and cannot be an address on the network segment 127.0.0.0/8.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907606264__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>PIM view of a public network instance</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907606264__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907606264__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>In a traditional Protocol Independent Multicast-Sparse Mode (PIM-SM) domain, all multicast groups map to one RP. When the network is overloaded or all traffic needs to be forwarded by only one RP, the RP may be overburdened. If the RP fails, routes are converged slowly, or multicast packets are forwarded over non-optimal paths.<p></p>
<span>To resolve this issue</span>, run the anycast-rp command to configure an Anycast-RP in the PIM-SM domain, enabling the network to automatically select a topologically closest RP for each source and receiver. This function releases burdens on RPs, implements RP backup, and optimizes forwarding paths.<p></p>
<span>An Anycast-RP can be implemented in a PIM domain by</span> using the following schemes:</p>

<ul><li>MSDP Anycast-RP: applies to IPv4 networks.</li><li>PIM Anycast-RP: applies to IPv4 and IPv6 networks.</li></ul>
<p><strong>Configuration Impact</strong></p>
<p>If PIM Anycast-RP is configured, after an RP receives a Register message, it checks the source address in the Register message. If the Register message is sent by the source's designated router (DR), the RP forwards the Register message to Anycast-RP peers. If the Register message is sent by an Anycast-RP peer, it does not forward the Register message. In such a manner, Anycast-RP peers can learn source and group information from each other.</p>
<p><strong>Precautions</strong></p>
<ul><li>In IPv4 network deployment, you can choose either of the two schemes. Mixed use of the two schemes is not recommended.</li><li>An Anycast-RP address must be the same as that of the elected RP on an existing network.</li><li>In a single instance, you can configure a maximum of four Anycast-RP addresses on each device.</li><li>Either static or dynamic RPs can be used on a network. Configuring RPs on loopback interfaces is recommended. Configure the same RP address on all devices to be deployed with the Anycast-RP function. If dynamic RPs are used on the network, before configuring an Anycast-RP address, run the <b><span class="cmdname">display pim rp-info</span></b> command to check the address of the RP on the current network.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907606264__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Specify 10.10.10.10 as the Anycast-RP address for the public network instance and enter the Anycast-RP view.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>multicast routing-enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>pim</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-pim] <strong>anycast-rp 10.10.10.10</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-pim-anycast-rp-10.10.10.10]
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_IPv4_PIM_Configuration_Commands_title.html">PIM Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/PIM-IPV4-ANYCAST-RP-VPN(PIMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>