
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="apply cost">
<meta name="DC.subject" content="apply cost">
<meta name="keywords" content="apply cost">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IP_Routing_Policy_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/APPLY-COMMUNITY-LIST(RTPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/APPLY-COST-TYPE(RTPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Routing Policy">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Routing Policy">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="Routing Policy">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_RTPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907605980">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>apply cost</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907605980"></a><a name="EN-US_CLIREF_0000001907605980"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">apply cost</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907605980__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">apply cost</span></b> command sets the MED value for BGP routes or cost value for routes of other protocols.</p>
<p>The <b><span class="cmdname">undo apply cost</span></b> command cancels the configuration.</p>
</p>
<p>By default, no MED value is set for BGP routes nor cost value is set for routes of other protocols.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907605980__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">apply cost </span></b>[ + | <strong><span>-</span></strong> ] <i><span class="varname">cost</span></i></p>

<p><b><span class="cmdname">apply cost inherit</span></b></p>

<p><b><span class="cmdname">apply cost none</span></b></p>

<p><b><span class="cmdname">undo apply cost</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907605980__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type">+</td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Increases the route cost. If the link quality is poor or the link bandwidth is low, specify this parameter to increase the route cost, which helps control route selection.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>If the MED of BGP routes or cost of non-BGP routes is greater than the maximum value (4294967295) after the adjustment, 4294967295 takes effect.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>-</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Reduces the route cost. If the link quality is good or the link bandwidth is high, specify this parameter to reduce the route cost, which helps control route selection.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>If the MED of BGP routes or cost of non-BGP routes is less than the minimum value (0) after the adjustment, 0 takes effect.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">cost</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the route cost. To control route selection, adjust the route cost to prevent routing loops.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 4294967295.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>inherit</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Inherits the original route cost.</p>
<p>This function applies to IGP routes, not to BGP routes.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>none</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Delete the MED value of BGP routes.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907605980__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>Route-policy view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907605980__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907605980__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><p>After the filtering conditions specified by if-match clauses are met, you can run the <b><span class="cmdname">apply cost</span></b> command to change the cost of the route to control the route selection sequence. After the cost of the routes to be matched is set, the cost of the routes imported by using the policy changes accordingly.</p>

<ul><li>Run the <b><span class="cmdname">route-policy</span></b> command to enter the route-policy view.</li><li>A route-policy can consist of multiple nodes. The relationship between different nodes is OR. The system checks each node according to the node sequence number. If a route matches one node, the route matches the route-policy and is no longer matched against other nodes.</li><li>Each node can consist of a group of if-match and apply clauses. The if-match clauses define the matching rules. The matching objects are some attributes of the routing information. The relationship between multiple if-match clauses for different attributes of a node is AND. A node can pass the matching test only when all the matching conditions specified by the if-match clauses are met. The relationship between multiple if-match clauses for the same attribute is OR, the system checks the if-match clauses in sequence. If a route matches one of the if-match clauses, the route matches the route-policy and does not match other if-match clauses. For example, in node 10, the if-match community-filter 1 and if-match as-path-filter 1 commands are used to filter routes based on different attributes. The relationship between the two commands is AND. In node 20, if-match community-filter 1 and if-match community-filter 2 are used to filter routes based on communities. The relationship between if-match community-filter 1 and if-match community-filter 2 is OR. The apply clauses specify actions. That is, the apply clauses set some attributes of the route after the route matches the node.</li><li>By default, no cost is set for routes.</li></ul>
</div>
<p><strong>Prerequisites</strong></p>
<p><p>A route-policy has been configured using the <b><span class="cmdname">route-policy</span></b> command.</p>
</p>
<p><strong>Configuration Impact</strong></p>
<p><p>After routes match the route-policy, the cost of the routes is changed.</p>
</p>
<p><strong>Precautions</strong></p>
<p><p>The costs of imported routes are independent of the route-policy after the <b><span class="cmdname">undo apply cost</span></b> command is used to cancel the configuration of route costs.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907605980__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Define an apply clause to set the route cost to 120.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>route-policy policy permit node 10</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-route-policy] <strong>apply cost 120</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_IP_Routing_Policy_Configuration_Commands_title.html">Routing Policy Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/APPLY-COMMUNITY-LIST(RTPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/APPLY-COST-TYPE(RTPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>