
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ospf">
<meta name="DC.subject" content="ospf">
<meta name="keywords" content="ospf">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_OSPF_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/OSPF-OPAQUE-CAPABILITY(OSPFCOMMOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/OSPFADVGLMAXCOSTCONF(OSPFCOMMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_OSPFCOMMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942842469">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ospf</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942842469"></a><a name="EN-US_CLIREF_0000001942842469"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">ospf</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942842469__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">ospf</span></b> command creates and runs an OSPF process.</p>
<p>The <b><span class="cmdname">undo ospf</span></b> command terminates an OSPF process.</p>
</p>
<p>By default, OSPF is disabled, that is, no OSPF process runs.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942842469__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">ospf </span></b><i><span class="varname">process-id</span></i> [ <strong><span>router-id</span></strong> <i><span class="varname">route-id</span></i> | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpname</span></i> ] <sup>*</sup></p>


<p><b><span class="cmdname">ospf </span></b>[ <strong><span>router-id</span></strong> <i><span class="varname">route-id</span></i> | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpname</span></i> ] <sup>*</sup></p>


<p><b><span class="cmdname">undo ospf </span></b><i><span class="varname">process-id</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942842469__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">process-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the ID of an OSPF process.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 4294967295. The default value is 1.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>router-id</span></strong> <i><span class="varname">route-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a router ID.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>vpn-instance</span></strong> <i><span class="varname">vpname</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a VPN instance.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 31 case-sensitive characters.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942842469__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942842469__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942842469__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>Creating an OSPF process is a prerequisite for configuring OSPF parameters.<p></p>
<span>OSPF multi-process allows multiple OSPF processes</span> to independently run on the same device. Route exchange between different OSPF processes is similar to that between different routing protocols.<p></p>
<span>Router IDs can be manually configured</span>. If no router ID is specified using the command, OSPF uses the system ID or an interface IP address as the router ID.<p></p>
<span>In any of the following situations</span>, router ID re-selection is performed:</p>

<ul><li>This command is run to re-configure an OSPF router ID.</li><li>The system router ID is re-configured, and the OSPF process is restarted.</li><li>The system ID or IP address of the original router ID is deleted, and the OSPF process is restarted.</li><li>If the OSPF router ID conflict self-healing function is enabled and an OSPF router ID conflict occurs on the network, a new OSPF router ID is selected, and the OSPF process is automatically restarted.</li></ul>

<p>If the device is restarted in DB mode, the router ID after the restart is the data saved in the DB table before the restart. If the device is restarted in CFG mode and the <b><span class="cmdname">router id</span></b> command is not configured on the device, the router ID after the restart is the IP address of the interface whose configuration is restored first.<p></p>
<span>Note</span>:<p></p>
<span>To improve network stability</span>, you are advised to manually configure a router ID.</p>
<p><strong>Configuration Impact</strong></p>
<p>After an OSPF process is disabled using <b><span class="cmdname">undo ospf</span></b> command, the receive end still maintains the LSAs generated by this OSPF process. These invalid LSAs occupy system memory and are not deleted until the LSA age field (aging time) reaches 3600 seconds.</p>
<p><strong>Precautions</strong></p>
<p>An interface on a device belongs to only one OSPF process.<p></p>
<span>If a VPN instance is specified</span>, the OSPF process specified in this command belongs to this VPN instance. If no VPN instance is specified, the OSPF process specified in this command belongs to the global VPN instance. vpn-instance-name cannot be changed after being specified.<p></p>
<span>Setting a unique router ID for each process on a device</span> is recommended. If an incorrect operation or planning causes a router ID conflict between processes, route flapping occurs.<p></p>
<span>Running the</span> <b><span class="cmdname">undo ospf process-id</span></b> command will also delete all configurations from the OSPF view. Therefore, exercise caution when running this command.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942842469__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Run an OSPF process.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ip vpn-instance huawei</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-huawei] <strong>ipv4-family</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-huawei-af-ipv4] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-huawei] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>ospf 100 router-id 10.10.10.1 vpn-instance huawei</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_OSPF_Configuration_Commands_title.html">OSPF Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/OSPF-OPAQUE-CAPABILITY(OSPFCOMMOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/OSPFADVGLMAXCOSTCONF(OSPFCOMMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>