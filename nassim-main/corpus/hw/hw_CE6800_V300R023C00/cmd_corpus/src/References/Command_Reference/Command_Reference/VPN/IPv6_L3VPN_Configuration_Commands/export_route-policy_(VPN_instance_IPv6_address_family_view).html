
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="export route-policy (VPN instance IPv6 address family view)">
<meta name="DC.subject" content="export route-policy (VPN instance IPv6 address family view)">
<meta name="keywords" content="export route-policy (VPN instance IPv6 address family view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_BGP_MPLS_IPv6_VPN_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/VPN-IMPORT-POLICY-AF-IPV6(L3VPNOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IPv6 L3VPN">
<meta name="featuretype" content="VPN">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="IPv6 L3VPN">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="IPv6 L3VPN">
<meta name="featuretype" content="VPN">
<meta name="featuretype" content="VPN">
<meta name="featuretype" content="VPN">
<meta name="DC.Creator" content="SUBSYS_ID_L3VPNOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907766768">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>export route-policy (VPN instance IPv6 address family view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907766768"></a><a name="EN-US_CLIREF_0000001907766768"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">export route-policy (VPN instance IPv6 address family view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907766768__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">export route-policy</span></b> command associates an export route-policy with a VPN instance IPv6 address family.</p>
<p>The <b><span class="cmdname">undo export route-policy</span></b> command dissociates an export route-policy from a VPN instance IPv6 address family.</p>
</p>
<p>By default, no export route-policy is associated with a VPN instance IPv6 address family.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907766768__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">export route-policy </span></b><i><span class="varname">policy-name</span></i> [ <strong><span>add-ert-first</span></strong> ]</p>

<p><b><span class="cmdname">undo export route-policy</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907766768__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">policy-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of an export route-policy to be associated with a VPN instance IPv6 address family.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 200 case-sensitive characters.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>add-ert-first</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Adds ERTs to VPN routes before these routes are matched against an export routing policy.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907766768__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>VPN instance IPv6 address family view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907766768__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907766768__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>In a scenario in which the routes of a VPN instance IPv6 address family need to be imported into a public network VPNv6 routing table, if the routing information to be imported into the VPNv6 routing table needs to be specified or attributes need to be set for the routes imported into the VPNv6 routing table, an export route-policy must be applied to the VPNv6 instance IPv6 address family.<p></p>
<span>Compared with the</span> <b><span class="cmdname">export route-policy</span></b> command, the peer route-policy export or peer filter-policy export command configured in the BGP-VPN instance IPv6 address family view is used to filter the routes advertised by the VPN instance IPv6 address family to the CE (a BGP peer).<p></p>
<span>By default</span>, ERTs are added to VPN routes before these routes are matched against an export routing policy. If the export routing policy contains RT-related filtering rules, these rules cannot apply to these routes. If you want to apply the RT-related filtering rules defined in an export routing policy to VPN routes, run the add-ert-first command to configure the system to add ERTs to VPN routes before matching these routes against the export routing policy.<p></p>
<span>In local route leaking scenarios</span>, you can run the <b><span class="cmdname">export route-policy</span></b> command to filter out locally leaked routes and set the attributes of these routes. Locally leaked routes include both locally imported routes and routes learned from VPN peers.</p>
<p><strong>Prerequisites</strong></p>
<p>The <b><span class="cmdname">ipv6-family</span></b> command has been run in the VPN instance view to enable the IPv6 address family, and the <b><span class="cmdname">route-distinguisher</span></b> command has been run in the VPN instance view to set an RD for the VPN instance IPv6 address family.</p>
<p><strong>Configuration Impact</strong></p>
<p>Only one export route-policy can be associated with a VPN instance IPv6 address family. If the <b><span class="cmdname">export route-policy</span></b> command is run more than once, the latest configuration overrides the previous one.</p>
<p><strong>Follow-up Procedure</strong></p>
<p>If the export route-policy to be associated with a VPN instance IPv6 address family does not exist, configure the route-policy.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907766768__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Associate an export route-policy named poly-1 with a VPN instance IPv6 address family.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>route-policy poly-1 permit node 10</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-route-policy] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>ip vpn-instance vrf1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-vrf1] <strong>ipv6-family</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-vrf1-af-ipv6] <strong>route-distinguisher 100:1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-vrf1-af-ipv6] <strong>export route-policy poly-1</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_BGP_MPLS_IPv6_VPN_Configuration_Commands_title.html">IPv6 L3VPN Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/VPN-IMPORT-POLICY-AF-IPV6(L3VPNOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>