
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="peer route-policy import (BGP-VPN instance IPv6 address family view) (group)">
<meta name="DC.subject" content="peer route-policy import (BGP-VPN instance IPv6 address family view) (group)">
<meta name="keywords" content="peer route-policy import (BGP-VPN instance IPv6 address family view) (group)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_BGP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/VRF-PEER-INBOUND-POLICY(BGPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/VRF6-PEER-INBOUND-POLICY(BGPVPNBASE).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_BGPVPNBASE">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942844053">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>peer route-policy import (BGP-VPN instance IPv6 address family view) (group)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942844053"></a><a name="EN-US_CLIREF_0000001942844053"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">peer route-policy import (BGP-VPN instance IPv6 address family view) (group)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942844053__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">peer route-policy import</span></b> command specifies a route-policy for filtering routes received from a peer group.</p>
<p>The <b><span class="cmdname">undo peer route-policy import</span></b> command deletes a specified route-policy.</p>
</p>
<p>By default, no route-policy is configured for filtering routes received from a peer group.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942844053__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">peer </span></b><i><span class="varname">group-name</span></i> <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> <strong><span>import</span></strong></p>

<p><b><span class="cmdname">undo peer </span></b><i><span class="varname">group-name</span></i> <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> <strong><span>import</span></strong></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942844053__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">group-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a peer group.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The name is a string of 1 to 47 case-sensitive characters, with spaces not supported. When double quotation marks are used around the string, spaces are allowed in the string.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">route-policy-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a route-policy.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 200 case-sensitive characters. It cannot contain spaces. When double quotation marks are used around the string, spaces are allowed in the string.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942844053__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>BGP-VPN instance IPv6 address family view,</span><span>BGP multi-instance VPN instance IPv6 address family view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942844053__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942844053__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>After a route-policy is created, the <b><span class="cmdname">peer route-policy import</span></b> command is used to apply a Route-Policy to a peer group so that the routes received from a peer group can be controlled. To be specific, only the necessary routes are received from the peer group. In this manner, route management is implemented, the scale of the routing table is reduced, and fewer network resources are consumed.</p>
<p><strong>Prerequisites</strong></p>
<p>If the command specifies a route-policy that does not exist, use the route-policy command to create the route-policy.</p>
<p><strong>Configuration Impact</strong></p>
<p><p>If both a peer group and a peer are configured with a route-policy, the configuration on the peer takes precedence. If a peer group is configured with a route-policy but peers in the group are not configured with their own ones, the peers inherit the configuration of the peer group. If the route-policy configuration of a peer group is the same as that of a peer in the group, the configuration is displayed in the configuration file only for the peer group.<p></p>
<span>If a BGP peer relationship is established</span>, then an import policy is bound to the peer or the import policy bound to the peer is modified, and the device does not support the Refresh capability, the peer relationship is re-established because the import policy addition or modification causes the peer to resend Refresh messages.</p>
</p>
<p><strong>Precautions</strong></p>
<p><p>After the <b><span class="cmdname">peer route-policy import</span></b> command is run, only the routes that match the route-policy are accepted. Replacing or modifying the route-policy may cause a large number of routes to match the route-policy and be accepted.<p></p>
<span>If</span> <strong>route-policy</strong> <em>route-policy-name</em>is specified in this command in the BGP multi-instance VPN instance IPv6 address family view, the following items can be matched: the IPv4 ACL list, AS_Path filter, AS_Path length, community filter, route cost, IPv6 route destination address, VPN-Target extended community filter, outbound interface, MPLS label, Large-Community filter, IPv4 route next-hop address ACL, IPv6 route next-hop address ACL, IPv4 route next-hop address prefix list, IPv6 route next-hop address prefix list, route preference, IPv4 route destination address prefix list, IPv6 route destination address prefix list, route modulo, routing protocol type, RD attribute filter, route source IPv4 address ACL, route source IPv6 address ACL, route source IPv4 address prefix list, route source IPv6 address prefix list, BGP non-optimal route status, route type, and route tag. The following items can be set: the BGP Large-Community attribute, BGP route AIGP value, AS_Path attribute, BGP community attribute, BGP route MED, discarding the entropy label of routes, BGP route VPN-Target extended community attribute, BGP route color extended community attribute, BGP route SoO extended community attribute, BGP route local preference, route next-hop IPv6 address, BGP route origin, BGP route PreVal, and QoS parameters.<p></p>
<span>If</span> <strong>route-policy</strong> <em>route-policy-name</em>is specified in this command in the BGP VPN instance IPv6 address family view, the following items can be matched: the IPv4 ACL list, AS_Path filter, AS_Path length, community filter, route cost, IPv6 route destination address, VPN-Target extended community filter, outbound interface, MPLS label, Large-Community filter, IPv4 route next-hop address ACL, IPv6 route next-hop address ACL, IPv4 route next-hop address prefix list, IPv6 route next-hop address prefix list, route preference, IPv4 route destination address prefix list, IPv6 route destination address prefix list, route modulo, routing protocol type, RD attribute filter, route source IPv4 address ACL, route source IPv6 address ACL, route source IPv4 address prefix list, route source IPv6 address prefix list, BGP non-optimal route status, route type, and route tag. The following items can be set: the BGP Large-Community attribute, BGP route AIGP value, AS_Path attribute, BGP community attribute, BGP route MED, discarding the entropy label of routes, BGP route VPN-Target extended community attribute, BGP route color extended community attribute, BGP route SoO extended community attribute, BGP route local preference, route next-hop IPv6 address, BGP route origin, BGP route PreVal, and QoS parameters.<p></p>
<span>If</span> the referenced policy contains unsupported attribute matching or behavior setting, unexpected results may occur. For some attribute matching behaviors, the device may display warning-level messages.<p></p>
<span>Outbound interface-based matching applies only to</span> directly connected EBGP peers.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942844053__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Apply the route-policy named test-policy to the routes received from a peer group.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ip vpn-instance vpn1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-vpn1] <strong>ipv6-family</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-vpn1-af-ipv6] <strong>route-distinguisher 100:1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-vpn1-af-ipv6] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-vpn1] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>route-policy test-policy permit node 10</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-route-policy] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>bgp 100</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp] <strong>ipv6-family vpn-instance vpn1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp-6-vpn1] <strong>group test external</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp-6-vpn1] <strong>peer test as-number 200</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp-6-vpn1] <strong>peer test route-policy test-policy import</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_BGP_Configuration_Commands_title.html">BGP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/VRF-PEER-INBOUND-POLICY(BGPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/VRF6-PEER-INBOUND-POLICY(BGPVPNBASE).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>