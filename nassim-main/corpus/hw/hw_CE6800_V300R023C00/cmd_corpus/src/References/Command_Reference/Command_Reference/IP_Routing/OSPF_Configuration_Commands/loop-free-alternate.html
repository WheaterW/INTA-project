
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="loop-free-alternate">
<meta name="DC.subject" content="loop-free-alternate">
<meta name="keywords" content="loop-free-alternate">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_OSPF_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IMPORT-ROUTE-LIMIT(OSPFCOMMOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/OSPF-LSA-AGE-REFRESH(OSPFCOMMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_OSPFFRROM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907603264">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>loop-free-alternate</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907603264"></a><a name="EN-US_CLIREF_0000001907603264"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">loop-free-alternate</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907603264__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">loop-free-alternate</span></b> command enables OSPF/OSPFv3 IP FRR and generates a loop-free backup route.</p>
<p>The <b><span class="cmdname">undo loop-free-alternate</span></b> command disables OSPF/OSPFv3 IP FRR.</p>
</p>
<p>By default, FRR is disabled.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907603264__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">loop-free-alternate</span></b></p>

<p><b><span class="cmdname">undo loop-free-alternate</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907603264__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
None
</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907603264__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>OSPF FRR view,</span><span>OSPFv3 FRR view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907603264__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907603264__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>Loop-free alternate (LFA) is a method of implementing IP FRR. With LFA, a device can generate a loop-free backup link to implement basic IP FRR functions. OSPF IP FRR takes effect only after the <b><span class="cmdname">loop-free-alternate</span></b> command is run.</p>
<p><strong>Prerequisites</strong></p>
<p><p>An OSPF FRR view has been created and the system has entered the OSPF FRR view using the <b><span class="cmdname">frr</span></b> command.<p></p>
<span>An OSPFv3 FRR view has been created and the system</span> has entered the OSPFv3 FRR view using the <b><span class="cmdname">frr</span></b> command.</p>
</p>
<p><strong>Precautions</strong></p>
<ul><li>If a link that carries important services cannot function as the backup link of other links, run the <b><span class="cmdname">ospf frr block</span></b> command on the interface connected to the link before configuring OSPF IP FRR. In this way, OSPF IP FRR does not calculate the link connected to the interface as a backup link.</li><li>If a link that carries important services cannot function as a backup link for other links, run the <b><span class="cmdname">ospfv3 frr block</span></b> command on the interface connected to the link before configuring OSPFv3 IP FRR. In this way, OSPFv3 IP FRR does not calculate the link connected to the interface as a backup link.</li><li>If OSPF IP FRR is configured only for specified routes, run the <b><span class="cmdname">frr-policy route route-policy route-policy-name</span></b> command to configure a filtering policy for OSPF IP FRR. Only the backup OSPF routes that meet the filtering conditions can be added to the forwarding table. When this route fails, OSPF can quickly switch traffic to the backup route.</li><li>This command takes effect regardless of whether the same route is advertised by multiple nodes.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907603264__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable OSPFv3 IP FRR through LFA.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ospfv3</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospfv3-1] <strong>frr</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospfv3-1-frr] <strong>loop-free-alternate</strong>
</pre>
</div>

<div class="p"># Enable OSPF IP FRR through LFA.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ospf</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospf-1] <strong>frr</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospf-1-frr] <strong>loop-free-alternate</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_OSPF_Configuration_Commands_title.html">OSPF Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/IMPORT-ROUTE-LIMIT(OSPFCOMMOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/OSPF-LSA-AGE-REFRESH(OSPFCOMMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>