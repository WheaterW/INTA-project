
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="mka cryptographic-algorithm">
<meta name="DC.subject" content="mka cryptographic-algorithm">
<meta name="keywords" content="mka cryptographic-algorithm">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-MACsec_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/MKA_CAK-MODE_STATIC.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/MKA_KEYSERVER_PRIORITY.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="MACsec">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="MACsec">
<meta name="featuretype" content="Security">
<meta name="featurename" content="MACsec">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="DC.Creator" content="SUBSYS_ID_ESAP_MACSEC">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907768020">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>mka cryptographic-algorithm</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907768020"></a><a name="EN-US_CLIREF_0000001907768020"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">mka cryptographic-algorithm</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907768020__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">mka cryptographic-algorithm</span></b> command configures the MKA key generation algorithm.</p>
<p>The <b><span class="cmdname">undo mka cryptographic-algorithm</span></b> command restores the default MKA key generation algorithm.</p>
</p>
<p>By default, the MKA key generation algorithm is AES-CMAC-128.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907768020__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p>For CE8851-32CQ8DQ-P, CE8850-HAM, CE8850-SAN, CE8851K, CE8855, CE8851-32CQ4BQ, CE6860-SAN, CE6866, CE6860-HAM, CE6866K, CE6855-48XS8CQ, CE6885, CE6885-T, CE6885-LL (standard forwarding mode), CE6863E-48S8CQ, CE6885-SAN: </p>

<p><b><span class="cmdname">mka cryptographic-algorithm </span></b>{ <strong><span>aes-cmac-128</span></strong> | <strong><span>aes-cmac-256</span></strong> }</p>

<p><b><span class="cmdname">undo mka cryptographic-algorithm</span></b></p>

<p>For CE8855, CE8851-32CQ4BQ, CE6855-48XS8CQ, CE6885, CE6885-T, CE6885-LL (standard forwarding mode), CE6863E-48S8CQ, CE6885-SAN: </p>

<p><b><span class="cmdname">mka cryptographic-algorithm  sm4-cmac-128</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907768020__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>aes-cmac-128</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Sets the MKA key generation algorithm to AES-CMAC-128.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>aes-cmac-256</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Sets the MKA key generation algorithm to AES-CMAC-256.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>sm4-cmac-128</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Sets the MKA key generation algorithm to SM4-CMAC-128.</p>
</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>This parameter is supported only on the CE6855-48XS8CQ, CE6885-SAN, CE8855, CE8851-32CQ4BQ, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907768020__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>mac security profile view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907768020__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907768020__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>The MKA key generation algorithm is used to generate the key encrypting key (KEK) for encrypting and decrypting the SAK and the integrity check key (ICK). After generating an SAK, the key server sends an MKA packet carrying the encrypted SAK to the peer device. After receiving the MKA packet, the peer device checks the integrity of the packet. If the check fails, the peer device discards the packet. If the check succeeds, the peer device decrypts the packet to obtain the SAK.</p>

<ul><li>When AES-CMAC-128 is used as the key generation algorithm, the first 32 hexadecimal digits of the CAK are used to generate the key. If the length of the configured CAK is less than 32 bits, 0s are suffixed to the CAK until the length reaches 32 bits.</li><li>When AES-CMAC-256 is used as the key generation algorithm, the first 64 hexadecimal digits of the CAK are used to generate the key. If the length of the configured CAK is less than 64 bits, 0s are suffixed to the CAK until the length reaches 64 bits.</li><li>When SM4-CMAC-128 is used as the key generation algorithm, the first 32 hexadecimal digits of the CAK are used to generate the key. If the length of the configured CAK is less than 32 bits, 0s are suffixed to the CAK until the length reaches 32 bits.</li></ul>
<p><strong>Precautions</strong></p>
<ul><li>Ensure that the same key generation algorithm is configured on both ends. Otherwise, the negotiation may fail.</li><li>If the algorithm is set to SM4-CMAC-128, the switch can only connect to Huawei CE switches that support Chinese cryptographic algorithms.</li><li>The key generation algorithm SM4-CMAC-128 is used only with the GCM-SM4-128 encryption algorithm. Different AES algorithms are used together.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907768020__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the MKA key generation algorithm to AES-CMAC-256 in the MACsec profile named test.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>mac-security-profile name test</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-macsec-profile-test] <strong>mka cryptographic-algorithm aes-cmac-256</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-MACsec_Configuration_Commands_title.html">MACsec Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/MKA_CAK-MODE_STATIC.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/MKA_KEYSERVER_PRIORITY.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>