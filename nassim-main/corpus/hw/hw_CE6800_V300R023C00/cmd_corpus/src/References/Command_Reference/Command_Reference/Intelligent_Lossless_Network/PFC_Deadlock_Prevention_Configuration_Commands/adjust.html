
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="adjust">
<meta name="DC.subject" content="adjust">
<meta name="keywords" content="adjust">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-PFC_Deadlock_Detection_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DCB_PFC_UPLINK_GROUP.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="PFC Deadlock Prevention">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="PFC Deadlock Prevention">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="featurename" content="PFC Deadlock Prevention">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="DC.Creator" content="SUBSYS_ID_AIS">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907609332">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>adjust</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907609332"></a><a name="EN-US_CLIREF_0000001907609332"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">adjust</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907609332__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">adjust</span></b> command adjusts the queue priority and DSCP value of packets in a hook-shaped flow matching a PFC uplink interface group.</p>
<p>The <b><span class="cmdname">undo adjust</span></b> command deletes the configuration for a hook-shaped flow matching a PFC uplink interface group.</p>
</p>
<p>By default, there is no configuration for a hook-shaped flow matching a PFC uplink interface group.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE6885-LL (low latency mode), CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907609332__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">adjust original-dscp </span></b><i><span class="varname">original-dscpvalue</span></i> <strong><span>to</span></strong> <strong><span>priority</span></strong> <i><span class="varname">prioritynumber</span></i> <strong><span>dscp</span></strong> <i><span class="varname">dscpvalue</span></i></p>

<p><b><span class="cmdname">undo adjust original-dscp </span></b><i><span class="varname">original-dscpvalue</span></i> <strong><span>to</span></strong> <strong><span>priority</span></strong> <i><span class="varname">prioritynumber</span></i> <strong><span>dscp</span></strong> <i><span class="varname">dscpvalue</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907609332__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>to</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Adjusts information of packets in a hook-shaped flow matching a PFC uplink interface group.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>priority</span></strong> <i><span class="varname">prioritynumber</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Adjusts the queue priority of packets in a hook-shaped flow matching a PFC uplink interface group so that the packets are forwarded through the specified queue.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 7.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>dscp</span></strong> <i><span class="varname">dscpvalue</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Adjusts the DSCP value of packets in a hook-shaped flow matching a PFC uplink interface group so that the packets are still mapped to the specified queue on the downstream device.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 63.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>original-dscp</span></strong> <i><span class="varname">original-dscpvalue</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the DSCP value of packets in a hook-shaped flow to be adjusted.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 63.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907609332__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>PFC uplink group view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907609332__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907609332__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>If the system detects that a service flow enters and exits through interfaces in a PFC uplink interface group, the service flow is considered as a high-risk hook-shaped flow that may cause a PFC deadlock. You can run this command to configure a PFC uplink interface group. For a hook-shaped flow that matches the interface group, the device proactively adjusts the queue priority and DSCP value in the packets to change the PFC backpressure path and prevent loops caused by PFC frames.</p>
<p><strong>Precautions</strong></p>
<p><p>The <b><span class="cmdname">adjust</span></b> command can be configured at most twice in a PFC uplink interface group, and the settings of the original-dscpValue, priority, and dscpValue parameters must be different in the two command configurations. If the configuration needs to be modified, run the <b><span class="cmdname">undo adjust original-dscp original-dscpValue to priority priority dscp dscpValue</span></b> command to delete the original configuration first.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907609332__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the queue priority to 4 and DSCP value to 32 for a hook-shaped flow which original DSCP value is 10 that matches the PFC uplink interface group myuplink.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>dcb pfc uplink group myuplink</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-dcb-pfc-uplink-group-myuplink] <strong>adjust original-dscp 10 to priority 4 dscp 32</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-PFC_Deadlock_Detection_Commands_title.html">PFC Deadlock Prevention Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DCB_PFC_UPLINK_GROUP.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>