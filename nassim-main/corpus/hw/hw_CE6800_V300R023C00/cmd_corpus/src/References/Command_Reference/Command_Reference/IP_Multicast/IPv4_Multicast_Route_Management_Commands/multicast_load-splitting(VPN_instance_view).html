
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="multicast load-splitting(VPN instance view)">
<meta name="DC.subject" content="multicast load-splitting(VPN instance view)">
<meta name="keywords" content="multicast load-splitting(VPN instance view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IPv4_Multicast_Route_Management_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/MCAST-LOAD-SPLITTING-VPN-FA(MRMOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/MCAST-LONGEST-MATCH(MRMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IPv4 Multicast Route Management">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="IPv4 Multicast Route Management">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IPv4 Multicast Route Management">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Creator" content="SUBSYS_ID_MRMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907606192">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>multicast load-splitting(VPN instance view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907606192"></a><a name="EN-US_CLIREF_0000001907606192"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">multicast load-splitting(VPN instance view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907606192__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">multicast load-splitting</span></b> command configures a multicast load splitting policy.</p>
<p>The <b><span class="cmdname">undo multicast load-splitting</span></b> command restores the default configuration.</p>
</p>
<p>By default, the load splitting among multicast routes is disabled.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907606192__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">multicast load-splitting </span></b>{ <strong><span>group</span></strong> | <strong><span>source</span></strong> | <strong><span>source-group</span></strong> | <strong><span>stable-preferred</span></strong> | <strong><span>balance-ucmp</span></strong> }</p>

<p><b><span class="cmdname">undo multicast load-splitting</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907606192__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>group</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates group address-based load splitting. This policy is applicable to the scenario of one source to multiple groups.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>source</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates source address-based load splitting. This policy is applicable to the scenario of multiple sources to one group.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>source-group</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates source and group addresses-based load splitting. This policy is applicable to the scenario of multiple sources to multiple groups.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>stable-preferred</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates stable-preferred load splitting. This policy is applicable to the stable multicast networking.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>balance-ucmp</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates link bandwidth-based load splitting. This policy is applicable to the scenario in which links have different bandwidth.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907606192__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>VPN instance view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907606192__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907606192__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>If multiple equal-cost routes exist over the network, you can run the <b><span class="cmdname">multicast load-splitting</span></b> command to realize load splitting among the equal-cost routes. The Router selects equal-cost routes from unicast and multicast static routing tables, and determines the routing table for creating multicast routing entries based on the mask lengths and preferences of routes. All equal cost routes in the determined routing table can then take part in load splitting. The Router supports load splitting among the routes in only one routing table.</p>
<p><strong>Prerequisites</strong></p>
<p>The <b><span class="cmdname">multicast routing-enable</span></b> command is run.</p>
<p><strong>Configuration Impact</strong></p>
<p>The four load splitting policies are mutually exclusive. You are advised to adopt a fixed multicast load splitting policy based on the actual networking.</p>

<ul><li>If stable-preferred is specified, the Router automatically adjusts and balances the entries when equal-cost routes are added or deleted; however, when multicast routing entries are deleted, the Router does not automatically adjust the entries on the equal-cost routes.</li><li>If group, source, or source-group is specified, fixed algorithms are used for load splitting. In case that multicast routing entries and network configurations are stable, Reverse Path Forwarding (RPF) interfaces and RPF neighbors keep unchanged.</li><li>If balance-ucmp is specified, the Router automatically adjusts and balances traffic based on link bandwidth, implementing unequal load splitting.</li></ul>
<p><strong>Precautions</strong></p>
<p>Multicast load-splitting and Rpf ecmp non-reverse are mutually exclusive.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907606192__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure stable-preferred load splitting in the VPN instance.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>multicast routing-enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>ip vpn-instance mytest</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-mytest] <strong>ipv4-family</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-mytest-af-ipv4] <strong>route-distinguisher 100:100</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-mytest-af-ipv4] <strong>multicast routing-enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-mytest-af-ipv4] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-mytest] <strong>multicast load-splitting stable-preferred</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_IPv4_Multicast_Route_Management_Commands_title.html">IPv4 Multicast Route Management Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/MCAST-LOAD-SPLITTING-VPN-FA(MRMOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/MCAST-LONGEST-MATCH(MRMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>