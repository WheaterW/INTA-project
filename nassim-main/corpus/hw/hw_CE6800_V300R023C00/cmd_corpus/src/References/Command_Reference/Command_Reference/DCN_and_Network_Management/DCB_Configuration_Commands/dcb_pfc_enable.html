
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="dcb pfc enable">
<meta name="DC.subject" content="dcb pfc enable">
<meta name="keywords" content="dcb pfc enable">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-DCB_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DCB_PFC_DSCP-MAPPING_ENABLE.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DCB_PFC_GLOBAL_DISABLE.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="DCB">
<meta name="featuretype" content="DCN and Network Management">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="DCB">
<meta name="featuretype" content="DCN and Network Management">
<meta name="featurename" content="DCB">
<meta name="featuretype" content="DCN and Network Management">
<meta name="featuretype" content="DCN and Network Management">
<meta name="featuretype" content="DCN and Network Management">
<meta name="DC.Creator" content="SUBSYS_ID_DCB">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907767812">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>dcb pfc enable</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907767812"></a><a name="EN-US_CLIREF_0000001907767812"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">dcb pfc enable</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907767812__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">dcb pfc enable</span></b> command applies a PFC profile to an interface.</p>
<p>The <b><span class="cmdname">undo dcb pfc enable</span></b> command deletes a PFC profile from an interface.</p>
</p>
<p>By default, no PFC profile is applied to an interface.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE6885-LL (low latency mode), CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907767812__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p>For CE6855-48XS8CQ, CE6860-SAN, CE6866, CE6860-HAM, CE6866K, CE6885, CE6885-T, CE6885-LL (standard forwarding mode), CE6863E-48S8CQ, CE6885-SAN, CE8850-SAN, CE8851-32CQ8DQ-P, CE8850-HAM, CE8851K, CE8855, CE8851-32CQ4BQ: </p>

<p><b><span class="cmdname">dcb pfc enable </span></b>[ <i><span class="varname">pfcprofile</span></i> ] [ <strong><span>mode</span></strong> { <strong><span>auto</span></strong> | <strong><span>manual</span></strong> } ]</p>

<p><b><span class="cmdname">undo dcb pfc enable </span></b>[ <i><span class="varname">pfcprofile</span></i> ] [ <strong><span>mode</span></strong> { <strong><span>auto</span></strong> | <strong><span>manual</span></strong> } ]</p>

<p>For CE6885-LL (low latency mode): </p>

<p><b><span class="cmdname">dcb pfc enable </span></b>[ <i><span class="varname">pfcprofile</span></i> ] [ <strong><span>mode</span></strong> <strong><span>manual</span></strong> ]</p>

<p><b><span class="cmdname">undo dcb pfc enable </span></b>[ <i><span class="varname">pfcprofile</span></i> ] [ <strong><span>mode</span></strong> <strong><span>manual</span></strong> ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907767812__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">pfcprofile</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a PFC profile.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The PFC profile must already exist.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>mode</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>PFC working mode.</p>
<p>If this parameter is not specified, PFC works in manual mode.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>auto</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Negotiation mode.</p>
</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>This parameter is supported only on the CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>manual</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Forcible mode.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907767812__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100GE interface view,</span><span>10GE interface view,</span><span>200GE interface view,</span><span>25GE interface view,</span><span>400GE interface view,</span><span>50GE interface view,</span><span>Interface group view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907767812__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907767812__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><p>In PFC, eight priority queues on the transmit interface of an uplink device correspond to eight buffers on the receive interface of a downlink device. When a receive buffer on the receive interface of the downlink device is to be congested, the downlink device sends a backpressure signal to the uplink device, requesting the uplink device to stop sending packets in the corresponding priority queue. After setting priorities for queues, run the <b><span class="cmdname">dcb pfc enable</span></b> command to enable PFC.<p></p>
<span>The principles for setting mode</span> { auto | manual } are as follows:</p>

<ul><li>auto: The local device and remote device exchange PFC parameters through DCBX. If PFC negotiation has succeeded, PFC takes effect. Otherwise, PFC does not work. DCB parameters of the remote device can be configured on the local device, if the remote device allows such configuration.<p></p>
<span>The device does not allow DCB parameters of the remote</span> device to be locally configured.</li><li>manual: PFC parameters on the local and remote devices are configured manually and must be the same. If the remote device does not support DCBX, configure PFC to work in manual mode.</li></ul>
</div>
<p><strong>Prerequisites</strong></p>
<p><p>PFC has been enabled globally using the <b><span class="cmdname">undo dcb pfc global disable</span></b> command. By default, PFC is enabled globally.<p></p>
<span>A PFC profile has been created using the dcb pfc</span> [ &lt;pfcprofile&gt; ] command and the PFC profile view has been displayed, or the view of an existing PFC profile has been displayed.<p></p>
<span>For the CE8855</span>, CE8851-32CQ4BQ, CE6855-48XS8CQ, CE6885, CE6885-SAN, CE6885-LL, CE6885-T, and CE6863E-48S8CQ:<p></p>
<span>The chip-level headroom buffer threshold has been</span> set using the <b><span class="cmdname">qos buffer headroom-pool</span></b> command.</p>
</p>
<p><strong>Precautions</strong></p>
<div class="p"><p>If the PFC working mode is set to auto, you need to enable an interface to advertise or receive DCBX TLVs as follows:</p>

<ul><li>Run the <b><span class="cmdname">lldp enable</span></b> command in the system view to enable LLDP globally.</li><li>Run the <b><span class="cmdname">lldp tlv-enable dcbx</span></b> command on the interface to enable the interface to advertise DCBX TLVs.<p></p>
<span>When congestion occurs on an interface</span>, the <strong>dcb pfc enable</strong> or <b><span class="cmdname">undo dcb pfc enable</span></b> command may fail to be executed. Reconfigure the PFC profile when the interface is not congested or after the interface is restarted.</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907767812__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">


<div class="p"># Apply the PFC profile default to <span>100GE</span><span>1/0/1</span> and configure PFC to work in forcible mode. (CE6866, CE6860-SAN, CE6866K, CE6860-HAM, CE8851-32CQ8DQ-P, CE8850-SAN, CE8851K, and CE8850-HAM)<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>dcb pfc enable mode manual</strong>
</pre>
</div>


<div class="p"># Apply the PFC profile default to <span>100GE</span><span>1/0/1</span> and configure PFC to work in forcible mode. (CE8855, CE8851-32CQ4BQ, CE6855-48XS8CQ, CE6885, CE6885-SAN, CE6885-LL, CE6885-T, CE6863E-48S8CQ)<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>qos buffer headroom-pool size 4 mbytes slot <span>1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>dcb pfc enable mode manual</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-DCB_Configuration_Commands_title.html">DCB Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DCB_PFC_DSCP-MAPPING_ENABLE.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/DCB_PFC_GLOBAL_DISABLE.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>