
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="igmp access-limit">
<meta name="DC.subject" content="igmp access-limit">
<meta name="keywords" content="igmp access-limit">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IGMP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IGMP-PUB-VPN(DGMPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IGMP-INTERFACE-VIEW-CMD(DGMPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Creator" content="SUBSYS_ID_DGMPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907606108">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>igmp access-limit</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907606108"></a><a name="EN-US_CLIREF_0000001907606108"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">igmp access-limit</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907606108__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">igmp access-limit</span></b> command sets the maximum number of IGMP group memberships that can be created on an interface.</p>
<p>The <b><span class="cmdname">undo igmp access-limit</span></b> command cancels the setting.</p>
</p>
<p>By default, the maximum number of IGMP group memberships on an interface is not configured.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907606108__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">igmp access-limit </span></b><i><span class="varname">number</span></i> <strong><span>except</span></strong> { <i><span class="varname">acl-number</span></i> | <strong><span>acl-name</span></strong> <i><span class="varname">acl-name</span></i> }</p>

<p><b><span class="cmdname">igmp access-limit </span></b><i><span class="varname">number</span></i></p>

<p><b><span class="cmdname">undo igmp access-limit</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907606108__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the maximum number of IGMP entries that can be created on an interface.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 16384.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>except</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an unrestricted ACL rule.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">acl-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the number of a basic or an advanced ACL.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><p>The value is an integer.</p>
<ul><li>The value ranging from 2000 to 2999 specifies a basic ACL. A basic ACL filters group addresses, without distinguishing between (*, G) and (S, G) entries.</li><li>The value ranging from 3000 to 3999 specifies an advanced ACL. An advanced ACL filters only (S, G) entries on an interface.</li></ul>
</div>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>acl-name</span></strong> <i><span class="varname">acl-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a named ACL.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 32 case-sensitive characters. It cannot contain spaces.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907606108__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100GE interface view,</span><span>10GE interface view,</span><span>200GE interface view,</span><span>25GE interface view,</span><span>400GE interface view,</span><span>50GE interface view,</span><span>Eth-Trunk interface view,</span><span>VBDIF interface view,</span><span>VLANIF interface view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907606108__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907606108__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>When a large number of multicast users request multiple programs simultaneously, excessive bandwidth resources will be exhausted, and the Router's performance will be degraded, deteriorating the multicast service quality. To prevent this issue, run the <b><span class="cmdname">igmp access-limit</span></b> command on a Router interface to limit the number of IGMP entries. When receiving an IGMP Join message from a user, the Router interface first checks whether the configured maximum number of IGMP entries is reached. If the maximum number is reached, the Router interface discards the IGMP Join message and rejects the user. If the maximum number is not reached, the Router interface sets up an IGMP membership and forwards data flows of the requested multicast group to the user. This mechanism enables users who have successfully joined multicast groups to enjoy smoother multicast services.<p></p>
<span>The principles of counting the number of IGMP entries</span> are as follows:</p>

<ul><li>Each (*, G) entry is counted as one entry on an interface, and each (S, G) is counted as one entry on an interface.</li><li>SSM-mapping (*, G) entries are not counted as entries on an interface, and each (S, G) entry mapped using the SSM-mapping mechanism is counted as one entry on an interface.</li></ul>
<p><strong>Prerequisites</strong></p>
<p>The multicast routing function has been enabled using the <b><span class="cmdname">multicast routing-enable</span></b> command.</p>
<p><strong>Precautions</strong></p>
<p>If except is not specified, the maximum number is effective for all multicast groups, including source-specific groups. If except is specified, the interface uses the ACL to filter received IGMP Join messages. The entries matching the ACL are not restricted by the maximum number of IGMP entries.&lt;br /&gt;
The <b><span class="cmdname">igmp access-limit</span></b> command is used together with the acl (basic ACL) or acl (advanced ACL) command.</p>

<ul><li>In the basic ACL view, you can set the address range of multicast groups that are not limited by the number parameter by specifying the source parameter in the <b><span class="cmdname">rule</span></b> command.</li><li>In the advanced ACL view, you can set the source address range of multicast data packets by specifying the source parameter in the <b><span class="cmdname">rule</span></b> command, and set the multicast group address range of multicast data packets by specifying the destination parameter in the <b><span class="cmdname">rule</span></b> command.<p></p>
<span>If this command is run more than once</span>, the latest configuration overrides the previous one.</li></ul>
<p><p>Only CE6866, CE6860-SAN, CE6866K, CE6860-HAM, CE8851-32CQ8DQ-P, CE8850-SAN, CE8851K, CE8850-HAM, CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE8855, CE8851-32CQ4BQ, CE6855-48XS8CQ, CE6885-SAN, CE6885, CE6885-LL(standard forwarding mode), CE6885-T, CE6863E-48S8CQ support this command in the VBDIF interface view.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907606108__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the maximum number of IGMP entries that can be created on VLANIF 1 to 1024.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>multicast routing-enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>vlan 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vlan1] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface Vlanif 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-Vlanif1] <strong>igmp access-limit 1024</strong>
</pre>
</div>

<div class="p"># Create a named ACL myacl, and configure a rule for the named ACL to allow hosts to receive messages sent by multicast source 1.1.1.1 to multicast group 232.0.0.0/16.  The maximum number of IGMP entries that can be created on VLANIF 1 is 1024, and the multicast group 232.0.0.0/16 is not limited.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>multicast routing-enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>acl name myacl</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-acl4-advance-myacl] <strong>rule permit ip source 1.1.1.1 0 destination 232.0.0.0 0.0.255.255</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-acl4-advance-myacl] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>vlan 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vlan1] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface Vlanif 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-Vlanif1] <strong>igmp access-limit 1024 except acl-name myacl</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_IGMP_Configuration_Commands_title.html">IGMP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/IGMP-PUB-VPN(DGMPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/IGMP-INTERFACE-VIEW-CMD(DGMPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>