
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="igmp lastmember-queryinterval">
<meta name="DC.subject" content="igmp lastmember-queryinterval">
<meta name="keywords" content="igmp lastmember-queryinterval">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IGMP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IGMP-INTERFACE-VIEW-CMD_9(DGMPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IGMP-INTERFACE-VIEW-CMD_2(DGMPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Creator" content="SUBSYS_ID_DGMPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907766064">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>igmp lastmember-queryinterval</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907766064"></a><a name="EN-US_CLIREF_0000001907766064"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">igmp lastmember-queryinterval</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907766064__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">igmp lastmember-queryinterval</span></b> command sets the interval at which an IGMP querier sends IGMP last-member query messages after it receives an IGMP Leave message from a host.</p>
<p>The <b><span class="cmdname">undo igmp lastmember-queryinterval</span></b> command restores the default setting.</p>
</p>
<p>By default, an IGMP querier sends IGMP last-member query messages at an interval of 1s.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907766064__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">igmp lastmember-queryinterval </span></b><i><span class="varname">interval</span></i></p>

<p><b><span class="cmdname">undo igmp lastmember-queryinterval</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907766064__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interval</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an interval at which an IGMP querier sends IGMP last-member query messages.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 5, in seconds.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907766064__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100ge sub-interface view,</span><span>100GE interface view,</span><span>10GE sub-interface view,</span><span>10GE interface view,</span><span>200GE sub-interface view,</span><span>200GE interface view,</span><span>25GE sub-interface view,</span><span>25GE interface view,</span><span>400GE sub-interface view,</span><span>400GE interface view,</span><span>50GE sub-interface view,</span><span>50GE interface view,</span><span>Eth-Trunk sub-interface view,</span><span>Eth-Trunk interface view,</span><span>Loopback interface view,</span><span>VBDIF interface view,</span><span>VLANIF interface view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907766064__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907766064__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>If multiple multicast devices are connected to a shared network segment where user hosts reside, these multicast devices automatically elect a unique querier. The querier maintains IGMP group memberships by sending IGMP query messages. To set the interval at which IGMP last-member query messages are sent, run the igmp <b><span class="cmdname">lastmember-queryinterval</span></b> command.<p></p>
<span>The igmp</span> <b><span class="cmdname">lastmember-queryinterval</span></b> command is valid only when the querier runs IGMPv2 or IGMPv3. A last-member query is also known as a group-specific query. IGMPv3 also supports source/group-specific queries.</p>
<p><strong>Prerequisites</strong></p>
<p>The multicast routing function has been enabled using the <b><span class="cmdname">multicast routing-enable</span></b> command in the public network instance view or VPN instance view.</p>
<p><strong>Configuration Impact</strong></p>
<p>After receiving a Leave message for a group, the querier sends group-specific query messages constantly to check whether there is a member of the group. The interval at which the querier sends group-specific query messages is specified by interval, and the number of times for sending group-specific query messages is specified by robust-value in the <b><span class="cmdname">igmp robust-count</span></b> command or the robust-count command.<p></p>
<span>If there is a member of a group on the network segment</span>, the member must send a Report message within the maximum response time. The maximum response time can be set by using the igmp max-response-time command or the max-response-time command.<p></p>
<span>If the querier receives a Report message within the</span> period obtained by the value of robust-value multiplied by the value of interval, it continues to maintain the memberships for the group. Otherwise, the querier considers that there is no member of the group on the network segment, and therefore does not maintain the memberships for the group.</p>
<p><strong>Precautions</strong></p>
<p>The function of the igmp <b><span class="cmdname">lastmember-queryinterval</span></b> command is the same as the function of the <b><span class="cmdname">lastmember-queryinterval</span></b> command in the IGMP view. The configuration in the IGMP view is effective for all interfaces, whereas the configuration in the interface view is effective only for the specified interface. The configuration in the interface view takes precedence over the configuration in the IGMP view. The configuration in the IGMP view is used only when the configuration in the interface view is not available.</p>
<p><p>Only CE6866, CE6860-SAN, CE6866K, CE6860-HAM, CE8851-32CQ8DQ-P, CE8850-SAN, CE8851K, CE8850-HAM, CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE8855, CE8851-32CQ4BQ, CE6855-48XS8CQ, CE6885-SAN, CE6885, CE6885-LL(standard forwarding mode), CE6885-T, CE6863E-48S8CQ support this command in the VBDIF interface view.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907766064__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># On vlanif 1, set the interval at which a querier sends last-member query messages (group-specific query messages) to 3 seconds.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>multicast routing-enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>vlan 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vlan1] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface Vlanif 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-Vlanif1] <strong>igmp lastmember-queryinterval 3</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_IGMP_Configuration_Commands_title.html">IGMP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/IGMP-INTERFACE-VIEW-CMD_9(DGMPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/IGMP-INTERFACE-VIEW-CMD_2(DGMPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>