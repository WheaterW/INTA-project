<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
 <head> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="DC.Type" content="cliref"> 
  <meta name="DC.Title" content="igmp static-group (dot1q)"> 
  <meta name="DC.subject" content="igmp static-group (dot1q)"> 
  <meta name="keywords" content="igmp static-group (dot1q)"> 
  <meta name="product" content=""> 
  <meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IGMP_Configuration_Commands_title.html"> 
  <meta name="DC.Relation" scheme="URI" content="../v3r23c00/IGMP-STATIC-GROUP(DGMPOM).html"> 
  <meta name="DC.Relation" scheme="URI" content="../v3r23c00/IGMP-INTERFACE-VIEW-CMD_6(DGMPOM).html"> 
  <meta name="prodname" content=""> 
  <meta name="version" content=""> 
  <meta name="brand" content="Product Documentation"> 
  <meta name="DC.Publisher" content="20230413"> 
  <meta name="featurename" content="IGMP"> 
  <meta name="featuretype" content="IP Multicast"> 
  <meta name="DC.Audience.Job" content="Reference"> 
  <meta name="featurename" content="IGMP"> 
  <meta name="featuretype" content="IP Multicast"> 
  <meta name="featurename" content="IGMP"> 
  <meta name="featuretype" content="IP Multicast"> 
  <meta name="featuretype" content="IP Multicast"> 
  <meta name="featuretype" content="IP Multicast"> 
  <meta name="DC.Creator" content="SUBSYS_ID_DGMPOM"> 
  <meta name="DC.Format" content="XHTML"> 
  <meta name="DC.Identifier" content="EN-US_CLIREF_0000001942845325"> 
  <meta name="DC.Language" content="en-us"> 
  <link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css"> 
  <link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css"> 
  <script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script> 
  <title>igmp static-group (dot1q)</title> 
  <style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style> 
 </head> 
 <body>
  <a name="EN-US_CLIREF_0000001942845325"></a>
  <a name="EN-US_CLIREF_0000001942845325"></a> 
  <div class="articleBoxWithoutHead"> 
   <h1 class="topicTitle-h1">igmp static-group (dot1q)</h1> 
   <div> 
    <div class="clifunc">
     <a name="EN-US_CLIREF_0000001942845325__1.3.1"></a>
     <a name="1.3.1"></a>
     <h2 class="sectiontitle">Function</h2> 
     <div class="clifuncbody"> 
      <p></p>
      <p>The <b><span class="cmdname">igmp static-group</span></b> command configures an interface to statically join multicast groups.</p> 
      <p>The <b><span class="cmdname">undo igmp static-group</span></b> command deletes the multicast groups that an interface statically joins.</p> 
      <p></p> 
      <p>By default, an interface does not join any multicast group statically.</p> 
     </div>
    </div> 
    <div class="cliformat">
     <a name="EN-US_CLIREF_0000001942845325__1.3.2"></a>
     <a name="1.3.2"></a>
     <h2 class="sectiontitle">Format</h2> 
     <div class="cliformatbody"> 
      <p><b><span class="cmdname">igmp static-group </span></b><i><span class="varname">StaticGrp</span></i> [ <strong><span>inc-step-mask</span></strong> { <i><span class="varname">IncStepGrpMask</span></i> | <i><span class="varname">IncStepGrpMaskLen</span></i> } <strong><span>number</span></strong> <i><span class="varname">TotalNum</span></i> ] [ <strong><span>source</span></strong> <i><span class="varname">SourceAddr</span></i> ] <strong><span>dot1q</span></strong> <strong><span>vid</span></strong> <i><span class="varname">lowVidValue</span></i></p> 
      <p><b><span class="cmdname">undo igmp static-group all</span></b></p> 
      <p><b><span class="cmdname">undo igmp static-group </span></b><i><span class="varname">StaticGrp</span></i> [ <strong><span>inc-step-mask</span></strong> { <i><span class="varname">IncStepGrpMask</span></i> | <i><span class="varname">IncStepGrpMaskLen</span></i> } <strong><span>number</span></strong> <i><span class="varname">TotalNum</span></i> ] [ <strong><span>source</span></strong> <i><span class="varname">SourceAddr</span></i> ] <strong><span>dot1q</span></strong> <strong><span>vid</span></strong> <i><span class="varname">lowVidValue</span></i></p> 
     </div>
    </div> 
    <div class="cliparam">
     <a name="EN-US_CLIREF_0000001942845325__1.3.3"></a>
     <a name="1.3.3"></a>
     <h2 class="sectiontitle">Parameters</h2> 
     <div class="cliparambody"> 
      <div class="tableBorder">
       <table cellpadding="4" cellspacing="0" summary=""> 
        <tbody>
         <tr> 
          <th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th> 
          <th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th> 
          <th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">StaticGrp</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies a static group address.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>inc-step-mask</span></strong></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Indicates the step mask of a group address in batch configuration mode.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>-</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">IncStepGrpMask</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies the step mask of a group address in batch configuration mode, that is, the distance between two group addresses.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>The value is in the wildcard mask format, and ranges from 0.0.0.1 to 15.255.254.255, in dotted decimal notation.</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">IncStepGrpMaskLen</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies the length of the step mask in batch configuration mode.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 5 to 32.</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>number</span></strong> <i><span class="varname">TotalNum</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies the number of group addresses in batch configuration mode.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 2 to 512.</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>source</span></strong> <i><span class="varname">SourceAddr</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies a multicast source address.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>dot1q</span></strong></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Statically adds a sub-interface for dot1q VLAN tag termination to a multicast group.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>-</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>vid</span></strong></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies a VLAN ID.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>-</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">lowVidValue</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies the lower limit of the VLAN ID.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p></p><p>For the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ:The value is an integer ranging from 1 to 4094.</p> <p>For the CE6885-LL (low latency mode):The value is an integer ranging from 1 to 1023.</p> <p></p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>all</span></strong></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Indicates all multicast groups that an interface statically joins.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>-</p> </td> 
         </tr> 
        </tbody>
       </table>
      </div> 
     </div>
    </div> 
    <div class="cliview">
     <a name="EN-US_CLIREF_0000001942845325__1.3.4"></a>
     <a name="1.3.4"></a>
     <h2 class="sectiontitle">Views</h2> 
     <div class="cliviewbody"> 
      <p>100ge sub-interface view,10GE sub-interface view,200GE sub-interface view,25GE sub-interface view,400GE sub-interface view,50GE sub-interface view,Eth-Trunk sub-interface view</p> 
     </div>
    </div> 
    <div class="clidefaultlevel">
     <a name="EN-US_CLIREF_0000001942845325__1.3.5"></a>
     <a name="1.3.5"></a>
     <h2 class="sectiontitle">Default Level</h2> 
     <div class="clidefaultlevelbody"> 
      <p>2: Configuration level</p> 
     </div>
    </div> 
    <div class="clidesc">
     <a name="EN-US_CLIREF_0000001942845325__1.3.6"></a>
     <a name="1.3.6"></a>
     <h2 class="sectiontitle">Usage Guidelines</h2> 
     <div class="clidescbody"> 
      <p><strong>Usage Scenario</strong></p> 
      <p>If a user needs to receive data of a multicast group for a long time, that is, there are stable multicast group members on the user network segment, you can configure an interface to statically join the multicast group. In this manner, the interface can quickly respond to user requests and shorten the channel switching time.</p>
      <p></p> 
      <span>If users need to receive data sent from a multicast</span> source to a specified multicast group for a long time, specify source SourceAddr in the command to specify a multicast source address.
      <p></p> 
      <span>This command is configured on the interface connected</span> to the user host. An interface can be statically added to a single multicast group or source-specific multicast groups, or statically added to multicast groups or source-specific multicast groups in batches.
      <p></p> 
      <span>If users on a sub-interface for dot1q VLAN tag termination</span> need to join one or more multicast groups for a long time, you can run the 
      <b><span class="cmdname">igmp static-group</span></b> command to configure the sub-interface to statically join multicast groups.
      <p></p> 
      <p><strong>Configuration Impact</strong></p> 
      <p>After the <b><span class="cmdname">igmp static-group</span></b> command is run on an interface, static IGMP group records on the interface never time out. The device considers that the interface is always connected to group member hosts and continuously forwards eligible multicast packets to the network segment where the interface resides.</p>
      <p></p> 
      <span>If dot1q is not specified in the</span> 
      <b><span class="cmdname">igmp static-group</span></b> command and multicast groups are configured in batches for the first time, you only need to change the value of TotalNum and do not change the values of StaticGrp and IncStepGrpMask | IncStepGrpMaskLen when configuring multicast groups in batches again. The new configuration overrides the previous one.
      <p></p> 
      <span>You can run the</span> 
      <b><span class="cmdname">igmp static-group StaticGrp inc-step-mask number TotalNum</span></b> command to configure an interface to statically join multicast groups in batches. The format of the IncStepGrpMaskLen parameter converted to IncStepGrpMask is IncStepGrpMask = 1&lt;&lt; (32-IncStepGrpMaskLen). The symbol &lt;&lt; is a left shift operator, that is, all binary bits of an integer are moved leftwards by a specified number of bits. Extra binary bits that are moved beyond the left boundary are discarded and 0s are moved from the right boundary. For example, 1&lt;&lt;0 indicates 0.0.0.1, 1&lt;&lt;1 indicates 0.0.0.2, and 1&lt;&lt;3 indicates 0.0.0.4. If IncStepGrpMaskLen is used to configure the incremental masks of group addresses, the format of the displayed incremental masks of group addresses is converted to IncStepGrpMask when you run the 
      <b><span class="cmdname">display current-configuration</span></b> command to view related configurations.
      <p></p> 
      <span>If dot1q is specified in the</span> 
      <b><span class="cmdname">igmp static-group</span></b> command and multicast groups are configured in batches for the first time, if you change the value of group-number when configuring multicast groups in batches for the second time, the values of StaticGrp and IncStepGrpMask | IncStepGrpMaskLen remain unchanged. If the tag information configured in the command is different from that configured in the first time, the two configurations are independent of each other. The second configuration does not overwrite the previous batch multicast static group configuration. If the tag information configured in the second configuration is the same as that configured in the first configuration, the previous batch multicast static group configuration is overwritten.
      <p></p> 
      <span>When configuring a sub-interface for dot1q VLAN tag</span> termination to statically join a multicast group, pay attention to the following points:
      <p></p> 
      <ul>
       <li>Tagged static multicast groups can be configured only on sub-interfaces for dot1q VLAN tag termination.</li>
       <li>The dot1q keyword can be specified only on the sub-interface for dot1q VLAN tag termination.</li>
       <li>The dot1q keyword must be specified for the interface.</li>
       <li>The specified VLAN ID range must be the same as that specified in the dot1q termination vid command. If they are inconsistent, the configuration of the non-intersection part is invalid.</li>
      </ul> 
     </div>
    </div> 
    <div class="cliexample">
     <a name="EN-US_CLIREF_0000001942845325__1.3.7"></a>
     <a name="1.3.7"></a>
     <h2 class="sectiontitle">Example</h2> 
     <div class="cliexamplebody"> 
      <div class="p">
       # Configuring sub-interface for Dot1Q termination to statically join multicast groups.
       <pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" face="Courier New">~</font></span><span class="keyword">HUAWEI</span>] <strong>multicast routing-enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface Eth-Trunk 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-Eth-Trunk1] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-Eth-Trunk1] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface Eth-Trunk 1.1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-Eth-Trunk1.1] <strong>dot1q termination vid 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-Eth-Trunk1.1] <strong>igmp static-group 225.0.0.1 inc-step-mask 0.0.0.1 number 17 dot1q vid 1</strong>
</pre> 
      </div> 
     </div>
    </div> 
   </div> 
  </div> 
  <div class="footerNavBar clearfix"> 
   <div class="parentlink">
     Parent Topic: 
    <a href="../v3r23c00/dc_IGMP_Configuration_Commands_title.html">IGMP Configuration Commands </a> 
   </div> 
   <div class="copyrightBottomBar">
     Copyright ? Huawei Technologies Co., Ltd.
   </div> 
   <div class="copyrightBottomBar_responsive">
     Copyright ? Huawei Technologies Co., Ltd.
   </div> 
   <div class="bottomNavBtn clearfix"> 
    <a href="../v3r23c00/IGMP-STATIC-GROUP(DGMPOM).html"><span class="font-st">&lt; </span>Previous topic</a> 
    <a href="../v3r23c00/IGMP-INTERFACE-VIEW-CMD_6(DGMPOM).html">Next topic<span class="font-st"> &gt;</span></a> 
   </div> 
  </div>  
 </body>
</html>