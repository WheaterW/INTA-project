
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="igmp snooping router-aging-time">
<meta name="DC.subject" content="igmp snooping router-aging-time">
<meta name="keywords" content="igmp snooping router-aging-time">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Layer_2_Multicast_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IGMP-SNOOPING-INST-ENABLE-BD-DC_6(L2MCOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IGMP-SNOOPING-INST-ENABLE-BD-DC_8(L2MCOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IGMP Snooping">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="IGMP Snooping">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IGMP Snooping">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Creator" content="SUBSYS_ID_L2MCOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907606448">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>igmp snooping router-aging-time</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907606448"></a><a name="EN-US_CLIREF_0000001907606448"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">igmp snooping router-aging-time</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907606448__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">igmp snooping router-aging-time</span></b> command sets the aging time for a dynamic router port. The port updates the remaining time to the configured value if the remaining time of the aging timer is shorter than the value, no matter the port receives PIM Hello messages or IGMP Query messages.</p>
<p>The <b><span class="cmdname">undo igmp snooping router-aging-time</span></b> command restores the default configuration.</p>
</p>
<p>By default, the aging time of a dynamic router port is 180s or equals the holdtime value contained in a Protocol Independent Multicast (PIM) Hello packet.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907606448__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">igmp snooping router-aging-time </span></b><i><span class="varname">routerAgingTimeValue</span></i></p>

<p><b><span class="cmdname">undo igmp snooping router-aging-time</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907606448__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">routerAgingTimeValue</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the aging time of a dynamic router port.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value ranges from 1 to 1000, expressed in seconds.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907606448__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>VLAN range view,</span><span>VLAN view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907606448__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907606448__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>Network congestion may delay the transmission of a Query message from an IGMP Querier to a device. If a router port does not receive any IGMP Query message with source IP addresses other than 0.0.0.0 or PIM Hello packet within the aging time, it becomes a non-router port. If a dynamic router port ages before the Query message reaches a device, the device no longer sends Report or Leave messages upstream from this interface. This may lead to interruption of multicast data transmission. Therefore, if a network is instable, a larger aging time value is recommended for a dynamic router port. The device resets the aging time of a dynamic router port when the port receives an IGMP Query or PIM Hello message.</p>
<p><strong>Configuration Impact</strong></p>
<p>The aging time of the router port is set to the value configured using the igmp-snooping router-aging-time command, if the current remaining aging time of the router port is smaller than the configured value.</p>
<p><strong>Precautions</strong></p>
<p>The igmp snooping router-aging-time command fails to be run in the VLAN view in any of the following situations:</p>

<ul><li>A Dot1q termination sub-interface has been added to the VLAN.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907606448__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the aging time of router ports in VLAN 2 to 500 seconds.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>igmp snooping enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>vlan 2</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vlan2] <strong>igmp snooping router-aging-time 500</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Layer_2_Multicast_Commands_title.html">IGMP Snooping Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/IGMP-SNOOPING-INST-ENABLE-BD-DC_6(L2MCOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/IGMP-SNOOPING-INST-ENABLE-BD-DC_8(L2MCOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>