
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ip-dscp-inbound">
<meta name="DC.subject" content="ip-dscp-inbound">
<meta name="keywords" content="ip-dscp-inbound">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-Priority_Mapping_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DISPLAY_QOS_QUEUE_STATISTICS.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IP-DSCP-OUTBOUND.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Priority Mapping">
<meta name="featuretype" content="QoS">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Priority Mapping">
<meta name="featuretype" content="QoS">
<meta name="featurename" content="Priority Mapping">
<meta name="featuretype" content="QoS">
<meta name="featuretype" content="QoS">
<meta name="featuretype" content="QoS">
<meta name="DC.Creator" content="SUBSYS_ID_QOS">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907768600">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ip-dscp-inbound</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907768600"></a><a name="EN-US_CLIREF_0000001907768600"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">ip-dscp-inbound</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907768600__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">ip-dscp-inbound</span></b> command maps the DSCP priority of incoming IP packets in a DiffServ domain to the PHB and colors the packets.</p>
<p>The <b><span class="cmdname">undo ip-dscp-inbound</span></b> command restores the default mapping.</p>
</p>
<p>For details about default mappings from the DSCP priorities to PHBs and colors of incoming IP packets in a DiffServ domain, see "Default Settings for Priority Mapping" under "Priority Mapping Configuration" in <span>Configuration Guide</span> &gt; QoS Configuration.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907768600__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">ip-dscp-inbound </span></b><i><span class="varname">dscp-value</span></i> <strong><span>phb</span></strong> <i><span class="varname">service-class</span></i> [ <i><span class="varname">color</span></i> ]</p>

<p><b><span class="cmdname">undo ip-dscp-inbound </span></b>[ <i><span class="varname">dscp-value</span></i> ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907768600__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">dscp-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the DSCP priority of IP packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 0 to 63.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>phb</span></strong> <i><span class="varname">service-class</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a PHB.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value can be BE, AF1 to AF4, EF, CS6, or CS7, each of which corresponds to queues 0 to 7 respectively.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">color</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specify the color of the message mark.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><p>The value can be:</p>
<ul><li>green</li><li>yellow</li><li>red</li></ul>
<p>The default value is green.</p>
</div>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907768600__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>DiffServ domain view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907768600__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907768600__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>To implement QoS scheduling for incoming IP packets carrying DSCP priorities, use the ip-dscp-inbound command to configure mappings from DSCP priorities of packets to PHBs and color the packets. After a DiffServ domain is bound to the inbound direction of packets, the device forwards the packets to queues based on PHBs of the packets. Congestion management is implemented. Packets are scheduled according to their colors after a discard template is configured, avoiding congestion.</p>
</p>
<p><strong>Precautions</strong></p>
<div class="p"><ul><li>The color is used to determine whether packets are discarded during congestion avoidance, and is independent of the mapping from PHBs to queues.</li><li>The priorities of packets are mapped to the corresponding PHBs and the packets are colored accordingly. If no mapping from DSCP priorities to PHBs is specified, the device uses the default mappings of the system.</li><li>If you do not specify the parameter dscp-value when running the <b><span class="cmdname">undo ip-dscp-inbound</span></b> command, all mappings from DSCP priorities to PHBs is restored.</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907768600__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># In DiffServ domain ds1, map DSCP priority 8 of the incoming IP packets to PHB AF1 and mark the packets yellow.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>diffserv domain ds1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-dsdomain-ds1] <strong>ip-dscp-inbound 8 phb af1 yellow</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-Priority_Mapping_Configuration_Commands_title.html">Priority Mapping Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DISPLAY_QOS_QUEUE_STATISTICS.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/IP-DSCP-OUTBOUND.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>