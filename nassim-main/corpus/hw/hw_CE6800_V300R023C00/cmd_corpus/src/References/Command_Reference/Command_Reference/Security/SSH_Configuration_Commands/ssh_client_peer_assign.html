
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ssh client peer assign">
<meta name="DC.subject" content="ssh client peer assign">
<meta name="keywords" content="ssh client peer assign">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_SSH_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SSH-CLIENT-KEX(SSHC).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SSHC-PUBLICKEY-SELECT(SSHC).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="SSH">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="SSH">
<meta name="featuretype" content="Security">
<meta name="featurename" content="SSH">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="DC.Creator" content="SUBSYS_ID_SSHC">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000002194450481">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ssh client peer assign</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000002194450481"></a><a name="EN-US_CLIREF_0000002194450481"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">ssh client peer assign</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000002194450481__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">ssh client peer assign</span></b> command assigns a public key configured on the SSH client to the SSH server.</p>
<p>The <b><span class="cmdname">undo ssh client peer assign</span></b> command unbinds the public key from the SSH server.</p>
</p>
<p>By default, no public key is assigned to the SSH server.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000002194450481__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">


<p><b><span class="cmdname">ssh client peer </span></b><i><span class="varname">server-name</span></i> <strong><span>assign</span></strong> { <strong><span>rsa-key</span></strong> | <strong><span>ecc-key</span></strong> | <strong><span>dsa-key</span></strong> | <strong><span>sm2-key</span></strong> } <i><span class="varname">key-name</span></i></p>



<p><b><span class="cmdname">undo ssh client peer </span></b><i><span class="varname">server-name</span></i> <strong><span>assign</span></strong> { <strong><span>rsa-key</span></strong> | <strong><span>ecc-key</span></strong> | <strong><span>dsa-key</span></strong> | <strong><span>sm2-key</span></strong> }</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000002194450481__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">server-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of an SSH server.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 255 case-sensitive characters, spaces not supported. The string can contain only letters, digits, and underscores (_).</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>rsa-key</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the RSA public key.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ecc-key</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the ECC public key.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>dsa-key</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the DSA public key.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>sm2-key</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the SM2 public key.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>


<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">key-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of public key assigned to an SSH server.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 40 case-insensitive characters, spaces not supported.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000002194450481__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000002194450481__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000002194450481__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><ul><li>When the device functions as an SSH client and key authentication is used, you can run this command to assign a public key to the SSH server.</li><li>When the device functions as an STelnet client to connect to another server, the system asks you whether to save the public key of the peer server. If you enter Y, the corresponding configuration information is added.</li><li>If the <b><span class="cmdname">ssh client first-time enable</span></b> command is not run to enable the SSH client to log in to the SSH server for the first time, the STelnet client fails to log in to the SSH server because the validity check on the public key of the SSH server fails.</li><li>If the SSH server public key saved on the SSH client becomes invalid, run the <b><span class="cmdname">undo ssh client peer assign</span></b> command to unbind the SSH server from the specified public key, and then run the <b><span class="cmdname">ssh client peer assign</span></b> command to assign a new public key to the SSH server.</li><li>You can run the <b><span class="cmdname">display ssh server-info</span></b> command to view the binding information about the SSH client.</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000002194450481__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">


<div class="p"># Assign an RSA key named key01 to the SSH server.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ssh client peer 10.1.1.1 assign rsa-key key01</strong>
</pre>
</div>

<div class="p"># Assign the SM2 public key named sm2key001 to the SSH server at 10.1.1.1.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>sm2 peer-public-key sm2key001</strong>
Enter "SM2 public key" view, return system view with "peer-public-key end".
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-sm2-public-key] <strong>public-key-code begin</strong>
Enter "SM2 public key" view, return system view with "peer-public-key end".
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-sm2-public-key-sm2-key-code] <strong>0474F110 F90F131B B6F6D929 9A23A41E F1AB1666</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-sm2-public-key-sm2-key-code] <strong>AC4BE4EE EF2CD876 2B633F80 DD5CF42F 147A722F</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-sm2-public-key-sm2-key-code] <strong>DE527F39 247F3744 C23296BE FE3BE502 EEF7D9EC</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-sm2-public-key-sm2-key-code] <strong>BC28A576 7E</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-sm2-public-key-sm2-key-code] <strong>public-key-code end</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-sm2-public-key] <strong>peer-public-key end</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>ssh client peer 10.1.1.1 assign sm2-key sm2key001</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_SSH_Configuration_Commands_title.html">SSH Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/SSH-CLIENT-KEX(SSHC).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SSHC-PUBLICKEY-SELECT(SSHC).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>