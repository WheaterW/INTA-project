
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="smart-link flush receive control-vlan">
<meta name="DC.subject" content="smart-link flush receive control-vlan">
<meta name="keywords" content="smart-link flush receive control-vlan">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Smart_Link_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SMLKGRPENABLE(SMLKOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SMLKGRPCREATE(SMLKOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Smart Link">
<meta name="featuretype" content="High Availability">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Smart Link">
<meta name="featuretype" content="High Availability">
<meta name="featurename" content="Smart Link">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="DC.Creator" content="SUBSYS_ID_SMLKOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942846705">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>smart-link flush receive control-vlan</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942846705"></a><a name="EN-US_CLIREF_0000001942846705"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">smart-link flush receive control-vlan</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942846705__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">smart-link flush receive control-vlan</span></b> command enables a device to receive Flush packets and specifies the control VLAN ID and password for receiving Flush packets.</p>
<p>The <b><span class="cmdname">undo smart-link flush receive</span></b> command disables a device from receiving Flush packets.</p>
</p>
<p>By default, an interface is disabled from receiving Flush packets.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6820H, CE6820H-K and CE6820S.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942846705__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">smart-link flush receive control-vlan </span></b><i><span class="varname">vlan-id</span></i> [ <strong><span>password</span></strong> { <strong><span>sha</span></strong> | <strong><span>simple</span></strong> | <strong><span>hmac-sha256</span></strong> } <i><span class="varname">password</span></i> ]</p>

<p><b><span class="cmdname">undo smart-link flush receive</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942846705__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">vlan-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the control VLAN ID of Smart Link Flush packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 4094.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>password</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the encryption mode of the password in Flush packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">password</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a password carried in Flush packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><p>The value is a string of 1 to 16 case-sensitive characters or a string of 24, 32, or 48 case-sensitive characters.</p>
<ul><li>If the password is a simple password, the value is a string of 1 to 16 characters.</li><li>If the password is encrypted using SHA or HMAC SHA256, the value is a string of 48 characters.</li><li>If the source version supports a ciphertext password of 24 or 32 characters, the target version is automatically compatible with the ciphertext password.</li></ul>
</div>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>sha</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the password of Flush packets is in SHA encryption mode.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>simple</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the password of Flush packets is in simple text.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>hmac-sha256</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the password of Flush packets is in HMAC-SHA256 encryption mode.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942846705__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>Layer 2 100GE interface view,</span><span>Layer 2 10GE interface view,</span><span>Layer 2 200GE interface view,</span><span>25GE-L2 view,</span><span>400GE-L2 view,</span><span>Layer 2 50GE interface view,</span><span>Layer 2 Eth-Trunk interface view,</span><span>Layer 2 GE interface view,</span><span>Interface group view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942846705__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942846705__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<ul><li>When a link switchover occurs in a Smart Link group, the existing forwarding entries no longer apply to the new topology. Therefore, the MAC address entries and ARP entries on the entire network need to be updated. The Smart Link group sends Flush packets to notify upstream devices of the topology change. Upstream devices can update their MAC address entries and ARP entries only if they are enabled to receive Flush packets. If a device rejects Flush packets, it cannot forward packets correctly after a link failover occurs in the Smart Link group.</li></ul>
<p><strong>Prerequisites</strong></p>
<p>A Smart Link group on a downstream device has been enabled to send Flush packet using the <b><span class="cmdname">flush send</span></b> command.</p>
<p><strong>Precautions</strong></p>
<ul><li>After you run this command to configure the encryption mode and password, the original encryption mode and password are deleted. If the control VLAN ID is changed, the password must be reconfigured.</li><li>If a password is encrypted in SHA or HMAC SHA256 mode, the password cannot be restored after being configured. If you forget the password, you need to reconfigure it.</li><li>This command does not add an interface to the control VLAN. You need to configure the interface to allow packets of the control VLAN to pass through. Flush packets can be received only when the control VLAN ID and password in the Flush packet are the same as the configured control VLAN ID and password. The Flush packets that do not meet the requirements are discarded.</li><li>The format of Flush packets varies according to device manufacturers. Therefore, Flush packets are used only for communication between Huawei switching devices.</li><li>If you do not specify a password for receiving Flush packets or specify a simple password for receiving Flush packets, security problems may occur.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942846705__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure <span>100GE</span><span>1/0/1</span> to receive Flush packets with control VLAN ID 100 and password YsHsjx_202206.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>smart-link flush receive control-vlan 100 password sha YsHsjx_202206</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Smart_Link_Configuration_Commands_title.html">Smart Link Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/SMLKGRPENABLE(SMLKOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SMLKGRPCREATE(SMLKOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>