
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="peer attribute-id (BGP-EVPN address family view) (IPv6)">
<meta name="DC.subject" content="peer attribute-id (BGP-EVPN address family view) (IPv6)">
<meta name="keywords" content="peer attribute-id (BGP-EVPN address family view) (IPv6)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_VXLAN_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/PEER-EVPN-TREAT-PATH-ATTR(BGPEVPNOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/BGP-PEER-ADD-PATH-CAPABILITY(BGPEVPNOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="DC.Creator" content="SUBSYS_ID_BGPEVPNOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942846237">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>peer attribute-id (BGP-EVPN address family view) (IPv6)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942846237"></a><a name="EN-US_CLIREF_0000001942846237"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">peer attribute-id (BGP-EVPN address family view) (IPv6)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942846237__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">peer attribute-id</span></b> command configures the mode of processing a specified path attribute or an incorrect path attribute.</p>
<p>The <b><span class="cmdname">undo peer attribute-id</span></b> command restores the default setting.</p>
</p>
<p>By default, BGP path attributes are processed according to a standard protocol.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942846237__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">peer </span></b><i><span class="varname">peerIpv6Addr</span></i> <strong><span>path-attribute-treat</span></strong> <strong><span>attribute-id</span></strong> { <i><span class="varname">id</span></i> [ <strong><span>to</span></strong> <i><span class="varname">id2</span></i> ] } &amp;&lt;1-255&gt; { <strong><span>discard</span></strong> | <strong><span>withdraw</span></strong> | <strong><span>treat-as-unknown</span></strong> }</p>

<p><b><span class="cmdname">peer </span></b><i><span class="varname">peerIpv6Addr</span></i> <strong><span>treat-with-error</span></strong> <strong><span>attribute-id</span></strong> <i><span class="varname">id</span></i> <strong><span>accept-zero-value</span></strong></p>

<p><b><span class="cmdname">undo peer </span></b><i><span class="varname">peerIpv6Addr</span></i> <strong><span>path-attribute-treat</span></strong> <strong><span>attribute-id</span></strong> { <i><span class="varname">id</span></i> [ <strong><span>to</span></strong> <i><span class="varname">id2</span></i> ] } &amp;&lt;1-255&gt; [ <strong><span>discard</span></strong> | <strong><span>withdraw</span></strong> | <strong><span>treat-as-unknown</span></strong> ]</p>

<p><b><span class="cmdname">undo peer </span></b><i><span class="varname">peerIpv6Addr</span></i> <strong><span>treat-with-error</span></strong> <strong><span>attribute-id</span></strong> <i><span class="varname">id</span></i> [ <strong><span>accept-zero-value</span></strong> ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942846237__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">peerIpv6Addr</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an IPv6 peer address.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a 32-digit hexadecimal number, in the format of X:X:X:X:X:X:X:X.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>path-attribute-treat</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Processes path attribute packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>attribute-id</span></strong> <i><span class="varname">id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an attribute ID.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is an integer, which can be as follows:</p>
<p>0: Reserved</p>
<p>5: LOCAL_PREF</p>
<p>6: ATOMIC_AGGREGATE</p>
<p>7: AGGREGATOR</p>
<p>9: ORIGINATORID</p>
<p>10: CLUSTER_LIST</p>
<p>11: DPA</p>
<p>12: ADVERTISER</p>
<p>13: RCID_PATH / CLUSTER_ID</p>
<p>16: Extended Communities</p>
<p>17: AS4_PATH</p>
<p>18: AS4_AGGREGATOR</p>
<p>19: SAFI Specific Attribute (SSA)</p>
<p>20: Connector Attribute</p>
<p>21: AS_PATHLIMIT</p>
<p>22: PMSI_TUNNEL</p>
<p>23: Tunnel Encapsulation Attribute</p>
<p>24: Traffic Engineering</p>
<p>25: IPv6 Address Specific Extended Community</p>
<p>26: AIGP</p>
<p>27: PE Distinguisher Labels</p>
<p>28: ELC</p>
<p>29: LS_TYPE</p>
<p>30: REMOTE_NEXTHOP</p>
<p>32: LARGE_COMMUNITY</p>
<p>40: PREFIX_SID</p>
<p>128: ATTR_SET</p>
<p>129: WIDE_COMMUNITY</p>
<p>255: Reserved for development</p>
<p>31, 33-39, 41-127, 130-254: Unassigned</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>to</span></strong> <i><span class="varname">id2</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an end attribute ID.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is an integer, which can be as follows:</p>
<p>0: Reserved</p>
<p>5: LOCAL_PREF</p>
<p>6: ATOMIC_AGGREGATE</p>
<p>7: AGGREGATOR</p>
<p>9: ORIGINATORID</p>
<p>10: CLUSTER_LIST</p>
<p>11: DPA</p>
<p>12: ADVERTISER</p>
<p>13: RCID_PATH / CLUSTER_ID</p>
<p>16: Extended Communities</p>
<p>17: AS4_PATH</p>
<p>18: AS4_AGGREGATOR</p>
<p>19: SAFI Specific Attribute (SSA)</p>
<p>20: Connector Attribute</p>
<p>21: AS_PATHLIMIT</p>
<p>22: PMSI_TUNNEL</p>
<p>23: Tunnel Encapsulation Attribute</p>
<p>24: Traffic Engineering</p>
<p>25: IPv6 Address Specific Extended Community</p>
<p>26: AIGP</p>
<p>27: PE Distinguisher Labels</p>
<p>28: ELC</p>
<p>29: LS_TYPE</p>
<p>30: REMOTE_NEXTHOP</p>
<p>32: LARGE_COMMUNITY</p>
<p>40: PREFIX_SID</p>
<p>128: ATTR_SET</p>
<p>129: WIDE_COMMUNITY</p>
<p>255: Reserved for development</p>
<p>31, 33-39, 41-127, 130-254: Unassigned</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>discard</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Discards messages carrying specified attributes.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>withdraw</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Withdraws the routes with the specified attribute.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>treat-as-unknown</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Processes the specified attributes as unknown attributes. If a specified attribute is optional transitive, the BGP device accepts this attribute and advertises it to other peers; if the specified attribute is of any other type, the BGP device discards this attribute.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>treat-with-error</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Processes packets with incorrect path attributes.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>accept-zero-value</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates to accept the path attributes with a value of 0.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942846237__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>BGP-EVPN address family view,</span><span>bgp-muli-instance-af-evpn view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942846237__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942846237__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>BGP Update messages contain various path attributes. If the local device receives any Update message with an incorrect format, BGP session flapping may occur. To enhance reliability, you can run this command to configure a processing mode for specified BGP path attributes.<p></p>
<span>The path-attribute-treat command is used to specify</span> a processing mode for path attributes. The processing modes are as follows:</p>

<ul><li>discard: discarding messages carrying specified attributes.</li><li>withdraw: withdrawing routes with specified attributes.</li><li>treat-as-unknown: Processing specified attributes as unknown attributes</li></ul>

<p>treat-with-error is used to specify the processing mode of incorrect path attributes. The processing mode is as follows:</p>

<ul><li>accept-zero-value: accepting the path attribute with the value of 0.</li></ul>
<p><strong>Precautions</strong></p>
<p>Running this command may cause path attributes to be discarded or routes to be withdrawn. Therefore, exercise caution when running this command.<p></p>
<span>This function takes effect immediately for the routes</span> received after this command is executed. However, it does not take effect immediately for the routes received before this command is run; to make it take effect immediately, you need to run the <b><span class="cmdname">refresh bgp</span></b> command.<p></p>
<span>Currently</span>, attribute-id id in the <b><span class="cmdname">treat-with-error</span></b> command supports only the Originator_ID attribute.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942846237__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure a mode in which a device processes specified path attributes in received BGP Update messages.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>bgp 100</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp] <strong>peer 2001:db8:1::1 as-number 100</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp] <strong>l2vpn-family evpn</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp-af-evpn] <strong>peer 2001:db8:1::1 enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp-af-evpn] <strong>peer 2001:db8:1::1 path-attribute-treat attribute-id 19 to 21 discard</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_VXLAN_Configuration_Commands_title.html">VXLAN Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/PEER-EVPN-TREAT-PATH-ATTR(BGPEVPNOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/BGP-PEER-ADD-PATH-CAPABILITY(BGPEVPNOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>