
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="authentication mode">
<meta name="DC.subject" content="authentication mode">
<meta name="keywords" content="authentication mode">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-NAC_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/AUTHENTICATION_IP-CONFLICT-CHECK_ENABLE.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/AUTHENTICATION_NO-IP-CHECK.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="NAC">
<meta name="featuretype" content="User Access and Authentication">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="NAC">
<meta name="featuretype" content="User Access and Authentication">
<meta name="featurename" content="NAC">
<meta name="featuretype" content="User Access and Authentication">
<meta name="featuretype" content="User Access and Authentication">
<meta name="featuretype" content="User Access and Authentication">
<meta name="DC.Creator" content="SUBSYS_ID_ESAP_CFGMGR">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907607808">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>authentication mode</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907607808"></a><a name="EN-US_CLIREF_0000001907607808"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">authentication mode</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907607808__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">authentication mode</span></b> command configures the user access mode.</p>
<p>The <b><span class="cmdname">undo authentication mode</span></b> command restores the default setting.</p>
</p>
<p>By default, the user access mode is multi-authen.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6820H, CE6820H-K and CE6820S.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907607808__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">

<p><b><span class="cmdname">authentication mode </span></b>{ <strong><span>single-terminal</span></strong> | <strong><span>multi-share</span></strong> | <strong><span>multi-authen</span></strong> [ <strong><span>max-user</span></strong> <i><span class="varname">max-user-number</span></i> [ <strong><span>dot1x</span></strong> | <strong><span>none</span></strong> ] <sup>*</sup> ] }</p>



<p><b><span class="cmdname">undo authentication mode </span></b>[ <strong><span>multi-authen</span></strong> <strong><span>max-user</span></strong> [ <strong><span>dot1x</span></strong> | <strong><span>none</span></strong> ] <sup>*</sup> ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907607808__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>single-terminal</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that an authentication profile allows only one user to go online.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>


<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>multi-share</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that an authentication profile allows multiple users to go online.</p>
<p>In this mode, the device authenticates only the first user. If the authentication succeeds, subsequent users share the network access rights of the first user. If the first user goes offline, other users also go offline.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>multi-authen</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that an authentication profile allows multiple users to go online.</p>
<p>In this mode, the device authenticates each user. If the authentication succeeds, the device grants independent network access rights to the user. After a user goes offline, other users are not affected.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>max-user</span></strong> <i><span class="varname">max-user-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the maximum number of access users allowed in an authentication profile in multi-authen mode.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is an integer that ranges from 1 to 4096. The default value is 4096.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>dot1x</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the maximum number of 802.1X authentication users allowed in an authentication profile in multi-authen mode.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>


<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>none</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the maximum number of pre-connection users allowed in an authentication profile in multi-authen mode.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907607808__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>Authentication profile view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907607808__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907607808__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><p>After enabling NAC authentication, you can configure a user access mode based on the user access on the interface. The user access modes include:</p>

<ul><li>single-terminal: applies to the scenario in which only one data terminal is connected to the network through the interface.</li><li>multi-share: applies to the scenario that does not require high security and in which multiple data terminals are connected to the network on the device interface.</li><li>multi-authen: applies to the scenario that requires high security and in which multiple data terminals are connected to the network on the device interface. In this access mode, you can configure the maximum number of access users based on the actual user quantity on the interface. This prevents malicious users from occupying a large amount of device resources and ensures that the users on other device interfaces can normally go online.</li></ul>
</div>
<p><strong>Precautions</strong></p>
<div class="p"><ul><li>VLANIF interfaces do not support this function.</li><li>The <b><span class="cmdname">authentication mode multi-authen max-user max-user-number</span></b> command only indicates the maximum number of access users allowed on the interface in multi-authen mode, not the access mode of the specified interface. To set the access mode of the interface access to multi-authen, run the <b><span class="cmdname">authentication mode multi-authen</span></b> command.</li><li>If the multi-share mode is configured on a physical interface and the first access user fails to be authenticated and a pre-connection is established, subsequent access users cannot be authenticated. Therefore, the following operations are recommended if the first access user may fail to be authenticated after the multi-share mode is configured on a physical interface.<p></p>
<span>You are advised to disable the pre-connection function</span> (using the <b><span class="cmdname">undo authentication pre-authen-access enable</span></b> command) when 802.1X or MAC address authentication is used.</li><li>When the authentication mode is set to multi-share in the authentication profile, to authorize a VLAN, set the interface type to hybrid or trunk. If the authentication mode in the authentication profile is set to other modes and VLANs need to be authorized, set the interface type to hybrid.</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907607808__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># In the authentication profile p1, set the user access mode to multi-authen.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>authentication-profile name p1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-authen-profile-p1] <strong>authentication mode multi-authen</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-NAC_Configuration_Commands_title.html">NAC Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/AUTHENTICATION_IP-CONFLICT-CHECK_ENABLE.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/AUTHENTICATION_NO-IP-CHECK.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>