
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ntp kod-enable">
<meta name="DC.subject" content="ntp kod-enable">
<meta name="keywords" content="ntp kod-enable">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_NTP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IPV6-IN-INTERFACE-DISABLE(NTPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/MANYCAST-CLIENT-SERVER_1(NTPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="NTP">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="NTP">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="NTP">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Creator" content="SUBSYS_ID_NTPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000002159122548">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ntp kod-enable</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000002159122548"></a><a name="EN-US_CLIREF_0000002159122548"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1"><span>ntp kod-enable</span></h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000002159122548__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">ntp kod-enable</span></b> command enables a device to send kiss codes on appropriate conditions.</p>
<p>The <b><span class="cmdname">undo ntp kod-enable</span></b> command disables a device from sending kiss codes.</p>
</p>
<p>By default, KoD is not enabled.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000002159122548__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">

<p><b><span class="cmdname">ntp kod-enable</span></b></p>


<p><b><span class="cmdname">undo ntp kod-enable</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000002159122548__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
None
</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000002159122548__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000002159122548__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000002159122548__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>The <b><span class="cmdname">ntp kod-enable</span></b> command is used on the server. In specific scenarios, the server sends kiss codes RATE and DENY to the client.<p></p>
<span>Scenario where the server sends the DENY code to the</span> client:<p></p>
<span>If the NTP ACL access control level is set to peer</span>, server, synchronization, or query on the server and the source IP address of NTP packets received by the server matches the ACL deny rule or does not match any rule, the server sends the DENY code to the client. After the client receives the DENY code, all NTP sessions with the server should be disconnected and NTP request packets should be stopped.<p></p>
<span>Scenario where the server sends the RATE code to the</span> client:<p></p>
<span>If the NTP ACL access control level is set to limited</span> on the server, the source IP address of the NTP packets received by the server matches the ACL permit rule, and the polling interval for the client to send NTP packets is less than the minimum interval for sending packets set on the server, the server sends the RATE code to the client. After receiving the RATE code, the client should reduce the polling interval for sending NTP request packets to the server. Each time the client receives the RATE code, it reduces the polling interval for sending NTP request packets by 1.<p></p>
<span>You can run the</span> <b><span class="cmdname">ntp discard</span></b> command to set the minimum inter-packet interval and average inter-packet interval of NTP.<p></p>
</p>
</p>
<p><strong>Precautions</strong></p>
<p><p>This command is valid only in version 4.<p></p>
<span>If this command is the first NTP configuration command</span>, the system automatically adds the ntp [ ipv6 ] server disable command to the configuration file to disable the NTP server function. To enable the NTP server function, run the undo ntp [ ipv6 ] server disable command. If this command is the last NTP configuration command to be deleted, the system automatically deletes the ntp [ ipv6 ] server disable command from the configuration file when you delete this command.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000002159122548__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable KoD for sending kiss codes.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ntp kod-enable</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_NTP_Configuration_Commands_title.html">NTP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/IPV6-IN-INTERFACE-DISABLE(NTPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/MANYCAST-CLIENT-SERVER_1(NTPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>