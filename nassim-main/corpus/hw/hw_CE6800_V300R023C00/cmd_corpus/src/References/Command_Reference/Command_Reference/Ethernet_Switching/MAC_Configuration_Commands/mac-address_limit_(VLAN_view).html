
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="mac-address limit (VLAN view)">
<meta name="DC.subject" content="mac-address limit (VLAN view)">
<meta name="keywords" content="mac-address limit (VLAN view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_MAC_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SETSUBIFTMACLIMIT_3(MACOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/MAC-ADDRESS_NOTIFICATION.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="MAC">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="MAC">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featurename" content="MAC">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Creator" content="SUBSYS_ID_MACOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942840877">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>mac-address limit (VLAN view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942840877"></a><a name="EN-US_CLIREF_0000001942840877"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">mac-address limit (VLAN view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942840877__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">mac-address limit</span></b> command configures a MAC address learning limit rule for a VLAN to set the maximum number of MAC addresses that can be learned in the VLAN.</p>
<p>The <b><span class="cmdname">undo mac-address limit</span></b> command deletes a MAC address learning limit rule applied to a VLAN.</p>
</p>
<p>By default, no MAC address learning limit rule is configured for a VLAN.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942840877__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">

<p><b><span class="cmdname">undo mac-address limit</span></b></p>


<p><b><span class="cmdname">mac-address limit </span></b>{ <strong><span>maximum</span></strong> <i><span class="varname">max</span></i> | <strong><span>action</span></strong> { <strong><span>discard</span></strong> | <strong><span>forward</span></strong> } | <strong><span>alarm</span></strong> { <strong><span>enable</span></strong> | <strong><span>disable</span></strong> } } <sup>*</sup></p>



</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942840877__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>maximum</span></strong> <i><span class="varname">max</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the maximum number of MAC address entries that can be learned.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p><p>The value is an integer ranging from 0 to 130048.</p>
<p>When the value is 0, the number of MAC addresses that can be learned is not set.</p>
</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>action</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an action to be taken when the number of MAC address entries in the MAC address table reaches the limit.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>discard</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>The packet with the source MAC address not contained in the MAC address table is discarded.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>forward</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>The packet with the source MAC address not contained in the MAC address table is forwarded but its MAC address is not recorded.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>alarm</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies whether an alarm is generated when the number of the MAC address entries in the MAC address table reaches the limit.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>enable</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the system generates an alarm when the number of MAC address entries reaches the limit.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>disable</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the system does not send an alarm when the number of MAC address entries reaches the limit.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942840877__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>VLAN range view,</span><span>VLAN view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942840877__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942840877__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>To control the number of users and protect a MAC address table against attacks, you can limit the number of MAC addresses that a device can learn. You can also configure the system to discard packets to improve network security.<p></p>
<span>Configuring a VLAN-based MAC address learning limit</span> rule can control the number of users in a VLAN. When the number of learned MAC addresses in the VLAN reaches the limit, no new MAC addresses will be learned. You can also configure the system to discard packets or generate an alarm to improve network security.</p>
<p><strong>Precautions</strong></p>
<p><p>Before configuring a MAC address learning limit rule, run the <b><span class="cmdname">reset mac-address</span></b> command to clear the learned MAC addresses to ensure that the number of MAC addresses that can be learned is limited accurately.<p></p>
<span>Trustworthy MAC addresses may not be recorded after</span> the number of learned MAC addresses reaches the limit. If an enterprise or a family is attacked by different source MAC addresses, only the network of the enterprise or family, not the whole network is affected.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942840877__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure a MAC address learning limit rule in VLAN 2: a maximum of 1000 MAC addresses can be learned, when the number of learned MAC addresses reaches the limit, the packet with the destination MAC address not contained in the MAC address table is forwarded.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>vlan 2</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vlan2] <strong>mac-address limit action forward alarm enable maximum 1000</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_MAC_Configuration_Commands_title.html">MAC Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/SETSUBIFTMACLIMIT_3(MACOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/MAC-ADDRESS_NOTIFICATION.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>