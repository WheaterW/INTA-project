
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="process-interface-status">
<meta name="DC.subject" content="process-interface-status">
<meta name="keywords" content="process-interface-status">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_BFD_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/OAM-MGR(OAMMGROM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/PISREBOOTNOIMPACT(BFDOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="BFD">
<meta name="featuretype" content="High Availability">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="BFD">
<meta name="featuretype" content="High Availability">
<meta name="featurename" content="BFD">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="DC.Creator" content="SUBSYS_ID_BFDOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942846549">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>process-interface-status</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942846549"></a><a name="EN-US_CLIREF_0000001942846549"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">process-interface-status</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942846549__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">process-interface-status</span></b> command associates the status of a BFD session with the status of the interface to which the BFD session is bound.</p>
<p>The <b><span class="cmdname">undo process-interface-status</span></b> command cancels the association between the status of a BFD session and the status of the interface to which the BFD session is bound.</p>
</p>
<p>By default, the status of the multicast IP single-hop BFD session is not associated with the status of the bound interface, and the status of the link-bundle single-hop BFD session is associated with the status of the bound interface.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942846549__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">

<p><b><span class="cmdname">process-interface-status </span></b>[ <strong><span>sub-if</span></strong> ] [ <strong><span>reboot-no-impact</span></strong> ]</p>



<p><b><span class="cmdname">undo process-interface-status </span></b>[ <strong><span>sub-if</span></strong> ] [ <strong><span>reboot-no-impact</span></strong> ]</p>


</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942846549__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>sub-if</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Associates a BFD session with a sub-interface. If a BFD session is bound to an interface, the BFD session status change affects the status of this interface and its sub-interfaces.</p>
<p>This parameter applies only to multicast IP single-hop BFD sessions.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>reboot-no-impact</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the BFD session bound to an interface or sub-interface does not trigger the interface or sub-interface to go down when the initial state is Down after configuration restoration.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942846549__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>BFD session view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942846549__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942846549__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>When transmission devices exist on a link and a fault occurs on the link, the devices on both ends of the link need a long time to detect the fault. To shorten the fault detection time, run the <b><span class="cmdname">process-interface-status</span></b> command to associate a multicast BFD session with an interface to trigger fast route convergence.</p>
<p><strong>Prerequisites</strong></p>
<p><p>A multicast IP single-hop BFD session or link-bundle single-hop BFD session has been configured.</p>
</p>
<p><strong>Configuration Impact</strong></p>
<p>If the <b><span class="cmdname">process-interface-status</span></b> command is run, the following situations occur:</p>

<ul><li>If a BFD session detects a fault and goes down, the associated interface status becomes BFD_Down. As a result, the direct route of the interface is deleted from the routing table. The link layer status of the interface is not affected.</li><li>The BFD session status will not be immediately reported to the interface (the BFD session may not be established or does not go Up when the command is run). This prevents the incorrect BFD status information from being reported to the interface and in turn causing an interface status error. If the BFD session status changes, the interface is notified of the change to ensure the association between the BFD session status and the interface status.</li></ul>
<p><strong>Precautions</strong></p>
<div class="p"><ul><li>If multiple single-hop BFD sessions with a multicast IP address configured as the peer address are bound to the same interface, the <b><span class="cmdname">process-interface-status</span></b> command can be configured only for one BFD session. In other words, the interface status is affected by only one BFD session. Between link-bundle sessions and multicast sessions, and between link-bundle sessions, one interface can be bound to multiple BFD sessions enabled with the <b><span class="cmdname">process-interface-status</span></b> command. When an interface is bound to multiple BFD sessions that are associated with the interface status, the protocol status of the associated interface goes down as long as one BFD session is down. After the protocol status of the associated interface goes down, the protocol status of the associated interface goes up as long as one BFD session is up.</li><li>Before you associate the BFD status with the interface status, ensure that the BFD configurations on two devices are correct and consistent. If the local BFD session is in the Down state, check whether the BFD configuration on the peer device is correct and whether the remote BFD session is shut down.</li><li>If the BFD session status must be synchronized to the interface status immediately, ensure that the BFD configurations on the two devices are correct, and then run the shutdown and undo shutdown commands to shut down and start the BFD session. When the undo shutdown command is run in the BFD session view, a detection timer is initiated. If the BFD session goes up through negotiation before the timer expires, the BFD session notifies the bound interface of a BFD up event. Otherwise, the BFD session considers the link faulty and notifies the bound interface of a BFD down event. This way, the BFD session status is synchronized with the interface status in real time.</li><li>After the shutdown command is run, the BFD session status will not be reported to the bound interface.</li><li>If the process-interface-status [ sub-if ] command configured for a BFD session exists in the configuration file, after the device is restarted, the BFD session reports a BFD down event to the interface so that the interface sets its protocol state to Down. This prevents traffic loss when the BFD session is up but the interface is down during initialization of the device.</li><li>The <b><span class="cmdname">process-interface-status</span></b> command associates a BFD session with the protocol status of the interface bound to the BFD session.</li><li>After the <b><span class="cmdname">process-interface-status</span></b> command is run for a BFD session, the protocol status of the associated interface goes down after the device restarts. After the BFD session goes up or AdminDown, the protocol status of the associated interface goes up. If the interface protocol status is up before the restart, the BFD session cannot go up after the restart. As a result, the interface protocol status before and after the restart is inconsistent. You can run the process-interface-status reboot-no-impact command in the session view to prevent association.</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942846549__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Cancel the association between a link-bundle single-hop BFD session and the interface to which the BFD session is bound.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface Eth-Trunk 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-Eth-Trunk1] <strong>ip address 10.1.1.1 24</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-Eth-Trunk1] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>eth-trunk 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>bfd</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bfd] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>bfd test bind link-bundle peer-ip 10.1.1.2 interface Eth-Trunk 1 source-ip 10.1.1.1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bfd-session-test] <strong>process-interface-status reboot-no-impact</strong>
</pre>
</div>

<div class="p"># Associate the multicast IP single-hop BFD session with the interface to which the BFD session is bound.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>bfd</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bfd] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>bfd s1 bind peer-ip default-ip interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bfd-session-s1] <strong>process-interface-status</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_BFD_Configuration_Commands_title.html">BFD Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/OAM-MGR(OAMMGROM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/PISREBOOTNOIMPACT(BFDOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>