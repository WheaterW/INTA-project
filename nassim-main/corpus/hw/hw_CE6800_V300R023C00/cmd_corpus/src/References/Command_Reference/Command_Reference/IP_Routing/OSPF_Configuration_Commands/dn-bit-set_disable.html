
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="dn-bit-set disable">
<meta name="DC.subject" content="dn-bit-set disable">
<meta name="keywords" content="dn-bit-set disable">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_OSPF_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DN-BIT-SET-CHECK_1(OSPFCOMMOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DOMAIN-ID(OSPFCOMMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_OSPFCOMMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907763180">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>dn-bit-set disable</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907763180"></a><a name="EN-US_CLIREF_0000001907763180"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">dn-bit-set disable</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907763180__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">dn-bit-set disable</span></b> command disables the device from setting the DN bit in LSAs.</p>
<p>The <b><span class="cmdname">undo dn-bit-set disable</span></b> command configures the device to set the DN bit in LSAs.</p>
</p>
<p>By default, the DN bit in LSAs is set.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907763180__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">dn-bit-set disable </span></b>{ <strong><span>summary</span></strong> | <strong><span>ase</span></strong> | <strong><span>nssa</span></strong> }</p>

<p><b><span class="cmdname">undo dn-bit-set disable </span></b>{ <strong><span>summary</span></strong> | <strong><span>ase</span></strong> | <strong><span>nssa</span></strong> }</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907763180__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>summary</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Sets the DN bit in Type 3 LSAs.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ase</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Sets the DN bit in AS-external-LSAs.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>nssa</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Sets the DN bit in NSSA LSAs.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907763180__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>OSPFv3 view,</span><span>OSPF view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907763180__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907763180__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>To prevent routing loops, an OSPF multi-instance process uses a bit as a flag bit, which is called the DN bit.<p></p>
<span>The</span> <b><span class="cmdname">dn-bit-set disable</span></b> command is recommended only in the following scenarios:</p>

<ul><li>In a VPN Option A scenario, the local PE imports BGP routes to generate LSAs and advertises the LSAs to the peer PE. According to the standard protocol, the peer PE cannot calculate the route because the DN bit is suppressed. In this case, you can run the <b><span class="cmdname">dn-bit-set disable</span></b> command to configure the local PE not to set the DN bit.</li></ul>
<p><strong>Prerequisites</strong></p>
<div class="p"><ul><li>Run the <b><span class="cmdname">ip vpn-instance vpn-instance-name</span></b> command to create a VPN instance and enter the VPN instance view.</li><li>The IPv4 address family has been enabled for the VPN instance using the <b><span class="cmdname">ipv4-family vpn-instance-name</span></b> command in the VPN instance view.</li><li>Run the ospf [ process-id ] [ vpn-instance vpn-instance-name ] command to enable OSPF multi-instance and enter the OSPF multi-instance view.</li></ul>
</div>
<p><strong>Configuration Impact</strong></p>
<p>After the <b><span class="cmdname">dn-bit-set disable ase</span></b> command is run, the DN bit is not set in Type 5 LSAs translated from Type 7 LSAs even if the DN bit is set in the Type 7 LSAs.</p>
<p><strong>Precautions</strong></p>
<div class="p"><ul><li>The <b><span class="cmdname">dn-bit-set disable</span></b> command can be run only in OSPF or OSPFv3 VPN processes and takes effect only on PEs.</li><li>You can run the <b><span class="cmdname">dn-bit-check disable</span></b> command to disable OSPF/OSPFv3 from checking the DN bit during route calculation.</li><li>If you run the <b><span class="cmdname">dn-bit-set disable</span></b> command to disable the device from setting the DN bit in LSAs, routing loops may occur. If ase or nssa is specified, you can run the <b><span class="cmdname">route-tag</span></b> command to set the same tag value for AS-external-LSAs or NSSA LSAs to prevent routing loops. Therefore, you are advised to run the <b><span class="cmdname">dn-bit-set disable</span></b> command only in the scenarios described in Usage Scenarios.</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907763180__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Disable OSPF from setting the DN bit in ASE LSAs.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ip vpn-instance huawei</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-huawei] <strong>ipv4-family</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-huawei-af-ipv4] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-huawei] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>ospf 100 vpn-instance huawei</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospf-100] <strong>dn-bit-set disable ase</strong>
</pre>
</div>

<div class="p"># Disable OSPFv3 from setting the DN bit in AS-external-LSAs.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ip vpn-instance huawei</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-huawei] <strong>ipv6-family</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-huawei-af-ipv6] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-huawei] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>ospfv3 100 vpn-instance huawei</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospfv3-100] <strong>dn-bit-set disable ase</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_OSPF_Configuration_Commands_title.html">OSPF Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DN-BIT-SET-CHECK_1(OSPFCOMMOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/DOMAIN-ID(OSPFCOMMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>