
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ignore-receive-lsa advertise-router (OSPF view)">
<meta name="DC.subject" content="ignore-receive-lsa advertise-router (OSPF view)">
<meta name="keywords" content="ignore-receive-lsa advertise-router (OSPF view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_OSPF_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/OSPF-HOSTNAME(OSPFCOMMOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/VRF-IMPORT-ROUTE(OSPFCOMMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_OSPFCOMMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942842445">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ignore-receive-lsa advertise-router (OSPF view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942842445"></a><a name="EN-US_CLIREF_0000001942842445"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">ignore-receive-lsa advertise-router (OSPF view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942842445__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">ignore-receive-lsa advertise-router</span></b> command configures the device to discard LSAs of a specified type.</p>
<p>The <b><span class="cmdname">undo ignore-receive-lsa advertise-router</span></b> command cancels the configuration of discarding LSAs of a specified type.</p>
</p>
<p>By default, the device is not configured to discard LSAs of a specified type.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942842445__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">ignore-receive-lsa advertise-router </span></b><i><span class="varname">adv-rtr-id</span></i> [ <strong><span>lsa-type</span></strong> <i><span class="varname">type-value</span></i> [ <strong><span>area</span></strong> { <i><span class="varname">area-id</span></i> | <i><span class="varname">area-idipv4</span></i> } ] | <strong><span>link-state-id</span></strong> <i><span class="varname">ls-id</span></i> ] <sup>*</sup></p>

<p><b><span class="cmdname">undo ignore-receive-lsa advertise-router </span></b><i><span class="varname">adv-rtr-id</span></i> [ <strong><span>lsa-type</span></strong> <i><span class="varname">type-value</span></i> [ <strong><span>area</span></strong> { <i><span class="varname">area-id</span></i> | <i><span class="varname">area-idipv4</span></i> } ] | <strong><span>link-state-id</span></strong> <i><span class="varname">ls-id</span></i> ] <sup>*</sup></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942842445__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">adv-rtr-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the router ID of the LSA advertising device.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>lsa-type</span></strong> <i><span class="varname">type-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>LSA type.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in hexadecimal notation. The value ranges from 0 to ffff.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>area</span></strong> <i><span class="varname">area-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the area ID in decimal format.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a decimal integer ranging from 0 to 4294967295.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">area-idipv4</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an area ID in IP address format.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>link-state-id</span></strong> <i><span class="varname">ls-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the LSID of an LSA.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942842445__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>OSPF view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942842445__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942842445__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<ol><li>When abnormal LSAs cause devices on the entire network to repeatedly restart and the LSA that causes protocol restarts is located, you can use this command as a last resort to prevent the devices from constantly restarting. However, incorrect configurations may cause loops.</li><li>If an LSA is an attack packet, is not supposed to appear in the local area, and causes serious problems such as device restarts, but it does not affect topology path computation, and the attack source cannot be found temporarily, you can run this command to temporarily filter out the LSA.</li><li>If an LSA is an attack packet, is not supposed to appear in the local area, causes serious problems such as restarts of network-wide devices, and affect topology path computation, you can run the command on all the devices on the network to configure them not to accept the LSA, preventing the LSA from participating in network-wide path computation.<p></p>
(Note: To filter out LSAs that affect topology path computation, they must be filtered out of all LSDBs on the entire network. If they are filtered out of only some of LSDBs, routing loops may occur.)</li><li>If an LSA is an unreachable residual LSA, the device that advertised the LSA is never reachable, and the LSA does not affect topology path computation, you can configure the device to filter out the LSA after receiving it from a neighbor.</li></ol>
<p><strong>Configuration Impact</strong></p>
<p>If this command is incorrectly configured, services cannot be restored even if the <b><span class="cmdname">undo</span></b> command is run. In this case, you may need to reset the process or neighbor to restore services.<p></p>
<span>To filter out the LSA that affects topology path computation</span>, you must ensure that it is removed from all the LSDBs on the entire network. Otherwise, routing loops may occur.<p></p>
<span>This command is not recommended for LSAs that exist</span> on the network because normal LSAs may be filtered out.</p>
<p><strong>Precautions</strong></p>
<ul><li>This command is not used to defend against attacks. It violates the protocol processing principle and affects services. Therefore, exercise caution when running this command. If an attack source exists, you are advised to isolate the attack source. Attacked LSAs can have any key and cannot be defended by commands.</li><li>If the fault is caused by a bug, you are advised to run this command temporarily. After installing the patch, run the <b><span class="cmdname">undo</span></b> command immediately, and check whether services are affected. If services are affected, re-establish all neighbor relationships to restore services.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942842445__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Discards LSAs advertised by 2.2.2.2.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ospf 100</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospf-100] <strong>ignore-receive-lsa advertise-router 2.2.2.2</strong>
Warning: The operation will cause ospf lsdb not correct and can not recover ospf lsdb by undo command,need reset all neighbors to recover lsdb. Continue? [Y/N]:Y
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospf-100]
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_OSPF_Configuration_Commands_title.html">OSPF Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/OSPF-HOSTNAME(OSPFCOMMOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/VRF-IMPORT-ROUTE(OSPFCOMMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>