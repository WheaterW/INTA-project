
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="router-id allow-same enable(BGP view)">
<meta name="DC.subject" content="router-id allow-same enable(BGP view)">
<meta name="keywords" content="router-id allow-same enable(BGP view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_BGP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SESSION-ROUTER-ID(BGPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/ROUTER-ID-VPN-INSTANCE-AUTO-SEL(BGPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_BGPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907765016">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>router-id allow-same enable(BGP view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907765016"></a><a name="EN-US_CLIREF_0000001907765016"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">router-id allow-same enable(BGP view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907765016__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">router-id allow-same enable</span></b> command allows EBGP connections to be established between peers with the same router ID.</p>
<p>The <b><span class="cmdname">undo router-id allow-same enable</span></b> command restores the default configuration.</p>
</p>
<p>By default, EBGP connections cannot be established between peers with the same router ID.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907765016__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">router-id allow-same enable</span></b></p>

<p><b><span class="cmdname">undo router-id allow-same enable</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907765016__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
None
</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907765016__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>BGP view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907765016__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907765016__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>According to the previous protocol, the router ID must be a valid IPv4 host address. The prerequisite for establishing a BGP peer relationship through negotiation is that the router IDs of the two ends are different. In actual scenarios, however, different carriers may set the same router ID. In this case, the peer relationship cannot be established. To solve this problem, the router IDs of EBGP peers can be different, but the router IDs of IBGP peers must be different. That is, IBGP peer relationships cannot be established between devices with the same router ID, but EBGP peer relationships can be established between devices with the same router ID.<p></p>
<span>To allow EBGP peer relationships to be established</span> between peers with the same router ID in a single BGP instance, run the <b><span class="cmdname">router-id allow-same enable</span></b> command.</p>
<p><strong>Precautions</strong></p>
<p>After the <b><span class="cmdname">undo router-id allow-same enable</span></b> command is run to cancel the configuration, the EBGP connection established between the peers with the same router ID is not torn down immediately. You can run the <b><span class="cmdname">reset bgp</span></b> command to tear down the connection. After the <b><span class="cmdname">reset bgp</span></b> command is run, the TCP connection established by BGP is reset and the peer relationship is re-established. As a result, the peer relationship is torn down in a short period of time. Therefore, exercise caution when running this command.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907765016__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Allow EBGP connections to be set up between peers with the same router ID.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>bgp 100</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp] <strong>router-id allow-same enable</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_BGP_Configuration_Commands_title.html">BGP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/SESSION-ROUTER-ID(BGPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/ROUTER-ID-VPN-INSTANCE-AUTO-SEL(BGPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>