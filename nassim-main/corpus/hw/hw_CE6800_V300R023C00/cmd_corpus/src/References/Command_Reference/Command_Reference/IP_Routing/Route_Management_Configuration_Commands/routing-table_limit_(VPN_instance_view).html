
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="routing-table limit (VPN instance view)">
<meta name="DC.subject" content="routing-table limit (VPN instance view)">
<meta name="keywords" content="routing-table limit (VPN instance view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IP_Routing_Basic_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/RTLIMITINVPNAF6(ROUTEOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Route Management">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Route Management">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="Route Management">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_ROUTEOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907763076">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>routing-table limit (VPN instance view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907763076"></a><a name="EN-US_CLIREF_0000001907763076"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">routing-table limit (VPN instance view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907763076__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">routing-table limit</span></b> command sets a limit on the maximum number of routes that the IPv4 or IPv6 address family of a VPN instance can support.</p>
<p>The <b><span class="cmdname">undo routing-table limit</span></b> command restores the default configurations.</p>
</p>
<p>By default, there is no limit on the maximum number of routes that the IPv4 or IPv6 address family of a VPN instance can support, but the total number of private network and public network routes on a device cannot exceed the unicast route limit supported by the device.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907763076__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">routing-table limit </span></b><i><span class="varname">number</span></i> { <i><span class="varname">alert-percent</span></i> | <strong><span>simply-alert</span></strong> }</p>

<p><b><span class="cmdname">undo routing-table limit</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907763076__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the maximum number of routes supported by a VPN instance.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 4294967295.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">alert-percent</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the percentage of the maximum number of routes. When the maximum number of routes that join the VPN instance is up to the value (number*alert-percent)/100, the system prompts alarms. The VPN routes can be still added to the routing table, but after the number of routes reaches number, the subsequent routes are dropped.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 100.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>simply-alert</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that when VPN routes exceed number, routes can still be added into the routing table, but the system prompts alarms. However, after the total number of VPN routes and network public routes reaches the unicast route limit supported by the device, the subsequent VPN routes are dropped.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907763076__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>VPN instance view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907763076__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907763076__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>To prevent excessive routes from being imported into the routing table of the IPv4 or IPv6 address family of a VPN instance, run the routing-table limit command to limit the maximum number of routes in the routing table. If the number of routes in the routing table of the IPv4 or IPv6 address family of a VPN instance exceeds the upper threshold, the excessive routes cannot be advertised to the peer. After the <b><span class="cmdname">undo routing-table limit</span></b> command is run, the excessive routes will be added to the VPN instance's routing table.</p>
</p>
<p><strong>Precautions</strong></p>
<p><p>If simply-alert is configured, only an alarm is reported when the number of routes exceeds the threshold, and route addition is not affected.<p></p>
<span>If the total number of IPv4 routes in a VPN instance</span> exceeds the upper limit, both the L3VPN_MIB_TRAP_THRESH_EXCEED and hwL3vpnIpv4RouteExceed alarms are reported. If the total number of IPv4 routes in a VPN instance exceeds the middle threshold, both the L3VPN_MIB_TRAP_MID_THRESH_EXCEED and hwL3vpnIpv4RouteThresholdExceed alarms are reported.<p></p>
<span>After the</span> <b><span class="cmdname">undo routing-table limit</span></b> command is run, a large number of routes may be learned, causing route overload or memory overload.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907763076__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the maximum number of routes that the IPv4 address family of the VPN instance named vpn1 can import to 1000, and alarm is generated.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ip vpn-instance vpn1</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-vpn-instance-vpn1] <strong>ipv4-family</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-vpn-instance-vpn1-af-ipv4] <strong>routing-table limit 1000 simply-alert</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_IP_Routing_Basic_Configuration_Commands_title.html">Route Management Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/RTLIMITINVPNAF6(ROUTEOM).html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>