
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="authentication event action authorize">
<meta name="DC.subject" content="authentication event action authorize">
<meta name="keywords" content="authentication event action authorize">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-NAC_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/AUTHENTICATION_ARP-REPLY_TRIGGER.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/AUTHENTICATION_EVENT_ACTION_AUTHORIZE_KEEP.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="NAC">
<meta name="featuretype" content="User Access and Authentication">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="NAC">
<meta name="featuretype" content="User Access and Authentication">
<meta name="featurename" content="NAC">
<meta name="featuretype" content="User Access and Authentication">
<meta name="featuretype" content="User Access and Authentication">
<meta name="featuretype" content="User Access and Authentication">
<meta name="DC.Creator" content="SUBSYS_ID_ESAP_CFGMGR">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907607800">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>authentication event action authorize</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907607800"></a><a name="EN-US_CLIREF_0000001907607800"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">authentication event action authorize</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907607800__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">authentication event action authorize</span></b> command configures authentication event authorization information.</p>
<p>The <b><span class="cmdname">undo authentication event action authorize</span></b> command restores the default setting.</p>
</p>
<p>By default, authentication event authorization information is not configured.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6820H, CE6820H-K and CE6820S.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907607800__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">



<p><b><span class="cmdname">authentication event authen-fail action authorize </span></b>{ <strong><span>vlan</span></strong> <i><span class="varname">vlan-id</span></i> | <strong><span>service-scheme</span></strong> <i><span class="varname">scheme-name</span></i> } [ <strong><span>response-fail</span></strong> ]</p>

<p><b><span class="cmdname">authentication event pre-authen action authorize </span></b>{ <strong><span>vlan</span></strong> <i><span class="varname">vlan-id</span></i> | <strong><span>service-scheme</span></strong> <i><span class="varname">scheme-name</span></i> }</p>

<p><b><span class="cmdname">authentication event authen-server-down action authorize </span></b>{ <strong><span>vlan</span></strong> <i><span class="varname">vlan-id</span></i> | <strong><span>service-scheme</span></strong> <i><span class="varname">scheme-name</span></i> } [ <strong><span>response-fail</span></strong> ]</p>


<p><b><span class="cmdname">undo authentication event authen-fail action authorize</span></b></p>

<p><b><span class="cmdname">undo authentication event pre-authen action authorize</span></b></p>

<p><b><span class="cmdname">undo authentication event authen-server-down action authorize</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907607800__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>vlan</span></strong> <i><span class="varname">vlan-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a VLAN ID. When this parameter is specified, users can access only the resources in the VLAN.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The VLAN must exist on the device. Otherwise, the configuration does not take effect. The value is an integer that ranges from 1 to 4094.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>service-scheme</span></strong> <i><span class="varname">scheme-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of the service scheme based on which network access rights are assigned to users.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value must be an existing service scheme name on the device. The value is a string of 1 to 32 case-sensitive characters. It cannot contain spaces.</p>
</td>
</tr>


<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>response-fail</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Configures the device to send authentication failure packets to users after network access rights are assigned to the users. If this parameter is specified, the client does not send a logoff packet to log out the user. This prevents the client from automatically sending a logoff packet to log out the user.</p>
<p>If this parameter is not specified, the device sends an authentication success packet to the user by default. As a result, the user is unaware of the authentication failure. In this case, if a user who fails to be authenticated needs to know its authentication status after obtaining network access rights, you can configure the device to send an authentication failure packet to the user.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>pre-authen</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Configures the device to assign network access rights to users when the users establish pre-connections with the device.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>authen-server-down</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Configures the device to assign network access rights to users when the authentication server is Down or the server is in the forcible Up state.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>authen-fail</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Configures the device to assign network access rights to users when the authentication server sends authentication failure packets to the device.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907607800__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>Authentication profile view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907607800__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907607800__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>If users establish pre-connections with the device or fail to be authenticated, they have no network access rights.<p></p>
<span>To meet these users</span>' basic network access requirements such as updating the antivirus database and downloading the client, configure authentication event authorization information. The device will assign network access rights to these users based on the authentication phase.</p>
<p><strong>Precautions</strong></p>
<div class="p"><ul><li>This command takes effect only for new access users.</li><li>If no network access rights are configured for users who fail authentication or when the authentication server is Down, the users remain in the pre-connection state and have the network access rights of pre-connection users after authentication fails.</li><li>VLAN-based authorization does not apply to the authentication users who access the network through VLANIF interfaces.</li><li>When the RADIUS server is Down during 802.1X authentication for wired users, some new online clients cannot have bypass rights. For example, new online Windows clients do not receive authentication packets from the RADIUS server after receiving Success packets from the device. As a result, the authentication fails and the clients cannot go online. Currently, the following clients have bypass rights when they go online after the user bypass function is configured: H3C iNode clients using Extensible Authentication Protocol (EAP)-message digest algorithm 5 (MD5) and Protected Extensible Authentication Protocol (PEAP), and Cisco AnyConnect clients using EAP-FAST and PEAP. For a Windows client, for example, Windows 7, choose Local Area Connection &gt; Properties &gt; Authentication &gt; Rollback to Unauthorized Network.</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907607800__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># In the authentication profile authen1, configure the device to assign network access rights specified in VLAN 10 to pre-connection users.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>vlan batch 10</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>authentication-profile name authen1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-authen-profile-authen1] <strong>authentication event pre-authen action authorize vlan 10</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-NAC_Configuration_Commands_title.html">NAC Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/AUTHENTICATION_ARP-REPLY_TRIGGER.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/AUTHENTICATION_EVENT_ACTION_AUTHORIZE_KEEP.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>