
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="igmp snooping query interval">
<meta name="DC.subject" content="igmp snooping query interval">
<meta name="keywords" content="igmp snooping query interval">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Layer_2_Multicast_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IGMP-SNOOPING-INST-ENABLE-BD-DC_21(L2MCOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IGMP-SNOOPING-INST-ENABLE-BD-DC_7(L2MCOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IGMP Snooping">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="IGMP Snooping">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IGMP Snooping">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Creator" content="SUBSYS_ID_L2MCOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907766372">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>igmp snooping query interval</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907766372"></a><a name="EN-US_CLIREF_0000001907766372"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">igmp snooping query interval</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907766372__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">igmp snooping query interval</span></b> command sets the interval at which a querier sends general query messages.</p>
<p>The <b><span class="cmdname">undo igmp snooping query interval</span></b> command restores the default setting.</p>
</p>
<p>By default, a querier sends general query messages at an interval of 60s.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907766372__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">igmp snooping query interval </span></b><i><span class="varname">QueryIntervalValue</span></i></p>

<p><b><span class="cmdname">undo igmp snooping query interval</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907766372__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">QueryIntervalValue</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the interval at which a querier sends general query messages.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value ranges from 1 to 65535, in seconds.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907766372__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>VLAN range view,</span><span>VLAN view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907766372__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907766372__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>The igmp snooping query interval command has the following functions:</p>

<ul><li>Sets the interval at which a querier sends general query messages. If the querier function is enabled, the igmp snooping query interval command can be used to set the interval at which a querier sends general query messages. This enables a device to periodically send general query messages in order to maintain group memberships. The shorter the interval is, the more frequently general query messages are sent and the more bandwidth and device resources are consumed. Ensure that the interval at which IGMP general query messages are sent is greater than the maximum response time of IGMP general query messages; otherwise, multicast group members may be deleted mistakenly.</li><li>Changes the aging time of member ports. After receiving a Report message from a downstream device, a device sets the aging time of the corresponding member port based on the following formula: Aging time of a member port = Number of times group-specific query messages are sent x Interval at which general query messages are sent + Maximum time for a downstream host to respond to a querier. The default aging time is 130 seconds. The interval at which IGMP general query messages are sent in the formula is set using the igmp snooping query interval command. The number of times group-specific group query messages are sent is set using the <b><span class="cmdname">igmp snooping robust-count</span></b> command. The maximum time for a downstream host to respond to a querier is set using the <b><span class="cmdname">igmp snooping query max-response-time</span></b> command.</li></ul>
<p><strong>Prerequisites</strong></p>
<p>IGMP snooping has been configured using the <b><span class="cmdname">igmp snooping enable</span></b> command.</p>
<p><strong>Configuration Impact</strong></p>
<p>If the igmp snooping query interval command is run in the same view several times, the latest configuration overrides the previous one.<p></p>
<span>The default query-interval value in this command is</span> 60 seconds, which is different than the default value 125 seconds defined by the relevant standard. A Huawei querier and a non-Huawei querier must send IGMP general query messages at the same interval.</p>
<p><strong>Precautions</strong></p>
<p>When the igmp snooping query interval command is used to set the aging time of member ports, the settings of parameters in this command must be consistent on a Layer 2 device and its upstream Layer 3 device. Otherwise, multicast data transmission between Layer 2 and Layer 3 networks will be interrupted.<p></p>
<span>The interval at which a querier sends general query</span> messages in a VLAN fails to be set in any of the following situations:</p>

<ul><li>A Dot1q termination sub-interface has been added to the VLAN.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907766372__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the interval at which a querier sends general query messages to 100s in VLAN 2.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>igmp snooping enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>vlan 2</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vlan2] <strong>igmp snooping query interval 100</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Layer_2_Multicast_Commands_title.html">IGMP Snooping Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/IGMP-SNOOPING-INST-ENABLE-BD-DC_21(L2MCOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/IGMP-SNOOPING-INST-ENABLE-BD-DC_7(L2MCOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>