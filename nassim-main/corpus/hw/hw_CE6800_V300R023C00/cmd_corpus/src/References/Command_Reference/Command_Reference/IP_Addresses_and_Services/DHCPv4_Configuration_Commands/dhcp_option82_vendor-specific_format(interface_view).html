
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="dhcp option82 vendor-specific format(interface view)">
<meta name="DC.subject" content="dhcp option82 vendor-specific format(interface view)">
<meta name="keywords" content="dhcp option82 vendor-specific format(interface view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-DHCP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DHCP_OPTION82_VENDOR-SPECIFIC_FORMAT.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DHCP_RELAY_GATEWAY.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="DHCPv4">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="DHCPv4">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="DHCPv4">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Creator" content="SUBSYS_ID_ESAP_DHCPRELAY">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907762424">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>dhcp option82 vendor-specific format(interface view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907762424"></a><a name="EN-US_CLIREF_0000001907762424"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">dhcp option82 vendor-specific format(interface view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907762424__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">dhcp option82 vendor-specific format</span></b> command configures a format for the Option 82 suboption 9 carried in a DHCP packet.</p>
<p>The <b><span class="cmdname">undo dhcp option82 vendor-specific format</span></b> command cancels the configuration.</p>
</p>
<p>By default, the format of the suboption 9 in DHCP option 82 field is not configured.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907762424__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">dhcp option82 vendor-specific format vendor-sub-option </span></b><i><span class="varname">sub-option-num</span></i> <strong><span>source-ip-address</span></strong> <i><span class="varname">ip-address</span></i></p>

<p><b><span class="cmdname">undo dhcp option82 vendor-specific format vendor-sub-option </span></b><i><span class="varname">sub-option-num</span></i> <strong><span>source-ip-address</span></strong> <i><span class="varname">ip-address</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907762424__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>source-ip-address</span></strong> <i><span class="varname">ip-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an IP address to be inserted into the Vendor-Specific suboption (suboption 9).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>vendor-sub-option</span></strong> <i><span class="varname">sub-option-num</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a value for the Vendor-Specific suboption (suboption 9).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 255.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907762424__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100ge sub-interface view,</span><span>100GE interface view,</span><span>10GE sub-interface view,</span><span>10GE interface view,</span><span>200GE sub-interface view,</span><span>200GE interface view,</span><span>25GE sub-interface view,</span><span>25GE interface view,</span><span>400GE sub-interface view,</span><span>400GE interface view,</span><span>50GE sub-interface view,</span><span>50GE interface view,</span><span>Eth-Trunk sub-interface view,</span><span>Eth-Trunk interface view,</span><span>VBDIF interface view,</span><span>VLANIF interface view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907762424__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907762424__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>DHCP users obtain IP addresses from DHCP servers on different subnets through the DHCP relay agent deployed on the gateway. Users on the same subnet have the same gateway address. If the DHCP server uses the gateway address as the destination address of response packets, the response packets cannot be sent to the gateway to which the users belong. As a result, the users fail to go online. In this case, you can run this command on the DHCP relay agent to configure the DHCP relay agent to insert the Sub9 suboption (vendor-specific) into Option 82 and run the dhcp relay information enable command to enable the DHCP relay agent to support Option 82. The DHCP relay agent encapsulates the IP address that uniquely identifies the gateway location into a DHCP Request packet and sends the packet to the DHCP server. The DHCP server that supports Option 82 reserves Option 82 in the response packet. If the response packet is sent back to another gateway, the DHCP relay agent on the gateway forwards the packet to the correct gateway based on the IP address carried in the Sub9 suboption of Option 82.</p>
<p><strong>Precautions</strong></p>
<p>If the Vendor-Specific suboption (suboption 9) is configured in both the system view and interface view, the configuration in the interface view takes effect.<p></p>
<span>The length of the Option 82 suboption 9 is subject</span> to the configuration in the interface view and that in the system view. If the Option 82 field is too long after the suboption 9 is inserted, the suboption 9 will not be carried in the Option 82 field.<p></p>
<span>When this command is run to deploy gateways functioning</span> as a DHCP relay, set the &lt;sub-option-num&gt; parameter to the same value for different gateways.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907762424__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">



<div class="p"># Configure the Vendor-Specific suboption (suboption 9) as 10 and insert the source IP address 10.1.1.1 on <span>100GE</span><span>1/0/1</span>.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span><span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>dhcp relay information enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>dhcp option82 vendor-specific format vendor-sub-option 10 source-ip-address 10.1.1.1</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-DHCP_Configuration_Commands_title.html">DHCPv4 Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DHCP_OPTION82_VENDOR-SPECIFIC_FORMAT.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/DHCP_RELAY_GATEWAY.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>