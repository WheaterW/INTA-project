
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ecmp universal-id">
<meta name="DC.subject" content="ecmp universal-id">
<meta name="keywords" content="ecmp universal-id">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-Load_Balancing_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/ECMP_SEED.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/GTP_TEID.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Load Balancing">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Load Balancing">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="Load Balancing">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Creator" content="SUBSYS_ID_FWM_FIB">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907762216">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ecmp universal-id</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907762216"></a><a name="EN-US_CLIREF_0000001907762216"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">ecmp universal-id</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907762216__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>For the CE6820H, CE6820H-K, CE6820S, CE6863H, CE6863H-K, CE6881H, and CE6881H-K:</p>
<p>The <b><span class="cmdname">ecmp universal-id</span></b> command configures a hash algorithm offset for ECMP load balancing.</p>
<p>The <b><span class="cmdname">undo ecmp universal-id</span></b> command restores the default hash algorithm offset of ECMP load balancing.</p>
<p>For the CE8855, CE8851-32CQ4BQ, CE6855-48XS8CQ, CE6885, CE6885-T, CE6885-LL in standard forwarding mode, CE6885-SAN, and CE6885-LL in low latency mode:</p>
<p>The <b><span class="cmdname">ecmp underlay universal-id</span></b> command configures a hash algorithm offset for underlay ECMP load balancing.</p>
<p>The <b><span class="cmdname">undo ecmp underlay universal-id</span></b> command restores the default hash algorithm offset for underlay ECMP load balancing.</p>
<p>The <b><span class="cmdname">ecmp overlay universal-id</span></b> command configures a hash algorithm offset for overlay ECMP load balancing.</p>
<p>The <b><span class="cmdname">undo ecmp overlay universal-id</span></b> command restores the default hash algorithm offset for overlay ECMP load balancing.</p>
</p>
<p><p>
For the CE6863H-48S6CQ, CE6863H-48S6CQ-K, CE6881H-48S6CQ, CE6881H-48S6CQ-K, CE6881H-48T6CQ, and CE6881H-48T6CQ-K:
</p>
<p>
By default, the hash algorithm offset of ECMP load balancing is 1.
</p>
<p>
For the CE8855, CE8851-32CQ4BQ, CE6855-48XS8CQ, CE6885, CE6885-T, CE6885-LL in standard forwarding mode, CE6885-SAN, and CE6885-LL in low latency mode:
</p>
<p>
By default, the hash algorithm offset of ECMP overlay load balancing is 1.
</p>
<p>
By default, the hash algorithm offset for ECMP underlay load balancing is 0.
</p>
</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6855-48XS8CQ, CE6885-SAN, CE8855, CE8851-32CQ4BQ, CE6885-LL (low latency mode), CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907762216__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">


<p>For CE6820H, CE6820H-K, CE6820S, CE6863H, CE6863H-K, CE6881H, CE6881H-K: </p>

<p><b><span class="cmdname">ecmp universal-id </span></b><i><span class="varname">universal-id1</span></i></p>

<p><b><span class="cmdname">undo ecmp universal-id </span></b>[ <i><span class="varname">universal-id1</span></i> ]</p>

<p>For CE8855, CE8851-32CQ4BQ, CE6855-48XS8CQ, CE6885, CE6885-T, CE6885-LL (standard forwarding mode), CE6863E-48S8CQ, CE6885-SAN, CE6885-LL (low latency mode): </p>

<p><b><span class="cmdname">ecmp underlay universal-id </span></b><i><span class="varname">under-universal-id</span></i></p>

<p><b><span class="cmdname">undo ecmp underlay universal-id </span></b>[ <i><span class="varname">under-universal-id</span></i> ]</p>

<p>For CE8855, CE8851-32CQ4BQ, CE6855-48XS8CQ, CE6885, CE6885-T, CE6885-LL (standard forwarding mode), CE6863E-48S8CQ, CE6885-SAN: </p>

<p><b><span class="cmdname">ecmp overlay universal-id </span></b><i><span class="varname">over-universal-id</span></i></p>

<p><b><span class="cmdname">undo ecmp overlay universal-id </span></b>[ <i><span class="varname">over-universal-id</span></i> ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907762216__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">universal-id1</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Sets the Hash algorithm offset of ECMP load balancing.</p>
</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>This parameter is supported only on the CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6820H, CE6820H-K and CE6820S.</p>
</div></div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 16.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>underlay</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates underlay load balancing.</p>
</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>This parameter is supported only on the CE6855-48XS8CQ, CE6885-SAN, CE8855, CE8851-32CQ4BQ, CE6885-LL (low latency mode), CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">under-universal-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the hash algorithm offset for ECMP underlay load balancing.</p>
</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>This parameter is supported only on the CE6855-48XS8CQ, CE6885-SAN, CE8855, CE8851-32CQ4BQ, CE6885-LL (low latency mode), CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 15. The default value is 0.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>overlay</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates overlay load balancing.</p>
</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>This parameter is supported only on the CE6855-48XS8CQ, CE6885-SAN, CE8855, CE8851-32CQ4BQ, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">over-universal-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the hash algorithm offset for ECMP overlay load balancing.</p>
</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>This parameter is supported only on the CE6855-48XS8CQ, CE6885-SAN, CE8855, CE8851-32CQ4BQ, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 15. The default value is 1.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907762216__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>ECMP load balancing view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907762216__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907762216__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>If there are multiple equal-cost routes to the same destination, the device uses the hash algorithm to select a forwarding path based on the IP address, MAC address, and port number of each received packet. If four equal-cost routes to the destination IP address exist on the device, all traffic destined for the IP address is evenly distributed to the four forwarding paths. By default, a flow (with the same IP address, MAC address, and port number) is forwarded along the same path calculated using the hash algorithm.<p></p>
<span>The hash algorithm offset affects the forwarding path</span> calculated by the hash algorithm. That is, if the hash algorithm offsets of two devices are different, the outbound interfaces calculated by the hash algorithm for the same traffic on the two devices are different.<p></p>
<span>If you want to select different forwarding paths for</span> the same traffic on different devices, configure different hash algorithm offsets on the devices.</p>
<p><strong>Precautions</strong></p>
<p><p>The ecmp underlay universal-id &lt;under-universal-id&gt; and <b><span class="cmdname">load-balance ecmp rail-group enable</span></b> commands are mutually exclusive.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907762216__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the Hash algorithm offset of ECMP load balancing to 2.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
Enter system view, return user view with return command.                        
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>load-balance ecmp</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-ecmp] <strong>ecmp universal-id 2</strong>
</pre>
</div>

<div class="p"># Set the hash algorithm offset for overlay load balancing to 2.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
Enter system view, return user view with return command.                        
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>load-balance ecmp</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-ecmp] <strong>ecmp overlay universal-id 2</strong>
</pre>
</div>

<div class="p"># Set the hash algorithm offset for underlay load balancing to 2.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
Enter system view, return user view with return command.                        
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>load-balance ecmp</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-ecmp] <strong>ecmp underlay universal-id 2</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-Load_Balancing_Configuration_Commands_title.html">Load Balancing Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/ECMP_SEED.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/GTP_TEID.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>