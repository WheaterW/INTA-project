
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="macsec mode">
<meta name="DC.subject" content="macsec mode">
<meta name="keywords" content="macsec mode">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-MACsec_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/MACSEC_INCLUDE-SCI.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/MACSEC_REPLAY-WINDOW.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="MACsec">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="MACsec">
<meta name="featuretype" content="Security">
<meta name="featurename" content="MACsec">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="DC.Creator" content="SUBSYS_ID_ESAP_MACSEC">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907768016">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>macsec mode</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907768016"></a><a name="EN-US_CLIREF_0000001907768016"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">macsec mode</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907768016__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">macsec mode</span></b> command configures the MACsec encryption mode.</p>
<p>The <b><span class="cmdname">undo macsec mode</span></b> command restores the default MACsec encryption mode.</p>
</p>
<p>By default, the MACsec mode is normal.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907768016__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">macsec mode </span></b>{ <strong><span>none</span></strong> | <strong><span>normal</span></strong> | <strong><span>integrity-only</span></strong> }</p>

<p><b><span class="cmdname">undo macsec mode</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907768016__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>none</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that neither data encryption nor integrity check is performed.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>normal</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that both data encryption and integrity check are performed.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>integrity-only</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that integrity check is performed and data encryption is not performed.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907768016__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>mac security profile view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907768016__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907768016__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>When MACsec is configured on interfaces to protect transmitted data packets, you need to set the encryption mode:</p>

<ul><li>If the encryption mode of one end is set to none, the encryption mode of the other end must be set to none.</li><li>If the encryption mode of one end is set to normal, the encryption mode of the other end must be set to normal or integrity-only.</li><li>If the encryption mode of one end is set to integrity-only, the encryption mode of the other end must be set to normal or integrity-only.<p></p>
<span>When MACsec is configured on both ends to ensure secure</span> communication, the encryption mode configured on the key server is used.<p></p>
<span>Data encryption and integrity check</span>:</li><li>Data encryption: The sender encrypts data packets and transmits the encrypted packets over a LAN link. The receiver decrypts received packets and processes the decrypted packets.</li><li>Integrity check: The receiver checks the integrity of received packets to determine whether the packets are tampered with. The sender calculates the Integrity Check Value (ICV) based on the data packet and encryption algorithm and adds it to the end of the packet. After receiving the packet, the receiver calculates the ICV based on the packet excluding the ICV and the same encryption algorithm, and compares the obtained ICV with the ICV in the packet. If they are the same, the packet is considered complete and passes the check. Otherwise, the packet is discarded.</li></ul>
<p><strong>Precautions</strong></p>
<ul><li>When you configure MACsec on a network where data traffic is transmitted, set the encryption mode on both ends to none to shorten the traffic interruption time. Then run the <b><span class="cmdname">display mka interface</span></b> command to check MKA session information on both ends. When the MKA status is displayed as SUCCEEDED, change the encryption mode on both ends to normal.</li><li>When the MACsec mode is set to none, data encryption and integrity check are not performed. To ensure data security, you are advised to set this parameter to normal.</li><li>When the MACsec mode is set to none, changes of configurations such as Keyserver Priority, confidentiality-offset, timer sak-life, include-sci and replay-window do not trigger MACsec renegotiation.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907768016__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the encryption mode to normal in the MACsec profile named test.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>mac-security-profile name test</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-macsec-profile-test] <strong>macsec mode normal</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-MACsec_Configuration_Commands_title.html">MACsec Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/MACSEC_INCLUDE-SCI.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/MACSEC_REPLAY-WINDOW.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>