<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
 <head> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="DC.Type" content="cliref"> 
  <meta name="DC.Title" content="local-user"> 
  <meta name="DC.subject" content="local-user"> 
  <meta name="keywords" content="local-user"> 
  <meta name="product" content=""> 
  <meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-AAA_Configuration_Commands_title.html"> 
  <meta name="DC.Relation" scheme="URI" content="../v3r23c00/LOCAL-ACCESS-USER_USER-NAME.html"> 
  <meta name="DC.Relation" scheme="URI" content="../v3r23c00/LOCAL-USER_CHANGE-PASSWORD.html"> 
  <meta name="prodname" content=""> 
  <meta name="version" content=""> 
  <meta name="brand" content="Product Documentation"> 
  <meta name="DC.Publisher" content="20230413"> 
  <meta name="featurename" content="AAA"> 
  <meta name="featuretype" content="User Access and Authentication"> 
  <meta name="DC.Audience.Job" content="Reference"> 
  <meta name="featurename" content="AAA"> 
  <meta name="featuretype" content="User Access and Authentication"> 
  <meta name="featurename" content="AAA"> 
  <meta name="featuretype" content="User Access and Authentication"> 
  <meta name="featuretype" content="User Access and Authentication"> 
  <meta name="featuretype" content="User Access and Authentication"> 
  <meta name="DC.Creator" content="SUBSYS_ID_ESAP_AAA"> 
  <meta name="DC.Format" content="XHTML"> 
  <meta name="DC.Identifier" content="EN-US_CLIREF_0000001907767604"> 
  <meta name="DC.Language" content="en-us"> 
  <link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css"> 
  <link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css"> 
  <script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script> 
  <title>local-user</title> 
  <style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style> 
 </head> 
 <body>
  <a name="EN-US_CLIREF_0000001907767604"></a>
  <a name="EN-US_CLIREF_0000001907767604"></a> 
  <div class="articleBoxWithoutHead"> 
   <h1 class="topicTitle-h1">local-user</h1> 
   <div> 
    <div class="clifunc">
     <a name="EN-US_CLIREF_0000001907767604__1.3.1"></a>
     <a name="1.3.1"></a>
     <h2 class="sectiontitle">Function</h2> 
     <div class="clifuncbody"> 
      <p></p>
      <p>The <b><span class="cmdname">local-user</span></b> command creates a local user and sets parameters of the local user.</p> 
      <p>The <b><span class="cmdname">undo local-user</span></b> command deletes a local user.</p> 
      <p></p> 
      <p>By default, no local user is created in the system.</p> 
     </div>
    </div> 
    <div class="cliformat">
     <a name="EN-US_CLIREF_0000001907767604__1.3.2"></a>
     <a name="1.3.2"></a>
     <h2 class="sectiontitle">Format</h2> 
     <div class="cliformatbody"> 
      <p><b><span class="cmdname">local-user </span></b><i><span class="varname">user-name</span></i> { <strong><span>password</span></strong> <strong><span>irreversible-cipher</span></strong> <i><span class="varname">ir-password</span></i> | <strong><span>access-limit</span></strong> <i><span class="varname">max-number</span></i> | <strong><span>idle-timeout</span></strong> <i><span class="varname">minutes</span></i> [ <i><span class="varname">seconds</span></i> ] | <strong><span>privilege</span></strong> <strong><span>level</span></strong> <i><span class="varname">level</span></i> | <strong><span>state</span></strong> { <strong><span>block</span></strong> | <strong><span>active</span></strong> } } <sup>*</sup></p> 
      <p><b><span class="cmdname">local-user </span></b><i><span class="varname">user-name</span></i> <strong><span>privilege</span></strong> <strong><span>level</span></strong> <i><span class="varname">level</span></i></p> 
      <p><b><span class="cmdname">local-user </span></b><i><span class="varname">user-name</span></i> <strong><span>user-group</span></strong> <i><span class="varname">user-group-value</span></i></p> 
      <p><b><span class="cmdname">local-user </span></b><i><span class="varname">user-name</span></i> <strong><span>ftp-directory</span></strong> <i><span class="varname">directory</span></i> [ <strong><span>read</span></strong> <strong><span>execute</span></strong> [ <strong><span>write</span></strong> ] ]</p> 
      <p><b><span class="cmdname">undo local-user </span></b><i><span class="varname">user-name</span></i> [ <strong><span>access-limit</span></strong> | <strong><span>ftp-directory</span></strong> | <strong><span>idle-timeout</span></strong> | <strong><span>privilege</span></strong> <strong><span>level</span></strong> ]</p> 
      <p><b><span class="cmdname">undo local-user </span></b><i><span class="varname">user-name</span></i> <strong><span>privilege</span></strong> <strong><span>level</span></strong></p> 
      <p><b><span class="cmdname">undo local-user </span></b><i><span class="varname">user-name</span></i> <strong><span>user-group</span></strong></p> 
     </div>
    </div> 
    <div class="cliparam">
     <a name="EN-US_CLIREF_0000001907767604__1.3.3"></a>
     <a name="1.3.3"></a>
     <h2 class="sectiontitle">Parameters</h2> 
     <div class="cliparambody"> 
      <div class="tableBorder">
       <table cellpadding="4" cellspacing="0" summary=""> 
        <tbody>
         <tr> 
          <th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th> 
          <th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th> 
          <th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">user-name</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies the user name of a local administrator.</p> <p>If the user name contains a domain name delimiter such as @, the character before @ is the user name and the character after @ is the domain name. If the value does not contain @, the entire character string is the user name and the domain name is the default one.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 253 case-sensitive characters. It cannot contain spaces.</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>password</span></strong></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies the login password of the local administrator.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>-</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>irreversible-cipher</span></strong></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>irreversible-cipher indicates that the user password is encrypted using the irreversible algorithm. Unauthorized users cannot obtain the plain text by using the decryption algorithm.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>If irreversible-cipher is specified, the password can be a string of 8 to 128 characters in plaintext or a string of 62 characters in ciphertext.</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">ir-password</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies the password of a local user.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p></p><p>The value is a string of 8 to 128 case-sensitive characters in plaintext or 62 case-sensitive characters in ciphertext. By default, the password must contain at least four types of the following characters, including uppercase letters, lowercase letters, digits, and special characters. Special characters do not include question marks (?) and spaces. However, if the password is enclosed in double quotation marks (" "), spaces are allowed in the password.</p> <p>? If double quotation marks are used to set a password with spaces, the double quotation marks cannot contain other double quotation marks.</p> <p>? If double quotation marks are used to set a password without any space, the double quotation marks can contain other double quotation marks.</p> <p>For example, "a 123"45"" is an invalid password, but "a123"45"" is a valid password.</p> <p></p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>access-limit</span></strong> <i><span class="varname">max-number</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Indicates the maximum number of connections that can be created with a specified user name.</p> <p>If this parameter is not specified, a user can establish a maximum of 4294967295 connections by default.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p></p><p>The value is an integer ranging from 1 to 4294967295.</p> <p>The actual number of connections is the smaller value between max-number and the maximum number of users of a type on different models.</p> <p></p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>idle-timeout</span></strong></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies the timeout period of the user interface.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>-</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">minutes</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>minutes specifies the period when the user interface is disconnected, in minutes.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 0 to 35791, in minutes.</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">seconds</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>seconds specifies the period when the user interface is disconnected, in seconds.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 0 to 59, in seconds.</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>privilege</span></strong></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies the privilege level of the local administrator.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>-</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>level</span></strong> <i><span class="varname">level</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies the privilege level of a local administrator. After logging in to the device, a user can run only the commands of the same or lower privilege level.</p> <p>By default, a local administrator does not have a privilege level.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 0 to 3. A larger value indicates a higher user privilege level.</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>state</span></strong></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Indicates the status of the local administrator.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>-</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>block</span></strong></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>block indicates that a local user is in blocking state. The device rejects the authentication request from the user and does not allow the user to change the password.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>-</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>active</span></strong></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>active indicates that a local user is in active state. The device accepts and processes the authentication request from the user, and allows the user to change the password.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>-</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>user-group</span></strong> <i><span class="varname">user-group-value</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Name of a user group.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 32 case-insensitive characters, spaces not supported.</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>ftp-directory</span></strong> <i><span class="varname">directory</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Sets the directory that FTP users can access.</p> <p>Ensure that the configured FTP directory is an absolute path; otherwise, the configuration does not take effect.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 255 case-sensitive characters without a blank space.</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>read</span></strong></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Grants the read permission.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>-</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>execute</span></strong></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Grants the execute permission.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>-</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>write</span></strong></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Grants the write permission.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>-</p> </td> 
         </tr> 
        </tbody>
       </table>
      </div> 
     </div>
    </div> 
    <div class="cliview">
     <a name="EN-US_CLIREF_0000001907767604__1.3.4"></a>
     <a name="1.3.4"></a>
     <h2 class="sectiontitle">Views</h2> 
     <div class="cliviewbody"> 
      <p>AAA view</p> 
     </div>
    </div> 
    <div class="clidefaultlevel">
     <a name="EN-US_CLIREF_0000001907767604__1.3.5"></a>
     <a name="1.3.5"></a>
     <h2 class="sectiontitle">Default Level</h2> 
     <div class="clidefaultlevelbody"> 
      <p>3: Management level</p> 
     </div>
    </div> 
    <div class="clidesc">
     <a name="EN-US_CLIREF_0000001907767604__1.3.6"></a>
     <a name="1.3.6"></a>
     <h2 class="sectiontitle">Usage Guidelines</h2> 
     <div class="clidescbody"> 
      <p><strong>Usage Scenario</strong></p> 
      <ul>
       <li>To facilitate device maintenance , create a local administrator on the device and configure the password, privilege level, and FTP directory.</li>
       <li>By default, the permission on the FTP directory is read, write, and execute.</li>
       <li>After the weak password dictionary maintenance function is enabled, the passwords defined in the weak password dictionary cannot be used. You can run the <b><span class="cmdname">display security weak-password-dictionary</span></b> command to view the passwords.</li>
       <li>By default, a password must contain at least four types of the following characters, including uppercase letters, lowercase letters, digits, and special characters. You can run the <b><span class="cmdname">password complexity</span></b> command in the administrator password policy view to change the password complexity.</li>
      </ul> 
      <p><strong>Precautions</strong></p> 
      <ol>
       <li>If the timeout period of a user is not set or is set to 0, the timeout period of the user is not limited. In this case, the timeout period of the user depends on the configuration on the user interface.</li>
       <li>The configured user group takes effect only when the local administrator privilege level is invalid (including the privilege levels configured using the local-user privilege level command and the admin-user privilege level command in the service scheme).</li>
       <li>After the FIPS mode is enabled, the ftp-directory parameter cannot be used.</li>
       <li>When setting ftp-directory, ensure that the path exists on both the active and standby boards. Otherwise, FTP users may fail to log in after an active/standby switchover.</li>
       <li>To ensure device security, change the password periodically. When logging in to the device for the first time, the administrator must change the password.</li>
       <li>The HTTP local administrator is provided for the web system. If the web system is not supported, you do not need to configure the HTTP local administrator.</li>
       <li>After complexity check is enabled for the local administrator user name using the <b><span class="cmdname">undo local-aaa-user user-name complexity-check disable</span></b> command, the user name must contain at least six characters. This function is enabled by default.</li>
      </ol> 
     </div>
    </div> 
    <div class="cliexample">
     <a name="EN-US_CLIREF_0000001907767604__1.3.7"></a>
     <a name="1.3.7"></a>
     <h2 class="sectiontitle">Example</h2> 
     <div class="cliexamplebody"> 
      <div class="p">
       # Create a local administrator, and set the user name to user1, domain name to vipdomain, password to YsHsjx_202206 in cipher text, maximum number of connections to 100, and idle timeout period to 10 minutes.
       <pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" face="Courier New">~</font></span><span class="keyword">HUAWEI</span>] <strong>aaa</strong>
[<span class="keyword"><font style="font-size:8pt" face="Courier New">~</font></span><span class="keyword">HUAWEI</span>-aaa] <strong>local-user user1@vipdomain password irreversible-cipher YsHsjx_202206 access-limit 100 idle-timeout 10</strong>
</pre> 
      </div> 
     </div>
    </div> 
   </div> 
  </div> 
  <div class="footerNavBar clearfix"> 
   <div class="parentlink">
     Parent Topic: 
    <a href="../v3r23c00/dc_PNF-AAA_Configuration_Commands_title.html">AAA Configuration Commands </a> 
   </div> 
   <div class="copyrightBottomBar">
     Copyright ? Huawei Technologies Co., Ltd.
   </div> 
   <div class="copyrightBottomBar_responsive">
     Copyright ? Huawei Technologies Co., Ltd.
   </div> 
   <div class="bottomNavBtn clearfix"> 
    <a href="../v3r23c00/LOCAL-ACCESS-USER_USER-NAME.html"><span class="font-st">&lt; </span>Previous topic</a> 
    <a href="../v3r23c00/LOCAL-USER_CHANGE-PASSWORD.html">Next topic<span class="font-st"> &gt;</span></a> 
   </div> 
  </div>  
 </body>
</html>