
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ospf smart-discover">
<meta name="DC.subject" content="ospf smart-discover">
<meta name="keywords" content="ospf smart-discover">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_OSPF_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/OSPFCHKRTIDCONF(OSPFCOMMOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/OSPF-SMART-DISCOVERY-MA(OSPFCOMMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_OSPFCOMMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907763252">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ospf smart-discover</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907763252"></a><a name="EN-US_CLIREF_0000001907763252"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">ospf smart-discover</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907763252__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">ospf smart-discover</span></b> command enables smart-discover on an interface.</p>
<p>The <b><span class="cmdname">undo ospf smart-discover</span></b> command disables smart-discover from an interface.</p>
</p>
<p>By default, smart-discover is disabled on interfaces.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907763252__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">ospf smart-discover</span></b></p>

<p><b><span class="cmdname">undo ospf smart-discover</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907763252__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
None
</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907763252__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100GE interface view,</span><span>10GE interface view,</span><span>200GE interface view,</span><span>25GE sub-interface view,</span><span>25GE interface view,</span><span>400GE interface view,</span><span>50GE sub-interface view,</span><span>50GE interface view,</span><span>Eth-Trunk interface view,</span><span>Tunnel interface view,</span><span>VBDIF interface view,</span><span>VLANIF interface view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907763252__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907763252__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>Generally, routers periodically send Hello packets through OSPF interfaces to establish and maintain OSPF neighbor relationships and elect a DR or BDR on a multi-access network (broadcast or NBMA network). However, Hello packets are not sent to neighbors until the Hello timer expires, which slows down the establishment of neighbor relationships and DR or BDR election.<p></p>
<span>To address this problem</span>, run the ospf smart-discover multi-area command to enable smart-discover on a multi-area adjacency interface so that Hello packets are sent to neighbors immediately, regardless of the Hello timer.</p>
<p><strong>Implementation Procedure</strong></p>
<p>If smart-discover is enabled on a broadcast or NBMA interface, it works as follows:</p>

<ul><li>If the neighbor status reaches 2-way for the first time or returns to Init from 2-way or a higher state, the smart-discover-capable interface sends Hello packets to its neighbor immediately when detecting that the neighbor's status changes.</li><li>If the interface status of the DR or BDR on the multi-access network changes, the smart-discover-capable interface sends Hello packets within its network segment and participates in DR or BDR election.<p></p>
<span>The fast neighbor relationship establishment process</span> on a P2P or P2MP network is similar to that on a broadcast or NBMA network.</li></ul>
<p><strong>Precautions</strong></p>
<p>The default interval for sending Hello packets varies according to the network type.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907763252__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable smart-discover.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span><span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ospf smart-discover</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_OSPF_Configuration_Commands_title.html">OSPF Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/OSPFCHKRTIDCONF(OSPFCOMMOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/OSPF-SMART-DISCOVERY-MA(OSPFCOMMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>