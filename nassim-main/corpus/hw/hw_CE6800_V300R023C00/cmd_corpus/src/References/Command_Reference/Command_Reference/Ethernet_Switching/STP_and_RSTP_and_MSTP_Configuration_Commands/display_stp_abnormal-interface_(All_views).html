
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="display stp abnormal-interface (All views)">
<meta name="DC.subject" content="display stp abnormal-interface (All views)">
<meta name="keywords" content="display stp abnormal-interface (All views)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Spanning_Tree_Protocol_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/PROCDISPLAYSTP_6(MSTPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/PROCDISPLAYSTP_3(MSTPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="STP">
<meta name="featurename" content="RSTP">
<meta name="featurename" content="MSTP">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="STP">
<meta name="featurename" content="RSTP">
<meta name="featurename" content="MSTP">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featurename" content="STP">
<meta name="featurename" content="RSTP">
<meta name="featurename" content="MSTP">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Creator" content="SUBSYS_ID_MSTPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942841145">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>display stp abnormal-interface (All views)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942841145"></a><a name="EN-US_CLIREF_0000001942841145"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">display stp abnormal-interface (All views)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942841145__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">display stp abnormal-interface</span></b> command displays information about abnormal interfaces running the Spanning Tree Protocol (STP).</p>
</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942841145__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">display stp </span></b>[ <strong><span>instance</span></strong> <i><span class="varname">instance-id</span></i> ] <strong><span>abnormal-interface</span></strong></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942841145__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>instance</span></strong> <i><span class="varname">instance-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Displays the status of and statistics about a spanning tree instance.</p>
<p>If instance &lt;instance-id&gt; is not specified, the status of and statistics about all spanning tree instances will be displayed in the sequence of the interface numbers.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 4094, Value 0 indicates CIST.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942841145__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>All views</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942841145__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>1: Monitoring level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942841145__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>If a device has many interfaces, querying information about abnormal STP interfaces by running the <b><span class="cmdname">display stp</span></b> command takes a long time.<p></p>
<span>To shorten the time</span>, run the display stp abnormal-interface command.</p>
</p>
<p><strong>Precautions</strong></p>
<p><p>If you run this command in the MSTP process view without specifying an MSTP process, information about the MSTP process in this view is displayed by default. If you run this command in other views without specifying the ID of an MSTP process, information about MSTP process 0 is displayed by default. If you specify the ID of an MSTP process, information about the MSTP process with the specified ID is displayed.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942841145__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The actual command output varies according to the device. The command output here is only an example.</p>
</div></div>

<div class="p"># Display information about abnormal STP interfaces in instance 0.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>display stp instance 0 abnormal-interface</strong>
MSTID    Interface                     Status          Reason                   
    0    100GE<span>1/0/1</span>                    discarding      loop-protected           
    0    100GE<span>1/0/2</span>                    down            bpdu-protected           
    0    100GE<span>1/0/3</span>                    discarding      root-protected           
    0    100GE<span>1/0/4</span>                    discarding      loop-detected
</pre>
</div>


<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Description of the <b><span class="cmdname">display stp abnormal-interface (All views)</span></b> command output</caption>
    
    
<thead align="left">
<tr>
<th align="left" class="cellrowborder" valign="top" width="44.5%" id="mcps1.3.7.3.2.3.1.1" liSelected="liSelected">Item</th>

<th align="left" class="cellrowborder" valign="top" width="55.50000000000001%" id="mcps1.3.7.3.2.3.1.2" liSelected="liSelected">Description</th>

</tr>

</thead>

<tbody>
<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">MSTID</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>MSTP instance ID.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Interface</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Interface type.</p>
</td>

</tr>


<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Status</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><div class="p"><p>Status of an interface after the STP protection takes effect:</p>
<ul><li>down: The physical status of the interface is Down (including error-down).</li><li>discarding: The interface is blocked after the topology of the spanning tree becomes stable.</li></ul>
</div>
</td>

</tr>


<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Reason</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><div class="p"><p>An STP interface becomes abnormal due to one of the following:</p>
<ul><li>root-protected: The root protection takes effect.</li><li>loop-protected: The loop protection takes effect.</li><li>bpdu-protected: The bridge protocol data unit (BPDU) protection takes effect.</li><li>loop-detected: The ring detection takes effect.</li></ul>
</div>
</td>

</tr>

</tbody>

</table>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Spanning_Tree_Protocol_Configuration_Commands_title.html">STP/RSTP/MSTP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/PROCDISPLAYSTP_6(MSTPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/PROCDISPLAYSTP_3(MSTPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>