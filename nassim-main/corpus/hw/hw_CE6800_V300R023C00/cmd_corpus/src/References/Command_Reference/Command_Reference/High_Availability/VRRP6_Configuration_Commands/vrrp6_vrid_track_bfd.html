
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="vrrp6 vrid track bfd">
<meta name="DC.subject" content="vrrp6 vrid track bfd">
<meta name="keywords" content="vrrp6 vrid track bfd">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_VRRP6_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/TRACKADMINVRRP(VRRP6OM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/TRACKIF(VRRP6OM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="VRRP6">
<meta name="featuretype" content="High Availability">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="VRRP6">
<meta name="featuretype" content="High Availability">
<meta name="featurename" content="VRRP6">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="DC.Creator" content="SUBSYS_ID_VRRP6OM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942846645">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>vrrp6 vrid track bfd</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942846645"></a><a name="EN-US_CLIREF_0000001942846645"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">vrrp6 vrid track bfd</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942846645__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">vrrp6 vrid track bfd</span></b> command enables a Virtual Router Redundancy Protocol for IPv6 (VRRP6) backup group to monitor a BFD session.</p>
<p>The <b><span class="cmdname">undo vrrp6 vrid track bfd</span></b> command disables a VRRP6 backup group from monitoring a BFD session.</p>
</p>
<p>By default, a VRRP6 backup group does not monitor a BFD session.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942846645__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">vrrp6 vrid </span></b><i><span class="varname">virtual-router-id</span></i> <strong><span>track</span></strong> <strong><span>bfd</span></strong> <i><span class="varname">bfd-session-id</span></i> [ <strong><span>increase</span></strong> <i><span class="varname">value-increased</span></i> | <strong><span>reduce</span></strong> <i><span class="varname">value-reduced</span></i> ]</p>

<p><b><span class="cmdname">vrrp6 vrid </span></b><i><span class="varname">virtual-router-id</span></i> <strong><span>track</span></strong> <strong><span>bfd</span></strong> <strong><span>session-name</span></strong> <i><span class="varname">bfd-configure-name</span></i> [ <strong><span>increase</span></strong> <i><span class="varname">value-increased</span></i> | <strong><span>reduce</span></strong> <i><span class="varname">value-reduced</span></i> ]</p>

<p><b><span class="cmdname">vrrp6 vrid </span></b><i><span class="varname">virtual-router-id</span></i> <strong><span>track</span></strong> <strong><span>bfd</span></strong> <i><span class="varname">bfd-session-id</span></i> { <strong><span>peer</span></strong> | <strong><span>link</span></strong> }</p>

<p><b><span class="cmdname">vrrp6 vrid </span></b><i><span class="varname">virtual-router-id</span></i> <strong><span>track</span></strong> <strong><span>bfd</span></strong> <strong><span>session-name</span></strong> <i><span class="varname">bfd-configure-name</span></i> { <strong><span>peer</span></strong> | <strong><span>link</span></strong> }</p>

<p><b><span class="cmdname">undo vrrp6 vrid </span></b><i><span class="varname">virtual-router-id</span></i> <strong><span>track</span></strong> <strong><span>bfd</span></strong> [ <i><span class="varname">bfd-session-id</span></i> | <strong><span>session-name</span></strong> <i><span class="varname">bfd-configure-name</span></i> ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942846645__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">virtual-router-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the ID of a VRRP6 group.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 255.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">bfd-session-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the local discriminator of a monitored BFD session.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 16384.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>increase</span></strong> <i><span class="varname">value-increased</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a value by which the priority of a VRRP6 group increases when the tracked BFD session changes from up to down.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 255. As 255 is the priority of an IP address owner, the largest priority can be set to 254.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>reduce</span></strong> <i><span class="varname">value-reduced</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a value by which the priority of a VRRP6 group decreases when the tracked BFD session changes from up to down.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 255. The smallest value can be set to 1. By default, the priority decreases by 10 when a monitored BFD session goes Down.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>session-name</span></strong> <i><span class="varname">bfd-configure-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a monitored BFD session.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><p>The value is a string of 1 to 64 characters, spaces not supported. If spaces are used, the string must start and end with double quotation marks (").</p>
<ul><li>When configuring a BFD session name, ensure that the uppercase and lowercase letters in the name are the same as those entered by the user.</li><li>The system does not distinguish between uppercase and lowercase letters when checking the name of a BFD session. For example, ABC and abc are considered as a BFD session name. If ABC has been configured, the BFD session view of ABC is directly displayed when abc is configured.</li></ul>
</div>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>peer</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that a monitored BFD session is a peer BFD session.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>link</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that a monitored BFD session is a link BFD session.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942846645__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100GE interface view,</span><span>10GE interface view,</span><span>200GE interface view,</span><span>25GE interface view,</span><span>400GE interface view,</span><span>50GE interface view,</span><span>Eth-Trunk interface view,</span><span>VLANIF interface view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942846645__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942846645__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>If the link between routers in a VRRP6 backup group fails, the VRRP6 backup group performs a master/backup VRRP switchover only after a period of three times the interval at which VRRP6 Advertisement packets are sent. During this period, service data may be lost. BFD can rapidly detect link faults. You can run the vrrp6 vrid track bfd-session command to enable a VRRP6 backup group to monitor a BFD session. When the status of the monitored BFD session changes, the BFD module notifies the VRRP6 module of the change. The VRRP6 module changes the priority or status based on configurations to implement a rapid master/backup VRRP switchover.</p>

<ul><li>To enable a VRRP6 backup group to monitor a common BFD session, run the <b><span class="cmdname">vrrp6 vrid track bfd</span></b> command. When the BFD module notifies the VRRP6 module of a BFD session status change, the VRRP6 module increases or decreases the priority to implement a master/backup VRRP switchover. Usually, backup routers use BFD sessions to monitor the master router.</li><li>To enable a VRRP6 backup group to monitor a peer or link BFD session, run the <b><span class="cmdname">vrrp6 vrid track bfd</span></b> command. If peer or link BFD detects a fault and the peer or link BFD session goes Down, the BFD module notifies the VRRP6 module of the status change. After receiving the notification, the VRRP6 module directly performs a master/backup VRRP switchover without changing the priority. A VRRP6 router can determine a local or remote link fault based on the status of the peer or link BFD session.</li></ul>
<p><strong>Prerequisites</strong></p>
<ul><li>A VRRP6 backup group has been created using the <b><span class="cmdname">vrrp6 vrid virtual-ip</span></b> command.</li><li>BFD has been enabled using the <b><span class="cmdname">bfd</span></b> command.</li><li>A static BFD session has been created using the <b><span class="cmdname">bfd bind peer-ip</span></b> command, and a local discriminator has been configured for the static BFD session using the <b><span class="cmdname">discriminator</span></b> command. Or a static BFD session with automatically negotiated discriminators has been created using the <b><span class="cmdname">bfd bind peer-ip source-ip auto</span></b> command.</li></ul>
<p><strong>Configuration Impact</strong></p>
<p>When you run the vrrp6 vrid virtual-router-id track bfd { bfd-session-id | session-name bfd-configure-name } [ increased value-increased | reduce value-reduced ] command to enable a VRRP6 backup group to monitor a BFD session, the specified increased value-increased or reduced value-reduced parameter value affects the status of the VRRP6 backup group. The specified parameter value only needs to ensure that a master/backup VRRP switchover can be performed. For example, if the master router's priority is 120 (which can be viewed using the <b><span class="cmdname">display vrrp6 brief</span></b> command) and a backup router's priority is 110, you need to set the increased value-increased parameter to 20 only on the backup router.<p></p>
<span>After you enable a VRRP6 backup group to monitor a</span> link BFD session, you cannot change the BFD session type. To change the BFD session type, you must first disable the VRRP6 backup group from monitoring the link BFD session.</p>
<p><strong>Precautions</strong></p>
<p>After you enable a VRRP6 backup group to monitor a BFD session, an IP address owner's priority does not change because it is fixed at 255.<p></p>
<span>The VRRP6 considers that the BFD session detects a</span> Down event in the following situations:</p>

<ul><li>No BFD session is configured on a peer device.</li><li>The peer BFD session is shut down.</li><li>The peer BFD session is deleted.</li><li>BFD session negotiation fails.</li><li>The BFD session is Down.<p></p>
<span>The VRRP6 considers that the BFD session detects a</span>n Up event in the following situations:</li><li>BFD session negotiation is successful.</li><li>The BFD session changes from Down to Up.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942846645__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">


<div class="p"># Enable VRRP6 backup group 1 to monitor a BFD session with the local discriminator set to 1.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>bfd</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bfd] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>bfd 1 bind peer-ipv6 2001:db8::1 source-ipv6 2001:db8::2 auto</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bfd-session-1] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ipv6 enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ipv6 address 2001:db8::2 64</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>vrrp6 vrid 1 virtual-ip FE80::7 link-local</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>vrrp6 vrid 1 track bfd 1 reduce 20</strong>
</pre>
</div>

<div class="p"># Enable VRRP6 backup group 3 to monitor a peer BFD session on <span>100GE</span> <span>1/0/3</span>.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>bfd</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bfd] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>bfd peer1 bind peer-ipv6 2001:db8::1 source-ipv6 2001:db8::2 auto</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bfd-session-peer1] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/3</span></strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/3</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/3</span>] <strong>ipv6 enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/3</span>] <strong>ipv6 address 2001:db8::2 64</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/3</span>] <strong>vrrp6 vrid 3 virtual-ip FE80::7 link-local</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/3</span>] <strong>vrrp6 vrid 3 track bfd session-name peer1 peer</strong>
</pre>
</div>


<div class="p"># Enable VRRP6 backup group 2 to monitor a static BFD session named atob with automatically negotiated discriminators.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>bfd</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bfd] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>bfd atob bind peer-ipv6 2001:db8::1 source-ipv6 2001:db8::2 auto</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bfd-session-atob] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/2</span></strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/2</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/2</span>] <strong>ipv6 enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/2</span>] <strong>ipv6 address 2001:db8::2 64</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/2</span>] <strong>vrrp6 vrid 2 virtual-ip FE80::7 link-local</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/2</span>] <strong>vrrp6 vrid 2 track bfd session-name atob reduce 20</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_VRRP6_Configuration_Commands_title.html">VRRP6 Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/TRACKADMINVRRP(VRRP6OM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/TRACKIF(VRRP6OM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>