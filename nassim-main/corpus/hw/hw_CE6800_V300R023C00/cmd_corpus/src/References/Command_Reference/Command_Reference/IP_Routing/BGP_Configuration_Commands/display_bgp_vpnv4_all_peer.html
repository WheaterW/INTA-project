
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="display bgp vpnv4 all peer">
<meta name="DC.subject" content="display bgp vpnv4 all peer">
<meta name="keywords" content="display bgp vpnv4 all peer">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_BGP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DISPLAY-BGP-VPNTARGET-RT-ST(BGPVPNTARGET).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DISPLAY-BGP-VPNV4-PEER(BGPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_BGPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907763740">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>display bgp vpnv4 all peer</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907763740"></a><a name="EN-US_CLIREF_0000001907763740"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">display bgp vpnv4 all peer</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907763740__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">display bgp vpnv4 all peer</span></b> command displays information about all BGP VPNv4 peers.</p>
</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907763740__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">display bgp vpnv4 all peer</span></b></p>


<p><b><span class="cmdname">display bgp instance </span></b><i><span class="varname">instance-name</span></i> <strong><span>vpnv4</span></strong> <strong><span>all</span></strong> <strong><span>peer</span></strong></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907763740__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>instance</span></strong> <i><span class="varname">instance-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a BGP multi-instance.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 31 case-sensitive characters without spaces. When double quotation marks are used around the string, spaces are allowed in the string.</p>
</td>
</tr>

</table></div>


</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907763740__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>All views</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907763740__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>1: Monitoring level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907763740__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p>The <b><span class="cmdname">display bgp vpnv4 all peer</span></b> command can be used to locate faults. For example, when a peer is disconnected, you can view the log information of the specified peer to know the time when the peer is disconnected and the cause of the disconnection (error code and sub-error code).<p></p>
<span>After slow BGP peer detection is enabled</span>, you can run the <b><span class="cmdname">display bgp vpnv4 all peer</span></b> command to view information about slow BGP peers. The information includes the time when a peer began to be identified as a slow peer, the time when a peer last exited the slow peer state, the number of times a peer has been identified as a slow peer, and the remaining time for a peer to exit the slow peer state.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907763740__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The actual command output varies according to the device. The command output here is only an example.</p>
</div></div>


<div class="p"># Display information about peers.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>display bgp vpnv4 all peer</strong>
 
 BGP local router ID : 10.1.1.1
 Local AS number : 100
 Total number of peers : 1                 Peers in established state : 1

  Peer                             V          AS  MsgRcvd  MsgSent  OutQ  Up/Down       State  PrefRcv
  10.1.1.2                        4         100        7        7     0 00:03:04 Established        0
</pre>
</div>


<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Description of the <b><span class="cmdname">display bgp vpnv4 all peer</span></b> command output</caption>
    
    
<thead align="left">
<tr>
<th align="left" class="cellrowborder" valign="top" width="44.5%" id="mcps1.3.7.3.2.3.1.1" liSelected="liSelected">Item</th>

<th align="left" class="cellrowborder" valign="top" width="55.50000000000001%" id="mcps1.3.7.3.2.3.1.2" liSelected="liSelected">Description</th>

</tr>

</thead>

<tbody>
<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Total number of peers</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Number of current peers or slow peers.</p>
</td>

</tr>


<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Peer</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Address of a peer or slow peer.</p>
</td>

</tr>




<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">BGP local router ID</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Local router ID of BGP.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Local AS number</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Local AS number.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">AS</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>AS number of the BGP peer.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Peers in established state</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Number of BGP peers in Established state.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">V</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>BGP version used on the peer.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">MsgRcvd</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Statistics about messages received from peers. The received messages are defined in BGP, such as Update and Open messages.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">MsgSent</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Statistics about messages sent to the peer. The sent messages are defined in BGP, such as Update and Open messages.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">OutQ</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Number of route prefixes to be sent to the peer after being grouped. The statistics include update and withdraw statistics.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Up/Down</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Duration of the BGP session staying in the current state. If the duration exceeds 9999 hours, it is displayed in the format of ****hxxm.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">State</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><div class="p"><p>Current BGP status:</p>
<ul><li>Idle: BGP denies any connection request. This is the initial state of BGP.</li></ul>
<p>After receiving a Start event, BGP initiates a TCP connection to the peer, starts the ConnectRetry Timer, listens to TCP messages from the peer, and changes its state to Connect.</p>
<ul><li>Connect: BGP waits for the TCP connection to be established before performing subsequent operations.</li></ul>
<ol><li> If the TCP connection is successfully established, BGP stops the ConnectRetry Timer, sends an Open message to the peer, and changes its state to Opensent.</li><li> If the TCP connection fails to be established, BGP restarts the ConnectRetry Timer with the initial value, listens for a TCP connection initiated by the peer, and changes its state to Active.</li><li> If the ConnectRetry timer expires, BGP restarts the ConnectRetry timer and attempts to establish a TCP connection with the peer again. At this time, BGP remains in the Connect state.</li></ol>
<ul><li>Active: BGP attempts to establish a TCP connection. This is the intermediate state of BGP.</li></ul>
<ol><li> If the TCP connection is successfully established, BGP resets the ConnectRetry timer and sends an Open message to the peer. BGP then enters the Opensent state.</li><li> If the ConnectRetry timer expires, BGP restarts the ConnectRetry timer and enters the Connect state.</li><li> If BGP attempts to establish a TCP session with an unknown IP address, the TCP connection fails, the ConnectRetry Timer is reset, and BGP remains in the Active state.</li></ol>
<ul><li>OpenSent: BGP has sent an Open message to the peer and is waiting for an Open message from the peer.</li></ul>
<ol><li> If BGP receives a correct Open message, BGP enters the OpenConfirm state.</li><li> If BGP receives an incorrect Open message, BGP sends a Notification message to the peer and enters the Idle state.</li><li> If BGP receives a TCP connection teardown message, BGP restarts the ConnectRetry Timer with the initial value, listens to a TCP connection initiated by the peer, and changes its state to Active.</li></ol>
<ul><li>OpenConfirm: BGP is waiting for a Notification or Keepalive message.</li></ul>
<ol><li> If BGP receives a Notification message or a TCP connection teardown message, BGP enters the Idle state.</li><li> If BGP receives a Keepalive message, BGP enters the Established state.</li></ol>
<ul><li>Established: BGP peers can exchange Update, Notification, and Keepalive messages.</li></ul>
<ol><li> If BGP receives an Update or Keepalive message, BGP remains in the Established state.</li><li> If BGP receives a Notification message, BGP enters the Idle state.</li></ol>
<ul><li>No neg: The address family is not enabled on the peer BGP peer. In this state, Update messages can be exchanged in other successfully negotiated address families. If the address family is enabled on the peer BGP peer, the local BGP peer receives a Notification message. The peer relationship is disconnected and enters the Idle state. The peer relationship is re-established.</li></ul>
</div>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">PrefRcv</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Number of route prefixes received by the local peer from the remote peer.</p>
</td>

</tr>

</tbody>

</table>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_BGP_Configuration_Commands_title.html">BGP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DISPLAY-BGP-VPNTARGET-RT-ST(BGPVPNTARGET).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/DISPLAY-BGP-VPNV4-PEER(BGPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>