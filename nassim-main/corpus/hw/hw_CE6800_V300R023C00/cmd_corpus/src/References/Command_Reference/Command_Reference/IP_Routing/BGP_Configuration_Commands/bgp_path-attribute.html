
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="bgp path-attribute">
<meta name="DC.subject" content="bgp path-attribute">
<meta name="keywords" content="bgp path-attribute">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_BGP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/BGPCTRLPAFOFF(BGPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/BGPSUPPORTYANGENABLE(BGPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_BGPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907603648">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>bgp path-attribute</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907603648"></a><a name="EN-US_CLIREF_0000001907603648"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">bgp path-attribute</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907603648__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">bgp path-attribute</span></b> command configures the processing mode of the specified incorrect path attribute.</p>
<p>The <b><span class="cmdname">undo bgp path-attribute</span></b> command restores the default configuration.</p>
</p>
<p><p>
By default, path attribute messages are processed according to the standard protocol.
</p>
<p>
If the value of the Originator_ID attribute is 0, the route corresponding to the attribute is withdrawn. If the value of the Originator_ID attribute in the Attr_Set attribute is 0, the route corresponding to the attribute is withdrawn.
</p>
<p>
If the length of the Community, Ext-community, IPv6 ext-community, Large-community, Wide-community or Cluster_List attribute is 0, the route corresponding to the attribute is withdrawn. If the length of the Community, Ext-community, IPv6 ext-community, Large-community, Wide-community or Cluster_List sub-attribute in the Attr_Set attribute is 0, the route corresponding to the attribute is withdrawn.
</p>
</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907603648__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p>For CE8851-32CQ8DQ-P, CE8850-HAM, CE8850-SAN, CE8851K, CE8855, CE8851-32CQ4BQ, CE6860-SAN, CE6866, CE6860-HAM, CE6866K, CE6820H, CE6820H-K, CE6820S, CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6855-48XS8CQ, CE6885, CE6885-T, CE6885-LL (standard forwarding mode), CE6863E-48S8CQ, CE6885-SAN, CE6885-LL (low latency mode): </p>

<p><b><span class="cmdname">bgp path-attribute </span></b>{ <strong><span>originator-id</span></strong> | <strong><span>attr-set</span></strong> } <strong><span>accept-zero-value</span></strong></p>

<p><b><span class="cmdname">undo bgp path-attribute </span></b>{ <strong><span>originator-id</span></strong> | <strong><span>attr-set</span></strong> } <strong><span>accept-zero-value</span></strong></p>

<p>For CE8851-32CQ8DQ-P, CE8850-HAM, CE8850-SAN, CE8851K, CE8855, CE8851-32CQ4BQ, CE6860-SAN, CE6866, CE6860-HAM, CE6866K, CE6820H, CE6820H-K, CE6820S, CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6855-48XS8CQ, CE6885, CE6885-T, CE6885-LL (standard forwarding mode), CE6863E-48S8CQ, CE6885-SAN: </p>

<p><b><span class="cmdname">bgp path-attribute </span></b>{ <strong><span>community</span></strong> | <strong><span>ext-community</span></strong> | <strong><span>ipv6-ext-community</span></strong> | <strong><span>large-community</span></strong> | <strong><span>attr-set</span></strong> | <strong><span>wide-community</span></strong> | <strong><span>cluster-list</span></strong> } <strong><span>accept-zero-length</span></strong></p>

<p><b><span class="cmdname">undo bgp path-attribute </span></b>{ <strong><span>community</span></strong> | <strong><span>ext-community</span></strong> | <strong><span>ipv6-ext-community</span></strong> | <strong><span>large-community</span></strong> | <strong><span>attr-set</span></strong> | <strong><span>wide-community</span></strong> | <strong><span>cluster-list</span></strong> } <strong><span>accept-zero-length</span></strong></p>

<p>For CE6885-LL (low latency mode): </p>

<p><b><span class="cmdname">bgp path-attribute </span></b>{ <strong><span>community</span></strong> | <strong><span>ext-community</span></strong> | <strong><span>large-community</span></strong> | <strong><span>attr-set</span></strong> | <strong><span>wide-community</span></strong> | <strong><span>cluster-list</span></strong> } <strong><span>accept-zero-length</span></strong></p>

<p><b><span class="cmdname">undo bgp path-attribute </span></b>{ <strong><span>community</span></strong> | <strong><span>ext-community</span></strong> | <strong><span>large-community</span></strong> | <strong><span>attr-set</span></strong> | <strong><span>wide-community</span></strong> | <strong><span>cluster-list</span></strong> } <strong><span>accept-zero-length</span></strong></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907603648__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>originator-id</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the Originator_ID attribute.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>attr-set</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the Attr_Set attribute.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>accept-zero-value</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates to accept the path attributes with a value of 0.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>community</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the community attribute.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ext-community</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the Ext-community attribute.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ipv6-ext-community</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the IPv6-ext-community attribute.</p>
</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>This parameter is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>large-community</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the Large-community attribute.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>wide-community</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the Wide-community attribute.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cluster-list</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the Cluster_List attribute.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>accept-zero-length</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates to accept zero-length path attributes.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907603648__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907603648__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907603648__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>If the local device receives an Update message with an incorrect format (containing a path attribute with a length of 0 or a value of 0), BGP session flapping may occur. To resolve this problem, run the <b><span class="cmdname">bgp path-attribute</span></b> command to configure special processing for the specified incorrect BGP path attribute. The options are as follows:</p>

<ul><li>accept-zero-value: indicates that the path attribute with a zero value is accepted.</li><li>accept-zero-length: accepts zero-length path attributes.<p></p>
<span>After the</span> <b><span class="cmdname">bgp path-attribute attr-set accept-zero-value</span></b> command is run, if the value of the Originator_ID attribute in the Attr_Set attribute is 0, the route corresponding to the attribute can be accepted.<p></p>
<span>After the</span> <b><span class="cmdname">bgp path-attribute attr-set accept-zero-length</span></b> command is run, if the length of the Community, Ext-community, IPv6 ext-community, Large-community, Wide-community or Cluster_List attribute in the Attr_Set attribute is 0, the route corresponding to the attribute can be accepted.</li></ul>
<p><strong>Precautions</strong></p>
<p>This function takes effect immediately for the routes received after this command is executed. However, the routes received before this command is run do not take effect immediately. You need to run the <b><span class="cmdname">refresh bgp</span></b> command to make the configuration take effect.<p></p>
<span>The bgp path-attribute wide-community accept-zero-length</span> command does not take effect for the RPD address family. After an RPD route with the Wide-Community attribute of 0 is received, the route is still withdrawn.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907603648__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure the Originator_ID path attribute with a value of 0 to be accepted.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>bgp path-attribute originator-id accept-zero-value</strong>
</pre>
</div>

<div class="p"># Configure the device to accept the community path attribute with the length of 0.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>bgp path-attribute community accept-zero-length</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_BGP_Configuration_Commands_title.html">BGP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/BGPCTRLPAFOFF(BGPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/BGPSUPPORTYANGENABLE(BGPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>