
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="abr-summary (OSPFv3 area view)">
<meta name="DC.subject" content="abr-summary (OSPFv3 area view)">
<meta name="keywords" content="abr-summary (OSPFv3 area view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_OSPFv3_Configuration_Command_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/AREAV3(OSPFCOMMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="OSPFv3">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_OSPFCOMMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907763312">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>abr-summary (OSPFv3 area view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907763312"></a><a name="EN-US_CLIREF_0000001907763312"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">abr-summary (OSPFv3 area view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907763312__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">abr-summary</span></b> command configures route summarization on an area border router (ABR).</p>
<p>The <b><span class="cmdname">undo abr-summary</span></b> command disables route summarization from an ABR.</p>
</p>
<p>By default, route summarization is not configured on ABRs.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907763312__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">

<p><b><span class="cmdname">abr-summary </span></b><i><span class="varname">ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> [ <strong><span>not-advertise</span></strong> | <strong><span>cost</span></strong> <i><span class="varname">cost-value</span></i> ] <sup>*</sup></p>

<p><b><span class="cmdname">undo abr-summary </span></b><i><span class="varname">ipv6-address</span></i> <i><span class="varname">prefix-length</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907763312__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">ipv6-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the IPv6 address of a summary route.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a 32-digit hexadecimal number, in the format of X:X:X:X:X:X:X:X.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">prefix-length</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the prefix length of a summary route.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 128.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>not-advertise</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Prevents the summary route with the specified IPv6 prefix length from being advertised.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>By default, the summary route with the specified IPv6 prefix length is advertised.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cost</span></strong> <i><span class="varname">cost-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the cost of a summary route.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is an integer ranging from 0 to 16777214.</p>
<p>By default, the largest cost of the specific routes for summarization is used as the cost of the summary route.</p>
</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907763312__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>OSPFv3 area view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907763312__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907763312__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>Routes with the same IPv6 prefix can be summarized into one route. On a large-scale OSPFv3 network, route lookup may slow down because of the large size of the routing table. To reduce the routing table size and simplify management, configure route summarization. With route summarization, if a link connected to a device within an IPv6 address range that has been summarized alternates between Up and Down, the link status change is not advertised to the devices beyond the IPv6 address range. This prevents route flapping and improves network stability.<p></p>
<span>To configure route summarization on an ABR</span>, run the <b><span class="cmdname">abr-summary</span></b> command. When an ABR transmits routing information to other areas, it generates Type 3 LSAs for each network segment. If contiguous segments exist in this area, run the <b><span class="cmdname">abr-summary</span></b> command to summarize these segments into one segment so that the ABR sends only one summarized LSA. The summarization reduces the routing table size and improves device performance.</p>
<p><strong>Precautions</strong></p>
<p>This command applies only to ABRs and is used to summarize routes in an area. The <b><span class="cmdname">asbr-summary</span></b> command configures an AS boundary router (ASBR) to summarize routes imported by OSPFv3.</p>

<p>When the summarized route changes, the cost of the summary LSA may change, triggering route update. In specific scenarios, routing microloops may be triggered, causing temporary service interruptions. To prevent this problem, specify a fixed cost value when configuring summarization.</p>

<p>After routes are summarized:</p>

<ul><li>If the local device is a non-PE, the local device summarizes all intra-area routes within the summary address range configured using the command. The cost of the LSA generated after summarization is the largest cost of the summarized routes.</li><li>If the local device is a PE and the command is configured in the backbone area:</li><li>If BGP route import is configured and the cost value is set to inherit the minimum value (inherit-minimum), all Type 3 LSAs within the summary address range generated when BGP routes are imported are summarized, and the cost value of the LSA generated for the backbone area is the smallest cost value of the summarized routes.</li><li>If BGP route import is configured and inherit-minimum is not specified, all Type 3 LSAs within the summary address range generated when BGP routes are imported are summarized, and the maximum cost of the summarized routes is used as the cost of the LSA generated for the backbone area.</li><li>If intra-area routes within the summary address range exist in the backbone area, the maximum cost of all summarized routes is used as the cost of LSAs generated for areas outside the backbone area.</li><li>If a cost value is specified, the cost value of the LSA generated after summarization is the configured value.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907763312__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># In OSPFv3 area 1, summarize routes 2001:db8:1:1::/64 and 2001:db8:1:2::/64 into route 2001:db8:1::/48 with cost 400, and advertise the summarized route to other areas.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ospfv3 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospfv3-1] <strong>area 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospfv3-1-area-0.0.0.1] <strong>abr-summary 2001:db8:1:: 48 cost 400</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_OSPFv3_Configuration_Command_title.html">OSPFv3 Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/AREAV3(OSPFCOMMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>