<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
 <head> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="DC.Type" content="cliref"> 
  <meta name="DC.Title" content="dhcp server option"> 
  <meta name="DC.subject" content="dhcp server option"> 
  <meta name="keywords" content="dhcp server option"> 
  <meta name="product" content=""> 
  <meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-DHCP_Configuration_Commands_title.html"> 
  <meta name="DC.Relation" scheme="URI" content="../v3r23c00/DHCP_SERVER_NEXT-SERVER.html"> 
  <meta name="DC.Relation" scheme="URI" content="../v3r23c00/DHCP_SERVER_OPTION121.html"> 
  <meta name="prodname" content=""> 
  <meta name="version" content=""> 
  <meta name="brand" content="Product Documentation"> 
  <meta name="DC.Publisher" content="20230413"> 
  <meta name="featurename" content="DHCPv4"> 
  <meta name="featuretype" content="IP Addresses and Services"> 
  <meta name="DC.Audience.Job" content="Reference"> 
  <meta name="featurename" content="DHCPv4"> 
  <meta name="featuretype" content="IP Addresses and Services"> 
  <meta name="featurename" content="DHCPv4"> 
  <meta name="featuretype" content="IP Addresses and Services"> 
  <meta name="featuretype" content="IP Addresses and Services"> 
  <meta name="featuretype" content="IP Addresses and Services"> 
  <meta name="DC.Creator" content="SUBSYS_ID_ESAP_DHCPSERVER"> 
  <meta name="DC.Format" content="XHTML"> 
  <meta name="DC.Identifier" content="EN-US_CLIREF_0000001907762484"> 
  <meta name="DC.Language" content="en-us"> 
  <link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css"> 
  <link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css"> 
  <script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script> 
  <title>dhcp server option</title> 
  <style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style> 
 </head> 
 <body>
  <a name="EN-US_CLIREF_0000001907762484"></a>
  <a name="EN-US_CLIREF_0000001907762484"></a> 
  <div class="articleBoxWithoutHead"> 
   <h1 class="topicTitle-h1">dhcp server option</h1> 
   <div> 
    <div class="clifunc">
     <a name="EN-US_CLIREF_0000001907762484__1.3.1"></a>
     <a name="1.3.1"></a>
     <h2 class="sectiontitle">Function</h2> 
     <div class="clifuncbody"> 
      <p></p>
      <p>The <b><span class="cmdname">dhcp server option</span></b> command sets user-defined option for an interface address pool.</p> 
      <p>The <b><span class="cmdname">undo dhcp server option</span></b> command deletes user-defined option from an interface address pool.</p> 
      <p></p> 
      <p>By default, no user-defined option is configured in an interface address pool.</p> 
     </div>
    </div> 
    <div class="cliformat">
     <a name="EN-US_CLIREF_0000001907762484__1.3.2"></a>
     <a name="1.3.2"></a>
     <h2 class="sectiontitle">Format</h2> 
     <div class="cliformatbody"> 
      <p><b><span class="cmdname">dhcp server option </span></b><i><span class="varname">code</span></i> { <strong><span>ascii</span></strong> <i><span class="varname">ascii-string</span></i> | <strong><span>hex</span></strong> <i><span class="varname">hex-string</span></i> | <strong><span>cipher</span></strong> <i><span class="varname">cipher-string</span></i> | <strong><span>ip-address</span></strong> <i><span class="varname">ip-address</span></i> &amp;&lt;1-8&gt; }</p> 
      <p><b><span class="cmdname">dhcp server option </span></b><i><span class="varname">code</span></i> <strong><span>sub-option</span></strong> <i><span class="varname">sub-code</span></i> { <strong><span>ascii</span></strong> <i><span class="varname">sub-ascii-string</span></i> | <strong><span>hex</span></strong> <i><span class="varname">sub-hex-string</span></i> | <strong><span>cipher</span></strong> <i><span class="varname">sub-cipher-string</span></i> | <strong><span>ip-address</span></strong> <i><span class="varname">sub-ip-address</span></i> &amp;&lt;1-8&gt; }</p> 
      <p><b><span class="cmdname">undo dhcp server option </span></b>[ <i><span class="varname">code</span></i> [ <strong><span>sub-option</span></strong> <i><span class="varname">sub-code</span></i> ] ]</p> 
     </div>
    </div> 
    <div class="cliparam">
     <a name="EN-US_CLIREF_0000001907762484__1.3.3"></a>
     <a name="1.3.3"></a>
     <h2 class="sectiontitle">Parameters</h2> 
     <div class="cliparambody"> 
      <div class="tableBorder">
       <table cellpadding="4" cellspacing="0" summary=""> 
        <tbody>
         <tr> 
          <th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th> 
          <th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th> 
          <th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">code</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies the code for a user-defined option.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p></p><p>The value is an integer that ranges from 1 to 254, except values 1, 3, 6, 15, 44, 46, 50, 51, 52, 53, 54, 55, 57, 58, 59, 61, 82, 120, 121, and 184.</p> <p>The formats of Option121 and Option184 are different from those of other options.</p> <p>There are well-known options and customized options. For details about well-known options, see RFC 2132.</p> <p></p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>ascii</span></strong> <i><span class="varname">sub-ascii-string</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies the user-defined option code as an ASCII character string.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 253 case-sensitive characters, spaces supported.</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>ascii</span></strong> <i><span class="varname">ascii-string</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies the user-defined option code as an ASCII character string.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 255 case-sensitive characters that can contain spaces.</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>hex</span></strong> <i><span class="varname">hex-string</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies a user-defined option as hexadecimal characters.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 2 to 254 case-insensitive hexadecimal characters with an even number of digits, for example, hh or hhhh. The value can contain digits (0-9), uppercase letters (A-F), and lowercase letters (a-f).</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>hex</span></strong> <i><span class="varname">sub-hex-string</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies a user-defined option as hexadecimal characters.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 2 to 252 case-insensitive hexadecimal characters with an even number of digits, for example, hh or hhhh. The value can contain digits (0-9), uppercase letters (A-F), and lowercase letters (a-f).</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>cipher</span></strong> <i><span class="varname">cipher-string</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies the user-defined option code as a ciphertext character string.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value">
           <div class="p">
            <p>The value is a string of case-sensitive characters. It cannot contain spaces. The entered ciphertext character string can be in cleartext or ciphertext. The ciphertext is a character string starting and ending with %@ %# or %+ %#. If spaces are used, the string must start and end with double quotation marks (").</p> 
            <ul>
             <li>If a cleartext string is specified, the value is a string of 1 to 255 characters.</li>
             <li>If a ciphertext string is specified, the value is a string of 20 to 432 characters.</li>
            </ul> 
            <p>No matter whether the character string is entered in cleartext or ciphertext, the character string is displayed in ciphertext in the configuration file and in cleartext in packets.</p> 
           </div> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>cipher</span></strong> <i><span class="varname">sub-cipher-string</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies the user-defined option code as a ciphertext character string.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value">
           <div class="p">
            <p>The value is a string of case-sensitive characters. It cannot contain spaces. The entered ciphertext character string can be in cleartext or ciphertext. The ciphertext is a character string starting and ending with %@ %# or %+ %#. If spaces are used, the string must start and end with double quotation marks (").</p> 
            <ul>
             <li>If a cleartext string is specified, the value is a string of 1 to 253 characters.</li>
             <li>If a ciphertext string is specified, the value is a string of 20 to 432 characters.</li>
            </ul> 
            <p>No matter whether the character string is entered in cleartext or ciphertext, the character string is displayed in ciphertext in the configuration file and in cleartext in packets.</p> 
           </div> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>ip-address</span></strong> <i><span class="varname">ip-address</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies a user-defined option as an IP address.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>ip-address</span></strong> <i><span class="varname">sub-ip-address</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies a user-defined option as an IP address.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><strong><span>sub-option</span></strong> <i><span class="varname">sub-code</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies the code of a user-defined sub-option.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 1 to 254. For details about well-known options, see RFC 2132.</p> </td> 
         </tr> 
        </tbody>
       </table>
      </div> 
     </div>
    </div> 
    <div class="cliview">
     <a name="EN-US_CLIREF_0000001907762484__1.3.4"></a>
     <a name="1.3.4"></a>
     <h2 class="sectiontitle">Views</h2> 
     <div class="cliviewbody"> 
      <p>100ge sub-interface view,100GE interface view,10GE sub-interface view,10GE interface view,200GE sub-interface view,200GE interface view,25GE sub-interface view,25GE interface view,400GE sub-interface view,400GE interface view,50GE sub-interface view,50GE interface view,Eth-Trunk sub-interface view,Eth-Trunk interface view,VBDIF interface view,VLANIF interface view</p> 
     </div>
    </div> 
    <div class="clidefaultlevel">
     <a name="EN-US_CLIREF_0000001907762484__1.3.5"></a>
     <a name="1.3.5"></a>
     <h2 class="sectiontitle">Default Level</h2> 
     <div class="clidefaultlevelbody"> 
      <p>2: Configuration level</p> 
     </div>
    </div> 
    <div class="clidesc">
     <a name="EN-US_CLIREF_0000001907762484__1.3.6"></a>
     <a name="1.3.6"></a>
     <h2 class="sectiontitle">Usage Guidelines</h2> 
     <div class="clidescbody"> 
      <p><strong>Usage Scenario</strong></p> 
      <p>This command applies to DHCP servers. The Option field in a DHCP packet carries control information and parameters, including basic information such as the DNS service, NetBIOS service, and IP address lease. If a DHCP server is configured with option, when a DHCP client applies for an IP address from an interface address pool, the client can obtain configurations in the Option field of the DHCP response packet from the DHCP server without having to configure the DNS service, NetBIOS service, or IP address lease separately.</p> 
      <p><strong>Prerequisites</strong></p> 
      <ol>
       <li>The address of an interface address pool has been configured using the <b><span class="cmdname">ip address</span></b> command.</li>
       <li>The DHCP server function has been enabled on the interface using the <b><span class="cmdname">dhcp select interface</span></b> command.</li>
      </ol> 
      <p><strong>Precautions</strong></p> 
      <ul>
       <li>If an option contains a password, the ascii or hex type is insecure. You are advised to set the cipher type. A secure password should contain at least two types of the following: lowercase letters, uppercase letters, digits, and special characters. In addition, the password must consist of at least six characters.</li>
       <li>You can run the <b><span class="cmdname">dhcp server option</span></b> command to configure common functions, such as the NetBIOS service and IP address lease of the client. The configuration of related commands takes precedence. These commands take precedence over the <b><span class="cmdname">dhcp server option</span></b> command.</li>
       <li>You can run the <b><span class="cmdname">option</span></b> command to configure user-defined options for a global address pool.</li>
       <li>When an enterprise intranet user uses a proxy server to connect to the Internet, you need to set proxy server parameters to enable the browser to access the Internet. The network agent self-discovery protocol implements the automatic configuration of these parameters. The network administrator does not need to set these parameters on each client. To implement automatic network proxy discovery, the network administrator needs to deploy the proxy server configuration file in advance and run the <b><span class="cmdname">dhcp server option 252 ascii ascii-string</span></b> command to specify the URL of the configuration file. ascii-string specifies the URL of the configuration file, which is in the format of http://xxx/proxy.pac. Set ascii-string based on the actual path where the configuration file is stored. When a browser accesses the network, the browser applies for the URL of the proxy server configuration file from the DHCP server and downloads the file for automatic configuration. After the configuration is complete, the browser can access the Internet. The ascii-string cannot be enclosed in double quotation marks ("ascii-string"). Otherwise, terminals cannot parse Option 252.</li>
      </ul> 
     </div>
    </div> 
    <div class="cliexample">
     <a name="EN-US_CLIREF_0000001907762484__1.3.7"></a>
     <a name="1.3.7"></a>
     <h2 class="sectiontitle">Example</h2> 
     <div class="cliexamplebody"> 
      <div class="p">
       # Set Option64 to 0x11 (a hexadecimal number) for the interface address pool on 
       <span>100GE</span>
       <span>1/0/1</span>.
       <pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" face="Courier New">~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" face="Courier New">~</font></span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ip address 192.168.1.10 24</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>dhcp select interface</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>dhcp server option 64 hex 11</strong>
Info: The option configuration will be saved without encryption in the current format, which poses a high security risk. You are advised to use the cipher format.
</pre> 
      </div> 
     </div>
    </div> 
   </div> 
  </div> 
  <div class="footerNavBar clearfix"> 
   <div class="parentlink">
     Parent Topic: 
    <a href="../v3r23c00/dc_PNF-DHCP_Configuration_Commands_title.html">DHCPv4 Configuration Commands </a> 
   </div> 
   <div class="copyrightBottomBar">
     Copyright ? Huawei Technologies Co., Ltd.
   </div> 
   <div class="copyrightBottomBar_responsive">
     Copyright ? Huawei Technologies Co., Ltd.
   </div> 
   <div class="bottomNavBtn clearfix"> 
    <a href="../v3r23c00/DHCP_SERVER_NEXT-SERVER.html"><span class="font-st">&lt; </span>Previous topic</a> 
    <a href="../v3r23c00/DHCP_SERVER_OPTION121.html">Next topic<span class="font-st"> &gt;</span></a> 
   </div> 
  </div>  
 </body>
</html>