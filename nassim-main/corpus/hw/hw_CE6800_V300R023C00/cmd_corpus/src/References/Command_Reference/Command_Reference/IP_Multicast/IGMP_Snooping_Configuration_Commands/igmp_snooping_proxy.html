
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="igmp snooping proxy">
<meta name="DC.subject" content="igmp snooping proxy">
<meta name="keywords" content="igmp snooping proxy">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Layer_2_Multicast_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IGMP-SNOOPING-INST-ENABLE-BD-DC_13(L2MCOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IGMP-SNOOPING-INST-ENABLE-BD-DC_17(L2MCOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IGMP Snooping">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="IGMP Snooping">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IGMP Snooping">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Creator" content="SUBSYS_ID_L2MCOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942845629">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>igmp snooping proxy</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942845629"></a><a name="EN-US_CLIREF_0000001942845629"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">igmp snooping proxy</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942845629__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">igmp snooping proxy</span></b> command enables IGMP snooping proxy in a VLAN.</p>
<p>The <b><span class="cmdname">undo igmp snooping proxy</span></b> command disables IGMP snooping proxy in a VLAN.</p>
</p>
<p>By default, IGMP Snooping Proxy in a VLAN is disabled.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942845629__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">igmp snooping proxy</span></b></p>

<p><b><span class="cmdname">undo igmp snooping proxy</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942845629__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
None
</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942845629__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>VLAN range view,</span><span>VLAN view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942845629__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942845629__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>Forwarding entries are set up based on IGMP messages exchanged between a Layer 3 device and user hosts. If there are many user hosts, redundant IGMP messages increase the workload of the Layer 2 device.<p></p>
<span>IGMP Snooping Proxy can address this problem</span>. IGMP Snooping Proxy provides two functions: querier function and uniform Report/Leave message transmission function. The querier function enables an IGMP Snooping Proxy-enabled device to replace the connected upstream device to send IGMP Query messages. The uniform Report/Leave message transmission function enables an IGMP Snooping Proxy-enabled device to process IGMP Report/Leave messages received from downstream user hosts. Configuring IGMP Snooping Proxy on a device effectively saves bandwidth between the device and the connected upstream device, and reduces the load of the connected upstream device.</p>
<p><strong>Configuration Impact</strong></p>
<p>After IGMP Snooping Proxy is enabled on a device, Report messages sent by users will be terminated on the device.</p>
<p><strong>Precautions</strong></p>
<div class="p"><p>The <b><span class="cmdname">igmp snooping proxy</span></b> command can be configured only when the following conditions are met:</p>

<ul><li>The querier function can be configured on the local device only after static multicast groups are configured on the upstream device. Otherwise, Join messages of users cannot be sent to the upstream device, and users cannot receive multicast data flows.</li><li>When the links from the multicast source to users are on the same Layer 2 network, you can enable the querier function on the Layer 2 forwarding device. In this case, user multicast data packets can be normally received.<p></p>
<span>The querier function fails to be configured in a VLAN</span> in the following situations:</li><li>The dot1q sub-interface has been bound to the VLAN.</li><li>The querier function has been configured in the VLAN.</li><li>IGMP Report message suppression is configured in a VLAN using the <b><span class="cmdname">igmp snooping report-suppress</span></b> command.</li><li>PIM-SM  has been enabled on the VLANIF interface of the VLAN using the <b><span class="cmdname">pim sm</span></b> command.</li></ul>

<p>It is recommended that the IGMP version configured on the upstream device be the same as that configured on the local device.</p>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942845629__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable IGMP Snooping Proxy in VLAN 10.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>igmp snooping enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>vlan 10</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vlan10] <strong>igmp snooping proxy</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Layer_2_Multicast_Commands_title.html">IGMP Snooping Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/IGMP-SNOOPING-INST-ENABLE-BD-DC_13(L2MCOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/IGMP-SNOOPING-INST-ENABLE-BD-DC_17(L2MCOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>