
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="stp converge">
<meta name="DC.subject" content="stp converge">
<meta name="keywords" content="stp converge">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Spanning_Tree_Protocol_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/STPCONFIGDIGESTSNOOPL2(MSTPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/STPPORTCOSTL2(MSTPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="STP">
<meta name="featurename" content="RSTP">
<meta name="featurename" content="MSTP">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="STP">
<meta name="featurename" content="RSTP">
<meta name="featurename" content="MSTP">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featurename" content="STP">
<meta name="featurename" content="RSTP">
<meta name="featurename" content="MSTP">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Creator" content="SUBSYS_ID_MSTPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907602012">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>stp converge</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907602012"></a><a name="EN-US_CLIREF_0000001907602012"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">stp converge</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907602012__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">stp converge</span></b> command sets a convergence mode for a spanning tree protocol.</p>
<p>The <b><span class="cmdname">undo stp converge</span></b> command restores the default mode.</p>
</p>
<p>By default, the convergence mode is normal.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907602012__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">stp converge </span></b>{ <strong><span>fast</span></strong> | <strong><span>normal</span></strong> }</p>

<p><b><span class="cmdname">undo stp converge</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907602012__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>fast</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Directly deletes ARP entries.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>normal</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Ages ARP entries quickly.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907602012__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907602012__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907602012__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><p>On a Layer 2 network running STP, if the topology of a spanning tree instance changes, the forwarding paths of VLANs that are mapped to this instance change. As a result, ARP entries related to these VLANs need to be updated. Two methods are available:</p>

<ul><li>fast: Entries that need to be updated in an ARP table are directly deleted.</li><li>normal: Entries that need to be updated in an ARP table are quickly aged out. The lifetime of these ARP entries is set to 0. If the number of aging detection times is greater than 0, the device sends ARP probe packets before aging them.<p></p>
<span>To set a convergence mode based on the method for</span> processing ARP entries, run the stp converge command.</li></ul>
</div>
<p><strong>Configuration Impact</strong></p>
<p><p>If the stp converge fast command is run and the topology of a spanning tree instance changes, ARP entries that need to be updated are directly deleted from the ARP table.<p></p>
<span>If the stp converge normal command is run and the</span> topology of a spanning tree instance changes, ARP entries that need to be updated are aged out in the ARP table.</p>
</p>
<p><strong>Precautions</strong></p>
<p><p>Setting the convergence mode to normal is recommended. If the fast mode is used, frequent ARP entry deletion will affect services and even may cause the CPU usage of device to reach 100%. As a result, packet processing times out, causing network flapping.<p></p>
<span>In either fast or normal mode</span>, MAC address entries that need to be updated are deleted.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907602012__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the converging mode of a spanning tree protocol as normal.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>stp converge normal</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Spanning_Tree_Protocol_Configuration_Commands_title.html">STP/RSTP/MSTP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/STPCONFIGDIGESTSNOOPL2(MSTPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/STPPORTCOSTL2(MSTPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>