
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="traffic-analysis enable">
<meta name="DC.subject" content="traffic-analysis enable">
<meta name="keywords" content="traffic-analysis enable">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-Intelligent_Traffic_Analysis_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/TRAFFIC-ANALYSIS_UDP_TIMEOUT_INACTIVE.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Intelligent Traffic Analysis">
<meta name="featuretype" content="System Monitoring">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Intelligent Traffic Analysis">
<meta name="featuretype" content="System Monitoring">
<meta name="featurename" content="Intelligent Traffic Analysis">
<meta name="featuretype" content="System Monitoring">
<meta name="featuretype" content="System Monitoring">
<meta name="featuretype" content="System Monitoring">
<meta name="DC.Creator" content="SUBSYS_ID_DC_MQC">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907609216">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>traffic-analysis enable</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907609216"></a><a name="EN-US_CLIREF_0000001907609216"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">traffic-analysis enable</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907609216__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">traffic-analysis enable</span></b> command creates an action for enabling intelligent traffic analysis in a traffic behavior.</p>
<p>The <b><span class="cmdname">undo traffic-analysis enable</span></b> command deletes the action of enabling intelligent traffic analysis in a traffic behavior.</p>
</p>
<p>By default, no action of enabling intelligent traffic analysis is configured in a traffic behavior.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE8850-SAN, CE6885-LL (low latency mode), CE8851K, CE8851-32CQ8DQ-P and CE8850-HAM.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907609216__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">traffic-analysis enable</span></b></p>

<p><b><span class="cmdname">undo traffic-analysis enable</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907609216__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
None
</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907609216__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>Traffic behavior view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907609216__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907609216__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><ul><li>The UDP intelligent traffic analysis module of a device matches UDP traffic passing through the inbound interface based on ACL rules. Only common IPv4 UDP packets or inner IPv4 UDP packets encapsulated in IPv4 VXLAN packets can be matched. Matched traffic is sent to The TAP for analysis based on the block granularity.</li><li>The TCP intelligent traffic analysis module of a device matches TCP traffic passing through the inbound interface based on ACL rules and creates an intelligent traffic analysis flow table for in-depth analysis of matched traffic to obtain high-precision information such as the packet loss rate, delay, and traffic volume.</li></ul>
</div>
<p><strong>Prerequisites</strong></p>
<p>An ACL has been created by running the <b><span class="cmdname">acl</span></b> command in the system view before intelligent traffic analysis is enabled for TCP flows. Currently, only the following advanced ACL rules are supported. The ACL rules that are not supported cannot be delivered, preventing the TAP from receiving corresponding service flows.</p>

<ul><li>Rule 1: TCP + destination IPv4 or IPv6 address;</li><li>Rule 2: TCP + destination IPv4 or IPv6 address + destination TCP port number;</li><li>Rule 3: TCP + source IPv4 or IPv6 address + destination IPv4 or IPv6 address;</li><li>Rule 4: TCP + source IPv4 or IPv6 address + destination IPv4 or IPv6 address + destination TCP port number;</li><li>Rule 5: UDP + destination IPv4 address + source IPv4 address + destination UDP port number Note: In intelligent traffic analysis, the deny or permit action specified in an ACL rule does not take effect. As long as service flows match the preceding advanced ACL rules, they are sent to the TAP for processing.</li></ul>
<p><strong>Precautions</strong></p>
<ul><li>Intelligent traffic analysis for UDP flows cannot be performed for RoCEv2 packets whose destination UDP port number is 4791.</li><li>If you run this command multiple times, all configurations take effect.</li><li>The traffic policy containing the traffic behavior can be applied only to the inbound and outbound directions globally (including the slot). Only UDP is supported in the outbound direction.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907609216__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure a traffic behavior named b1 to enable intelligent traffic analysis.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>traffic behavior b1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-behavior-b1] <strong>traffic-analysis enable</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-Intelligent_Traffic_Analysis_Configuration_Commands_title.html">Intelligent Traffic Analysis Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/TRAFFIC-ANALYSIS_UDP_TIMEOUT_INACTIVE.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>