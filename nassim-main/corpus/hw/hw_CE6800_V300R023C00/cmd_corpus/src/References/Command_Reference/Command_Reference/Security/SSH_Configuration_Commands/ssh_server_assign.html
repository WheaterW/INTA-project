
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ssh server assign">
<meta name="DC.subject" content="ssh server assign">
<meta name="keywords" content="ssh server assign">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_SSH_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SERVER-ACL(SSHS).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SSH-SERVER-AUTHRETRY(SSHS).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="SSH">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="SSH">
<meta name="featuretype" content="Security">
<meta name="featurename" content="SSH">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="DC.Creator" content="SUBSYS_ID_SSHS">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000002159123696">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ssh server assign</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000002159123696"></a><a name="EN-US_CLIREF_0000002159123696"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">ssh server assign</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000002159123696__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">ssh server assign</span></b> command assigns a host key or PKI certificate to an SSH server.</p>
<p>The <b><span class="cmdname">undo ssh server assign</span></b> command deletes a host key or PKI certificate assigned to an SSH server.</p>
</p>
<p>By default, no key or PKI certificate is assigned to an SSH server.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000002159123696__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">ssh server assign </span></b>{ <strong><span>rsa-host-key</span></strong> <i><span class="varname">key-name</span></i> | <strong><span>dsa-host-key</span></strong> <i><span class="varname">key-name</span></i> | <strong><span>ecc-host-key</span></strong> <i><span class="varname">key-name</span></i> | <strong><span>sm2-host-key</span></strong> <i><span class="varname">key-name</span></i> | <strong><span>pki</span></strong> <i><span class="varname">key-name</span></i> }</p>


<p><b><span class="cmdname">undo ssh server assign rsa-host-key</span></b></p>

<p><b><span class="cmdname">undo ssh server assign dsa-host-key</span></b></p>

<p><b><span class="cmdname">undo ssh server assign ecc-host-key</span></b></p>

<p><b><span class="cmdname">undo ssh server assign sm2-host-key</span></b></p>

<p><b><span class="cmdname">undo ssh server assign pki</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000002159123696__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>rsa-host-key</span></strong> <i><span class="varname">key-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Assigns an RSA host key to an SSH server and specifies the name of the RSA host key.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 35 case-insensitive characters and can only contain digits, letters, and underscores (_).</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>dsa-host-key</span></strong> <i><span class="varname">key-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Assigns a DSA host key to an SSH server and specifies the name of the DSA host key.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 35 case-insensitive characters and can only contain digits, letters, and underscores (_).</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ecc-host-key</span></strong> <i><span class="varname">key-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Assigns an ECC host key to an SSH server and specifies the name of the ECC host key.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 35 case-insensitive characters and can only contain digits, letters, and underscores (_).</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>sm2-host-key</span></strong> <i><span class="varname">key-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Assigns an SM2 host key to an SSH server and specifies the name of the SM2 host key.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 35 case-insensitive characters and can only contain digits, letters, and underscores (_).</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>pki</span></strong> <i><span class="varname">key-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Assigns a PKI realm to an SSH server and specifies the name of the PKI realm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 64 case-insensitive characters without spaces. If an initial certificate is loaded to the specified PKI realm, the certificate is delivered in interactive mode.</p>
</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000002159123696__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000002159123696__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000002159123696__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>You can run this command to reference the generated RSA, DSA, SM2, and ECC keys or assign a PKI certificate to the SSH server to ensure security of the SSH server.</p>
</p>
<p><strong>Prerequisites</strong></p>
<div class="p"><p>A key pair has been created using one of the following commands based on the selected key:</p>

<ul><li>The <b><span class="cmdname">rsa key-pair label</span></b> command creates an RSA key pair with a specified label name.</li><li>The <b><span class="cmdname">dsa key-pair label</span></b> command creates a DSA key pair with a specified label name.</li><li>The <b><span class="cmdname">ecc key-pair label</span></b> command creates an ECC key pair with a specified label name.</li><li>The <b><span class="cmdname">sm2 key-pair label</span></b> command creates an SM2 key pair with a specified label name.</li><li>The <b><span class="cmdname">pki realm</span></b> command creates a PKI realm with a specified signature.</li><li>For security purposes, you are not advised to use the RSA algorithm whose length is fewer than 3072 digits for SSH user authentication. You are advised to use the ECC authentication algorithm instead.</li></ul>
</div>
<p><strong>Configuration Impact</strong></p>
<p>The RSA, DSA, or ECC key assigned to an SSH server takes precedence over the RSA, DSA, or ECC key created using the rsa local-key-pair create, dsa local-key-pair create, or ecc local-key-pair create command, respectively. If the ssh server assign command is not run, an SSH server uses the key-pair created using the rsa local-key-pair create, dsa local-key-pair create, or ecc local-key-pair create command.</p>
<p><strong>Precautions</strong></p>
<ul><li>The RSA host key and server key in a pair must differ in length by 128 bits. Otherwise, SSHv1 clients cannot log in to the server.</li><li>If an RSA host key and an RSA server key have been assigned to an SSH server, and the RSA host key or server key is changed, or the key length is changed in a local RSA key pair so that the keys do not differ in length by 128 bits, SSHv1 applications are affected.</li><li>Deleting an RSA, DSA, or ECC key pair also deletes the key assigned to an SSH server.</li><li>This command takes effect for both IPv4 and IPv6 clients.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000002159123696__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Assign an initial PKI certificate to the SSH server.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ssh server assign pki default</strong>
Warning: A preset certificate is loaded to the specified PKI domain. The current operation has security risks. Continue? [Y/N]:y
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>]
</pre>
</div>

<div class="p"># Assign a PKI certificate to an SSH server.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>ssh server assign pki domainA</strong>
</pre>
</div>

<div class="p"># Assign an SM2 host key named sm2key001 to an SSH server.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>sm2 key-pair label sm2key001</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>ssh server assign sm2-host-key sm2key001</strong>
</pre>
</div>

<div class="p"># Assign an ECC host key named ecckey to an SSH server.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ecc key-pair label ecckey</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>ssh server assign ecc-host-key ecckey</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_SSH_Configuration_Commands_title.html">SSH Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/SERVER-ACL(SSHS).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SSH-SERVER-AUTHRETRY(SSHS).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>