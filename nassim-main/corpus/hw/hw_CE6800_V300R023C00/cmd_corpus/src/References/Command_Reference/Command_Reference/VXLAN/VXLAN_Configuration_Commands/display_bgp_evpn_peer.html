
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="display bgp evpn peer">
<meta name="DC.subject" content="display bgp evpn peer">
<meta name="keywords" content="display bgp evpn peer">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_VXLAN_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DISPLAY-EVPN-GROUP(BGPEVPNOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DISPLAY-BGP-EVPN-PEER-IPV4(BGPEVPNOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="DC.Creator" content="SUBSYS_ID_BGPEVPNOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942846113">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>display bgp evpn peer</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942846113"></a><a name="EN-US_CLIREF_0000001942846113"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">display bgp evpn peer</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942846113__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">display bgp evpn slow-peer</span></b> command displays information about slow BGP EVPN peers.</p>
<p>The <b><span class="cmdname">display bgp evpn peer</span></b> command displays information about BGP EVPN peers.</p>
</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942846113__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">display bgp </span></b>[ <strong><span>instance</span></strong> <i><span class="varname">instance-name</span></i> ] <strong><span>evpn</span></strong> <strong><span>peer</span></strong></p>


<p><b><span class="cmdname">display bgp </span></b>[ <strong><span>instance</span></strong> <i><span class="varname">instance-name</span></i> ] <strong><span>evpn</span></strong> <strong><span>slow-peer</span></strong></p>


</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942846113__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>instance</span></strong> <i><span class="varname">instance-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Displays the information about BGP EVPN peers of a specified BGP instance.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 31 case-sensitive characters without spaces. When double quotation marks are used around the string, spaces are allowed in the string.</p>
</td>
</tr>

</table></div>


</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942846113__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>All views</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942846113__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>1: Monitoring level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942846113__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>To check the following information about BGP EVPN peers, run the <b><span class="cmdname">display bgp evpn peer</span></b> command:</p>

<ul><li>Status of connections between BGP EVPN peers</li><li>Configuration information about BGP EVPN peers</li><li>Whether BGP EVPN peers are successfully configured using the <b><span class="cmdname">peer enable</span></b> command</li><li>Whether BGP EVPN peers are successfully deleted using the <b><span class="cmdname">undo peer enable</span></b> command<p></p>
<span>To check information about slow BGP EVPN peers</span>, run the display bgp evpn slow-peer command. The information includes the time when a peer began to be identified as a slow peer, the time when a peer last exited from the slow peer state, the number of times a peer has been identified as a slow peer, and the remaining time for a peer to exit from the slow peer state.</li></ul>
<p><strong>Precautions</strong></p>
<p><p>When dynamic BGP EVPN peer relationships are being established or disconnected, statistics about the BGP EVPN peers may be inconsistent with the actual number of BGP EVPN peers. Therefore, you are advised to query statistics after the BGP EVPN peer status is stable.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942846113__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The actual command output varies according to the device. The command output here is only an example.</p>
</div></div>

<div class="p"># Display information about slow BGP EVPN peers.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>display bgp evpn slow-peer</strong>
Total number of peers : 2                 
 Switchback detection timer: Remaining 3581 Second(s)
 Peer                             LastSlowEndTime              SlowStartTime                SlowCount 
 10.1.1.1                          2016-04-10 20:41:33+00:00    2016-04-12 00:02:33+00:00    3 
 10.2.2.1                          2016-04-11 23:02:40+00:00    2016-04-12 00:02:40+00:00    5
</pre>
</div>

<div class="p"># display information about BGP peers.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>display bgp evpn peer</strong>
BGP local router ID        : 10.3.3.3
 Local AS number            : 100
 Total number of peers      : 3
 Peers in established state : 3

  Peer                             V          AS  MsgRcvd  MsgSent  OutQ  Up/Down       State  PrefRcv
  10.1.1.1                          4         100     4456     3196     0 0045h29m Established        5
  10.2.2.2                          4         100     4447     3202     0 0045h29m Established        5
  10.4.4.4                          4         100     4452     3206     0 0045h29m Established        4
</pre>
</div>


<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Description of the <b><span class="cmdname">display bgp evpn peer</span></b> command output</caption>
    
    
<thead align="left">
<tr>
<th align="left" class="cellrowborder" valign="top" width="44.5%" id="mcps1.3.7.4.2.3.1.1" liSelected="liSelected">Item</th>

<th align="left" class="cellrowborder" valign="top" width="55.50000000000001%" id="mcps1.3.7.4.2.3.1.2" liSelected="liSelected">Description</th>

</tr>

</thead>

<tbody>
<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.4.2.3.1.1 ">Total number of peers</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.4.2.3.1.2 "><p>Number of peers.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.4.2.3.1.1 ">Switchback detection timer</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.4.2.3.1.2 "><p>Remaining time for a peer to exit from the slow peer state.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.4.2.3.1.1 ">Peer</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.4.2.3.1.2 "><p>Peer IP address.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.4.2.3.1.1 ">LastSlowEndTime</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.4.2.3.1.2 "><p>Time when a peer last exited from the slow peer state.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.4.2.3.1.1 ">SlowStartTime</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.4.2.3.1.2 "><p>Time when a peer began to be identified as a slow peer.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.4.2.3.1.1 ">SlowCount</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.4.2.3.1.2 "><p>Number of times a peer has been identified as a slow peer.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.4.2.3.1.1 ">BGP local router ID</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.4.2.3.1.2 "><p>Local BGP EVPN router ID.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.4.2.3.1.1 ">Local AS number</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.4.2.3.1.2 "><p>Local AS number.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.4.2.3.1.1 ">AS</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.4.2.3.1.2 "><p>Autonomous system number.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.4.2.3.1.1 ">Peers in established state</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.4.2.3.1.2 "><p>Number of peers in the Established state.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.4.2.3.1.1 ">V</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.4.2.3.1.2 "><p>BGP version.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.4.2.3.1.1 ">MsgRcvd</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.4.2.3.1.2 "><p>BGP version of a peer.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.4.2.3.1.1 ">MsgSent</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.4.2.3.1.2 "><p>Number of messages sent.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.4.2.3.1.1 ">OutQ</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.4.2.3.1.2 "><p>Number of messages waiting to be sent to a specified peer.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.4.2.3.1.1 ">Up/Down</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.4.2.3.1.2 "><div class="p"><p>Duration of the BGP session staying in the current state.</p>
<ul><li>If the duration is less than 24 hours, it is displayed in the format of xx:xx:xx, indicating xx hours, xx minutes, and xx seconds.</li><li>If the duration is greater than 24 hours, it is displayed in the format of xxxxhxxm, indicating xxxx hours and xx minutes. If the duration exceeds 9999 hours, it is displayed in the format of ****hxxm.</li></ul>
</div>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.4.2.3.1.1 ">State</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.4.2.3.1.2 "><div class="p"><p>Current BGP EVPN status:</p>
<ul><li>Idle: BGP EVPN denies any connection request. This is the initial state of BGP EVPN.</li></ul>
<p>After BGP EVPN receives a start event, BGP EVPN initiates a TCP connection to a peer, starts the ConnectRetry timer, and listens to the TCP messages from the peer. BGP EVPN then enters the Connect state.</p>
<ul><li>Connect: BGP EVPN is waiting for the TCP connection establishment to complete before performing further actions.</li></ul>
<p>If the TCP connection is successfully established, BGP EVPN stops the ConnectRetry timer and sends an Open message to the peer. BGP EVPN then enters the Opensent state.</p>
<p>If the TCP connection fails to be established, BGP EVPN resets the ConnectRetry timer and listens to the TCP connection initiated by the peer. BGP EVPN then enters the Active state.</p>
<p>If the ConnectRetry timer expires, BGP EVPN restarts the ConnectRetry timer and attempts to establish a TCP connection with the peer again. At this time, BGP EVPN remains in the Connect state.</p>
<ul><li>Active: BGP EVPN attempts to establish a TCP connection. This is the intermediate state of BGP EVPN.</li></ul>
<p>If the TCP connection is successfully established, BGP EVPN resets the ConnectRetry timer and sends an Open message to the peer. BGP EVPN then enters the Opensent state.</p>
<p>If the ConnectRetry timer expires, BGP EVPN restarts the ConnectRetry timer and enters the Connect state.</p>
<p>If BGP EVPN attempts to establish a TCP connection with an unknown IP address but fails, BGP EVPN resets the ConnectRetry timer and remains in the Active state.</p>
<ul><li>OpenSent: BGP EVPN has sent an Open message to the peer and is now waiting for an Open message from the peer.</li></ul>
<p>If BGP EVPN receives a correct Open message, BGP EVPN enters the OpenConfirm state.</p>
<p>If BGP EVPN receives an incorrect Open message, BGP EVPN sends a Notification message to the peer and enters the Idle state.</p>
<p>If BGP EVPN receives a TCP connection teardown message, BGP EVPN resets the ConnectRetry timer and listens to the TCP connection initiated by the peer. BGP EVPN then enters the Active state.</p>
<ul><li>OpenConfirm: BGP EVPN is waiting for a Notification or Keepalive message.</li></ul>
<p>If BGP EVPN receives a Notification or TCP connection teardown message, BGP EVPN enters the Idle state.</p>
<p>If BGP EVPN receives a Keepalive message, BGP EVPN enters the Established state.</p>
<ul><li>Established: Peers can exchange Update, Notification, and Keepalive messages.</li></ul>
<p>If BGP EVPN receives an Update or Keepalive message, BGP EVPN remains in the Established state.</p>
<p>If BGP EVPN receives a Notification message, BGP EVPN enters the Idle state.</p>
<ul><li>No neg: The address family is not enabled for the BGP peer. In this state, Update messages can be exchanged in other address families whose capabilities have been successfully negotiated. If the address family is enabled for the BGP peer, the local BGP peer receives a Notification message, and the peer relationship is disconnected. Then, the BGP peer changes to the Idle state and re-establishes the peer relationship.</li></ul>
</div>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.4.2.3.1.1 ">PrefRcv</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.4.2.3.1.2 "><p>Number of route prefixes sent from the peer.</p>
</td>

</tr>

</tbody>

</table>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_VXLAN_Configuration_Commands_title.html">VXLAN Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DISPLAY-EVPN-GROUP(BGPEVPNOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/DISPLAY-BGP-EVPN-PEER-IPV4(BGPEVPNOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>