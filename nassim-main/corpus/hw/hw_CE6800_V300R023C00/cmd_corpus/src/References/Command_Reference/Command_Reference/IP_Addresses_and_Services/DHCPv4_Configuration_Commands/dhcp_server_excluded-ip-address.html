<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
 <head> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="DC.Type" content="cliref"> 
  <meta name="DC.Title" content="dhcp server excluded-ip-address"> 
  <meta name="DC.subject" content="dhcp server excluded-ip-address"> 
  <meta name="keywords" content="dhcp server excluded-ip-address"> 
  <meta name="product" content=""> 
  <meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-DHCP_Configuration_Commands_title.html"> 
  <meta name="DC.Relation" scheme="URI" content="../v3r23c00/DHCP_SERVER_DOMAIN-NAME.html"> 
  <meta name="DC.Relation" scheme="URI" content="../v3r23c00/DHCP_SERVER_FORCE_INSERT_OPTION.html"> 
  <meta name="prodname" content=""> 
  <meta name="version" content=""> 
  <meta name="brand" content="Product Documentation"> 
  <meta name="DC.Publisher" content="20230413"> 
  <meta name="featurename" content="DHCPv4"> 
  <meta name="featuretype" content="IP Addresses and Services"> 
  <meta name="DC.Audience.Job" content="Reference"> 
  <meta name="featurename" content="DHCPv4"> 
  <meta name="featuretype" content="IP Addresses and Services"> 
  <meta name="featurename" content="DHCPv4"> 
  <meta name="featuretype" content="IP Addresses and Services"> 
  <meta name="featuretype" content="IP Addresses and Services"> 
  <meta name="featuretype" content="IP Addresses and Services"> 
  <meta name="DC.Creator" content="SUBSYS_ID_ESAP_DHCPSERVER"> 
  <meta name="DC.Format" content="XHTML"> 
  <meta name="DC.Identifier" content="EN-US_CLIREF_0000001907602536"> 
  <meta name="DC.Language" content="en-us"> 
  <link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css"> 
  <link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css"> 
  <script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script> 
  <title>dhcp server excluded-ip-address</title> 
  <style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style> 
 </head> 
 <body>
  <a name="EN-US_CLIREF_0000001907602536"></a>
  <a name="EN-US_CLIREF_0000001907602536"></a> 
  <div class="articleBoxWithoutHead"> 
   <h1 class="topicTitle-h1">dhcp server excluded-ip-address</h1> 
   <div> 
    <div class="clifunc">
     <a name="EN-US_CLIREF_0000001907602536__1.3.1"></a>
     <a name="1.3.1"></a>
     <h2 class="sectiontitle">Function</h2> 
     <div class="clifuncbody"> 
      <p></p>
      <p>The <b><span class="cmdname">dhcp server excluded-ip-address</span></b> command specifies the range of IP addresses that cannot be automatically assigned to clients from an interface address pool.</p> 
      <p>The <b><span class="cmdname">undo dhcp server excluded-ip-address</span></b> command deletes the specified range of IP addresses that cannot be automatically assigned to clients from an interface address pool.</p> 
      <p></p> 
      <p>By default, all IP addresses in an address pool can be automatically assigned to clients.</p> 
     </div>
    </div> 
    <div class="cliformat">
     <a name="EN-US_CLIREF_0000001907602536__1.3.2"></a>
     <a name="1.3.2"></a>
     <h2 class="sectiontitle">Format</h2> 
     <div class="cliformatbody"> 
      <p><b><span class="cmdname">dhcp server excluded-ip-address </span></b><i><span class="varname">start-ip-address</span></i> [ <i><span class="varname">end-ip-address</span></i> ]</p> 
      <p><b><span class="cmdname">undo dhcp server excluded-ip-address </span></b><i><span class="varname">start-ip-address</span></i> [ <i><span class="varname">end-ip-address</span></i> ]</p> 
     </div>
    </div> 
    <div class="cliparam">
     <a name="EN-US_CLIREF_0000001907602536__1.3.3"></a>
     <a name="1.3.3"></a>
     <h2 class="sectiontitle">Parameters</h2> 
     <div class="cliparambody"> 
      <div class="tableBorder">
       <table cellpadding="4" cellspacing="0" summary=""> 
        <tbody>
         <tr> 
          <th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th> 
          <th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th> 
          <th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">start-ip-address</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies the start IP address of the IP address segment where addresses cannot be automatically assigned to clients.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p> </td> 
         </tr> 
         <tr> 
          <td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">end-ip-address</span></i></td> 
          <td valign="top" headers="mcps1.3.3.1-desc"> <p></p><p>Specifies the end IP address of the IP address segment where addresses cannot be automatically assigned to clients. If &lt;end-ip-address&gt; is not specified, only the IP address corresponding to &lt;start-ip-address&gt; cannot be automatically assigned.</p> <p></p> </td> 
          <td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p> </td> 
         </tr> 
        </tbody>
       </table>
      </div> 
     </div>
    </div> 
    <div class="cliview">
     <a name="EN-US_CLIREF_0000001907602536__1.3.4"></a>
     <a name="1.3.4"></a>
     <h2 class="sectiontitle">Views</h2> 
     <div class="cliviewbody"> 
      <p>100ge sub-interface view,100GE interface view,10GE sub-interface view,10GE interface view,200GE sub-interface view,200GE interface view,25GE sub-interface view,25GE interface view,400GE sub-interface view,400GE interface view,50GE sub-interface view,50GE interface view,Eth-Trunk sub-interface view,Eth-Trunk interface view,VBDIF interface view,VLANIF interface view</p> 
     </div>
    </div> 
    <div class="clidefaultlevel">
     <a name="EN-US_CLIREF_0000001907602536__1.3.5"></a>
     <a name="1.3.5"></a>
     <h2 class="sectiontitle">Default Level</h2> 
     <div class="clidefaultlevelbody"> 
      <p>2: Configuration level</p> 
     </div>
    </div> 
    <div class="clidesc">
     <a name="EN-US_CLIREF_0000001907602536__1.3.6"></a>
     <a name="1.3.6"></a>
     <h2 class="sectiontitle">Usage Guidelines</h2> 
     <div class="clidescbody"> 
      <p><strong>Usage Scenario</strong></p> 
      <p>The <b><span class="cmdname">dhcp server excluded-ip-address</span></b> command applies to DHCP servers. Fixed IP addresses are allocated to some specific hosts (such as the WWW server) on the network for a long time. If these hosts' IP addresses are overlapped with IP addresses in the address pool and the DHCP server allocates these overlapped IP addresses to other hosts, IP address conflicts may occur. To prevent such IP address conflicts, you need to exclude these IP addresses from being automatically assigned in the address pool.</p>
      <p></p> 
      <span>You can run the</span> 
      <b><span class="cmdname">dhcp server excluded-ip-address</span></b> command to specify the IP addresses or the range of IP addresses that cannot be automatically assigned to clients in the interface address pool.
      <p></p> 
      <span>You can run the</span> 
      <b><span class="cmdname">excluded-ip-address</span></b> command to specify the IP addresses or the range of IP addresses that cannot be automatically assigned to clients in the global address pool.
      <p></p> 
      <p><strong>Prerequisites</strong></p> 
      <ol>
       <li>An address segment has been configured for the interface address pool using the <b><span class="cmdname">ip address</span></b> command.</li>
       <li>The DHCP server function has been enabled on the interface using the <b><span class="cmdname">dhcp select interface</span></b> command.</li>
      </ol> 
      <p><strong>Precautions</strong></p> 
      <ul>
       <li>IP addresses that cannot be automatically assigned must be in the address pool. If IP address range in the address pool is changed using the <b><span class="cmdname">dhcp server ip-range</span></b> command, IP addresses that are configured not to be automatically assigned must be within the new IP address range.</li>
       <li>You do not need to exclude the gateway address configured using the <b><span class="cmdname">dhcp server gateway-list</span></b> command from being automatically allocated. The device automatically adds the gateway address into the list of IP addresses that cannot be automatically allocated.</li>
       <li>You do not need to exclude the IP address of a server's interface connecting to a client from being automatically allocated. The device automatically sets the status of the interface IP address to Conflict during address assignment.</li>
       <li>If you run this command multiple times, you can specify multiple IP addresses or ranges of IP addresses that cannot be automatically assigned to clients from the specified address pool.</li>
       <li>You can run the <b><span class="cmdname">display ip pool</span></b> command to check the IP addresses in use in the current address pool, so that you can exclude the unused IP addresses from being automatically assigned to clients. If you need to exclude IP addresses in Used and Conflict states from being automatically assigned to clients after address reclamation, you can also run the <b><span class="cmdname">excluded-ip-address</span></b> command.</li>
      </ul> 
     </div>
    </div> 
    <div class="cliexample">
     <a name="EN-US_CLIREF_0000001907602536__1.3.7"></a>
     <a name="1.3.7"></a>
     <h2 class="sectiontitle">Example</h2> 
     <div class="cliexamplebody"> 
      <div class="p">
       # Disable IP addresses 192.168.1.1 to 192.168.1.20 from being automatically assigned to clients from the address pool on interface 
       <span>100GE</span>
       <span>1/0/1</span>.
       <pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" face="Courier New">~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ip address 192.168.1.1 24</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>dhcp select interface</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>dhcp server excluded-ip-address 192.168.1.1 192.168.1.20</strong>
</pre> 
      </div> 
     </div>
    </div> 
   </div> 
  </div> 
  <div class="footerNavBar clearfix"> 
   <div class="parentlink">
     Parent Topic: 
    <a href="../v3r23c00/dc_PNF-DHCP_Configuration_Commands_title.html">DHCPv4 Configuration Commands </a> 
   </div> 
   <div class="copyrightBottomBar">
     Copyright ? Huawei Technologies Co., Ltd.
   </div> 
   <div class="copyrightBottomBar_responsive">
     Copyright ? Huawei Technologies Co., Ltd.
   </div> 
   <div class="bottomNavBtn clearfix"> 
    <a href="../v3r23c00/DHCP_SERVER_DOMAIN-NAME.html"><span class="font-st">&lt; </span>Previous topic</a> 
    <a href="../v3r23c00/DHCP_SERVER_FORCE_INSERT_OPTION.html">Next topic<span class="font-st"> &gt;</span></a> 
   </div> 
  </div>  
 </body>
</html>