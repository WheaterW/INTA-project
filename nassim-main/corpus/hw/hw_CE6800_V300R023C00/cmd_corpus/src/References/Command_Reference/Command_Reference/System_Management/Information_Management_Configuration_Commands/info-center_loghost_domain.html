
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="info-center loghost domain">
<meta name="DC.subject" content="info-center loghost domain">
<meta name="keywords" content="info-center loghost domain">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Information_Management_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/INFO-LOGHOST(SYSLOGOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SYSLOGSOURCE(SYSLOGOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Information Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Information Management">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="Information Management">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Creator" content="SUBSYS_ID_SYSLOGOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907600668">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>info-center loghost domain</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907600668"></a><a name="EN-US_CLIREF_0000001907600668"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">info-center loghost domain</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907600668__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">info-center loghost domain</span></b> command configures a device to output logs to a syslog server.</p>
<p>The <b><span class="cmdname">undo info-center loghost domain</span></b> command disables a device from outputting logs to a syslog server.</p>
</p>
<p>A device does not output logs to any syslog server by default.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907600668__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">info-center loghost domain </span></b><i><span class="varname">domain-name</span></i> [ { <strong><span>local-time</span></strong> | <strong><span>utc</span></strong> } | <strong><span>channel</span></strong> { <i><span class="varname">channel-number</span></i> | <i><span class="varname">channel-name</span></i> } | { <strong><span>public-net</span></strong> | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> } | <strong><span>source-ip</span></strong> <i><span class="varname">source-ip-address</span></i> | <strong><span>facility</span></strong> <i><span class="varname">local-num</span></i> | <strong><span>level</span></strong> <i><span class="varname">level-num</span></i> | <strong><span>port</span></strong> <i><span class="varname">server-port</span></i> | <strong><span>transport</span></strong> { <strong><span>udp</span></strong> | <strong><span>tcp</span></strong> { [ <strong><span>version</span></strong> <strong><span>rfc6587</span></strong> ] [ <strong><span>ssl-policy</span></strong> <i><span class="varname">policy-name</span></i> [ [ <strong><span>security</span></strong> ] | [ <strong><span>verify-dns-name</span></strong> <i><span class="varname">dns-name</span></i> ] ] <sup>*</sup> ] } } | <strong><span>brief</span></strong> ] <sup>*</sup></p>


<p><b><span class="cmdname">undo info-center loghost domain </span></b><i><span class="varname">domain-name</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907600668__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>local-time</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the local time. If this parameter is not specified, the UTC time is used by default.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The default value is UTC.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>utc</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the UTC time. If this parameter is not specified, the UTC time is used by default.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>channel</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a channel number.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">channel-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a channel number.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><p>The value is an integer ranging from 0 to 9.</p>
<ul><li>0: console</li><li>1: monitor</li><li>2: loghost</li><li>3: trapbuffer</li><li>4: logbuffer</li><li>5: snmpagent</li><li>6: channel6</li><li>7: channel7</li><li>8: channel8</li><li>9: channel9</li></ul>
</div>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">channel-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a channel name.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><p>The value is a string:</p>
<ul><li>console: console</li><li>monitor: remote terminal</li><li>loghost: syslog server</li><li>trapbuffer: trap buffer</li><li>logbuffer: log buffer</li><li>snmpagent: SNMP agent</li><li>channel6: unspecified</li><li>channel7: unspecified</li><li>channel8: unspecified</li><li>channel9: information file</li></ul>
</div>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>public-net</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the logs sent to a syslog server over the public network.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies name of a virtual private network (VPN) instance of a syslog server.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 31 case-sensitive characters without spaces. The VPN instance name cannot be _public_. If the character string is quoted by double quotation marks, the character string can contain spaces.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>source-ip</span></strong> <i><span class="varname">source-ip-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the source IPv4 address of packets to be sent to a syslog server.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>facility</span></strong> <i><span class="varname">local-num</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a syslog server facility that is used to identify the log information source. You can use this parameter to plan a local value for the log information of a specified device, so that the syslog server can handle received log information based on the parameter.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is of the enumerated type and can be local0, local1, local2, local3, local4, local5, local6, or local7. The default value is local7.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>level</span></strong> <i><span class="varname">level-num</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a log level.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><p>The value is an enumerated type:</p>
<ul><li>emergencies: an emergency error.</li><li>alert: an error that needs to be corrected immediately</li><li>critical: a major error</li><li>error: a minor error</li><li>warning: a potential error</li><li>notification: information that needs to be noticed</li><li>informational: an informational message</li><li>debugging: detailed information for debugging use</li></ul>
</div>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>port</span></strong> <i><span class="varname">server-port</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the destination port number of packets to be sent to a syslog server.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><p>The value is an integer ranging from 1 to 65535.</p>
<ul><li>If UDP is used, the default port number is 514.</li><li>If the transmission mode is TCP, the default port number is 601.</li><li>If the TCP-based SSL encryption mode is used, the default port number is 6514.</li></ul>
</div>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>transport</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the information transmission mode. If this parameter is not specified, the default transmission mode is UDP.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>udp</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the information transport mode is UDP.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>tcp</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the information transport mode is TCP.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>version</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an RFC version.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>rfc6587</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies RFC 6587.<p>If this parameter is specified, TCP packets are sent in RFC 6587 format and carry packet length information. If this parameter is not specified, TCP packets are sent in RFC 5424 format by default and do not carry packet length information.</p>
</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ssl-policy</span></strong> <i><span class="varname">policy-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a Secure Sockets Layer (SSL) policy when packets are transmitted using TCP.</p>
<p>SSL encrypted transmission provides high security. If packets are transmitted on insecure networks, configure SSL encrypted transmission by specifying ssl-policy policy-name. If packets are transmitted on secure networks, configure UDP transmission mode by specifying udp or TCP transmission mode by specifying tcp.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 23 characters that can contain case-insensitive letters, underscores (_), and digits.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>security</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a security log host.</p>
<p>If the security parameter is set, the system sends only security logs to the log host.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>verify-dns-name</span></strong> <i><span class="varname">dns-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the DNS server certificate name for the logging host.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 255 case-sensitive characters. It cannot contain spaces.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>brief</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Sends logs to a log host in brief mode.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>domain</span></strong> <i><span class="varname">domain-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the DNS domain name of a log host.</p>
</p>


</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 255 case-sensitive characters without a blank space.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907600668__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907600668__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907600668__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><p>To configure a device to output logs to a syslog server, run the <b><span class="cmdname">info-center loghost</span></b> command. The system logs information about device operations in real time. These logs can be output to the syslog servers for storage and query. If a problem occurs, you can check the logs to learn about what happened to the device during device operation and analyze fault causes.<p></p>
<span>You can choose whether to set brief as needed</span>:</p>

<ul><li>When brief is not set, logs are sent to the log host in non-brief mode. The log content is displayed in the format of timestamp/host name/module name/log level/summary/log details.</li><li>When brief is set, logs are sent to the log host in brief mode. The log content contains only details output by each module and is displayed in the format of timestamp/host name/log details.<p></p>
<span>For example</span>:</li><li>When brief is not set, the log content is displayed as follows:May 15 2016 21:48:33 223.171 %%01SSH/5/SSH_USER_LOGIN_FAIL(s):CID=0x80932723; The SSH user failed to login. (ServiceType=**, FailedReason=Client requested disconnection, UserName=u2000test, IPAddress=22.22.23.23, VPNInstanceName=_public_.)</li><li>When brief is set, the log content is displayed as follows:May 15 2016 21:48:33 223.171 : The SSH user failed to login. (ServiceType=**, FailedReason=Client requested disconnection, UserName=u2000test, IPAddress=22.22.23.23, VPNInstanceName=_public_.)</li></ul>
</div>
<p><strong>Prerequisites</strong></p>
<p>Information management has been enabled using info-center enable, and the IP address of a syslog server is reachable.</p>
<p><strong>Configuration Impact</strong></p>
<p>Logs record information about users' operations on an existing device (such as command configuration operation) and specific events (such as a network connection failure). After the <b><span class="cmdname">info-center loghost</span></b> command is run, an existing device outputs generated logs to the specified syslog server.</p>
<p><strong>Precautions</strong></p>
<div class="p"><p>Rules for a single host to select a VPN</p>

<ul><li>Rule 1: If the <b><span class="cmdname">info-center loghost</span></b> command is run with vpn-instance specified, the specified VPN is used as the host's VPN. Otherwise, refer to rule 2.</li><li>Rule 2: If the <b><span class="cmdname">set net-manager vpn-instance</span></b> command is run to configure a global VPN, the global VPN is used as the host's VPN. Otherwise, refer to rule 3.</li><li>Rule 3: The public network is used to send logs.</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907600668__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure a device to output logs to the syslog server<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
Enter system view, return user view with return command.
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>info-center loghost 3.3.3.3 level critical</strong>
Warning: The configured loghost level does not take effect on security logs.
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>info-center loghost domain www.huawei.com level critical</strong>
Warning: The configured loghost level does not take effect on security logs.
</pre>
</div>

<div class="p"># Configure a device to output logs to the syslog server with the domain name www.huawei.com.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>info-center loghost domain www.huawei.com vpn-instance vrf1</strong>
Warning: There is security risk as this operation enables a non secure syslog protocol.
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Information_Management_Commands_title.html">Information Management Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/INFO-LOGHOST(SYSLOGOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SYSLOGSOURCE(SYSLOGOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>