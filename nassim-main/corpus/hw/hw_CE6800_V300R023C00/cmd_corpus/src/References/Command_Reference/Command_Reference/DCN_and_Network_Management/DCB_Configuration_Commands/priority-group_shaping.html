
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="priority-group shaping">
<meta name="DC.subject" content="priority-group shaping">
<meta name="keywords" content="priority-group shaping">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-DCB_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/PRIORITY-GROUP_RENUMBER.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/QOS_BUFFER_HEADROOM-POOL.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="DCB">
<meta name="featuretype" content="DCN and Network Management">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="DCB">
<meta name="featuretype" content="DCN and Network Management">
<meta name="featurename" content="DCB">
<meta name="featuretype" content="DCN and Network Management">
<meta name="featuretype" content="DCN and Network Management">
<meta name="featuretype" content="DCN and Network Management">
<meta name="DC.Creator" content="SUBSYS_ID_DCB">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907607908">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>priority-group shaping</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907607908"></a><a name="EN-US_CLIREF_0000001907607908"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">priority-group shaping</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907607908__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">priority-group shaping</span></b> command enables traffic shaping for a priority group and sets shaping parameters.</p>
<p>The <b><span class="cmdname">undo priority-group shaping</span></b> command disables traffic shaping for a priority group.</p>
</p>
<p>By default, traffic shaping is disabled for a priority group.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907607908__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">priority-group </span></b><i><span class="varname">pg-group-value</span></i> <strong><span>shaping</span></strong> <strong><span>cir</span></strong> <i><span class="varname">cir-value</span></i> { <strong><span>kbps</span></strong> | <strong><span>mbps</span></strong> | <strong><span>gbps</span></strong> } <strong><span>pir</span></strong> <i><span class="varname">pir-value</span></i> { <strong><span>kbps</span></strong> | <strong><span>mbps</span></strong> | <strong><span>gbps</span></strong> } [ <strong><span>cbs</span></strong> <i><span class="varname">cbs-value</span></i> { <strong><span>kbytes</span></strong> | <strong><span>mbytes</span></strong> } <strong><span>pbs</span></strong> <i><span class="varname">pbs-value</span></i> { <strong><span>kbytes</span></strong> | <strong><span>mbytes</span></strong> } ]</p>

<p><b><span class="cmdname">undo priority-group </span></b><i><span class="varname">pg-group-value</span></i> <strong><span>shaping</span></strong> [ <strong><span>cir</span></strong> <i><span class="varname">cir-value</span></i> { <strong><span>kbps</span></strong> | <strong><span>mbps</span></strong> | <strong><span>gbps</span></strong> } <strong><span>pir</span></strong> <i><span class="varname">pir-value</span></i> { <strong><span>kbps</span></strong> | <strong><span>mbps</span></strong> | <strong><span>gbps</span></strong> } [ <strong><span>cbs</span></strong> <i><span class="varname">cbs-value</span></i> { <strong><span>kbytes</span></strong> | <strong><span>mbytes</span></strong> } <strong><span>pbs</span></strong> <i><span class="varname">pbs-value</span></i> { <strong><span>kbytes</span></strong> | <strong><span>mbytes</span></strong> } ] ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907607908__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">pg-group-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the value of a priority group.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><p>Enumerated type. The values are as follows:</p>
<ul><li>0:PG0</li><li>1:PG1</li><li>2:PG2</li><li>3:PG3</li><li>4:PG4</li><li>5:PG5</li><li>6:PG6</li><li>7:PG7</li><li>15:PG15</li></ul>
</div>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cir</span></strong> <i><span class="varname">cir-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the committed information rate (CIR) for a priority group.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 1 Mbit/s to 400 Gbit/s.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>kbps</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the rate unit as kbit/s.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>mbps</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the rate unit as mbit/s.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>gbps</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the rate unit as gbit/s.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>pir</span></strong> <i><span class="varname">pir-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the peak information rate (PIR) for a priority group.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 1 Mbit/s to 400 Gbit/s.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cbs</span></strong> <i><span class="varname">cbs-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the committed burst size (CBS), which is the committed volume of burst traffic that can pass through an interface.</p>
<p>If this parameter is not specified, the CBS is 125 times the CIR.If this parameter is not specified, the CBS is 125 times the CIR. If the CBS exceeds the maximum value, the maximum value takes effect.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 1 kilobyte to 512 megabytes. The default unit is kilobyte.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>kbytes</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies that the CBS is expressed in kilobytes.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>mbytes</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies that the CBS is expressed in megabytes.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>pbs</span></strong> <i><span class="varname">pbs-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the peak burst size (PBS), which is the maximum volume of burst traffic that can pass through an interface.</p>
<p>If this parameter is not specified, the PBS is 125 times the PIR.If this parameter is not specified, the PBS is 125 times the PIR. If the PBS exceeds the maximum value, the maximum value takes effect.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 1 kilobyte to 512 megabytes. The default unit is kilobyte.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907607908__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>ETS view of the DCB</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907607908__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907607908__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>When the rate of an interface on a downstream device is lower than that of an interface on an upstream device, traffic congestion may occur on the interface of the downstream device. In this case, you can configure traffic shaping for priority groups on the outbound interface of the upstream device and adjust the transmit rates of the priority groups.</p>
<p><strong>Precautions</strong></p>
<p>After traffic shaping is configured for priority groups, the system first processes traffic of the priority group configured with the CIR. Packets of other priority groups may be discarded. For example, when traffic shaping is configured for PG0 and the CIR approximates to the interface bandwidth, packets in PG1 and PG15 may be discarded.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907607908__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the CIR to 2 mbit/s, PIR to 4 mbit/s, CBS to 12 kbytes, and PBS to 24 kbytes for PG1.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>dcb ets-profile myets</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ets-myets] <strong>priority-group 1 shaping cir 2 mbps pir 4 mbps cbs 12 kbytes pbs 24 kbytes</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-DCB_Configuration_Commands_title.html">DCB Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/PRIORITY-GROUP_RENUMBER.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/QOS_BUFFER_HEADROOM-POOL.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>