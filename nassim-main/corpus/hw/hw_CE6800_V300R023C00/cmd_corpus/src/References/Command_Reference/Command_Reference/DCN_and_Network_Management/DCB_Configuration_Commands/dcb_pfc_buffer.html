
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="dcb pfc buffer">
<meta name="DC.subject" content="dcb pfc buffer">
<meta name="keywords" content="dcb pfc buffer">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-DCB_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DCB_PFC.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DCB_PFC_DEADLOCK_RECOVERY-BEHAVIOR.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="DCB">
<meta name="featuretype" content="DCN and Network Management">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="DCB">
<meta name="featuretype" content="DCN and Network Management">
<meta name="featurename" content="DCB">
<meta name="featuretype" content="DCN and Network Management">
<meta name="featuretype" content="DCN and Network Management">
<meta name="featuretype" content="DCN and Network Management">
<meta name="DC.Creator" content="SUBSYS_ID_DCB">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942847053">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>dcb pfc buffer</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942847053"></a><a name="EN-US_CLIREF_0000001942847053"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">dcb pfc buffer</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942847053__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">dcb pfc buffer</span></b> command sets the thresholds for triggering and stopping PFC frames, guaranteed buffer threshold, and headroom buffer threshold for a PFC queue in the inbound direction.</p>
<p>The <b><span class="cmdname">undo dcb pfc buffer</span></b> command deletes the manually configured thresholds for triggering and stopping PFC frames, guaranteed buffer threshold, and headroom buffer threshold for a PFC queue in the inbound direction.</p>
</p>
<p>By default, the thresholds for triggering and stopping PFC frames, guaranteed buffer threshold, and headroom buffer threshold for a PFC queue in the inbound direction are not configured.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE6885-LL (low latency mode), CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942847053__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p>For CE6860-SAN, CE6866, CE6860-HAM, CE6866K, CE8850-SAN, CE8851-32CQ8DQ-P, CE8850-HAM, CE8851K: </p>

<p><b><span class="cmdname">dcb pfc buffer </span></b><i><span class="varname">queue-index</span></i> <strong><span>xon</span></strong> <strong><span>static</span></strong> <i><span class="varname">xon-value</span></i> { <strong><span>kbytes</span></strong> | <strong><span>mbytes</span></strong> } <strong><span>xoff</span></strong> <strong><span>static</span></strong> <i><span class="varname">xoff-value</span></i> { <strong><span>kbytes</span></strong> | <strong><span>mbytes</span></strong> }</p>

<p><b><span class="cmdname">undo dcb pfc buffer </span></b><i><span class="varname">queue-index</span></i> <strong><span>xon</span></strong> <strong><span>static</span></strong> <i><span class="varname">xon-value</span></i> { <strong><span>kbytes</span></strong> | <strong><span>mbytes</span></strong> } <strong><span>xoff</span></strong> <strong><span>static</span></strong> <i><span class="varname">xoff-value</span></i> { <strong><span>kbytes</span></strong> | <strong><span>mbytes</span></strong> }</p>

<p>For CE6860-SAN, CE6866, CE6860-HAM, CE6866K, CE8850-SAN, CE8851-32CQ8DQ-P, CE8850-HAM, CE8851K: </p>

<p><b><span class="cmdname">dcb pfc buffer </span></b><i><span class="varname">queue-index</span></i> <strong><span>xon</span></strong> <strong><span>dynamic</span></strong> <i><span class="varname">alpha-value</span></i> <strong><span>xoff</span></strong> <strong><span>dynamic</span></strong> <i><span class="varname">alpha-value</span></i></p>

<p><b><span class="cmdname">undo dcb pfc buffer </span></b><i><span class="varname">queue-index</span></i> <strong><span>xon</span></strong> <strong><span>dynamic</span></strong> <i><span class="varname">alpha-value</span></i> <strong><span>xoff</span></strong> <strong><span>dynamic</span></strong> <i><span class="varname">alpha-value</span></i></p>

<p>For CE6855-48XS8CQ, CE6885, CE6885-T, CE6885-LL (standard forwarding mode), CE6863E-48S8CQ, CE6885-LL (low latency mode), CE6885-SAN, CE8855, CE8851-32CQ4BQ: </p>

<p><b><span class="cmdname">dcb pfc buffer </span></b><i><span class="varname">queue-index</span></i> <strong><span>guaranteed</span></strong> <i><span class="varname">guaranteed-value</span></i> [ <strong><span>bytes</span></strong> | <strong><span>kbytes</span></strong> ]</p>

<p><b><span class="cmdname">dcb pfc buffer </span></b><i><span class="varname">queue-index</span></i> <strong><span>hdrm</span></strong> <i><span class="varname">hdrm-value</span></i> [ <strong><span>kbytes</span></strong> ]</p>

<p><b><span class="cmdname">undo dcb pfc buffer </span></b>[ <i><span class="varname">queue-index</span></i> [ <strong><span>guaranteed</span></strong> [ <i><span class="varname">guaranteed-value</span></i> [ <strong><span>bytes</span></strong> | <strong><span>kbytes</span></strong> ] ] ] ]</p>

<p><b><span class="cmdname">undo dcb pfc buffer </span></b>[ <i><span class="varname">queue-index</span></i> [ <strong><span>hdrm</span></strong> [ <i><span class="varname">hdrm-value</span></i> [ <strong><span>kbytes</span></strong> ] ] ] ]</p>

<p>For CE6855-48XS8CQ, CE6885, CE6885-T, CE6885-LL (standard forwarding mode), CE6863E-48S8CQ, CE6885-LL (low latency mode), CE6885-SAN, CE8855, CE8851-32CQ4BQ: </p>

<p><b><span class="cmdname">dcb pfc buffer </span></b><i><span class="varname">queue-index</span></i> <strong><span>xoff</span></strong> { <strong><span>static</span></strong> <i><span class="varname">xoff-value</span></i> [ <strong><span>kbytes</span></strong> | <strong><span>mbytes</span></strong> ] | <strong><span>dynamic</span></strong> <i><span class="varname">alpha-value</span></i> } [ <strong><span>xon</span></strong> <strong><span>offset</span></strong> <i><span class="varname">offset-value</span></i> [ <strong><span>kbytes</span></strong> | <strong><span>mbytes</span></strong> ] ]</p>

<p><b><span class="cmdname">undo dcb pfc buffer </span></b>[ <i><span class="varname">queue-index</span></i> [ <strong><span>xoff</span></strong> [ <strong><span>static</span></strong> [ <i><span class="varname">xoff-value</span></i> [ <strong><span>kbytes</span></strong> | <strong><span>mbytes</span></strong> ] ] | <strong><span>dynamic</span></strong> [ <i><span class="varname">alpha-value</span></i> ] ] [ <strong><span>xon</span></strong> <strong><span>offset</span></strong> [ <i><span class="varname">offset-value</span></i> [ <strong><span>kbytes</span></strong> | <strong><span>mbytes</span></strong> ] ] ] ] ]</p>




</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942847053__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">queue-index</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the index of an interface queue.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>For the CE6855-48XS8CQ, CE6885-SAN, CE8855, CE8851-32CQ4BQ, CE6885-LL (low latency mode), CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ:The value is an integer ranging from 0 to 7.</p>
<p>For the CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE8850-SAN, CE8851K, CE8851-32CQ8DQ-P and CE8850-HAM:The value is an integer ranging from 0 to 5.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>xon</span></strong> <i><span class="varname">xon-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the threshold for stopping PFC frames. When the occupied buffer space is lower than this threshold, PFC frames are not sent.</p>
</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>This parameter is supported only on the CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE8850-SAN, CE8851K, CE8851-32CQ8DQ-P and CE8850-HAM.</p>
</div></div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is an integer ranging from 1 to 6144, in kbytes. The default value is 100 kbytes. The default unit is kbytes.</p>
<p>The configured value of xon must be smaller than or equal to the configured value of xoff.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>static</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the static threshold.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>kbytes</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies that a threshold is expressed in kbytes.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>mbytes</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies that a threshold is expressed in mbytes.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>xoff</span></strong> <i><span class="varname">xoff-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the threshold for triggering PFC frames. When the occupied buffer space is higher than this threshold, PFC frames are sent.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>For the CE6855-48XS8CQ, CE6885-SAN, CE8855, CE8851-32CQ4BQ, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ:The value is an integer ranging from 1 to 30720, in kbytes. The default unit is kbytes.</p>
<p>For the CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE8850-SAN, CE8851K, CE8851-32CQ8DQ-P and CE8850-HAM:The value is an integer ranging from 1 to 6144, in kbytes. The default value is 125 kbytes. The default unit is kbytes.</p>
<p>For the CE6885-LL (low latency mode):The value is an integer ranging from 1 to 9216, in kbytes. The default unit is kbytes.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>dynamic</span></strong> <i><span class="varname">alpha-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the dynamic threshold.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>For the CE6855-48XS8CQ, CE6885-SAN, CE8855, CE8851-32CQ4BQ, CE6885-LL (low latency mode), CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ:The value is an integer ranging from 1 to 12. The default value is 3.</p>
<p>For the CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE8850-SAN, CE8851K, CE8851-32CQ8DQ-P and CE8850-HAM:The value is an integer ranging from 0 to 10.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>guaranteed</span></strong> <i><span class="varname">guaranteed-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the guaranteed buffer threshold for a PFC queue in the inbound direction. The buffer space specified by this threshold cannot be used by other queues.</p>
</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>This parameter is supported only on the CE6855-48XS8CQ, CE6885-SAN, CE8855, CE8851-32CQ4BQ, CE6885-LL (low latency mode), CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>For the CE6855-48XS8CQ, CE6885-SAN, CE8855, CE8851-32CQ4BQ, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ:The value is an integer ranging from 640 to 25600, in bytes. The default value is 1600 bytes. The default unit is bytes.</p>
<p>For the CE6885-LL (low latency mode):The value is an integer ranging from 640 to 25600, in bytes. The default value is 1632 bytes. The default unit is bytes.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>bytes</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies that the threshold is expressed in bytes.</p>
</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>This parameter is supported only on the CE6855-48XS8CQ, CE6885-SAN, CE8855, CE8851-32CQ4BQ, CE6885-LL (low latency mode), CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>hdrm</span></strong> <i><span class="varname">hdrm-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the headroom buffer threshold for a PFC queue in the inbound direction. If the volume of traffic received after PFC frames are sent exceeds the buffer space specified by this threshold, the traffic is discarded.</p>
</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>This parameter is supported only on the CE6855-48XS8CQ, CE6885-SAN, CE8855, CE8851-32CQ4BQ, CE6885-LL (low latency mode), CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>For the CE6855-48XS8CQ, CE6885-SAN, CE8855, CE8851-32CQ4BQ, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ:The value is an integer ranging from 16 to 30720, in kbytes. The default value is 256 kbytes. The default unit is kbytes.</p>
<p>For the CE6885-LL (low latency mode):The value is an integer ranging from 16 to 9216, in kbytes. The default value is 256 kbytes. The default unit is kbytes.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>offset</span></strong> <i><span class="varname">offset-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the offset of the Xon value relative to the Xoff value.</p>
</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>This parameter is supported only on the CE6855-48XS8CQ, CE6885-SAN, CE8855, CE8851-32CQ4BQ, CE6885-LL (low latency mode), CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>For the CE6855-48XS8CQ, CE6885-SAN, CE8855, CE8851-32CQ4BQ, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ:<p>The value is an integer ranging from 1 to 30720, in kbytes. The default value is 6 kbytes. The default unit is kbytes.</p>
<p>The configured value of offset must be smaller than the configured value of xoff. The difference between them is the Xon value, which is the threshold for stopping PFC frames.</p>
<p>The actual effective threshold for stopping PFC frames is the larger value between the Xon protection value and the value obtained by subtracting the configured offset value from the configured xoff value.</p>
<p>The Xon protection value is that of the Xon-Lowest field in the display dcb pfc buffer command output.</p>
</p>
<p>For the CE6885-LL (low latency mode):<p>The value is an integer ranging from 1 to 9216, in kbytes. The default value is 6 kbytes. The default unit is kbytes.</p>
<p>The configured value of offset must be smaller than the configured value of xoff. The difference between them is the Xon value, which is the threshold for stopping PFC frames.</p>
<p>The actual effective threshold for stopping PFC frames is the larger value between the Xon protection value and the value obtained by subtracting the configured offset value from the configured xoff value.</p>
<p>The Xon protection value is that of the Xon-Lowest field in the display dcb pfc buffer command output.</p>
</p>
</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942847053__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100GE interface view,</span><span>10GE interface view,</span><span>200GE interface view,</span><span>25GE interface view,</span><span>400GE interface view,</span><span>50GE interface view,</span><span>Interface group view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942847053__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942847053__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><p>When the buffer space of a queue on an interface of the receive device exceeds the threshold, a backpressure signal is sent to the transmit device, requesting the transmit device to stop sending packets in the corresponding priority queue. You can run this command to adjust the threshold of a queue on an interface of the receive device.<p></p>
<span>After PFC is enabled</span>, the device has default thresholds for triggering and stopping PFC frames in the inbound direction. If you find that the default thresholds cannot meet your expectation, you can run this command to manually set the thresholds.<p></p>
<span>The sum of the threshold for triggering PFC frames</span> and the headroom buffer threshold in the inbound direction of a queue must be smaller than both the lower WRED threshold and queue-level service buffer threshold. Otherwise, packet loss occurs.<p></p>
<span>When traffic is transmitted from multiple inbound</span> interfaces to one outbound interface, the sum of the threshold for triggering PFC frames and the headroom buffer threshold of all these inbound interfaces must be smaller than both the lower WRED threshold and queue-level service buffer threshold of the single outbound interface. Otherwise, packet loss occurs.<p></p>
<span>You can run the</span> <b><span class="cmdname">display dcb pfc buffer</span></b> command to check the thresholds.<p></p>
<strong>For the CE8855, CE8851-32CQ4BQ, CE6855-48XS8CQ, CE6885, CE6885-SAN, CE6885-LL, CE6885-T, and CE6863E-48S8CQ:</strong></p>

<ul><li>The actual effective threshold for stopping PFC frames is the larger value between the Xon protection value and the value obtained by subtracting the configured offset value from the configured xoff value. The Xon protection value is that of the Xon-Lowest field in the <b><span class="cmdname">display dcb pfc buffer</span></b> command output.</li><li>If you run the <b><span class="cmdname">undo dcb pfc buffer</span></b> command without specifying the queue-index parameter, the manually configured thresholds for triggering and stopping PFC frames, guaranteed buffer threshold, and headroom buffer threshold for all PFC queues in the inbound direction are deleted.</li><li>If you run the undo dcb pfc buffer &lt;queue-index&gt; command with only the queue index parameter specified, the manually configured thresholds for triggering and stopping PFC frames, guaranteed buffer threshold, and headroom buffer threshold for the specified PFC queue in the inbound direction are deleted.</li></ul>
</div>
<p><strong>Precautions</strong></p>
<div class="p"><p>When an interface is transmitting traffic and encountering a congestion, the threshold for triggering PFC frames may fail to be configured on the interface. Therefore, you are advised to configure the threshold when the interface is not congested or after the interface is shut down using the <b><span class="cmdname">shutdown</span></b> command. (To check whether the interface is congested, run the <b><span class="cmdname">display qos buffer-usage</span></b> command.)<p></p>
<strong>For the CE8855, CE8851-32CQ4BQ, CE6855-48XS8CQ, CE6885, CE6885-SAN, CE6885-LL, CE6885-T, and CE6863E-48S8CQ:</strong></p>

<ul><li>If PFC is enabled in a queue of an interface and packet loss occurs in the inbound direction of the interface, you are advised to run the dcb pfc buffer &lt;queue-index&gt; hdrm &lt;hdrm-value&gt; [ kbytes ] command in the interface view to increase the headroom buffer threshold for the specified PFC queue in the inbound direction.</li><li>The buffer space is divided by fixed small blocks. Therefore, the actually effective buffer thresholds and the thresholds for triggering and stopping PFC frames are integer multiples of the fixed small block value rounded up. For the CE8855, CE8851-32CQ4BQ, CE6855-48XS8CQ, CE6885, CE6885-SAN, CE6885-LL (standard forwarding mode), CE6885-T, and CE6863E-48S8CQ, the fixed small block value is 320 bytes. For the CE6885-LL (low-latency mode), the fixed small block value is 96 bytes. The values in the <b><span class="cmdname">display dcb pfc buffer</span></b> command output are the actually effective ones.</li><li>A single device supports a maximum of 30 profiles for the guaranteed buffer threshold, 28 profiles for the thresholds for triggering and stopping PFC frames, and 31 profiles for the headroom buffer threshold. If the number of used profiles reaches the upper limit, you need to delete historical configurations before delivering new configurations. Specifying a buffer threshold or both thresholds for triggering and stopping PFC frames occupies a profile. A value with a different unit, a dynamic threshold, and a static threshold each occupy a profile. Example:
<ul><li>Setting &lt;guaranteed-value&gt; to 700 bytes for queue 1 on an interface occupies a profile. In this case, if &lt;guaranteed-value&gt; is set to 800 bytes for queue 2 on an interface, this configuration occupies a new profile, and the two configurations occupy two profiles.</li><li>Setting &lt;guaranteed-value&gt; to 700 bytes for queue 1 on an interface occupies a profile. In this case, if &lt;guaranteed-value&gt; is also set to 700 bytes for queue 2 on an interface, this configuration does not occupy a profile, and the two configurations occupy the same profile.</li><li>Setting &lt;guaranteed-value&gt; to 700 bytes for queue 1 on an interface occupies a profile. In this case, if &lt;guaranteed-value&gt; is set to a different value (800 bytes) for this queue and no other interface queue has &lt;guaranteed-value&gt; set to 700 bytes, this configuration occupies a new profile. The previously occupied profile is released because no queue uses it. After the two configurations, only one profile is occupied.</li></ul>

</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942847053__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># On <span>100GE</span><span>1/0/1</span>, set the threshold for triggering PFC frames to 300 kbytes and the threshold offset to 200 kbytes for queue 1, and set the guaranteed and headroom buffer thresholds to 25 kbytes and 1000 kbytes for the queue in the inbound direction. (CE8855, CE8851-32CQ4BQ, CE6855-48XS8CQ, CE6885, CE6885-SAN, CE6885-LL, CE6885-T, and CE6863E-48S8CQ)<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>dcb pfc buffer 1 guaranteed 25 kbytes</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>dcb pfc buffer 1 xoff static 300 kbytes xon offset 200 kbytes</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>dcb pfc buffer 1 hdrm 1000 kbytes</strong>
</pre>
</div>

<div class="p"># On <span>100GE</span><span>1/0/1</span>, set the thresholds for triggering and stopping PFC frames to dynamic 10 and dynamic 5, respectively, for queue 3. (CE6866, CE6860-SAN, CE6866K, CE6860-HAM, CE8851-32CQ8DQ-P, CE8850-SAN, CE8851K, and CE8850-HAM)<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>dcb pfc buffer 3 xon dynamic 5 xoff dynamic 10</strong>
</pre>
</div>




</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-DCB_Configuration_Commands_title.html">DCB Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DCB_PFC.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/DCB_PFC_DEADLOCK_RECOVERY-BEHAVIOR.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>