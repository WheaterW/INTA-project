
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="sample-interval (sample-adaptive view)">
<meta name="DC.subject" content="sample-interval (sample-adaptive view)">
<meta name="keywords" content="sample-interval (sample-adaptive view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Telemetry_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/PACKETMAXSIZE(TELEMETRYOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SAMPLE-INTERVAL(TELEMETRYOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Telemetry">
<meta name="featuretype" content="System Monitoring">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Telemetry">
<meta name="featuretype" content="System Monitoring">
<meta name="featurename" content="Telemetry">
<meta name="featuretype" content="System Monitoring">
<meta name="featuretype" content="System Monitoring">
<meta name="featuretype" content="System Monitoring">
<meta name="DC.Creator" content="SUBSYS_ID_TELEMETRYOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907609152">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>sample-interval (sample-adaptive view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907609152"></a><a name="EN-US_CLIREF_0000001907609152"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">sample-interval (sample-adaptive view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907609152__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">sample-interval</span></b> command configures the interval and conditions for adaptive sampling.</p>
<p>The <b><span class="cmdname">undo sample-interval</span></b> command cancels the configuration of the interval and conditions for adaptive sampling.</p>
</p>
<p>By default, adaptive sampling is not configured.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907609152__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">sample-interval </span></b><i><span class="varname">interval</span></i> <strong><span>op-field</span></strong> <i><span class="varname">field</span></i> <strong><span>op-type</span></strong> { <strong><span>eq</span></strong> | <strong><span>gt</span></strong> | <strong><span>ge</span></strong> | <strong><span>lt</span></strong> | <strong><span>le</span></strong> } <strong><span>op-value</span></strong> <i><span class="varname">value</span></i></p>

<p><b><span class="cmdname">undo sample-interval </span></b><i><span class="varname">interval</span></i> <strong><span>op-field</span></strong> <i><span class="varname">field</span></i> <strong><span>op-type</span></strong> { <strong><span>eq</span></strong> | <strong><span>gt</span></strong> | <strong><span>ge</span></strong> | <strong><span>lt</span></strong> | <strong><span>le</span></strong> } <strong><span>op-value</span></strong> <i><span class="varname">value</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907609152__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interval</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the adaptive sampling interval.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer in the range of 1000 to 1800000, in milliseconds. Currently, only 1000, 5000, 10000, 30000, 60000, 180000, 300000, 900000, and 1800000 are supported.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>op-field</span></strong> <i><span class="varname">field</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a field contained in the data to be sampled.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 64 case-sensitive characters. The value must be the name of a leaf node in the sampling path and must be an integer or an enumerated value.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>op-type</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the adaptive sampling relational operator.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>eq</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Equal to.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>gt</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Greater than.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ge</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Greater than or equal to.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>lt</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Less than.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>le</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Less than or equal to.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>op-value</span></strong> <i><span class="varname">value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a value involved in operation.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is an integer in the range of 0-9223372036854775807. The actual value depends on the device.</p>
<p>If the value of op-field (leaf node) is of the enumerated type, the value of op-value will be converted to an integer. The meaning of this integer can be checked by entering "?" in the CLI to check the help information or checking the enumeration type definition of the leaf node in the YANG file.</p>
</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907609152__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>sample-adaptive view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907609152__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907609152__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>You can run the <b><span class="cmdname">sample-interval</span></b> command to specify the interval and conditions for adaptive sampling. If the conditions are met, data is sampled based on the specified sampling interval. If the command is run multiple times, only the latest configuration takes effect.</p>
<p><strong>Precautions</strong></p>
<p>If the value of op-field (leaf node) is of the enumerated type, the value of op-value will be converted to an integer. The meaning of this integer can be checked by entering "?" in the CLI to check the help information or checking the enumeration type definition of the leaf node in the YANG file.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907609152__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure adaptive sampling. Under normal circumstances, the sampling interval is 30s. When the CPU usage of the device is greater than 45%, the sampling interval is automatically adjusted to 10s.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>telemetry</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-telemetry] <strong>sensor-group S</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-telemetry-sensor-group-S] <strong>sensor-path huawei-cpu-memory:cpu-memory/board-cpu-infos/board-cpu-info</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-telemetry-sensor-group-S-path] <strong>subscription A</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-telemetry-subscription-A] <strong>sensor-group S sample-interval 30000</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-telemetry-subscription-A] <strong>sensor-group S sample-adaptive</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-telemetry-subscription-A-sensor-group-S-sample-adaptive] <strong>sample-interval 10000 op-field system-cpu-usage op-type gt op-value 45</strong>
</pre>
</div>


</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Telemetry_Configuration_Commands_title.html">Telemetry Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/PACKETMAXSIZE(TELEMETRYOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SAMPLE-INTERVAL(TELEMETRYOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>