
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="auto-port-defend enable">
<meta name="DC.subject" content="auto-port-defend enable">
<meta name="keywords" content="auto-port-defend enable">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-Local_Attack_Defense_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/AUTO-PORT-DEFEND_ALARM_DISABLE.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/AUTO-PORT-DEFEND_PROTOCOL_DISABLE.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Local Attack Defense">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Local Attack Defense">
<meta name="featuretype" content="Security">
<meta name="featurename" content="Local Attack Defense">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="DC.Creator" content="SUBSYS_ID_CPUDEFEND">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907767888">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>auto-port-defend enable</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907767888"></a><a name="EN-US_CLIREF_0000001907767888"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">auto-port-defend enable</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907767888__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">auto-port-defend enable</span></b> command enables the port attack defense function.</p>
<p>The <b><span class="cmdname">undo auto-port-defend enable</span></b> command disables the port attack defense function.</p>
</p>
<p>By default, the port attack defense function is enabled.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907767888__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">auto-port-defend enable</span></b></p>

<p><b><span class="cmdname">undo auto-port-defend enable</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907767888__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
None
</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907767888__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>Attack defense policy view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907767888__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907767888__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>If an attacker initiates a DoS attack on a port, the malicious attack packets sent from this port to the CPU occupy bandwidth. As a result, the CPU cannot process the protocol packets sent from other ports, and services are interrupted.<p></p>
<span>The port attack defense function effectively limits</span> the number of packets sent to the CPU, and prevents DoS attacks aiming at the CPU.<p></p>
<span>This function is enabled by default</span>. You can enable port-based automatic local attack defense to resolve the problem. When the number of protocol packets received by a port exceeds the threshold for port attack defense or the sum of the top two quantities of protocol packets received on two ports exceeds the threshold for port attack defense, the protocol packets received by the ports are sent to a queue with a smaller CAR value. This prevents impacts on the sending of protocol packets on other normal ports.</p>
<p><strong>Precautions</strong></p>
<p><p>After the port attack defense function is enabled in an attack defense policy, the attack defense policy must be applied in the system view.<p></p>
<span>On each switch</span>, port-based automatic local attack defense takes effect only on a maximum of two ports.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907767888__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable the port attack defense function in the attack defense policy test view.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>cpu-defend policy test</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-cpu-defend-policy-test] <strong>auto-port-defend enable</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-Local_Attack_Defense_Configuration_Commands_title.html">Local Attack Defense Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/AUTO-PORT-DEFEND_ALARM_DISABLE.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/AUTO-PORT-DEFEND_PROTOCOL_DISABLE.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>