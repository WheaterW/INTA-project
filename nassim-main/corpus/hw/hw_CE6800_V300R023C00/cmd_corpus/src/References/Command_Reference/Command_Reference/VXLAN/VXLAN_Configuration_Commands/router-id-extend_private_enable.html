
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="router-id-extend private enable">
<meta name="DC.subject" content="router-id-extend private enable">
<meta name="keywords" content="router-id-extend private enable">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_VXLAN_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/AUTO-RD-EVPN-PROFILE(EVPNOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/EVPN-RR-FILTER(BGPEVPNOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="DC.Creator" content="SUBSYS_ID_EVPNOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907767088">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>router-id-extend private enable</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907767088"></a><a name="EN-US_CLIREF_0000001907767088"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">router-id-extend private enable</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907767088__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">router-id-extend private enable</span></b> command configures a device to add the router ID that is a private extended community attribute to locally generated EVPN routes.</p>
<p>The <b><span class="cmdname">undo router-id-extend private enable</span></b> command disables a device from adding the router ID attribute to locally generated EVPN routes.</p>
</p>
<p>By default, a device does not add the router ID to EVPN routes when the EVPN routes are generated locally.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907767088__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">router-id-extend private enable</span></b></p>

<p><b><span class="cmdname">undo router-id-extend private enable</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907767088__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
None
</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907767088__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>Global EVPN configuration view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907767088__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907767088__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p>To configure a device to add the router ID attribute to locally generated EVPN routes, run the <b><span class="cmdname">router-id-extend private enable</span></b> command.<p></p>
<span>When both IPv4 VXLAN and IPv6 VXLAN tunnels are to</span> be established between two devices, the local device sends two EVPN routes to the remote device. Each of the two EVPN route carries the local device's IP address, one address with the IPv4 VXLAN tunnel identifier and the other address with the IPv6 VXLAN tunnel identifier. Upon receipt of the EVPN routes, the remote device adds the received IP addresses with different VXLAN tunnel identifiers to the ingress replication list during the process of establishing the IPv4 and IPv6 VXLAN tunnels. Consequently, the remote device forwards two copies of BUM traffic to the local device, causing the local device to receive unneeded duplicate traffic. To address this problem, run the <b><span class="cmdname">router-id-extend private enable</span></b> command to configure the local device to add the router ID attribute to EVPN routes. Upon receipt the routes, the remote device finds that the EVPN routes carry the same router ID and determines that they are from the same device. In this case, the remote device adds the local device's IP address only with the IPv4 VXLAN tunnel identifier to the ingress replication list, so that the remote device forwards only one copy of each BUM packet to the local device.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907767088__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable routes to carry the router ID extended attribute.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>evpn</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-evpn] <strong>router-id-extend private enable</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_VXLAN_Configuration_Commands_title.html">VXLAN Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/AUTO-RD-EVPN-PROFILE(EVPNOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/EVPN-RR-FILTER(BGPEVPNOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>