
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="dhcpv6 relay source-interface">
<meta name="DC.subject" content="dhcpv6 relay source-interface">
<meta name="keywords" content="dhcpv6 relay source-interface">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-DHCPv6_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DHCPV6_RELAY_SERVER-SELECT.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DHCPV6_RELAY_SOURCE-IP-ADDRESS.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="DHCPv6">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="DHCPv6">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="DHCPv6">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Creator" content="SUBSYS_ID_ESAP_DHCP6RELAY">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907602628">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>dhcpv6 relay source-interface</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907602628"></a><a name="EN-US_CLIREF_0000001907602628"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">dhcpv6 relay source-interface</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907602628__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">dhcpv6 relay source-interface</span></b> command configures the IPv6 address of an interface as the source IPv6 address of packets.</p>
<p>The <b><span class="cmdname">undo dhcpv6 relay source-interface</span></b> command restores the default setting.</p>
</p>
<p>By default, the IPv6 address of an interface is not configured as the source IPv6 address of packets.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907602628__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">dhcpv6 relay source-interface </span></b>{ <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <i><span class="varname">interface-name</span></i> }</p>

<p><b><span class="cmdname">undo dhcpv6 relay source-interface</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907602628__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interface-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an interface name.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>source-interface</span></strong> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the interface type and interface number.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907602628__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100ge sub-interface view,</span><span>100GE interface view,</span><span>10GE sub-interface view,</span><span>10GE interface view,</span><span>200GE sub-interface view,</span><span>200GE interface view,</span><span>25GE sub-interface view,</span><span>25GE interface view,</span><span>400GE sub-interface view,</span><span>400GE interface view,</span><span>50GE sub-interface view,</span><span>50GE interface view,</span><span>Eth-Trunk sub-interface view,</span><span>Eth-Trunk interface view,</span><span>VBDIF interface view,</span><span>VLANIF interface view,</span><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907602628__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907602628__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>When forwarding packets from DHCPv6 clients, a DHCPv6 relay agent uses the IPv6 address of the inbound interface as the source IPv6 address of the packets. In this case, each interface on the DHCPv6 relay agent must be configured with an IPv6 address, which complicates the configuration process and wastes IPv6 addresses. Run the <b><span class="cmdname">dhcpv6 relay source-interface</span></b> command on the DHCPv6 relay agent to specify the IPv6 address of the interface as the source IPv6 address of DHCPv6 relay packets. This simplifies the configuration and saves IPv6 addresses.<p></p>
<span>In addition</span>, if a distributed gateway functions as a DHCPv6 relay agent, the IPv6 address of the interface on each distributed gateway is the same. If the IPv6 address is used to communicate with the server, the response packet from the server is sent to an incorrect distributed gateway (that is, the device that does not send DHCPv6 request packets). To solve this problem, run the <b><span class="cmdname">dhcpv6 relay source-interface</span></b> command on each distributed gateway to specify the IPv6 address of an interface as the source IPv6 address of DHCPv6 relay packets. This ensures that response packets from the server can be sent back to the correct distributed gateway.</p>
<p><strong>Prerequisites</strong></p>
<p>In the interface view:</p>

<ul><li>Run the <b><span class="cmdname">ipv6 enable</span></b> command to enable IPv6 on the interface.</li><li>Run the <b><span class="cmdname">dhcpv6 relay destination</span></b> or <b><span class="cmdname">dhcpv6 relay server-select</span></b> command to enable the DHCPv6 relay function on the interface.</li></ul>
<p><strong>Precautions</strong></p>
<p>If an IPv6 address is configured for the inbound interface that receives packets from DHCPv6 clients, the IPv6 address is used as the source IPv6 address of packets.This command takes effect on all interfaces of the device if it is configured in the system view, and takes effect only on an interface if it is configured in the interface view. If this command is configured in both the interface view and system view, the configuration in the interface view takes effect.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907602628__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">



<div class="p"># On <span>100GE</span><span>1/0/1</span>, configure the IPv6 address of a loopback interface as the source IPv6 address of packets.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface loopback 5</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-LoopBack5] <strong>ipv6 enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-LoopBack5] <strong>ipv6 address fc01:1::1/128</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-LoopBack5] <strong>quit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span><span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ipv6 enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>dhcpv6 relay destination fc00:1::1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>dhcpv6 relay source-interface loopback 5</strong>
</pre>
</div>

<div class="p"># In the system view, configure the IPv6 address of a loopback interface as the source IPv6 address of packets.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface loopback 5</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-LoopBack5] <strong>ipv6 enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-LoopBack5] <strong>ipv6 address fc01:1::1/128</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-LoopBack5] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>dhcpv6 relay source-interface loopback 5</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-DHCPv6_Configuration_Commands_title.html">DHCPv6 Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DHCPV6_RELAY_SERVER-SELECT.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/DHCPV6_RELAY_SOURCE-IP-ADDRESS.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>