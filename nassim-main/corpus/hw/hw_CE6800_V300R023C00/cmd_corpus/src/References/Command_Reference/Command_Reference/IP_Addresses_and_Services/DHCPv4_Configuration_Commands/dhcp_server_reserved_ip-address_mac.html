<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
 <head> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="DC.Type" content="cliref"> 
  <meta name="DC.Title" content="dhcp server reserved ip-address mac"> 
  <meta name="DC.subject" content="dhcp server reserved ip-address mac"> 
  <meta name="keywords" content="dhcp server reserved ip-address mac"> 
  <meta name="product" content=""> 
  <meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-DHCP_Configuration_Commands_title.html"> 
  <meta name="DC.Relation" scheme="URI" content="../v3r23c00/DHCP_SERVER_PING.html"> 
  <meta name="DC.Relation" scheme="URI" content="../v3r23c00/DHCP_SERVER_SIP-SERVER.html"> 
  <meta name="prodname" content=""> 
  <meta name="version" content=""> 
  <meta name="brand" content="Product Documentation"> 
  <meta name="DC.Publisher" content="20230413"> 
  <meta name="featurename" content="DHCPv4"> 
  <meta name="featuretype" content="IP Addresses and Services"> 
  <meta name="DC.Audience.Job" content="Reference"> 
  <meta name="featurename" content="DHCPv4"> 
  <meta name="featuretype" content="IP Addresses and Services"> 
  <meta name="featurename" content="DHCPv4"> 
  <meta name="featuretype" content="IP Addresses and Services"> 
  <meta name="featuretype" content="IP Addresses and Services"> 
  <meta name="featuretype" content="IP Addresses and Services"> 
  <meta name="DC.Creator" content="SUBSYS_ID_ESAP_DHCPSERVER"> 
  <meta name="DC.Format" content="XHTML"> 
  <meta name="DC.Identifier" content="EN-US_CLIREF_0000001907762488"> 
  <meta name="DC.Language" content="en-us"> 
  <link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css"> 
  <link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css"> 
  <script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script> 
  <title>dhcp server reserved ip-address mac</title> 
  <style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style> 
 </head> 
 <body>
  <a name="EN-US_CLIREF_0000001907762488"></a>
  <a name="EN-US_CLIREF_0000001907762488"></a> 
  <div class="articleBoxWithoutHead"> 
   <h1 class="topicTitle-h1">dhcp server reserved ip-address mac</h1> 
   <div> 
    <div class="clifunc">
     <a name="EN-US_CLIREF_0000001907762488__1.3.1"></a>
     <a name="1.3.1"></a>
     <h2 class="sectiontitle">Function</h2> 
     <div class="clifuncbody"> 
      <p></p>
      <p>The <b><span class="cmdname">dhcp server reserved ip-address mac</span></b> command enables the function of reserving IP address allocation records.</p> 
      <p>The <b><span class="cmdname">undo dhcp server reserved ip-address mac</span></b> command disables the function of reserving IP address allocation records.</p> 
      <p></p> 
      <p>By default, a device reserves IP address allocation records.</p> 
     </div>
    </div> 
    <div class="cliformat">
     <a name="EN-US_CLIREF_0000001907762488__1.3.2"></a>
     <a name="1.3.2"></a>
     <h2 class="sectiontitle">Format</h2> 
     <div class="cliformatbody"> 
      <p><b><span class="cmdname">dhcp server reserved ip-address mac</span></b></p> 
      <p><b><span class="cmdname">undo dhcp server reserved ip-address mac</span></b></p> 
     </div>
    </div> 
    <div class="cliparam">
     <a name="EN-US_CLIREF_0000001907762488__1.3.3"></a>
     <a name="1.3.3"></a>
     <h2 class="sectiontitle">Parameters</h2> 
     <div class="cliparambody">
       None 
     </div>
    </div> 
    <div class="cliview">
     <a name="EN-US_CLIREF_0000001907762488__1.3.4"></a>
     <a name="1.3.4"></a>
     <h2 class="sectiontitle">Views</h2> 
     <div class="cliviewbody"> 
      <p>100ge sub-interface view,100GE interface view,10GE sub-interface view,10GE interface view,200GE sub-interface view,200GE interface view,25GE sub-interface view,25GE interface view,400GE sub-interface view,400GE interface view,50GE sub-interface view,50GE interface view,Eth-Trunk sub-interface view,Eth-Trunk interface view,VBDIF interface view,VLANIF interface view</p> 
     </div>
    </div> 
    <div class="clidefaultlevel">
     <a name="EN-US_CLIREF_0000001907762488__1.3.5"></a>
     <a name="1.3.5"></a>
     <h2 class="sectiontitle">Default Level</h2> 
     <div class="clidefaultlevelbody"> 
      <p>2: Configuration level</p> 
     </div>
    </div> 
    <div class="clidesc">
     <a name="EN-US_CLIREF_0000001907762488__1.3.6"></a>
     <a name="1.3.6"></a>
     <h2 class="sectiontitle">Usage Guidelines</h2> 
     <div class="clidescbody"> 
      <p><strong>Usage Scenario</strong></p> 
      <p>After a user goes offline, the IP address is reclaimed. The status of the IP address then is set to Idle and the device does not reserve allocation records of the IP address. When the user attempts to go online again, the user wants to use the original IP address. However, the device does not reserve any allocation record of the IP address and the original IP address may have been allocated to another user.</p>
      <p></p> 
      <span>To resolve this issue</span>, you can enable the function of reserving IP address allocation records. If a user goes offline after this function is enabled, the status of the IP address is set to Expired and the device reserves allocation records of the IP address based on the user's MAC address. If the user attempts to go online again, the device preferentially allocates the original IP address to the user.
      <p></p> 
      <p><strong>Prerequisites</strong></p> 
      <ol>
       <li>IP addresses in the interface address pool have been configured using the <b><span class="cmdname">ip address</span></b> command.</li>
       <li>The DHCP server function of the interface address pool has been enabled on interfaces using the <b><span class="cmdname">dhcp select interface</span></b> command.</li>
      </ol> 
     </div>
    </div> 
    <div class="cliexample">
     <a name="EN-US_CLIREF_0000001907762488__1.3.7"></a>
     <a name="1.3.7"></a>
     <h2 class="sectiontitle">Example</h2> 
     <div class="cliexamplebody"> 
      <div class="p">
       # Enable the function of reserving IP address allocation records in the interface address pool on 
       <span>100GE</span>
       <span>1/0/1</span>.
       <pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" face="Courier New">~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ip address 192.168.1.1 24</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>dhcp select interface</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>dhcp server reserved ip-address mac</strong>
</pre> 
      </div> 
     </div>
    </div> 
   </div> 
  </div> 
  <div class="footerNavBar clearfix"> 
   <div class="parentlink">
     Parent Topic: 
    <a href="../v3r23c00/dc_PNF-DHCP_Configuration_Commands_title.html">DHCPv4 Configuration Commands </a> 
   </div> 
   <div class="copyrightBottomBar">
     Copyright ? Huawei Technologies Co., Ltd.
   </div> 
   <div class="copyrightBottomBar_responsive">
     Copyright ? Huawei Technologies Co., Ltd.
   </div> 
   <div class="bottomNavBtn clearfix"> 
    <a href="../v3r23c00/DHCP_SERVER_PING.html"><span class="font-st">&lt; </span>Previous topic</a> 
    <a href="../v3r23c00/DHCP_SERVER_SIP-SERVER.html">Next topic<span class="font-st"> &gt;</span></a> 
   </div> 
  </div>  
 </body>
</html>