
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="arp anti-attack gateway-duplicate enable">
<meta name="DC.subject" content="arp anti-attack gateway-duplicate enable">
<meta name="keywords" content="arp anti-attack gateway-duplicate enable">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_ARP_Security_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/ARPSECGLOBAL(ARPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/ARPVLANIFSEC_1(ARPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="ARP Security">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="ARP Security">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="ARP Security">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Creator" content="SUBSYS_ID_ARPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907762336">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>arp anti-attack gateway-duplicate enable</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907762336"></a><a name="EN-US_CLIREF_0000001907762336"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">arp anti-attack gateway-duplicate enable</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907762336__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">arp anti-attack gateway-duplicate enable</span></b> command enables the ARP bogus gateway attack defense function.</p>
<p>The <b><span class="cmdname">undo arp anti-attack gateway-duplicate enable</span></b> command disables the ARP bogus gateway attack defense function.</p>
</p>
<p>By default, the ARP bogus gateway attack defense function is not enabled.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907762336__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">arp anti-attack gateway-duplicate enable</span></b></p>

<p><b><span class="cmdname">undo arp anti-attack gateway-duplicate enable</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907762336__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
None
</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907762336__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907762336__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907762336__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><p>If an attacker functions as a bogus gateway by sending ARP packets with the source IP address as the gateway IP address on a LAN, other devices on the LAN may record incorrect gateway address mappings in the ARP table. As a result, the traffic that is supposed to be sent to the gateway will be transmitted to the attacker. The attacker can then easily obtain the data content, and these devices will eventually fail to access the network.<p></p>
<span>To defend against bogus gateways</span>, you can run this command to enable the ARP bogus gateway attack defense function on the gateway directly connected to a user host. For the following conditions:</p>

<ul><li>A VLANIF interface is used to receive packets.</li><li>The source IP address of received packets is the same as the IP address of the inbound interface.</li><li>The source MAC address in the Ethernet header of received packets and the source MAC address in ARP packets are different from the interface MAC address.</li><li>The source MAC address of received packets is not a virtual MAC address.<p></p>
<span>If these conditions are all met</span>, the device considers that the ARP packets have an address conflict with the gateway and generates ARP attack defense entries (such entries are not generated in virtual MAC scenarios). In addition, the device discards the packets received from the interface with the same VLAN ID or the same source MAC address in the same BD. In this manner, the ARP packets that have a gateway address conflict can be prevented from being broadcast in the VLAN or BD.</li></ul>
</div>
<p><strong>Precautions</strong></p>
<p><p>Each device maintains a maximum of 1000 ARP gateway anti-collision entries at a time. If the number of ARP gateway anti-collision entries exceeds 1000, new gateway collision attacks cannot be prevented.</p>

<p>In scenarios where the arp anti-attack gateway-duplicate enable command is run in the system view to enable ARP gateway anti-collision on the device, ARP fast reply does not take effect.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907762336__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable the function of ARP bogus gateway attack defense.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>arp anti-attack gateway-duplicate enable</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_ARP_Security_Configuration_Commands_title.html">ARP Security Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/ARPSECGLOBAL(ARPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/ARPVLANIFSEC_1(ARPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>