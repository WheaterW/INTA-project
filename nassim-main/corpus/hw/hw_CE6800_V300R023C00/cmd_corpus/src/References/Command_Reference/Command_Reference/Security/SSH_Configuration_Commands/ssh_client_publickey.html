
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ssh client publickey">
<meta name="DC.subject" content="ssh client publickey">
<meta name="keywords" content="ssh client publickey">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_SSH_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/ASSIGN-RSA-KEY(SSHC).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SSH-CLIENT-REKEY(SSHC).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="SSH">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="SSH">
<meta name="featuretype" content="Security">
<meta name="featurename" content="SSH">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="DC.Creator" content="SUBSYS_ID_SSHC">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000002194450485">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ssh client publickey</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000002194450485"></a><a name="EN-US_CLIREF_0000002194450485"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">ssh client publickey</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000002194450485__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">ssh client publickey</span></b> command enables the public key algorithm function of the SSH client.</p>
<p>The <b><span class="cmdname">undo ssh client publickey</span></b> command restores all the public key algorithms of the SSH client to default settings.</p>
</p>
<p>By default, ECC, RSA_SHA2_256, and RSA_SHA2_512 public key algorithms are enabled.</p>
<p>When the device starts with factory settings, the RSA_SHA2_256 and RSA_SHA2_512 public key algorithms are enabled.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000002194450485__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">


<p><b><span class="cmdname">ssh client publickey </span></b>{ <strong><span>dsa</span></strong> | <strong><span>ecc</span></strong> | <strong><span>rsa</span></strong> | <strong><span>sm2</span></strong> | <strong><span>rsa_sha2_256</span></strong> | <strong><span>rsa_sha2_512</span></strong> | <strong><span>x509v3-ssh-rsa</span></strong> | <strong><span>x509v3-rsa2048-sha256</span></strong> } <sup>*</sup></p>



<p><b><span class="cmdname">undo ssh client publickey</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000002194450485__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>dsa</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the DSA algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ecc</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the ECC algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>rsa</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the RSA algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>sm2</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the SM2 algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>rsa_sha2_256</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the RSA SHA2-256 algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>rsa_sha2_512</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the RSA SHA2-512 algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>x509v3-ssh-rsa</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the X509 RSA algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>


<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>x509v3-rsa2048-sha256</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the X509-RSA-SHA2-256 algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000002194450485__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000002194450485__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000002194450485__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><ul><li>This command enables you to use a more secure public key algorithm when logging in to the device, while rejects other public key algorithms, thereby improving device security. The RSA_SHA2_256 and RSA_SHA2_512 public key algorithms are recommended.</li><li>To allow a public key algorithm and reject other public key algorithms, run the <b><span class="cmdname">ssh client publickey</span></b> command and specify the specific public key algorithm in the command. For example, after the ssh client publickey ecc command is run, the ECC public key algorithm is allowed and the DSA, RSA, SM2, and other public key algorithms are rejected. If this command is run multiple times, the latest configuration overrides the previous one.</li></ul>
</div>
<p><strong>Precautions</strong></p>
<div class="p"><ul><li>When a device boots with factory defaults, the RSA_SHA2_256 and RSA_SHA2_512 public key algorithms are enabled.</li><li>When a device loads the configuration file on startup (for example, the device loads the configuration file using ZTP for initial configuration), and the configuration file does not include the <b><span class="cmdname">ssh client publickey</span></b> command, the ECC, RSA_SHA2_256, and RSA_SHA2_512 public key algorithms are enabled.</li><li>A public key algorithm can be used for login only after it is enabled on both the client and server.</li><li>The <b><span class="cmdname">undo ssh client publickey</span></b> command restores all the public key algorithms of the SSH client to default settings, with no parameters.</li><li>If the <b><span class="cmdname">ssh client first-time enable</span></b> command is run, a message is displayed asking you to save the server's public key when a client attempts to log in to the server. When the save operation is performed, the SSH client automatically selects a public key algorithm that can ensure successful negotiation with the SSH client among all the public key algorithms configured using the <b><span class="cmdname">ssh client publickey</span></b> command, and allocates the selected algorithm to the SSH server.</li><li>If the function corresponding to the <b><span class="cmdname">ssh client first-time enable</span></b> command is disabled, you must run the <b><span class="cmdname">ssh client peer assign</span></b> command to allocate a public key algorithm to the SSH server. Ensure that the SSH server can use the allocated public key algorithm to successfully negotiate with the SSH client for which a public key algorithm has been configured using the <b><span class="cmdname">ssh client publickey</span></b> command. In this way, the SSH client can pass the public key authentication by the SSH server.</li><li>This command takes effect for both IPv4 and IPv6 clients.</li><li>The dsa and rsa parameters in this command can be used only after the weak security algorithm/protocol feature package (WEAKEA) is installed using the <b><span class="cmdname">install feature-software WEAKEA</span></b> command.</li><li>For security purposes, do not use the RSA algorithm with the key length fewer than 3072 bits. The more secure algorithms, RSA_SHA2_256 and RSA_SHA2_512, are recommended.</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000002194450485__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">


<div class="p"># Allow using of the ECC algorithm and deny other algorithms.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ssh client publickey ecc</strong>
</pre>
</div>

<div class="p"># Allow using of the SM2 algorithm and deny other algorithms.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ssh client publickey sm2</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_SSH_Configuration_Commands_title.html">SSH Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/ASSIGN-RSA-KEY(SSHC).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SSH-CLIENT-REKEY(SSHC).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>