
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="icmp receive (system view)">
<meta name="DC.subject" content="icmp receive (system view)">
<meta name="keywords" content="icmp receive (system view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IPv4_Basic_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IFICMPSECURITY_RECV(PP4OM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IFICMPSECURITY_SEND(PP4OM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IPv4 Basic">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="IPv4 Basic">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="IPv4 Basic">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Creator" content="SUBSYS_ID_PP4OM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942841389">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>icmp receive (system view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942841389"></a><a name="EN-US_CLIREF_0000001942841389"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">icmp receive (system view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942841389__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">icmp receive disable</span></b> command disables a device from receiving ICMP packets of a specified type.</p>
<p>The <b><span class="cmdname">undo icmp receive disable</span></b> command enables a device to receive ICMP packets of a specified type.</p>
<p>The <b><span class="cmdname">clear icmp receive</span></b> command clears the configurations of the icmp receive disable and undo icmp receive disable commands.</p>
</p>
<p>By default, a device is enabled to receive ICMP packets.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942841389__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">icmp name </span></b>{ <strong><span>echo</span></strong> | <strong><span>echo-reply</span></strong> | <strong><span>net-unreachable</span></strong> | <strong><span>parameter-problem</span></strong> | <strong><span>timestamp-reply</span></strong> | <strong><span>timestamp-request</span></strong> | <strong><span>ttl-exceeded</span></strong> | <strong><span>information-reply</span></strong> | <strong><span>information-request</span></strong> | <strong><span>net-redirect</span></strong> | <strong><span>source-quench</span></strong> } <strong><span>receive</span></strong> <strong><span>disable</span></strong></p>

<p><b><span class="cmdname">icmp name </span></b>{ <strong><span>reassembly-timeout</span></strong> | <strong><span>host-unreachable</span></strong> | <strong><span>host-redirect</span></strong> } <strong><span>receive</span></strong> <strong><span>disable</span></strong></p>

<p><b><span class="cmdname">icmp name </span></b>{ <strong><span>net-tos-redirect</span></strong> | <strong><span>protocol-unreachable</span></strong> } <strong><span>receive</span></strong> <strong><span>disable</span></strong></p>

<p><b><span class="cmdname">icmp name </span></b>{ <strong><span>port-unreachable</span></strong> | <strong><span>host-tos-redirect</span></strong> } <strong><span>receive</span></strong> <strong><span>disable</span></strong></p>

<p><b><span class="cmdname">icmp name fragmentneed-dfset receive disable</span></b></p>

<p><b><span class="cmdname">icmp name source-route-failed receive disable</span></b></p>

<p><b><span class="cmdname">icmp name unreachable receive disable</span></b></p>

<p><b><span class="cmdname">icmp type </span></b><i><span class="varname">typevalue</span></i> <strong><span>code</span></strong> <i><span class="varname">codevalue</span></i> <strong><span>receive</span></strong> <strong><span>disable</span></strong></p>

<p><b><span class="cmdname">clear icmp name </span></b>{ <strong><span>echo</span></strong> | <strong><span>echo-reply</span></strong> | <strong><span>net-unreachable</span></strong> | <strong><span>parameter-problem</span></strong> | <strong><span>timestamp-reply</span></strong> | <strong><span>timestamp-request</span></strong> | <strong><span>ttl-exceeded</span></strong> | <strong><span>information-reply</span></strong> | <strong><span>information-request</span></strong> | <strong><span>net-redirect</span></strong> | <strong><span>source-quench</span></strong> } <strong><span>receive</span></strong></p>

<p><b><span class="cmdname">clear icmp name </span></b>{ <strong><span>reassembly-timeout</span></strong> | <strong><span>host-unreachable</span></strong> | <strong><span>host-redirect</span></strong> } <strong><span>receive</span></strong></p>

<p><b><span class="cmdname">clear icmp name </span></b>{ <strong><span>net-tos-redirect</span></strong> | <strong><span>protocol-unreachable</span></strong> } <strong><span>receive</span></strong></p>

<p><b><span class="cmdname">clear icmp name </span></b>{ <strong><span>port-unreachable</span></strong> | <strong><span>host-tos-redirect</span></strong> } <strong><span>receive</span></strong></p>

<p><b><span class="cmdname">clear icmp name fragmentneed-dfset receive</span></b></p>

<p><b><span class="cmdname">clear icmp name source-route-failed receive</span></b></p>

<p><b><span class="cmdname">clear icmp name unreachable receive</span></b></p>

<p><b><span class="cmdname">clear icmp type </span></b><i><span class="varname">typevalue</span></i> <strong><span>code</span></strong> <i><span class="varname">codevalue</span></i> <strong><span>receive</span></strong></p>








<p><b><span class="cmdname">undo icmp name </span></b>{ <strong><span>echo</span></strong> | <strong><span>echo-reply</span></strong> | <strong><span>net-unreachable</span></strong> | <strong><span>parameter-problem</span></strong> | <strong><span>timestamp-reply</span></strong> | <strong><span>timestamp-request</span></strong> | <strong><span>ttl-exceeded</span></strong> | <strong><span>information-reply</span></strong> | <strong><span>information-request</span></strong> | <strong><span>net-redirect</span></strong> | <strong><span>source-quench</span></strong> } <strong><span>receive</span></strong> <strong><span>disable</span></strong></p>

<p><b><span class="cmdname">undo icmp name </span></b>{ <strong><span>reassembly-timeout</span></strong> | <strong><span>host-unreachable</span></strong> | <strong><span>host-redirect</span></strong> } <strong><span>receive</span></strong> <strong><span>disable</span></strong></p>

<p><b><span class="cmdname">undo icmp name </span></b>{ <strong><span>net-tos-redirect</span></strong> | <strong><span>protocol-unreachable</span></strong> } <strong><span>receive</span></strong> <strong><span>disable</span></strong></p>

<p><b><span class="cmdname">undo icmp name </span></b>{ <strong><span>port-unreachable</span></strong> | <strong><span>host-tos-redirect</span></strong> } <strong><span>receive</span></strong> <strong><span>disable</span></strong></p>

<p><b><span class="cmdname">undo icmp name fragmentneed-dfset receive disable</span></b></p>

<p><b><span class="cmdname">undo icmp name source-route-failed receive disable</span></b></p>

<p><b><span class="cmdname">undo icmp name unreachable receive disable</span></b></p>

<p><b><span class="cmdname">undo icmp type </span></b><i><span class="varname">typevalue</span></i> <strong><span>code</span></strong> <i><span class="varname">codevalue</span></i> <strong><span>receive</span></strong> <strong><span>disable</span></strong></p>








</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942841389__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>echo</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive ICMP Echo packets (type 8; code 0: echo). An ICMP echo packet is sent to the destination host during a ping operation. The destination host responds with an echo reply packet, indicating that the destination is reachable.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>echo-reply</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive ICMP Echo Reply packets (type 0; code 0: echo reply).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>net-unreachable</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive ICMP Destination Unreachable packets (type 3; code 0: net unreachable).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>parameter-problem</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive Parameter Problem packets (type 12; code 0: pointer indicates the error).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>timestamp-reply</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive Timestamp Reply packets (type 14; code 0: timestamp reply).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>timestamp-request</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive Timestamp packets (type 13; code 0: timestamp).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ttl-exceeded</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive ICMP Time Exceeded packets (type 11; code 0: time to live exceeded in transit).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>information-reply</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive Information Reply packets (type 16; code 0: information reply).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>information-request</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive Information Request packets (type 15; code 0: information request).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>net-redirect</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive Redirect packets (type 5; code 0: Redirect datagrams for the Network).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>source-quench</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive Source Quench packets (type 4; code 0: source quench).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>name</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the system to receive ICMP packets with a specified name.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>reassembly-timeout</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive Time Exceeded packets (type 11; code 1: fragment reassembly time exceeded).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>host-unreachable</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive ICMP Destination Unreachable packets (type 3; code 1: host unreachable).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>host-redirect</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive Redirect packets (type 5; code 1: Redirect datagrams for the Host).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>net-tos-redirect</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive Redirect packets (type 5; code 2: Redirect datagrams for the Type of Service and Network).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>protocol-unreachable</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive ICMP Destination Unreachable packets (type 3; code 2: protocol unreachable).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>port-unreachable</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive ICMP Destination Unreachable packets (type 3; code 3: port unreachable).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>host-tos-redirect</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive Redirect packets (type 5; code 3: Redirect datagrams for the Type of Service and Host).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>fragmentneed-dfset</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive ICMP Destination Unreachable packets (type 3; code 4: fragmentation needed and DF set).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>source-route-failed</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive ICMP Destination Unreachable packets (type 3; code 5: source route failed).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>unreachable</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to receive protocol unreachable packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>type</span></strong> <i><span class="varname">typevalue</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the system to receive ICMP packets of a specified type.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is an integer that ranges from 0 to 255.<p>You can run the icmp name? command in the system view or interface view to view the mapping between the ICMP packet name and the values of type and code.</p>
</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>code</span></strong> <i><span class="varname">codevalue</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the system to receive ICMP packets with a specified message code.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is an integer that ranges from 0 to 255.<p>You can run the icmp name? command in the system view or interface view to view the mapping between the ICMP packet name and the values of type and code.</p>
</p>
</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942841389__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942841389__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942841389__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>In normal situations, a device can properly receive ICMP packets. In case of heavy network traffic, if hosts or ports are frequently unreachable, routers receive a large number of ICMP packets, which causes heavy traffic burden and performance deterioration. In addition, network attackers often use ICMP error packets to spy on the internal structure of the network.<p></p>
<span>To improve network performance and security</span>, run the <b><span class="cmdname">icmp receive disable</span></b> command to disable the system from receiving ICMP packets of a specified type.<p></p>
<span>If you want to restore the default configuration and</span> the <b><span class="cmdname">display this</span></b> command output does not contain the icmp receive or <b><span class="cmdname">undo icmp receive</span></b> command configuration, run the <b><span class="cmdname">clear icmp receive</span></b> command.</p>
</p>
<p><strong>Configuration Impact</strong></p>
<p><p>After the system is disabled from receiving ICMP packets, the system collects only statistics about discarded packets.</p>
</p>
<p><strong>Precautions</strong></p>
<p><p>If the network status is normal and the system is required to receive ICMP packets, run the <b><span class="cmdname">undo icmp receive disable</span></b> command.<p></p>
<span>The device does not support the processing of information</span>-request and information-reply packets and directly discards them.<p></p>
<span>The</span> <b><span class="cmdname">icmp receive</span></b> command run in the system view takes effect on all interfaces, whereas the <b><span class="cmdname">icmp receive</span></b> command run in the interface view takes effect only on the current interface. If the configuration is performed in both the interface view and system view, the configuration in the interface view has a higher priority.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942841389__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Restore the function to receive net-unreachable packets.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>undo icmp name net-unreachable receive disable</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_IPv4_Basic_Configuration_Commands_title.html">IPv4 Basic Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/IFICMPSECURITY_RECV(PP4OM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/IFICMPSECURITY_SEND(PP4OM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>