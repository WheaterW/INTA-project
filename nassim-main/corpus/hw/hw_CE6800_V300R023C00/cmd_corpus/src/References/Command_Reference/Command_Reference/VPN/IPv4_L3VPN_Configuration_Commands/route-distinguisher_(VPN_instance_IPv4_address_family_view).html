
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="route-distinguisher (VPN instance IPv4 address family view)">
<meta name="DC.subject" content="route-distinguisher (VPN instance IPv4 address family view)">
<meta name="keywords" content="route-distinguisher (VPN instance IPv4 address family view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_BGP_MPLS_IP_VPN_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/LIMITINVPN(ROUTEOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/ROUTE-DISTINGUISHER(L3VPNOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IPv4 L3VPN">
<meta name="featuretype" content="VPN">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="IPv4 L3VPN">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="IPv4 L3VPN">
<meta name="featuretype" content="VPN">
<meta name="featuretype" content="VPN">
<meta name="featuretype" content="VPN">
<meta name="DC.Creator" content="SUBSYS_ID_L3VPNOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942846053">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>route-distinguisher (VPN instance IPv4 address family view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942846053"></a><a name="EN-US_CLIREF_0000001942846053"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">route-distinguisher (VPN instance IPv4 address family view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942846053__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">route-distinguisher</span></b> command configures an RD for a VPN instance IPv4 address family.</p>
<p>The <b><span class="cmdname">undo route-distinguisher</span></b> command deletes the RD configuration in a specified VPN instance IPv4 address family.</p>
</p>
<p>By default, no RD is configured for a VPN instance IPv4 address family.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942846053__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">route-distinguisher </span></b><i><span class="varname">route-distinguisher</span></i></p>

<p><b><span class="cmdname">undo route-distinguisher </span></b><i><span class="varname">route-distinguisher</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942846053__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">route-distinguisher</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Route distinguisher (RD).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><p>An RD has the following formats:</p>
<ul><li>2-byte AS number:4-byte user-defined number, for example, 1:3. The AS number ranges from 0 to 65535, and the user-defined number ranges from 0 to 4294967295. The AS number and user-defined number cannot be both 0s. That is, an RD cannot be 0:0.</li><li>Integral 4-byte AS number:2-byte user-defined number, for example, 65537:3. An AS number ranges from 65536 to 4294967295, and a user-defined number ranges from 0 to 65535.</li><li>4-byte AS number in dotted notation:2-byte user-defined number, for example, 0.0:3 or 0.1:0. A 4-byte AS number in dotted notation is in the format of x.y, where x and y are integers that range from 0 to 65535, and a user-defined number ranges from 0 to 65535. The AS number and user-defined number cannot be both 0s. That is, an RD cannot be 0.0:0.</li><li>32-bit IP address:2-byte user-defined number, for example, 192.168.122.15:1. The IP address ranges from 0.0.0.0-255.255.255.255, and the user-defined number ranges from 0 to 65535.</li></ul>
</div>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942846053__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>VPN instance IPv4 address family view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942846053__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942846053__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>Conventional BGP cannot process the routes of VPNs with overlapped address spaces. To solve this problem, BGP/MPLS IP VPN uses the VPN-IPv4 address family. A VPN-IPv4 address has 12 bytes, including an 8-byte RD and a 4-byte IPv4 address prefix. RDs are used to distinguish IPv4 prefixes that use the same address space. The structure of RDs enables each service provider to allocate RDs independently. An IPv4 address with an RD is called a VPN-IPv4 address. After receiving IPv4 routes from a CE, a PE converts the routes to globally unique VPN-IPv4 routes and advertises these routes over the public network.</p>
</p>
<p><strong>Precautions</strong></p>
<p><p>Configuring a unique RD for a VPN instance IPv4 address family is recommended; otherwise, route overlapping may occur.<p></p>
<span>If you run the</span> <b><span class="cmdname">undo route-distinguisher</span></b> command to delete the RD configuration in a specified VPN instance IPv4 address family, the configurations in the address family and the <b><span class="cmdname">peer default-originate vpn-instance</span></b> command configuration in the VPNv4 address family will be deleted. Exercise caution when running this command.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942846053__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure an RD for the VPN instance named vpn1.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ip vpn-instance vpn1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-vpn1] <strong>ipv4-family</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-vpn1-af-ipv4] <strong>route-distinguisher 22:1</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_BGP_MPLS_IP_VPN_Configuration_Commands_title.html">IPv4 L3VPN Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/LIMITINVPN(ROUTEOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/ROUTE-DISTINGUISHER(L3VPNOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>