
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ssh server publickey">
<meta name="DC.subject" content="ssh server publickey">
<meta name="keywords" content="ssh server publickey">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_SSH_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SSH-SERVER-PORT(SSHS).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SSH-SERVER-REKEY(SSHS).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="SSH">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="SSH">
<meta name="featuretype" content="Security">
<meta name="featurename" content="SSH">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="DC.Creator" content="SUBSYS_ID_SSHS">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000002159123724">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ssh server publickey</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000002159123724"></a><a name="EN-US_CLIREF_0000002159123724"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">ssh server publickey</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000002159123724__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">ssh server publickey</span></b> command enables the public key algorithm function of the SSH server.</p>
<p>The <b><span class="cmdname">undo ssh server publickey</span></b> command restores all the public key algorithms of the SSH server to the default public key algorithms RSA_SHA2_256 and RSA_SHA2_512.</p>
</p>
<p>By default, ECC, RSA_SHA2_256, and RSA_SHA2_512 public key algorithms are enabled.</p>
<p>When the device starts with factory settings, the RSA_SHA2_256 and RSA_SHA2_512 public key algorithms are enabled.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000002159123724__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">

<p><b><span class="cmdname">ssh server publickey </span></b>{ <strong><span>dsa</span></strong> | <strong><span>ecc</span></strong> | <strong><span>rsa</span></strong> | <strong><span>sm2</span></strong> | <strong><span>x509v3-ssh-rsa</span></strong> | <strong><span>rsa_sha2_256</span></strong> | <strong><span>rsa_sha2_512</span></strong> | <strong><span>x509v3-rsa2048-sha256</span></strong> } <sup>*</sup></p>




<p><b><span class="cmdname">undo ssh server publickey</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000002159123724__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>dsa</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the DSA algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ecc</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the ECC algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>rsa</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the RSA algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>sm2</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the SM2 algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>x509v3-ssh-rsa</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the X509-SSH-RSA algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>rsa_sha2_256</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the RSA SHA2-256 algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>rsa_sha2_512</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the RSA SHA2-512 algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>x509v3-rsa2048-sha256</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the X509-RSA-SHA2-256 algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>


</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000002159123724__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000002159123724__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000002159123724__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><ul><li>You can run this command to configure a more secure public key algorithm for device login and deny other public key algorithms, improving device security. RSA_SHA2_256 and RSA_SHA2_512 public key algorithms are recommended.</li><li>Run the ssh server publickey + specified public key algorithm command to allow the use of this public key algorithm and deny the use of other public key algorithms. For example, ssh server publickey dsa indicates that the DSA algorithm can be used and other algorithms cannot be used. If you run this command multiple times, only the latest configuration takes effect.</li><li>To ensure high security, do not use the RSA algorithm whose length is less than 3072 bits as the authentication mode for SSH users. You are advised to use the RSA_SHA2_256 or RSA_SHA2_512 authentication algorithm, which is more secure.</li><li>If the public key algorithm specified for the SSH server is X509V3-SSH-RSA or X509V3-RSA2048-SHA256, run the ssh server assign pki &lt;pki-keyname&gt; command to bind the SSH server to a PKI realm.</li></ul>
</div>
<p><strong>Precautions</strong></p>
<div class="p"><ul><li>For security purposes, you are advised to use the following algorithms with higher security: ecc, rsa_sha2_256, and rsa_sha2_512.</li><li>A public key algorithm can be used for login only after it is enabled on both the client and server.</li><li>The <b><span class="cmdname">undo ssh server publickey</span></b> command restores all the public key algorithms of the SSH server to default settings, with no parameters.</li><li>If the authentication mode of SSH users is set to public key authentication using the <b><span class="cmdname">ssh user</span></b> command, the public key algorithm must be the same as that enabled in this command; otherwise, users cannot log in to the device. For example, if the ssh server publickey ecc command is run, you need to run the ssh user &lt;user-name&gt; authentication-type { ecc | password-ecc | all } command to set the authentication mode of SSH users to ECC, Password-ECC, or ALL.</li><li>This command takes effect for both IPv4 and IPv6 clients.</li><li>The dsa and rsa parameters in this command can be used only after the weak security algorithm/protocol feature package (WEAKEA) is installed using the <b><span class="cmdname">install feature-software WEAKEA</span></b> command.</li><li>When a device starts with factory defaults, the RSA_SHA2_256 and RSA_SHA2_512 public key algorithms are enabled.</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000002159123724__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Allow using of the ECC algorithm and deny other algorithms.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ssh server publickey ecc</strong>
</pre>
</div>

<div class="p"># Allow using of the SM2 algorithm and deny other algorithms.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ssh server publickey sm2</strong>
</pre>
</div>

<div class="p"># Allow using of the x509v3-ssh-rsa algorithm and deny other algorithms.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ssh server publickey x509v3-ssh-rsa</strong>
</pre>
</div>



</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_SSH_Configuration_Commands_title.html">SSH Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/SSH-SERVER-PORT(SSHS).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SSH-SERVER-REKEY(SSHS).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>