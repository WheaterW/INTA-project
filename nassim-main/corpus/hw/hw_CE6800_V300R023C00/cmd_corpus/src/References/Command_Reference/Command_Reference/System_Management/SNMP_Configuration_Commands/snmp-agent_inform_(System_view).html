
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="snmp-agent inform (System view)">
<meta name="DC.subject" content="snmp-agent inform (System view)">
<meta name="keywords" content="snmp-agent inform (System view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_SNMP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SNMPTARGETHOSTINFORM(SNMPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SNMPLOCALENGINEID(SNMPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Creator" content="SUBSYS_ID_SNMPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000002194483705">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>snmp-agent inform (System view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000002194483705"></a><a name="EN-US_CLIREF_0000002194483705"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">snmp-agent inform (System view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000002194483705__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">snmp-agent inform</span></b> command sets global parameters of Inform messages. The parameters include the timeout period for waiting for Inform ACK messages, number of times to retransmit Inform messages, and maximum number of Inform messages to be confirmed in the inform buffer.</p>
<p>The <b><span class="cmdname">undo snmp-agent inform</span></b> command restores the default parameters.</p>
</p>
<p>By default, the time-out waiting period for Inform ACK messages is 15 seconds, the number of times to retransmit Inform messages is 3, and the maximum number of informs in the inform buffer is 39.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000002194483705__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">snmp-agent inform </span></b>{ <strong><span>timeout</span></strong> <i><span class="varname">seconds</span></i> | <strong><span>resend-times</span></strong> <i><span class="varname">times</span></i> | <strong><span>pending</span></strong> <i><span class="varname">number</span></i> } <sup>*</sup></p>

<p><b><span class="cmdname">undo snmp-agent inform </span></b>{ <strong><span>timeout</span></strong> [ <i><span class="varname">seconds</span></i> ] | <strong><span>resend-times</span></strong> [ <i><span class="varname">times</span></i> ] | <strong><span>pending</span></strong> [ <i><span class="varname">number</span></i> ] } <sup>*</sup></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000002194483705__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>timeout</span></strong> <i><span class="varname">seconds</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specified the timeout period for waiting for Inform ACK messages from the NMS.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 1800, in seconds. The default value is 15, which is equal to the global timeout period configured using the snmp-agent inform command.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>resend-times</span></strong> <i><span class="varname">times</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the maximum number of attempts to retransmit an Inform message if no Inform ACK message is returned by the NMS.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 10. The default value is 3, which is equal to the global retransmission times configured using the snmp-agent inform command.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>pending</span></strong> <i><span class="varname">number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the maximum number of Inform messages to be confirmed in the inform buffer.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 2048. The default value is 39.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000002194483705__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000002194483705__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000002194483705__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>After sending an Inform message, an SNMP agent waits for an Inform ACK message sent by the NMS. You can run the <b><span class="cmdname">snmp-agent inform</span></b> command to set the timeout, resend-times, and pending parameters for Inform messages.<p></p>
<span>These three parameters affect one another</span>. For example, if the timeout period for waiting for Inform ACK messages prolongs or the number of attempts to retransmit Inform messages increases, but the maximum number of Inform messages to be confirmed is not changed, the number of Inform messages to be confirmed increases, causing the inform buffer to be quickly filled up.<p></p>
<span>Once the inform buffer is filled up</span>, the earliest Inform message in the inform buffer is deleted each time a new Inform message enters the queue. The deleted Inform messages are not retransmitted to the NMS. To prevent this problem, increase the maximum number of Inform messages to be confirmed in the inform buffer.<p></p>
<span>You can configure the</span> <b><span class="cmdname">snmp-agent inform</span></b> command to contain the parameter timeout, resend-times, or pending as needed.</p>

<ul><li>If a large number of Inform messages are lost on a network, you can run the snmp-agent inform pending <em>number</em>command to increase the Inform buffer.</li><li>If the network transmission speed is low, you are advised to increase the timeout period. Increasing the timeout period will increase the waiting time of Inform messages in the Inform buffer. You can also run the snmp-agent inform { timeout <em>seconds</em>| pending <em>number</em>} * command to increase the inform message.</li><li>If the transmission speed on the network is high, run the snmp-agent inform timeout <em>seconds</em>command to reduce the timeout period.</li><li>If Inform messages are transmitted on an unreliable network, you are advised to increase the number of retransmission times. In this case, the Inform messages in the Inform buffer need to wait for a longer time to be confirmed. You are advised to run the snmp-agent inform { resend-times <em>times</em>| pending <em>number</em>} * command to increase the inform buffer.</li></ul>
<p><strong>Prerequisites</strong></p>
<p>Parameters for sending Inform messages take effect only after the IP address of the target host for receiving Inform messages is configured using the <b><span class="cmdname">snmp-agent target-host inform</span></b> command.<p></p>
<span>The IP address of the target host for receiving Inform</span> messages has been configured using the <b><span class="cmdname">snmp-agent target-host inform</span></b> command.</p>
<p><strong>Configuration Impact</strong></p>
<p>You must set suitable parameters timeout, resend-times, and pending. Setting an inappropriate parameter deteriorates SNMP working efficiency.</p>
<p><strong>Precautions</strong></p>
<p>Only parameters for sending Inform messages need to be configured using the <b><span class="cmdname">snmp-agent inform address</span></b> command. Parameters for sending trap messages do not need to be configured.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000002194483705__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the times to retransmit an Inform message to 5 and the maximum number of Inform messages waiting to be confirmed in the inform buffer to 100.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>snmp-agent inform resend-times 5 pending 100</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_SNMP_Configuration_Commands_title.html">SNMP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/SNMPTARGETHOSTINFORM(SNMPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SNMPLOCALENGINEID(SNMPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>