
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="display bgp peer (or slow-peer)">
<meta name="DC.subject" content="display bgp peer (or slow-peer)">
<meta name="keywords" content="display bgp peer (or slow-peer)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_BGP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DISPLAY-BGP-NETWORK(BGPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DISPLAY-PEER-LOG-INFO(BGPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_BGPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907763680">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>display bgp peer (or slow-peer)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907763680"></a><a name="EN-US_CLIREF_0000001907763680"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">display bgp peer (or slow-peer)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907763680__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">display bgp peer</span></b> command displays information about BGP peers.</p>
<p>The <b><span class="cmdname">display bgp slow-peer</span></b> command displays information about slow BGP peers.</p>
</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907763680__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">display bgp </span></b>{ <strong><span>peer</span></strong> | <strong><span>slow-peer</span></strong> }</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907763680__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
None
</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907763680__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>All views</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907763680__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>1: Monitoring level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907763680__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>The <b><span class="cmdname">display bgp peer</span></b> command displays BGP peer information, excluding unnumbered peers. You can implement the following operations based on the command output:</p>

<p>To check the status of BGP connections<p></p>
<span>To check information about a BGP peer</span><p></p>
<span>To check whether a BGP peer is configured using the</span> <b><span class="cmdname">peer as-number</span></b> command<p></p>
<span>To check whether a BGP peer is deleted using the</span> <b><span class="cmdname">undo peer as-number</span></b> command<p></p>
<span>To check information about slow BGP peers</span>, run the <b><span class="cmdname">display bgp slow-peer</span></b> command. The information includes the time when a peer began to be identified as a slow peer, the time when a peer last exited from the slow peer state, the number of times a peer has been identified as a slow peer, and the remaining time for a peer to exit from the slow peer state.</p>
</p>
<p><strong>Precautions</strong></p>
<p><p>When dynamic BGP peer relationships are being established or disconnected, statistics about the BGP peers may be inconsistent with the actual number of BGP peers. Therefore, you are advised to query statistics after the BGP peer status is stable.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907763680__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The actual command output varies according to the device. The command output here is only an example.</p>
</div></div>



<div class="p"># Display BGP peer information.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>display bgp peer</strong>

Status codes: * - Dynamic
 BGP local router ID : 10.2.3.4
 Local AS number : 10
 Total number of peers : 2                 
 Peers in established state : 1
 Total number of dynamic peers : 1

  Peer          V    AS  MsgRcvd  MsgSent  OutQ  Up/Down       State PrefRcv
  10.1.1.1       4   100        0        0     0 00:00:07        Idle       0
  10.2.2.2       4   200       32       35     0 00:17:49 Established       0
</pre>
</div>


<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Description of the <b><span class="cmdname">display bgp peer (or slow-peer)</span></b> command output</caption>
    
    
<thead align="left">
<tr>
<th align="left" class="cellrowborder" valign="top" width="44.5%" id="mcps1.3.7.3.2.3.1.1" liSelected="liSelected">Item</th>

<th align="left" class="cellrowborder" valign="top" width="55.50000000000001%" id="mcps1.3.7.3.2.3.1.2" liSelected="liSelected">Description</th>

</tr>

</thead>

<tbody>
<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Total number of peers</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Total number of BGP peers.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Total number of dynamic peers</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Number of dynamic BGP peers.</p>
</td>

</tr>


<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Peer</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Peer IP address.</p>
</td>

</tr>





<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">BGP local router ID</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p><p>Local router ID of BGP.</p>
<p>If the BGP local router IDs of the two ends conflict, the BGP peer relationship cannot be established. Run the router id command in the BGP view to change the router IDs to different values. Generally, the IP address of the loopback interface is used as the router ID of the local end.</p>
</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Local AS number</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Local AS number.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">AS</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>AS number.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Peers in established state</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Number of BGP peers in Established state.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">V</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>BGP version used on the peer.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">MsgRcvd</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Number of received messages.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">MsgSent</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Number of messages sent.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">OutQ</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Message to be sent to the specified peer.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Up/Down</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><div class="p"><p>Duration of the BGP session staying in the current state.</p>
<ul><li>If the duration is less than 24 hours, it is displayed in the format of xx:xx:xx, indicating xx hours, xx minutes, and xx seconds.</li><li>If the duration is greater than 24 hours, it is displayed in the format of xxxxhxxm, indicating xxxx hours and xx minutes. If the duration exceeds 9999 hours, it is displayed in the format of ****hxxm.</li></ul>
</div>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">State</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><div class="p"><p>Status of the peer:</p>
<ul><li>Idle: indicates that BGP denies any request of entering. This is the initiatory status of BGP.</li></ul>
<p>Upon receiving a Start event, BGP initiates a TCP connection request to the remote BGP peer, starts the ConnectRetry Timer with the initial value, listens for a TCP connection request initiated by the remote BGP peer, and changes its state to Connect.</p>
<ul><li>Connect: indicates that BGP is waiting for the TCP connection to be set up before it determines whether to perform other operations.</li><li>If the TCP connection succeeds, BGP stops the ConnectRetry Timer, sends an Open message to the remote peer, and changes its state to OpenSent.</li><li>If the TCP connection fails, BGP restarts the ConnectRetry Timer with the initial value, continues to listen for a TCP connection request initiated by the remote peer, and changes its state to Active.</li><li>If the ConnectRetry Timer has expired before a TCP connection is established, BGP restarts the timer with the initial value, initiates a TCP connection request to the remote BGP peer, and stays in the Connect state.</li><li>Active: indicates that BGP tries to set up a TCP connection. This is the intermediate status of BGP.</li><li>If the TCP connection succeeds, BGP stops the ConnectRetry Timer, sends an Open message to the remote peer, and changes its state to OpenSent.</li><li>If the ConnectRetry Timer has expired before a TCP connection is established, BGP restarts the timer with the initial value and changes its state to Connect.</li><li>If BGP initiates a TCP connection request with an unknown IP address, the TCP connection fails. When this occurs, BGP restarts the ConnectRetry Timer with the initial value and stays in the Active state.</li><li>OpenSent: indicates that BGP has sent one Open message to its peer and is waiting for the other Open message from the peer.</li><li>If there are no errors in the Open message received, BGP changes its state to OpenConfirm.</li><li>If there are errors in the Open message received, BGP sends a Notification message to the remote peer and changes its state to Idle.</li><li>If the TCP connection fails, BGP restarts the ConnectRetry Timer with the initial value, continues to listen for a TCP connection request initiated by the remote peer, and changes its state to Active.</li><li>OpenConfirm: indicates that BGP is waiting for a Notification or Keepalive message.</li><li>If BGP receives a Notification message, or the TCP connection fails, BGP changes its state to Idle.</li><li>If BGP receives a Keepalive message, BGP changes its state to Established.</li><li>Established: indicates that BGP peers can exchange Update, Notification, and Keepalive messages.</li><li>If BGP receives an Update or a Keepalive message, its state stays in Established.</li><li>If BGP receives a Notification message, BGP changes its state to Idle.</li><li>No neg: The address family is not enabled for the BGP peer. In this state, Update messages can be exchanged in other address families whose capabilities have been successfully negotiated. If the address family is enabled for the BGP peer, the local BGP peer receives a Notification message, and the peer relationship is disconnected. Then, the BGP peer changes to the Idle state and re-establishes the peer relationship.</li></ul>
</div>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">PrefRcv</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Number of route prefixes received by the local peer from the remote peer.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.3.2.3.1.1 ">Status codes</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.3.2.3.1.2 "><p>Status of a peer.</p>
</td>

</tr>

</tbody>

</table>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_BGP_Configuration_Commands_title.html">BGP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DISPLAY-BGP-NETWORK(BGPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/DISPLAY-PEER-LOG-INFO(BGPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>