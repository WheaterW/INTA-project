
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="igmp static-group">
<meta name="DC.subject" content="igmp static-group">
<meta name="keywords" content="igmp static-group">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IGMP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IGMP-INTERFACE-VIEW-CMD2(DGMPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IGMP-STATIC-GROUP-QINQ(DGMPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Creator" content="SUBSYS_ID_DGMPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907606132">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>igmp static-group</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907606132"></a><a name="EN-US_CLIREF_0000001907606132"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">igmp static-group</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907606132__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">igmp static-group</span></b> command configures an interface to statically join multicast groups.</p>
<p>The <b><span class="cmdname">undo igmp static-group</span></b> command deletes the multicast groups that an interface statically joins.</p>
</p>
<p>By default, an interface does not join any multicast group statically.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907606132__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">igmp static-group </span></b><i><span class="varname">group-address</span></i> [ <strong><span>inc-step-mask</span></strong> { <i><span class="varname">group-mask</span></i> | <i><span class="varname">group-mask-length</span></i> } <strong><span>number</span></strong> <i><span class="varname">group-number</span></i> ] [ <strong><span>source</span></strong> <i><span class="varname">source-address</span></i> ]</p>

<p><b><span class="cmdname">undo igmp static-group </span></b>{ <strong><span>all</span></strong> | <i><span class="varname">group-address</span></i> <strong><span>inc-step-mask</span></strong> { <i><span class="varname">group-mask</span></i> | <i><span class="varname">group-mask-length</span></i> } <strong><span>number</span></strong> <i><span class="varname">group-number</span></i> [ <strong><span>source</span></strong> <i><span class="varname">source-address</span></i> ] }</p>

<p><b><span class="cmdname">undo igmp static-group </span></b><i><span class="varname">group-address</span></i> [ <strong><span>source</span></strong> <i><span class="varname">source-address</span></i> ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907606132__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">group-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the IP address of the multicast group that an interface statically joins. In batch configuration mode, this parameter specifies the initial address of the multicast group range.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation and ranges from 224.0.1.0 to 239.255.255.255.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>inc-step-mask</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the step mask of a group address in batch configuration mode.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">group-mask</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the step mask of a group address in batch configuration mode, that is, the distance between two group addresses.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation and ranges from 0.0.0.1 to 15.255.254.255.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">group-mask-length</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the length of the step mask in batch configuration mode.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 5 to 32.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>number</span></strong> <i><span class="varname">group-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the number of group addresses in batch configuration mode.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 2 to 512.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>source</span></strong> <i><span class="varname">source-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a multicast source address.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The address is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>all</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates all multicast groups that an interface statically joins.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907606132__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100GE interface view,</span><span>10GE interface view,</span><span>200GE interface view,</span><span>25GE interface view,</span><span>400GE interface view,</span><span>50GE interface view,</span><span>Eth-Trunk interface view,</span><span>Loopback interface view,</span><span>VLANIF interface view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907606132__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907606132__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>If users want to receive multicast data for a group for a long time, the <b><span class="cmdname">igmp static-group</span></b> command can be used to configure the interface connected to user hosts to statically join groups. This allows the interface to rapidly respond to users' requests, thus reducing the channel switching time.<p></p>
<span>If users want to receive multicast data sent by a</span> specific multicast source for a long time, source source-address can be set to specify a multicast source address.<p></p>
<span>The</span> <b><span class="cmdname">igmp static-group</span></b> command is run on the interface connected to user hosts. The interface can statically join a single or multiple multicast groups at one time, including source-specific multicast groups.</p>
<p><strong>Prerequisites</strong></p>
<p>The multicast routing function has been enabled using the <b><span class="cmdname">multicast routing-enable</span></b> command in the public network instance view or VPN instance view.</p>
<p><strong>Configuration Impact</strong></p>
<p>After the <b><span class="cmdname">igmp static-group</span></b> command is run on an interface, static IGMP group records on the interface never time out. The device considers that the interface is always connected to group member hosts and continuously forwards qualified multicast packets to the network segment where the interface resides.<p></p>
<span>After the</span> <b><span class="cmdname">igmp static-group</span></b> command is run for the first time to configure multicast groups in batches, when you configure again, only the value of group-number is changed, and the values of group-address and group-mask | group-mask-length are not changed, the batch multicast static group configuration overwrites the previous batch multicast static group configuration.<p></p>
<span>If inc-step-mask and number group-number are specified</span> in the <b><span class="cmdname">igmp static-group</span></b> command, an interface is configured to statically join multicast groups in batches.<p></p>
<span>The</span> format of group-mask-length is as follows: group-mask = 1&lt;&lt; (32-group-mask-length), where the symbol &lt;&lt; is a left shift operator.<p></p>
<span>That is</span>, all binary bits of an integer are shifted leftwards by a specified number of bits. Extra binary bits moved beyond the left boundary are discarded and 0 is shifted from the right boundary.<p></p>
<span>For example</span>, when group-mask-length is 32, 1&lt;&lt;0 represents 0.0.0.1. When group-mask-length is 31, 1&lt;&lt;1 represents 0.0.0.2. When group-mask-length is 30, 1&lt;&lt;2 represents 0.0.0.4. If group-mask-length is used to configure the incremental masks of group addresses, when you run the <b><span class="cmdname">display current-configuration</span></b> command to view related configurations, the format of the displayed incremental masks of group addresses is converted to group-mask.</p>
<p><strong>Follow-up Procedure</strong></p>
<p>If a user host no longer wants to receive multicast data for a group that the user host statically joins, delete the static group configuration.</p>
<p><strong>Precautions</strong></p>
<p><p>If an interface belongs to an NDR or Assert Loser, the interface will not be added as a real PIM outbound interface. As a result, static traffic diversion fails.<p></p>
<span>When different multicast groups are configured in</span> batches, the same multicast group address may exist. Such configuration overlapping is allowed.<p></p>
<span>After an interface is configured to statically join</span> multicast groups in batches, do not delete the configuration if the system has not completed the batch static group joining.<p></p>
<span>If the igmp-snooping enable command is run in the</span> VLAN view and the command for static join is run on the corresponding VLANIF interface, a multicast routing table can be generated, but traffic cannot be forwarded. To enable a static group to forward traffic, delete the igmp-snooping enable configuration from the VLAN.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907606132__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">





<div class="p"># Configure <span>100GE</span> <span>1/0/1</span> to statically join multicast groups in batches, with the initial group address of 225.1.1.1, the step mask length of 32, and the number of group addresses of 2. Specifically, add the interface to the multicast groups 225.1.1.1 and 225.1.1.2.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>multicast routing-enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>igmp static-group 225.1.1.1 inc-step-mask 32 number 2</strong>
</pre>
</div>

<div class="p"># Configure <span>100GE</span> <span>1/0/1</span> on the Router to forward packets sent by multicast source 192.168.11.1 to multicast group 232.1.1.1.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>multicast routing-enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-GEt0/1/0] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>igmp static-group 232.1.1.1 source 192.168.11.1</strong>
</pre>
</div>

<div class="p"># Configure <span>100GE</span> <span>1/0/1</span> to statically join multicast groups in batches, with the initial group address of 232.1.1.1, the source IP address of 192.168.11.1, the incremental mask length of 32, and the number of group addresses of 2.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>multicast routing-enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>igmp static-group 232.1.1.1 inc-step-mask 32 number 2 source 192.168.11.1</strong>
</pre>
</div>

<div class="p"># Configure the sub-interface for dot1q VLAN tag termination to statically join multicast groups.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>multicast routing-enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface Eth-Trunk 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-Eth-Trunk1] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-Eth-Trunk1] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface Eth-Trunk 1.1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-Eth-Trunk1.1] <strong>dot1q termination vid 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-Eth-Trunk1.1] <strong>igmp static-group 225.0.0.1 inc-step-mask 0.0.0.1 number 17 dot1q vid 1</strong>
</pre>
</div>

<div class="p"># Configure <span>100GE</span> <span>1/0/1</span> connected to users to statically join multicast group 224.1.1.1.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>multicast routing-enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>igmp static-group 224.1.1.1</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_IGMP_Configuration_Commands_title.html">IGMP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/IGMP-INTERFACE-VIEW-CMD2(DGMPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/IGMP-STATIC-GROUP-QINQ(DGMPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>