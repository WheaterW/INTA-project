
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="slow-peer detection (BGP-IPv4 unicast address family view)">
<meta name="DC.subject" content="slow-peer detection (BGP-IPv4 unicast address family view)">
<meta name="keywords" content="slow-peer detection (BGP-IPv4 unicast address family view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_BGP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/VRF6-SLOW-PEER-ABSOLUTE-DETECTION(BGPVPNBASE).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/BGP-IPV6-SLOW-PEER-DETECTION(BGPIPV6).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_BGPUCASTVPNOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907765024">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>slow-peer detection (BGP-IPv4 unicast address family view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907765024"></a><a name="EN-US_CLIREF_0000001907765024"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">slow-peer detection (BGP-IPv4 unicast address family view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907765024__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">slow-peer detection threshold</span></b> command enables slow peer detection.</p>
<p>The <b><span class="cmdname">undo slow-peer detection threshold</span></b> command disables slow peer detection.</p>
<p>The <b><span class="cmdname">slow-peer detection disable</span></b> command disables slow peer detection.</p>
<p>The <b><span class="cmdname">undo slow-peer detection disable</span></b> command enables slow peer detection.</p>
</p>
<p>By default, slow peer detection is enabled, and the slow peer detection threshold is 300s.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907765024__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">slow-peer detection threshold </span></b><i><span class="varname">threshold-value</span></i></p>

<p><b><span class="cmdname">slow-peer detection disable</span></b></p>

<p><b><span class="cmdname">undo slow-peer detection </span></b>[ <strong><span>threshold</span></strong> <i><span class="varname">threshold-value</span></i> ]</p>

<p><b><span class="cmdname">undo slow-peer detection disable</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907765024__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>threshold</span></strong> <i><span class="varname">threshold-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a slow peer detection threshold. If the difference between the time taken to send packets to BGP peer 1 and the shortest time taken to send packets to BGP peer 2 is greater than the threshold, BGP peer 1 is considered as a slow peer.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 120 to 3600, in seconds. The default value is 300.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907765024__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>BGP-IPv4 unicast address family view,</span><span>BGP view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907765024__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907765024__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>An update peer-group may contain multiple peers. If the local device advertises routes to one peer slowly due to network congestion, the speed at which the local device advertises routes to other peers in the update peer-group is affected. To prevent this problem, slow peer detection is enabled by default.<p></p>
<span>After slow peer detection is enabled</span>, the local device calculates the difference between the time taken to send messages to each peer in the update peer-group and the shortest time taken to send messages to each peer in the group. If the difference between the time taken to send messages to a peer and the shortest time is greater than the threshold specified for slow peer detection, the local device considers this peer as a slow peer and removes it from the update peer-group, which prevents this slow peer from affecting route advertisement to other peers in the group.</p>
<p><strong>Configuration Impact</strong></p>
<p>If the command is run more than once, the latest configuration overrides the previous one.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907765024__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable slow peer detection in the BGP-IPv4 unicast address family view and set the slow peer detection threshold to 200s.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>bgp 100</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp] <strong>slow-peer detection threshold 200</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_BGP_Configuration_Commands_title.html">BGP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/VRF6-SLOW-PEER-ABSOLUTE-DETECTION(BGPVPNBASE).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/BGP-IPV6-SLOW-PEER-DETECTION(BGPIPV6).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>