
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ip prefix-limit system threshold-alarm">
<meta name="DC.subject" content="ip prefix-limit system threshold-alarm">
<meta name="keywords" content="ip prefix-limit system threshold-alarm">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IP_Routing_Basic_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/LIMITINSYS4(ROUTEOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/RELAYDEFAULT(ROUTEOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Route Management">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Route Management">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="Route Management">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_ROUTEOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907763032">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ip prefix-limit system threshold-alarm</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907763032"></a><a name="EN-US_CLIREF_0000001907763032"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">ip prefix-limit system threshold-alarm</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907763032__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">ip prefix-limit system threshold-alarm</span></b> command configures thresholds (one alarm threshold and one clear alarm threshold) for the number of IPv4 route prefixes on a device.</p>
<p>The <b><span class="cmdname">undo ip prefix-limit system threshold-alarm</span></b> command restores the default configuration.</p>
</p>
<p>By default, the alarm threshold for IPv4 route prefixes is 80%, and the clear alarm threshold for IPv4 route prefixes is 70%.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907763032__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">ip prefix-limit system threshold-alarm upper-limit </span></b><i><span class="varname">upper-limit-value</span></i> <strong><span>lower-limit</span></strong> <i><span class="varname">lower-limit-value</span></i></p>

<p><b><span class="cmdname">undo ip prefix-limit system threshold-alarm</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907763032__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>lower-limit</span></strong> <i><span class="varname">lower-limit-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the clear alarm threshold for the number of IPv4 route prefixes.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a percent integer ranging from 1 to 100.</p>
<p>lowerlimit-percent must be less than upperlimit-percent. Set lowerlimit-percent to a value at least 10 less than upperlimit-percent to prevent alarms from being frequently generated and cleared due to route flapping.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>upper-limit</span></strong> <i><span class="varname">upper-limit-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the alarm threshold for the number of IPv4 route prefixes.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a percent integer ranging from 1 to 100.</p>
<p>Set a value less than or equal to 95 for upperlimit-percent.</p>
</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907763032__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907763032__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907763032__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><p>The number of IPv4 route prefixes that can be added to a routing table is limited. If the number exceeds the limit, new prefixes cannot be added to the routing table, which may interrupt services. To address this problem, configure an alarm threshold for the number of IPv4 route prefixes.<p></p>
<span>You can run the</span> <b><span class="cmdname">ip prefix-limit system threshold-alarm</span></b> command to configure the two thresholds based on service requirements.</p>

<ul><li>When the number of IPv4 route prefixes reaches the maximum number of route prefixes (configured using the <b><span class="cmdname">ip prefix-limit</span></b> command) multiplied by upperlimit-percent, an alarm (RM_1.3.6.1.4.1.2011.5.25.145.10.3 hwIpv4PrefixThresholdExceed) is generated.</li><li>When the number of IPv4 route prefixes falls below the maximum number of route prefixes multiplied by lowerlimit-percent, a clear alarm (RM_1.3.6.1.4.1.2011.5.25.145.10.4 hwIpv4PrefixThresholdExceedClear) is generated.</li><li>When the number of IPv4 route prefixes reaches the maximum number of route prefixes (configured using the <b><span class="cmdname">ip prefix-limit</span></b> command) multiplied by upperlimit-percent, an alarm (RM_1.3.6.1.4.1.2011.5.25.145.10.3 hwIpv4PrefixThresholdExceed) is generated.</li><li>When the number of IPv4 route prefixes falls below the maximum number of route prefixes multiplied by lowerlimit-percent, a clear alarm (RM_1.3.6.1.4.1.2011.5.25.145.10.4 hwIpv4PrefixThresholdExceedClear) is generated.</li></ul>
</div>
<p><strong>Precautions</strong></p>
<div class="p"><p>The <b><span class="cmdname">ip prefix-limit system threshold-alarm</span></b> command can configure only two thresholds. An alarm is generated only when the following two conditions are met:</p>

<ul><li>The alarm function is enabled for the RM module using the <b><span class="cmdname">snmp-agent trap enable feature-name rm</span></b> command.</li><li>The number of IPv4 route prefixes on the device exceeds the alarm threshold.</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907763032__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure the alarm threshold for IPv4 route prefixes as 85% and the clear alarm threshold as 65%.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ip prefix-limit system threshold-alarm upper-limit 85 lower-limit 65</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_IP_Routing_Basic_Configuration_Commands_title.html">Route Management Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/LIMITINSYS4(ROUTEOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/RELAYDEFAULT(ROUTEOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>