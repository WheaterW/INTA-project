
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="algorithm">
<meta name="DC.subject" content="algorithm">
<meta name="keywords" content="algorithm">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Keychain_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DEFSND(KEYCHAINOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Keychain">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Keychain">
<meta name="featuretype" content="Security">
<meta name="featurename" content="Keychain">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="DC.Creator" content="SUBSYS_ID_KEYCHAINOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907608456">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>algorithm</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907608456"></a><a name="EN-US_CLIREF_0000001907608456"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">algorithm</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907608456__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">algorithm</span></b> command configures a key ID authentication algorithm.</p>
<p>The <b><span class="cmdname">undo algorithm</span></b> command deletes the configured key ID authentication algorithm.</p>
</p>
<p>By default, no algorithm is configured.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907608456__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">

<p><b><span class="cmdname">algorithm </span></b>{ <strong><span>md5</span></strong> | <strong><span>sha-1</span></strong> | <strong><span>hmac-md5</span></strong> | <strong><span>hmac-sha1-12</span></strong> | <strong><span>hmac-sha1-20</span></strong> | <strong><span>hmac-sha-256</span></strong> | <strong><span>sha-256</span></strong> | <strong><span>sm3</span></strong> | <strong><span>hmac-sha-384</span></strong> | <strong><span>hmac-sha-512</span></strong> }</p>

<p><b><span class="cmdname">undo algorithm</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907608456__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>md5</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that MD5 is used for packet encryption and authentication.</p>
<p>To ensure high security, do not use the MD5 algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>sha-1</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that SHA-1 is used for packet encryption and authentication.</p>
<p>To ensure high security, do not use the SHA-1 algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>hmac-md5</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that HMAC-MD5 is used for packet authentication.</p>
<p>To ensure high security, do not use the HMAC-MD5 algorithm.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>hmac-sha1-12</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that HMAC-Secure Hash Algorithm 1-12 (SHA1-12) is used for packet encryption and authentication.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>hmac-sha1-20</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that HMAC-SHA1-20 is used for packet encryption and authentication.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>hmac-sha-256</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that HMAC-Secure Hash Algorithm-256 (SHA-256) is used for packet encryption and authentication.</p>
<p>HAMC-SHA-256 authentication mode is better and more secure than other authentication modes. To ensure high security, HAMC-SHA-256 authentication algorithm is recommended.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>sha-256</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that SHA-256 is used for packet encryption and authentication.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>sm3</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that SM3 is used for packet encryption and authentication.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>


<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>hmac-sha-384</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that HMAC-SHA-384 is used for packet authentication.</p>
<p>HMAC-SHA-384 authentication provides higher security than other authentication modes. To ensure high security, you are advised to use HMAC-SHA-384 for authentication.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>hmac-sha-512</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that HMAC-SHA-512 is used for packet authentication.</p>
<p>HMAC-SHA-512 authentication provides higher security than other authentication modes. To ensure high security, you are advised to use HMAC-SHA-512 for authentication.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907608456__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>weekly Key-ID view,</span><span>yearly Key-ID view,</span><span>daily Key-ID view,</span><span>monthly Key-ID view,</span><span>absolute Key-ID view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907608456__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907608456__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><p>A keychain ensures the security of application protocol packet transmission by dynamically changing the authentication algorithm and key string. A keychain consists of multiple key IDs, each of which needs to be configured with an authentication algorithm. Different key IDs are valid within different time periods, ensuring dynamic change of keychain authentication algorithms.<p></p>
<span>Protocol packets are authenticated and encrypted based</span> on the authentication algorithm associated with a specified key ID, improving the packet transmission security.<p></p>
<span>The characteristics of each authentication algorithm</span> are as follows:</p>

<ul><li>Message Digest 5 (MD5): generates a 128-bit message digest based on an entered message of any length.</li><li>Secure Hash Algorithm 1 (SHA-1): generates a 160-bit message digest based on an entered message with the length of shorter than the 64th power of 2.</li><li>Keyed-Hashing for Message Authentication-MD5 (HMAC-MD5): generates a 128-bit message digest based on a 512-bit message that is converted from an entered message of any length. If the length of the entered message is less than 512 bits, 0s are added to make up a 512-bit message. If the length of the entered message is greater than 512 bits, the message is converted into a 128-bit message through the MD5 algorithm. After that, 0s are added to make up a 512-bit message.</li><li>HMAC-SHA1-12: generates a 160-bit message digest based on a 512-bit message that is converted from an entered message of any length. The most significant 96 bits (12 x 8) are used as the authentication code.</li><li>HMAC-SHA1-20: generates a 160-bit message digest based on a 512-bit message that is converted from an entered message of any length. All the 160 bits are used as the authentication code.</li><li>SHA-256: generates a 256-bit message digest based on an entered message with the length of shorter than the 64th power of 2.</li><li>HMAC-SHA-256: generates a 256-bit message digest based on a 512-bit message that is converted from an entered message of any length. All the 256 bits are used as the authentication code.</li><li>SM3: generates a 256-bit message digest based on an entered message with the length of shorter than the 64th power of 2.</li><li>HMAC-SHA-384: generates a 384-bit message digest based on a 512-bit message that is converted from an entered message of any length. All the 384 bits are used as the authentication code.</li><li>HMAC-SHA-512: generates a 512-bit message digest based on a 512-bit message that is converted from an entered message of any length. All the 512 bits are used as the authentication code.<p></p>
<span>The calculation speed of MD5 is faster than that of</span> SHA, whereas SHA is more secure than MD5. Compared with MD5 and SHA, HMAC is more secure, but slower in calculation. For security purposes, the MD5 and SHA-1 algorithms are not recommended.</li></ul>
</div>
<p><strong>Prerequisites</strong></p>
<p><p>Key IDs have been configured.</p>
</p>
<p><strong>Precautions</strong></p>
<p><p>Key IDs configured on the sender and receiver of packets must correspond to the same authentication and encryption algorithms. Otherwise, packet transmission fails for not passing the authentication.<p></p>
<span>If no authentication algorithm is configured</span>, the key ID remains inactive.<p></p>
<span>The md5</span>, sha-1, hmac-md5, hmac-sha1-12, and hmac-sha1-20 parameters can be used only after the weak security algorithm/protocol feature package (WEAKEA) has been installed using the <b><span class="cmdname">install feature-software WEAKEA</span></b> command.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907608456__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure algorithm HMAC-SHA-256 on key-id 1.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>keychain huawei mode absolute</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-keychain-huawei] <strong>key-id 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-keychain-huawei-keyid-1] <strong>algorithm hmac-sha-256</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Keychain_Configuration_Commands_title.html">Keychain Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DEFSND(KEYCHAINOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>