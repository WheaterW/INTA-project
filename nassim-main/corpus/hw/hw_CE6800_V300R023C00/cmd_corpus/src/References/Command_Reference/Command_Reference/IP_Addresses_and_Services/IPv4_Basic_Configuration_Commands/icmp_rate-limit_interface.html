
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="icmp rate-limit interface">
<meta name="DC.subject" content="icmp rate-limit interface">
<meta name="keywords" content="icmp rate-limit interface">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IPv4_Basic_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/RATELIMITENABLE(PP4OM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IFICMPRATLMTTOTAL(PP4OM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IPv4 Basic">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="IPv4 Basic">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="IPv4 Basic">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Creator" content="SUBSYS_ID_PP4OM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907602196">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>icmp rate-limit interface</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907602196"></a><a name="EN-US_CLIREF_0000001907602196"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">icmp rate-limit interface</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907602196__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">icmp rate-limit interface</span></b> command sets an ICMP packet rate limit.</p>
<p>The <b><span class="cmdname">undo icmp rate-limit interface</span></b> command restores the default ICMP packet rate limit.</p>
</p>
<p>By default, no ICMP packet rate limit is configured on an interface, and the global ICMP packet rate limit (1500 pps) is used as the ICMP packet rate limit on the interface.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907602196__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">icmp rate-limit interface </span></b>{ <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number1</span></i> } [ <strong><span>to</span></strong> <i><span class="varname">interface-number2</span></i> ] <strong><span>threshold</span></strong> <i><span class="varname">threshold-value</span></i></p>

<p><b><span class="cmdname">undo icmp rate-limit interface </span></b>{ <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number1</span></i> } [ <strong><span>to</span></strong> <i><span class="varname">interface-number2</span></i> ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907602196__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>to</span></strong> <i><span class="varname">interface-number2</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specified the number of an interface for which ICMP messages are destined.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>threshold</span></strong> <i><span class="varname">threshold-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specified an ICMP packet rate limit.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 5000, in pps.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>interface</span></strong> <i><span class="varname">interface-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of an interface.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>interface</span></strong> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number1</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the type and number of an interface.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907602196__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907602196__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907602196__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>In normal situations, the router can correctly receive ICMP packets. In the case of heavy network traffic, if hosts or ports are frequently unreachable, the router receives a large number of ICMP packets, which causes heavier traffic burden and performance deterioration. In addition, network attackers often make use of ICMP error packets to probe the internal network structure.<p></p>
<span>To improve device performance and enhance network</span> security, run the <b><span class="cmdname">icmp rate-limit interface</span></b> command to set the ICMP packet rate limit.<p></p>
<span>After the</span> <b><span class="cmdname">icmp rate-limit interface</span></b> command is run, when the rate at which ICMP messages are sent over a specified interface exceeds the limit, an ACL is automatically delivered to allow the device to discard ICMP messages destined for the local device and start the ICMP packet rate limit timer.</p>
</p>
<p><strong>Prerequisites</strong></p>
<p><p>ICMP packet rate limiting has been enabled using the <b><span class="cmdname">undo icmp rate-limit disable</span></b> command in the system view.</p>
</p>
<p><strong>Configuration Impact</strong></p>
<p><p>If the <b><span class="cmdname">icmp rate-limit interface</span></b> command is run more than once, all configurations take effect.</p>
</p>
<p><strong>Precautions</strong></p>
<p><p>If the <b><span class="cmdname">icmp rate-limit interface</span></b> command is run on an interface, the rate at which ICMP packets are sent on the interface does not exceed the configured rate limit. If the <b><span class="cmdname">icmp rate-limit interface</span></b> command is run on multiple interfaces, the sum of the rates at which ICMP packets are sent on these interfaces does not exceed the global ICMP packet rate limit.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907602196__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set a rate limit for ICMP messages sent from 1/0/1 interface to 1/0/2.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>undo icmp rate-limit disable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>icmp rate-limit interface <span>100GE</span> <span>1/0/1</span> to <span>1/0/2</span> threshold 900</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_IPv4_Basic_Configuration_Commands_title.html">IPv4 Basic Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/RATELIMITENABLE(PP4OM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/IFICMPRATLMTTOTAL(PP4OM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>