
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="snmp-agent target-host">
<meta name="DC.subject" content="snmp-agent target-host">
<meta name="keywords" content="snmp-agent target-host">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_SNMP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SNMPVERSION(SNMPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SNMPTARGETHOST(SNMPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Creator" content="SUBSYS_ID_SNMPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000002194449381">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>snmp-agent target-host</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000002194449381"></a><a name="EN-US_CLIREF_0000002194449381"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">snmp-agent target-host</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000002194449381__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">snmp-agent target-host</span></b> command sets the target host for receiving SNMP trap messages.</p>
<p>The <b><span class="cmdname">undo snmp-agent target-host</span></b> command deletes the target host set for receiving SNMP trap messages.</p>
</p>
<p>By default, the target host is not set.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000002194449381__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">

<p><b><span class="cmdname">snmp-agent target-host </span></b>[ <strong><span>host-name</span></strong> <i><span class="varname">host-name</span></i> ] <strong><span>trap</span></strong> <strong><span>ipv6</span></strong> <strong><span>address</span></strong> <strong><span>udp-domain</span></strong> <i><span class="varname">ipv6-address</span></i> [ [ <strong><span>udp-port</span></strong> <i><span class="varname">port-number</span></i> | [ <strong><span>alarm-udp-port</span></strong> <i><span class="varname">alarm-port-number</span></i> | <strong><span>event-udp-port</span></strong> <i><span class="varname">event-port-number</span></i> ] <sup>*</sup> ] | [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> | <strong><span>public-net</span></strong> ] ] <sup>*</sup> <strong><span>params</span></strong> <strong><span>securityname</span></strong> { <i><span class="varname">security-name</span></i> [ [ <strong><span>v1</span></strong> | <strong><span>v2c</span></strong> | <strong><span>v3</span></strong> [ <strong><span>authentication</span></strong> | <strong><span>privacy</span></strong> ] ] | <strong><span>ext-vb</span></strong> | <strong><span>notify-filter-profile</span></strong> <i><span class="varname">profile-name</span></i> | <strong><span>private-netmanager</span></strong> ] <sup>*</sup> | <strong><span>cipher</span></strong> <i><span class="varname">cipher-name</span></i> [ [ <strong><span>v1</span></strong> | <strong><span>v2c</span></strong> ] | <strong><span>ext-vb</span></strong> | <strong><span>notify-filter-profile</span></strong> <i><span class="varname">profile-name</span></i> | <strong><span>private-netmanager</span></strong> ] <sup>*</sup> }</p>



<p><b><span class="cmdname">snmp-agent target-host </span></b>[ <strong><span>host-name</span></strong> <i><span class="varname">host-name</span></i> ] <strong><span>trap</span></strong> <strong><span>address</span></strong> <strong><span>udp-domain</span></strong> <i><span class="varname">ip-address</span></i> [ [ <strong><span>udp-port</span></strong> <i><span class="varname">port-number</span></i> | [ <strong><span>alarm-udp-port</span></strong> <i><span class="varname">alarm-port-number</span></i> | <strong><span>event-udp-port</span></strong> <i><span class="varname">event-port-number</span></i> ] <sup>*</sup> ] | [ { <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> | <strong><span>public-net</span></strong> } ] | [ <strong><span>source</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> } ] ] <sup>*</sup> <strong><span>params</span></strong> <strong><span>securityname</span></strong> { <i><span class="varname">security-name</span></i> [ [ <strong><span>v1</span></strong> | <strong><span>v2c</span></strong> | <strong><span>v3</span></strong> [ <strong><span>authentication</span></strong> | <strong><span>privacy</span></strong> ] ] | <strong><span>private-netmanager</span></strong> | <strong><span>ext-vb</span></strong> | <strong><span>notify-filter-profile</span></strong> <i><span class="varname">profile-name</span></i> | <strong><span>heart-beat</span></strong> <strong><span>enable</span></strong> ] <sup>*</sup> | <strong><span>cipher</span></strong> <i><span class="varname">cipher-name</span></i> [ [ <strong><span>v1</span></strong> | <strong><span>v2c</span></strong> ] | <strong><span>private-netmanager</span></strong> | <strong><span>ext-vb</span></strong> | <strong><span>notify-filter-profile</span></strong> <i><span class="varname">profile-name</span></i> | <strong><span>heart-beat</span></strong> <strong><span>enable</span></strong> ] <sup>*</sup> }</p>


<p><b><span class="cmdname">snmp-agent target-host host-name </span></b><i><span class="varname">host-name</span></i> <strong><span>trap</span></strong> <strong><span>address</span></strong> <strong><span>udp-domain</span></strong> <i><span class="varname">ip-address</span></i> [ [ <strong><span>udp-port</span></strong> <i><span class="varname">port-number</span></i> | [ <strong><span>alarm-udp-port</span></strong> <i><span class="varname">alarm-port-number</span></i> | <strong><span>event-udp-port</span></strong> <i><span class="varname">event-port-number</span></i> ] <sup>*</sup> ] | [ { <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> | <strong><span>public-net</span></strong> } ] | [ <strong><span>source</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> } ] ] <sup>*</sup> <strong><span>params</span></strong> <strong><span>securityname</span></strong> { <i><span class="varname">security-name</span></i> [ [ <strong><span>v1</span></strong> | <strong><span>v2c</span></strong> | <strong><span>v3</span></strong> [ <strong><span>authentication</span></strong> | <strong><span>privacy</span></strong> ] ] | <strong><span>private-netmanager</span></strong> | <strong><span>ext-vb</span></strong> | <strong><span>notify-filter-profile</span></strong> <i><span class="varname">profile-name</span></i> | <strong><span>heart-beat</span></strong> <strong><span>enable</span></strong> ] <sup>*</sup> | <strong><span>cipher</span></strong> <i><span class="varname">cipher-name</span></i> [ [ <strong><span>v1</span></strong> | <strong><span>v2c</span></strong> ] | <strong><span>private-netmanager</span></strong> | <strong><span>ext-vb</span></strong> | <strong><span>notify-filter-profile</span></strong> <i><span class="varname">profile-name</span></i> | <strong><span>heart-beat</span></strong> <strong><span>enable</span></strong> ] <sup>*</sup> }</p>

<p><b><span class="cmdname">snmp-agent target-host host-name </span></b><i><span class="varname">host-name</span></i> <strong><span>trap</span></strong> <strong><span>ipv6</span></strong> <strong><span>address</span></strong> <strong><span>udp-domain</span></strong> <i><span class="varname">ipv6-address</span></i> [ [ <strong><span>udp-port</span></strong> <i><span class="varname">port-number</span></i> | [ <strong><span>alarm-udp-port</span></strong> <i><span class="varname">alarm-port-number</span></i> | <strong><span>event-udp-port</span></strong> <i><span class="varname">event-port-number</span></i> ] <sup>*</sup> ] | [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> | <strong><span>public-net</span></strong> ] | [ <strong><span>source</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> } ] ] <sup>*</sup> <strong><span>params</span></strong> <strong><span>securityname</span></strong> { <i><span class="varname">security-name</span></i> [ [ <strong><span>v1</span></strong> | <strong><span>v2c</span></strong> | <strong><span>v3</span></strong> [ <strong><span>authentication</span></strong> | <strong><span>privacy</span></strong> ] ] | <strong><span>ext-vb</span></strong> | <strong><span>notify-filter-profile</span></strong> <i><span class="varname">profile-name</span></i> | <strong><span>private-netmanager</span></strong> ] <sup>*</sup> | <strong><span>cipher</span></strong> <i><span class="varname">cipher-name</span></i> [ [ <strong><span>v1</span></strong> | <strong><span>v2c</span></strong> ] | <strong><span>ext-vb</span></strong> | <strong><span>notify-filter-profile</span></strong> <i><span class="varname">profile-name</span></i> | <strong><span>private-netmanager</span></strong> ] <sup>*</sup> }</p>

<p><b><span class="cmdname">undo snmp-agent target-host </span></b>{ <strong><span>ipv6</span></strong> <i><span class="varname">ipv6-address</span></i> <strong><span>securityname</span></strong> { <i><span class="varname">security-name</span></i> | <strong><span>cipher</span></strong> <i><span class="varname">cipher-name</span></i> } | <strong><span>trap</span></strong> <strong><span>ipv6</span></strong> <strong><span>address</span></strong> <strong><span>udp-domain</span></strong> <i><span class="varname">ipv6-address</span></i> [ [ <strong><span>udp-port</span></strong> <i><span class="varname">port-number</span></i> | [ <strong><span>alarm-udp-port</span></strong> <i><span class="varname">alarm-port-number</span></i> | <strong><span>event-udp-port</span></strong> <i><span class="varname">event-port-number</span></i> ] <sup>*</sup> ] | [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> | <strong><span>public-net</span></strong> ] | [ <strong><span>source</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> } ] ] <sup>*</sup> <strong><span>params</span></strong> <strong><span>securityname</span></strong> { <i><span class="varname">security-name</span></i> | <strong><span>cipher</span></strong> <i><span class="varname">cipher-name</span></i> } }</p>

<p><b><span class="cmdname">undo snmp-agent target-host </span></b>{ <strong><span>host-name</span></strong> <i><span class="varname">host-name</span></i> | <i><span class="varname">ip-address</span></i> <strong><span>securityname</span></strong> { <i><span class="varname">security-name</span></i> | <strong><span>cipher</span></strong> <i><span class="varname">cipher-name</span></i> } [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> | <strong><span>public-net</span></strong> ] | <strong><span>trap</span></strong> <strong><span>address</span></strong> <strong><span>udp-domain</span></strong> <i><span class="varname">ip-address</span></i> [ { [ <strong><span>source</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> } ] | [ <strong><span>udp-port</span></strong> <i><span class="varname">port-number</span></i> | [ <strong><span>alarm-udp-port</span></strong> <i><span class="varname">alarm-port-number</span></i> | <strong><span>event-udp-port</span></strong> <i><span class="varname">event-port-number</span></i> ] <sup>*</sup> ] | { <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> | <strong><span>public-net</span></strong> } } <sup>*</sup> ] <strong><span>params</span></strong> <strong><span>securityname</span></strong> { <i><span class="varname">security-name</span></i> | <strong><span>cipher</span></strong> <i><span class="varname">cipher-name</span></i> } }</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000002194449381__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>host-name</span></strong> <i><span class="varname">host-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an SNMP target host name.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 32 characters without spaces.</p>
<p>If spaces are used, the string must start and end with double quotation marks ("). By default, the device automatically generates a host name as the host identifier.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>trap</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the target host for receiving SNMP notifications in the form of trap messages.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ipv6</span></strong> <i><span class="varname">ipv6-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the target is in IPv6 address.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a 32-bit hexadecimal string in format X:X:X:X:X:X:X:X.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>address</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the address of the target host that receives SNMP trap messages.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The IP address specified using address and the username specified using securityname together identify a target host.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>udp-domain</span></strong> <i><span class="varname">ip-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the IP address of the specified target host within a UDP transmission domain.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation. The value must be a valid unicast address.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>udp-domain</span></strong> <i><span class="varname">ipv6-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the IPv6 address of the specified target host within a UDP transmission domain.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a 32-bit hexadecimal string in format X:X:X:X:X:X:X:X.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>udp-port</span></strong> <i><span class="varname">port-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the number of the port for receiving alarm and event traps.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 65535. The default value is 162.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>alarm-udp-port</span></strong> <i><span class="varname">alarm-port-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the number of the port for receiving alarm traps.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 65535. The default value is 162.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>event-udp-port</span></strong> <i><span class="varname">event-port-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the number of the port for receiving alarm and event traps.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 65535. The default value is 162.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a VPN instance.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 31 case-sensitive characters, which do not contain spaces. The VPN instance name cannot be _public_. The character string can contain spaces if it is enclosed with double quotation marks (").</p>
<p>On a VPN network, use the VPN instance specified using vpn-instance, IP address, and security name together to identify a target host.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>public-net</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the host generating a trap message is connected to a public network.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>source</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the type and number of a source interface for sending trap messages.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interface-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a source interface for sending Inform messages.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interface-type</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Interface type.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interface-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the number of a source interface.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>params</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the user name displayed on the NMS side.</p>
<p>For SNMPv1 and SNMPv2c, the NMS can receive trap messages from all target hosts without using securityname for a check. This parameter is used to distinguish multiple target hosts with the same IP address.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>securityname</span></strong> <i><span class="varname">security-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the user security name displayed on the NMS.</p>
<p>For SNMPv3, securityname must be configured as the user name. securityname configured on the host must be the same as that configured on the NMS, or the NMS cannot receive the trap messages sent by the host.</p>
<p>For SNMPv1 and SNMPv2c, the NMS can receive trap messages from all hosts without having securityname configured. securityname is used to distinguish multiple hosts that generate trap messages.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The name is a string of 1 to 32 characters, spaces not supported.</p>
<p>When quotation marks are used around the string, spaces are allowed in the string.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>v1</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specify security model of SNMPv1 to generate SNMP messages.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>v2c</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specify security model of SNMPv2c to generate SNMP messages.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>v3</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specify security model of SNMPv3 to generate SNMP messages.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>authentication</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies that messages are authenticated but not encrypted.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>privacy</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that messages are authenticated and encrypted.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ext-vb</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<div class="p"><p>Indicates that trap messages sent to a target host carry extended bound variables.<p>If alarm objects defined in public MIBs are extended on a Huawei data communication device, use.</p>
<p>ext-vb to determine whether the trap messages sent by the device to an NMS carry extended bound variables.</p>
</p>
<ul><li>If ext-vb is not specified, the trap message does not carry extended bound variables.</li></ul>
<p>This parameter is not recommended if the NMS is a third-party NMS. This ensures tde the third-party NMS can receive trap messages from Huawei data communication devices.</p>
<p>By default, a trap message sent by a Huawei data communication device does not carry extended bound variables.</p>
<ul><li>If ext-vb is specified, the trap message carries extended bound variables.</li></ul>
<p>This parameter is recommended if the NMS is a Huawei NMS. This allows more abundant information in trap messages.</p>
</div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>notify-filter-profile</span></strong> <i><span class="varname">profile-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the notification profile name for notification filtering.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 32 characters without spaces.</p>
<p>If spaces are used, the string must start and end with double quotation marks (").</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>private-netmanager</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the target host for receiving traps is a Huawei NMS. If a Huawei NMS is used and this parameter is configured, traps sent to the NMS can carry more information, including the trap type, trap sequence number, and trap sending time.</p>
<p>You are advised to set this parameter to enhance the reliability of alarm messages when the device is connected to a Huawei NMS.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cipher</span></strong> <i><span class="varname">cipher-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a password in ciphertext. You can type in the plain text or the ciphertext, and it is displayed as the ciphertext when the configuration file is viewed.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of case-sensitive characters, spaces not supported. A simple text password is a string of 1 to 32 case-sensitive characters. A ciphertext password is a string of 32, 48, 56 or from 68 to 168 case-sensitive characters.</p>
<p>When quotation marks are used around the string, spaces are allowed in the string.</p>
<p>Ciphertext passwords with various lengths configured in an earlier version are also supported in the existing version.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>heart-beat</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the heartbeat .</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>enable</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enable.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>


</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000002194449381__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000002194449381__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000002194449381__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>SNMP notifications can be classified into trap messages and Inform messages. Trap messages are less reliable than Inform messages because the NMS does not send any acknowledgment when it receives a trap message. In this case, the sender cannot verify whether the trap message has been received. Inform messages are configured with an acknowledgment mechanism and are therefore reliable.<p></p>
<span>By default</span>, port 162 receives trap messages, and a random port sends trap messages.</p>
<p><strong>Configuration Impact</strong></p>
<p>After the <b><span class="cmdname">snmp-agent target-host</span></b> command is run, no matter whether a trap message sent by the SNMP agent reaches the NMS, the SNMP agent deletes the trap message to reduce the resource consumption.<p></p>
<span>After the</span> <b><span class="cmdname">snmp-agent target-host inform</span></b> command is run, the SNMP agent, after sending an Inform message, waits for an Inform ACK message from the NMS and will retransmit the same Inform message only when no Inform ACK message is received from the NMS within the specified period. If the SNMP agent does not receive the Inform ACK message from the NMS during the retransmission period, the SNMP agent deletes this Inform message from the trap message queue. This ensures that the NMS can receive the SNMP trap messages to the maximum extent. The transmission of trap messages, however, consumes less resources than that of Inform messages.</p>
<p><strong>Precautions</strong></p>
<p>To enable a device to send trap messages, you must run the snmp-agent target-host and snmp-agent trap enable commands on the device.<p></p>
<span>If the VPN instance specified by vpn-instance does</span> not exist, trap messages cannot be sent.<p></p>
<span>If the user security name specified by securityname</span> does not exist, trap messages cannot be sent.</p>

<ul><li>If notify-view is not specified for the group to which the user specified by securityname belongs, trap messages cannot be sent.<p></p>
<span>A maximum of 20 target hosts can be configured</span>.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000002194449381__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure the SNMP agent to send trap messages that carry source interface information to the target host.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>snmp-agent trap enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>snmp-agent target-host host-name 1 trap address udp-domain 10.0.0.1 source <span>100GE</span> <span>1/0/1</span> params securityname 1</strong>
</pre>
</div>

<div class="p"># Allow the SNMP agent to send SNMP trap messages notifications to the target host with the IP address of 10.1.1.1.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>snmp-agent trap enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>snmp-agent target-host trap address udp-domain 10.1.1.1 params securityname comaccess</strong>
</pre>
</div>

<div class="p"># Enable the device to send SNMP trap messages to the IPv6 address 2001:db8:1::1.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>snmp-agent target-host host-name aaa trap ipv6 address udp-domain 2001:db8:1::1 udp-port 5000 params securityname www</strong>
</pre>
</div>


<div class="p"># Configure the SNMP agent to send trap messages to the target host and receive trap messages that are destined for Huawei NMSs and carry extended bound variables.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>snmp-agent trap enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>snmp-agent target-host trap address udp-domain 10.1.1.1 params securityname public v1 ext-vb private-netmanager</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_SNMP_Configuration_Commands_title.html">SNMP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/SNMPVERSION(SNMPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SNMPTARGETHOST(SNMPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>