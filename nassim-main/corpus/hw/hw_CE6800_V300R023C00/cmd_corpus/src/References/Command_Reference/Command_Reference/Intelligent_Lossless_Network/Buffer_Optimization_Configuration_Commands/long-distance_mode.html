
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="long-distance mode">
<meta name="DC.subject" content="long-distance mode">
<meta name="keywords" content="long-distance mode">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-Buffer_Optimization_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DISPLAY_LONG-DISTANCE_CONFIGURATION.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/START_LONG-DISTANCE_DETECT.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Buffer Optimization">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Buffer Optimization">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="featurename" content="Buffer Optimization">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="DC.Creator" content="SUBSYS_ID_AIS">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907769320">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>long-distance mode</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907769320"></a><a name="EN-US_CLIREF_0000001907769320"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">long-distance mode</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907769320__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">long-distance mode</span></b> command configures the long-distance mode for an interface and enables the distance-based headroom check function.</p>
<p>The <b><span class="cmdname">undo long-distance mode</span></b> command cancels the configured long-distance mode for an interface.</p>
</p>
<p>By default, the distance-based headroom check function is disabled.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907769320__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">long-distance mode </span></b>{ <strong><span>level-1</span></strong> | <strong><span>level-10</span></strong> | <strong><span>level-25</span></strong> | <strong><span>level-50</span></strong> | <strong><span>level-100</span></strong> }</p>

<p><b><span class="cmdname">undo long-distance mode </span></b>{ <strong><span>level-1</span></strong> | <strong><span>level-10</span></strong> | <strong><span>level-25</span></strong> | <strong><span>level-50</span></strong> | <strong><span>level-100</span></strong> }</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907769320__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>level-1</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Limits the long distance to 1 km.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>level-10</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Limits the long distance to 10 km.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>level-25</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Limits the long distance to 25 km.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>level-50</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Limits the long distance to 50 km.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>level-100</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Limits the long distance to 100 km.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907769320__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100GE interface view,</span><span>10GE interface view,</span><span>200GE interface view,</span><span>25GE interface view,</span><span>400GE interface view,</span><span>50GE interface view,</span><span>Interface group view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907769320__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907769320__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>After PFC is enabled on an interface, a headroom buffer is allocated from the plane buffer of the interface to a lossless queue, and this headroom buffer will store the packets received after the queue sends PFC notification packets but before the upstream device stops sending packets. When lossless services on the live network have a long communication distance, a larger headroom buffer is required. Otherwise, packet loss may occur.<p></p>
<span>The distance-based headroom buffer check function</span> calculates the theoretically required headroom buffer space based on the configured long-distance mode (that is, link distance) and interface rate. The purpose of this function is to help avoid packet loss, which may occur if the required headroom buffer space is greater than the remaining buffer space of the plane where the current interface resides. After the headroom buffer optimization function is enabled on the interfaces at both ends of a direct link, the interfaces can send detection packets to each other to calculate the required headroom buffer space for lossless transmission on the link.</p>
<p><strong>Precautions</strong></p>
<p>For the CE6866, CE6860-SAN, CE6866K, CE6860-HAM, CE8851-32CQ8DQ-P, CE8850-SAN, CE8851K, and CE8850-HAM:<p></p>
<span>You can run the display buffer optimization configuration</span> command to view the calculation result of the distance-based headroom buffer check function.<p></p>
<span>For the CE8855</span>, CE8851-32CQ4BQ, CE6855-48XS8CQ, CE6885, CE6885-SAN, CE6885-LL (standard forwarding mode), CE6885-T, and CE6863E-48S8CQ:<p></p>
<span>You can run the display long-distance configuration</span> command to view the calculation result of the distance-based headroom buffer check function.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907769320__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the long-distance mode of an interface to level-100.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span><span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>long-distance mode level-100</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-Buffer_Optimization_Commands_title.html">Buffer Optimization Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DISPLAY_LONG-DISTANCE_CONFIGURATION.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/START_LONG-DISTANCE_DETECT.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>