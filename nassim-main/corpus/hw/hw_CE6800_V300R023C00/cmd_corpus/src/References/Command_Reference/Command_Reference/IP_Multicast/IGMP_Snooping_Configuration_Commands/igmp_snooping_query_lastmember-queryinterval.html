
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="igmp snooping query lastmember-queryinterval">
<meta name="DC.subject" content="igmp snooping query lastmember-queryinterval">
<meta name="keywords" content="igmp snooping query lastmember-queryinterval">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Layer_2_Multicast_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IGMP-SNOOPING-INST-ENABLE-DC_2(L2MCOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IGMP-SNOOPING-INST-ENABLE-DC_3(L2MCOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IGMP Snooping">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="IGMP Snooping">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IGMP Snooping">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Creator" content="SUBSYS_ID_L2MCOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907766384">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>igmp snooping query lastmember-queryinterval</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907766384"></a><a name="EN-US_CLIREF_0000001907766384"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">igmp snooping query lastmember-queryinterval</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907766384__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">igmp snooping query lastmember-queryinterval</span></b> command sets the interval at which a querier sends Group-Specific Query messages or Source- and Group-Specific Query messages.</p>
<p>The <b><span class="cmdname">undo igmp snooping query lastmember-queryinterval</span></b> command restores the interval at which a querier sends Group-Specific Query messages or Source- and Group-Specific Query messages to 1 second.</p>
</p>
<p>By default, a querier sends group-specific query messages or source/group-specific query messages at an interval of 1s.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907766384__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">igmp snooping query lastmember-queryinterval </span></b><i><span class="varname">LastMemQIValue</span></i></p>

<p><b><span class="cmdname">undo igmp snooping query lastmember-queryinterval</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907766384__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">LastMemQIValue</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the interval at which a querier sends group-specific query messages or source/group-specific query messages.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value ranges from 1 to 5, in seconds.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907766384__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>Bridge domain view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907766384__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907766384__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>The igmp snooping query last-member-interval command has the following functions:</p>

<ul><li>Sets the interval at which a querier sends group-specific query messages or source/group-specific query messages. If the querier function is enabled, this command is used to set the interval at which the querier sends group-specific messages or source/group-specific query messages. When memberships change frequently on the network, this command can be used to reduce the interval at which the querier sends group-specific query messages or source/group-specific query messages. This ensures that IGMP group-specific query messages or source/group-specific query messages can be rapidly responded to.</li><li>Changes the aging time of member ports. After receiving an IGMP Leave message from a host, a device sets the aging time of the corresponding member port based on the following formula: Aging time of a member port = Interval at which group-specific query messages or source/group-specific query messages are sent x Number of times group-specific query messages or source/group-specific query messages are sent. By default, the aging time is re-set to 2s. The interval at which group-specific query messages or source/group-specific query messages are sent in the formula is set using the igmp snooping query last-member-interval command. The number of times group-specific group query messages or source/group-specific query messages are sent is set using the <b><span class="cmdname">igmp snooping robust-count</span></b> command. If the querier receives a Report message for the multicast group from another host within the robust-value x lastmember-queryinterval period, it continues to maintain the memberships for the group. Otherwise, the querier considers that there is no member of the group on the network segment, and does not maintain the memberships for the group.</li></ul>
<p><strong>Prerequisites</strong></p>
<p>IGMP snooping has been configured globally and in a BD.</p>
<p><strong>Configuration Impact</strong></p>
<p>If the igmp snooping query last-member-interval command is run in the same BD view several times, the latest configuration overrides the previous one.</p>
<p><strong>Precautions</strong></p>
<p>The aging time configured on a Layer 2 device must be the same as that on its upstream Layer 3 device. Otherwise, multicast data transmission between Layer 2 and Layer 3 networks will be affected.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907766384__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the interval at which a querier sends group-specific query messages or source/group-specific query messages to 4s in BD 10.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>igmp snooping enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>bridge-domain 10</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bd10] <strong>igmp snooping query lastmember-queryinterval 4</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Layer_2_Multicast_Commands_title.html">IGMP Snooping Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/IGMP-SNOOPING-INST-ENABLE-DC_2(L2MCOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/IGMP-SNOOPING-INST-ENABLE-DC_3(L2MCOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>