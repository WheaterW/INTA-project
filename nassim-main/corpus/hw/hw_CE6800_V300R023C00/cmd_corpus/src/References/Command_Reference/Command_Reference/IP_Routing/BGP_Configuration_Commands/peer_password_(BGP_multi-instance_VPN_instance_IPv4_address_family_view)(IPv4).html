
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="peer password (BGP multi-instance VPN instance IPv4 address family view)(IPv4)">
<meta name="DC.subject" content="peer password (BGP multi-instance VPN instance IPv4 address family view)(IPv4)">
<meta name="keywords" content="peer password (BGP multi-instance VPN instance IPv4 address family view)(IPv4)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_BGP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/BGP-MULI-VRF-GROUP-PASSWORD(BGPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SESSION-GROUP-PATH-MTU-DISCOVERY(BGPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_BGPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907605448">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>peer password (BGP multi-instance VPN instance IPv4 address family view)(IPv4)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907605448"></a><a name="EN-US_CLIREF_0000001907605448"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">peer password (BGP multi-instance VPN instance IPv4 address family view)(IPv4)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907605448__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">peer password</span></b> command configures Message Digest 5 (MD5) authentication for BGP messages exchanged between BGP peers during TCP connection establishment.</p>
<p>The <b><span class="cmdname">undo peer password</span></b> command restores the default configuration.</p>
</p>
<p>By default, the BGP device to implement Message Digest 5 (MD5) authentication for BGP messages exchanged during the establishment of a TCP connection with a peer is disabled.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907605448__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">peer </span></b><i><span class="varname">ipv4-address</span></i> <strong><span>password</span></strong> <strong><span>simple</span></strong> <i><span class="varname">simple-password</span></i></p>

<p><b><span class="cmdname">peer </span></b><i><span class="varname">ipv4-address</span></i> <strong><span>password</span></strong> <strong><span>cipher</span></strong> <i><span class="varname">cipher-password</span></i></p>

<p><b><span class="cmdname">undo peer </span></b><i><span class="varname">ipv4-address</span></i> <strong><span>password</span></strong></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907605448__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">ipv4-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an IPv4 peer address.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>simple</span></strong> <i><span class="varname">simple-password</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a cleartext password.</p>
<p>For security purposes, you are advised to configure a password in ciphertext mode. To further improve device security, periodically change the password.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 255 case-sensitive characters, without spaces.</p>
<p>Except the question mark (?) and space. However, when quotation marks (") are used around the password, spaces are allowed in the password.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cipher</span></strong> <i><span class="varname">cipher-password</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a cipher text password.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>In the case of a plain text, the value is a string of 1 to 255 case-sensitive characters, without spaces. In the case of a cipher text password, the value is a string of 20 to 432 case-sensitive characters, without spaces.</p>
<p>Except the question mark (?) and space. However, when quotation marks (") are used around the password, spaces are allowed in the password.</p>
</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907605448__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>BGP multi-instance VPN instance IPv4 address family view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907605448__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907605448__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><p>BGP uses TCP as the transport layer protocol. To improve BGP security, you can perform MD5 authentication when establishing a TCP connection. In MD5 authentication of BGP, only the MD5 authentication password is set for the TCP connection, and the authentication is performed by TCP.<p></p>
<span>A password can be set in plaintext or ciphertext mode</span>. The two modes determine how the password is saved in the configuration file.</p>

<ul><li>Plaintext: The character string set by the user is directly saved.</li><li>Ciphertext: The character string is encrypted using a special algorithm before it is saved.</li></ul>
</div>
<p><strong>Prerequisites</strong></p>
<p><p>The <b><span class="cmdname">peer as-number</span></b> command has been run to create BGP peers or BGP peer groups.</p>
</p>
<p><strong>Configuration Impact</strong></p>
<p><p>BGP MD5 authentication does not authenticate BGP message. It only sets an MD5 authentication password for a TCP connection, and TCP performs authentication. If the authentication fails, no TCP connection is established.</p>
</p>
<p><strong>Precautions</strong></p>
<p><p>The MD5 encryption algorithm has low security and has security risks. You are advised to use a more secure encryption algorithm within the encryption algorithm range supported by the protocol.<p></p>
<span>After MD5 is configured on a peer</span>, keychain cannot be configured on the peer.<p></p>
<span>If the passwords configured on both ends of a BGP</span> peer relationship are the same, the BGP peer relationship is not re-established. However, if the interval configured on both ends exceeds the holdtime of the BGP peer session or the passwords configured on both ends are different, the BGP peer relationship is disconnected due to timeout.<p></p>
<span>If authentication is configured for a peer using the</span> <b><span class="cmdname">peer password</span></b> command, authentication is configured for a peer group using the <b><span class="cmdname">peer password</span></b> command, and you want to add the peer to the peer group and let the peer inherit the authentication configuratoin form the peer group, it is recommended that you run the <b><span class="cmdname">undo peer password</span></b> command to delete the configuration of the peer before adding the peer to the peer group using the <b><span class="cmdname">peer group</span></b> command.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907605448__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure authentication for the TCP connection between a device and its peer.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ip vpn-instance vpna</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-vpna] <strong>ipv4-family</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-vpna-af-ipv4] <strong>route-distinguisher 100:1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-vpna-af-ipv4] <strong>vpn-target 111:1 both</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-vpna-af-ipv4] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-instance-vpna] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>bgp 100 instance a</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp-instance-a] <strong>ipv4-family vpn-instance vpna</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp-instance-a-vpna] <strong>peer 10.1.1.1 as-number 100</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bgp-instance-a-vpna] <strong>peer 10.1.1.1 password cipher YsHsjx_202206</strong>
</pre>
</div>


</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_BGP_Configuration_Commands_title.html">BGP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/BGP-MULI-VRF-GROUP-PASSWORD(BGPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SESSION-GROUP-PATH-MTU-DISCOVERY(BGPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>