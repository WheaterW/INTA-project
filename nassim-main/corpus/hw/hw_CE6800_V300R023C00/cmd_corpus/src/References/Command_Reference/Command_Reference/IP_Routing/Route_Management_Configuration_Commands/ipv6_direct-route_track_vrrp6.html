
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ipv6 direct-route track vrrp6">
<meta name="DC.subject" content="ipv6 direct-route track vrrp6">
<meta name="keywords" content="ipv6 direct-route track vrrp6">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IP_Routing_Basic_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IP_ROUTING_IGNORE-MAC.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IPV6DIRECTHOSTADVSWITCH(DIRECTRTOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Route Management">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Route Management">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="Route Management">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_RGMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907763044">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ipv6 direct-route track vrrp6</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907763044"></a><a name="EN-US_CLIREF_0000001907763044"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">ipv6 direct-route track vrrp6</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907763044__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">ipv6 direct-route track vrrp6</span></b> command associates IPv6 direct routes with a Virtual Router Redundancy Protocol for IPv6 (VRRP6) backup group.</p>
<p>The <b><span class="cmdname">undo ipv6 direct-route track vrrp6</span></b> command dissociates IPv6 direct routes from a VRRP6 backup group.</p>
</p>
<p>By default, IPv6 direct routes are not associated with any VRRP6 backup group.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907763044__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">ipv6 direct-route track vrrp6 vrid </span></b><i><span class="varname">virtual-router-id</span></i> <strong><span>degrade-cost</span></strong> <i><span class="varname">cost-value</span></i></p>

<p><b><span class="cmdname">undo ipv6 direct-route track vrrp6 </span></b>[ <strong><span>vrid</span></strong> <i><span class="varname">virtual-router-id</span></i> <strong><span>degrade-cost</span></strong> <i><span class="varname">cost-value</span></i> ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907763044__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>degrade-cost</span></strong> <i><span class="varname">cost-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a cost to be applied to IPv6 direct routes when the associated VRRP6 backup group is in Backup or Initialize status.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 4294967295.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>vrid</span></strong> <i><span class="varname">virtual-router-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the ID of a VRRP6 backup group.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 255.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907763044__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100ge sub-interface view,</span><span>100GE interface view,</span><span>10GE sub-interface view,</span><span>10GE interface view,</span><span>1200ge sub-interface view,</span><span>200GE sub-interface view,</span><span>200GE interface view,</span><span>25GE sub-interface view,</span><span>25GE interface view,</span><span>400GE sub-interface view,</span><span>400GE interface view,</span><span>50GE sub-interface view,</span><span>50GE interface view,</span><span>Eth-Trunk sub-interface view,</span><span>Eth-Trunk interface view,</span><span>VLANIF interface view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907763044__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907763044__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>When a VRRP6 backup group functions as a gateway, the forwarding path of user-to-network is determined by the state of the VRRP6 backup group, and the forwarding path of network-to-user traffic is selected by a dynamic routing protocol. As a result, user-to-network and network-to-user traffic may be transmitted over different paths. When a firewall needs to be deployed on the VRRP6 backup group to increase security, network-to-user traffic cannot pass through the firewall because of the inconsistent forwarding paths of network-to-user and user-to-network traffic. To address this problem, run the <b><span class="cmdname">ipv6 direct-route track vrrp6</span></b> command to adjust the cost of IPv6 direct routes based on the VRRP6 backup group status, and configure a dynamic routing protocol to import the IPv6 direct routes.</p>
<p><strong>Prerequisites</strong></p>
<p>VRRP6 has been configured on the interface.</p>
<p><strong>Configuration Impact</strong></p>
<p>After the command is run, the cost of IPv6 direct routes is adjusted based on the VRRP6 backup group status, with details as follows:</p>

<ul><li>If the VRRP6 backup group status is Master, the default value 0 (the highest priority) is used as the cost of the IPv6 direct routes.</li><li>If the VRRP6 backup group status is Backup or Initialize, the cost-value specified in the command is used as the cost of the IPv6 direct routes.</li></ul>
<p><strong>Follow-up Procedure</strong></p>
<p>Configure a dynamic routing protocol to import the IPv6 direct routes.</p>
<p><strong>Precautions</strong></p>
<p>The IPv6 direct routes on an interface can be associated with only one VRRP6 backup group. To change the associated VRRP6 backup group, dissociate the IPv6 direct routes from the original VRRP6 backup group first.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907763044__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">



<div class="p"># Associate the IPv6 direct routes on <span>100GE</span><span>1/0/1</span> with a VRRP6 backup group.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ipv6 direct-route track vrrp6 vrid 1 degrade-cost 300</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_IP_Routing_Basic_Configuration_Commands_title.html">Route Management Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/IP_ROUTING_IGNORE-MAC.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/IPV6DIRECTHOSTADVSWITCH(DIRECTRTOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>