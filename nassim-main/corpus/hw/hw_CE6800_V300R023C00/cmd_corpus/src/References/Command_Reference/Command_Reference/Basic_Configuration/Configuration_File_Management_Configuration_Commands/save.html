
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="save">
<meta name="DC.subject" content="save">
<meta name="keywords" content="save">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Configuration_Management_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/ROLLBACKCONFIG(CFGOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SETDATACHKPOLICY(CFGOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Configuration File Management">
<meta name="featurename" content="FTP">
<meta name="featurename" content="SFTP">
<meta name="featurename" content="SCP">
<meta name="featurename" content="TFTP">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Configuration File Management">
<meta name="featurename" content="FTP">
<meta name="featurename" content="SFTP">
<meta name="featurename" content="SCP">
<meta name="featurename" content="TFTP">
<meta name="featuretype" content="Basic Configuration">
<meta name="featurename" content="Configuration File Management">
<meta name="featurename" content="FTP">
<meta name="featurename" content="SFTP">
<meta name="featurename" content="SCP">
<meta name="featurename" content="TFTP">
<meta name="featuretype" content="Basic Configuration">
<meta name="featuretype" content="Basic Configuration">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Creator" content="SUBSYS_ID_CFGOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000002194449097">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>save</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000002194449097"></a><a name="EN-US_CLIREF_0000002194449097"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">save</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000002194449097__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">save</span></b> command saves all configurations to a storage device.</p>
<p>The <b><span class="cmdname">save shareable-configuration</span></b> command saves the configuration to a specified file and generates a root key based on the password entered by the user.</p>
</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000002194449097__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">save </span></b>[ <i><span class="varname">configuration-file</span></i> ]</p>


<p><b><span class="cmdname">save shareable-configuration </span></b><i><span class="varname">configuration-file</span></i> [ <strong><span>password</span></strong> ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000002194449097__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">configuration-file</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a configuration file.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 5 to 64 characters in the format of .zip, .cfg, or .dat.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>password</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Password for saving a configuration file.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000002194449097__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>User view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000002194449097__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000002194449097__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><ul><li>When a group of configurations are complete and the desired functions are achieved, all the configurations should be saved to the storage device.</li><li>If you run the save [ &lt;configuration-file&gt; ] command without specifying the configuration-file parameter, all configurations are saved to the configuration file for the next startup by default. If no next-startup configuration file exists, the system prompts you to determine whether to save configurations to the vrpcfg.zip file. You can save configurations to the file or specify another file for saving the configurations. Then the specified file is configured as the next-startup configuration file. You can run the <b><span class="cmdname">display startup</span></b> command to view the name of the configuration file for next startup.</li><li>The save [ &lt;configuration-file&gt; ] command backs up all configurations to the specified file on the storage device. This command does not affect the current startup configuration file. If the storage path and name of the configuration file specified using configuration-file are the same as those of the next-startup configuration file, the save configuration-file command functions the same as the <b><span class="cmdname">save</span></b> command.</li><li>If you run the save [ &lt;configuration-file&gt; ] command without specifying the optional parameter configuration-file when saving the configuration file for the first time, the system asks you whether to save the file as vrpcfg.zip. The vrpcfg.zip file is the default configuration file, and it is empty initially.</li><li>If a configuration-level user runs the <b><span class="cmdname">save</span></b> command, the configuration file can be saved only to the root directory.</li><li>The <b><span class="cmdname">save shareable-configuration</span></b> command saves configurations to a specified file, generates a root key based on the entered password, and saves the root key to the file.</li><li>The configuration-file parameter must be specified when you run the <b><span class="cmdname">save shareable-configuration</span></b> command. If the system has the next startup file, the specified file name cannot be the same as the next startup file name.</li><li>If the password parameter is not specified, the preset password (default value) generated by the device is used. The preset password is generated based on the system master key of the device and cannot be viewed.</li></ul>
</div>
<p><strong>Configuration Impact</strong></p>
<p>When you run the <b><span class="cmdname">save</span></b> command several times, the latest configuration overrides the previous configuration. If the file of the same name already exists, the contents of the original file are changed.<p></p>
<span>Running this command causes a temporary high CPU usage</span>, but services are not affected.</p>
<p><strong>Precautions</strong></p>
<div class="p"><ul><li>A configuration file can contain only configuration commands, view switching commands, and # symbols (used to switch to the system view). If you load other types of commands, such as display commands used for query, reset/save/ping commands used for maintenance, quit, return, and upgrade-compatible commands, the device reports an error and continues the loading of follow-up commands.</li><li>Repeated commands cannot coexist in the same view.</li><li>Command lines must be indented correctly. Specifically, a command line in the current view must be indented by one character compared with a command line in the previous view.</li><li>If the pound sign (#) is left-aligned, the system view is displayed. If the pound sign (#) is indented, it is used only to isolate command blocks; in this case, the pound sign (#) must be aligned with the first command in the following command block. If the pound sign (#) is incorrectly used, configurations may be lost, or commands may be run in an unexpected view.</li><li>The configuration for entering a command view must be present. Otherwise, no commands can be executed in the command view.</li><li>The command execution sequence and dependency must be correct.</li><li>Interactive commands in the configuration file only support automatic interaction in Y/N mode, the default is Y.</li><li>The extension of the configuration file name must be .zip, .cfg or .dat. The system configuration file must be saved in the root directory of the storage device.</li><li>A .cfg file is a text file. You can directly view the content of a .cfg file. After a .cfg file is specified as the configuration file, the system restores the commands in the file one by one when startup.</li><li>A .zip file is the compression of a .cfg file, occupying less space. After a .zip file is specified as the configuration file, the system decompresses the file into a .cfg file, and then restores the commands in the file one by one when startup.</li><li>A .dat file is a binary file. If the startup software version and the .dat file version are the same, the system restores all configurations in the .dat file in batches when the device starts. This speeds up the system startup.</li><li>After the weak password dictionary maintenance function is enabled, the passwords (which can be queried using the <b><span class="cmdname">display security weak-password-dictionary</span></b> command) defined in the weak password dictionary are unavailable for the command save shareable-configuration.</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000002194449097__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Save all current configurations and key information to the configuration file.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>save shareable-configuration test.cfg</strong>
Warning: Are you sure to save the configuration to flash:/test.cfg? [Y/N]:y
Info: Save the configuration successfully.
</pre>
</div>


<div class="p"># Save all configurations to the next startup configuration file.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>save</strong>
Warning: all configuration will be written to the device.
Are you sure to continue?[Y/N]y
Now saving all configuration to the slot <span>1</span>
Info: Save the configuration successfully.
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Configuration_Management_Commands_title.html">Configuration File Management Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/ROLLBACKCONFIG(CFGOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SETDATACHKPOLICY(CFGOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>