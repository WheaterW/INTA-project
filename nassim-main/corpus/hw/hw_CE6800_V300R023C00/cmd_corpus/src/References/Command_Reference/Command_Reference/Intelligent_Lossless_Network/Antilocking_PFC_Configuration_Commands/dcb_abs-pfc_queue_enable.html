
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="dcb abs-pfc queue enable">
<meta name="DC.subject" content="dcb abs-pfc queue enable">
<meta name="keywords" content="dcb abs-pfc queue enable">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-Antilocking_PFC_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/ABS-PFC_PROFILE.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DISPLAY_ABS-PFC.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Antilocking PFC">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Antilocking PFC">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="featurename" content="Antilocking PFC">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="DC.Creator" content="SUBSYS_ID_AIS">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907769252">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>dcb abs-pfc queue enable</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907769252"></a><a name="EN-US_CLIREF_0000001907769252"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">dcb abs-pfc queue enable</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907769252__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">dcb abs-pfc queue enable</span></b> command enables antilocking PFC for queues on an interface.</p>
<p>The <b><span class="cmdname">undo dcb abs-pfc queue enable</span></b> command disables antilocking PFC for queues on an interface.</p>
</p>
<p>By default, this function is disabled.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6860-SAN and CE8850-SAN.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907769252__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">dcb abs-pfc queue </span></b><i><span class="varname">first-queue-index</span></i> [ <i><span class="varname">second-queue-index</span></i> ] <strong><span>enable</span></strong> [ <strong><span>threshold</span></strong> <i><span class="varname">threshold-value</span></i> ]</p>

<p><b><span class="cmdname">undo dcb abs-pfc queue </span></b><i><span class="varname">first-queue-index</span></i> [ <i><span class="varname">second-queue-index</span></i> ] <strong><span>enable</span></strong> [ <strong><span>threshold</span></strong> <i><span class="varname">threshold-value</span></i> ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907769252__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">first-queue-index</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the index of the first queue for which antilocking PFC is to be enabled.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 5.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">second-queue-index</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the index of the second queue for which antilocking PFC is to be enabled.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 5.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>threshold</span></strong> <i><span class="varname">threshold-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the buffer threshold for antilocking PFC to take effect.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 0 to 512. The unit is KB and the default value is 0.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907769252__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100GE interface view,</span><span>200GE interface view,</span><span>25GE interface view,</span><span>400GE interface view,</span><span>50GE interface view,</span><span>Interface group view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907769252__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907769252__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>If lossless services on the live network have a long communication distance, for example, in a long-distance DCI scenario, you can run this command to enable antilocking PFC for interface queues.</p>
<p><strong>Precautions</strong></p>
<ul><li>For the CE6860-SAN: The antilocking PFC function can be enabled on 25GE interfaces 1 to 48, 50GE interfaces 1 to 48, 100GE interfaces 1 to 8, 200GE interfaces 2, 4, 6, and 8, and interfaces split from 100GE interfaces 2, 4, 6, and 8.<p></p>
<span>For the CE8850-SAN</span>: The antilocking PFC function can be enabled on 100GE interfaces 1 to 8 and interfaces split from them.</li><li>The <strong>dcb abs-pfc queue enable</strong> and <strong>dcb pfc enable</strong> commands are mutually exclusive on the same interface.</li><li>Antilocking PFC takes effect only when the following conditions are met: (1) The <b><span class="cmdname">buffer optimization mode enhanced-long-distance</span></b> command has been run to set the plane buffer optimization mode to enhanced long-distance mode, and the setting has taken effect upon a device restart. (2) The <b><span class="cmdname">long-distance mode</span></b> command has been run to enable the long-distance detection mode, and a detection success message has been returned.</li><li>Antilocking PFC can take effect only on antilocking PFC-capable interfaces specified by the Interface that can be enabled with ABS PFC field of the <b><span class="cmdname">display buffer optimization configuration</span></b> command output.</li><li>In scenarios such as device upgrade and restart, long-distance detection may fail. As a result, antilocking PFC becomes invalid. In this case, you can run the <b><span class="cmdname">start long-distance detect</span></b> command to manually send detection packets.</li><li>In a priority queue of an interface, antilocking PFC is mutually exclusive with differentiated flow scheduling.</li><li>On an interface, antilocking PFC for priority queue 1 is mutually exclusive with differentiated flow scheduling for any queue.</li><li>If PFC or antilocking PFC has been enabled on an interface, PFC resources on the interface will be occupied. To release PFC resources on the interface, disable PFC or antilocking PFC on the interface and restart the device.</li><li>Currently, PFC or antilocking PFC can be enabled on a maximum of 127 interfaces. If the number of interfaces on which PFC or antilocking PFC has been enabled exceeds 127, disable the delivered configuration to reduce the number of interfaces on which PFC or antilocking PFC has been enabled, and restart the device before you can enable PFC or antilocking PFC on more interfaces.</li><li>Antilocking PFC can be enabled for a maximum of 20 queues on the device.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907769252__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable antilocking PFC on the interface.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>dcb abs-pfc queue 3 enable threshold 0</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-Antilocking_PFC_Configuration_Commands_title.html">Antilocking PFC Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/ABS-PFC_PROFILE.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/DISPLAY_ABS-PFC.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>