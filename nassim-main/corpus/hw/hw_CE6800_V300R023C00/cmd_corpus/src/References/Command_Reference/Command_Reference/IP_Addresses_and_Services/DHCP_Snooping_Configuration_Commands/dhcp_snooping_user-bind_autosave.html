
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="dhcp snooping user-bind autosave">
<meta name="DC.subject" content="dhcp snooping user-bind autosave">
<meta name="keywords" content="dhcp snooping user-bind autosave">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-DHCP_Snooping_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DHCP_SNOOPING_USER-BIND_ARP-DETECT_ENABLE.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DHCP_SNOOPING_USER-BIND_MAX-NUMBER.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="DHCP Snooping">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="DHCP Snooping">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="DHCP Snooping">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Creator" content="SUBSYS_ID_ESAP_DHCPSNP">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907762632">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>dhcp snooping user-bind autosave</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907762632"></a><a name="EN-US_CLIREF_0000001907762632"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">dhcp snooping user-bind autosave</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907762632__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">dhcp snooping user-bind autosave</span></b> command enables local automatic backup of the DHCP snooping binding table and configures the file to be saved.</p>
<p>The <b><span class="cmdname">undo dhcp snooping user-bind autosave</span></b> command disables local automatic backup of the DHCP snooping binding table and deletes the configured file.</p>
</p>
<p>By default, local automatic backup of the DHCP snooping binding table is disabled.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907762632__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">dhcp snooping user-bind autosave </span></b><i><span class="varname">file-name</span></i> [ <strong><span>write-delay</span></strong> <i><span class="varname">delay-time</span></i> ]</p>

<p><b><span class="cmdname">undo dhcp snooping user-bind autosave</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907762632__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">file-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the path for storing the file that backs up the binding table and the file name. The file path and name supported by the device must be both entered.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 12 to 51 case-insensitive characters, spaces not supported. The file name with a full path must be flash:/*.tbl. The file name without a path or format can contain only digits, letters, and special characters ('_' and'-').</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>write-delay</span></strong> <i><span class="varname">delay-time</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the interval for local automatic backup of the DHCP snooping binding table.</p>
<p>If this parameter is not specified, the backup interval is the default value.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 60 to 4294967295. The default value is 3600.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907762632__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907762632__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907762632__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>When the device generates DHCP snooping binding entries for DHCP users, you can run the <strong>dhcp snooping user-bind autosave</strong> command to enable local automatic backup of the DHCP snooping binding table to prevent the binding entries from being lost after the device restarts.</p>
<p><strong>Prerequisites</strong></p>
<p>DHCP snooping has been enabled on the device using the <strong>dhcp snooping enable</strong> command.</p>
<p><strong>Precautions</strong></p>
<p>The extension of the backup binding table file must be .tbl, which contains all DHCPv4 and DHCPv6 binding tables on the current device.<p></p>
<span>When the system time is changed or the user binding</span> table is changed, if the device restarts within the configured update interval (1 hour by default), the time for automatically updating binding entries is not reached. In this case, you need to run the undo command and then the same command to trigger the backup of the latest binding entries, otherwise, after the switch restarts, the restored binding entries are different from the actual entries before the restart.<p></p>
<span>If a device where the DHCP snooping binding table</span> is backed up is powered off and then restarted after the lease of DHCP snooping binding table expires, the DHCP snooping entries cannot be restored.<p></p>
<span>After this function is configured</span>, if an interface goes Down, DHCP snooping binding entries on the interface are deleted from the backup binding table file.<p></p>
<span>When a new file name is configured or the undo command</span> is run, the old configuration file is deleted.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907762632__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure the device to back up the DHCP snooping binding table to the file backup.tbl in the flash every 5000 seconds.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>dhcp enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>dhcp snooping enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>dhcp snooping user-bind autosave flash:/backup.tbl write-delay 5000</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-DHCP_Snooping_Configuration_Commands_title.html">DHCP Snooping Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DHCP_SNOOPING_USER-BIND_ARP-DETECT_ENABLE.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/DHCP_SNOOPING_USER-BIND_MAX-NUMBER.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>