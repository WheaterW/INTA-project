
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="flush send">
<meta name="DC.subject" content="flush send">
<meta name="keywords" content="flush send">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Smart_Link_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DISPSMLKGRP(SMLKOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/LOADINST(SMLKOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Smart Link">
<meta name="featuretype" content="High Availability">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Smart Link">
<meta name="featuretype" content="High Availability">
<meta name="featurename" content="Smart Link">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="DC.Creator" content="SUBSYS_ID_SMLKOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942846689">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>flush send</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942846689"></a><a name="EN-US_CLIREF_0000001942846689"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">flush send</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942846689__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">flush send</span></b> command enables a Smart Link group to send Flush packets and specifies the control VLAN ID and password to be carried in the Flush packets.</p>
<p>The <b><span class="cmdname">undo flush send</span></b> command disables the function.</p>
</p>
<p>By default, a Smart Link group does not send Flush packets.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6820H, CE6820H-K and CE6820S.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942846689__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">flush send control-vlan </span></b><i><span class="varname">vlan-id</span></i> [ <strong><span>password</span></strong> { <strong><span>sha</span></strong> | <strong><span>simple</span></strong> | <strong><span>hmac-sha256</span></strong> } <i><span class="varname">password</span></i> ]</p>

<p><b><span class="cmdname">undo flush send</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942846689__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>password</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the encryption mode of the password in Flush packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">password</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a password carried in Flush packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><ul><li>A simple password is a string of 1 to 16 characters.</li><li>When the password is encrypted in SHA256 or HMAC SHA256 mode, the value is a string of 48 characters.</li><li>If the source version supports a ciphertext password of 24 or 32 characters, the target version also supports a ciphertext password of 24 or 32 characters.</li></ul>
<p>The value is a string of 1 to 16 case-sensitive characters or 24/32/48/108/128 case-sensitive characters.</p>
</div>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>sha</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the password for sending Flush packets uses the SHA256 encryption mode.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>simple</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the password of Flush packets is in simple text.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>hmac-sha256</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the password of Flush packets is in HMAC-SHA256 encryption mode.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>control-vlan</span></strong> <i><span class="varname">vlan-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the control VLAN ID of Smart Link Flush packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 1 to 4094.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942846689__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>Smart Link group view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942846689__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942846689__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>After a link switchover is performed in a Smart Link group, the existing forwarding entries no longer apply to the new topology. All MAC address entries and Address Resolution Protocol (ARP) entries on the network must be updated. In this situation, you can configure the Smart Link group on a downstream device to send Flush packets to instruct upstream devices to update their MAC address entries and ARP entries.<p></p>
<span>To enable a Smart Link group to send Flush packets</span> and specify the control VLAN ID and password carried in the packets, run the flush send command in the Smart Link group view.</p>
<p><strong>Prerequisites</strong></p>
<p>A Smart Link group has been created using the <b><span class="cmdname">smart-link group</span></b> command.</p>
<p><strong>Follow-up Procedure</strong></p>
<p>Run the <b><span class="cmdname">smart-link flush receive</span></b> command to enable an interface on an upstream device to receive Flush packets. The sent and received Flush packets must have the same encryption mode, control VLAN ID, and password.</p>
<p><strong>Precautions</strong></p>
<ul><li>The control VLAN must be an existing static VLAN on the device. If the specified static VLAN does not exist on the device, Flush packets cannot be sent.</li><li>When a link switchover occurs in a Smart Link group, the Smart Link group sends Flush packets to instruct other devices to update their MAC address tables and ARP tables to ensure normal packet forwarding.</li><li>Because the Flush packet format varies with vendors, the Flush packets are used only for communication between Huawei switching devices, and the peer device must be enabled to receive Flush packets.</li><li>After you run this command to configure the encryption mode and password, the original encryption mode and password are deleted.</li><li>If the password is encrypted in SHA256 or HMAC SHA256 mode, the original password cannot be restored after the configuration. If you forget the password, you need to reconfigure it.</li><li>If the password for receiving Flush packets is not specified or the simple password mode is specified, security problems may occur.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942846689__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable Smart Link group 1 to send Flush packets. Set the control VLAN ID to 100 and password to YsHsjx_202206.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>smart-link group 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-smlk-group1] <strong>flush send control-vlan 100 password sha YsHsjx_202206</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Smart_Link_Configuration_Commands_title.html">Smart Link Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DISPSMLKGRP(SMLKOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/LOADINST(SMLKOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>