
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="lacp alarm-control link-failure">
<meta name="DC.subject" content="lacp alarm-control link-failure">
<meta name="keywords" content="lacp alarm-control link-failure">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Eth-Trunk_Interface_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/L3(INNER-CONNECT-LOAD-BALANCE-VIEW).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/COLLECTORMAXDELAY(LACPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Creator" content="SUBSYS_ID_LACPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907761720">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>lacp alarm-control link-failure</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907761720"></a><a name="EN-US_CLIREF_0000001907761720"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">lacp alarm-control link-failure</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907761720__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">lacp alarm-control link-failure</span></b> command enables LACP alarm control.</p>
<p>The <b><span class="cmdname">undo lacp alarm-control link-failure</span></b> command disables LACP alarm control.</p>
</p>
<p>By default, LACP alarm control is disabled.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907761720__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">lacp alarm-control link-failure</span></b></p>

<p><b><span class="cmdname">undo lacp alarm-control link-failure</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907761720__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
None
</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907761720__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907761720__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907761720__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><p>A device reports an LACP alarm if its Eth-Trunk service in LACP mode fails. To prevent the device from frequently reporting such alarms, run the <b><span class="cmdname">lacp alarm-control link-failure</span></b> command to enable LACP alarm control. After this function is enabled, the device reports hwLacpNegotiateFailed, hwLacpPartialLinkLoss, hwLacpTotalLinkLoss, hwLacpStateDown, or Eth-Trunk linkdown alarms only when LACP negotiation fails due to the following reasons:</p>

<ul><li>The device's physical link goes Down.</li><li>LACP negotiation times out.</li><li>LACP determines that packets are looped back.</li><li>LACP determines that the system ID and port key in the LACPDU from the peer end on the local port are inconsistent with those from the peer end on the reference port.<p></p>
<span>A reference port is preferentially selected from the</span> Up member ports after LACP calculation.</li></ul>
</div>
<p><strong>Configuration Impact</strong></p>
<p><p>After the command is run, users do not expect to report LACP-related alarms.</p>
</p>
<p><strong>Precautions</strong></p>
<p><p>A device that has reported an hwLacpNegotiateFailed, hwLacpPartialLinkLoss, hwLacpTotalLinkLoss, hwLacpStateDown, or Eth-Trunk linkdown alarm will report a clear alarm if the following conditions are met:<p></p>
<span>The</span> <b><span class="cmdname">lacp alarm-control link-failure</span></b> command is run.<p></p>
<span>The</span> trigger conditions for the reported alarm are beyond the four reasons for LACP negotiation Down.<p></p>
<span>Although a clear alarm is reported</span>, the problem triggering the alarm persists.<p></p>
<span>After the</span> <b><span class="cmdname">lacp alarm-control link-failure</span></b> command is run, the hwLacpNegotiateFailed, hwLacpPartialLinkLoss, hwLacpTotalLinkLoss, hwLacpStateDown, and Eth-Trunk linkdown alarms are not reported except for the preceding four reasons. Therefore, exercise caution when running this command.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907761720__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable LACP alarm control.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>lacp alarm-control link-failure</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Eth-Trunk_Interface_Configuration_Commands_title.html">Eth-Trunk Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/L3(INNER-CONNECT-LOAD-BALANCE-VIEW).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/COLLECTORMAXDELAY(LACPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>