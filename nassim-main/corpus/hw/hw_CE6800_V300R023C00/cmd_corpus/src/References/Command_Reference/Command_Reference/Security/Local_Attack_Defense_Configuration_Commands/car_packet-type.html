
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="car packet-type">
<meta name="DC.subject" content="car packet-type">
<meta name="keywords" content="car packet-type">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-Local_Attack_Defense_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/CAR_ALL-PACKETS_PPS.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/CPU-DEFEND_DYNAMIC-ADJUST_ENABLE.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Local Attack Defense">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Local Attack Defense">
<meta name="featuretype" content="Security">
<meta name="featurename" content="Local Attack Defense">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="DC.Creator" content="SUBSYS_ID_CPUDEFEND">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907607972">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>car packet-type</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907607972"></a><a name="EN-US_CLIREF_0000001907607972"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">car packet-type</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907607972__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">car packet-type</span></b> command sets the rate limit for packets sent to the CPU.</p>
<p>The <b><span class="cmdname">undo car packet-type</span></b> command restores the default rate limit for packets sent to the CPU.</p>
</p>
<p>By default, You can run the display cpu-defend configuration command to check the rate limit for protocol packets.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907607972__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">car packet-type </span></b><i><span class="varname">packet-type</span></i> <strong><span>pps</span></strong> <i><span class="varname">pps-value</span></i></p>

<p><b><span class="cmdname">undo car packet-type </span></b><i><span class="varname">packet-type</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907607972__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">packet-type</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the type of packets.</p>
<p>When a packet type is specified, the CAR value takes effect on this type of packets and these packets are put into an independent queue.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The packet type information displayed on the device prevails. You can run the display cpu-defend configuration command to check the supported packet types and rate limit.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>pps</span></strong> <i><span class="varname">pps-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the rate limit.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 25 to 100,00, in pps. The value for the different packets maybe different.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907607972__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>Attack defense policy view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907607972__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907607972__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>The switch has default CPCAR values for each type of protocol packet. You can adjust CPCAR values for specified types of protocol packets based on services and network environment. After an attack defense policy is created, you can limit the rate of protocol packets using the policy:</p>

<ul><li>Reduce the CAR values in the following situation: When a network undergoes an attack, reduce the CAR values of the corresponding protocol, to reduce impact on the system CPU.</li><li>Increase the CAR values in the following situation: When service traffic volume on the network increases, a large number of protocol packets need to be sent to the CPU. Increase the CAR values of the corresponding protocols to meet service requirements.</li></ul>
<p><strong>Precautions</strong></p>
<p><p>CPCAR limits the rate of protocol packets sent to the control plane to ensure control plane security. The device has default CPCAR values for each type of protocol packets. You can adjust the CPCAR values for specified types of protocol packets based on the actual service scale and network environment. For example, when a large number of IPv6 user hosts are connected to a device, the default CPCAR value of ND packets may not meet the requirements of protocol packet exchange. As a result, a large number of ND packets are discarded, and ND neighbor entries cannot be learned. To prevent the CPU from running with heavy load, set a proper CPCAR value. An improper CPCAR value affects network services. Therefore, you are advised to contact technical support personnel if the CPCAR value of ND packets needs to be adjusted. If both the deny and car commands are configured for a specified type of packets to be sent to the CPU, the command configured later takes effect.</p>
</p>
<p><p>The CAR value of said-ping packets ranges from 25 to 5000, which is different from that of other protocol packets.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907607972__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure the CAR in the attack defense policy named test and set the rate limit of FTP packets to 6400 pps.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>cpu-defend policy test</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-cpu-defend-policy-test] <strong>car packet-type ftp pps 6400</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-Local_Attack_Defense_Configuration_Commands_title.html">Local Attack Defense Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/CAR_ALL-PACKETS_PPS.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/CPU-DEFEND_DYNAMIC-ADJUST_ENABLE.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>