
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="sftp client-transfile">
<meta name="DC.subject" content="sftp client-transfile">
<meta name="keywords" content="sftp client-transfile">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_SSH_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SFTP-CLIENT-SOURCE-I(SSHC).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SFTP-IDLE-TIMEOUT(SSHS).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="SSH">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="SSH">
<meta name="featuretype" content="Security">
<meta name="featurename" content="SSH">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="DC.Creator" content="SUBSYS_ID_SSHC">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000002159123680">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>sftp client-transfile</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000002159123680"></a><a name="EN-US_CLIREF_0000002159123680"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">sftp client-transfile</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000002159123680__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">sftp client-transfile</span></b> command uploads files from an SFTP client to an SFTP server or downloads files from an SFTP server to an SFTP client.</p>
</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000002159123680__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">sftp client-transfile get ipv6 </span></b>[ <strong><span>-a</span></strong> <i><span class="varname">source-ipv6-address</span></i> ] <strong><span>host-ip</span></strong> <i><span class="varname">host-ipv6</span></i> [ <strong><span>-oi</span></strong> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <i><span class="varname">interface-name</span></i> } ] [ <i><span class="varname">port</span></i> ] [ [ <strong><span>public-net</span></strong> | <strong><span>-vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] | [ <strong><span>prefer_kex</span></strong> { <i><span class="varname">prefer_kex</span></i> } ] | [ <strong><span>identity-key</span></strong> <i><span class="varname">identity-key-type</span></i> ] | [ <strong><span>prefer_ctos_cipher</span></strong> <i><span class="varname">prefer_ctos_cipher</span></i> ] | [ <strong><span>prefer_stoc_cipher</span></strong> <i><span class="varname">prefer_stoc_cipher</span></i> ] | [ <strong><span>prefer_ctos_hmac</span></strong> <i><span class="varname">prefer_ctos_hmac</span></i> ] | [ <strong><span>prefer_stoc_hmac</span></strong> <i><span class="varname">prefer_stoc_hmac</span></i> ] | [ <strong><span>-ki</span></strong> <i><span class="varname">interval</span></i> ] | [ <strong><span>-kc</span></strong> <i><span class="varname">count</span></i> ] ] <sup>*</sup> <strong><span>username</span></strong> <i><span class="varname">user-name</span></i> <strong><span>password</span></strong> <i><span class="varname">password</span></i> <strong><span>sourcefile</span></strong> <i><span class="varname">destination</span></i> [ <strong><span>destination</span></strong> <i><span class="varname">source-file</span></i> ]</p>

<p><b><span class="cmdname">sftp client-transfile get </span></b>[ <strong><span>-a</span></strong> <i><span class="varname">source-address</span></i> | <strong><span>-i</span></strong> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <i><span class="varname">interface-name</span></i> } ] <strong><span>host-ip</span></strong> <i><span class="varname">host-ipv4</span></i> [ <i><span class="varname">port</span></i> ] [ [ <strong><span>public-net</span></strong> | <strong><span>-vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] | [ <strong><span>prefer_kex</span></strong> { <i><span class="varname">prefer_kex</span></i> } ] | [ <strong><span>identity-key</span></strong> <i><span class="varname">identity-key-type</span></i> ] | [ <strong><span>prefer_ctos_cipher</span></strong> <i><span class="varname">prefer_ctos_cipher</span></i> ] | [ <strong><span>prefer_stoc_cipher</span></strong> <i><span class="varname">prefer_stoc_cipher</span></i> ] | [ <strong><span>prefer_ctos_hmac</span></strong> <i><span class="varname">prefer_ctos_hmac</span></i> ] | [ <strong><span>prefer_stoc_hmac</span></strong> <i><span class="varname">prefer_stoc_hmac</span></i> ] | [ <strong><span>-ki</span></strong> <i><span class="varname">interval</span></i> ] | [ <strong><span>-kc</span></strong> <i><span class="varname">count</span></i> ] ] <sup>*</sup> <strong><span>username</span></strong> <i><span class="varname">user-name</span></i> <strong><span>password</span></strong> <i><span class="varname">password</span></i> <strong><span>sourcefile</span></strong> <i><span class="varname">destination</span></i> [ <strong><span>destination</span></strong> <i><span class="varname">source-file</span></i> ]</p>

<p><b><span class="cmdname">sftp client-transfile put ipv6 </span></b>[ <strong><span>-a</span></strong> <i><span class="varname">source-ipv6-address</span></i> ] <strong><span>host-ip</span></strong> <i><span class="varname">host-ipv6</span></i> [ <strong><span>-oi</span></strong> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <i><span class="varname">interface-name</span></i> } ] [ <i><span class="varname">port</span></i> ] [ [ <strong><span>public-net</span></strong> | <strong><span>-vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] | [ <strong><span>prefer_kex</span></strong> { <i><span class="varname">prefer_kex</span></i> } ] | [ <strong><span>identity-key</span></strong> <i><span class="varname">identity-key-type</span></i> ] | [ <strong><span>prefer_ctos_cipher</span></strong> <i><span class="varname">prefer_ctos_cipher</span></i> ] | [ <strong><span>prefer_stoc_cipher</span></strong> <i><span class="varname">prefer_stoc_cipher</span></i> ] | [ <strong><span>prefer_ctos_hmac</span></strong> <i><span class="varname">prefer_ctos_hmac</span></i> ] | [ <strong><span>prefer_stoc_hmac</span></strong> <i><span class="varname">prefer_stoc_hmac</span></i> ] | [ <strong><span>-ki</span></strong> <i><span class="varname">interval</span></i> ] | [ <strong><span>-kc</span></strong> <i><span class="varname">count</span></i> ] ] <sup>*</sup> <strong><span>username</span></strong> <i><span class="varname">user-name</span></i> <strong><span>password</span></strong> <i><span class="varname">password</span></i> <strong><span>sourcefile</span></strong> <i><span class="varname">source-file</span></i> [ <strong><span>destination</span></strong> <i><span class="varname">destination</span></i> ]</p>

<p><b><span class="cmdname">sftp client-transfile put </span></b>[ <strong><span>-a</span></strong> <i><span class="varname">source-address</span></i> | <strong><span>-i</span></strong> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <i><span class="varname">interface-name</span></i> } ] <strong><span>host-ip</span></strong> <i><span class="varname">host-ipv4</span></i> [ <i><span class="varname">port</span></i> ] [ [ <strong><span>public-net</span></strong> | <strong><span>-vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] | [ <strong><span>prefer_kex</span></strong> { <i><span class="varname">prefer_kex</span></i> } ] | [ <strong><span>identity-key</span></strong> <i><span class="varname">identity-key-type</span></i> ] | [ <strong><span>prefer_ctos_cipher</span></strong> <i><span class="varname">prefer_ctos_cipher</span></i> ] | [ <strong><span>prefer_stoc_cipher</span></strong> <i><span class="varname">prefer_stoc_cipher</span></i> ] | [ <strong><span>prefer_ctos_hmac</span></strong> <i><span class="varname">prefer_ctos_hmac</span></i> ] | [ <strong><span>prefer_stoc_hmac</span></strong> <i><span class="varname">prefer_stoc_hmac</span></i> ] | [ <strong><span>-ki</span></strong> <i><span class="varname">interval</span></i> ] | [ <strong><span>-kc</span></strong> <i><span class="varname">count</span></i> ] ] <sup>*</sup> <strong><span>username</span></strong> <i><span class="varname">user-name</span></i> <strong><span>password</span></strong> <i><span class="varname">password</span></i> <strong><span>sourcefile</span></strong> <i><span class="varname">source-file</span></i> [ <strong><span>destination</span></strong> <i><span class="varname">destination</span></i> ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000002159123680__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>-a</span></strong> <i><span class="varname">source-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the source address of an SFTP client.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>-a</span></strong> <i><span class="varname">source-ipv6-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the source ipv6 address of an SFTP client.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a 32-digit hexadecimal number in the format X:X:X:X:X:X:X:X.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>host-ip</span></strong> <i><span class="varname">host-ipv4</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the IPv4 address or host name of an SFTP server.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of case-sensitive characters, spaces not supported.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>host-ip</span></strong> <i><span class="varname">host-ipv6</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the IPv6 address or host name of an SFTP server.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of case-sensitive characters without spaces.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>-oi</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the source IPv6 interface of an SFTP client.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the source IPv6 interface of an SFTP client.</p>
<p>If host-ipv6 is a link-local IPv6 address, you must specify the interface name corresponding to the link-local address. If host-ipv6 is not a link-local IPv6 address, no interface name is required.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">port</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the monitoring port number of an SSH server.</p>
<p>You can log in to the server from the SFTP client without the need of specifying the monitoring port number only when the monitoring port number of the server is 22. Otherwise, the monitoring port number must be specified.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 65535. The default value is 22, which is a standard SFTP port number.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>public-net</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the SFTP server resides on a public network.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>-vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a VPN instance name. This means that the SFTP server resides on a private network.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 31 case-sensitive characters without spaces.</p>
<p>If spaces are used, the string must start and end with double quotation marks (").</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>prefer_kex</span></strong> <i><span class="varname">prefer_kex</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the preferred algorithm for key exchange.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>Preferred algorithms for key exchange supported depend on the ssh client key-exchange command settings.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>identity-key</span></strong> <i><span class="varname">identity-key-type</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a public key algorithm for the server authentication.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p><p>Currently, RSA_SHA2_512, RSA_SHA2_256, RSA, DSA, and ECC are supported. The default public key algorithms are RSA_SHA2_512 and RSA_SHA2_256.</p>
<p>To ensure high security, do not use the RSA algorithm whose length is less than 3072 bits. Use the more secure RSA SHA2-512 or RSA SHA2-256 authentication algorithm.</p>
</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>prefer_ctos_cipher</span></strong> <i><span class="varname">prefer_ctos_cipher</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the preferred encryption algorithm for packets from the client to the server.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>Encryption algorithms supported depend on the ssh client cipher command settings.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>prefer_stoc_cipher</span></strong> <i><span class="varname">prefer_stoc_cipher</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the preferred encryption algorithm for packets from the server to the client.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>Encryption algorithms supported depend on the ssh client cipher command settings.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>prefer_ctos_hmac</span></strong> <i><span class="varname">prefer_ctos_hmac</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the preferred HMAC algorithm for packets from the client to the server.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The preferred HMAC algorithms supported depend on the HMAC algorithm type configured using the ssh client hmac command.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>prefer_stoc_hmac</span></strong> <i><span class="varname">prefer_stoc_hmac</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the preferred HMAC algorithm for packets from the server to the client.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The preferred HMAC algorithms supported depend on the HMAC algorithm type configured using the ssh client hmac command.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>-ki</span></strong> <i><span class="varname">interval</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an interval at which keepalive packets are sent if no data is received.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 3600, in seconds. The default value is 60.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>-kc</span></strong> <i><span class="varname">count</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the maximum number of times that a server does not respond to keepalive packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 30. The default value is 5.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>username</span></strong> <i><span class="varname">user-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the user name for an SFTP connection.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 255 case-sensitive characters without spaces.</p>
<p>If spaces are used, the string must start and end with double quotation marks (").</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>password</span></strong> <i><span class="varname">password</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the password for an SFTP connection.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 128 case-sensitive characters without spaces.</p>
<p>If spaces are used, the string must start and end with double quotation marks (").</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>sourcefile</span></strong> <i><span class="varname">source-file</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the absolute path of the source file to be uploaded or downloaded.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 256 case-insensitive characters without spaces. The file name is a string of 1 to 128 characters.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>destination</span></strong> <i><span class="varname">destination</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the absolute path of the destination file to be uploaded or downloaded.</p>
<p>If destination is not specified, the destination file name is the same as the source file name.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 256 case-insensitive characters without spaces. The file name is a string of 1 to 128.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>get</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Downloads files from an SFTP server.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>-i</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the source interface of an SFTP client.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>put</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Uploads files to an SFTP server.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ipv6</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an IPv6 SFTP server.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000002159123680__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000002159123680__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000002159123680__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>To upload files from an SFTP client to an SFTP server or download files from an SFTP server to an SFTP client, run the <b><span class="cmdname">sftp client-transfile</span></b> command. This command can be run only on an SFTP client.<p></p>
<span>Before you run the</span> <b><span class="cmdname">sftp</span></b> command to transfer files, enter the user name and password. You can transfer files only when the authentication succeeds. The <b><span class="cmdname">sftp client-transfile</span></b> command supports one-click file transfer, so that a file can be transferred after you run the command.</p>
<p><strong>Prerequisites</strong></p>
<p>Before you run the <b><span class="cmdname">sftp client-transfile</span></b> command to connect to an SFTP server, ensure that the following requirements are met:</p>

<ul><li>The route between the SSH client and server is reachable. If the server does not use a standard port number, the port number configured on the server must be obtained.</li><li>The IP address of the SSH server and the information about the SSH user used for login are obtained.</li><li>The SFTP service is enabled on the server, the service types configured for the server contain SFTP, and password authentication is configured for the SSH user.</li></ul>
<p><strong>Configuration Impact</strong></p>
<p>After a connection is established between an SFTP client and an SFTP server, they start to communicate.</p>
<p><strong>Precautions</strong></p>
<ul><li>If command execution fails due to ACL configuration on the SFTP client or the TCP connection fails, the system displays an error message indicating that the connection to the server fails.</li><li>When the connection between the server and the client fails, the client must detect the fault in time and proactively tears down the connection. To achieve this, before the client logs in to the server through SFTP, configure an interval at which keepalive packets are sent if no data is received and the maximum number of times that the server does not respond. If the client does not receive any data within the specified interval, it sends a keepalive packet to the server. If the maximum number of times that the server does not respond exceeds the specified value, the client proactively tears down the connection.</li><li>If a source interface is specified using the -i interface-type interface-number parameter, the -vpn-instance vpn-instance-name parameter cannot be set then.</li><li>This command is used to connect to the server and transfer files. Password authentication is required for login.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000002159123680__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Log in to the SFTP server whose IPv6 address is 2001:db8::1 in ECC authentication mode and upload the sample.txt file to the SFTP server.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ssh client publickey ecc</strong>
Warning: Insecure public key algorithms (ecc) are enabled. Disabling them is recommended.
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>sftp client-transfile put ipv6 host-ip 2001:db8::1 identity-key ecc username huawei password YsHsjx_202206 sourcefile sample.txt</strong>
</pre>
</div>

<div class="p"># Log in to the SFTP server at 10.1.1.4 in ECC authentication mode and download the source file sample.txt to the SFTP client.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ssh client publickey ecc</strong>
Warning: Insecure public key algorithms (ecc) are enabled. Disabling them is recommended.
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>sftp client-transfile get host-ip 10.1.1.4 identity-key ecc username huawei password YsHsjx_202206 sourcefile sample.txt</strong>
</pre>
</div>

<div class="p"># Download the source file sample.txt from the server at 10.1.1.3 to the SFTP client. Set the interval at which keepalive packets are sent if no data is received and the maximum number of times that the server does not respond to 10 and 4, respectively.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>sftp client-transfile get host-ip 10.1.1.3 -ki 10 -kc 4 username huawei password YsHsjx_202206 sourcefile sample.txt</strong>
</pre>
</div>

<div class="p"># Download the source file sample.txt from the server at 10.1.1.2 to the SFTP client.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ip vpn-instance ssh</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-ssh] <strong>ipv4-family</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-ssh-af-ipv4] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-ssh] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>sftp client-transfile get host-ip 10.1.1.2 1025 -vpn-instance ssh username huawei password YsHsjx_202206 sourcefile sample.txt</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_SSH_Configuration_Commands_title.html">SSH Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/SFTP-CLIENT-SOURCE-I(SSHC).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SFTP-IDLE-TIMEOUT(SSHS).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>