
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="snmp-agent group (System view)">
<meta name="DC.subject" content="snmp-agent group (System view)">
<meta name="keywords" content="snmp-agent group (System view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_SNMP_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SNMPEXTENDERRCODE(SNMPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SNMPTARGETHOSTINFORM(SNMPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Creator" content="SUBSYS_ID_SNMPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000002194449361">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>snmp-agent group (System view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000002194449361"></a><a name="EN-US_CLIREF_0000002194449361"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">snmp-agent group (System view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000002194449361__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">snmp-agent group</span></b> command creates an SNMP user group by mapping SNMP users to the SNMP view.</p>
<p>The <b><span class="cmdname">undo snmp-agent group</span></b> command deletes a specified SNMP user group.</p>
</p>
<p>By default, the snmp-agent group v3 group-name command does not contain the authentication or privacy parameter.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000002194449361__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">snmp-agent group v3 </span></b><i><span class="varname">group-name</span></i> { <strong><span>authentication</span></strong> | <strong><span>privacy</span></strong> | <strong><span>noauthentication</span></strong> } [ <strong><span>read-view</span></strong> <i><span class="varname">read-view</span></i> | <strong><span>write-view</span></strong> <i><span class="varname">write-view</span></i> | <strong><span>notify-view</span></strong> <i><span class="varname">notify-view</span></i> ] <sup>*</sup> [ <strong><span>acl</span></strong> { <i><span class="varname">acl-number</span></i> | <i><span class="varname">acl-name</span></i> } ]</p>



<p><b><span class="cmdname">undo snmp-agent group v3 </span></b><i><span class="varname">group-name</span></i> { <strong><span>authentication</span></strong> | <strong><span>privacy</span></strong> | <strong><span>noauthentication</span></strong> }</p>


</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000002194449361__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">group-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of an SNMP user group.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 32 case-sensitive characters, spaces not supported.</p>
<p>The character string can contain spaces if it is enclosed with double quotation marks (").</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>authentication</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Authenticates packets without encrypting them.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>privacy</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that messages are authenticated and encrypted.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>noauthentication</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that no encryption or authentication is performed for an SNMP group to be configured.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>read-view</span></strong> <i><span class="varname">read-view</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a read-only view.<p>The view must have been created using the snmp-agent mib-view { excluded | included } view-name oid-tree command.</p>
</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 32 case-sensitive characters, spaces not supported. read-view is specified using the snmp-agent mib-view command. The NMS can read a MIB node in the read-view. If read-view is not configured, the NMS will read the ViewDefault by default. You can run display snmp-agent mib-view to view the default view.</p>
<p>When quotation marks are used around the string, spaces are allowed in the string.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>write-view</span></strong> <i><span class="varname">write-view</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a read-write view.</p>
<p>The view has been created using the snmp-agent mib-view {excluded | included } view-name oid-tree command.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 32 case-sensitive characters, spaces not supported. write-view is specified by the snmp-agent mib-view command. The NMS can read and write MIB objects in the write view.</p>
<p>If spaces are used, the string must start and end with double quotation marks (").</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>notify-view</span></strong> <i><span class="varname">notify-view</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a notify view.<p>The view must have been created using the snmp-agent mib-view { excluded | included } view-name oid-tree command.</p>
</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 32 case-sensitive characters, spaces not supported. notify-view is specified using the snmp-agent mib-view command. The MIB node information in the notify-view can be carried in alarms and sent to an NMS.</p>
<p>When quotation marks are used around the string, spaces are allowed in the string.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>acl</span></strong> <i><span class="varname">acl-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the number of a basic ACL, which can be an ACL4 or ACL6 number.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 2000 to 2999.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>acl</span></strong> <i><span class="varname">acl-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a named basic ACL.</p>
<p>If no matching rule is configured for the referenced ACL, the matching rule is permit by default.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is a string of 1 to 32 case-sensitive characters, spaces not supported.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>v3</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the SNMP user group uses the security mode in SNMPv3.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000002194449361__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000002194449361__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000002194449361__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><p>SNMPv1 and SNMPv2c have serious security defects. The security authentication mechanism used by SNMPv1 and SNMPv2c is based on a community name. In this mechanism, the community name is transmitted in simple text, which is easy to be obtained. You are not advised to use SNMPv1 or SNMPv2c on untrusted networks.&lt;br /&gt;
Using the user-based security model (USM), SNMPv3 eradicates security defects in SNMPv1 and SNMPv2c and provides authentication and encryption services. SNMPv3 defines the following three security levels:</p>

<ul><li>No authentication or encryption (noAuthNoPriv)</li><li>AuthNoPriv: authentication and no encryption</li><li>Authentication and encryption<p></p>
<span>Note</span>:<p></p>
<span>There is not any security level that defines encryption</span> but no authentication. This is because the passwords used for encryption are associated with users, and the users must be authenticated.<p></p>
<span>The</span> <b><span class="cmdname">snmp-agent group</span></b> command can be used to configure the following information:</li><li>Certification</li><li>Encryption</li><li>Controlling the access of users in an SNMP group</li><li>Bind an SNMP group to a MIB view.<p></p>
<span>To set the authentication level of an SNMP user group</span> to authentication without encryption and set the view access permission to read-only, run the snmp-agent group v3 &lt;group-name&gt; authentication read-view &lt;read-view&gt; command.<p></p>
<span>To set the authentication level of an SNMP user group</span> to authentication with encryption and set the view access permission to read-write, run the snmp-agent group v3 &lt;group-name&gt; privacy write-view &lt;write-view&gt; command. You can set the authentication mode of SNMP users to Message-Digest Algorithm 5 (MD5) or Secure Hash Algorithm (SHA) and the privacy mode to Data Encryption Standard 56 (DES56), Triple Data Encryption Standard 168 (3DES168), Advanced Encryption Standard 128 (AES128), Advanced Encryption Standard 192 (AES192), or Advanced Encryption Standard 256 (AES256).<p></p>
<span>Note</span>:</li><li>The NMS and the agent must be configured with the same authentication key and encryption password. Otherwise, authentication fails.</li><li>To ensure high security, do not use the MD5 algorithm as the SNMPv3 authentication algorithm.</li><li>To ensure high security, do not use the DES-56 or 3DES168 algorithm as the SNMPv3 encryption algorithm.</li></ul>
</div>
<p><strong>Configuration Impact</strong></p>
<p><p>After you run the undo <b><span class="cmdname">snmp-agent group</span></b> command to delete an SNMP user group, information about all SNMP users in the SNMP user group is deleted.<p></p>
<span>You can run the</span> <b><span class="cmdname">snmp-agent usm-user</span></b> command to configure an authentication mode and an encrypted string for users in an SNMP user group only after the authentication and encryption functions are enabled for the SNMP user group.</p>
</p>
<p><strong>Follow-up Procedure</strong></p>
<p><p>After configuring the SNMP user group, run the <b><span class="cmdname">snmp-agent mib-view</span></b> command to create a MIB view and the access control for the view. You can run the <b><span class="cmdname">snmp-agent usm-user</span></b> command to add a user to SNMP user group and configure MIB-view-based access permission for the SNMP user. This is performed to ensure that SNMP users in an SNMP user group have the same security level and access control list.</p>
</p>
<p><strong>Precautions</strong></p>
<div class="p"><p>To enable the device to receive trap or Inform messages specified in &lt;notify-view&gt;, ensure that the following configurations are complete:</p>

<ul><li>A target host that receives SNMP trap messages is specified using the <b><span class="cmdname">snmp-agent target-host</span></b> command.</li><li>A target host that receives SNMP Inform messages is specified using the <b><span class="cmdname">snmp-agent target-host inform</span></b> command.</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000002194449361__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Create an SNMPv3 group named Johngroup and enable a device to authenticate SNMP messages without encrypting them.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>snmp-agent group v3 Johngroup authentication</strong>
</pre>
</div>

<div class="p"># Create an SNMPv3 group named Johngroup and enable a device to authenticate and encrypt SNMP messages.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>snmp-agent group v3 Johngroup privacy</strong>
</pre>
</div>

<div class="p"># Create an SNMPv3 user group named Johngroup, authenticate and encrypt SNMP messages, and set the view to publicView.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>snmp-agent mib-view included publicView 1.3.6.1.2.1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>snmp-agent group v3 Johngroup privacy read-view publicView</strong>
</pre>
</div>

<div class="p"># Create an SNMPv3 user group named Johngroup, authenticate and encrypt SNMP messages, and set the write view to privateView.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>snmp-agent mib-view included privateView 1.3.6.1.4</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>snmp-agent group v3 Johngroup privacy write-view privateView</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_SNMP_Configuration_Commands_title.html">SNMP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/SNMPEXTENDERRCODE(SNMPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SNMPTARGETHOSTINFORM(SNMPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>