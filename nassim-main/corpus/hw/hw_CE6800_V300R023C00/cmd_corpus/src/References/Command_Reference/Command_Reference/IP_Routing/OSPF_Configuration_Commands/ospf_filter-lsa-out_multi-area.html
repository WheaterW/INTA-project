
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ospf filter-lsa-out multi-area">
<meta name="DC.subject" content="ospf filter-lsa-out multi-area">
<meta name="keywords" content="ospf filter-lsa-out multi-area">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_OSPF_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/OSPF-INTF-FILTER-LSA-OUT(OSPFCOMMOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/OSPF-FLUSH-SOURCE-TRACE-BLOCK(OSPFCOMMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_OSPFCOMMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942842493">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ospf filter-lsa-out multi-area</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942842493"></a><a name="EN-US_CLIREF_0000001942842493"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">ospf filter-lsa-out multi-area</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942842493__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">ospf filter-lsa-out multi-area</span></b> command enables an OSPF multi-area adjacency interface to filter the LSAs to be sent.</p>
<p>The <b><span class="cmdname">undo ospf filter-lsa-out multi-area</span></b> command disables an OSPF multi-area adjacency interface from filtering the LSAs to be sent.</p>
</p>
<p>By default, OSPF multi-area adjacency interfaces do not filter the LSAs to be sent.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942842493__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">ospf filter-lsa-out </span></b>{ <strong><span>all</span></strong> | { <strong><span>ase</span></strong> [ <strong><span>acl</span></strong> { <i><span class="varname">ase-acl-num</span></i> | <i><span class="varname">ase-acl-name</span></i> } ] | <strong><span>nssa</span></strong> [ <strong><span>acl</span></strong> { <i><span class="varname">nssa-acl-num</span></i> | <i><span class="varname">nssa-acl-name</span></i> } ] | <strong><span>summary</span></strong> [ <strong><span>acl</span></strong> { <i><span class="varname">sum-acl-num</span></i> | <i><span class="varname">sum-acl-name</span></i> } ] } <sup>*</sup> } <strong><span>multi-area</span></strong> { <i><span class="varname">area-id-integer</span></i> | <i><span class="varname">area-id-ipv4</span></i> }</p>

<p><b><span class="cmdname">undo ospf filter-lsa-out multi-area </span></b>{ <i><span class="varname">area-id-integer</span></i> | <i><span class="varname">area-id-ipv4</span></i> }</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942842493__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>all</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Filters all LSAs except Grace LSAs.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ase</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Filters AS-external LSAs (Type-5 LSAs).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>acl</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the ACL for route filtering.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">ase-acl-num</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the number of a basic ACL.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 2000 to 2999.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">ase-acl-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a named basic ACL.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 64 case-sensitive characters, spaces not supported. The name must start with a letter or digit, and cannot contain only digits.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>nssa</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Filters NSSA LSAs (Type-7 LSAs).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">nssa-acl-num</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the number of a basic ACL.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 2000 to 2999.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">nssa-acl-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a named basic ACL.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 64 case-sensitive characters, spaces not supported. The name must start with a letter or digit, and cannot contain only digits.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>summary</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Filters Network-summary LSAs (Type-3 LSAs).</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">sum-acl-num</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the number of a basic ACL.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 2000 to 2999.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">sum-acl-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a named basic ACL.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 64 case-sensitive characters, spaces not supported. The name must start with a letter or digit, and cannot contain only digits.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">area-id-integer</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the ID of an OSPF area.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a decimal integer ranging from 0 to 4294967295.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">area-id-ipv4</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the ID of an OSPF area.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in the format of an IP address.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942842493__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100GE interface view,</span><span>10GE interface view,</span><span>200GE interface view,</span><span>25GE sub-interface view,</span><span>25GE interface view,</span><span>400GE interface view,</span><span>50GE sub-interface view,</span><span>50GE interface view,</span><span>Eth-Trunk interface view,</span><span>Tunnel interface view,</span><span>VBDIF interface view,</span><span>VLANIF interface view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942842493__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942842493__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>On a network, the capacity of the attached device is small. To prevent the memory usage from exceeding the threshold on the attached device due to reception of a large number of LSAs, you can configure an OSPF interface to filter outgoing LSAs, which prevents unnecessary LSAs from being sent to neighbors. This reduces the size of the LSDB on neighbors.</p>
<p><strong>Prerequisites</strong></p>
<p>The <b><span class="cmdname">ospf enable multi-area</span></b> command has been run.</p>
<p><strong>Configuration Impact</strong></p>
<p>Filtering outgoing LSAs on an OSPF interface can prevent useless LSAs from being sent to neighbors. This reduces the size of the LSDB on neighbors and speeds up network convergence.<p></p>
<span>The following operations will cause the OSPF neighbor</span> relationship of the interface to be automatically re-established:</p>

<ul><li>Delete or configure the <b><span class="cmdname">ospf filter-lsa-out</span></b> command on the interface.</li><li>Delete or configure the <b><span class="cmdname">ospf filter-lsa-out acl</span></b> command on the interface.</li><li>The ACL rule referenced by the <b><span class="cmdname">ospf filter-lsa-out acl</span></b> command is modified.</li></ul>
<p><strong>Precautions</strong></p>
<p>When filtering conditions are configured for a named ACL, only the configurations specified by source and time-range take effect.<p></p>
<span>Grace LSAs are used to inform neighbors of the graceful</span> restart (GR) time, cause, and interface instance ID when a GR starts or ends. The ospf filter-lsa-out multi-area command does not apply to Grace LSAs.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942842493__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure multi-area adjacency interface <span>100GE</span><span>1/0/1</span> to filter all outgoing LSAs except Grace LSAs.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ospf 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospf-1] <strong>area 0</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospf-1-area-0.0.0.0] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospf-1] <strong>area 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospf-1-area-0.0.0.1] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospf-1] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span><span>1/0/1</span></strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ospf enable 1 area 0</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ospf enable multi-area 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>ospf filter-lsa-out all multi-area 1</strong>
</pre>
</div>


</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_OSPF_Configuration_Commands_title.html">OSPF Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/OSPF-INTF-FILTER-LSA-OUT(OSPFCOMMOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/OSPF-FLUSH-SOURCE-TRACE-BLOCK(OSPFCOMMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>