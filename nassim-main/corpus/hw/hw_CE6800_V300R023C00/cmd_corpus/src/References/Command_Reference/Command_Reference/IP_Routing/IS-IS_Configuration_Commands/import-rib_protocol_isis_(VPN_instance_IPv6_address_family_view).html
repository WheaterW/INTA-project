
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="import-rib protocol isis (VPN instance IPv6 address family view)">
<meta name="DC.subject" content="import-rib protocol isis (VPN instance IPv6 address family view)">
<meta name="keywords" content="import-rib protocol isis (VPN instance IPv6 address family view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IS-IS_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/VRF-IMPORT-ROUTE(ISISCOMMOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/PUBLIC-IMPORT-ROUTE(ISISCOMMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IS-IS">
<meta name="featurename" content="IS-ISv6">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="IS-IS">
<meta name="featurename" content="IS-ISv6">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="IS-IS">
<meta name="featurename" content="IS-ISv6">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_ISISCOMMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907765604">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>import-rib protocol isis (VPN instance IPv6 address family view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907765604"></a><a name="EN-US_CLIREF_0000001907765604"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">import-rib protocol isis (VPN instance IPv6 address family view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907765604__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">import-rib protocol isis</span></b> command imports public network or other VPN instance routes to a VPN instance routing table.</p>
<p>The <b><span class="cmdname">undo import-rib protocol isis</span></b> command restores the default configuration.</p>
</p>
<p>By default, public network or other VPN instance routes are not imported to VPN instance routing tables.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907765604__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">

<p><b><span class="cmdname">import-rib </span></b>{ <strong><span>public</span></strong> | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> } <strong><span>protocol</span></strong> <strong><span>isis</span></strong> <i><span class="varname">process-id</span></i> [ <strong><span>valid-route</span></strong> ] [ <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> ]</p>


<p><b><span class="cmdname">undo import-rib </span></b>{ <strong><span>public</span></strong> | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> } <strong><span>protocol</span></strong> <strong><span>isis</span></strong> <i><span class="varname">process-id</span></i> [ <strong><span>valid-route</span></strong> ] [ <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907765604__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>public</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates the public network instance.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a VPN instance.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 31 case-sensitive characters, spaces not supported. In addition, the VPN instance name must not be _public_. When double quotation marks are used around the string, spaces are allowed in the string.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>protocol</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a protocol type of route to be imported to a VPN instance routing table.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>isis</span></strong> <i><span class="varname">process-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Imports IS-IS routes of the specified process.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 4294967295.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>valid-route</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Imports valid routes of the corresponding route type.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a route-policy to filter routes to be imported.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The name is a string of 1 to 200 case-sensitive characters, with spaces not supported. When double quotation marks are used around the string, spaces are allowed in the string.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907765604__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>VPN instance IPv6 address family view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907765604__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907765604__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>In VPN networking, users in a VPN instance can communicate with users in another VPN instance only if the two VPN instances have matching VPN targets, but cannot communicate with public network users. To enable a VPN to communicate with the public network, you have to ensure that the VPN and public network users can obtain routes to each other. To import public network routes to a VPN instance, run the <b><span class="cmdname">import-rib public</span></b> command.<p></p>
<span>In VPN networking</span>, users of a VPN instance can communicate with users of another VPN instance only if the two VPN instances have matching VPN targets. To enable users in different VPN instances to communicate with each other, ensure that users in different VPN instances can obtain routes from each other. To import routes from another VPN instance to a specified VPN instance, run the <b><span class="cmdname">import-rib vpn-instance</span></b> command.<p></p>
<span>In an intelligent traffic control scenario</span>, traffic of different users are distributed to different VPNs. To enable tenant traffic to flow to the public network, run the <b><span class="cmdname">import-rib protocol isis</span></b> command to import public network routes to the VPN instance.<p></p>
<span>When VLAN tag termination sub-interfaces are used</span> to import routes between VPN and public network instances, traffic forwarding depends on direct routes (Vlink direct routes) generated based on user entries. However, the direct routes imported between VPN and public network instances do not contain Vlink direct routes. As a result, traffic fails to be forwarded. To solve this problem, route import between VPN and public network instances newly supports import of Vlink direct routes.</p>
<p><strong>Configuration Impact</strong></p>
<p>Exercise caution when importing public network routes or routes of other VPN instances to a specified VPN instance to prevent loops caused by manual configurations.<p></p>
<span>After a policy for importing routes is configured</span> using the route-policy parameter in the command, only the network segment routes that meet the policy can be imported to the specified VPN instance. This prevents the device from passively importing unnecessary routes. If no policy is specified for importing routes, a large number of unexpected routes may be imported. As a result, the number of routes exceeds the upper limit or the memory is overloaded.</p>
<p><strong>Precautions</strong></p>
<p>If you run the <b><span class="cmdname">import-rib protocol isis</span></b> command without specifying valid-route, the system imports all routes of a specified type from the public network instance to the corresponding VPN instance's routing table. If these routes are preferentially selected, they are advertised to other devices in the VPN instance and delivered to the private IPv4 routing table to guide traffic forwarding.<p></p>
<span>If the valid-route parameter is specified</span>, the system imports valid routes of the specified type from the public network to the VPN routing table of the corresponding type. If these routes are preferentially selected, they are advertised to other devices on the VPN and delivered to the private IPv4 routing table to guide traffic forwarding.<p></p>
<span>When configuring route-policy route-policy-name</span>, you can run this command to match the outbound interface, route cost, route type, route tag, ACL list of the next hop address of IPv6 routes, prefix list of the next hop address of IPv6 routes, routing protocol type, and route priority. You can set the route cost, route tag, and route priority.<p></p>
<span>If the referenced policy contains unsupported attribute</span> matching or setting behavior, unexpected results may occur.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907765604__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure the device to import public network IS-IS routes to the VPN instance vrf1.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ip vpn-instance vrf1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-vrf1] <strong>ipv6-family</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-vpn-instance-vrf1] <strong>import-rib public protocol isis 1 valid-route</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_IS-IS_Configuration_Commands_title.html">IS-IS Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/VRF-IMPORT-ROUTE(ISISCOMMOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/PUBLIC-IMPORT-ROUTE(ISISCOMMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>