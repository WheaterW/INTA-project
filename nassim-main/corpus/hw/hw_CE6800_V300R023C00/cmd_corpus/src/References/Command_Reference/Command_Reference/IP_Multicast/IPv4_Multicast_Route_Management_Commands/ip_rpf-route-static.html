
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ip rpf-route-static">
<meta name="DC.subject" content="ip rpf-route-static">
<meta name="keywords" content="ip rpf-route-static">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IPv4_Multicast_Route_Management_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DISPLAY-MULTI-IPV4-ROUTE-TABLE_2(PIMOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/MCAST-BOUNDARY(MRMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IPv4 Multicast Route Management">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="IPv4 Multicast Route Management">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IPv4 Multicast Route Management">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Creator" content="SUBSYS_ID_STATICRTOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907606176">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ip rpf-route-static</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907606176"></a><a name="EN-US_CLIREF_0000001907606176"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">ip rpf-route-static</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907606176__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">ip rpf-route-static</span></b> command configures a multicast static route.</p>
<p>The <b><span class="cmdname">undo ip rpf-route-static</span></b> command deletes a multicast static route.</p>
</p>
<p>By default, no multicast static route is configured.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907606176__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">ip rpf-route-static </span></b>[ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] <i><span class="varname">source-address</span></i> { <i><span class="varname">mask</span></i> | <i><span class="varname">mask-length</span></i> } { <i><span class="varname">rpf-nbr</span></i> | { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> } } [ <strong><span>preference</span></strong> <i><span class="varname">preValue</span></i> ]</p>

<p><b><span class="cmdname">undo ip rpf-route-static </span></b>[ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] <i><span class="varname">source-address</span></i> { <i><span class="varname">mask</span></i> | <i><span class="varname">mask-length</span></i> } [ <i><span class="varname">rpf-nbr</span></i> | { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> } ]</p>

<p><b><span class="cmdname">undo ip rpf-route-static all</span></b></p>

<p><b><span class="cmdname">undo ip rpf-route-static vpn-instance </span></b><i><span class="varname">vpn-instance-name</span></i> <strong><span>all</span></strong></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907606176__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a VPN instance.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of case-sensitive characters. By default, the instance is a public network instance.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">source-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the address of the multicast source.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The address is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">mask</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the address mask of the multicast source.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The address is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">mask-length</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the mask length of the multicast source address.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 0 to 32.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">rpf-nbr</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the IP address of the Reverse Path Forwarding (RPF) neighbor.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The address is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interface-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of the outbound interface of a static route.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 63 case-sensitive characters. It cannot contain spaces.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interface-type</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the type of an interface.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interface-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the number of an interface.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>preference</span></strong> <i><span class="varname">preValue</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the preference of routes. The greater the value is, the lower the preference is.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 1 to 255. The default value is 1.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>all</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates all multicast static routes in the multicast static routing table.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907606176__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907606176__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907606176__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>Multicast static routes are an important basis of the RPF check. By configuring multicast static routes, you can specify an RPF interface and an RPF neighbor for the specific source of packets on the current Device.<p></p>
<span>Multicast static routes provide the following functions</span>, depending on specific applicable environments:</p>

<ul><li>Changing RPF routes<p></p>
<span>If the topology of multicast is the same as that of</span> unicast, the transmission path of multicast data is the same as that of unicast data. You can configure multicast static routes to change the RPF routes. Thus, a transmission path dedicated for the multicast data is established, which is different from the transmission path of unicast data.</li><li>Connecting RPF routes<p></p>
<span>On the network segment where unicast routes are blocked</span>, when multicast static routes are not configured, packets cannot be forwarded because there is no RPF route. In such a case, you can configure multicast static routes. Therefore, the system can generate RPF routes, complete the RPF check, create routing entries, and guide the forwarding of packets.</li></ul>
<p><strong>Precautions</strong></p>
<p><p>When configuring a multicast static route, you can configure the next hop interface in the command if the next hop interface is a point-to-point interface. If the next hop interface is not a point-to-point interface, the next hop address must be used.<p></p>
<span>After the ip rpf-route-static command is run</span>, the multicast static route may not take effect because the outbound interface may fail to be recursed or the specified interface may go Down. Therefore, after this configuration, you are advised to run the <b><span class="cmdname">display ip routing-table table-name msr</span></b> command to check whether the route is successfully configured or takes effect.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907606176__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure multicast static routes.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ip rpf-route-static 10.0.0.0 255.0.0.0 10.0.0.10</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_IPv4_Multicast_Route_Management_Commands_title.html">IPv4 Multicast Route Management Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DISPLAY-MULTI-IPV4-ROUTE-TABLE_2(PIMOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/MCAST-BOUNDARY(MRMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>