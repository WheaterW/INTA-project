
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="eth-trunk mode (dynamic load balancing profile view)">
<meta name="DC.subject" content="eth-trunk mode (dynamic load balancing profile view)">
<meta name="keywords" content="eth-trunk mode (dynamic load balancing profile view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Eth-Trunk_Interface_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/ETH-TRUNK(LOAD-BALANCE-PROFILE).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IP(LOAD-BALANCE-PROFILE).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Creator" content="SUBSYS_ID_FWM_TRUNK">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907761704">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>eth-trunk mode (dynamic load balancing profile view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907761704"></a><a name="EN-US_CLIREF_0000001907761704"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">eth-trunk mode (dynamic load balancing profile view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907761704__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">eth-trunk mode</span></b> command configures the dynamic load balancing mode for a LAG.</p>
<p>The <b><span class="cmdname">undo eth-trunk mode</span></b> command restores the default dynamic load balancing mode for a LAG.</p>
</p>
<p>By default, a LAG uses the eligible dynamic load balancing mode, in which the flowlet interval is 1000.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907761704__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">eth-trunk mode </span></b>{ <strong><span>spray</span></strong> | <strong><span>fixed</span></strong> | <strong><span>eligible</span></strong> [ <strong><span>flowlet-gap-time</span></strong> <i><span class="varname">gap-time</span></i> ] }</p>

<p><b><span class="cmdname">undo eth-trunk mode </span></b>[ <strong><span>spray</span></strong> | <strong><span>fixed</span></strong> | <strong><span>eligible</span></strong> [ <strong><span>flowlet-gap-time</span></strong> <i><span class="varname">gap-time</span></i> ] ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907761704__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>spray</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the spray dynamic load balancing mode for a LAG.</p>
<p>In spray dynamic load balancing mode, a device selects a member link with the lightest load to forward data packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>fixed</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the fixed dynamic load balancing mode for a LAG.</p>
<p>In fixed dynamic load balancing mode, a device forwards a data packet through the link for forwarding the previous data packet. The time interval is 2 seconds. If the data packet to be forwarded is the first packet in a flow, the device forwards it through one of the member links in static load balancing mode based on the hash result.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>eligible</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the eligible dynamic load balancing mode for a LAG.</p>
<p>In eligible dynamic load balancing mode, based on the flowlet, a device selects a member link with the lightest load to forward the data packet. Data packets in the same flowlet are forwarded through the same link.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>flowlet-gap-time</span></strong> <i><span class="varname">gap-time</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the flowlet interval. A device splits a flow into flowlets based on this parameter.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 16 to 32000. The unit is 1024 nanoseconds.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907761704__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>Dynamic load balancing profile view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907761704__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907761704__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>You can change the dynamic load balancing mode for a LAG based on the network traffic to provide maximum load balancing between member links. The eligible dynamic load balancing mode is recommended.</p>
<p><strong>Precautions</strong></p>
<ul><li>If you run the eth-trunk mode command multiple times, only the latest configuration takes effect.- Load balancing is valid only for outgoing traffic; therefore, the load balancing modes for the interfaces at both ends of a link can be different and do not affect each other.- The value of flowlet-gap-time must be greater than or equal to the maximum transmission delay on links that are load balanced.- In the spray dynamic load balancing mode, if the interval between two neighboring data packets in the same flow is less than the maximum transmission delay on links that are load balanced and the data packets are forwarded through different links, packet mis-sequencing may occur when the two packets arrive at the receive end. Therefore, the spray dynamic load balancing mode is applicable only to scenarios where packet mis-sequencing is allowed.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907761704__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable the fixed dynamic load balancing mode for a LAG in the dynamic load balancing profile test.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>load-balance profile dynamic test</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-load-balance-profile-dynamic-test] <strong>eth-trunk mode fixed</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Eth-Trunk_Interface_Configuration_Commands_title.html">Eth-Trunk Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/ETH-TRUNK(LOAD-BALANCE-PROFILE).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/IP(LOAD-BALANCE-PROFILE).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>