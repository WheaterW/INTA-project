
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="set memory threshold">
<meta name="DC.subject" content="set memory threshold">
<meta name="keywords" content="set memory threshold">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Device_Management_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/FLOWCTRLRSTSWITCHSET(DEBUGOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SET_SYSTEM_FORWARDING-ENGINE_ALARM-FIRST.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Hardware Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Hardware Management">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="Hardware Management">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Creator" content="SUBSYS_ID_SYSDIAG">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000002159122464">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>set memory threshold</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000002159122464"></a><a name="EN-US_CLIREF_0000002159122464"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">set memory threshold</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000002159122464__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">set memory threshold</span></b> command sets the board memory overload threshold and recovery threshold.</p>
<p>The <b><span class="cmdname">undo set memory threshold</span></b> command resets the board-level memory overload threshold and recovery threshold.</p>
</p>
<div class="p"><p>
By default:
</p>
<ul><li>
For a device whose total physical memory is greater than 4 GB, the memory usage alarm threshold is 95% and the alarm clearance threshold is 75%.
</li><li>
For a device whose total physical memory is less than or equal to 4 GB, the memory usage alarm threshold is 92% and the alarm clearance threshold is 75%.
</li></ul>
</div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000002159122464__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">set memory threshold </span></b><i><span class="varname">thresholdValue</span></i> [ <strong><span>restore</span></strong> <i><span class="varname">restoreValue</span></i> ] [ <strong><span>slot</span></strong> <i><span class="varname">slotId</span></i> [ <strong><span>cpu</span></strong> <i><span class="varname">cpuid</span></i> ] ]</p>

<p><b><span class="cmdname">undo set memory threshold </span></b>[ <strong><span>slot</span></strong> <i><span class="varname">slotId</span></i> [ <strong><span>cpu</span></strong> <i><span class="varname">cpuid</span></i> ] ]</p>

<p><b><span class="cmdname">undo set memory threshold </span></b><i><span class="varname">thresholdValue</span></i> <strong><span>restore</span></strong> <i><span class="varname">restoreValue</span></i> <strong><span>slot</span></strong> <i><span class="varname">slotId</span></i> <strong><span>cpu</span></strong> <i><span class="varname">cpuid</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000002159122464__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">thresholdValue</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specify the memory overload threshold.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><div class="p"><p>The value is an integer ranging from 50 to 100.</p>
<ul><li>For a device whose total physical memory is greater than 4 GB, the default value is 95.</li><li>For a device whose total physical memory is less than or equal to 4 GB, the default value is 92.</li></ul>
<p>To check the total physical memory size, run the display memory command in any view and check the Total Physical Available Memory field.</p>
</div>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>restore</span></strong> <i><span class="varname">restoreValue</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the memory restore overload threshold.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to threshold-value - 3. The default value is 75.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>slot</span></strong> <i><span class="varname">slotId</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an available slot ID.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 49 case-sensitive characters. It cannot contain spaces.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cpu</span></strong> <i><span class="varname">cpuid</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an available CPU ID.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 49 case-sensitive characters. It cannot contain spaces.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000002159122464__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000002159122464__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000002159122464__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>You can use the <b><span class="cmdname">set memory threshold</span></b> command to set the memory usage threshold. When memory usage exceeds the alarm threshold, the system logs the event and generates an alarm. By viewing log information, you can learn about memory usage. When memory usage falls within the recovery threshold, the system generates a clear alarm.</p>
<p><strong>Configuration Impact</strong></p>
<p>When the memory usage reaches the monitoring alarm threshold, the system will trigger monitoring alarms and logs.</p>
<p><strong>Precautions</strong></p>
<p>The default values are recommended for monitoring the alarm threshold and the restore threshold. Otherwise, if the setting is too low, the system will frequently report alarms and logs; if the setting is too high, the user will not be able to know the usage of the memory usage in time. The configuration item value supports product capability set customization, and the default value is not displayed in the device prompt information.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000002159122464__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the memory usage alarm threshold to 90% and the alarm clearance threshold to 70%.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>set memory threshold 90 restore 70</strong>
</pre>
</div>

<div class="p"># Set the memory usage threshold of the specified board to 80%.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>set memory threshold 80 slot <span>1</span> cpu 0</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Device_Management_Commands_title.html">Hardware Management Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/FLOWCTRLRSTSWITCHSET(DEBUGOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SET_SYSTEM_FORWARDING-ENGINE_ALARM-FIRST.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>