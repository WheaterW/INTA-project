
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="detect-multiplier">
<meta name="DC.subject" content="detect-multiplier">
<meta name="keywords" content="detect-multiplier">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_BFD_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DESCRIPTION(BFDOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DISCRIMINATOR(BFDOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="BFD">
<meta name="featuretype" content="High Availability">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="BFD">
<meta name="featuretype" content="High Availability">
<meta name="featurename" content="BFD">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="DC.Creator" content="SUBSYS_ID_BFDOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942846517">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>detect-multiplier</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942846517"></a><a name="EN-US_CLIREF_0000001942846517"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">detect-multiplier</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942846517__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">detect-multiplier</span></b> command sets the local detection multiplier of a BFD session.</p>
<p>The <b><span class="cmdname">undo detect-multiplier</span></b> command restores the default value.</p>
</p>
<p>The default local detection multiplier of a BFD session is 3.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942846517__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">detect-multiplier </span></b><i><span class="varname">multiplier</span></i></p>

<p><b><span class="cmdname">undo detect-multiplier </span></b>[ <i><span class="varname">multiplier</span></i> ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942846517__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">multiplier</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<div class="p"><p>Specifies the local detection multiplier of a BFD session.</p>
<ul><li>For a stable link, you can set a large detection multiplier to prevent frequent link detections.</li><li>For an unstable link, a small detection multiplier may cause the BFD session to flap. Therefore, it is recommended that you set the detection multiplier to a large value.</li></ul>
</div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 3 to 50.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942846517__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>BFD session view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942846517__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942846517__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>You can increase or decrease the local detection multiplier of a BFD session according to the networking environment.<p></p>
<span>If no BFD packets are received within a detection</span> period, the link that a BFD session detects is regarded as failed, and the BFD session status is set to Down. To reduce the usage of system resources, when detecting that the BFD session is Down, the system adjusts the interval between receiving BFD packets to a random value larger than 1000, in ms. After the BFD session becomes Up, the configured interval is restored.<p></p>
<span>The local detection multiplier of a BFD session determines</span> the detection period on the remote end of the BFD session.<p></p>
<span>Asynchronous mode</span>: Detection period = Received Detect Mult of the remote system x Max (Local RMRI, Received DMTI)<p></p>
<span>where</span></p>

<ul><li>Desired Min Tx Interval (DMTI): indicates the desired minimum interval between sending BFD packets on the local end.</li><li>Required Min Rx Interval (RMRI): indicates the supported minimum interval between receiving BFD packet on the local end.</li><li>Detect Mult: indicates the detection multiplier.</li></ul>
<p><strong>Prerequisites</strong></p>
<p>A BFD session has been created.</p>
<p><strong>Configuration Impact</strong></p>
<p>If BFD is applied to other protocols, setting a large BFD detection multiplier causes BFD to detect a link in a long period. If a fault is detected on the link, traffic can be switched to a standby link only after the detection period expires. In this period, packets may be dropped. Therefore, exercise caution when running the detect-multiplier command.</p>
<p><strong>Precautions</strong></p>
<p>You can configure different detection multipliers on both ends of a BFD session as required. During the establishment of a BFD session, the detection multipliers do not need to be negotiated.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942846517__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the local detection multiplier of the BFD session named session to 10.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>bfd</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bfd] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>bfd session1 bind peer-ip 10.10.20.2</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bfd-session-session1] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>bfd session1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bfd-session-session1] <strong>detect-multiplier 10</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_BFD_Configuration_Commands_title.html">BFD Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DESCRIPTION(BFDOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/DISCRIMINATOR(BFDOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>