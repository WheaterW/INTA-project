
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="abr-summary">
<meta name="DC.subject" content="abr-summary">
<meta name="keywords" content="abr-summary">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_OSPF_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/OSPF-LINK-ATTRIBUTES-DISABLE(OSPFCOMMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Creator" content="SUBSYS_ID_OSPFCOMMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907763120">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>abr-summary</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907763120"></a><a name="EN-US_CLIREF_0000001907763120"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">abr-summary</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907763120__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">abr-summary</span></b> command configures route summarization on an area border router (ABR).</p>
<p>The <b><span class="cmdname">undo abr-summary</span></b> command disables route summarization from an ABR.</p>
</p>
<p>By default, route summarization is not configured on ABRs.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907763120__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">

<p><b><span class="cmdname">abr-summary </span></b><i><span class="varname">ip-address</span></i> <i><span class="varname">mask</span></i> [ [ <strong><span>advertise</span></strong> | [ <strong><span>cost</span></strong> { <i><span class="varname">cost-value</span></i> | <strong><span>inherit-minimum</span></strong> } ] | [ <strong><span>generate-null0-route</span></strong> ] ] <sup>*</sup> | [ <strong><span>not-advertise</span></strong> | [ <strong><span>cost</span></strong> { <i><span class="varname">cost-value</span></i> | <strong><span>inherit-minimum</span></strong> } ] ] <sup>*</sup> | [ <strong><span>generate-null0-route</span></strong> | [ <strong><span>advertise</span></strong> ] | [ <strong><span>cost</span></strong> { <i><span class="varname">cost-value</span></i> | <strong><span>inherit-minimum</span></strong> } ] ] <sup>*</sup> ]</p>


<p><b><span class="cmdname">undo abr-summary </span></b><i><span class="varname">ip-address</span></i> <i><span class="varname">mask</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907763120__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">ip-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the IP address of a summary route.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">mask</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the IP address mask of the summary route.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>advertise</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Advertises the summary route.</p>
<p>By default, the summary route is advertised.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>cost</span></strong> <i><span class="varname">cost-value</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the cost of the summary route.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is an integer ranging from 0 to 16777214.</p>
<p>By default, the largest cost of the specific routes for summarization is used as the cost of the summary route.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>inherit-minimum</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that the smallest cost of the specific routes for summarization is used as the cost of the summary route.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>generate-null0-route</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Generates a blackhole route to prevent routing loops. After this parameter is specified, if the local device has advertised the summary LSA, the device ignores the routes within the same prefix mask range advertised by other devices.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>not-advertise</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Prevents the summary route from being advertised.</p>
<p>By default, the summary route is advertised.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907763120__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>OSPF area view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907763120__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907763120__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>When a large-scale OSPF network is deployed, the route search speed may be slowed down because the size of the OSPF routing table is too large. To solve this problem, you can configure route summarization to reduce the size of the routing table and simplify management.<p></p>
<span>Route summarization allows multiple routes with the</span> same IP prefix to be summarized into one route. If a link within the summary IP address range frequently alternates between Up and Down, the change is not advertised to the devices beyond the summary IP address range. This prevents route flapping on the network and improves network stability. The <b><span class="cmdname">abr-summary</span></b> command configures route summarization on an ABR. When sending routing information to other areas, an ABR generates Type-3 LSA (Link Status Advertisement) based on network segments and ignores Type 3 LSAs received from other areas. If consecutive network segments (routes with the same prefix) exist in an area, you can run the <b><span class="cmdname">abr-summary</span></b> command to summarize these network segments into one network segment. The ABR then sends only one summary LSA. LSAs of the specified summary network segment are not sent separately. In this manner, the size of the routing table is reduced and the performance of the device is improved.</p>
<p><strong>Prerequisites</strong></p>
<p>The segments that need to be summarized have been specified using the <b><span class="cmdname">network</span></b> command.</p>
<p><strong>Precautions</strong></p>
<div class="p"><ul><li>This command applies only to ABRs and is used to summarize routes in an area. Using the <b><span class="cmdname">asbr-summary</span></b> command, you can configure an AS boundary router (ASBR) to summarize the routes imported by OSPF.</li><li>In the same process, ABRs in different areas cannot be configured with abr-summary summarized routes with the same prefix mask.</li><li>The cost inherit-minimum parameter can be configured only for VPN OSPF processes.</li><li>Route summarization takes effect only when the routes in an area are within the summary network segment configured on the device. If <strong>generate-null0-route</strong> is specified when route summarization takes effect, a blackhole route is generated. The blackhole route has a higher priority than the Type 5 and Type 7 LSAs received from other devices.</li><li>When the summarized routes change, the cost of the summary LSA may change, triggering route update. In specific scenarios, routing microloops may be triggered, causing temporary service interruptions. To prevent this problem, specify a fixed cost value when configuring summarization.</li><li>After routes are summarized:</li><li>If the local device is a non-PE, the local device summarizes all intra-area routes within the summary address range configured using the command. The cost of the LSA generated after summarization is the largest cost of the summarized routes.</li><li>If the local device is a PE and the command is configured in the backbone area:</li><li>If the function of importing BGP routes is configured and the cost value is set to inherit the minimum value (inherit-minimum), all Type 3 LSAs within the summary address range generated by importing BGP routes are summarized, and the cost value of the LSA generated for the backbone area is the smallest cost value of the summarized routes.</li><li>If BGP route import is configured and inherit-minimum is not specified, all Type 3 LSAs within the summary address range generated when BGP routes are imported are summarized, and the maximum cost of the summarized routes is used as the cost of the LSA generated for the backbone area,</li><li>If intra-area routes within the summary address range exist in the backbone area, the maximum cost of all summarized routes is used as the cost of LSAs generated for areas outside the backbone area.</li><li>If a cost value is specified, the cost value of the LSA generated after summarization is the configured value.</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907763120__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># In OSPF area 1, summarize routes in the network segments (10.42.10.0/24 and 10.42.110.0/24) into one 10.42.0.0/16, and advertise the summary route to other areas.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ospf 100</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospf-100] <strong>area 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospf-100-area-0.0.0.1] <strong>network 10.42.10.0 0.0.0.255</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospf-100-area-0.0.0.1] <strong>network 10.42.110.0 0.0.0.255</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ospf-100-area-0.0.0.1] <strong>abr-summary 10.42.0.0 255.255.0.0</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_OSPF_Configuration_Commands_title.html">OSPF Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/OSPF-LINK-ATTRIBUTES-DISABLE(OSPFCOMMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>