
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="trace object">
<meta name="DC.subject" content="trace object">
<meta name="keywords" content="trace object">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-Service_Diagnosis_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/TRACE_ENABLE.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/TRACE_SYSLOG_SOURCE.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Service Diagnosis">
<meta name="featuretype" content="System Monitoring">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Service Diagnosis">
<meta name="featuretype" content="System Monitoring">
<meta name="featurename" content="Service Diagnosis">
<meta name="featuretype" content="System Monitoring">
<meta name="featuretype" content="System Monitoring">
<meta name="featuretype" content="System Monitoring">
<meta name="DC.Creator" content="SUBSYS_ID_ESAP_AAA">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907608936">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>trace object</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907608936"></a><a name="EN-US_CLIREF_0000001907608936"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">trace object</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907608936__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">trace object</span></b> command creates a diagnosis object.</p>
<p>The <b><span class="cmdname">undo trace object</span></b> command deletes a diagnosis object.</p>
</p>
<p>By default, no diagnosis object is created. If you do not specify the direction at which information is exported, the default direction is the CLI.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907608936__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">




<p>For CE8851-32CQ8DQ-P, CE8850-HAM, CE8850-SAN, CE8851K, CE8855, CE8851-32CQ4BQ, CE6860-SAN, CE6866, CE6860-HAM, CE6866K, CE6820H, CE6820H-K, CE6820S, CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6855-48XS8CQ, CE6885-LL (low latency mode), CE6885, CE6885-T, CE6885-LL (standard forwarding mode), CE6863E-48S8CQ, CE6885-SAN: </p>

<p><b><span class="cmdname">trace object </span></b>{ <strong><span>mac-address</span></strong> <i><span class="varname">mac-address</span></i> | <strong><span>ip-address</span></strong> <i><span class="varname">ip-address</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] } <sup>*</sup> [ <strong><span>output</span></strong> { <strong><span>command-line</span></strong> | <strong><span>file</span></strong> <i><span class="varname">file-name</span></i> | <strong><span>syslog-server</span></strong> <i><span class="varname">syslog-server-ip</span></i> } ]</p>

<p><b><span class="cmdname">undo trace object </span></b>{ <strong><span>mac-address</span></strong> <i><span class="varname">mac-address</span></i> | <strong><span>ip-address</span></strong> <i><span class="varname">ip-address</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] } <sup>*</sup> [ <strong><span>output</span></strong> { <strong><span>command-line</span></strong> | <strong><span>file</span></strong> [ <i><span class="varname">file-name</span></i> ] | <strong><span>syslog-server</span></strong> [ <i><span class="varname">syslog-server-ip</span></i> ] } ]</p>

<p><b><span class="cmdname">undo trace object </span></b>{ <i><span class="varname">service-object-id</span></i> | <strong><span>all</span></strong> }</p>

<p>For CE6820H, CE6820H-K, CE6820S, CE6863H, CE6863H-K, CE6881H, CE6881H-K: </p>

<p><b><span class="cmdname">trace object </span></b>{ <strong><span>mac-address</span></strong> <i><span class="varname">mac-address</span></i> | <strong><span>ip-address</span></strong> <i><span class="varname">ip-address</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] | <strong><span>interface</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> } | <strong><span>user-vlan</span></strong> <i><span class="varname">user-vlan-id</span></i> | <strong><span>user-name</span></strong> <i><span class="varname">username</span></i> } <sup>*</sup> [ <strong><span>output</span></strong> { <strong><span>command-line</span></strong> | <strong><span>file</span></strong> <i><span class="varname">file-name</span></i> | <strong><span>syslog-server</span></strong> <i><span class="varname">syslog-server-ip</span></i> } ]</p>

<p><b><span class="cmdname">undo trace object </span></b>{ <strong><span>mac-address</span></strong> <i><span class="varname">mac-address</span></i> | <strong><span>ip-address</span></strong> <i><span class="varname">ip-address</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] | <strong><span>interface</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> } | <strong><span>user-vlan</span></strong> <i><span class="varname">user-vlan-id</span></i> | <strong><span>user-name</span></strong> <i><span class="varname">username</span></i> } <sup>*</sup> [ <strong><span>output</span></strong> { <strong><span>command-line</span></strong> | <strong><span>file</span></strong> [ <i><span class="varname">file-name</span></i> ] | <strong><span>syslog-server</span></strong> [ <i><span class="varname">syslog-server-ip</span></i> ] } ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907608936__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>mac-address</span></strong> <i><span class="varname">mac-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Creates a diagnosis object based on the MAC address.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in the format of H-H-H, in which each H is a hexadecimal number of 1 to 4 digits, such as 00e0 and fc01. If an H contains fewer than 4 digits, the left-most digits are padded with zeros. For example, e0 is displayed as 00e0. The MAC address cannot be set to FFFF-FFFF-FFFF.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ip-address</span></strong> <i><span class="varname">ip-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Creates a diagnosis object based on an IP address.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a VPN instance name.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 31 case-sensitive characters. It cannot contain spaces.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>interface</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Creates a diagnosis object by interface.</p>
</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>This parameter is supported only on the CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6820H, CE6820H-K and CE6820S.</p>
</div></div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interface-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of an interface.</p>
</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>This parameter is supported only on the CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6820H, CE6820H-K and CE6820S.</p>
</div></div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interface-type</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the type of an interface.</p>
</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>This parameter is supported only on the CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6820H, CE6820H-K and CE6820S.</p>
</div></div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interface-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies an interface number.</p>
</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>This parameter is supported only on the CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6820H, CE6820H-K and CE6820S.</p>
</div></div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>user-vlan</span></strong> <i><span class="varname">user-vlan-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Creates a diagnosis object based on a user VLAN.</p>
</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>This parameter is supported only on the CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6820H, CE6820H-K and CE6820S.</p>
</div></div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer in the range from 1 to 4094.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>user-name</span></strong> <i><span class="varname">username</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Creates a diagnosis object by user name.</p>
</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>This parameter is supported only on the CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6820H, CE6820H-K and CE6820S.</p>
</div></div>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 253 case-insensitive characters, spaces not supported.</p>
</td>
</tr>




<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>output</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the direction in which diagnostic information is exported.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>command-line</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Exports diagnostic information to the CLI.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>file</span></strong> <i><span class="varname">file-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Exports diagnostic information to a specified file.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>file-name specifies the file name. The value is a string of 1 to 255 case-insensitive characters without spaces.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>syslog-server</span></strong> <i><span class="varname">syslog-server-ip</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Exports diagnosis information to a log server.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>



<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">service-object-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Deletes a diagnosis object with a specified ID.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that ranges from 0 to 3.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>all</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Deletes all diagnosis objects.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907608936__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907608936__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907608936__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><p>When locating faults during user access, maintenance personnel can create diagnosis objects to diagnose services and locate user access faults.<p></p>
<span>You can create diagnosis objects based on user attributes</span>, which vary according to services.</p>

<ul><li>DHCP service: Create a diagnosis object based on the MAC address.</li></ul>
</div>
<p><strong>Prerequisites</strong></p>
<p>The service diagnosis function has been enabled using the <b><span class="cmdname">trace enable</span></b> command.</p>
<p><strong>Precautions</strong></p>
<p>Diagnosis objects can be created based on MAC addresses or IP addresses. Generally, various service processes can be diagnosed. If diagnosis objects are created based on other parameters, service diagnosis cannot be performed because other parameters cannot be obtained in service processes. You are advised to create a diagnosis object based on the MAC address or IP address.<p></p>
<span>When different output modes are configured</span>, they do not overwrite each other and take effect at the same time. To configure the terminal display function, run the terminal monitor and terminal debugging commands in the user view.<p></p>
<span>The maximum size of the file to which diagnostic information</span> is exported is 1 MB. When the file size reaches 1 MB, new diagnostic information will not be recorded.<p></p>
<span>You can run the</span> <b><span class="cmdname">undo trace object</span></b> command to delete a diagnosis object in any of the following ways:</p>

<p>To delete a diagnosis object based on service diagnosis attributes, run the <b><span class="cmdname">undo trace object</span></b> command. For example, two diagnosis objects have been configured on the device, such as diagnosis object 1 (10.10.10.1) and diagnosis object 2 (10.10.10.1+00e0-fc12-3456). If maintenance personnel want to delete diagnosis objects by IP address, run the undo trace object ip-address 10.10.10.1 command to delete diagnosis objects 1 and 2.<p></p>
<span>To delete a diagnosis object based on the diagnosis</span> object ID, run the <b><span class="cmdname">undo trace object service-object-id</span></b> command. You can run the <b><span class="cmdname">display trace object</span></b> command to view the diagnosis object ID.<p></p>
<span>To delete all diagnosis objects</span>, run the <b><span class="cmdname">undo trace object all</span></b> command.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907608936__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Create a diagnosis object on the interface with the MAC address of 00e0-fc12-3456.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>trace object mac-address 00e0-fc12-3456</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-Service_Diagnosis_Configuration_Commands_title.html">Service Diagnosis Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/TRACE_ENABLE.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/TRACE_SYSLOG_SOURCE.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>