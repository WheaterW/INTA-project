
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="ftp server source">
<meta name="DC.subject" content="ftp server source">
<meta name="keywords" content="ftp server source">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Accessing_Another_Device_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/FTP-LISTENPORT(FTPS).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/FTP-TIMEOUT(FTPS).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="CLI-based Device Login">
<meta name="featurename" content="Console">
<meta name="featurename" content="Telnet">
<meta name="featurename" content="Stelnet">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="CLI-based Device Login">
<meta name="featurename" content="Console">
<meta name="featurename" content="Telnet">
<meta name="featurename" content="Stelnet">
<meta name="featuretype" content="Basic Configuration">
<meta name="featurename" content="CLI-based Device Login">
<meta name="featurename" content="Console">
<meta name="featurename" content="Telnet">
<meta name="featurename" content="Stelnet">
<meta name="featuretype" content="Basic Configuration">
<meta name="featuretype" content="Basic Configuration">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Creator" content="SUBSYS_ID_FTPS">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942839317">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>ftp server source</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942839317"></a><a name="EN-US_CLIREF_0000001942839317"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1"><span>ftp server source</span></h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942839317__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">ftp server source</span></b> command sets the specific source IP address of the FTP server to establish the connection, including the source IP address and source interface.</p>
<p>The <b><span class="cmdname">undo ftp server source</span></b> command cancels the configuration of FTP server source configuration.</p>
</p>
<p>By default, the IPv4 source address of packets sent by the FTP server is 0.0.0.0 . The IPv6 source address of packets sent by the FTP server is ::.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942839317__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">

<p><b><span class="cmdname">ftp server source </span></b>{ <strong><span>-a</span></strong> { <i><span class="varname">ip-address</span></i> } | <strong><span>-i</span></strong> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <i><span class="varname">interface-name</span></i> } }</p>


<p><b><span class="cmdname">ftp ipv6 server source -a </span></b><i><span class="varname">ipv6-address</span></i> [ <strong><span>-vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ]</p>

<p><b><span class="cmdname">ftp ipv6 server source all-interface</span></b></p>



<p><b><span class="cmdname">ftp server source all-interface</span></b></p>




<p><b><span class="cmdname">undo ftp server source </span></b>{ <strong><span>-a</span></strong> { <i><span class="varname">ip-address</span></i> } | <strong><span>-i</span></strong> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <i><span class="varname">interface-name</span></i> } }</p>


<p><b><span class="cmdname">undo ftp ipv6 server source -a </span></b><i><span class="varname">ipv6-address</span></i> [ <strong><span>-vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ]</p>

<p><b><span class="cmdname">undo ftp ipv6 server source all-interface</span></b></p>

<p><b><span class="cmdname">undo ftp server source all-interface</span></b></p>





</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942839317__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>-a</span></strong> <i><span class="varname">ip-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the source IP address.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is in dotted decimal notation.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>-a</span></strong> <i><span class="varname">ipv6-address</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the source IPv6 address.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a 32-digit hexadecimal number, in the format of X:X:X:X:X:X:X:X.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>-i</span></strong> <i><span class="varname">interface-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the source interface name of an FTP server.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the source interface type and interface number of an FTP server.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ipv6</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the FTP IPv6 server.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>-vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a VPN instance.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 31 case-sensitive characters. It cannot contain spaces. The VPN instance name cannot be _public_. If the character string is quoted by double quotation marks, the character string can contain spaces.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>all-interface</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates that any interface having an IP address configured can be used as the source interface of an FTP server.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942839317__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942839317__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942839317__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>The FTP server receives login connection requests from all interfaces and addresses, which has low system security. To improve system security, run the ftp server-source command to specify the source interface of the FTP server.</p>
</p>
<p><strong>Prerequisites</strong></p>
<p><p>A VPN instance has been created before you specify it for an FTP server. Otherwise, the command cannot be executed.</p>
</p>
<p><strong>Configuration Impact</strong></p>
<p>If a source interface or source IPv6 address is specified for an FTP server, FTP users can log in only through the specified source interface or source IPv6 address.</p>
<p><strong>Precautions</strong></p>
<div class="p"><ul><li>The FTP protocol has security risks. You are advised to use the SFTP protocol.</li><li>After the command is run, users can log in to the FTP server only through a specified interface or a specified IPv6 address.</li><li>If the interface to which the specified source IPv6 address belongs is bound to a VPN instance, the -vpn-instance parameter must be specified when you specify an IPv6 address for the client.</li><li>If the specified source interface is bound to a VPN instance (vpn1 for example) and another VPN instance (vpn2 for example) is specified in the <b><span class="cmdname">ftp ipv6 server source -a ipv6-address -vpn-instance</span></b> command, vpn1 is used for IPv4 users, and vpn2 is used for IPv6 users.</li><li>If the VPN instance bound to the specified source interface is deleted, the VPN configuration specified in the command is not cleared but does not take effect. In this case, the FTP server uses the public network instance instead. If the VPN instance with the same name as the deleted one is reconfigured, the VPN function will be restored.</li><li>If the specified source interface is deleted, the interface configuration in the command is not deleted but does not take effect. If the source interface with the same name as the deleted one is reconfigured, the function will be restored.</li><li>For an IPv6 FTP server, you can run the ftp ipv6 server source -a ipv6-address [ -vpn-instance vpn-instance-name ] command to configure a user to log in to the server through a specified IPv6 source address.</li><li>If the <b><span class="cmdname">ftp server source all-interface</span></b> command is run, users can log in to the FTP server through any valid IPv4 interface, which increases system security risks. Therefore, running this command is not recommended.</li><li>If the <b><span class="cmdname">ftp ipv6 server source all-interface</span></b> command is run, users can log in to the FTP server through any valid IPv6 interface, which increases system security risks. Therefore, running this command is not recommended.</li><li>If both the <b><span class="cmdname">ftp server source -i</span></b> and <b><span class="cmdname">ftp server source all-interface</span></b> commands are run, the interface whose IPv6 address is specified in the <b><span class="cmdname">ftp server-source -i</span></b> command is preferentially used as the source interface of the FTP server. If the specified source interface fails to be used for login, another valid interface address will be used for login.</li><li>The <b><span class="cmdname">ftp server source -i interface-type interface-number</span></b> and <b><span class="cmdname">ftp server source all-interface</span></b> commands take effect only for IPv4.</li><li>If both the <b><span class="cmdname">ftp ipv6 server source -a</span></b> and <b><span class="cmdname">ftp ipv6 server source all-interface</span></b> commands are run, the address specified in the <b><span class="cmdname">ftp ipv6 server-source -a</span></b> command is preferentially used as the source address of the FTP server. If the specified source address cannot be used for login, another valid address is selected for login.</li><li>The <b><span class="cmdname">ftp ipv6 server source -a interface-type interface-number</span></b> and <b><span class="cmdname">ftp ipv6 server source all-interface</span></b> commands take effect only for IPv6.</li></ul>
</div>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942839317__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the source IPv4 address of the FTP server to 10.1.1.1.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ftp server source -a 10.1.1.1</strong>
</pre>
</div>

<div class="p"># Set the source interface of the FTP server to a loopback interface.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface LoopBack 0</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-LoopBack0] <strong>ip address 10.1.1.1 16</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-LoopBack0] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>ftp server source -i loopback 0</strong>
</pre>
</div>

<div class="p"># Allow any IPv4 interface to be used as the source IPv4 interface of an FTP server.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ftp server source all-interface</strong>
</pre>
</div>

<div class="p"># Allow any IPv6 interface to be used as the source IPv6 interface of an FTP server.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ftp ipv6 server source all-interface</strong>
</pre>
</div>



</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Accessing_Another_Device_Commands_title.html">CLI-based Device Login Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/FTP-LISTENPORT(FTPS).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/FTP-TIMEOUT(FTPS).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>