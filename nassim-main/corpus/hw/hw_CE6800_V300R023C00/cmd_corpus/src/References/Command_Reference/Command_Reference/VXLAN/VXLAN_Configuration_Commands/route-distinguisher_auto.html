
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="route-distinguisher auto">
<meta name="DC.subject" content="route-distinguisher auto">
<meta name="keywords" content="route-distinguisher auto">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_VXLAN_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/ROUTE-DISTINGUISHER-EVPN(EVPNOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/ROUTER-ID-EXTEND-PRIVATE(EVPNOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="DC.Creator" content="SUBSYS_ID_EVPNOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907767084">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>route-distinguisher auto</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907767084"></a><a name="EN-US_CLIREF_0000001907767084"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">route-distinguisher auto</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907767084__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The route-distinguisher auto command configures a route distinguisher (RD) for an EVPN profile in the BD profile view.</p>
<p>The undo route-distinguisher auto command deletes the RD of an EVPN profile in the BD profile view.</p>
<p>The vpn-target auto command configures VPN targets for an EVPN profile in the BD profile view.</p>
<p>The undo vpn-target auto command deletes the VPN targets of an EVPN profile in the BD profile view.</p>
</p>
<p>By default, no VPN target or RD is configured for an EVPN profile in the BD profile view.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.</p>
</div></div>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907767084__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">route-distinguisher auto</span></b></p>

<p><b><span class="cmdname">vpn-target auto</span></b></p>

<p><b><span class="cmdname">undo route-distinguisher auto</span></b></p>

<p><b><span class="cmdname">undo vpn-target auto</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907767084__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
None
</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907767084__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>evpn-bdprofile view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907767084__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907767084__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>When a PE advertises EVPN routes to other PEs, the PE attaches all the local export VPN targets to these routes.  After a PE receives EVPN routes, the PE matches export VPN targets carried in these routes against the local import VPN target list and imports these routes to the local EVPN instance routing table only if at least one export VPN target matches one import VPN target.<p></p>
<span>After creating an EVPN profile in the BD profile view</span>, run the <b><span class="cmdname">route-distinguisher</span></b> command to configure an RD for the EVPN profile.</p>
<p><strong>Prerequisites</strong></p>
<p>Before running the <b><span class="cmdname">route-distinguisher</span></b> command, run the <b><span class="cmdname">evpn</span></b> command in the BD profile view.<p></p>
<span>Before running the</span> <b><span class="cmdname">vpn-target</span></b> command, run the <b><span class="cmdname">route-distinguisher</span></b> command in the EVPN profile in the BD profile view to configure an RD.</p>
<p><strong>Precautions</strong></p>
<p>If the <b><span class="cmdname">undo route-distinguisher</span></b> command is run in the EVPN profile view, configurations of the EVPN profile are deleted.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907767084__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Configure an RD for the BD-EVPN instance.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>bridge-domain profile 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bd-profile1] <strong>evpn</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bd-profile1-evpn] <strong>route-distinguisher auto</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-bd-profile1-evpn] <strong>vpn-target auto</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_VXLAN_Configuration_Commands_title.html">VXLAN Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/ROUTE-DISTINGUISHER-EVPN(EVPNOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/ROUTER-ID-EXTEND-PRIVATE(EVPNOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>