
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="display configuration changes">
<meta name="DC.subject" content="display configuration changes">
<meta name="keywords" content="display configuration changes">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Configuration_Management_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/PREVIEW(CFGOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/BUILDRUNSTARTUP(CFGOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Configuration File Management">
<meta name="featurename" content="FTP">
<meta name="featurename" content="SFTP">
<meta name="featurename" content="SCP">
<meta name="featurename" content="TFTP">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Configuration File Management">
<meta name="featurename" content="FTP">
<meta name="featurename" content="SFTP">
<meta name="featurename" content="SCP">
<meta name="featurename" content="TFTP">
<meta name="featuretype" content="Basic Configuration">
<meta name="featurename" content="Configuration File Management">
<meta name="featurename" content="FTP">
<meta name="featurename" content="SFTP">
<meta name="featurename" content="SCP">
<meta name="featurename" content="TFTP">
<meta name="featuretype" content="Basic Configuration">
<meta name="featuretype" content="Basic Configuration">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Creator" content="SUBSYS_ID_CFGOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000002158962564">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>display configuration changes</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000002158962564"></a><a name="EN-US_CLIREF_0000002158962564"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">display configuration changes</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000002158962564__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">display configuration changes</span></b> command displays the difference between a configuration file and the current running configuration file on the device.</p>
</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000002158962564__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">

<p><b><span class="cmdname">display configuration commit changes </span></b>[ <strong><span>at</span></strong> <i><span class="varname">commit-id</span></i> | <strong><span>since</span></strong> <i><span class="varname">commit-id</span></i> | <strong><span>last</span></strong> <i><span class="varname">number-of-commits</span></i> ]</p>


<p><b><span class="cmdname">display configuration changes </span></b>[ <strong><span>running</span></strong> <strong><span>file</span></strong> <i><span class="varname">file-name</span></i> | <strong><span>file</span></strong> <i><span class="varname">file-name</span></i> <strong><span>running</span></strong> ]</p>


<p><b><span class="cmdname">display configuration changes </span></b>{ <strong><span>running</span></strong> <strong><span>label</span></strong> <i><span class="varname">label</span></i> | <strong><span>label</span></strong> <i><span class="varname">label</span></i> <strong><span>running</span></strong> }</p>

<p><b><span class="cmdname">display configuration commit changes </span></b><i><span class="varname">latest-number-of-commits</span></i></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000002158962564__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>at</span></strong> <i><span class="varname">commit-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Displays configuration changes at a configuration rollback point.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The id is a string of 1 to 20 characters and generated by the system automatically.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>since</span></strong> <i><span class="varname">commit-id</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Displays configuration changes since the specified configuration rollback point was generated.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The id is a string of 1 to 20 characters and generated by the system automatically.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>last</span></strong> <i><span class="varname">number-of-commits</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the number of the latest configuration rollback points. Configuration changes in these rollback points are displayed.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 80.</p>
</td>
</tr>


<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>running</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Displays the running configuration, that is, the configuration data in the running/ database.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>file</span></strong> <i><span class="varname">file-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a configuration file.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The name is a string of 5 to 64 characters in the format of .zip, .cfg, or .dat.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>label</span></strong> <i><span class="varname">label</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies a label.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 256 characters.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">latest-number-of-commits</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>The number of latest commit changes.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer ranging from 1 to 80.</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000002158962564__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>All views</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000002158962564__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>3: Management level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000002158962564__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><ul><li>If a misoperation is performed or some configurations fail, the system must roll back to a specified historical configuration. In this case, you can run the <b><span class="cmdname">display configuration commit changes</span></b> command to check configuration changes at configuration rollback points.</li><li>To view the difference between the current running configuration file and a specified configuration file, run the <b><span class="cmdname">display configuration changes running file file-name</span></b> command.</li><li>To view the difference between a specified configuration file and the current running configuration file, run the <b><span class="cmdname">display configuration changes file file-name running</span></b> command.</li><li>The <b><span class="cmdname">display configuration changes running label label</span></b> command displays the difference between the current configuration and the configuration of a specified user label.</li><li>The <b><span class="cmdname">display configuration changes label label running</span></b> command displays the difference between the configuration of a specified user label and the current configuration.</li><li>This command can only compare the current running configuration file with a configuration file. When you run this command, the first specified configuration file is called source configuration, and the later specified configuration file is called target configuration. If the target configuration is different from the source configuration, the difference is displayed based on the following rules:</li><li>A command that exists in the target configuration rather than the source configuration is prefixed with "+".</li><li>A command that exists in the source configuration rather than the target configuration is prefixed with "-".</li><li>If a command is modified in the target configuration, the original command is prefixed with "-" and the new command is prefixed with "+".</li></ul>
</div>
<div class="p"><ul><li>The <b><span class="cmdname">display configuration commit changes latest-number-of-commits</span></b> command displays information about the configuration changes of each of the recent configuration rollback points. Assume that the configuration rollback points are 1000000001, 1000000002, and 1000000003. The <b><span class="cmdname">display configuration commit changes 3</span></b> command displays the configuration changes of each of these configuration rollback points 1000000001, 1000000002, and 1000000003.</li><li>The <b><span class="cmdname">display configuration commit changes last number-of-commits</span></b> command displays the final differences between the recent configuration rollback points. Assume that the configuration rollback points are 1000000001, 1000000002, and 1000000003. The <b><span class="cmdname">display configuration commit changes last 3</span></b> command displays the configuration changes of the configuration rollback points from 1000000001 to 1000000003.</li></ul>
</div>
<p><strong>Precautions</strong></p>
<p>When a configuration difference comparison command is run, if repeated commands exist in the same view, the current command fails to be executed.<p></p>
<span>The specified configuration file specified by file</span>-name must exist on the device.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000002158962564__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The actual command output varies according to the device. The command output here is only an example.</p>
</div></div>


<div class="p"># Display configuration changes since configuration rollback point 1000000067 was generated.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>display configuration commit changes since 1000000067</strong>
Building configuration...
  #
- snmp-agent
  #
- snmp-agent local-engineid 800007DB0338AB7F111100
  #
- snmp-agent community write public mib-view abc
  #
- snmp-agent community write private mib-view abc
  #
</pre>
</div>

<div class="p"># Display configuration changes at all the available configuration rollback points.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>display configuration commit changes</strong>
Building configuration
Commit changes of commitId 1000000114 2015-06-18 03:04:59
  #
- sysname HUAWEI
  #
+ sysname test
  #
</pre>
</div>

<div class="p"># Display configurations (with the specified tag) that are different between the latest two configuration rollback points.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>display configuration commit changes last 2 with-tag</strong>
Building configuration
  #
+ &lt;cmd-script:vlan batch&gt;&lt;/cmd&gt;vlan batch 1 to 1000
  &lt;view-entry&gt;&lt;/view&gt;aaa
+  domain abc
  #
</pre>
</div>

<div class="p"># Display configuration changes at the latest two configuration rollback points.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>display configuration commit changes last 2</strong>
Building configuration...
  #
- info-center logfile size 16
  #
+ info-center logfile size 32
  #
</pre>
</div>

<div class="p"># Display the difference between the current running configuration file and the configuration file a.cfg.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>display configuration changes running file a.cfg</strong>
Building configuration
Warning: The specified configuration file is not the same as the current configuration. There are several differences as follow:
  #
- sysname HUAWEI
</pre>
</div>

<div class="p"># Display the difference between the current running configuration file and specified commit label.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>display configuration changes running label a</strong>
2021-03-05 11:37:53.415
Building configuration
.
  #
- sysname HUAWEI
  #
+ sysname HUAWEI-A
  #
</pre>
</div>

<div class="p"># Display configuration changes at the latest two configuration rollback points.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>display configuration commit changes 2</strong>
Building configuration
Commit changes of commitId 1000000004 2021-03-29 09:03:52
  #
+ acl number 3000
  #

Commit changes of commitId 1000000003 2021-03-29 09:03:43
  #
+ acl number 2000
  #
</pre>
</div>

<div class="p"># Display the differences between the configuration file for next startup and the running file.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>display configuration changes</strong>
Building configuration
  #
  aaa
+  local-user huawei password cipher @%@%ym&lt;*-4`Hu=kF;b-%AiAF&amp;C:1@%@%
+  local-user huawei service-type ftp
</pre>
</div>


<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Description of the <b><span class="cmdname">display configuration changes</span></b> command output</caption>
    
    
<thead align="left">
<tr>
<th align="left" class="cellrowborder" valign="top" width="44.5%" id="mcps1.3.7.10.2.3.1.1" liSelected="liSelected">Item</th>

<th align="left" class="cellrowborder" valign="top" width="55.50000000000001%" id="mcps1.3.7.10.2.3.1.2" liSelected="liSelected">Description</th>

</tr>

</thead>

<tbody>
<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.10.2.3.1.1 ">Building configuration</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.10.2.3.1.2 "><p>Building configuration.</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.10.2.3.1.1 ">+</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.10.2.3.1.2 "><p><p>Added configuration information.</p>
<p>For the modified configuration, two records are displayed. One record is marked with "-", indicating that the old configuration is deleted. The other record is marked with "+", indicating that the new configuration is created.</p>
</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.10.2.3.1.1 ">-</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.10.2.3.1.2 "><p><p>Deleted configuration information.</p>
<p>For the modified configuration, two records are displayed. One record is marked with "-", indicating that the old configuration is deleted. The other record is marked with "+", indicating that the new configuration is created.</p>
</p>
</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="44.5%" headers="mcps1.3.7.10.2.3.1.1 ">Commit changes of commitId</td>

<td class="cellrowborder" valign="top" width="55.50000000000001%" headers="mcps1.3.7.10.2.3.1.2 "><p>Label of the configuration rollback point, which uniquely identifies the configuration rollback point.</p>
</td>

</tr>

</tbody>

</table>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Configuration_Management_Commands_title.html">Configuration File Management Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/PREVIEW(CFGOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/BUILDRUNSTARTUP(CFGOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>