
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="test-type (NQA view)">
<meta name="DC.subject" content="test-type (NQA view)">
<meta name="keywords" content="test-type (NQA view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_NQA_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/UDPJITTERTESTFAILTIMES(NQAIP4OM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/ICMPJITTERTHRESHOLD(NQAIP4OM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="NQA">
<meta name="featuretype" content="System Monitoring">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="NQA">
<meta name="featuretype" content="System Monitoring">
<meta name="featurename" content="NQA">
<meta name="featuretype" content="System Monitoring">
<meta name="featuretype" content="System Monitoring">
<meta name="featuretype" content="System Monitoring">
<meta name="DC.Creator" content="SUBSYS_ID_NQABASEOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942848081">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>test-type (NQA view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942848081"></a><a name="EN-US_CLIREF_0000001942848081"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">test-type (NQA view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942848081__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">test-type</span></b> command specifies the test type for an NQA test instance.</p>
<p>The <b><span class="cmdname">undo test-type</span></b> command deletes the test type.</p>
</p>
<p>By default, no test type is configured.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942848081__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">

<p><b><span class="cmdname">test-type </span></b>{ <strong><span>tcp</span></strong> | <strong><span>jitter</span></strong> | <strong><span>icmp</span></strong> | <strong><span>icmpjitter</span></strong> | <strong><span>trace</span></strong> | <strong><span>dns</span></strong> }</p>



<p><b><span class="cmdname">undo test-type</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942848081__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>tcp</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates a TCP test, which checks TCP services.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>jitter</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates a UDP jitter test, which checks the jitter in processing UCP packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>icmp</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates an ICMP test to test link connectivity. If an ICMP test instance fails, run the ping -detail or ping ipv6 -detail command to locate the fault.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>



<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>icmpjitter</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates an ICMP jitter test, which checks the path jitter by sending ICMP packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>trace</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates a trace route test, which detects the faulty node on a link.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>dns</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Indicates a DNS test, which tests DNS service performance.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>


</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942848081__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>NQA view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942848081__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942848081__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><p>NQA test instances measure the performance of various protocols running on the network, so that carriers can collect network operation indexes in real time. When a fault occurs on the network, you can effectively diagnose and locate the fault.<p></p>
<span>NQA diagnoses and locates faults through various types</span> of test instances.<p></p>
<span>The following is an example</span>:</p>

<ul><li>A DNS test has been configured using the <b><span class="cmdname">test-type dns</span></b> command. A DNS test is used to measure the speed at which a specified DNS name is resolved to an IP address. The DNS test is carried by UDP packets.</li><li>An ICMP test is configured using the <b><span class="cmdname">test-type icmp</span></b> command. When sending packets in an ICMP test, you need to set ping parameters according to the parameters of the test group configured by the user. These parameters include TTL, ToS, and delay. After that, you can enable the device to send test packets to the destination address and interface.<p></p>
<span>When receiving a packet</span>, the ICMP test instance checks whether the packet times out. If the packet times out, the ICMP test instance performs timeout processing. If the packet does not time out, the ICMP test instance calculates the RTT and records the information in the historical record and result record.</li><li>To configure an ICMP jitter test, run the <b><span class="cmdname">test-type icmpjitter</span></b> command. The test uses ICMP packets to simulate end-to-end jitter of various services and detects path jitter.</li><li>A TraceRoute test has been configured using the <b><span class="cmdname">test-type trace</span></b> command. In a tracert test, packets are sent based on the configured parameters, including the TTL and delay. The TTL of the ICMP Echo Request packet sent by the destination address for the first time is 1. After the TTL expires, an ICMP Echo Reply packet is returned. This process repeats until all packets on the path are responded, the TraceRoute process is complete. The sender collects statistics on the test result based on the received response packets.</li><li>A TCP test is configured using the <b><span class="cmdname">test-type tcp</span></b> command. When testing the TCP function, you must configure the NQA TCP server on the peer end. The client initiates a test to the specified IP address and port of the server. The TCP test measures the time for setting up a TCP connection.</li><li>A jitter test has been configured using the <b><span class="cmdname">test-type jitter</span></b> command. During the test, the source end sends data packets to the destination end at a certain interval. The sent data packets have corresponding timestamps. After receiving a data packet, the receiver adds a timestamp to the data packet and sends the data packet back to the source end. After receiving the data packets, the source calculates the jitter time. A jitter test instance supports a maximum of 3000 consecutive packets to simulate voice service traffic.</li></ul>
</div>
<p><strong>Precautions</strong></p>
<ul><li>The type of a test instance cannot be modified once it is configured. That is, if you modify the parameters of a test instance during the running of the test instance, the test instance stops running.</li><li>Before starting an ICMP jitter or path jitter test instance in timestamp mode, you need to enable the function of sending and receiving ICMP timestamp packets.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942848081__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the test type of an NQA test instance to icmp.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>nqa test-instance user test</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-nqa-user-test] <strong>test-type icmp</strong>
</pre>
</div>

<div class="p"># Set the test type of an NQA test instance to DNS.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>nqa test-instance user test</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-nqa-user-test] <strong>test-type dns</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_NQA_Configuration_Commands_title.html">NQA Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/UDPJITTERTESTFAILTIMES(NQAIP4OM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/ICMPJITTERTHRESHOLD(NQAIP4OM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>