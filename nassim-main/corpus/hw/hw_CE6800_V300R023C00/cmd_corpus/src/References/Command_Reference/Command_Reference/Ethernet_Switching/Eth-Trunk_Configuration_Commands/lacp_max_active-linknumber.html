
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="lacp max active-linknumber">
<meta name="DC.subject" content="lacp max active-linknumber">
<meta name="keywords" content="lacp max active-linknumber">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Eth-Trunk_Interface_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SETTRUNKMCLAGMAC(LACPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/SETLACPMIXRATE(LACPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Creator" content="SUBSYS_ID_LACPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942840997">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>lacp max active-linknumber</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942840997"></a><a name="EN-US_CLIREF_0000001942840997"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">lacp max active-linknumber</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942840997__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">lacp max active-linknumber</span></b> command sets the maximum number of active member links on an Eth-Trunk interface.</p>
<p>The <b><span class="cmdname">undo lacp max active-linknumber</span></b> command restores the maximum number of active member links on an Eth-Trunk interface to the default value.</p>
</p>
<p>By default, the maximum number of active member links is 256.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942840997__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">lacp max active-linknumber </span></b><i><span class="varname">link-number</span></i></p>

<p><b><span class="cmdname">undo lacp max active-linknumber</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942840997__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>active-linknumber</span></strong> <i><span class="varname">link-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the maximum number of active member links.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>The value is an integer ranging from 1 to 256.</p>
</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942840997__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>Eth-Trunk interface view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942840997__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942840997__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<div class="p"><p>The number of active member links on an Eth-Trunk interface affects the status and bandwidth of the Eth-Trunk interface. The bandwidth of an Eth-Trunk interface equals the total bandwidth of all member interfaces in the Up state.<p></p>
<span>To ensure the status and bandwidth of an Eth-Trunk</span> interface, you can set the following thresholds to reduce the impact of changes in member link status:</p>

<ul><li>Setting the maximum number of active member links<p></p>
<span>After the number of active member links reaches the</span> upper threshold, the bandwidth of the Eth-Trunk interface does not increase even if more member links go Up. Setting the maximum number of active member links improves network reliability on the basis of sufficient bandwidth.<p></p>
<span>For example</span>, an Eth-Trunk interface has 10 trouble-free member links, and each of them can provide the bandwidth of 1 Gbit/s. The Eth-Trunk interface needs to provide the maximum bandwidth of 5 Gbit/s. In this case, the upper threshold can be set to 5. Other links automatically enter the backup state. When one or more links of the selected five links go Down, backup links automatically start to work. This ensures the 5 Gbit/s bandwidth of the Eth-Trunk interface and improves the network reliability.</li><li>Setting the minimum number of active member links<p></p>
<span>When the number of active member links decreases below</span> the threshold, the Eth-Trunk interface goes Down. Setting the minimum number of active member links ensures the minimum bandwidth of an Eth-Trunk interface.<p></p>
<span>For how to set the minimum number of active member</span> links, see the <b><span class="cmdname">least active-linknumber</span></b> command.</li></ul>
</div>
<p><strong>Prerequisites</strong></p>
<p><p>The <b><span class="cmdname">mode lacp-static</span></b> command has been run in the Eth-Trunk interface view to configure the Eth-Trunk interface to work in static Link Aggregation Control Protocol (LACP) mode.</p>
</p>
<p><strong>Configuration Impact</strong></p>
<p><p>If you run the lacp max active-linknumber command more than once, the latest configuration overrides the previous one.<p></p>
<span>If the maximum number of active member links is set</span> to a small value but the Eth-Trunk interface has many member interfaces, a majority of member interfaces are backup. This affects the bandwidth of the Eth-Trunk interface.</p>
</p>
<p><strong>Precautions</strong></p>
<p><p>If the <b><span class="cmdname">least active-linknumber</span></b> command has been configured before you run the max active-linknumber command, ensure that the maximum number of active member links is greater than or equal to the minimum number of active member links.<p></p>
<span>In the scenario of interconnection with non-Huawei</span> devices, especially in 1:1 mode, if the configured maximum numbers of active links at the two ends of an Eth-Trunk are both less than the number of active Eth-Trunk member interfaces, the link may be intermittently disconnected. As a result, the LACP negotiation fails and the Down Eth-Trunk cannot automatically go Up. Therefore, you are recommended to enable the priority preemption function at the two ends of an Eth-Trunk and configure a same preemption delay, or disable the limitation on the maximum number of active links.<p></p>
<span>In 1</span>:1 mode, the configured maximum number of active links at the two ends of an Eth-Trunk is 1 and each link has two member interfaces.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942840997__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Set the maximum number of active member links of Eth-Trunk 1 to 5.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>interface eth-trunk 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-Eth-Trunk1] <strong>mode lacp-static</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-Eth-Trunk1] <strong>lacp max active-linknumber 5</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Eth-Trunk_Interface_Configuration_Commands_title.html">Eth-Trunk Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/SETTRUNKMCLAGMAC(LACPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/SETLACPMIXRATE(LACPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>