
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="dhcp snooping alarm dhcp-rate enable">
<meta name="DC.subject" content="dhcp snooping alarm dhcp-rate enable">
<meta name="keywords" content="dhcp snooping alarm dhcp-rate enable">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-DHCP_Snooping_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DHCP_SNOOPING_ALARM_DHCP-RATE_THRESHOLD.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="DHCP Snooping">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="DHCP Snooping">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="DHCP Snooping">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Creator" content="SUBSYS_ID_ESAP_DHCPSNP">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907602672">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>dhcp snooping alarm dhcp-rate enable</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907602672"></a><a name="EN-US_CLIREF_0000001907602672"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">dhcp snooping alarm dhcp-rate enable</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907602672__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">dhcp snooping alarm dhcp-rate enable</span></b> command enables the device to generate an alarm when the number of discarded DHCP messages reaches the threshold.</p>
<p>The <b><span class="cmdname">undo dhcp snooping alarm dhcp-rate enable</span></b> command disables the device from generating an alarm when the number of discarded DHCP messages reaches the threshold.</p>
</p>
<p>By default, the device is disabled from generating an alarm when the number of discarded DHCP messages reaches the threshold.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907602672__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">dhcp snooping alarm dhcp-rate enable</span></b></p>

<p><b><span class="cmdname">undo dhcp snooping alarm dhcp-rate enable</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907602672__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
None
</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907602672__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100GE interface view,</span><span>10GE interface view,</span><span>200GE interface view,</span><span>25GE interface view,</span><span>400GE interface view,</span><span>50GE interface view,</span><span>Eth-Trunk interface view,</span><span>VLAN view,</span><span>Interface group view,</span><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907602672__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907602672__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>After DHCP snooping is enabled, the device sends all the received DHCP Request messages and Reply messages to the processing unit. If the rate of sending DHCP messages is high, processing efficiency of the processing unit is affected. After you run the <strong>dhcp snooping check dhcp-rate enable</strong> command to enable the device to check the rate of sending DHCP messages to the processing unit, the device checks the rate of sending DHCP messages. Only the DHCP messages whose rate is within the specified rate are sent to the processing unit, and the DHCP messages whose rate exceeds the specified rate are discarded.<p></p>
<span>If the number of discarded DHCP messages reaches the</span> threshold, an alarm is generated. The alarm threshold can be configured using the <strong>dhcp snooping alarm dhcp-rate threshold</strong> command.<p></p>
<span>The configuration in the system view is used to check</span> all packets on the device, the configuration in the interface view is used only for the interface, and the configuration in the VLAN view is used only for the VLAN. The configurations in the system view, interface view, and VLAN view are independent of each other.</p>
<p><strong>Prerequisites</strong></p>
<p>DHCP snooping has been enabled on the device using the <strong>dhcp snooping enable</strong> command.</p>
<p><strong>Precautions</strong></p>
<p>To ensure that alarms can be reported, run the <strong>snmp-agent trap enable feature-name dhcp</strong> command to enable the DHCP module to report alarms. You can run the <strong>display snmp-agent trap feature-name dhcp all</strong> command to check whether the alarm reporting function of the DHCP module is enabled.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907602672__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Enable the device to generate an alarm when the number of discarded DHCP messages reaches the threshold on <span>100GE</span><span>1/0/1</span>.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>dhcp enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>dhcp snooping enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>dhcp snooping check dhcp-rate enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>dhcp snooping alarm dhcp-rate enable</strong>
</pre>
</div>

<div class="p"># In the system view, enable the device to generate an alarm when the number of discarded DHCP messages reaches the threshold.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>dhcp enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>dhcp snooping enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>dhcp snooping check dhcp-rate enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>dhcp snooping alarm dhcp-rate enable</strong>
</pre>
</div>


</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-DHCP_Snooping_Configuration_Commands_title.html">DHCP Snooping Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DHCP_SNOOPING_ALARM_DHCP-RATE_THRESHOLD.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>