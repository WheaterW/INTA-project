
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="icmp send (system view)">
<meta name="DC.subject" content="icmp send (system view)">
<meta name="keywords" content="icmp send (system view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IPv4_Basic_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IFICMPSECURITY_SEND(PP4OM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IPADDRESS(IFMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IPv4 Basic">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="IPv4 Basic">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="IPv4 Basic">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Creator" content="SUBSYS_ID_PP4OM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907762120">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>icmp send (system view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907762120"></a><a name="EN-US_CLIREF_0000001907762120"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">icmp send (system view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907762120__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">icmp send disable</span></b> command disables a device from sending ICMP packets.</p>
<p>The <b><span class="cmdname">undo icmp send disable</span></b> command enables a device to send ICMP packets.</p>
<p>The <b><span class="cmdname">clear icmp send</span></b> command clears the configurations of the icmp send disable and undo icmp send disable commands.</p>
</p>
<p>By default, the function of sending timestamp-reply packets, parameter-problem packets, reassembly-timeout packets, and source-route-failed packets is disabled, and the function of sending other types of ICMP packets is enabled.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907762120__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">icmp name </span></b>{ <strong><span>echo</span></strong> | <strong><span>echo-reply</span></strong> | <strong><span>net-unreachable</span></strong> | <strong><span>parameter-problem</span></strong> | <strong><span>timestamp-reply</span></strong> | <strong><span>timestamp-request</span></strong> | <strong><span>ttl-exceeded</span></strong> } <strong><span>send</span></strong> <strong><span>disable</span></strong></p>

<p><b><span class="cmdname">icmp name reassembly-timeout send disable</span></b></p>

<p><b><span class="cmdname">icmp name port-unreachable send disable</span></b></p>

<p><b><span class="cmdname">icmp name fragmentneed-dfset send disable</span></b></p>

<p><b><span class="cmdname">icmp name source-route-failed send disable</span></b></p>

<p><b><span class="cmdname">icmp type </span></b><i><span class="varname">typevalue</span></i> <strong><span>code</span></strong> <i><span class="varname">codevalue</span></i> <strong><span>send</span></strong> <strong><span>disable</span></strong></p>

<p><b><span class="cmdname">clear icmp name </span></b>{ <strong><span>echo</span></strong> | <strong><span>echo-reply</span></strong> | <strong><span>net-unreachable</span></strong> | <strong><span>parameter-problem</span></strong> | <strong><span>timestamp-reply</span></strong> | <strong><span>timestamp-request</span></strong> | <strong><span>ttl-exceeded</span></strong> } <strong><span>send</span></strong></p>

<p><b><span class="cmdname">clear icmp name reassembly-timeout send</span></b></p>

<p><b><span class="cmdname">clear icmp name port-unreachable send</span></b></p>

<p><b><span class="cmdname">clear icmp name fragmentneed-dfset send</span></b></p>

<p><b><span class="cmdname">clear icmp name source-route-failed send</span></b></p>

<p><b><span class="cmdname">clear icmp type </span></b><i><span class="varname">typevalue</span></i> <strong><span>code</span></strong> <i><span class="varname">codevalue</span></i> <strong><span>send</span></strong></p>







<p><b><span class="cmdname">undo icmp name </span></b>{ <strong><span>echo</span></strong> | <strong><span>echo-reply</span></strong> | <strong><span>net-unreachable</span></strong> | <strong><span>parameter-problem</span></strong> | <strong><span>timestamp-reply</span></strong> | <strong><span>timestamp-request</span></strong> | <strong><span>ttl-exceeded</span></strong> } <strong><span>send</span></strong> <strong><span>disable</span></strong></p>

<p><b><span class="cmdname">undo icmp name reassembly-timeout send disable</span></b></p>

<p><b><span class="cmdname">undo icmp name port-unreachable send disable</span></b></p>

<p><b><span class="cmdname">undo icmp name fragmentneed-dfset send disable</span></b></p>

<p><b><span class="cmdname">undo icmp name source-route-failed send disable</span></b></p>

<p><b><span class="cmdname">undo icmp type </span></b><i><span class="varname">typevalue</span></i> <strong><span>code</span></strong> <i><span class="varname">codevalue</span></i> <strong><span>send</span></strong> <strong><span>disable</span></strong></p>







</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907762120__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>echo</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to send ICMP Echo packets. An ICMP Echo packet is sent to the destination host during a ping operation. The destination host responds with an ICMP Echo Reply packet, indicating that the destination is reachable.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>echo-reply</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to send ICMP Echo Reply packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>net-unreachable</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to send net-unreachable packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>parameter-problem</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to send parameter-problem packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>timestamp-reply</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to send Timestamp Reply packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>timestamp-request</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to send Timestamp Request packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>ttl-exceeded</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to send ICMP TTL Exceeded packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>name</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the system to send ICMP packets with a name.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>reassembly-timeout</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the system to send reassembly-timeout packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>port-unreachable</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to send ICMP port-unreachable packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>fragmentneed-dfset</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to send fragmentneed-DFset packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>source-route-failed</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the device to send source-route-failed packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>type</span></strong> <i><span class="varname">typevalue</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the system to send ICMP packets with a specified type.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>type: The value is an integer ranging from 0 to 255.<p>You can run the icmp name ? command in the system view or interface view to view the mappings between the ICMP packet name, type, and code.</p>
</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>code</span></strong> <i><span class="varname">codevalue</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Enables the system to send ICMP packets with a specified code.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>code: The value is an integer ranging from 0 to 255.<p>You can run the icmp name ? command in the system view or interface view to view the mappings between the ICMP packet name, type, and code.</p>
</p>
</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907762120__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>System view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907762120__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907762120__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>In normal situations, a device can properly send ICMP packets. In case of heavy network traffic, if hosts or ports are frequently unreachable, devices send a large number of ICMP packets, which causes heavy traffic burden and performance deterioration. In addition, network attackers often use ICMP error packets to spy on the internal structure of the network.<p></p>
<span>To improve network performance and security</span>, run the <b><span class="cmdname">icmp send disable</span></b> command to disable the system from sending ICMP packets of a specified type.<p></p>
<span>If you want to restore the default configuration and</span> the <b><span class="cmdname">display this</span></b> command output does not contain the icmp send disable or <b><span class="cmdname">undo icmp send disable</span></b> command configuration, run the <b><span class="cmdname">clear icmp send</span></b> command.</p>
</p>
<p><strong>Configuration Impact</strong></p>
<p><p>After the system is disabled from sending ICMP packets, the system collects only statistics about discarded packets.</p>
</p>
<p><strong>Precautions</strong></p>
<p><p>If the network status is normal and the system is required to send ICMP packets, run the <b><span class="cmdname">undo icmp send disable</span></b> command.<p></p>
<span>In the case of network unreachable and host unreachable</span>, the standard protocol does not require that the routing device must reply with a host unreachable packet. Currently, the device can reply with a network unreachable packet when it receives a packet and fails to query the routing table.<p></p>
<span>In FIB Miss scenarios</span>, the device does not respond to network unreachable packets by default. In ARP Miss scenarios, the device cannot respond to network unreachable packets and triggers ARP learning.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907762120__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">


<div class="p"># Enable a device to send ICMP Echo packets.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>undo icmp name echo send disable</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_IPv4_Basic_Configuration_Commands_title.html">IPv4 Basic Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/IFICMPSECURITY_SEND(PP4OM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/IPADDRESS(IFMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>