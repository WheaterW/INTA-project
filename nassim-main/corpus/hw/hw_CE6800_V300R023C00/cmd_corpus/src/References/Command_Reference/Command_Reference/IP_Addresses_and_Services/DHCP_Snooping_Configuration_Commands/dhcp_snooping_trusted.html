
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="dhcp snooping trusted">
<meta name="DC.subject" content="dhcp snooping trusted">
<meta name="keywords" content="dhcp snooping trusted">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_PNF-DHCP_Snooping_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DHCP_SNOOPING_SERVER_RECORD.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/DHCP_SNOOPING_TRUSTED_TUNNEL(BD).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="DHCP Snooping">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="DHCP Snooping">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="DHCP Snooping">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Creator" content="SUBSYS_ID_ESAP_DHCPSNP">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907762624">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>dhcp snooping trusted</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907762624"></a><a name="EN-US_CLIREF_0000001907762624"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">dhcp snooping trusted</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907762624__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">dhcp snooping trusted</span></b> command configures an interface as a trusted interface.</p>
<p>The <b><span class="cmdname">undo dhcp snooping trusted</span></b> command configures an interface as an untrusted interface.</p>
</p>
<p>By default, an interface is untrusted.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907762624__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">dhcp snooping trusted</span></b></p>

<p><b><span class="cmdname">undo dhcp snooping trusted</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907762624__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
None
</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907762624__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>100GE interface view,</span><span>10GE interface view,</span><span>200GE interface view,</span><span>25GE interface view,</span><span>400GE interface view,</span><span>50GE interface view,</span><span>Eth-Trunk interface view,</span><span>Interface group view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907762624__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907762624__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>To enable DHCP clients to obtain IP addresses from valid DHCP servers, the DHCP snooping security mechanism allows interfaces to be configured as trusted and untrusted interfaces. Trusted interfaces forward received DHCP messages normally. Untrusted interfaces receive DHCP ACK and DHCP Offer messages from DHCP servers, the discards the packet.<p></p>
<span>The interface directly or indirectly connected to</span> the DHCP server trusted by the administrator must be configured as a trusted interface, and other interfaces must be configured as untrusted interfaces. This ensures that DHCP clients can obtain IP addresses only from authorized DHCP servers. Bogus DHCP servers cannot allocate IP addresses to DHCP clients.<p></p>
<span>If the interface connected to the DHCP client is configured</span> as a trusted interface, the DHCP client does not need to be verified, and the device does not generate dynamic binding entries for the DHCP clients connected to the trusted interface.<p></p>
<span>The trusted interface status is not affected by the</span> <b><span class="cmdname">dhcp snooping enable</span></b> command. After the dhcp snooping disable command is run on the interface, the trusted interface status is not affected.<p></p>
<span>The packet processing mode in this scenario is also</span> applicable to DHCPv6 packets.</p>
<p><strong>Prerequisites</strong></p>
<p>DHCP snooping has been enabled using the <b><span class="cmdname">dhcp snooping enable</span></b> command in the system view.</p>
<p><strong>Precautions</strong></p>
<p>After an interface is configured as a DHCP trusted interface using the dhcp snooping trusted command, the device does not perform source tracing or attack defense for DHCP packets received by the interface.<p></p>
<span>If you run the dhcp snooping trusted command in the</span> VLAN view, the command takes effect only for the DHCP messages of the specified VLAN received on the interfaces that join this VLAN. If you run the dhcp snooping trusted command in the interface view, the command takes effect for all the DHCP messages received by the interface.<p></p>
<span>You are advised not to configured more than 15 trusted</span> interfaces in a VLAN.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907762624__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">


<div class="p"># Configure <span>100GE</span><span>1/0/1</span> as a trusted interface.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>dhcp enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>dhcp snooping enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>] <strong>dhcp snooping trusted</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_PNF-DHCP_Snooping_Configuration_Commands_title.html">DHCP Snooping Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/DHCP_SNOOPING_SERVER_RECORD.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/DHCP_SNOOPING_TRUSTED_TUNNEL(BD).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>