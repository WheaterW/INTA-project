
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="spt-switch-threshold infinity (VPN instance PIM view/PIM view of a public network instance)">
<meta name="DC.subject" content="spt-switch-threshold infinity (VPN instance PIM view/PIM view of a public network instance)">
<meta name="keywords" content="spt-switch-threshold infinity (VPN instance PIM view/PIM view of a public network instance)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_IPv4_PIM_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/PIM-IPV4-SPT-SWITCH-THRESHOLD(PIMOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/PIM-IPV4-SPT-SWITCH-THRESHOLD_3(PIMOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Creator" content="SUBSYS_ID_PIMOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001907766316">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>spt-switch-threshold infinity (VPN instance PIM view/PIM view of a public network instance)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001907766316"></a><a name="EN-US_CLIREF_0000001907766316"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">spt-switch-threshold infinity (VPN instance PIM view/PIM view of a public network instance)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001907766316__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">spt-switch-threshold infinity</span></b> command configures the DR to never trigger an SPT switchover.</p>
<p>The <b><span class="cmdname">undo spt-switch-threshold infinity</span></b> command restores the default value.</p>
</p>
<p>By default, a receiver's DR performs a switchover from the RPT to the SPT immediately after receiving the first multicast data packet.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001907766316__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">spt-switch-threshold infinity</span></b></p>

<p><b><span class="cmdname">undo spt-switch-threshold infinity</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001907766316__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
None
</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001907766316__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>VPN instance PIM view,</span><span>PIM view of a public network instance</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001907766316__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001907766316__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>In PIM-SM, a source's DR encapsulates multicast data packets in a Register message and sends the Register message to the rendezvous point (RP). The RP then transmits the multicast data along the RPT to receivers. The RP and the receiver's DR are responsible for checking the forwarding rate of multicast data packets.<p></p>
<span>If a rate threshold is configured on the receiver</span>'s DR, the receiver's DR sends a Join message to the source only it finds that the forwarding rate of multicast data packets exceeds the threshold and then triggers the switchover from the RPT to the SPT. To set such a rate threshold, run the spt-switch-threshold command.<p></p>
<span>This command takes effect on the Router that functions</span> as the receiver's DR, but does not take effect on the RP.</p>
<p><strong>Prerequisites</strong></p>
<p>The multicast routing function has been enabled using the <b><span class="cmdname">multicast routing-enable</span></b> command in the public network instance view or VPN instance view.</p>
<p><strong>Precautions</strong></p>
<p>NOTE:<p></p>
<span>If the spt-switch-threshold command is run more than</span> once for one multicast group, the first command that the multicast group matches takes effect.</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001907766316__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># In the public network instance, configure the device never to trigger an SPT switchover.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>multicast routing-enable</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>pim</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-pim] <strong>spt-switch-threshold infinity</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_IPv4_PIM_Configuration_Commands_title.html">PIM Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/PIM-IPV4-SPT-SWITCH-THRESHOLD(PIMOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/PIM-IPV4-SPT-SWITCH-THRESHOLD_3(PIMOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>