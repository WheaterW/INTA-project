
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="igmp snooping group-policy">
<meta name="DC.subject" content="igmp snooping group-policy">
<meta name="keywords" content="igmp snooping group-policy">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Layer_2_Multicast_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IGMP-SNOOPING-EXPLICIT-TRACK-DC(L2MCOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/IGMP-SNOOPING-INST-ENABLE-BD-DC_15(L2MCOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IGMP Snooping">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="IGMP Snooping">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IGMP Snooping">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Creator" content="SUBSYS_ID_L2MCOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942845609">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>igmp snooping group-policy</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942845609"></a><a name="EN-US_CLIREF_0000001942845609"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">igmp snooping group-policy</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942845609__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">igmp snooping group-policy</span></b> command limits the range of multicast groups that hosts can join.</p>
<p>The <b><span class="cmdname">undo igmp snooping group-policy</span></b> command cancels the configuration.</p>
</p>
<p>By default, hosts can join any multicast group.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942845609__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">igmp snooping group-policy </span></b>{ <i><span class="varname">acl-number</span></i> | <strong><span>acl-name</span></strong> <i><span class="varname">acl-name</span></i> } [ <strong><span>version</span></strong> <i><span class="varname">number</span></i> ] <strong><span>vlan</span></strong> { <i><span class="varname">vid1</span></i> [ <strong><span>to</span></strong> <i><span class="varname">vid2</span></i> ] } &amp;&lt;1-10&gt;</p>

<p><b><span class="cmdname">undo igmp snooping group-policy </span></b>[ { <i><span class="varname">acl-number</span></i> | <strong><span>acl-name</span></strong> <i><span class="varname">acl-name</span></i> } [ <strong><span>version</span></strong> <i><span class="varname">number</span></i> ] ] [ <strong><span>vlan</span></strong> { <strong><span>all</span></strong> | { <i><span class="varname">vid1</span></i> [ <strong><span>to</span></strong> <i><span class="varname">vid2</span></i> ] } &amp;&lt;1-10&gt; } ]</p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942845609__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="">
<tr>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.1">Parameter</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.2">Description</th>
<th valign="bottom" align="left" id="mcps1.3.3.1.1.3">Value</th>
</tr>
<tr>
<td valign="top" headers="mcps1.3.3.1-type"><i><span class="varname">acl-number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the number of an ACL.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>It is an integer ranging from 2000 to 3999.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>acl-name</span></strong> <i><span class="varname">acl-name</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the name of a named ACL.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is a string of 1 to 32 case-sensitive characters, spaces not supported.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>version</span></strong> <i><span class="varname">number</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the version number of IGMP packets.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>The value is an integer that is 1, 2, or 3.</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>vlan</span></strong> <i><span class="varname">vid1</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the VLAN range of multicast groups to which the group policy will be applied. vlan-id1 specifies the start VLAN ID.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>For the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ:The value is an integer ranging from 1 to 4094.</p>
<p>For the CE6885-LL (low latency mode):The value is an integer ranging from 1 to 1023.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>to</span></strong> <i><span class="varname">vid2</span></i></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies the VLAN range of multicast groups to which the group policy will be applied. to vlan-id2 specifies the end VLAN ID.If the to vlan-id2 parameter is not specified, the group policy is effective only for the multicast groups that have the specified start VLAN ID.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p><p>For the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ:The value is an integer ranging from 1 to 4094. vlan-id2 must be greater than vlan-id1. vlan-id2 and vlan-id1 specify a VLAN range.</p>
<p>For the CE6885-LL (low latency mode):The value is an integer that ranges from 1 to 1023. vlan-id2 must be greater than vlan-id1. vlan-id1 and vlan-id2 specify a VLAN range.</p>
</p>
</td>
</tr>

<tr>
<td valign="top" headers="mcps1.3.3.1-type"><strong><span>all</span></strong></td>
<td valign="top" headers="mcps1.3.3.1-desc">
<p><p>Specifies all of the VLANs.</p>
</p>

</td>
<td valign="top" headers="mcps1.3.3.1-value"><p>-</p>
</td>
</tr>

</table></div>

</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942845609__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>Layer 2 100GE interface view,</span><span>Layer 2 10GE interface view,</span><span>Layer 2 200GE interface view,</span><span>25GE-L2 view,</span><span>400GE-L2 view,</span><span>Layer 2 50GE interface view,</span><span>Layer 2 Eth-Trunk interface view,</span><span>Layer 2 GE interface view,</span><span>Interface group view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942845609__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942845609__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p>The igmp-snooping group-policy command is used to limit the range of multicast groups that user hosts can join.</p>
<p><strong>Prerequisites</strong></p>
<p>IGMP snooping has been enabled globally and in a VLAN.<p></p>
<span>Rules have been configured for a specified basic ACL</span>.</p>
<p><strong>Configuration Impact</strong></p>
<p>After the igmp snooping group-policy command is run, user hosts cannot join multicast groups beyond the configured multicast group range. If the igmp-snooping group-policy command is run more than once, all configurations take effect.</p>
<p><strong>Precautions</strong></p>
<p>If no IGMP version is specified, the device applies the multicast group address limit to the received IGMP messages of all versions (V1, V2, and V3). In addition, the configured ACL must be a basic ACL.<p></p>
<span>When you run this command in the VLAN view</span>, the configuration fails in the following situations:</p>

<ul><li>The dot1q sub-interface has been bound to the VLAN.</li></ul>

<p>For numbered ACLs and named ACLs:</p>

<ul><li>In the basic ACL view, you can set the range of multicast groups that an interface is allowed to join by specifying the source parameter in the <b><span class="cmdname">rule</span></b> command.</li><li>In the advanced ACL view, you can set the range of multicast sources that an interface is allowed to join by specifying the source parameter in the <b><span class="cmdname">rule</span></b> command, and set the range of multicast groups that an interface is allowed to join by specifying the destination parameter in the <b><span class="cmdname">rule</span></b> command.<p></p>
<span>IGMPv1</span>/v2 Report messages are not filtered based on the source parameter.</li></ul>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942845609__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">


<div class="p"># Allow hosts on <span>100GE</span> <span>1/0/1</span>.1 to join only multicast group 225.1.1.123.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>acl number 2008</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-acl-basic-2008] <strong>rule permit source 225.1.1.123 0</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-acl-basic-2008] <strong>rule deny source any</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-acl-basic-2008] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>interface <span>100GE</span> <span>1/0/1</span>.1 mode l2</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>.1] <strong>portswitch</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-<span>100GE</span><span>1/0/1</span>.1] <strong>igmp snooping group-policy 2008</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Layer_2_Multicast_Commands_title.html">IGMP Snooping Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/IGMP-SNOOPING-EXPLICIT-TRACK-DC(L2MCOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/IGMP-SNOOPING-INST-ENABLE-BD-DC_15(L2MCOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>