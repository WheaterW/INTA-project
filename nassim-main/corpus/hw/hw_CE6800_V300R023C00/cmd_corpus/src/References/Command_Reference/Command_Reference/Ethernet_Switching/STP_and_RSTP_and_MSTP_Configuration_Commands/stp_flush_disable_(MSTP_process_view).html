
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="cliref">
<meta name="DC.Title" content="stp flush disable (MSTP process view)">
<meta name="DC.subject" content="stp flush disable (MSTP process view)">
<meta name="keywords" content="stp flush disable (MSTP process view)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/dc_Spanning_Tree_Protocol_Configuration_Commands_title.html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/GLOBALSTPFLUSH(MSTPOM).html">
<meta name="DC.Relation" scheme="URI" content="../v3r23c00/STPLINKSHAREPROTECTION(MSTPOM).html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="STP">
<meta name="featurename" content="RSTP">
<meta name="featurename" content="MSTP">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Audience.Job" content="Reference">
<meta name="featurename" content="STP">
<meta name="featurename" content="RSTP">
<meta name="featurename" content="MSTP">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featurename" content="STP">
<meta name="featurename" content="RSTP">
<meta name="featurename" content="MSTP">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Creator" content="SUBSYS_ID_MSTPOM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CLIREF_0000001942841197">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>stp flush disable (MSTP process view)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CLIREF_0000001942841197"></a><a name="EN-US_CLIREF_0000001942841197"></a>

<div class="articleBoxWithoutHead">

<h1 class="topicTitle-h1">stp flush disable (MSTP process view)</h1>


<div>
<div class="clifunc"><a name="EN-US_CLIREF_0000001942841197__1.3.1"></a><a name="1.3.1"></a><h2 class="sectiontitle">Function</h2>
<div class="clifuncbody">
<p><p>The <b><span class="cmdname">stp flush disable</span></b> command disables a device or MSTP process from updating MAC address entries when the MSTP process receives TC BPDUs.</p>
<p>The <b><span class="cmdname">undo stp flush disable</span></b> command enables a device or MSTP process to update MAC address entries when the MSTP process receives TC BPDUs.</p>
</p>
<p>By default, a device or MSTP process updates MAC address entries when the device or MSTP process receives TC BPDUs.</p>

</div></div>

<div class="cliformat"><a name="EN-US_CLIREF_0000001942841197__1.3.2"></a><a name="1.3.2"></a><h2 class="sectiontitle">Format</h2>
<div class="cliformatbody">
<p><b><span class="cmdname">stp flush disable</span></b></p>

<p><b><span class="cmdname">undo stp flush disable</span></b></p>

</div></div>

<div class="cliparam"><a name="EN-US_CLIREF_0000001942841197__1.3.3"></a><a name="1.3.3"></a><h2 class="sectiontitle">Parameters</h2>
<div class="cliparambody">
None
</div></div>

<div class="cliview"><a name="EN-US_CLIREF_0000001942841197__1.3.4"></a><a name="1.3.4"></a><h2 class="sectiontitle">Views</h2>
<div class="cliviewbody">
<p><span>MSTP process view</span></p>

</div></div>

<div class="clidefaultlevel"><a name="EN-US_CLIREF_0000001942841197__1.3.5"></a><a name="1.3.5"></a><h2 class="sectiontitle">Default Level</h2>
<div class="clidefaultlevelbody">
<p>2: Configuration level</p>

</div></div>


<div class="clidesc"><a name="EN-US_CLIREF_0000001942841197__1.3.6"></a><a name="1.3.6"></a><h2 class="sectiontitle">Usage Guidelines</h2>
<div class="clidescbody">
<p><strong>Usage Scenario</strong></p>
<p><p>On loop-free networks, STP is still configured to prevent potential loops caused by incorrect connections. However, STP will send TC BPDUs to instruct devices to update MAC address entries when the network topology encounters any changes. For example, the local device's interface goes Up from Down. This change does not require MAC address updates. If MAC addresses are updated in a large scale, unknown unicast or broadcast may occur.</p>

<p>To resolve this problem, run the <b><span class="cmdname">stp flush disable</span></b> command to disable the MSTP process from updating MAC address entries when it receives TC BPDUs.</p>
</p>
<p><strong>Precautions</strong></p>
<p><p>If you run this command in an MSTP process view, the MSTP process does not update MAC address entries after receiving TC BPDUs.<p></p>
<span>After you run the</span> <b><span class="cmdname">stp flush disable</span></b> command, the MSTP process does not update MAC address entries after receiving TC BPDUs. Services may be interrupted for a long time if the MAC address entries are incorrect. Therefore, exercise caution when running this command.</p>
</p>

</div></div>

<div class="cliexample"><a name="EN-US_CLIREF_0000001942841197__1.3.7"></a><a name="1.3.7"></a><h2 class="sectiontitle">Example</h2>
<div class="cliexamplebody">

<div class="p"># Disable MSTP process 1 from updating MAC address entries after receiving TC BPDUs.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>stp process 1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-mst-process-1] <strong>stp flush disable</strong>
</pre>
</div>

</div></div>

</div>


</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../v3r23c00/dc_Spanning_Tree_Protocol_Configuration_Commands_title.html">STP/RSTP/MSTP Configuration Commands
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../v3r23c00/GLOBALSTPFLUSH(MSTPOM).html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../v3r23c00/STPLINKSHAREPROTECTION(MSTPOM).html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>