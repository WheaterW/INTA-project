ip frr (VPN instance IPv4 address family view)
==============================================

ip frr (VPN instance IPv4 address family view)

Function
--------



The **ip frr** command enables IP Fast Reroute (FRR) of a private network in the VPN instance IPv4 address family view.

The **undo ip frr** command disables IP FRR of a private network in the VPN instance IPv4 address family view.



By default, IP FRR of a private network in the VPN instance IPv4 address family view is disabled.


Format
------

**ip frr**

**undo ip frr**


Parameters
----------

None


Views
-----

VPN instance IPv4 address family view


Default Level
-------------

2: Configuration level


Usage Guidelines
----------------

**Usage Scenario**



When there are private network routes generated by multiple types of routing protocols in a VPN instance enabled with the IPv4 address family, the **ip frr** command can be used to enable IP FRR among private network routes so that traffic can be immediately switched if certain routes fail. This ensures uninterrupted traffic forwarding. The following example shows how IP FRR works:There are two routes to 1.1.1.1. One is a BGP route with priority 150, and the other one is a static route with priority 60. When IP FRR is not enabled, the static route is preferred. After IP FRR is enabled, the static route functions as the primary route, and the BGP route functions as the backup route. If the static route fails, the system immediately switches traffic to the BGP route to ensure uninterrupted traffic forwarding.



**Prerequisites**



The VPN instance has been created.



**Configuration Impact**



After the **ip frr** command is run, the system automatically selects an inactive route as the backup of an active route.



**Precautions**



A routing loop may occur after the **ip frr** command is run because the command is used to enable routes generated by different routing protocols to back up each other. Therefore, exercise caution when running the command.




Example
-------

# Enable IP FRR of a private network in the VPN instance.
```
<HUAWEI> system-view
[~HUAWEI] ip vpn-instance vpn1
[*HUAWEI-vpn-instance-vpn1] ipv4-family unicast
[*HUAWEI-vpn-instance-vpn1-af-ipv4] ip frr

```