peer default-route-advertise(BGP-VPN instance IPv6 address family view)(group)
==============================================================================

peer default-route-advertise(BGP-VPN instance IPv6 address family view)(group)

Function
--------



The **peer default-route-advertise** command configures a device to advertise only default routes to a peer group.

The **undo peer default-route-advertise** command restores the default setting.



By default, a BGP device does not advertise any default route to its peer group.

![](../public_sys-resources/note_3.0-en-us.png) 

This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.



Format
------

**peer** *group-name* **default-route-advertise** [ **route-policy** *route-policy-name* ]

**peer** *group-name* **default-route-advertise** [ **route-policy** *route-policy-name* ] { **conditional-route-match-all** | **conditional-route-match-any** } { *ipv6-address* *mask-length* } &<1-4>

**undo peer** *group-name* **default-route-advertise**


Parameters
----------

| Parameter | Description | Value |
| --- | --- | --- |
| *group-name* | Specifies the name of a peer group. | The name is a string of 1 to 47 case-sensitive characters, with spaces not supported. When double quotation marks are used around the string, spaces are allowed in the string. |
| **route-policy** *route-policy-name* | Specifies the name of the route-policy. | The value is a string of 1 to 200 case-sensitive characters. It cannot contain spaces. When double quotation marks are used around the string, spaces are allowed in the string. |
| **conditional-route-match-all** | Configures the device to send the default route when all conditional routes are matched. | - |
| **conditional-route-match-any** | Configures the device to send the default route when any conditional route is matched. | - |
| *ipv6-address* | Specifies the IPv6 address of a conditional route. | The format is X:X:X:X:X:X:X:X. |
| *mask-length* | Specifies the IPv6 mask length of a conditional route. | It is an integer ranging from 0 to 128. |



Views
-----

BGP-VPN instance IPv6 address family view,BGP multi-instance VPN instance IPv6 address family view


Default Level
-------------

2: Configuration level


Usage Guidelines
----------------

**Usage Scenario**

Generally, default routes are used on networks that have the following characteristics:

* There are multiple EBGP peers, and each peer receives all Internet routes.
* There are multiple RRs, and each RR can receive all Internet routes.If load balancing is not implemented on the network, a BGP peer receives at most one copy of active routes. If load balancing is implemented on the network, the number of active routes received by a BGP peer will be increased, causing the number of routes on the network to sharply increase. To greatly reduce the number of routes on such a network, configure a BGP device to advertise only default routes to its BGP peer and use default routes for traffic load balancing.After this command is run, a BGP device sends a default route with the next hop as itself to its peer or peer group regardless of whether default routes exist in the routing table.

**Precautions**

This command enables the device to advertise the default route generated by itself, and condition-based matching is not used. Therefore, you are not advised to configure if-match clauses in a route-policy.


Example
-------

# Configure a BGP device to advertise default routes to its peer group.
```
<HUAWEI> system-view
[~HUAWEI] ip vpn-instance vpn1
[*HUAWEI-vpn-instance-vpn1] ipv6-family
[*HUAWEI-vpn-instance-vpn1-af-ipv6] route-distinguisher 100:1
[*HUAWEI-vpn-instance-vpn1-af-ipv6] quit
[*HUAWEI-vpn-instance-vpn1] quit
[*HUAWEI] bgp 100
[*HUAWEI-bgp] ipv6-family vpn-instance vpn1
[*HUAWEI-bgp-6-vpn1] group test external
[*HUAWEI-bgp-6-vpn1] peer test as-number 200
[*HUAWEI-bgp-6-vpn1] peer test default-route-advertise

```