peer default-route-advertise(BGP-VPN instance IPv4 address family view)(IPv4)
=============================================================================

peer default-route-advertise(BGP-VPN instance IPv4 address family view)(IPv4)

Function
--------



The **peer default-route-advertise** command configures a device to advertise only default routes to a peer.

The **undo peer default-route-advertise** command restores the default setting.



By default, a BGP device does not advertise any default route to its peer.


Format
------

**peer** *peerIpv4Addr* **default-route-advertise** [ **route-policy** *route-policy-name* ]

**peer** *peerIpv4Addr* **default-route-advertise** [ **route-policy** *route-policy-name* ] { **conditional-route-match-all** | **conditional-route-match-any** } { *ipv4-address* { *mask-length* | *mask* } } &<1-4>

**undo peer** *peerIpv4Addr* **default-route-advertise**


Parameters
----------

| Parameter | Description | Value |
| --- | --- | --- |
| *peerIpv4Addr* | Specifies an IPv4 peer address. | The value is in dotted decimal notation. |
| **route-policy** *route-policy-name* | Specifies the name of a routing policy. | The value is a string of 1 to 200 case-sensitive characters without spaces. The character string can contain spaces if it is enclosed with double quotation marks ("). |
| **conditional-route-match-all** | The default routes are sent to the peer group only when all the conditional routes are matched. | - |
| **conditional-route-match-any** | The default routes are sent to the peer group if any conditional route is matched. | - |
| *ipv4-address* | Specifies the IPv4 address of a peer. | The value is in dotted decimal notation. |
| *mask-length* | Specifies the mask length of the conditional routes. | The value is an integer ranging from 0 to 32. |
| *mask* | Specifies the mask of the conditional routes. | The value is in dotted decimal notation. |



Views
-----

BGP-VPN instance IPv4 address family view


Default Level
-------------

2: Configuration level


Usage Guidelines
----------------

**Usage Scenario**

Generally, default routes are used on networks that have the following characteristics:

* There are multiple EBGP peers, and each peer receives all Internet routes.
* There are multiple RRs, and each RR can receive all Internet routes.If load balancing is not implemented on the network, a BGP peer receives at most one copy of active routes. If load balancing is implemented on the network, the number of active routes received by a BGP peer will be increased, causing the number of routes on the network to sharply increase. To greatly reduce the number of routes on such a network, configure a BGP device to advertise only default routes to its BGP peer and use default routes for traffic load balancing.After this command is run, a BGP device sends a default route with the next hop as itself to its peer or peer group regardless of whether default routes exist in the routing table.

**Precautions**

This command enables the device to advertise the default route generated by itself, and condition-based matching is not used. Therefore, you are not advised to configure if-match clauses in a route-policy.


Example
-------

# Configure a BGP device to advertise default routes to its peer.
```
<HUAWEI> system-view
[~HUAWEI] ip vpn-instance vpn1
[*HUAWEI-vpn-instance-vpn1] ipv4-family
[*HUAWEI-vpn-instance-vpn1-af-ipv4] route-distinguisher 100:1
[*HUAWEI-vpn-instance-vpn1-af-ipv4] quit
[*HUAWEI-vpn-instance-vpn1] quit
[*HUAWEI] bgp 100
[*HUAWEI-bgp] ipv4-family vpn-instance vpn1
[*HUAWEI-bgp-vpn1] peer 10.1.1.1 as-number 100
[*HUAWEI-bgp-vpn1] peer 10.1.1.1 default-route-advertise

```