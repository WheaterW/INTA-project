display isis spf-tree(All views) (VPN)
======================================

display isis spf-tree(All views) (VPN)

Function
--------



The **display isis spf-tree** command displays the topology of the SPT that is generated by IS-IS.




Format
------

**display isis spf-tree** [ **systemid** *systemid* ] [ [ **level-1** | **level-2** ] | **ipv6** | **verbose** ] \* [ *process-id* | **vpn-instance** *vpn-instance-name* ]


Parameters
----------

| Parameter | Description | Value |
| --- | --- | --- |
| **systemid** *systemid* | Specifies the system ID or pseudo node ID. | The value is in the format of XXXX.XXXX.XXXX[.XX]. |
| **level-1** | Displays the SPT topology of Level-1. | - |
| **level-2** | Displays the SPT topology of Level-2. | - |
| **ipv6** | Displays the SPT topology of IPv6.  NOTE:  This parameter is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ. | - |
| **verbose** | Displays detailed information of the SPT topology. | - |
| *process-id* | Displays the SPT topology of a specified IS-IS process. | The value is an integer ranging from 1 to 4294967295. |
| **vpn-instance** *vpn-instance-name* | Specifies the name of a VPN instance. | The value is a string of 1 to 31 case-sensitive characters. It cannot contain spaces. The VPN instance name cannot be \_public\_. If the character string is quoted by double quotation marks, the character string can contain spaces. |



Views
-----

All views


Default Level
-------------

1: Monitoring level


Usage Guidelines
----------------

When an error occurs in the route calculation, run the **display isis spf-tree** command to check whether the IS-IS topology information is correct.


Example
-------

# Display information about the SPT.
```
<HUAWEI> display isis spf-tree
Shortest Path Tree for ISIS(100)
--------------------------------------------------------------------------------

Flags: I-Node is invalid       R-Node is directly reachable
       O-Node is overload      A-Node is affected          
       U-Link is upward        D-Link is downward                        
       F-Link is not on tree   N-Neighbor is attached to link              
       S-Link is IGP Shortcut     
                                                                            
ISIS(100) Level-1 Shortest Path Tree           
--------------------------------------------------------------------------------

Node                NodeFlag  Distance  Link                 LinkFlag   LinkCost
--------------------------------------------------------------------------------
0000.0000.0001.00   -/-/-/-   0                          
                                        ->0000.0000.0003.00  D          10
                                        ->0000.0000.0003.01  D          10
0000.0000.0002.00    -/-/-/-  10                                         
                                        ->0000.0000.0003.01  U          10
                                        ->0000.0000.0006.01  D          10
0000.0000.0003.00    -/-/-/-  10                                         
                                        ->0000.0000.0001.00  U          10
                                        ->0000.0000.0003.01  U          10
0000.0000.0003.01    -/R/-/-  10                                        
                                        ->0000.0000.0001.00  U          0
                                        ->0000.0000.0002.00  D          0
                                        ->0000.0000.0003.00  D          0
0000.0000.0006.00    -/-/-/-  20                                        
                                        ->0000.0000.0006.01  U          10
0000.0000.0006.01    -/-/-/-  20                                         
                                        ->0000.0000.0002.00  U          0
                                        ->0000.0000.0006.00  D          0


ISIS(100) Level-2 Shortest Path Tree
--------------------------------------------------------------------------------

Node                 NodeFlag  Distance  Link                LinkFlag   LinkCost
--------------------------------------------------------------------------------
0000.0000.0001.00    -/-/-/-   0                   
                                         ->0000.0000.0003.00  D         10    
                                         ->0000.0000.0003.01  D         10     
0000.0000.0002.00    -/-/-/-   10                       
                                         ->0000.0000.0003.01  U         10   
                                         ->0000.0000.0006.01  D         10     
0000.0000.0003.00    -/-/-/-   10                                       
                                         ->0000.0000.0001.00  U         10     
                                         ->0000.0000.0003.01  U         10     
0000.0000.0003.01    -/R/-/-   10                                    
                                         ->0000.0000.0001.00  U         0    
                                         ->0000.0000.0002.00  D         0      
                                         ->0000.0000.0003.00  D         0      
0000.0000.0006.00    -/-/-/-   20                     
                                         ->0000.0000.0006.01  U         10     
0000.0000.0006.01    -/-/-/-   20                                
                                         ->0000.0000.0002.00  U         0 
                                         ->0000.0000.0006.00  D         0

```

**Table 1** Description of the **display isis spf-tree(All views) (VPN)** command output
| Item | Description |
| --- | --- |
| Node | Node ID in the network topology. |
| Distance | Distance between two nodes. |
| Link | ID of the node that a link passes. |
| LinkCost | Link cost. |
| Flags | Flag:   * SPT: The node is in the tree. * Direct: The node is a direct node. * Shortcut: The node is on a shortcut link. * Oload: The node is in the Overload state. * Isolate: The node is not in the tree. * MIGP\_Islt: The node is not in the MIGP tree. * V6\_Islt: The node is not in the IPv6 tree. * Del: The node will be deleted. * Remote: The node is on a tunnel. |