lsp-length
==========

lsp-length

Function
--------



The **lsp-length** command configures a length for the LSPs that are generated and received by the current IS-IS system.

The **undo lsp-length** command restores the default setting.



By default, the size of the LSP generated by the IS-IS and the size of the received LSP are 1497 bytes.


Format
------

**lsp-length** { **originate** | **receive** } *max-size*

**undo lsp-length** { **originate** | **receive** }


Parameters
----------

| Parameter | Description | Value |
| --- | --- | --- |
| **originate** | Configures a length for locally generated LSPs. | - |
| **receive** | Configures a length for received LSPs. | - |
| *max-size* | Specifies the maximum length of an LSP, in bytes. | The value is an integer ranging from 512 to 16384, in bytes. The default value is 1497 bytes. |



Views
-----

IS-IS view


Default Level
-------------

2: Configuration level


Usage Guidelines
----------------

**Usage Scenario**

When setting max-size, ensure that the value of max-size for generating LSPs is less than or equal to the value of max-size for receiving LSPs. Otherwise, the configuration fails.The value of max-size set using the **lsp-length originate** command must meet the following requirements (otherwise, the MTU status of the interface is considered down):

* The MTU of a broadcast interface or a P2P interface emulated by a broadcast interface (configured using the **isis circuit-type p2p** command) is greater than or equal to max-size plus 3.
* The MTU of a P2P interface is greater than or equal to max-size.To ensure proper packet forwarding, the value of max-size set using the **lsp-length receive** command must meet the same requirements.The MTU used by IS-IS IPv4 and IPv6 is the MTU configured using the mtu command in the interface view, not the MTU configured using the **ipv6 mtu** command.

**Precautions**

The length of LSPs must be less than the MTU on an IS-IS interface; otherwise, the interface fails to send the LSPs.


Example
-------

# Set the maximum length of locally generated LSPs to 1024 bytes.
```
<HUAWEI> system-view
[~HUAWEI] isis
[*HUAWEI-isis-1] lsp-length originate 1024

```