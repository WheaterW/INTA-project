stub-router
===========

stub-router

Function
--------



The **stub-router** command configures a stub device.

The **undo stub-router** command restores the default configuration.



By default, no router is configured as a stub router.


Format
------

**stub-router** [ [ **on-startup** [ *interval* ] ] | [ **include-stub** ] | [ **external-lsa** [ *externallsa-metric* ] ] | [ **summary-lsa** [ *summarylsa-metric* ] ] ] \*

**undo stub-router**


Parameters
----------

| Parameter | Description | Value |
| --- | --- | --- |
| **on-startup** *interval* | Specifies an interval for the device to remain as a stub router after being restarted. | The value is an integer ranging from 5 to 65535, in seconds. The default value is 500 seconds. |
| **include-stub** | Sets the maximum cost 65535 for the stub links in router-LSAs. | - |
| **external-lsa** *externallsa-metric* | Advertises external-LSAs with the configured or default maximum cost. | The value is an integer ranging from 1 to 16777215. The default value is 16711680. |
| **summary-lsa** *summarylsa-metric* | Advertises summary-LSAs with the configured or default maximum cost. | The value is an integer ranging from 1 to 16777215. The default value is 16711680. |



Views
-----

OSPF view


Default Level
-------------

2: Configuration level


Usage Guidelines
----------------

After the **stub-router** command is run on a device, the device instructs other OSPF devices not to use the stub device to forward data by increasing the cost (65535) of the links in the device-LSA generated by the device. Because the cost is not infinite, other devices can still have a route to the local stub device. In the device-LSA generated by the stub device, when the stub device functions as a transit node, the cost of all links is set to 65535.For stub links generated by the local device (for example, routes to the local loopback interface), the default costs of external LSAs and summary LSAs remain unchanged.To change the cost of the local stub link, add the include-stub parameter.To change the cost of the local external LSA, add the external-lsa parameter.To change the cost of the local summary LSA, add the summary-lsa parameter.


Example
-------

# Configure the stub router.
```
<HUAWEI> system-view
[~HUAWEI] ospf 1
[*HUAWEI-ospf-1] stub-router

```

# Configure the stub router to advertise external-LSAs and summary-LSAs with cost 16777214.
```
<HUAWEI> system-view
[~HUAWEI] ospf 1
[*HUAWEI-ospf-1] stub-router on-startup 65535 include-stub external-lsa 16777214 summary-lsa 16777214

```