ptp virtual-clock-id
====================

ptp virtual-clock-id

Function
--------



The **ptp virtual-clock-id** command configures a virtual clock ID on a 1588v2 device.

The **undo ptp virtual-clock-id** command restores the default clock ID.



By default, a 1588v2 device has only a default clock ID and does not have a virtual clock ID.

A clock ID is 8 bytes long. The default clock ID is generated by padding fffe in the middle of the system MAC address. For example, if the system MAC address is 00e0fc123456, the default clock ID is 00e0fcfffe123456.



![](../public_sys-resources/note_3.0-en-us.png) 

This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H-48S6CQ, CE6881H-48S6CQ-K, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.



Format
------

**ptp virtual-clock-id** *clock-id-value*

**undo ptp virtual-clock-id**


Parameters
----------

| Parameter | Description | Value |
| --- | --- | --- |
| **virtual-clock-id** *clock-id-value* | Specifies the four least significant bytes of a virtual clock ID. | The value ranges from 1 to ffffffff, in hexadecimal notation. |



Views
-----

System view


Default Level
-------------

2: Configuration level


Usage Guidelines
----------------

**Usage Scenario**

A clock ID uniquely identifies a 1588v2 device in a single clock domain. The default clock ID depends on the system MAC address and does not need to be changed in most situations.When the default clock IDs of the two devices are the same, run the ptp virtual-clock-id command to set a virtual clock ID for either of the two devices. The configured virtual clock ID uniquely identifies a 1588v2 device and does not change even if hardware is replaced.

**Prerequisites**

1588v2 has been enabled on the device using the **ptp enable** command.


Example
-------

# Set the four least significant bytes of a virtual clock ID to 00000123.
```
<HUAWEI> system-view
[~HUAWEI] ptp virtual-clock-id 00000123

```