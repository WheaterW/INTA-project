pki import rsa-key-pair
=======================

pki import rsa-key-pair

Function
--------



The **pki import rsa-key-pair** command imports the RSA key pair and the certificate to the device memory.




Format
------

**pki import rsa-key-pair** *keyname* [ **exclude-cert** ] { **pem** | **pkcs12** } *filename* [ **exportable** ] [ **password** *password* ]


Parameters
----------

| Parameter | Description | Value |
| --- | --- | --- |
| *keyname* | Specifies the name of the RSA key pair on the device. | The value is a string of 1 to 64 case-sensitive characters without spaces or question marks (?). The character string can contain spaces if it is enclosed with double quotation marks (""). |
| **exclude-cert** | Indicates not importing the certificates in the file. | - |
| **pem** *filename* | Indicates that the RSA key pair to be imported is in the PEM format and specifies the file name to store the RSA key pair. | The value must be an existing certificate file name that stores the RSA key pair and the certificate. |
| **pkcs12** *filename* | Indicates that the RSA key pair to be imported is in the PKCS12 format and specifies the file name to store the RSA key pair. | The value must be an existing certificate file name that stores the RSA key pair and the certificate. |
| **exportable** | Indicates that the imported RSA key pair can be exported. | - |
| **password** *password* | Specifies the decryption password of the RSA key pair, and the value must be the same as the password set when it was exported. | The value must be the name of an existing decryption password of the RSA key pair. |



Views
-----

System view


Default Level
-------------

2: Configuration level


Usage Guidelines
----------------

**Usage Scenario**

Run this command to use the RSA key pair, certificates, or certificate chains generated by other entities. After the configuration, the imported RSA key pair can be referenced by the PKI module for operations such as signing. The certificates and certificate chains are used for authentication.Windows Server 2003 has a low processing performance. For the device to connect to a Windows Server 2003, the device cannot have too many entities configured or use a large-sized key pair.If you do not know the format of the key pair you want to import, configure each format in turn and check whether the key pair is successfully imported.

**Prerequisites**

The RSA key pair and related certificates must already exist on the storage device.

**Precautions**



It is recommended that the name of the imported RSA key pair contain a maximum of 50 characters. Because when an RSA key pair is imported, if a certificate is imported at the same time, the PKI system adds \_local.cer or \_cax.cer after the name of the RSA key pair to generate a new certificate file name, and saves it to the storage component. If the name of the new certificate contains more than 64 characters after the import, a new certificate file name cannot be generated correctly.When importing a certificate or key pair, ensure that the certificate or key pair is saved in the public directory. For example, go to the public directory:<huawei> cd pki<huawei> cd public/After the import succeeds, the source files in the public directory are deleted by default. If you do not need to delete them, select N as prompted to keep them.




Example
-------

# Import RSA key pair aaa.pem in PEM format. The RSA key pair name is key-1 in the system, the decryption password is YsHsjx\_202206, and the RSA key pair is marked exportable.
```
<HUAWEI> system-view
[~HUAWEI] pki import rsa-key-pair key-1 pem aaa.pem exportable password YsHsjx_202206
 Info: Succeeded in importing the RSA key pair in PEM format.
Warning: The file in the flash will be deleted. Please select 'N' if you want to keep it. Please select [Y/N]:y                     
Info: Delete Success.

```