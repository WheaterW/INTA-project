default-route originate
=======================

default-route originate

Function
--------



The **default-route originate** command configures a device to generate a default route and advertise it to its neighbors, or advertise an exist default route to its neighbors.

The **undo default-route originate** command deletes the default route.



By default, the device does not advertise the default route to its neighbors.


Format
------

**default-route originate** [ [ **cost** *cost* ] | [ **tag** *tag* ] | { { **match** **default** | **route-policy** *route-policy-name* [ **advertise-tag** ] } [ **avoid-learning** ] } ] \*

**undo default-route originate**


Parameters
----------

| Parameter | Description | Value |
| --- | --- | --- |
| **cost** *cost* | Specifies the metric value to be applied while generating a default route. | The value is an integer ranging from 0 to 15. By default, the value is 0. |
| **tag** *tag* | Specifies the tag value to be applied while advertising a default route. | The value is an integer in the range from 0 to 65535. The default value is 0. |
| **match** **default** | Advertises the default routes (if any) in the routing table generated by other routing protocols or RIP processes to neighbors. | - |
| **route-policy** *route-policy-name* | Specifies the name of a route-policy. RIP generates the default route only if the route that matches the route-policy is active in the routing table.  To configure a route-policy, run the route-policy command. | The value is a string of 1 to 200 case-sensitive characters without spaces. The character string can contain spaces if it is enclosed with double quotation marks ("). |
| **advertise-tag** | Specifies inherit the tag value applied through route-policy while advertising default route. | - |
| **avoid-learning** | Prevents a RIP process from importing default routes. If there is an active default route in the routing table and avoid-learning is specified, the default route becomes inactive. | - |



Views
-----

RIP view


Default Level
-------------

2: Configuration level


Usage Guidelines
----------------

**Usage Scenario**

In a routing table, the destination address and mask of a default route are all 0s. If the destination address of a packet does not match any entry in the routing table, the packet is sent along the default route.If no default route exists and the destination address of the packet does not exist in the routing table, the device discards the packet and returns an Internet Control Message Protocol (ICMP) packet to notify the source that the destination address or network is unreachable.When configuring parameters of the command, not the following rules:

* If no parameter is specified in the **default-route originate** command, RIP generates and advertises a default route.
* If route-policy route-policy-name is specified, the default route is generated and advertised only when the routing table contains the route that matches the route-policy.
* If match default is configured, RIP advertises a default route only when the routing table contains a default route generated by another routing protocol or another RIP process.
* If avoid-learning is configured, the local device does not learn the default routes advertised by other neighbors.

**Prerequisites**

A RIP process has been created and the RIP view has been displayed using the **rip** command.


Example
-------

# Set the device to originate the default route which matches the route-policy named filter, and set the cost to 15.
```
<HUAWEI> system-view
[~HUAWEI] route-policy filter permit node 10
[*HUAWEI] quit
[*HUAWEI] rip 100
[*HUAWEI-rip-100] default-route originate route-policy filter cost 15

```

# Set the metric value for the default route to 2.
```
<HUAWEI> system-view
[~HUAWEI] rip 100
[*HUAWEI-rip-100] default-route originate cost 2

```