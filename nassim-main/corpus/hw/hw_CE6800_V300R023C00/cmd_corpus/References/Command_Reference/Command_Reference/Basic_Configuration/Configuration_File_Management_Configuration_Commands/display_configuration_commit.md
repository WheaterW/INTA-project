display configuration commit
============================

display configuration commit

Function
--------



The **display configuration commit** command displays all configurations at a specified configuration rollback point.

The **display configuration** command displays configurations in a specified configuration file. The configuration file must be stored in the root directory of the MPU.

The **display saved-configuration** command displays the configuration file used for startup.




Format
------

**display** { **saved-configuration** [ **last** ] | **configuration** *configuration-file* }

**display configuration commit at** *commit-id*


Parameters
----------

| Parameter | Description | Value |
| --- | --- | --- |
| **saved-configuration** | Displays the setting of the configuration file for the next startup. | - |
| **last** | Displays the system configurations saved last time. | - |
| **configuration** | Display parameter information about the configuration of the autosave function. | - |
| *configuration-file* | Specifies the name of a configuration file. The file must have been created. | The name is a string of 5 to 64 characters in the format of \*.zip, \*.cfg or \*.dat. |
| **at** *commit-id* | Displays configuration changes at a configuration rollback point. | The id is a string of 1 to 22 characters and generated by the system automatically. |



Views
-----

All views


Default Level
-------------

3: Management level


Usage Guidelines
----------------

**Usage Scenario**

* After a configuration command is successfully committed to the system, the system automatically generates a configuration rollback point to record the configuration change information and the all system configurations at the point. You can run the **display configuration commit** command to view all configurations at a specified configuration rollback point. If a fault occurs in the system, you can run the **rollback configuration** command to roll back the system to the configuration before the fault occurs.
* You can run the **save configuration-file** command to save the current configuration as a \*.cfg, \*.zip, or \*.dat file. The \*.cfg file is a text file and can be viewed by running the **more** command. The \*.zip and \*.dat files cannot be viewed by running this command. You can run the **display configuration** command to view the contents of the preceding three types of configuration files to check whether the configurations are correct.
* If the device does not work properly after being powered on, you can run the **display saved-configuration** command to check the startup configuration of the device.
* The **display saved-configuration last** command displays the system configuration saved last time.
* The **display saved-configuration time** command displays the time when the system automatically saves configurations last time.

**Prerequisites**

* A configuration rollback point has been selected from the list displayed using the **display configuration commit list** command.
* The specified configuration file has been created.
* The **set save-configuration** command has been run to enable autosave.


Example
-------

![](../public_sys-resources/note_3.0-en-us.png) 

The actual command output varies according to the device. The command output here is only an example.


# Display information about the configuration file named vrpcfg.cfg.
```
<HUAWEI> display configuration vrpcfg.cfg
#                                                                               
info-center loghost source LoopBack0                                            
info-center loghost 10.1.1.1                                                    
info-center loghost 10.1.1.2                                                    
#
sysname HUAWEI
#
user-interface maximum-vty 15                                                                                                                       
#                                                                               
aaa                                                                             
 local-user admin1234 password cipher $1d$k4:o79a_DJ$dkxW!,\@7Cjr*k+Q}gb'{g{x)#wS1GjQST'EZ]/F$                                            
 local-user admin1234 service-type ssh                                                                                    
#
sftp server enable
ssh user admin1234
ssh user admin1234 authentication-type dsa 
ssh user admin1234 assign dsa-key dsakey001
ssh user admin1234 service-type sftp
ssh user admin1234 sftp-directory flash:/ 
#                                                                               
interface LoopBack0                                                             
 ip address 1.1.1.1 255.255.255.255                                             
#                                                                               
user-interface con 0                                                            
 set authentication password cipher $1d$k4:o79a_DJ$dkxW!,\@7Cjr*k+Q}gb'{g{x)#wS1GjQST'EZ]/F$     
 history-command max-size 30                                                    
#                                                                               
user-interface vty 0 14                                                         
 user privilege level 3       
 idle-timeout 0 0                                                               
#                                                                               
return

```

# Display the configuration file used after the next startup of the device.
```
<HUAWEI> display saved-configuration
#                                                                               
info-center loghost source LoopBack0                                            
info-center loghost 10.1.1.1                                                    
info-center loghost 10.1.1.2                                                    
#
sysname HUAWEI
#
user-interface maximum-vty 15                                                                                                                        
#                                                                               
aaa                                                                             
 local-user admin1234 password cipher $1d$k4:o79a_DJ$dkxW!,\@7Cjr*k+Q}gb'{g{x)#wS1GjQST'EZ]/F$                                                              
 local-user admin1234 service-type ssh                                                                                   
#
sftp server enable
ssh user admin1234
ssh user admin1234 authentication-type dsa 
ssh user admin1234 assign dsa-key dsakey001
ssh user admin1234 service-type sftp
ssh user admin1234 sftp-directory flash:/   
#                                                                             
interface LoopBack0                                                             
 ip address 1.1.1.1 255.255.255.255                                             
#                                                                               
user-interface con 0                                                            
 set authentication password cipher $1d$k4:o79a_DJ$dkxW!,\@7Cjr*k+Q}gb'{g{x)#wS1GjQST'EZ]/F$                    
 history-command max-size 30                                                    
#                                                                               
user-interface vty 0 14                                                         
 user privilege level 3                                                         
 idle-timeout 0 0                                                               
#                                                                               
return

```

# Display all configurations at configuration rollback point 1000000001.
```
<HUAWEI> display configuration commit at 1000000001
#
sysname HUAWEI
#
aaa
 #
 authentication-scheme default
 #
 authorization-scheme default
 #
 accounting-scheme default
 #
 domain default
 #
 domain default_admin
#
interface NULL0
#
            
#
user-interface con 0
#               
vm-manager
#

```