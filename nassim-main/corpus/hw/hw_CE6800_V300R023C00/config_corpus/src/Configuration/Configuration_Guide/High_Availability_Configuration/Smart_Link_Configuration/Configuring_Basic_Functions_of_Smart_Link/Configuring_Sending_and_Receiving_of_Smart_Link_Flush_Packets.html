
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Sending and Receiving of Smart Link Flush Packets">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_smlk_cfg_0005.html">
<meta name="DC.Relation" scheme="URI" content="vrp_smlk_cfg_0006.html">
<meta name="DC.Relation" scheme="URI" content="vrp_smlk_cfg_0008.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Smart Link">
<meta name="featuretype" content="High Availability">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Smart Link">
<meta name="featuretype" content="High Availability">
<meta name="featurename" content="Smart Link">
<meta name="featuretype" content="High Availability">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176663275">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring Sending and Receiving of Smart Link Flush Packets</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176663275"></a><a name="EN-US_TASK_0000001176663275"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Sending and Receiving of Smart Link Flush Packets</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001176663275__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Flush packets enable devices to update entries before they are aged out and allow link switching within milliseconds, minimizing traffic loss. When Flush packets are needed to update MAC address entries and ARP entries, the transmit end and receive end must be configured to send and receive Flush packets, and the two ends must be in the same control VLAN. In addition, Smart Link allows you to configure a password on the receive end for Flush packets to enhance the security of packets. Simple, SHA, and HMAC SHA256 authentication modes are supported. HMAC-SHA256 authentication is recommended because it is an irreversible encryption algorithm.</p>
<p>The format of Flush packets varies according to device vendors. The Flush packets configured in this document are used for communication between Huawei switching devices only. You only need to configure interfaces on the primary and secondary Smart Link links to receive Flush packets.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001176663275__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure the device to send Flush packets.</span><ol type="a"><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the Smart Link group view.</span><p><pre class="screen"><a href="cmdqueryname=smart-link+group"><b><span class="cmdname">smart-link group</span></b></a> <i><span class="varname">group-id</span></i></pre>
</p></li><li class="substepexpand"><span>Configure the Smart Link group to send Flush packets, and configure the encryption mode, control VLAN ID, and password for Flush packets.</span><p><pre class="screen"><strong><a href="cmdqueryname=flush+send"><b><span class="cmdname">flush send</span></b></a></strong><strong><a href="cmdqueryname=control-vlan"><b><span class="cmdname"> control-vlan</span></b></a> </strong><em>vlan-id</em> [ <strong><a href="cmdqueryname=password"><b><span class="cmdname">password</span></b></a></strong> { <strong><strong><span>simple</span></strong></strong> | <strong>sha</strong> | <strong><strong><span>hmac-sha256</span></strong></strong> } <em><i><span class="varname">password</span></i></em> ]</pre>
<p>The VLAN ID specified by <em>vlan-id</em> must already exist on the device. If the specified VLAN ID does not exist, Flush packets cannot be sent.</p>
<p>Devices that send and receive Flush packets must have the same encryption mode, control VLAN ID, and password.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li><p>This command does not add an interface to the control VLAN. You must configure the interface to allow packets of the control VLAN to pass through.</p>
</li><li><p>SHA and HMAC-SHA256 authentication provide higher security than simple authentication.</p>
</li></ul>
</div></div>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176663275__en-us_task_0234857734_screen14848162118611"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176663275__en-us_task_0234857734_cmdname1784862115612">commit</span></b></a></pre>
</p></li></ol>
</li><li><span>Configure interfaces on the primary and secondary links to receive Flush packets.</span><ol type="a"><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the interface view.</span><p><pre class="screen"><strong><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a></strong> <em>interface-type</em> <em>interface-number</em></pre>
</p></li><li class="substepexpand"><span>Configure the interface to receive Flush packets, and set the encryption mode, control VLAN ID, and password for receiving Flush packets.</span><p><pre class="screen"><strong><a href="cmdqueryname=smart-link+flush"><b><span class="cmdname">smart-link flush</span></b></a> <a href="cmdqueryname=receive"><b><span class="cmdname">receive</span></b></a></strong><strong> control-vlan</strong><em> vlan-id</em> [ <strong><samp class="codeph">password</samp></strong> { <strong><strong><span>simple</span></strong></strong> | <strong><strong><span>sha</span></strong></strong> | <strong><strong><span>hmac-sha256</span></strong></strong> } <em>password</em> ]</pre>
<p>The password is optional. If it is not configured, no password is used for authentication. If you reconfigure the control VLAN ID, you also need to reconfigure the password.</p>
<p>The devices that send and receive Flush packets must have the same encryption mode, control VLAN ID, and password.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>SHA and HMAC-SHA256 authentication provide higher security than simple authentication.</p>
</div></div>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176663275__en-us_task_0234857734_screen14848162118611_1"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176663275__en-us_task_0234857734_cmdname1784862115612_1">commit</span></b></a></pre>
</p></li></ol>
</li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_smlk_cfg_0005.html">Configuring Basic Functions of Smart Link
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_smlk_cfg_0006.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_smlk_cfg_0008.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>