
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring IPv6 Multicast Load Splitting">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_mcastv6_cfg_0014.html">
<meta name="DC.Relation" scheme="URI" content="vrp_mcastv6_cfg_0016.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IPv6 Multicast Route Management">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv6 Multicast Route Management">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IPv6 Multicast Route Management">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001583800477">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Example for Configuring IPv6 Multicast Load Splitting</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001583800477"></a><a name="EN-US_TASK_0000001583800477"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring IPv6 Multicast Load Splitting</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001583800477__1.3.1"></a><a name="1.3.1"></a>
<div class="p"><div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>On an IPv6 PIM-SM network where multicast services are stable, configure the stable-preferred multicast load splitting policy so that multicast traffic can be distributed among multiple equal-cost routes for transmission. As shown in <a href="#EN-US_TASK_0000001583800477__fig_dc_vrp_multicast_cfg_009701">Figure 1</a>, there are three equal-cost routes from the device connected with HostA to the multicast source (Source). HostA needs to stably receive multicast data for an extended period of time from the source. An IPv6 load splitting policy needs to be configured to evenly distribute entries to equal-cost routes to implement load splitting among the equal-cost routes.</p>
<div class="fignone" id="EN-US_TASK_0000001583800477__fig_dc_vrp_multicast_cfg_009701"><a name="EN-US_TASK_0000001583800477__fig_dc_vrp_multicast_cfg_009701"></a><a name="fig_dc_vrp_multicast_cfg_009701"></a><span class="figcap"><b>Figure 1 </b>Network diagram of configuring multicast load splitting</span><div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In this example, interface1, interface2, interface3, and interface4 represent <span>100GE</span> <span>1/0/1</span>, <span>100GE</span> <span>1/0/2</span>, <span>100GE</span> <span>1/0/3</span>, and <span>100GE</span> <span>1/0/4</span>, respectively.</p>
</div></div>
<br><span><img class="vsd" src="figure/en-us_image_0000001583640765.png"></span></div>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.1.4.1.4.1.1" liSelected="liSelected"><p>Device</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.1.4.1.4.1.2" liSelected="liSelected"><p>Interface</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.1.4.1.4.1.3" liSelected="liSelected"><p>IP Address</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" rowspan="5" valign="top" width="33.33333333333333%" headers="mcps1.3.1.4.1.4.1.1 "><p><span class="keyword">Device</span>A</p>
<p></p>
<p></p>
<p></p>
<p></p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.1.4.1.4.1.2 "><p>interface1</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.1.4.1.4.1.3 "><p>2001:db8:2001::2/64</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.1 "><p>interface2</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.2 "><p>2001:db8:2002::1/64</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.1 "><p>interface3</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.2 "><p>2001:db8:2003::1/64</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.1 "><p>interface4</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.2 "><p>2001:db8:2004::1/64</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.1 "><p>LoopBack0</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.2 "><p>2001:db8:2000::1/64</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="2" valign="top" width="33.33333333333333%" headers="mcps1.3.1.4.1.4.1.1 "><p><span class="keyword">Device</span>B</p>
<p></p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.1.4.1.4.1.2 "><p>interface1</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.1.4.1.4.1.3 "><p>2001:db8:2002::2/64</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.1 "><p>interface2</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.2 "><p>2001:db8:2005::1/64</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="2" valign="top" width="33.33333333333333%" headers="mcps1.3.1.4.1.4.1.1 "><p><span class="keyword">Device</span>C</p>
<p></p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.1.4.1.4.1.2 "><p>interface1</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.1.4.1.4.1.3 "><p>2001:db8:2003::2/64</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.1 "><p>interface2</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.2 "><p>2001:db8:2006::1/64</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="2" valign="top" width="33.33333333333333%" headers="mcps1.3.1.4.1.4.1.1 "><p><span class="keyword">Device</span>D</p>
<p></p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.1.4.1.4.1.2 "><p>interface1</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.1.4.1.4.1.3 "><p>2001:db8:2004::2/64</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.1 "><p>interface2</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.2 "><p>2001:db8:2007::1/64</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="4" valign="top" width="33.33333333333333%" headers="mcps1.3.1.4.1.4.1.1 "><p><span class="keyword">Device</span>E</p>
<p></p>
<p></p>
<p></p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.1.4.1.4.1.2 "><p>interface1</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.1.4.1.4.1.3 "><p>2001:db8:2005::2/64</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.1 "><p>interface2</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.2 "><p>2001:db8:2006::2/64</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.1 "><p>interface3</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.2 "><p>2001:db8:2007::2/64</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.1 "><p>interface4</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.2 "><p>2001:db8:3001::1/64</p>
</td>
</tr>
</tbody>
</table>
</div>
<h4 class="sectiontitle">Configuration Roadmap</h4><p>The configuration roadmap is as follows:</p>
<ol><li><p>Assign an IPv6 address to each interface involved.</p>
</li><li><p>Configure IPv6 IS-IS to implement interworking among all the devices and ensure that route costs are the same.</p>
</li><li><p>Enable the multicast function on all the devices, enable IPv6 PIM-SM on all the involved interfaces, and configure the loopback interface of DeviceA as an RP.</p>
</li><li><p>Configure stable-preferred multicast load splitting on DeviceE.</p>
</li><li><p>Configure static multicast groups on DeviceE's interface connected to the host.</p>
</li></ol>
</div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001583800477__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Assign an IPv6 address to each interface.</span><p><p># Configure DeviceA.</p>
<pre class="screen">&lt;HUAWEI&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>sysname DeviceA</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>]<strong> commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceA] <strong>interface </strong><strong><span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceA-<span>100GE</span><span>1/0/1</span>] <strong>undo </strong><strong>portswitch</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceA-<span>100GE</span><span>1/0/1</span>] <strong>ipv6 enable</strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/1</span>] <strong>ipv6 address 2001:db8:2001::2/64</strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/1</span>] <strong>quit</strong>
[<span class="keyword">*</span>DeviceA] <strong>interface </strong><strong><span>100GE</span> <span>1/0/2</span></strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/2</span>] <strong>undo </strong><strong>portswitch</strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/2</span>] <strong>ipv6 enable</strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/2</span>] <strong>ipv6 address 2001:db8:2002::1/64</strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/2</span>] <strong>quit</strong>
[<span class="keyword">*</span>DeviceA] <strong>interface </strong><strong><span>100GE</span> <span>1/0/3</span></strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/3</span>] <strong>undo </strong><strong>portswitch</strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/3</span>] <strong>ipv6</strong><strong> enable</strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/3</span>] <strong>ipv6 address 2001:db8:2003::1/64</strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/3</span>] <strong>quit</strong>
[<span class="keyword">*</span>DeviceA] <strong>interface </strong><strong><span>100GE</span> <span>1/0/4</span></strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/4</span>] <strong>undo </strong><strong>portswitch</strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/4</span>] <strong>ipv6</strong><strong> enable</strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/4</span>] <strong>ipv6 address 2001:db8:2004::1/64</strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/4</span>] <strong>quit</strong>
[<span class="keyword">*</span>DeviceA] <strong>interface </strong><strong>Loopback 0</strong>
[<span class="keyword">*</span>DeviceA-LoopBack0] <strong>ipv6 enable</strong>
[<span class="keyword">*</span>DeviceA-LoopBack0] <strong>ipv6 address 2001:db8:2000::1/128</strong>
[<span class="keyword">*</span>DeviceA-LoopBack0] <strong>quit</strong>
[<span class="keyword">*</span>DeviceA] <strong>commit</strong></pre>
<p>The configurations of DeviceB, DeviceC, DeviceD, and DeviceE are similar to the configuration of DeviceA. For detailed configurations, see Configuration Scripts.</p>
</p></li><li><span>Configure IPv6 IS-IS to implement interworking among all the devices and ensure that route costs are the same.</span><p><p># Configure DeviceA.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceA] <strong>isis 1</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceA-isis-1] <strong>ipv6 enable</strong>
[<span class="keyword">*</span>DeviceA-isis-1] <strong>network-entity 10.0000.0000.0001.00</strong>
[<span class="keyword">*</span>DeviceA-isis-1] <strong>quit</strong>
[<span class="keyword">*</span>DeviceA] <strong>interface </strong><strong><span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/1</span>] <strong>isis ipv6 enable 1</strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/1</span>] <strong>quit</strong>
[<span class="keyword">*</span>DeviceA] <strong>interface </strong><strong><span>100GE</span> <span>1/0/2</span></strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/2</span>] <strong>isis ipv6 enable 1</strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/2</span>] <strong>quit</strong>
[<span class="keyword">*</span>DeviceA] <strong>interface </strong><strong><span>100GE</span> <span>1/0/3</span></strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/3</span>] <strong>isis ipv6 enable 1</strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/3</span>] <strong>quit</strong>
[<span class="keyword">*</span>DeviceA] <strong>interface </strong><strong><span>100GE</span> <span>1/0/4</span></strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/4</span>] <strong>isis ipv6 enable 1</strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/4</span>] <strong>quit</strong>
[<span class="keyword">*</span>DeviceA] <strong>interface </strong><strong>Loopback 0</strong>
[<span class="keyword">*</span>DeviceA-LoopBack0] <strong>isis ipv6 enable 1</strong>
[<span class="keyword">*</span>DeviceA-LoopBack0] <strong>quit</strong>
[<span class="keyword">*</span>DeviceA] <strong>commit</strong></pre>
<p>The configurations of DeviceB, DeviceC, DeviceD, and DeviceE are similar to the configuration of DeviceA. For detailed configurations, see Configuration Scripts.</p>
</p></li><li><span>Enable the IPv6 multicast function on all the devices and enable IPv6 PIM-SM on all the involved interfaces.</span><p><p># Configure DeviceA.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceA] <strong>multicast ipv6 routing-enable</strong>
[<span class="keyword">*</span>DeviceA] <strong>interface </strong><strong><span>100GE</span></strong> <strong><span>1/0/1</span></strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/1</span>] <strong>pim ipv6 sm</strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/1</span>] <strong>quit</strong>
[<span class="keyword">*</span>DeviceA] <strong>interface</strong><strong> </strong><strong><span>100GE</span> <span>1/0/2</span></strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/2</span>] <strong>pim ipv6 sm</strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/2</span>] <strong>quit</strong>
[<span class="keyword">*</span>DeviceA] <strong>interface </strong><strong><span>100GE</span> </strong><strong><span>1/0/3</span></strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/3</span>]<strong> pim ipv6 sm</strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/3</span>] <strong>quit</strong>
[<span class="keyword">*</span>DeviceA] <strong>interface</strong> <strong><span>100GE</span> <span>1/0/4</span></strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/4</span>]<strong> pim ipv6 sm</strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/4</span>] <strong>quit</strong>
[<span class="keyword">*</span>DeviceA] <strong>interface Loopback 0</strong>
[<span class="keyword">*</span>DeviceA-LoopBack0] <strong>pim ipv6 sm</strong>
[<span class="keyword">*</span>DeviceA-LoopBack0] <strong>quit</strong>
[<span class="keyword">*</span>DeviceA] <strong>commit</strong></pre>
<p>The configurations of DeviceB, DeviceC, DeviceD, and DeviceE are similar to the configuration of DeviceA. For detailed configurations, see Configuration Scripts.</p>
</p></li><li><span>Enable MLD on the interfaces connected to user hosts.</span><p><p># Enable MLD on the interface connecting DeviceE to the host.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceE] <strong>interface </strong><strong><span>100ge</span> <span>1/0/4</span></strong>
[<span class="keyword">*</span>DeviceE-<span>100GE</span><span>1/0/4</span>] <strong>mld enable</strong>
[<span class="keyword">*</span>DeviceE-<span>100GE</span><span>1/0/4</span>] <strong>quit</strong>
[<span class="keyword">*</span>DeviceE] <strong>commit</strong></pre>
</p></li><li><span>Configure DeviceA as an RP.</span><p><div class="p"># Configure Loopback0's address on DeviceA as the RP address.<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceA] <strong>pim</strong><strong> ipv6</strong>
[<span class="keyword">*</span>DeviceA-pim6] <strong>c-bsr </strong><strong>2001:db8:2000::1</strong>
[<span class="keyword">*</span>DeviceA-pim6] <strong>c-rp </strong><strong>2001:db8:2000::1</strong>
[<span class="keyword">*</span>DeviceA-pim6] <strong>commit</strong></pre>
</div>
</p></li><li><span>Configure stable-preferred multicast load splitting on DeviceE.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceE] <strong>multicast ipv6 load-splitting stable-preferred</strong>
[<span class="keyword">*</span>DeviceE] <strong>commit</strong></pre>
</p></li><li><span>Configure static multicast groups on the interface connected to the host.</span><p><p># Configure static multicast groups FF13::1 to FF13::3 on interface4 of DeviceE, which is connected to the host.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceE] <strong>interface <span>100ge</span> <span>1/0/4</span></strong>
[<span class="keyword">*</span>DeviceE-<span>100GE</span><span>1/0/4</span>] <strong>mld static-group ff13::1</strong> <strong>inc-step-mask</strong><strong> 128 number 3</strong>
[<span class="keyword">*</span>DeviceE-<span>100GE</span><span>1/0/4</span>] <strong>quit</strong>
[<span class="keyword">*</span>DeviceE] <strong>commit</strong></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001583800477__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p># Check the IPv6 PIM routing table on DeviceE. Source (2001:db8:2001::1/64) sends multicast data to multicast groups FF13::1 to FF13::3. HostA can receive the multicast data from the multicast source.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceE] <strong>display pim ipv6 routing-table brief</strong>
 VPN-Instance: public net
 Total 3 (*, G) entries; 3 (S, G) entries

  00001.(*, FF13::1)
       Upstream interface:<span>100GE</span><span>1/0/3</span> 
       Number of downstream:1
  00002.(FC00:0:0:1::2, FF13::1)
       Upstream interface:<span>100GE</span><span>1/0/3</span> 
       Number of downstream:1
  00003.(*, FF13::2)
       Upstream interface: <span>100GE</span><span>1/0/2</span> 
       Number of downstream:1
  00004.(FC00:0:0:1::2, FF13::2)
       Upstream interface: <span>100GE</span><span>1/0/2</span> 
       Number of downstream:1
  00005.(*, FF13::3)
       Upstream interface: <span>100GE</span><span>1/0/1</span>
       Number of downstream:1
  00006.(FC00:0:0:1::2, FF13::3)
       Upstream interface: <span>100GE</span><span>1/0/1</span>
       Number of downstream:1</pre>
<p>(*, G) and (S, G) entries are evenly distributed to the three equal-cost routes, with the upstream interfaces of the routes being <span>100GE</span><span>1/0/3</span>, <span>100GE</span><span>1/0/2</span>, and <span>100GE</span><span>1/0/1</span>.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The load splitting algorithm processes (*, G) and (S, G) entries separately using the same rule.</p>
</div></div>
</div>
<div class="postreq"><a name="EN-US_TASK_0000001583800477__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Configuration Scripts</h4><ul><li><p>DeviceA</p>
<pre class="screen">#
sysname DeviceA
#
multicast ipv6 routing-enable
#
isis 1
 ipv6 enable topology ipv6
 network-entity 10.0000.0000.0001.00
#
interface <span>100GE</span><span>1/0/1</span>
 undo portswitch
 ipv6 enable
 ipv6 address FC00:0:0:1::1/64
 pim ipv6 sm
 isis ipv6 enable 1
#
interface <span>100GE</span><span>1/0/2</span>
 undo portswitch
 ipv6 enable
 ipv6 address FC00:0:0:2::1/64
 pim ipv6 sm
 isis ipv6 enable 1
#
interface <span>100GE</span><span>1/0/3</span>
 undo portswitch
 ipv6 enable
 ipv6 address FC00:0:0:3::1/64
 pim ipv6 sm
 isis ipv6 enable 1
#
interface <span>100GE</span><span>1/0/4</span>
 undo portswitch
 ipv6 enable
 ipv6 address FC00:0:0:4::1/64
 pim ipv6 sm
 isis ipv6 enable 1
#
interface Loopback0
 ipv6 enable
 ipv6 address FC00:1:1:1::1/128
 pim ipv6 sm
 isis ipv6 enable 1
#
pim ipv6
 c-bsr FC00:1:1:1::1
 c-rp FC00:1:1:1::1
#
return</pre>
</li><li><p>DeviceB</p>
<pre class="screen">#
sysname DeviceB
#
multicast ipv6 routing-enable
#
isis 1
 ipv6 enable topology ipv6
 network-entity 10.0000.0000.0002.00
#
interface <span>100GE</span><span>1/0/1</span>
 undo portswitch
 ipv6 enable
 ipv6 address FC00:0:0:2::2/64
 pim ipv6 sm
 isis ipv6 enable 1
#
interface <span>100GE</span><span>1/0/2</span>
 undo portswitch
 ipv6 enable
 ipv6 address FC00:0:0:5::1/64
 pim ipv6 sm
 isis ipv6 enable 1
#
return</pre>
</li><li><p>DeviceC</p>
<pre class="screen">#
sysname DeviceC
#
multicast ipv6 routing-enable
#
isis 1
 ipv6 enable topology ipv6
 network-entity 10.0000.0000.0003.00
#
interface <span>100GE</span><span>1/0/1</span>
 undo portswitch
 ipv6 enable
 ipv6 address FC00:0:0:3::2/64
 pim ipv6 sm
 isis ipv6 enable 1
#
interface <span>100GE</span><span>1/0/2</span>
 undo portswitch
 ipv6 enable
 ipv6 address FC00:0:0:6::1/64
 pim ipv6 sm
 isis ipv6 enable 1
#
return</pre>
</li><li><p>DeviceD</p>
<pre class="screen">#
sysname DeviceD
#
multicast ipv6 routing-enable
#
isis 1
 ipv6 enable topology ipv6
 network-entity 10.0000.0000.0004.00
#
interface <span>100GE</span><span>1/0/1</span>
 undo portswitch
 ipv6 enable
 ipv6 address FC00:0:0:4::2/64
 pim ipv6 sm
 isis ipv6 enable 1
#
interface <span>100GE</span><span>1/0/2</span>
 undo portswitch
 ipv6 enable
 ipv6 address FC00:0:0:7::1/64
 pim ipv6 sm
 isis ipv6 enable 1
#
return</pre>
</li><li><p>DeviceE</p>
<pre class="screen">#
sysname DeviceE
#
multicast ipv6 routing-enable
multicast ipv6 load-splitting stable-preferred
#
isis 1
 ipv6 enable topology ipv6
 network-entity 10.0000.0000.0005.00
#
interface <span>100GE</span><span>1/0/1</span>
 undo portswitch
 ipv6 enable
 ipv6 address FC00:0:0:5::2/64
 isis ipv6 enable 1
 pim ipv6 sm
#
interface <span>100GE</span><span>1/0/2</span>
 undo portswitch
 ipv6 enable
 ipv6 address FC00:0:0:6::2/64
 pim ipv6 sm
 isis ipv6 enable 1
#
interface <span>100GE</span><span>1/0/3</span>
 undo portswitch
 ipv6 enable
 ipv6 address FC00:0:0:7::2/64
 pim ipv6 sm
 isis ipv6 enable 1
#
interface <span>100GE</span><span>1/0/4</span>
 undo portswitch
 ipv6 enable
 ipv6 address FC00:0:0:8::1/64
 mld static-group FF13::1 inc-step-mask 128 number 3
 pim ipv6 sm
 isis ipv6 enable 1
#
return</pre>
</li></ul>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_mcastv6_cfg_0014.html">Configuring IPv6 Multicast Load Splitting
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_mcastv6_cfg_0016.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>