
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Enabling IGMP Snooping Proxy">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_l2mc_over_vxlan_cfg_0022.html">
<meta name="DC.Relation" scheme="URI" content="vrp_l2mc_over_vxlan_cfg_0023.html">
<meta name="DC.Relation" scheme="URI" content="vrp_l2mc_over_vxlan_cfg_0026.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IGMP Snooping over VXLAN">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IGMP Snooping over VXLAN">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IGMP Snooping over VXLAN">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001145100230">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Enabling IGMP Snooping Proxy</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001145100230"></a><a name="EN-US_TASK_0000001145100230"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Enabling IGMP Snooping Proxy</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001145100230__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>When IGMP is disabled on Layer 3 devices (for example, when only a static multicast group is configured), no IGMP querier is available on the network to maintain multicast group memberships. In this case, you can configure IGMP snooping proxy on the Layer 2 device so that it functions as an IGMP querier and sends IGMP Query messages. Conversely, when IGMP is enabled on the network, you can also configure IGMP snooping proxy on a Layer 2 device. In this case, the device sends IGMP Report/Leave messages to its upstream Layer 3 device on behalf of user hosts. This helps reduce the number of such messages sent to the Layer 3 device.</p>
<p>A device configured with IGMP snooping proxy acts as a host for its upstream devices and as a querier for its downstream hosts.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>IGMP snooping proxy involves two functions: querier and message suppression. The two functions can be both enabled in a BD to implement the same functionality as IGMP snooping proxy. In other words, if IGMP snooping proxy has been configured, you do not need to configure the querier or message suppression function. For details about how to configure the querier and message suppression functions, see <a href="vrp_l2mc_over_vxlan_cfg_0024.html">Configuring IGMP Snooping Querier</a> and <a href="vrp_l2mc_over_vxlan_cfg_0011.html">(Optional) Configuring Report/Leave Message Suppression</a>, respectively.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001145100230__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enter the BD view.</span><p><pre class="screen"><a href="cmdqueryname=bridge-domain"><b><span class="cmdname">bridge-domain</span></b></a> <i><span class="varname">bd-id</span></i></pre>
</p></li><li><span>Enable IGMP snooping proxy.</span><p><pre class="screen"><a href="cmdqueryname=igmp+snooping+proxy"><b><span class="cmdname">igmp snooping proxy</span></b></a></pre>
</p></li><li><span>(Optional) Configure the device to transparently transmit protocol messages in the BD.</span><p><pre class="screen"><a href="cmdqueryname=igmp+snooping+proxy+router-protocol-pass"><b><span class="cmdname">igmp snooping proxy router-protocol-pass</span></b></a></pre>
</p><p><p>By default, an IGMP snooping proxy device does not transparently transmit received protocol messages upstream. Instead, it learns multicast forwarding entries from these messages. If IGMP snooping proxy is enabled on both the upstream and downstream devices, you can run this command so that the device transparently forwards the protocol messages it receives on a router port to other router ports, without learning the entries from the messages. In this way, the upstream and downstream devices do not learn entries from each other, which would otherwise cause entry aging problems.</p>
</p></li><li><span>Return to the system view.</span><p><pre class="screen"><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></pre>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001145100230__en-us_task_0228023023_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001145100230__en-us_task_0228023023_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_l2mc_over_vxlan_cfg_0022.html">Configuring IGMP Snooping Proxy over VXLAN
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_l2mc_over_vxlan_cfg_0023.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_l2mc_over_vxlan_cfg_0026.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>