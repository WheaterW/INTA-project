
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring IPv6 IS-IS to Import External Routes">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_isis_ipv6_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="vrp_isis_ipv6_cfg_01127.html">
<meta name="DC.Relation" scheme="URI" content="vrp_isis_ipv6_cfg_0028.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IS-ISv6">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IS-ISv6">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176742053">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring IPv6 IS-IS to Import External Routes</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176742053"></a><a name="EN-US_TASK_0000001176742053"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring IPv6 IS-IS to Import External Routes</h1>
<div class="taskbody"><div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001176742053__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>Before configuring IPv6 IS-IS to import external routes, you have completed the following task:</p>
<ul><li><p><a href="vrp_isis_ipv6_cfg_0011.html">Configure basic IPv6 IS-IS functions</a>. </p>
</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001176742053__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>If a border device of an IPv6 IS-IS routing domain is configured to advertise the default route through IS-IS, all traffic destined beyond the routing domain is forwarded by this border device because the other devices in the domain do not have external routes. As a result, this border device will be overloaded. In addition, if multiple border devices are deployed in the IPv6 IS-IS routing domain, the selected routes to other routing domains may not be optimal. To address these issues, configure the border devices to import external routes so that all the other devices in the local routing domain can learn all, or some, of the external routes from the border devices.</p>
<p>If the other IPv6 IS-IS devices in the local routing domain require only some of the external routes, you can configure an export policy for the border devices to advertise only the required external routes.</p>
<div class="notice"><span class="noticetitle"><img src="public_sys-resources/notice_3.0-en-us.png"> </span><div class="noticebody"><p>IS-IS and other dynamic routing protocols such as OSPF and BGP often import routes from each other. If no routing policy is configured or a routing policy is incorrectly configured on a device where IS-IS, OSPF, and BGP import routes from each other, a Layer 3 routing loop may occur due to a route selection result change. As a result, services are compromised. For details about the cause of the routing loop, see <a href="vrp_isis_ipv4_cfg_0051.html">Understanding Routing Loop Detection for Routes Imported to IS-IS</a>.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001176742053__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enter the IS-IS view.</span><p><pre class="screen"><a href="cmdqueryname=isis"><b><span class="cmdname">isis</span></b></a> [ <i><span class="varname">process-id</span></i> ]</pre>
</p></li><li><span>Configure IPv6 IS-IS to import external routes.</span><p><ul><li>Configure IPv6 IS-IS to import external routes and set a cost for the imported routes.<pre class="screen"><a href="cmdqueryname=ipv6+import-route"><b><span class="cmdname">ipv6 import-route</span></b></a> { <strong><span>direct</span></strong> | <strong><span>static</span></strong> | { <strong><span>ospfv3</span></strong> | <strong><span>ripng</span></strong> | <strong><span>isis</span></strong> } [ <i><span class="varname">process-id</span></i> ] | <strong><span>bgp</span></strong> [ <strong><span>permit-ibgp</span></strong> ] } [ <strong><span>cost</span></strong> <i><span class="varname">cost</span></i> | <strong><span>tag</span></strong> <i><span class="varname">tag</span></i> | { <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> } | [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> | <strong><span>level-1-2</span></strong> ] ] </pre>
</li><li>Configure the device to import external routes and retain their original costs.<pre class="screen"><a href="cmdqueryname=ipv6+import-route"><b><span class="cmdname">ipv6 import-route</span></b></a> { { <strong><span>ospfv3</span></strong> | <strong><span>ripng</span></strong> | <strong><span>isis</span></strong> } [ <i><span class="varname">process-id</span></i> ] | <strong><span>bgp</span></strong> [ <strong><span>permit-ibgp</span></strong> ] | <strong><span>direct</span></strong> } <strong><span>inherit-cost</span></strong> [ <strong><span>tag</span></strong> <i><span class="varname">tag</span></i> | <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> | [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> | <strong><span>level-1-2</span></strong> ] ] </pre>
<p>The protocol from which routes are imported cannot be <strong><span>static</span></strong>.</p>
</li></ul>
</p></li><li><span>(Optional) Configure IPv6 IS-IS to advertise only some imported external routes to the IS-IS routing domain.</span><p><p>By default, IS-IS advertises all imported external routes to an IS-IS routing domain. To advertise only some imported external routes to the IS-IS routing domain, perform this step.</p>
</p><p><pre class="screen"><a href="cmdqueryname=ipv6+filter-policy"><b><span class="cmdname">ipv6 filter-policy</span></b></a> { <i><span class="varname">acl6-numbe</span></i>r | <strong><span>acl6-name</span></strong> <i><span class="varname">acl6-name-string</span></i> | <strong><span>ipv6-prefix</span></strong> <i><span class="varname">ipv6-prefix-name</span></i> | <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> } { <strong><span>export</span></strong> [ <strong><span>direct</span></strong> | <strong><span>static</span></strong> | <strong><span>ripng</span></strong> <i><span class="varname">process-id</span></i> | <strong><span>bgp</span></strong> | <strong><span>ospfv3</span></strong> <i><span class="varname">process-id</span></i> | <strong><span>isis</span></strong> <i><span class="varname">process-id</span></i> ] }</pre>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176742053__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176742053__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001176742053__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <strong>display isis route</strong> [ <em>process-id</em> | <strong>vpn-instance</strong> <em>vpn-instance-name</em> ] <strong>ipv6</strong> [ <strong>verbose</strong> | [ <strong>level-1</strong> | <strong>level-2</strong> ] | <em>ipv6-address</em> [ <em>prefix-length</em> ] ] command to check IPv6 IS-IS routing information.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_isis_ipv6_cfg_0001.html">IS-ISv6 Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_isis_ipv6_cfg_01127.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_isis_ipv6_cfg_0028.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>