
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Understanding PIM-DM">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_pim_cfg_0005.html">
<meta name="DC.Relation" scheme="URI" content="vrp_pim_cfg_0007.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001176663373">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Understanding PIM-DM</title>
</head>
<body><a name="EN-US_CONCEPT_0000001176663373"></a><a name="EN-US_CONCEPT_0000001176663373"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Understanding PIM-DM</h1>
<div><p>Multicast protocols are required to implement data forwarding on a multicast network. PIM is the most widely used intra-domain multicast protocol. PIM-DM is one of the implementation modes of PIM.</p>
<p>PIM-DM mainly uses the flooding-prune mechanism to implement multicast data forwarding. Specifically, PIM-DM floods multicast data to all network segments and then prunes the network segments with no multicast group members. Through periodic flooding-prune operations, a unidirectional loop-free SPT that connects a multicast source and multicast group members is established, maintained, and used to forward multicast data. A large number of <a href="vrp_pim_cfg_0004.html#EN-US_CONCEPT_0000001130783604__section_dc_vrp_multicast_feature_300505">Prune messages</a> are generated on a network with sparsely distributed group members, and the flooding-prune period is lengthy on a large-scale network. Therefore, PIM-DM applies to small-scale networks with densely distributed multicast group members.</p>
<div class="fignone"><span class="figcap"><b>Figure 1 </b>PIM-DM networking</span><br><span><img class="vsd" src="figure/en-us_image_0000001176663411.png" width="NaN" height="NaN"></span></div>
<div class="section"><h4 class="sectiontitle">Implementation</h4><div class="p">The multicast data forwarding process in a PIM-DM domain is as follows:<ol><li><p><a href="#EN-US_CONCEPT_0000001176663373__section_dc_vrp_multicast_feature_311104">Neighbor Discovery</a>: Each PIM device in a PIM-DM domain periodically sends <a href="vrp_pim_cfg_0004.html#EN-US_CONCEPT_0000001130783604__section_dc_vrp_multicast_feature_300502">Hello messages</a> to all other PIM devices to discover PIM neighbors and maintain PIM neighbor relationships. By default, a PIM device permits other PIM control messages or multicast packets received from a neighbor, regardless of whether the PIM device has received Hello messages from the neighbor before. However, if the neighbor check function is configured on a PIM device, the PIM device permits other PIM control messages or multicast packets received from a neighbor only after the PIM device receives Hello messages from the neighbor.</p>
</li><li><p><a href="#EN-US_CONCEPT_0000001176663373__section_dc_vrp_multicast_feature_311105">Flooding</a>: PIM-DM assumes that each subnet on the network has at least one multicast group member. Therefore, multicast data is flooded to all nodes on the network, and all PIM devices on the network can receive the multicast data.</p>
</li><li><p><a href="#EN-US_CONCEPT_0000001176663373__section_dc_vrp_multicast_feature_311106">Prune</a>: After flooding multicast data, PIM-DM prunes network segments that have no multicast data receiver, retaining only the network segments that have multicast data receivers. In this way, only the PIM devices that require multicast data can receive the data.</p>
</li><li><p><a href="#EN-US_CONCEPT_0000001176663373__section_dc_vrp_multicast_feature_311107">State-refresh</a>: An upstream PIM device maintains a prune timer for each downstream device that no longer needs multicast data. When the prune timer expires, the upstream PIM device resumes forwarding data to the downstream PIM device although it does not need the data, which wastes network resources. State-refresh enables the first-hop device, which is nearest to the multicast source, to periodically send <a href="vrp_pim_cfg_0004.html#EN-US_CONCEPT_0000001130783604__section_dc_vrp_multicast_feature_300514">State-Refresh messages</a> to refresh the prune timers for downstream devices. In this way, the first-hop device retains the pruned state for the downstream devices that do not require multicast data.</p>
</li><li><p><a href="#EN-US_CONCEPT_0000001176663373__section_dc_vrp_multicast_feature_311108">Graft</a>: When a multicast group member requests multicast data from a pruned node, PIM-DM uses the graft mechanism to resume forwarding data, which reduces the time required for the node to restore to the forwarding state.</p>
</li><li><p><a href="#EN-US_CONCEPT_0000001176663373__section_dc_vrp_multicast_feature_311109">Assert</a>: If multiple PIM devices exist on a network segment, the same multicast packets may be sent to the network segment repeatedly. The <a href="#EN-US_CONCEPT_0000001176663373__section_dc_vrp_multicast_feature_311109">Assert</a> mechanism can be used to select only one multicast data forwarder for a network segment, preventing redundant multicast data forwarding.</p>
</li></ol>
</div>
</div>
<div class="section" id="EN-US_CONCEPT_0000001176663373__section_dc_vrp_multicast_feature_311104"><a name="EN-US_CONCEPT_0000001176663373__section_dc_vrp_multicast_feature_311104"></a><a name="section_dc_vrp_multicast_feature_311104"></a><h4 class="sectiontitle">Neighbor Discovery</h4><div class="p" id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_p188514094214011">Each PIM-enabled interface on a PIM device sends <a href="vrp_pim_cfg_0004.html#EN-US_CONCEPT_0000001130783604__section_dc_vrp_multicast_feature_300502">Hello messages</a>. A multicast packet that carries a <a href="vrp_pim_cfg_0004.html#EN-US_CONCEPT_0000001130783604__section_dc_vrp_multicast_feature_300502">Hello message</a> has the following characteristics:<ul id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_ul105221683214011"><li id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_li958897398214011"><p id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_p1471281098214011"><a name="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_li958897398214011"></a><a name="en-us_concept_0000001176743279_li958897398214011"></a>The destination address is 224.0.0.13, indicating that this packet is destined for all PIM devices on the same network segment as the interface that sent this packet.</p>
</li><li id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_li201331438214011"><p id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_p1490734441214011"><a name="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_li201331438214011"></a><a name="en-us_concept_0000001176743279_li201331438214011"></a>The source address is an interface IP address.</p>
</li><li id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_li1286423774214011"><p id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_p59011622214011"><a name="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_li1286423774214011"></a><a name="en-us_concept_0000001176743279_li1286423774214011"></a>The TTL value is 1, indicating that the packet is sent only to neighbor interfaces.</p>
</li></ul>
</div>
<p id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_p1405660141214011"><a href="vrp_pim_cfg_0004.html#EN-US_CONCEPT_0000001130783604__section_dc_vrp_multicast_feature_300502">Hello messages</a> are used to discover neighbors, negotiate protocol parameters, and maintain neighbor relationships.</p>
<p id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_p198103313410"><strong id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_b113171331154414">Discovering PIM neighbors</strong></p>
<p id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_p49098293417">All PIM devices on the same network segment must receive multicast packets with the destination address 224.0.0.13. Directly connected multicast <span class="keyword" id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_keyword14628953163318">devices</span> can then learn neighbor information from received <a href="vrp_pim_cfg_0004.html#EN-US_CONCEPT_0000001130783604__section_dc_vrp_multicast_feature_300502">Hello messages</a>.</p>
<p id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_p3920459154110"><strong id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_b978971615474">Negotiating protocol parameters</strong></p>
<p id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_p32418849214011"><a href="vrp_pim_cfg_0004.html#EN-US_CONCEPT_0000001130783604__section_dc_vrp_multicast_feature_300502">Hello messages</a> carry multiple protocol parameters, which are negotiated between neighbors and are described as follows:</p>
<ul id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_ul664260452214011"><li id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_li1303651098214011"><p id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_p1835837392214011"><a name="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_li1303651098214011"></a><a name="en-us_concept_0000001176743279_li1303651098214011"></a>DR_Priority: priority used by each <span class="keyword" id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_keyword17628053123316">device</span> interface to elect a DR. The higher the priority, the higher the probability that the interface will be elected as the DR.</p>
</li><li id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_li1446977855214011"><p id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_p1251990357214011"><a name="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_li1446977855214011"></a><a name="en-us_concept_0000001176743279_li1446977855214011"></a>Holdtime: timeout period during which a neighbor remains in the reachable state.</p>
</li><li id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_li184811742214011"><p id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_p869594232214011"><a name="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_li184811742214011"></a><a name="en-us_concept_0000001176743279_li184811742214011"></a>LAN_Delay: delay for transmitting a <a href="vrp_pim_cfg_0004.html#EN-US_CONCEPT_0000001130783604__section_dc_vrp_multicast_feature_300505">Prune message</a> on the shared network segment.</p>
</li><li id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_li1018595789214011"><p id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_p1947275486214011"><a name="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_li1018595789214011"></a><a name="en-us_concept_0000001176743279_li1018595789214011"></a>Override-Interval: interval carried in a <a href="vrp_pim_cfg_0004.html#EN-US_CONCEPT_0000001130783604__section_dc_vrp_multicast_feature_300502">Hello message</a> for overriding a Prune action.</p>
</li></ul>
<p id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_p144781532174215"><strong id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_b82481127195614">Maintaining neighbor relationships</strong></p>
<p id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_p437920313214011">PIM devices periodically exchange <a href="vrp_pim_cfg_0004.html#EN-US_CONCEPT_0000001130783604__section_dc_vrp_multicast_feature_300502">Hello messages</a>. If a PIM device does not receive a new <a href="vrp_pim_cfg_0004.html#EN-US_CONCEPT_0000001130783604__section_dc_vrp_multicast_feature_300502">Hello message</a> from its PIM neighbor within the holdtime, the device considers the neighbor unreachable and deletes it from the neighbor list.</p>
<p id="EN-US_CONCEPT_0000001176663373__en-us_concept_0000001176743279_p634861911214011">Changes of PIM neighbors will lead to multicast topology changes on the network. If an upstream or a downstream neighbor along an MDT becomes unreachable, multicast routes re-converge, and the MDT is updated.</p>
</div>
<div class="section" id="EN-US_CONCEPT_0000001176663373__section_dc_vrp_multicast_feature_311105"><a name="EN-US_CONCEPT_0000001176663373__section_dc_vrp_multicast_feature_311105"></a><a name="section_dc_vrp_multicast_feature_311105"></a><h4 class="sectiontitle">Flooding</h4><p>In <a href="#EN-US_CONCEPT_0000001176663373__fig_dc_vrp_multicast_feature_311101">Figure 2</a>, the multicast source sends data packets to <span class="keyword">Device</span>A, which then sends them to all its neighbors. In this case, <span class="keyword">Device</span>B and <span class="keyword">Device</span>C also forward data packets to each other. PIM-DM, however, uses the RPF mechanism to ensure that data is accepted from only one direction. (For details about the RPF check, see RPF Check.) Finally, data is flooded to <span class="keyword">Device</span>B with receivers, and <span class="keyword">Device</span>C without receivers. This process is called flooding.</p>
<div class="fignone" id="EN-US_CONCEPT_0000001176663373__fig_dc_vrp_multicast_feature_311101"><a name="EN-US_CONCEPT_0000001176663373__fig_dc_vrp_multicast_feature_311101"></a><a name="fig_dc_vrp_multicast_feature_311101"></a><span class="figcap"><b>Figure 2 </b>PIM-DM flooding</span><br><span><img class="vsd" src="figure/en-us_image_0000001130623878.png" width="NaN" height="NaN"></span></div>
</div>
<div class="section" id="EN-US_CONCEPT_0000001176663373__section_dc_vrp_multicast_feature_311106"><a name="EN-US_CONCEPT_0000001176663373__section_dc_vrp_multicast_feature_311106"></a><a name="section_dc_vrp_multicast_feature_311106"></a><h4 class="sectiontitle">Prune</h4><p>As shown in <a href="#EN-US_CONCEPT_0000001176663373__fig_dc_vrp_multicast_feature_311102">Figure 3</a>, <span class="keyword">Device</span>C does not have receivers. Therefore, it does not need multicast data. In this case, it sends a <a href="vrp_pim_cfg_0004.html#EN-US_CONCEPT_0000001130783604__section_dc_vrp_multicast_feature_300505">Prune message</a> upstream to <span class="keyword">Device</span>A, instructing <span class="keyword">Device</span>A to stop forwarding data to the downstream network segment. After receiving the Prune message, <span class="keyword">Device</span>A stops forwarding data through the corresponding downstream interface. This process is called prune.</p>
<p>Because <span class="keyword">Device</span>A still has another downstream interface, which is in the forwarding state, <span class="keyword">Device</span>A keeps forwarding multicast data to <span class="keyword">Device</span>B. The subsequent multicast data is forwarded only to <span class="keyword">Device</span>B. In this manner, a unidirectional loop-free SPT connecting the multicast source and the receiver is established.</p>
<div class="fignone" id="EN-US_CONCEPT_0000001176663373__fig_dc_vrp_multicast_feature_311102"><a name="EN-US_CONCEPT_0000001176663373__fig_dc_vrp_multicast_feature_311102"></a><a name="fig_dc_vrp_multicast_feature_311102"></a><span class="figcap"><b>Figure 3 </b>PIM-DM prune</span><br><span><img class="vsd" src="figure/en-us_image_0000001176663423.png" width="NaN" height="NaN"></span></div>
</div>
<div class="section" id="EN-US_CONCEPT_0000001176663373__section_dc_vrp_multicast_feature_311107"><a name="EN-US_CONCEPT_0000001176663373__section_dc_vrp_multicast_feature_311107"></a><a name="section_dc_vrp_multicast_feature_311107"></a><h4 class="sectiontitle">State-Refresh</h4><p>In <a href="#EN-US_CONCEPT_0000001176663373__fig_dc_fd_pim_000605">Figure 4</a>, when the network segment where <span class="keyword">Device</span>C resides enters the pruned state, <span class="keyword">Device</span>A starts a prune timer for the interface connected to <span class="keyword">Device</span>C. When the prune timer expires, <span class="keyword">Device</span>A resumes forwarding data to <span class="keyword">Device</span>C although it does not need the data, which wastes network resources.</p>
<p>PIM-DM uses the State-Refresh feature to solve this problem. The first-hop device (<span class="keyword">Device</span>A), which is nearest to the multicast source, periodically floods <a href="vrp_pim_cfg_0004.html#EN-US_CONCEPT_0000001130783604__section_dc_vrp_multicast_feature_300514">State-Refresh messages</a> on the entire network to refresh the prune timers of all downstream devices. In this way, the downstream devices that do not require multicast data remain in the pruned state.</p>
<div class="fignone" id="EN-US_CONCEPT_0000001176663373__fig_dc_fd_pim_000605"><a name="EN-US_CONCEPT_0000001176663373__fig_dc_fd_pim_000605"></a><a name="fig_dc_fd_pim_000605"></a><span class="figcap"><b>Figure 4 </b>PM-DM state-refresh</span><br><span><img class="vsd" src="figure/en-us_image_0000001176743333.png" width="NaN" height="NaN"></span></div>
<p>The state-refresh process is as follows:</p>
<ol><li>DeviceA sends a State-Refresh message to DeviceB and DeviceC.</li><li>DeviceA has a pruned interface and refreshes the prune timer state of this interface. When the next flooding-prune process starts, the pruned interface on DeviceA is still disabled from forwarding multicast packets, because DeviceC does not have receivers.</li></ol>
</div>
<div class="section" id="EN-US_CONCEPT_0000001176663373__section_dc_vrp_multicast_feature_311108"><a name="EN-US_CONCEPT_0000001176663373__section_dc_vrp_multicast_feature_311108"></a><a name="section_dc_vrp_multicast_feature_311108"></a><h4 class="sectiontitle">Graft</h4><p>In <a href="#EN-US_CONCEPT_0000001176663373__fig_dc_vrp_multicast_feature_311103">Figure 5</a>, when <span class="keyword">Device</span>C in the pruned state receives an IGMP Report message from HostB, PIM-DM uses the graft function to implement fast data forwarding, without waiting a flooding-prune period. The graft function works as follows:</p>
<p><span class="keyword">Device</span>C sends a <a href="vrp_pim_cfg_0004.html#EN-US_CONCEPT_0000001130783604__section_dc_vrp_multicast_feature_300508">Graft message</a> upstream to require <span class="keyword">Device</span>A to restore the forwarding status of the corresponding outbound interface. After receiving the Graft message, <span class="keyword">Device</span>A restores the forwarding status of the downstream interface connected to <span class="keyword">Device</span>C and forwards multicast data packets to <span class="keyword">Device</span>C through this downstream interface.</p>
<div class="fignone" id="EN-US_CONCEPT_0000001176663373__fig_dc_vrp_multicast_feature_311103"><a name="EN-US_CONCEPT_0000001176663373__fig_dc_vrp_multicast_feature_311103"></a><a name="fig_dc_vrp_multicast_feature_311103"></a><span class="figcap"><b>Figure 5 </b>PIM-DM graft</span><br><span><img class="vsd" src="figure/en-us_image_0000001176743341.png" width="NaN" height="NaN"></span></div>
</div>
<div class="section" id="EN-US_CONCEPT_0000001176663373__section_dc_vrp_multicast_feature_311109"><a name="EN-US_CONCEPT_0000001176663373__section_dc_vrp_multicast_feature_311109"></a><a name="section_dc_vrp_multicast_feature_311109"></a><h4 class="sectiontitle">Assertion</h4><p>Either of the following conditions indicates that another multicast forwarder exists on the network segment:</p>
<ul><li><p>A multicast packet fails the RPF check.</p>
</li><li><p>The interface that receives a multicast packet is a downstream interface corresponding to the (S, G) entry on the local <span class="keyword">device</span>.</p>
</li></ul>
<p>In this case, the <span class="keyword">device</span> performs the Assert mechanism. The <span class="keyword">device</span> sends an <a href="vrp_pim_cfg_0004.html#EN-US_CONCEPT_0000001130783604__section_dc_vrp_multicast_feature_300507">Assert message</a> through the downstream interface. The downstream interface also receives an <a href="vrp_pim_cfg_0004.html#EN-US_CONCEPT_0000001130783604__section_dc_vrp_multicast_feature_300507">Assert message</a> from a different multicast forwarder on the network segment. In the packet in which an <a href="vrp_pim_cfg_0004.html#EN-US_CONCEPT_0000001130783604__section_dc_vrp_multicast_feature_300507">Assert message</a> is encapsulated, the destination address is 224.0.0.13, the source address is the downstream interface's address, and the TTL value is 1. The <a href="vrp_pim_cfg_0004.html#EN-US_CONCEPT_0000001130783604__section_dc_vrp_multicast_feature_300507">Assert message</a> carries the route cost from the PIM device to the multicast source or RP, the priority of the used unicast routing protocol, and the address of the multicast group (G).</p>
<div class="p">The <span class="keyword">device</span> compares its information with that contained in the received message for Assert election. The rules are as follows:<ol><li><p>The device with the highest unicast routing priority wins.</p>
</li><li><p>If devices have the same unicast routing priority, the one with the smallest route cost to the multicast source or RP wins.</p>
</li><li><p>If all the preceding conditions are the same, the device with the highest downstream interface IP address wins.</p>
</li></ol>
</div>
<p>The <span class="keyword">device</span> performs the following operations based on the Assert election result:</p>
<ul><li><p>If the <span class="keyword">device</span> wins the election, its downstream interface remains in the forwarding state and is responsible for forwarding multicast packets corresponding to the (S, G) entry on the network segment. This downstream interface is called an Assert winner.</p>
</li><li><p>If the <span class="keyword">device</span> fails in the election, its downstream interface is prohibited from forwarding multicast packets and is deleted from the downstream interface list of the (S, G) entry. This downstream interface is called an Assert loser.</p>
</li></ul>
<p>After Assert election is complete, only one upstream <span class="keyword">device</span> has a downstream interface that serves the network segment, and the downstream interface transmits only one copy of each multicast packet. The Assert winner then periodically sends <a href="vrp_pim_cfg_0004.html#EN-US_CONCEPT_0000001130783604__section_dc_vrp_multicast_feature_300507">Assert messages</a> to maintain its status as the Assert winner. If the Assert loser does not receive any <a href="vrp_pim_cfg_0004.html#EN-US_CONCEPT_0000001130783604__section_dc_vrp_multicast_feature_300507">Assert message</a> from the Assert winner within the timer maintained by the Assert loser, the loser restores the forwarding status of its downstream interface.</p>
<p>In <a href="#EN-US_CONCEPT_0000001176663373__fig_dc_vrp_multicast_feature_311104">Figure 6</a>, <span class="keyword">Device</span>B and <span class="keyword">Device</span>C can receive multicast packets from the multicast source, and the multicast packets pass the RPF check. Therefore, an (S, G) entry is created on both <span class="keyword">Device</span>B and <span class="keyword">Device</span>C. Because the downstream interfaces of <span class="keyword">Device</span>B and <span class="keyword">Device</span>C are connected to the same network segment, <span class="keyword">Device</span>B and <span class="keyword">Device</span>C can both send multicast data to the network segment. In this case, the Assert mechanism ensures that only one multicast data forwarder serves a network segment. The Assert process is as follows:</p>
<ol><li><p><span class="keyword">Device</span>B receives a multicast packet from <span class="keyword">Device</span>C through a downstream interface. The packet fails the RPF check and is discarded. In addition, <span class="keyword">Device</span>B sends an <a href="vrp_pim_cfg_0004.html#EN-US_CONCEPT_0000001130783604__section_dc_vrp_multicast_feature_300507">Assert message</a> to the network segment.</p>
</li><li><p><span class="keyword">Device</span>C compares its routing information with that carried in the received Assert message. <span class="keyword">Device</span>C fails the Assert election because its route cost to the source is higher. As a result, the downstream interface of <span class="keyword">Device</span>C is prohibited from forwarding multicast packets and deleted from the downstream interface list of the (S, G) entry.</p>
</li><li><p><span class="keyword">Device</span>C receives a multicast packet of the network segment from <span class="keyword">Device</span>B. However, the packet fails the RPF check and is discarded. At this point, the Assert process ends.</p>
</li></ol>
<div class="fignone" id="EN-US_CONCEPT_0000001176663373__fig_dc_vrp_multicast_feature_311104"><a name="EN-US_CONCEPT_0000001176663373__fig_dc_vrp_multicast_feature_311104"></a><a name="fig_dc_vrp_multicast_feature_311104"></a><span class="figcap"><b>Figure 6 </b>PIM-DM assert</span><br><span><img class="vsd" src="figure/en-us_image_0000001176743323.png" width="NaN" height="NaN"></span></div>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_pim_cfg_0005.html">Configuring PIM-DM
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_pim_cfg_0007.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>