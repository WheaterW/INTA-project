
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring the Maximum Number of Connections That Affects the Eth-Trunk Bandwidth for Spanning Tree Calculation">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_stp_cfg_1097.html">
<meta name="DC.Relation" scheme="URI" content="vrp_stp_cfg_1104.html">
<meta name="DC.Relation" scheme="URI" content="vrp_stp_cfg_1106.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="MSTP">
<meta name="featurename" content="RSTP">
<meta name="featurename" content="STP">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MSTP">
<meta name="featurename" content="RSTP">
<meta name="featurename" content="STP">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featurename" content="MSTP">
<meta name="featurename" content="RSTP">
<meta name="featurename" content="STP">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001345318777">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring the Maximum Number of Connections That Affects the Eth-Trunk Bandwidth for Spanning Tree Calculation</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001345318777"></a><a name="EN-US_TASK_0000001345318777"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring the Maximum Number of Connections That Affects the Eth-Trunk Bandwidth for Spanning Tree Calculation</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001345318777__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>The path cost is an important metric used in spanning tree calculation. Changing path costs triggers spanning tree recalculation. The interface bandwidth affects the path cost, so you can change the interface bandwidth to affect spanning tree calculation.</p>
<div class="p">In <a href="#EN-US_TASK_0000001345318777__fig151951930195417">Figure 1</a>, DeviceA and DeviceB are connected through Eth-Trunks, among which Eth-Trunk 1 and Eth-Trunk 2 have three and two active member links, respectively. If each member link has the same bandwidth and DeviceA has been elected as the root bridge, then:<ul><li>Eth-Trunk 1 has a higher bandwidth than Eth-Trunk 2. After spanning tree calculation, Eth-Trunk 1 and Eth-Trunk 2 on DeviceB will be elected as the root port and an alternate port, respectively.</li><li>If the maximum number of connections for Eth-Trunk 1 is set to 1, the path cost for Eth-Trunk 1 will be larger than Eth-Trunk 2. The spanning tree will then be recalculated, after which, Eth-Trunk 1 and Eth-Trunk 2 on DeviceB will become an alternate port and the root port, respectively.</li></ul>
</div>
<div class="fignone" id="EN-US_TASK_0000001345318777__fig151951930195417"><a name="EN-US_TASK_0000001345318777__fig151951930195417"></a><a name="fig151951930195417"></a><span class="figcap"><b>Figure 1 </b>Configuring the maximum number of connections that affects the Eth-Trunk bandwidth</span><br><span><img class="vsd" src="figure/en-us_image_0000001345318853.png"></span></div>
<p>The maximum number of connections only affects the path cost for interfaces that participate in spanning tree calculation, and not the actual link bandwidth. The actual link bandwidth for traffic forwarding on an Eth-Trunk interface depends on the number of active member interfaces in the Eth-Trunk interface.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001345318777__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enter the Eth-Trunk interface view.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <strong><span>eth-trunk</span></strong> <i><span class="varname">trunk-id</span></i></pre>
</p></li><li id="EN-US_TASK_0000001345318777__step753719598414"><span id="EN-US_TASK_0000001345318777__cmd2537159114115">Switch the interface working mode to Layer 2.</span><p><pre class="screen" id="EN-US_TASK_0000001345318777__screen242613534459"><a href="cmdqueryname=portswitch"><b><span class="cmdname" id="EN-US_TASK_0000001345318777__cmdname942715314511">portswitch</span></b></a></pre>
<p id="EN-US_TASK_0000001345318777__p1175711105814">Determine whether to perform this step based on the current interface working mode.</p>
</p></li><li><span>Set the maximum number of connections that affects the Eth-Trunk bandwidth for spanning tree calculation.</span><p><pre class="screen"><a href="cmdqueryname=max+bandwidth-affected-linknumber"><b><span class="cmdname">max bandwidth-affected-linknumber</span></b></a> <i><span class="varname">link-number</span></i></pre>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001345318777__en-us_task_0234857734_en-us_task_0228023023_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001345318777__en-us_task_0234857734_en-us_task_0228023023_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0000001345318777__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+this"><b><span class="cmdname">display this</span></b></a> command in the Eth-Trunk view to check the configuration.</p>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_stp_cfg_1097.html">Configuring Parameters That Affect STP/RSTP/MSTP Topology Convergence
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_stp_cfg_1104.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_stp_cfg_1106.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>