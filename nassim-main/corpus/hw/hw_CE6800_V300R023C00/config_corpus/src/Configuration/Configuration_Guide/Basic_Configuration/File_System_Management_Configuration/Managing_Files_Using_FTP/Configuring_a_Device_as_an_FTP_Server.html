
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a Device as an FTP Server">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_file_cfg_0008.html">
<meta name="DC.Relation" scheme="URI" content="vrp_file_cfg_0010.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="FTP">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="FTP">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="featurename" content="FTP">
<meta name="featurename" content="SCP">
<meta name="featurename" content="SFTP">
<meta name="featurename" content="TFTP">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001563990885">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring a Device as an FTP Server</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001563990885"></a><a name="EN-US_TASK_0000001563990885"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a Device as an FTP Server</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001563990885__1.3.1"></a><a name="1.3.1"></a>
<div class="p"><h4 class="sectiontitle">Prerequisites</h4><p>You can log in to a device that functions as an FTP server from a terminal to manage files. FTP is widely used for file service operations such as system software upgrade.</p>
<p>Before configuring a device as an FTP server to manage files, you have completed the following tasks:</p>
<ul><li>Ensure that there are reachable routes between the terminal and the device.</li><li>Ensure that the terminal has FTP client software installed.</li><li>The weak security algorithm/protocol feature package (WEAKEA) has been installed using the <strong>install feature-software WEAKEA</strong> command.</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001563990885__1.3.2"></a><a name="1.3.2"></a>
<div class="p"><h4 class="sectiontitle">Context</h4><div class="notice"><span class="noticetitle"><img src="public_sys-resources/notice_3.0-en-us.png"> </span><div class="noticebody"><p>SFTP V2<span> or SCP</span> is more secure than FTP, and is therefore recommended.</p>
<p>In FIPS mode, FTP cannot be used to manage files.</p>
</div></div>
<p><a href="#EN-US_TASK_0000001563990885__table12310195121710">Table 1</a> describes the process for configuring a device as an FTP server for file management. Tasks 1, 2, 3, and 4 can be performed in any sequence.</p>

<div class="tableBorder"><a name="EN-US_TASK_0000001563990885__table12310195121710"></a><a name="table12310195121710"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TASK_0000001563990885__table12310195121710" frame="hsides" border="1" rules="all"><caption><b>Table 1 </b>Configuring a device as an FTP server for file management</caption><thead align="left"><tr><th align="center" class="cellrowborder" valign="top" width="11.540000000000001%" id="mcps1.3.2.4.2.4.1.1" liSelected="liSelected"><p>No.</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="33.93%" id="mcps1.3.2.4.2.4.1.2" liSelected="liSelected"><p>Task</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="54.53%" id="mcps1.3.2.4.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr valign="middle"><td class="cellrowborder" align="center" valign="middle" width="11.540000000000001%" headers="mcps1.3.2.4.2.4.1.1 "><p>1</p>
</td>
<td class="cellrowborder" align="left" valign="middle" width="33.93%" headers="mcps1.3.2.4.2.4.1.2 "><p><a href="#EN-US_TASK_0000001563990885__dc_cfg_file_0006step01">Enable the FTP server function and configure related parameters.</a></p>
</td>
<td class="cellrowborder" align="left" valign="middle" width="54.53%" headers="mcps1.3.2.4.2.4.1.3 "><p>Enable the FTP server function and configure related parameters such as the port number, source IP address, and timeout interval.</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" align="center" valign="middle" width="11.540000000000001%" headers="mcps1.3.2.4.2.4.1.1 "><p>2</p>
</td>
<td class="cellrowborder" align="left" valign="middle" width="33.93%" headers="mcps1.3.2.4.2.4.1.2 "><p><a href="#EN-US_TASK_0000001563990885__dc_cfg_file_0006step02">Configure a local FTP user.</a></p>
</td>
<td class="cellrowborder" align="left" valign="middle" width="54.53%" headers="mcps1.3.2.4.2.4.1.3 "><p>Configure the service type, user privilege level, and authorized directory for an FTP user.</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" align="center" valign="middle" width="11.540000000000001%" headers="mcps1.3.2.4.2.4.1.1 "><p>3</p>
</td>
<td class="cellrowborder" align="left" valign="middle" width="33.93%" headers="mcps1.3.2.4.2.4.1.2 "><p><a href="#EN-US_TASK_0000001563990885__step1596607667175329">(Optional) Configure FTP access control.</a></p>
</td>
<td class="cellrowborder" align="left" valign="middle" width="54.53%" headers="mcps1.3.2.4.2.4.1.3 "><p>Configure ACL rules and a basic FTP ACL to improve FTP access security.</p>
</td>
</tr>
<tr><td class="cellrowborder" align="center" valign="middle" width="11.540000000000001%" headers="mcps1.3.2.4.2.4.1.1 "><p>4</p>
</td>
<td class="cellrowborder" align="left" valign="middle" width="33.93%" headers="mcps1.3.2.4.2.4.1.2 "><p><a href="#EN-US_TASK_0000001563990885__step524499282175329">(Optional) Configure the IP address locking function.</a></p>
</td>
<td class="cellrowborder" align="left" valign="middle" width="54.53%" headers="mcps1.3.2.4.2.4.1.3 "><p>Enable the IP address locking function and configure parameters such as the maximum number of consecutive authentication failures and a period in which consecutive authentication failures are counted.</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" align="center" valign="middle" width="11.540000000000001%" headers="mcps1.3.2.4.2.4.1.1 "><p>5</p>
</td>
<td class="cellrowborder" align="left" valign="middle" width="33.93%" headers="mcps1.3.2.4.2.4.1.2 "><p><a href="#EN-US_TASK_0000001563990885__step1968137898175329">Log in to the device through FTP.</a></p>
</td>
<td class="cellrowborder" align="left" valign="middle" width="54.53%" headers="mcps1.3.2.4.2.4.1.3 "><p>Log in to the device from a terminal through FTP.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001563990885__1.3.3"></a><a name="1.3.3"></a>
<div class="p"><h4 class="sectiontitle">Default Settings</h4>
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="hsides" border="1" rules="all"><caption><b>Table 2 </b>Default settings</caption><thead align="left"><tr valign="middle"><th align="center" class="cellrowborder" valign="middle" width="50%" id="mcps1.3.3.2.2.3.1.1" liSelected="liSelected"><p>Parameter</p>
</th>
<th align="center" class="cellrowborder" valign="middle" width="50%" id="mcps1.3.3.2.2.3.1.2" liSelected="liSelected"><p>Default Setting</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.3.2.2.3.1.1 "><p>FTP server function</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.3.2.2.3.1.2 "><p>Disabled</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.3.2.2.3.1.1 "><p>Port number</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.3.2.2.3.1.2 "><p>21</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.3.2.2.3.1.1 "><p>FTP user</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.3.2.2.3.1.2 "><p>None created</p>
</td>
</tr>
</tbody>
</table>
</div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001563990885__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li id="EN-US_TASK_0000001563990885__dc_cfg_file_0006step01"><span id="EN-US_TASK_0000001563990885__"><strong>Enable the FTP server function and configure related parameters.</strong></span><p>
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="hsides" border="1" rules="all"><caption><b>Table 3 </b>Enabling the FTP server function and configuring related parameters</caption><thead align="left"><tr><th align="center" class="cellrowborder" valign="middle" width="25.4%" id="mcps1.3.4.1.2.1.2.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="35.22%" id="mcps1.3.4.1.2.1.2.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="39.379999999999995%" id="mcps1.3.4.1.2.1.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr valign="middle"><td class="cellrowborder" valign="middle" width="25.4%" headers="mcps1.3.4.1.2.1.2.4.1.1 "><p>Enter the system view.</p>
</td>
<td class="cellrowborder" valign="middle" width="35.22%" headers="mcps1.3.4.1.2.1.2.4.1.2 "><p><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></p>
</td>
<td class="cellrowborder" valign="middle" width="39.379999999999995%" headers="mcps1.3.4.1.2.1.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" valign="middle" width="25.4%" headers="mcps1.3.4.1.2.1.2.4.1.1 "><p>(Optional) Specify a port number for the FTP server.</p>
</td>
<td class="cellrowborder" valign="middle" width="35.22%" headers="mcps1.3.4.1.2.1.2.4.1.2 "><p><a href="cmdqueryname=ftp"><b><span class="cmdname">ftp</span></b></a> <span>[ <strong><span>ipv6</span></strong> ] </span><strong><span>server port</span></strong> <i><span class="varname">port-number</span></i></p>
</td>
<td class="cellrowborder" valign="middle" width="39.379999999999995%" headers="mcps1.3.4.1.2.1.2.4.1.3 "><p>By default, the port number of the FTP server is 21.</p>
<p>If a new port number is configured, the FTP server terminates all FTP connections and then uses the new port number to listen to connection requests. In this way, attackers cannot connect to the server through the standard FTP port, ensuring security.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="25.4%" headers="mcps1.3.4.1.2.1.2.4.1.1 "><p>(Optional) Specify the maximum number of connections to an FTP server.</p>
</td>
<td class="cellrowborder" valign="top" width="35.22%" headers="mcps1.3.4.1.2.1.2.4.1.2 "><p><a href="cmdqueryname=ftp+server+max-sessions"><b><span class="cmdname">ftp server max-sessions</span></b></a> <i><span class="varname">max-session-count</span></i></p>
</td>
<td class="cellrowborder" valign="top" width="39.379999999999995%" headers="mcps1.3.4.1.2.1.2.4.1.3 "><p>By default, the maximum number of connections to an FTP server is 15.</p>
<p>This command applies to both IPv4 and IPv6 connections.</p>
<p>If the maximum number is less that or equal to the number of current connections, the current connections are not disconnected, but new connection requests will be rejected. </p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" valign="middle" width="25.4%" headers="mcps1.3.4.1.2.1.2.4.1.1 "><p>Enable the FTP server function.</p>
</td>
<td class="cellrowborder" valign="middle" width="35.22%" headers="mcps1.3.4.1.2.1.2.4.1.2 "><p><a href="cmdqueryname=ftp"><b><span class="cmdname">ftp</span></b></a> <span>[ <strong><span>ipv6</span></strong> ] </span><strong><span>server</span></strong> <strong><span>enable</span></strong></p>
</td>
<td class="cellrowborder" valign="middle" width="39.379999999999995%" headers="mcps1.3.4.1.2.1.2.4.1.3 "><p>By default, the FTP server function is disabled.</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" valign="middle" width="25.4%" headers="mcps1.3.4.1.2.1.2.4.1.1 "><p>Specify the source interface or source IP address for the FTP server.</p>
</td>
<td class="cellrowborder" valign="middle" width="35.22%" headers="mcps1.3.4.1.2.1.2.4.1.2 "><ul><li><a href="cmdqueryname=ftp+server+source"><b><span class="cmdname">ftp server source</span></b></a> { <strong><span>-a</span></strong> <i><span class="varname">ip-address</span></i> | <strong><span>-i</span></strong> { <i><span class="varname">interface-type interface-number</span></i> | interface-name } }</li><li><a href="cmdqueryname=ftp+ipv6+server+source+-a"><b><span class="cmdname">ftp ipv6 server source -a </span></b></a><i><span class="varname">ipv6-address</span></i> [ <strong><span>-vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ]</li><li><a href="cmdqueryname=ftp"><b><span class="cmdname">ftp</span></b></a> <span>[</span> <span><strong><span>ipv6</span></strong> </span><span> ]</span> <a href="cmdqueryname=server+source+all-interface"><b><span class="cmdname">server source all-interface</span></b></a></li></ul>
</td>
<td class="cellrowborder" valign="middle" width="39.379999999999995%" headers="mcps1.3.4.1.2.1.2.4.1.3 "><p>Specify the source interface or source IP address for the FTP server to filter incoming and outgoing packets, ensuring security.</p>
<p>After the source IP address is specified for the FTP server, you must use the specified IP address to log in to the FTP server. Otherwise, the login fails.</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>Run one of the commands as required.</p>
</div></div>
</td>
</tr>
<tr><td class="cellrowborder" valign="middle" width="25.4%" headers="mcps1.3.4.1.2.1.2.4.1.1 "><p>(Optional) Configure the idle duration for FTP connections.</p>
</td>
<td class="cellrowborder" valign="middle" width="35.22%" headers="mcps1.3.4.1.2.1.2.4.1.2 "><p><a href="cmdqueryname=ftp"><b><span class="cmdname">ftp</span></b></a> <span>[ <strong><span>ipv6</span></strong> ] </span><a href="cmdqueryname=server"><b><span class="cmdname">server </span></b></a><strong><span>timeout</span></strong> <i><span class="varname">minutes</span></i></p>
</td>
<td class="cellrowborder" valign="middle" width="39.379999999999995%" headers="mcps1.3.4.1.2.1.2.4.1.3 "><p>By default, the idle duration is 10 minutes.</p>
<p>If an FTP connection is idle during the specified period of time, the FTP server automatically disconnects from the FTP client.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="middle" width="25.4%" headers="mcps1.3.4.1.2.1.2.4.1.1 "><p>(Optional) Configure the alarm generation and clearance thresholds for the number of FTP server login failures within a specified period.</p>
</td>
<td class="cellrowborder" valign="middle" width="35.22%" headers="mcps1.3.4.1.2.1.2.4.1.2 "><p><a href="cmdqueryname=ftp+server+login-failed+threshold-alarm"><b><span class="cmdname">ftp server login-failed threshold-alarm</span></b></a> <strong><span>upper-limit</span></strong> <i><span class="varname">report-times</span></i> <strong><span>lower-limit</span></strong> <i><span class="varname">resume-times</span></i> <strong><span>period</span></strong> <i><span class="varname">period-time</span></i></p>
</td>
<td class="cellrowborder" valign="middle" width="39.379999999999995%" headers="mcps1.3.4.1.2.1.2.4.1.3 "><p>By default, an alarm is generated if the number of login failures reaches 30 within 5 minutes and is cleared if the number of login failures falls below 20 within the same period.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="25.4%" headers="mcps1.3.4.1.2.1.2.4.1.1 "><p>(Optional) Configure the maximum number of FTP connections to the server that can be established for a single IP address.</p>
</td>
<td class="cellrowborder" valign="top" width="35.22%" headers="mcps1.3.4.1.2.1.2.4.1.2 "><p><a href="cmdqueryname=ftp+server+ip-max-sessions"><b><span class="cmdname">ftp server ip-max-sessions</span></b></a> <i><span class="varname">ip-max-sessions-num</span></i></p>
</td>
<td class="cellrowborder" valign="top" width="39.379999999999995%" headers="mcps1.3.4.1.2.1.2.4.1.3 "><p>By default, the maximum number of FTP connections to the server for a single IP address is 15.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="25.4%" headers="mcps1.3.4.1.2.1.2.4.1.1 "><p>Commit the configuration.</p>
</td>
<td class="cellrowborder" valign="top" width="35.22%" headers="mcps1.3.4.1.2.1.2.4.1.2 "><p><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></p>
</td>
<td class="cellrowborder" valign="top" width="39.379999999999995%" headers="mcps1.3.4.1.2.1.2.4.1.3 "><p>-</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li><p>The FTP service port cannot be changed after the FTP server function is enabled. To change the port number, you must run the <a href="cmdqueryname=undo+ftp"><b><span class="cmdname">undo ftp</span></b></a> <span>[ <strong><span>ipv6</span></strong> ] </span><a href="cmdqueryname=server"><b><span class="cmdname">server</span></b></a> command to disable the FTP server function first.</p>
</li><li><p>After file operations between the client and server are complete, run the <a href="cmdqueryname=undo+ftp"><b><span class="cmdname">undo ftp</span></b></a> <span>[ <strong><span>ipv6</span></strong> ] </span><a href="cmdqueryname=server"><b><span class="cmdname">server</span></b></a> command to disable the FTP server function promptly to ensure device security.</p>
</li></ul>
</div></div>
</p></li><li id="EN-US_TASK_0000001563990885__dc_cfg_file_0006step02"><span id="EN-US_TASK_0000001563990885__"><strong>Configure a local FTP user.</strong></span><p><p>To use FTP to manage files, configure the local user name and password for logging in to the device that functions as an FTP server, and specify the service type and authorized directory.</p>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="hsides" border="1" rules="all"><caption><b>Table 4 </b>Configuring a local FTP user</caption><thead align="left"><tr><th align="center" class="cellrowborder" valign="top" width="24.76247624762476%" id="mcps1.3.4.2.2.2.2.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="36.99369936993699%" id="mcps1.3.4.2.2.2.2.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="38.24382438243825%" id="mcps1.3.4.2.2.2.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr valign="middle"><td class="cellrowborder" valign="middle" width="24.76247624762476%" headers="mcps1.3.4.2.2.2.2.4.1.1 "><p>Enter the system view.</p>
</td>
<td class="cellrowborder" valign="middle" width="36.99369936993699%" headers="mcps1.3.4.2.2.2.2.4.1.2 "><p><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></p>
</td>
<td class="cellrowborder" valign="middle" width="38.24382438243825%" headers="mcps1.3.4.2.2.2.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" valign="middle" width="24.76247624762476%" headers="mcps1.3.4.2.2.2.2.4.1.1 "><p>Enter the AAA view.</p>
</td>
<td class="cellrowborder" valign="middle" width="36.99369936993699%" headers="mcps1.3.4.2.2.2.2.4.1.2 "><p><a href="cmdqueryname=aaa"><b><span class="cmdname">aaa</span></b></a></p>
</td>
<td class="cellrowborder" valign="middle" width="38.24382438243825%" headers="mcps1.3.4.2.2.2.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" valign="middle" width="24.76247624762476%" headers="mcps1.3.4.2.2.2.2.4.1.1 "><p>Configure the local user name and password.</p>
</td>
<td class="cellrowborder" valign="middle" width="36.99369936993699%" headers="mcps1.3.4.2.2.2.2.4.1.2 "><p><span><span><a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>password</span></strong> <strong><span>irreversible-cipher</span></strong> <i><span class="varname">password</span></i></span></span></p>
</td>
<td class="cellrowborder" valign="middle" width="38.24382438243825%" headers="mcps1.3.4.2.2.2.2.4.1.3 "><p>For security purposes, change the password periodically.</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" valign="middle" width="24.76247624762476%" headers="mcps1.3.4.2.2.2.2.4.1.1 "><p>Configure the privilege level for the local user.</p>
</td>
<td class="cellrowborder" valign="middle" width="36.99369936993699%" headers="mcps1.3.4.2.2.2.2.4.1.2 "><p><a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>privilege level</span></strong> <i><span class="varname">level</span></i></p>
</td>
<td class="cellrowborder" valign="middle" width="38.24382438243825%" headers="mcps1.3.4.2.2.2.2.4.1.3 "><p>You must set the user privilege level to the management level. Otherwise, the FTP connection cannot be established.</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" valign="middle" width="24.76247624762476%" headers="mcps1.3.4.2.2.2.2.4.1.1 "><p>Set the service type of the local user to FTP.</p>
</td>
<td class="cellrowborder" valign="middle" width="36.99369936993699%" headers="mcps1.3.4.2.2.2.2.4.1.2 "><p><a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>service-type</span></strong> <strong><span>ftp</span></strong></p>
</td>
<td class="cellrowborder" valign="middle" width="38.24382438243825%" headers="mcps1.3.4.2.2.2.2.4.1.3 "><p>By default, a local user can use any type of access services.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="middle" width="24.76247624762476%" headers="mcps1.3.4.2.2.2.2.4.1.1 "><p>Configure an authorized directory for the FTP user.</p>
</td>
<td class="cellrowborder" valign="middle" width="36.99369936993699%" headers="mcps1.3.4.2.2.2.2.4.1.2 "><p><a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>ftp-directory</span></strong> <i><span class="varname">directory</span></i></p>
</td>
<td class="cellrowborder" valign="middle" width="38.24382438243825%" headers="mcps1.3.4.2.2.2.2.4.1.3 "><p>By default, no authorized directory is configured for the local user.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="24.76247624762476%" headers="mcps1.3.4.2.2.2.2.4.1.1 "><p>Commit the configuration.</p>
</td>
<td class="cellrowborder" valign="top" width="36.99369936993699%" headers="mcps1.3.4.2.2.2.2.4.1.2 "><p><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></p>
</td>
<td class="cellrowborder" valign="top" width="38.24382438243825%" headers="mcps1.3.4.2.2.2.2.4.1.3 "><p>-</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li id="EN-US_TASK_0000001563990885__step1596607667175329"><span id="EN-US_TASK_0000001563990885__"><strong>(Optional) Configure FTP access control.</strong></span><p><p>An ACL is a list of rules that classify and filter packets according to their source address, destination address, port number, and other fields. After an ACL is applied to a routing device, the routing device determines whether to permit or deny a packet based on the ACL rules.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>You can configure an ACL to allow only specified clients to access an FTP server.</p>
<div class="p">ACL rule:<ul><li><p>When the <strong>permit</strong> action is defined in an ACL rule, devices that match the rule can set up FTP connections with the local device.</p>
</li><li><p>When the <strong>deny</strong> action is defined in an ACL rule, devices that match the rule cannot set up FTP connections with the local device.</p>
</li><li><p>If packets from other devices do not match any rule in an ACL, these devices cannot set up FTP connections with the local device.</p>
</li><li><p>If no rule is defined in an ACL, any other devices can set up FTP connections with the local device.</p>
</li></ul>
</div>
</div></div>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="hsides" border="1" rules="all"><caption><b>Table 5 </b>(Optional) Configuring FTP access control</caption><thead align="left"><tr><th align="center" class="cellrowborder" valign="top" width="27.089999999999996%" id="mcps1.3.4.3.2.3.2.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="37.79%" id="mcps1.3.4.3.2.3.2.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="35.120000000000005%" id="mcps1.3.4.3.2.3.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr valign="middle"><td class="cellrowborder" valign="middle" width="27.089999999999996%" headers="mcps1.3.4.3.2.3.2.4.1.1 "><p>Enter the system view.</p>
</td>
<td class="cellrowborder" valign="middle" width="37.79%" headers="mcps1.3.4.3.2.3.2.4.1.2 "><p><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></p>
</td>
<td class="cellrowborder" valign="middle" width="35.120000000000005%" headers="mcps1.3.4.3.2.3.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" valign="middle" width="27.089999999999996%" headers="mcps1.3.4.3.2.3.2.4.1.1 "><p>Enter the ACL view.</p>
</td>
<td class="cellrowborder" valign="middle" width="37.79%" headers="mcps1.3.4.3.2.3.2.4.1.2 "><p><a href="cmdqueryname=acl"><b><span class="cmdname">acl</span></b></a> <span>{ </span>[ <strong><span>number</span></strong> ] <i><span class="varname">basic-acl-number</span></i><span> | <strong><span>name</span></strong> <i><span class="varname">basic-acl-name</span></i> }</span></p>
</td>
<td class="cellrowborder" valign="middle" width="35.120000000000005%" headers="mcps1.3.4.3.2.3.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" valign="middle" width="27.089999999999996%" headers="mcps1.3.4.3.2.3.2.4.1.1 "><p>Configure an ACL rule.</p>
</td>
<td class="cellrowborder" valign="middle" width="37.79%" headers="mcps1.3.4.3.2.3.2.4.1.2 "><p><span><a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a><span> [ <i><span class="varname">rule-id</span></i> ] [ <strong><span>name</span></strong> <i><span class="varname">rule-name</span></i> ] { <span><span><strong><span>permit</span></strong> </span></span> | <strong><span>deny</span></strong> } [ <strong><span>fragment-type</span></strong> <strong><span>fragment</span></strong> | <strong><span>source</span></strong> { <i><span class="varname">source-ip-address</span></i> <span>{ </span><i><span class="varname">source-wildcard</span></i> | <strong><span>0</span></strong><span> | <i><span class="varname">src-netmask</span></i> }</span> | <strong><span>any</span></strong> } | <strong><span>time-range</span></strong> <i><span class="varname">time-name</span></i> | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i><span> | <strong><span>logging</span></strong></span> ] <sup>*</sup></span></span></p>
</td>
<td class="cellrowborder" valign="middle" width="35.120000000000005%" headers="mcps1.3.4.3.2.3.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" valign="middle" width="27.089999999999996%" headers="mcps1.3.4.3.2.3.2.4.1.1 "><p>Exit the system view.</p>
</td>
<td class="cellrowborder" valign="middle" width="37.79%" headers="mcps1.3.4.3.2.3.2.4.1.2 "><p><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></p>
</td>
<td class="cellrowborder" valign="middle" width="35.120000000000005%" headers="mcps1.3.4.3.2.3.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="middle" width="27.089999999999996%" headers="mcps1.3.4.3.2.3.2.4.1.1 "><p>Apply the ACL for the FTP service.</p>
</td>
<td class="cellrowborder" valign="middle" width="37.79%" headers="mcps1.3.4.3.2.3.2.4.1.2 "><p><a href="cmdqueryname=ftp"><b><span class="cmdname">ftp</span></b></a> <span>[ <strong><span>ipv6</span></strong> ] </span><a href="cmdqueryname=server"><b><span class="cmdname">server </span></b></a><strong><span>acl</span></strong> <span>{ </span><i><span class="varname">acl-number</span></i><span> | <i><span class="varname">name</span></i> }</span></p>
</td>
<td class="cellrowborder" valign="middle" width="35.120000000000005%" headers="mcps1.3.4.3.2.3.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="27.089999999999996%" headers="mcps1.3.4.3.2.3.2.4.1.1 "><p>Commit the configuration.</p>
</td>
<td class="cellrowborder" valign="top" width="37.79%" headers="mcps1.3.4.3.2.3.2.4.1.2 "><p><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></p>
</td>
<td class="cellrowborder" valign="top" width="35.120000000000005%" headers="mcps1.3.4.3.2.3.2.4.1.3 "><p>-</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li id="EN-US_TASK_0000001563990885__step524499282175329"><span id="EN-US_TASK_0000001563990885__"><strong>(Optional) Configure the IP address locking function.</strong></span><p><p>After the IP address locking function is enabled, the number of FTP server login failures is recorded on a per IP address-basis. If the number of login failures for an IP address within a specified period reaches the threshold, the IP address is locked, and this IP address cannot set up an FTP connection with the FTP server.</p>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="hsides" border="1" rules="all"><caption><b>Table 6 </b>(Optional) Configuring the IP address locking function</caption><thead align="left"><tr><th align="center" class="cellrowborder" valign="top" width="27.089999999999996%" id="mcps1.3.4.4.2.2.2.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="37.79%" id="mcps1.3.4.4.2.2.2.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="35.120000000000005%" id="mcps1.3.4.4.2.2.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr valign="middle"><td class="cellrowborder" valign="middle" width="27.089999999999996%" headers="mcps1.3.4.4.2.2.2.4.1.1 "><p>Enter the system view.</p>
</td>
<td class="cellrowborder" valign="middle" width="37.79%" headers="mcps1.3.4.4.2.2.2.4.1.2 "><p><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></p>
</td>
<td class="cellrowborder" valign="middle" width="35.120000000000005%" headers="mcps1.3.4.4.2.2.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" valign="middle" width="27.089999999999996%" headers="mcps1.3.4.4.2.2.2.4.1.1 "><p>Enable the client IP address locking function on the FTP server.</p>
</td>
<td class="cellrowborder" valign="middle" width="37.79%" headers="mcps1.3.4.4.2.2.2.4.1.2 "><p><a href="cmdqueryname=undo+ftp+server+ip-block+disable"><b><span class="cmdname">undo ftp server ip-block disable</span></b></a></p>
</td>
<td class="cellrowborder" valign="middle" width="35.120000000000005%" headers="mcps1.3.4.4.2.2.2.4.1.3 "><p>By default, the client IP address locking function is enabled.</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" valign="middle" width="27.089999999999996%" headers="mcps1.3.4.4.2.2.2.4.1.1 "><p>Configure the maximum number of consecutive authentication failures and the period in which consecutive authentication failures are counted.</p>
</td>
<td class="cellrowborder" valign="middle" width="37.79%" headers="mcps1.3.4.4.2.2.2.4.1.2 "><p><a href="cmdqueryname=ftp+server+ip-block+failed-times"><b><span class="cmdname">ftp server ip-block failed-times</span></b></a> <i><span class="varname">failed-times</span></i> <strong><span>period</span></strong> <i><span class="varname">period</span></i></p>
</td>
<td class="cellrowborder" valign="middle" width="35.120000000000005%" headers="mcps1.3.4.4.2.2.2.4.1.3 "><p>By default, a maximum of 6 consecutive authentication failures is allowed within 5 minutes.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="middle" width="27.089999999999996%" headers="mcps1.3.4.4.2.2.2.4.1.1 "><p>Configure the period after which the system automatically unlocks a user.</p>
</td>
<td class="cellrowborder" valign="middle" width="37.79%" headers="mcps1.3.4.4.2.2.2.4.1.2 "><p><a href="cmdqueryname=ftp+server+ip-block+reactive"><b><span class="cmdname">ftp server ip-block reactive</span></b></a> <i><span class="varname">reactive-period</span></i></p>
</td>
<td class="cellrowborder" valign="middle" width="35.120000000000005%" headers="mcps1.3.4.4.2.2.2.4.1.3 "><p>By default, the period is 5 minutes.</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" valign="middle" width="27.089999999999996%" headers="mcps1.3.4.4.2.2.2.4.1.1 "><p>Exit the system view.</p>
</td>
<td class="cellrowborder" valign="middle" width="37.79%" headers="mcps1.3.4.4.2.2.2.4.1.2 "><p><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></p>
</td>
<td class="cellrowborder" valign="middle" width="35.120000000000005%" headers="mcps1.3.4.4.2.2.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="middle" width="27.089999999999996%" headers="mcps1.3.4.4.2.2.2.4.1.1 "><p>Unlock an IP address.</p>
</td>
<td class="cellrowborder" valign="middle" width="37.79%" headers="mcps1.3.4.4.2.2.2.4.1.2 "><p><a href="cmdqueryname=activate+ftp+server+ip-block+ip-address"><b><span class="cmdname">activate ftp server ip-block ip-address</span></b></a> <i><span class="varname">ip-address</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-name</span></i> ]</p>
</td>
<td class="cellrowborder" valign="middle" width="35.120000000000005%" headers="mcps1.3.4.4.2.2.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="27.089999999999996%" headers="mcps1.3.4.4.2.2.2.4.1.1 "><p>Commit the configuration.</p>
</td>
<td class="cellrowborder" valign="top" width="37.79%" headers="mcps1.3.4.4.2.2.2.4.1.2 "><p><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></p>
</td>
<td class="cellrowborder" valign="top" width="35.120000000000005%" headers="mcps1.3.4.4.2.2.2.4.1.3 "><p>-</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li id="EN-US_TASK_0000001563990885__step1968137898175329"><span id="EN-US_TASK_0000001563990885__"><strong>Log in to the device through FTP.</strong></span><p><p>To log in to the FTP server from a terminal, use either the Windows CLI or third-party software. The following uses the Windows CLI as an example.</p>
<ul><li><p>Run the <a href="cmdqueryname=ftp"><b><span class="cmdname">ftp</span></b></a> <i><span class="varname">ip-address</span></i> command to log in to the device through FTP.</p>
<p>The IP address entered here is the IP address configured on the device and must be reachable to the IP address of the user terminal.</p>
</li><li><p>Enter the user name and password at the prompt, and press <strong>Enter</strong>. If the command prompt of the FTP client view, <strong>ftp&gt;</strong> for example, is displayed, you have entered the working directory of the FTP server. (The following information is for reference only.)</p>
</li></ul>
<pre class="screen"><samp class="codeph">C:\Windows\System32&gt; <strong>ftp 192.168.150.208</strong>
Connected to 192.168.150.208.
220 FTP service ready.
User(192.168.150.208:(none)):<strong>admin123</strong>331 Password required for admin123.
Password:
230 User logged in.
ftp&gt;</samp></pre>
</p></li><li><span><strong>Perform file operations using FTP.</strong></span><p><p>After logging in to the FTP server, you can run FTP commands to perform operations on files, including managing directories, managing files, configuring the file transfer mode, and viewing online help of FTP commands.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The operation rights of a user are set on the FTP server.</p>
</div></div>
<p>You can perform one or more operations listed in the following table, and in any sequence.</p>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="hsides" border="1" rules="all"><caption><b>Table 7 </b>Performing file operations using FTP</caption><thead align="left"><tr><th align="center" class="cellrowborder" valign="top" width="24.617538246175382%" id="mcps1.3.4.6.2.4.2.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="33.53664633536646%" id="mcps1.3.4.6.2.4.2.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="41.84581541845815%" id="mcps1.3.4.6.2.4.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr valign="middle"><td class="cellrowborder" valign="middle" width="24.617538246175382%" headers="mcps1.3.4.6.2.4.2.4.1.1 "><p>Change the working directory of the FTP server.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.53664633536646%" headers="mcps1.3.4.6.2.4.2.4.1.2 "><p><a href="cmdqueryname=cd"><b><span class="cmdname">cd</span></b></a> <i><span class="varname">pathname</span></i></p>
</td>
<td class="cellrowborder" valign="middle" width="41.84581541845815%" headers="mcps1.3.4.6.2.4.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="middle" width="24.617538246175382%" headers="mcps1.3.4.6.2.4.2.4.1.1 "><p>Change the working directory of the FTP server to its upper-level directory.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.53664633536646%" headers="mcps1.3.4.6.2.4.2.4.1.2 "><p><a href="cmdqueryname=cdup"><b><span class="cmdname">cdup</span></b></a></p>
</td>
<td class="cellrowborder" valign="top" width="41.84581541845815%" headers="mcps1.3.4.6.2.4.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="middle" width="24.617538246175382%" headers="mcps1.3.4.6.2.4.2.4.1.1 "><p>Display the working directory of the FTP server.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.53664633536646%" headers="mcps1.3.4.6.2.4.2.4.1.2 "><p><a href="cmdqueryname=pwd"><b><span class="cmdname">pwd</span></b></a></p>
</td>
<td class="cellrowborder" valign="top" width="41.84581541845815%" headers="mcps1.3.4.6.2.4.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="middle" width="24.617538246175382%" headers="mcps1.3.4.6.2.4.2.4.1.1 "><p>Display or change the working directory of the FTP client.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.53664633536646%" headers="mcps1.3.4.6.2.4.2.4.1.2 "><p><a href="cmdqueryname=lcd"><b><span class="cmdname">lcd</span></b></a> [<i><span class="varname"> directory</span></i> ]</p>
</td>
<td class="cellrowborder" valign="top" width="41.84581541845815%" headers="mcps1.3.4.6.2.4.2.4.1.3 "><p>The <strong><span>lcd</span></strong> command displays the local working directory of the FTP client, whereas the <strong><span>pwd</span></strong> command displays the working directory of the FTP server.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="middle" width="24.617538246175382%" headers="mcps1.3.4.6.2.4.2.4.1.1 "><p>Create a directory on the server.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.53664633536646%" headers="mcps1.3.4.6.2.4.2.4.1.2 "><p><a href="cmdqueryname=mkdir"><b><span class="cmdname">mkdir</span></b></a> <i><span class="varname">remote-directory</span></i></p>
</td>
<td class="cellrowborder" valign="top" width="41.84581541845815%" headers="mcps1.3.4.6.2.4.2.4.1.3 "><p>The name of a directory can contain letters and digits, but cannot contain the following special characters: &lt; &gt; ? \ :</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" valign="middle" width="24.617538246175382%" headers="mcps1.3.4.6.2.4.2.4.1.1 "><p>Delete a directory from the FTP server.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.53664633536646%" headers="mcps1.3.4.6.2.4.2.4.1.2 "><p><a href="cmdqueryname=rmdir"><b><span class="cmdname">rmdir</span></b></a> <i><span class="varname">remote-directory</span></i></p>
</td>
<td class="cellrowborder" valign="middle" width="41.84581541845815%" headers="mcps1.3.4.6.2.4.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="middle" width="24.617538246175382%" headers="mcps1.3.4.6.2.4.2.4.1.1 "><p>Display the specified directory or file on the FTP server.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.53664633536646%" headers="mcps1.3.4.6.2.4.2.4.1.2 "><p><a href="cmdqueryname=dir"><b><span class="cmdname">dir</span></b></a> [ <i><span class="varname">remote-directory</span></i> [ <i><span class="varname">local-filename</span></i> ] ]</p>
<p>or</p>
<p><a href="cmdqueryname=ls"><b><span class="cmdname">ls</span></b></a> [ <i><span class="varname">remote-directory</span></i> [ <i><span class="varname">local-filename</span></i> ] ]</p>
</td>
<td class="cellrowborder" valign="middle" width="41.84581541845815%" headers="mcps1.3.4.6.2.4.2.4.1.3 "><ul><li>The <a href="cmdqueryname=ls"><b><span class="cmdname">ls</span></b></a> command displays only the name of a directory or file, but the <a href="cmdqueryname=dir"><b><span class="cmdname">dir</span></b></a> command displays details about a directory or file, such as the size and creation date.</li><li>If no path is specified for a remote file, the system searches an authorized directory for the specified file.</li></ul>
</td>
</tr>
<tr><td class="cellrowborder" valign="middle" width="24.617538246175382%" headers="mcps1.3.4.6.2.4.2.4.1.1 "><p>Delete a specified file from the FTP server.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.53664633536646%" headers="mcps1.3.4.6.2.4.2.4.1.2 "><p><a href="cmdqueryname=delete"><b><span class="cmdname">delete</span></b></a> <i><span class="varname">remote-filename</span></i></p>
</td>
<td class="cellrowborder" valign="middle" width="41.84581541845815%" headers="mcps1.3.4.6.2.4.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="middle" width="24.617538246175382%" headers="mcps1.3.4.6.2.4.2.4.1.1 "><p>Upload <span>one or more</span> files.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.53664633536646%" headers="mcps1.3.4.6.2.4.2.4.1.2 "><p><a href="cmdqueryname=put"><b><span class="cmdname">put</span></b></a> <i><span class="varname">local-filename</span></i> [ <i><span class="varname">remote-filename</span></i> ]</p>
<p>or</p>
<p><a href="cmdqueryname=mput"><b><span class="cmdname">mput</span></b></a> <i><span class="varname">local-filenames</span></i></p>
</td>
<td class="cellrowborder" valign="middle" width="41.84581541845815%" headers="mcps1.3.4.6.2.4.2.4.1.3 "><ul><li>The <a href="cmdqueryname=put"><b><span class="cmdname">put</span></b></a> command uploads a single file.</li><li>The <a href="cmdqueryname=mput"><b><span class="cmdname">mput</span></b></a> command uploads multiple files at a time.</li></ul>
</td>
</tr>
<tr><td class="cellrowborder" valign="middle" width="24.617538246175382%" headers="mcps1.3.4.6.2.4.2.4.1.1 "><p>Download <span>one or more</span> files.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.53664633536646%" headers="mcps1.3.4.6.2.4.2.4.1.2 "><p><a href="cmdqueryname=get"><b><span class="cmdname">get</span></b></a> <i><span class="varname">remote-filename</span></i> [ <i><span class="varname">local-filename</span></i> ]</p>
<p>or</p>
<p><a href="cmdqueryname=mget"><b><span class="cmdname">mget</span></b></a> <i><span class="varname">remote-filenames</span></i></p>
</td>
<td class="cellrowborder" valign="middle" width="41.84581541845815%" headers="mcps1.3.4.6.2.4.2.4.1.3 "><ul><li>The <a href="cmdqueryname=get"><b><span class="cmdname">get</span></b></a> command downloads a single file.</li><li>The <a href="cmdqueryname=mget"><b><span class="cmdname">mget</span></b></a> command downloads multiple files at a time.</li></ul>
</td>
</tr>
<tr><td class="cellrowborder" valign="middle" width="24.617538246175382%" headers="mcps1.3.4.6.2.4.2.4.1.1 "><p>Set the data transmission mode to ASCII.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.53664633536646%" headers="mcps1.3.4.6.2.4.2.4.1.2 "><p><a href="cmdqueryname=ascii"><b><span class="cmdname">ascii</span></b></a></p>
</td>
<td class="cellrowborder" rowspan="2" valign="middle" width="41.84581541845815%" headers="mcps1.3.4.6.2.4.2.4.1.3 "><p>Run only one of the commands.</p>
<ul><li><p>By default, the data transmission mode is ASCII.</p>
</li><li><p>ASCII is used to transfer text files. Binary is used for transferring programs, system software, and database files.</p>
</li></ul>
</td>
</tr>
<tr><td class="cellrowborder" valign="middle" headers="mcps1.3.4.6.2.4.2.4.1.1 "><p>Set the data transmission mode to binary.</p>
</td>
<td class="cellrowborder" valign="middle" headers="mcps1.3.4.6.2.4.2.4.1.2 "><p><a href="cmdqueryname=binary"><b><span class="cmdname">binary</span></b></a></p>
</td>
</tr>
<tr><td class="cellrowborder" valign="middle" width="24.617538246175382%" headers="mcps1.3.4.6.2.4.2.4.1.1 "><p>Set the file transfer mode to passive.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.53664633536646%" headers="mcps1.3.4.6.2.4.2.4.1.2 "><p><a href="cmdqueryname=passive"><b><span class="cmdname">passive</span></b></a></p>
</td>
<td class="cellrowborder" rowspan="2" valign="middle" width="41.84581541845815%" headers="mcps1.3.4.6.2.4.2.4.1.3 "><p>Run only one of the commands.</p>
<p>By default, the file transfer mode is <span>active</span>.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="middle" headers="mcps1.3.4.6.2.4.2.4.1.1 "><p>Set the file transfer mode to active.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.4.6.2.4.2.4.1.2 "><p><a href="cmdqueryname=undo+passive"><b><span class="cmdname">undo passive</span></b></a></p>
</td>
</tr>
<tr><td class="cellrowborder" valign="middle" width="24.617538246175382%" headers="mcps1.3.4.6.2.4.2.4.1.1 "><p>Display online help for an FTP command.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.53664633536646%" headers="mcps1.3.4.6.2.4.2.4.1.2 "><p><a href="cmdqueryname=remotehelp"><b><span class="cmdname">remotehelp</span></b></a> [ <i><span class="varname">command</span></i> ]</p>
</td>
<td class="cellrowborder" valign="middle" width="41.84581541845815%" headers="mcps1.3.4.6.2.4.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="middle" width="24.617538246175382%" headers="mcps1.3.4.6.2.4.2.4.1.1 "><p>Enable the file transfer prompt function.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.53664633536646%" headers="mcps1.3.4.6.2.4.2.4.1.2 "><p><a href="cmdqueryname=prompt"><b><span class="cmdname">prompt</span></b></a></p>
</td>
<td class="cellrowborder" valign="middle" width="41.84581541845815%" headers="mcps1.3.4.6.2.4.2.4.1.3 "><p>By default, the prompt function is disabled.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="middle" width="24.617538246175382%" headers="mcps1.3.4.6.2.4.2.4.1.1 "><p>Enable the verbose function.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.53664633536646%" headers="mcps1.3.4.6.2.4.2.4.1.2 "><p><a href="cmdqueryname=verbose"><b><span class="cmdname">verbose</span></b></a></p>
</td>
<td class="cellrowborder" valign="middle" width="41.84581541845815%" headers="mcps1.3.4.6.2.4.2.4.1.3 "><p>After the verbose function is enabled, all FTP responses are displayed on the FTP client, including the FTP protocol information and details about the responses.</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li><span><strong>(Optional) Change the login user.</strong></span><p><p>You can log in to the FTP server using another user name without exiting the FTP client view. The created FTP connection is the same as the FTP connection created by running the <a href="cmdqueryname=ftp"><b><span class="cmdname">ftp</span></b></a> command.</p>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 8 </b>Changing the login user</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.4.7.2.2.2.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.4.7.2.2.2.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.4.7.2.2.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.4.7.2.2.2.4.1.1 "><p>Change the current login user in the FTP client view.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.4.7.2.2.2.4.1.2 "><p><a href="cmdqueryname=user"><b><span class="cmdname">user</span></b></a> <i><span class="varname">username</span></i></p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.4.7.2.2.2.4.1.3 "><p>After the login user is changed, the original user is disconnected from the server.</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li><span><strong>Disconnect from the FTP server.</strong></span><p><p>You can run different commands in the FTP client view to disconnect from the FTP server.</p>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 9 </b>Disconnecting from the FTP server</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.4.8.2.2.2.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.4.8.2.2.2.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.4.8.2.2.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.4.8.2.2.2.4.1.1 "><p>Disconnect from the FTP server and return to the user view.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.4.8.2.2.2.4.1.2 "><p><a href="cmdqueryname=bye"><b><span class="cmdname">bye</span></b></a></p>
<p>or <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></p>
</td>
<td class="cellrowborder" rowspan="2" valign="top" width="33.33333333333333%" headers="mcps1.3.4.8.2.2.2.4.1.3 "><p>Run only one of the commands.</p>
<p></p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.4.8.2.2.2.4.1.1 "><p>Disconnect from the FTP server and remain in the FTP client view.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.4.8.2.2.2.4.1.2 "><p><a href="cmdqueryname=close"><b><span class="cmdname">close</span></b></a></p>
<p>or <a href="cmdqueryname=disconnect"><b><span class="cmdname">disconnect</span></b></a></p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li></ul></div>
<div class="example"><a name="EN-US_TASK_0000001563990885__1.3.5"></a><a name="1.3.5"></a><h4 class="sectiontitle">Verifying the Configuration</h4><ul><li><p>Run the <a href="cmdqueryname=display+ftp+server"><b><span class="cmdname">display ftp server</span></b></a> command to check the configuration and status of the FTP server.</p>
</li><li><p>Run the <a href="cmdqueryname=display+ftp+server+users"><b><span class="cmdname">display ftp server users</span></b></a> command to check information about FTP users.</p>
</li><li><p>Run the <a href="cmdqueryname=display+ftp+server+ip+auth-fail+information"><b><span class="cmdname">display ftp server ip auth-fail information</span></b></a> command to check details about the IP addresses of the clients that fail to be authenticated, including the time when the first authentication fails and the number of authentication failures.</p>
</li><li><p>Run the <a href="cmdqueryname=display+ftp+server+ip-block+list"><b><span class="cmdname">display ftp server ip-block list</span></b></a> command to check the FTP client IP addresses that are locked due to authentication failures and the remaining locking time.</p>
</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_file_cfg_0008.html">Managing Files Using FTP
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_file_cfg_0010.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>