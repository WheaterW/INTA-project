
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring the Function to Log Route Quantity Threshold Crossing">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../dc/dc_vrp_vxlan6_cfg_1066.html">
<meta name="DC.Relation" scheme="URI" content="../dc/dc_vrp_vxlan6_cfg_1065.html">
<meta name="DC.Relation" scheme="URI" content="../dc/dc_vrp_vxlan6_cfg_1053.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001193876285">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring the Function to Log Route Quantity Threshold Crossing</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001193876285"></a><a name="EN-US_TASK_0000001193876285"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring the Function to Log Route Quantity Threshold Crossing</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001193876285__1.3.1"></a><a name="1.3.1"></a>
<div class="p"><h4 class="sectiontitle">Context</h4><p>In IPv6 distributed VXLAN gateway scenarios, EVPN serves as the control plan to deliver routes. As more and more hosts access the gateway, the number of routes stored on the control plane greatly increases, consuming significant memory resources. To address this issue, you can configure the function to log route quantity threshold crossing. After the function is configured, a user log is generated when the number of routes exceeds the threshold. </p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001193876285__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Set a threshold and log recovery percentage for the number of EVPN routes.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the BGP view or BGP multi-instance view.</span><p><pre class="screen"><a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i><span> [ <strong><span>instance</span></strong> <i><span class="varname">instance-name</span></i> ]</span></pre>
</p></li><li class="substepexpand"><span>Enter the BGP-EVPN address family view or BGP multi-instance EVPN address family view.</span><p><pre class="screen"><a href="cmdqueryname=l2vpn-family+evpn"><b><span class="cmdname">l2vpn-family evpn</span></b></a></pre>
</p></li><li class="substepexpand"><span>Set a threshold and log recovery percentage for the number of EVPN routes.</span><p><pre class="screen"><a href="cmdqueryname=alarm-threshold+route"><b><span class="cmdname">alarm-threshold route</span></b></a> <i><span class="varname">route-number</span></i> [ <strong><span>recovery-percentage</span></strong> <i><span class="varname">percentage</span></i> ]</pre>
<p>By default, the threshold and log recovery percentage for the number of EVPN routes are not configured.</p>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001193876285__en-us_task_0234857734_screen14848162118611"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001193876285__en-us_task_0234857734_cmdname1784862115612">commit</span></b></a></pre>
</p></li></ol>
</li><li><span>Set a threshold and log recovery percentage for the number of VPN routes.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Set a threshold and log recovery percentage for the number of VPN routes.</span><p><pre class="screen"><a href="cmdqueryname=alarm-threshold+route"><b><span class="cmdname">alarm-threshold route</span></b></a> <i><span class="varname">route-number</span></i> [ <strong><span>recovery-percentage</span></strong> <i><span class="varname">percentage</span></i> ] { <strong><span>ipv4</span></strong> | <strong><span>ipv6</span></strong> } <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i></pre>
<p>By default, the threshold and log recovery percentage for the number of VPN routes are not configured.</p>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001193876285__en-us_task_0234857734_screen14848162118611_1"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001193876285__en-us_task_0234857734_cmdname1784862115612_1">commit</span></b></a></pre>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../dc/dc_vrp_vxlan6_cfg_1066.html">Establishing IPv6 VXLAN Tunnels in BGP EVPN Mode (Distributed VXLAN Gateway)
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../dc/dc_vrp_vxlan6_cfg_1065.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../dc/dc_vrp_vxlan6_cfg_1053.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>