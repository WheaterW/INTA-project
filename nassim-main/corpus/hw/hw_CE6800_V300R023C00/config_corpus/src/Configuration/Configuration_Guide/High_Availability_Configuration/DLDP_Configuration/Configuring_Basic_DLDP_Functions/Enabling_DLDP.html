
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Enabling DLDP">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_dldp_cfg_0050.html">
<meta name="DC.Relation" scheme="URI" content="vrp_dldp_cfg_0019.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="DLDP">
<meta name="featuretype" content="High Availability">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="DLDP">
<meta name="featuretype" content="High Availability">
<meta name="featurename" content="DLDP">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001470156709">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Enabling DLDP</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001470156709"></a><a name="EN-US_TASK_0000001470156709"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Enabling DLDP</h1>
<div class="taskbody"><div class="steps"><a name="EN-US_TASK_0000001470156709__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enable DLDP globally.</span><p><pre class="screen"><a href="cmdqueryname=dldp+enable"><b><span class="cmdname">dldp enable</span></b></a></pre>
<p>By default, DLDP is disabled globally.</p>
</p></li><li><span>(Optional) Configure a working mode of DLDP.</span><p><pre class="screen"><a href="cmdqueryname=dldp+work-mode"><b><span class="cmdname">dldp work-mode</span></b></a> { <strong><span>enhance</span></strong> | <strong><span>normal</span></strong> }</pre>
<p>The default working mode of DLDP is <strong><span>enhance</span></strong>, which indicates the enhanced mode.</p>
</p></li><li><span>(Optional) Configure a DLDP shutdown mode.</span><p><pre class="screen"><a href="cmdqueryname=dldp+unidirectional-shutdown"><b><span class="cmdname">dldp unidirectional-shutdown</span></b></a> { <strong><span>auto</span></strong> | <strong><span>manual</span></strong> }</pre>
</p><p><p>By default, <strong><span>auto</span></strong> is used.</p>
<p>An interface in the Down state still sends RecoverProbe packets periodically. If the interface receives correct RecoverEcho packets, the unidirectional link changes to bidirectional and the interface becomes up.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li><p>When the network performance is good, the automatic mode is recommended. When the network performance is poor, the DLDP packet reception is delayed, and a unidirectional link may be mistakenly detected in automatic mode. In this case, the manual mode is recommended. In this mode, the network administrator manually shuts down the interface, preventing packet receiving and sending from being affected by automatic interface shutdown.</p>
</li></ul>
</div></div>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen"><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></pre>
</p></li><li><span>Enter the interface or interface group view.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i>
<a href="cmdqueryname=port-group"><b><span class="cmdname">port-group</span></b></a> <i><span class="varname">port-group-name</span></i></pre>
</p></li><li><span>Switch the interface working mode from Layer 2 to Layer 3.</span><p><pre class="screen"><a href="cmdqueryname=undo+portswitch"><b><span class="cmdname">undo portswitch</span></b></a> </pre>
<p> Determine whether to perform this step based on the current interface working mode.</p>
</p></li><li><span>Enable DLDP on an interface.</span><p><pre class="screen"><a href="cmdqueryname=dldp+enable"><b><span class="cmdname">dldp enable</span></b></a></pre>
<p>By default, DLDP is disabled on an interface.</p>
<p>If you enable DLDP in the interface group view, DLDP is enabled on all member interfaces of the interface group.</p>
</p></li><li><span>(Optional) Configure a DLDP-compatible mode.</span><p><pre class="screen"><a href="cmdqueryname=dldp+compatible-mode+enable"><b><span class="cmdname">dldp compatible-mode enable</span></b></a></pre>
<p>If the links connecting two interfaces are cross-connected, the DLDP-compatible mode must be the same (enabled or disabled) on both interfaces.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen"><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001470156709__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Verifying the Configuration</h4><ul><li>Run the <a href="cmdqueryname=display+dldp"><b><span class="cmdname">display dldp</span></b></a> [ <strong><span>interface</span></strong> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> ] command to check the DLDP configuration and neighbor entries.</li><li>Run the <a href="cmdqueryname=display+dldp+statistics"><b><span class="cmdname">display dldp statistics</span></b></a> [ <strong><span>interface</span></strong> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> ] command to check statistics about DLDPDUs on all interfaces or a specific one.</li><li>Run the <a href="cmdqueryname=display+fwm+dldp+statistics"><b><span class="cmdname">display fwm dldp statistics</span></b></a> [ <strong><span>all</span></strong> ] <strong><span>slot</span></strong> <i><span class="varname">slot-id</span></i> command in any view to check statistics about the DLDP module on a specified board.</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_dldp_cfg_0050.html">Configuring Basic DLDP Functions
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_dldp_cfg_0019.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>