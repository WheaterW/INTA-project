
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Strict Prefix Learning for Dynamic ND Entries">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_nd_cfg_0010.html">
<meta name="DC.Relation" scheme="URI" content="vrp_nd_cfg_0014.html">
<meta name="DC.Relation" scheme="URI" content="vrp_nd_cfg_0016.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="ND">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="ND">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="ND">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176662051">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring Strict Prefix Learning for Dynamic ND Entries</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176662051"></a><a name="EN-US_TASK_0000001176662051"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Strict Prefix Learning for Dynamic ND Entries</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001176662051__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p">When a device receives a valid NS message on an interface, the device checks whether IPv6 addresses with the same network prefix exist on the interface. If so, the device replies with an NA message and generates dynamic ND entries. Otherwise, the device performs the following operations:<ul><li>If strict prefix learning is enabled for dynamic ND entries on the interface, the device discards the NS message and does not generate dynamic ND entries.</li><li>If strict prefix learning is disabled for dynamic ND entries on the interface, the device replies with an NA message and generates dynamic ND entries.</li></ul>
</div>
<p>Strict prefix learning is effective for all interfaces if it is configured in the system view but effective only for a specific interface if it is configured in the interface view. If the function is configured in both the system and interface views, the configuration in the interface view has a higher priority.</p>
<p>By default, strict prefix learning is disabled for dynamic ND entries on an interface. The configuration in the system view applies to the interface.</p>
<p>Perform the following operations as required.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001176662051__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>To disable strict prefix learning for dynamic ND entries on interfaces in batches, perform the following operations:</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Disable strict prefix learning for dynamic ND entries on all interfaces.</span><p><pre class="screen"><a href="cmdqueryname=ipv6+nd+learning+prefix+strict+disable"><b><span class="cmdname">ipv6 nd learning prefix strict disable</span></b></a></pre>
<p>Strict prefix learning cannot be disabled for dynamic ND entries on interfaces that need to generate host routes, such as <span>dot1q VLAN tag termination sub-interfaces and </span><span>VLANIF interfaces</span>. The configuration in the system view does not take effect on these interfaces.</p>
</p></li><li class="substepexpand"><span>Enter the view of the interface on which strict prefix learning needs to be enabled for dynamic ND entries.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></pre>
</p></li><li class="substepexpand"><span>Switch the interface working mode to Layer 3.</span><p><pre class="screen"><a href="cmdqueryname=undo+portswitch"><b><span class="cmdname">undo portswitch</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enable IPv6.</span><p><pre class="screen"><a href="cmdqueryname=ipv6+enable"><b><span class="cmdname">ipv6 enable</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enable strict prefix learning for dynamic ND entries on the interface.</span><p><pre class="screen"><a href="cmdqueryname=ipv6+nd+learning+prefix+strict+enable"><b><span class="cmdname">ipv6 nd learning prefix strict enable</span></b></a></pre>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176662051__en-us_task_0234857734_screen14848162118611"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176662051__en-us_task_0234857734_cmdname1784862115612">commit</span></b></a></pre>
</p></li></ol>
</li><li><span>To enable strict prefix learning for dynamic ND entries on interfaces in batches, perform the following operations:</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enable strict prefix learning for dynamic ND entries on all interfaces.</span><p><pre class="screen"><a href="cmdqueryname=undo+ipv6+nd+learning+prefix+strict+disable"><b><span class="cmdname">undo ipv6 nd learning prefix strict disable</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the view of the interface on which strict prefix learning needs to be disabled for dynamic ND entries.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></pre>
</p></li><li class="substepexpand"><span>Switch the interface working mode to Layer 3.</span><p><pre class="screen"><a href="cmdqueryname=undo+portswitch"><b><span class="cmdname">undo portswitch</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enable IPv6.</span><p><pre class="screen"><a href="cmdqueryname=ipv6+enable"><b><span class="cmdname">ipv6 enable</span></b></a></pre>
</p></li><li class="substepexpand"><span>Disable strict prefix learning for dynamic ND entries on the interface.</span><p><pre class="screen"><a href="cmdqueryname=ipv6+nd+learning+prefix+strict+disable"><b><span class="cmdname">ipv6 nd learning prefix strict disable</span></b></a></pre>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176662051__en-us_task_0234857734_screen14848162118611_1"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176662051__en-us_task_0234857734_cmdname1784862115612_1">commit</span></b></a></pre>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_nd_cfg_0010.html">Optimizing Dynamic ND
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_nd_cfg_0014.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_nd_cfg_0016.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>