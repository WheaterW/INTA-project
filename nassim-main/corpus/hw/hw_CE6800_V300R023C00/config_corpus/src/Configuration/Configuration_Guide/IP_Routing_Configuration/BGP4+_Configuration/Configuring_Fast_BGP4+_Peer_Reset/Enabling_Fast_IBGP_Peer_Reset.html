
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Enabling Fast IBGP Peer Reset">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_bgp6_cfg_0087.html">
<meta name="DC.Relation" scheme="URI" content="vrp_bgp6_cfg_0053.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="BGP4+">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP4+">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="BGP4+">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001130782218">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Enabling Fast IBGP Peer Reset</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001130782218"></a><a name="EN-US_TASK_0000001130782218"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Enabling Fast IBGP Peer Reset</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001130782218__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>If the <a href="cmdqueryname=ibgp-interface-sensitive"><b><span class="cmdname">ibgp-interface-sensitive</span></b></a> command is not run and the local interface directly connected to an IBGP peer fails, the system does not delete the IBGP peer relationship on the interface until the hold timer expires. As a result, routes cannot be rapidly switched. To address this problem, run the <a href="cmdqueryname=ibgp-interface-sensitive"><b><span class="cmdname">ibgp-interface-sensitive</span></b></a> command. After this command is run, if the local interface directly connected to an IBGP peer fails, the device immediately responds to the failure by deleting the IBGP peer relationship on the interface, implementing fast route switching.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If a local interface directly connected to an IBGP peer alternates between up and down, do not run the <a href="cmdqueryname=ibgp-interface-sensitive"><b><span class="cmdname">ibgp-interface-sensitive</span></b></a> command; otherwise, route flapping may occur.</p>
<p>This command enables the device to quickly respond to failures of a local interface directly connected to an IBGP peer, but not to recovery of the interface. Once the interface recovers, BGP4+ uses its state machine to restore the relevant session.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001130782218__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enter the BGP view.</span><p><pre class="screen"><a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i></pre>
</p></li><li><span>Enter the IPv6 unicast address family view.</span><p><pre class="screen"><a href="cmdqueryname=ipv6-family+unicast"><b><span class="cmdname">ipv6-family</span></b></a> <strong><span>unicast</span></strong></pre>
</p></li><li><span>Enable the device to immediately delete the IBGP peer relationship on the local interface directly connected to an IBGP peer when the interface fails.</span><p><pre class="screen"><a href="cmdqueryname=ibgp-interface-sensitive"><b><span class="cmdname">ibgp-interface-sensitive</span></b></a></pre>
<p>By default, this function is disabled.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001130782218__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001130782218__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001130782218__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><div class="p">After configuring the function, verify the configuration.<ul><li>Run the <a href="cmdqueryname=display+bgp+ipv6+peer"><b><span class="cmdname">display bgp ipv6 peer</span></b></a> [ <i><span class="varname">ipv6-address</span></i> ] <strong><span>verbose</span></strong> command to check detailed BGP4+ peer information.</li></ul>
</div>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_bgp6_cfg_0087.html">Configuring Fast BGP4+ Peer Reset
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_bgp6_cfg_0053.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>