
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring Attack Defense">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_localattackdefense_cfg_0060.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Local Attack Defense">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Local Attack Defense">
<meta name="featuretype" content="Security">
<meta name="featurename" content="Local Attack Defense">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security Protection">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001563756881">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Example for Configuring Attack Defense</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001563756881"></a><a name="EN-US_TASK_0000001563756881"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring Attack Defense</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001563756881__1.3.1"></a><a name="1.3.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>As shown in <a href="#EN-US_TASK_0000001563756881__fig2235623203411">Figure 1</a>, if an attacker on the Internet launches a malformed packet attack, a fragmentation attack, or a flood attack on DeviceA, DeviceA may break down. To prevent such issues, the network administrator needs to deploy attack defense measures on DeviceA, so as to secure the network environment and ensure services run as normal.</p>
<div class="fignone" id="EN-US_TASK_0000001563756881__fig2235623203411"><a name="EN-US_TASK_0000001563756881__fig2235623203411"></a><a name="fig2235623203411"></a><span class="figcap"><b>Figure 1 </b>Network diagram of defense against malformed packet attacks, fragmentation attacks, and flood attacks</span><br><span><img class="vsd" src="figure/en-us_image_0000001513156610.png"></span></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001563756881__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure defense against malformed packet attacks.</span><p><pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<font style="font-size:8pt" Face="Courier New" >~</font><span class="keyword">HUAWEI</span>] <strong>sysname DeviceA</strong>
[*<span class="keyword">DeviceA</span>] <strong>commit</strong>
[<font style="font-size:8pt" Face="Courier New" >~</font>DeviceA] <strong>anti-attack abnormal enable</strong>
[*<span class="keyword">DeviceA</span>] <strong>commit</strong></pre>
</p></li><li><span>Configure defense against fragmentation attacks and set the rate limit of packet fragments to 15000 bit/s.</span><p><pre class="screen">[<font style="font-size:8pt" Face="Courier New" >~</font>DeviceA] <strong>anti-attack fragment enable</strong>
[*DeviceA] <strong>anti-attack fragment car cir 15000</strong>
[*<span class="keyword">DeviceA</span>] <strong>commit</strong></pre>
</p></li><li><span>Configure defense against flood attacks.</span><p><p># Configure defense against TCP SYN flood attacks and set the rate limit of TCP SYN packets to 15000 bit/s.</p>
<pre class="screen">[<font style="font-size:8pt" Face="Courier New" >~</font>DeviceA] <strong>anti-attack tcp-syn enable</strong>
[*DeviceA] <strong>anti-attack tcp-syn car cir </strong><strong>15000</strong>
[*<span class="keyword">DeviceA</span>] <strong>commit</strong></pre>
<p># Configure defense against UDP flood attacks to enable the device to discard UDP packets sent from specified ports.</p>
<pre class="screen">[<font style="font-size:8pt" Face="Courier New" >~</font>DeviceA] <strong>anti-attack udp-flood enable</strong>
[*<span class="keyword">DeviceA</span>] <strong>commit</strong></pre>
<p># Configure defense against ICMP flood attacks and set the rate limit of ICMP flood packets to 15000 bit/s.</p>
<pre class="screen">[<font style="font-size:8pt" Face="Courier New" >~</font>DeviceA] <strong>anti-attack icmp-flood enable</strong>
[*DeviceA] <strong>anti-attack icmp-flood car cir </strong><strong>15000</strong>
[*<span class="keyword">DeviceA</span>] <strong>commit</strong></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001563756881__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p># After the configuration is complete, run the <strong>display anti-attack statistics</strong> command to view attack defense statistics.</p>
<pre class="screen">&lt;DeviceA&gt; <strong>display anti-attack statistics</strong>
Packets Statistic Information:
-------------------------------------------------------------------------------
AntiAtkType  TotalPacketNum        DropPacketNum         PassPacketNum
             (H)        (L)        (H)        (L)        (H)        (L)          
-------------------------------------------------------------------------------  
Abnormal      0          0          0          0          0          0           
Fragment      0          0          0          0          0          0           
Icmp-flood    0          0          0          0          0          0           
Tcp-syn       0          58         0          0          0          58          
Udp-flood     0          0          0          0          0          0           
------------------------------------------------------------------------------- </pre>
</div>
<div class="postreq"><a name="EN-US_TASK_0000001563756881__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Configuration Scripts</h4><p>DeviceA</p>
<pre class="screen">#
sysname DeviceA
#
anti-attack abnormal enable
anti-attack fragment enable
anti-attack fragment car cir 15000
anti-attack tcp-syn enable
anti-attack tcp-syn car cir 15000
anti-attack udp-flood enable
anti-attack icmp-flood enable
anti-attack icmp-flood car cir 15000
#
return</pre>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_localattackdefense_cfg_0060.html">Configuration Examples for Local Attack Defense
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
</div>
</div>
</body>
</html>