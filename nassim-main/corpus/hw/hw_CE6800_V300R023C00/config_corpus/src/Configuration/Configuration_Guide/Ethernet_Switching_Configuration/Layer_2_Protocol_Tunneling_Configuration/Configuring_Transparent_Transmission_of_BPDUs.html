
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Transparent Transmission of BPDUs">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="dc_cfg_l2pt_0001.html">
<meta name="DC.Relation" scheme="URI" content="dc_cfg_l2pt_0022.html">
<meta name="DC.Relation" scheme="URI" content="dc_cfg_l2pt_0038.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="L2PT">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="L2PT">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001159483958">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring Transparent Transmission of BPDUs</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001159483958"></a><a name="EN-US_TASK_0000001159483958"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Transparent Transmission of BPDUs</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001159483958__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>When an edge device on a backbone network is connected to edge devices on multiple user networks, the edge device on the backbone network forwards BPDUs through the hardware to improve BPDU forwarding efficiency. By default, a Layer 2 interface is not allowed to forward BPDUs when the device forwards BPDUs through the hardware. As a result, the edge devices on multiple user networks connected to the edge device on the backbone network cannot communicate with each other. In this case, you can configure the device to allow Layer 2 interfaces to forward BPDUs when the device forwards BPDUs through the hardware.</p>
<p>To enable Layer 2 interfaces to forward only tagged BPDUs and send untagged BPDUs to the CPU for processing, configure Layer 2 interfaces to forward tagged BPDUs when the device forwards BPDUs through the hardware in the system view.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001159483958__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configuring transparent transmission of all BPDUs</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the interface view.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="cmdqueryname">interface-number</span></i></pre>
</p></li><li class="substepexpand"><span>Change the interface working mode from Layer 3 to Layer 2.</span><p><pre class="screen"><a href="cmdqueryname=portswitch"><b><span class="cmdname">portswitch</span></b></a></pre>
<p>Determine whether to perform this step based on the current interface working mode.</p>
</p></li><li class="substepexpand"><span>Configure the Layer 2 interface to forward BPDUs when the device forwards BPDUs through the hardware.</span><p><pre class="screen"><a href="cmdqueryname=bpdu+bridge+enable"><b><span class="cmdname">bpdu bridge enable</span></b></a></pre>
</p><p><div class="p">By default, a Layer 2 interface is not allowed to forward BPDUs when the device forwards BPDUs through the hardware.<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If BPDUs of a certain protocol (for example, STP) need to be forwarded through the hardware, disable the protocol globally before running the <a href="cmdqueryname=bpdu+bridge+enable"><b><span class="cmdname">bpdu bridge enable</span></b></a> command.</p>
</div></div>
</div>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen"><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></pre>
</p></li></ol>
</li><li><span>Configuring transparent transmission of VLAN tagged-BPDUs.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Configure the Layer 2 interface to forward VLAN tagged-BPDUs when the device forwards BPDUs through the hardware.</span><p><pre class="screen"><a href="cmdqueryname=bpdu+bridge+tagged-packet+enable"><b><span class="cmdname">bpdu bridge tagged-packet enable</span></b></a></pre>
<p>By default, a Layer 2 interface is not allowed to forward VLAN tagged-BPDUs when the device forwards BPDUs through the hardware.</p>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen"><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></pre>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="dc_cfg_l2pt_0001.html">Layer 2 Protocol Tunneling Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="dc_cfg_l2pt_0022.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="dc_cfg_l2pt_0038.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>