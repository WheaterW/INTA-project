
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="VRRP Advertisement Packets">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_vrrp_cfg_0003.html">
<meta name="DC.Relation" scheme="URI" content="vrp_vrrp_cfg_0004.html">
<meta name="DC.Relation" scheme="URI" content="vrp_vrrp_cfg_0006.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="High Availability">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="High Availability">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001176743715">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>VRRP Advertisement Packets</title>
</head>
<body><a name="EN-US_CONCEPT_0000001176743715"></a><a name="EN-US_CONCEPT_0000001176743715"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">VRRP Advertisement Packets</h1>
<div><p id="EN-US_CONCEPT_0000001176743715__p11884122812619">VRRP Advertisement packets are multicast packets that can be forwarded only within a single broadcast domain, such as a virtual local area network (VLAN). They are used to notify all backup devices in a VRRP group of the master's priority and status.</p>
<p id="EN-US_CONCEPT_0000001176743715__p167761417315">Two VRRP versions currently exist: VRRPv2 and VRRPv3.</p>
<p id="EN-US_CONCEPT_0000001176743715__p188842028172612">VRRP is classified as VRRP for IPv4 or VRRP for IPv6 (VRRP6) by network type. VRRP for IPv4 supports VRRPv2 and VRRPv3, whereas VRRP6 supports only VRRPv3. On an IPv4 network, VRRP Advertisement packets are encapsulated into IPv4 packets and sent to a multicast address assigned to a VRRP group. In the IPv4 packet header, the source address is the primary IPv4 address of the interface that sends the packets (not the virtual IPv4 address), the destination address is 224.0.0.18, the TTL is 255, and the protocol number is 112.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p><span>You can manually switch VRRP versions on a device. </span>Unless otherwise specified, VRRP packets in this document refer to VRRPv2 packets.</p>
</div></div>
<div class="section"><h4 class="sectiontitle">VRRP Advertisement Packet Structure</h4><p><a href="#EN-US_CONCEPT_0000001176743715__fig_dc_vrp_vrrp_feature_012501">Figure 1</a> shows the VRRPv2 packet structure.</p>
<div class="fignone" id="EN-US_CONCEPT_0000001176743715__fig_dc_vrp_vrrp_feature_012501"><a name="EN-US_CONCEPT_0000001176743715__fig_dc_vrp_vrrp_feature_012501"></a><a name="fig_dc_vrp_vrrp_feature_012501"></a><span class="figcap"><b>Figure 1 </b>VRRPv2 Advertisement packet structure</span><br><span><img class="vsd" src="figure/en-us_image_0000001130624304.png"></span></div>
<div class="p"><a href="#EN-US_CONCEPT_0000001176743715__tab_dc_vrp_vrrp_feature_012501">Table 1</a> describes the fields in a VRRPv2 Advertisement packet.
<div class="tableBorder"><a name="EN-US_CONCEPT_0000001176743715__tab_dc_vrp_vrrp_feature_012501"></a><a name="tab_dc_vrp_vrrp_feature_012501"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_CONCEPT_0000001176743715__tab_dc_vrp_vrrp_feature_012501" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Fields in a VRRPv2 Advertisement packet</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="50%" id="mcps1.3.5.4.2.2.3.1.1" liSelected="liSelected"><p>Field</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="50%" id="mcps1.3.5.4.2.2.3.1.2" liSelected="liSelected"><p>Meaning</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.4.2.2.3.1.1 "><p>Version</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.4.2.2.3.1.2 "><p>VRRP version number. The value is 2.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.4.2.2.3.1.1 "><p>Type</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.4.2.2.3.1.2 "><p>Type of a VRRPv2 packet. The value is 1, indicating an Advertisement packet.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.4.2.2.3.1.1 "><p>Virtual Rtr ID</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.4.2.2.3.1.2 "><p>Virtual router ID.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.4.2.2.3.1.1 "><p>Priority</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.4.2.2.3.1.2 "><p>Priority of the master device in a VRRP group.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.4.2.2.3.1.1 "><p>Count IPv4 Addrs</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.4.2.2.3.1.2 "><p>Number of virtual IPv4 addresses in a VRRP group.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.4.2.2.3.1.1 "><p>Auth Type</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.4.2.2.3.1.2 "><p>Authentication type of a VRRPv2 packet. Three authentication types are defined:</p>
<ul><li><p>0: Non Authentication, indicating that authentication is not performed.</p>
</li><li><p>1: Simple Text Password, indicating that simple authentication is performed.</p>
</li><li><p>2: IP Authentication Header, indicating that HMAC-MD5 authentication is performed.</p>
</li></ul>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.4.2.2.3.1.1 "><p>Adver Int</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.4.2.2.3.1.2 "><p>Interval (in seconds) at which VRRPv2 packets are sent.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.4.2.2.3.1.1 "><p>Checksum</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.4.2.2.3.1.2 "><p>16-bit checksum, used to check the data integrity of a VRRPv2 packet.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.4.2.2.3.1.1 "><p>IPv4 Address</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.4.2.2.3.1.2 "><p>Virtual IPv4 address configured for a VRRP group. The number of virtual IPv4 addresses configured is carried in the Count IPv4 Addrs field.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.4.2.2.3.1.1 "><p>Authentication Data</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.4.2.2.3.1.2 "><p>Authentication key of a VRRPv2 packet. This field applies only when simple or HMAC-MD5 authentication is used. For other authentication types, this field is fixed at 0.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><a href="#EN-US_CONCEPT_0000001176743715__fig_dc_vrp_vrrp_feature_012502">Figure 2</a> shows the VRRPv3 packet structure.</p>
<div class="fignone" id="EN-US_CONCEPT_0000001176743715__fig_dc_vrp_vrrp_feature_012502"><a name="EN-US_CONCEPT_0000001176743715__fig_dc_vrp_vrrp_feature_012502"></a><a name="fig_dc_vrp_vrrp_feature_012502"></a><span class="figcap"><b>Figure 2 </b>Format of a VRRPv3 packet</span><br><span><img class="vsd" id="EN-US_CONCEPT_0000001176743715__image1921395478214008" src="figure/en-us_image_0000001176663851.png"></span></div>
<div class="p" id="EN-US_CONCEPT_0000001176743715__p696647205214008"><a href="#EN-US_CONCEPT_0000001176743715__tab_dc_vrp_vrrp_feature_012502">Table 2</a> describes the fields in a VRRPv3 packet.
<div class="tableBorder"><a name="EN-US_CONCEPT_0000001176743715__tab_dc_vrp_vrrp_feature_012502"></a><a name="tab_dc_vrp_vrrp_feature_012502"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_CONCEPT_0000001176743715__tab_dc_vrp_vrrp_feature_012502" frame="border" border="1" rules="all"><caption><b>Table 2 </b>Fields in a VRRPv3 packet</caption><thead align="left"><tr id="EN-US_CONCEPT_0000001176743715__row1349690329214008"><th align="left" class="cellrowborder" valign="top" width="50%" id="mcps1.3.5.7.2.2.3.1.1" liSelected="liSelected"><p id="EN-US_CONCEPT_0000001176743715__p1948981852214008">Field</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="50%" id="mcps1.3.5.7.2.2.3.1.2" liSelected="liSelected"><p id="EN-US_CONCEPT_0000001176743715__p1151499015214008">Meaning</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_CONCEPT_0000001176743715__row498288797214008"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.7.2.2.3.1.1 "><p id="EN-US_CONCEPT_0000001176743715__p7216632214008">Version</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.7.2.2.3.1.2 "><p id="EN-US_CONCEPT_0000001176743715__p469961733214008">VRRP protocol version. The value is 3.</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0000001176743715__row1802646844214008"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.7.2.2.3.1.1 "><p id="EN-US_CONCEPT_0000001176743715__p782714409214008">Type</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.7.2.2.3.1.2 "><p id="EN-US_CONCEPT_0000001176743715__p2032023420214008">Type of a VRRPv3 packet. The value is 1, indicating an Advertisement packet.</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0000001176743715__row1405610937214008"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.7.2.2.3.1.1 "><p id="EN-US_CONCEPT_0000001176743715__p2003060113214008">Virtual Rtr ID</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.7.2.2.3.1.2 "><p id="EN-US_CONCEPT_0000001176743715__p167609459214008">Virtual router ID.</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0000001176743715__row1035018322214008"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.7.2.2.3.1.1 "><p id="EN-US_CONCEPT_0000001176743715__p1444338762214008">Priority</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.7.2.2.3.1.2 "><p id="EN-US_CONCEPT_0000001176743715__p1575074935214008">Priority of the master device in a VRRP group.</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0000001176743715__row1561367308214008"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.7.2.2.3.1.1 "><p id="EN-US_CONCEPT_0000001176743715__p1774104275214008">Count IPvX Addrs</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.7.2.2.3.1.2 "><p id="EN-US_CONCEPT_0000001176743715__p1663667077214008">Number of virtual IPvX addresses configured for a VRRP group.</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0000001176743715__row736048438214008"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.7.2.2.3.1.1 "><p id="EN-US_CONCEPT_0000001176743715__p313835275214008">rsvd</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.7.2.2.3.1.2 "><p id="EN-US_CONCEPT_0000001176743715__p603404220214008">Field reserved in a VRRPv3 packet. The value is fixed at 0.</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0000001176743715__row227989785214008"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.7.2.2.3.1.1 "><p id="EN-US_CONCEPT_0000001176743715__p2044622087214008">Adver Int</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.7.2.2.3.1.2 "><p id="EN-US_CONCEPT_0000001176743715__p2010362963214008">Interval (in centiseconds) at which VRRPv3 packets are sent.</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0000001176743715__row416539668214008"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.7.2.2.3.1.1 "><p id="EN-US_CONCEPT_0000001176743715__p99111034214008">Checksum</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.7.2.2.3.1.2 "><p id="EN-US_CONCEPT_0000001176743715__p1759153036214008">16-bit checksum, used to check the data integrity of a VRRPv3 packet.</p>
</td>
</tr>
<tr id="EN-US_CONCEPT_0000001176743715__row75025204214008"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.7.2.2.3.1.1 "><p id="EN-US_CONCEPT_0000001176743715__p947401271214008">IPvX Address</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.5.7.2.2.3.1.2 "><p id="EN-US_CONCEPT_0000001176743715__p1994139419214008">Virtual IPvX address configured for a VRRP group. The number of configured virtual IPvX addresses is carried in the Count IPvX Addrs field.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="p">The main differences between VRRPv2 and VRRPv3 are as follows:<ul><li><p>Authentication: VRRPv3 does not support authentication, whereas VRRPv2 does.</p>
</li><li><p>Time unit of the interval for sending VRRP Advertisement packets: VRRPv3 uses centiseconds, whereas VRRPv2 uses seconds.</p>
</li></ul>
</div>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_vrrp_cfg_0003.html">Understanding VRRP
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_vrrp_cfg_0004.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_vrrp_cfg_0006.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>