
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring PIM">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_ipv4_multi_over_vxlan_cfg_0010.html">
<meta name="DC.Relation" scheme="URI" content="vrp_ipv4_multi_over_vxlan_cfg_0013.html">
<meta name="DC.Relation" scheme="URI" content="vrp_ipv4_multi_over_vxlan_cfg_0015.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IPv4 Layer 3 Multicast over VXLAN">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv4 Layer 3 Multicast over VXLAN">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IPv4 Layer 3 Multicast over VXLAN">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001182173009">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring PIM</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001182173009"></a><a name="EN-US_TASK_0000001182173009"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring PIM</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001182173009__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>IPv4 Layer 3 multicast over VXLAN uses VPN PIM as the multicast routing protocol. VXLAN gateways establish C-multicast routing tables to guide multicast data forwarding.</p>
<p>Perform the following steps on each of the PEs functioning as VXLAN gateways:</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001182173009__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enter the VBDIF interface view.</span><p><pre class="screen"><a href="cmdqueryname=interface+vbdif"><b><span class="cmdname">interface vbdif</span></b></a> <i><span class="varname">bd-id</span></i></pre>
<p>Ensure that the VBDIF interfaces on gateways have been bound to an L3VPN instance when deploying VXLAN in distributed gateway mode.</p>
</p></li><li><span>Enable PIM-SM.</span><p><pre class="screen"><a href="cmdqueryname=pim+sm"><b><span class="cmdname">pim sm</span></b></a></pre>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001182173009__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001182173009__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0000001182173009__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Follow-up Procedure</h4>
<div class="p"><p>Configure VPN PIM-related functions as needed. Note that PIM configurations are performed in the VPN instance PIM view whereas interface-specific configurations are performed in the VBDIF interface view. For details, see <a href="vrp_pim_cfg_0000.html">PIM Configuration</a>. The following configuration tasks are not supported:</p>
<ul><li><p>Configuring PIM-DM</p>
</li><li><p>Configuring BFD for IPv4 PIM</p>
</li></ul>
<p>When PIM-SM is configured in the ASM model, RPs can be deployed in either of the following modes:</p>
<ul><li><p>Deploy RPs for the VXLAN overlay network on VTEPs. You are advised to use loopback interface IP addresses as RP IP addresses and configure the same RP address for all VTEPs.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If the IP address of a VTEP is set to the IP address of a loopback interface, the loopback interface address used by the RP must be different from the VTEP IP address because the loopback interface used by the RP must be bound to a VPN instance.</p>
</div></div>
</li><li><p>Deploy RPs on other nodes. In this case, all VTEPs must have reachable VPN routes to the RPs.</p>
</li></ul>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_ipv4_multi_over_vxlan_cfg_0010.html">Configuring IPv4 Layer 3 Multicast over VXLAN
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_ipv4_multi_over_vxlan_cfg_0013.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_ipv4_multi_over_vxlan_cfg_0015.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>