
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring the BGP4+ Default Route">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_bgp6_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="vrp_bgp6_cfg_0028.html">
<meta name="DC.Relation" scheme="URI" content="vrp_bgp6_cfg_0256.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="BGP4+">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP4+">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176661987">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring the BGP4+ Default Route</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176661987"></a><a name="EN-US_TASK_0000001176661987"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring the BGP4+ Default Route</h1>
<div class="taskbody"><div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001176661987__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>Before configuring the BGP4+ default route, you have completed the following task:</p>
<ul><li><a href="vrp_bgp6_cfg_0006.html">Configure basic BGP4+ functions</a>.</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001176661987__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>On large or medium-sized BGP4+ networks, the BGP4+ routing table of a device contains a large number of routing entries, consuming a large number of memory resources. In addition, the transmission and processing of routing information consumes many network resources. In scenarios where a BGP4+ peer's routing table contains multiple routes advertised by the local device, you can configure the device to advertise the default route with the local address as the next hop address to this peer, regardless of whether the default route exists in the local routing table. This significantly reduces the number of routes transmitted on the network and minimizes consumption of network resources and the peer's memory resources.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001176661987__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enter the BGP view.</span><p><pre class="screen"><a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i></pre>
</p></li><li><span>Enter the IPv6 unicast address family view.</span><p><pre class="screen"><a href="cmdqueryname=ipv6-family+unicast"><b><span class="cmdname">ipv6-family</span></b></a> <strong><span>unicast</span></strong></pre>
</p></li><li><span>Configure the device to advertise the default route to a specified peer or peer group.</span><p><pre class="screen"><a href="cmdqueryname=peer+default-route-advertise+route-policy"><b><span class="cmdname">peer </span></b></a><i><span class="varname">group-name</span></i> <strong><span>default-route-advertise</span></strong> [ <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> ] { <strong><span>conditional-route-match-all</span></strong> | <strong><span>conditional-route-match-any</span></strong> } { <i><span class="varname">ipv6-address</span></i> <i><span class="varname">mask-length</span></i> } &amp;&lt;1-4&gt;</pre>
<pre class="screen"><a href="cmdqueryname=peer+default-route-advertise+route-policy"><b><span class="cmdname">peer </span></b></a><i><span class="varname">peerIpv6Addr</span></i> <strong><span>default-route-advertise</span></strong> [ <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> ] { <strong><span>conditional-route-match-all</span></strong> | <strong><span>conditional-route-match-any</span></strong> } { <i><span class="varname">ipv6-address</span></i> <i><span class="varname">ipv6-mask-length</span></i> } &amp;&lt;1-4&gt;</pre>
<pre class="screen"><a href="cmdqueryname=peer+default-route-advertise+route-policy"><b><span class="cmdname">peer </span></b></a><i><span class="varname">ipv4-address</span></i> <strong><span>default-route-advertise</span></strong> [ <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> ] { <strong><span>conditional-route-match-all</span></strong> | <strong><span>conditional-route-match-any</span></strong> } { <i><span class="varname">ipv6-address</span></i> <i><span class="varname">mask-length</span></i> } &amp;&lt;1-4&gt;</pre>
<p>If <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> is specified, the BGP4+ device changes attributes of the default route to be advertised to a specified peer or peer group based on the specified route-policy.</p>
<p>If <strong><span>conditional-route-match-all</span></strong> { <i><span class="varname">ipv6-address1</span></i> <i><span class="varname">ipv6-mask-length1</span></i> } &amp;&lt;1-4&gt; is specified, the BGP4+ device advertises the default route only if all the routes matching the specified conditions exist in the local IPv6 routing table.</p>
<p>If <strong><span>conditional-route-match-any</span></strong> { <i><span class="varname">ipv6-address2</span></i> <i><span class="varname">ipv6-mask-length2</span></i> } &amp;&lt;1-4&gt; is specified, the device advertises the default route if any route matching a specified condition exists in the local IPv6 routing table.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>After the <a href="cmdqueryname=peer+default-route-advertise"><b><span class="cmdname">peer default-route-advertise</span></b></a> command is run on a device, the device advertises a default route (with its local address as the next-hop address) to the specified peer, regardless of whether there is a default route in the local routing table.</p>
</div></div>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176661987__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176661987__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001176661987__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>After completing the configuration, perform the following operations to verify it:</p>
<ul><li>Run the <a href="cmdqueryname=display+bgp+ipv6+routing-table"><b><span class="cmdname">display bgp ipv6 routing-table</span></b></a> command on the peer device to check information about the default route received by BGP4+.</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_bgp6_cfg_0001.html">BGP4+ Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_bgp6_cfg_0028.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_bgp6_cfg_0256.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>