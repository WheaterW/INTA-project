
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring ARP Entry Limiting">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_arp_security_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_arp_security_cfg_DAI.html">
<meta name="DC.Relation" scheme="URI" content="vrp_arp_security_cfg_0014.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="ARP Security">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="ARP Security">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176661625">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring ARP Entry Limiting</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176661625"></a><a name="EN-US_TASK_0000001176661625"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring ARP Entry Limiting</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001176661625__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>If a device receives excessive ARP messages in a short period, the device's buffer will overflow, interrupting the services of authorized users. This issue can be solved by configuring ARP entry limiting for interfaces.</p>
<p>ARP entry limiting controls the maximum number of dynamic ARP entries that a gateway's interface can learn. By default, the maximum number of dynamic ARP entries that an interface can learn is the same as that supported by the gateway. After ARP entry limiting is deployed, if the number of dynamic ARP entries that a specified interface learned reaches the maximum, the interface cannot continue to learn dynamic ARP entries. This prevents ARP entries from being exhausted when a user host connected to this interface initiates ARP attacks.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001176661625__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure ARP entry limiting for a Layer 2 interface.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the interface view.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> { <em>interface-name</em> | <em>interface-type</em><em> interface-number</em> }</pre>
</p></li><li class="substepexpand"><span>Switch the interface working mode to Layer 2.</span><p><pre class="screen"><a href="cmdqueryname=portswitch"><b><span class="cmdname">portswitch</span></b></a></pre>
<p>Determine whether to perform this step based on the current interface working mode.</p>
</p></li><li class="substepexpand"><span>Configure ARP entry limiting.</span><p><pre class="screen"><a href="cmdqueryname=arp+limit"><b><span class="cmdname">arp limit</span></b></a> <strong><span>vlan</span></strong> <i><span class="varname">vlan-id1</span></i> [ <strong><span>to</span></strong> <i><span class="varname">vlan-id2</span></i> ] <i><span class="varname">maximum</span></i></pre>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176661625__en-us_task_0234857734_screen14848162118611"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176661625__en-us_task_0234857734_cmdname1784862115612">commit</span></b></a></pre>
</p></li></ol>
</li><li><span>Configure ARP entry limiting for a Layer 3 interface.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the interface view.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> { <em>interface-name</em> | <em>interface-type</em><em> interface-number</em> }</pre>
</p></li><li class="substepexpand"><span>Switch the interface working mode to Layer 3.</span><p><pre class="screen"><a href="cmdqueryname=undo+portswitch"><b><span class="cmdname">undo portswitch</span></b></a></pre>
<p>Determine whether to perform this step based on the current interface working mode.</p>
</p></li><li class="substepexpand"><span>Configure ARP entry limiting.</span><p><pre class="screen"><a href="cmdqueryname=arp+limit"><b><span class="cmdname">arp limit</span></b></a> <i><span class="varname">limitMaxNum</span></i></pre>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176661625__en-us_task_0234857734_screen14848162118611_1"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176661625__en-us_task_0234857734_cmdname1784862115612_1">commit</span></b></a></pre>
</p></li></ol>
</li></ul></div>
<div class="example"><a name="EN-US_TASK_0000001176661625__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+arp+limit"><b><span class="cmdname">display arp limit</span></b></a> [ <strong><span>interface</span></strong> { <em>interface-name</em> | <em>interface-type </em><em>interface-number</em> } ] <span>[ <strong><span>vlan</span></strong> <i><span class="varname">vlan-id</span></i> ]</span> command to check the configuration of ARP entry limiting.</p>
</div>
<div class="postreq"><a name="EN-US_TASK_0000001176661625__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Follow-up Procedure</h4>
<div class="p"><ul><li>(Optional) After configuring ARP entry limiting on a VBDIF interface, you can run the <a href="cmdqueryname=arp+limit+alarm-threshold"><b><span class="cmdname">arp limit alarm-threshold</span></b></a> command on the interface to configure an alarm threshold. When the number of ARP entries learned by the VBDIF interface reaches the alarm threshold, the device sends an alarm, indicating that excess dynamic ARP entries need to be deleted.<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This configuration is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6885, CE6885-T<span></span>, CE6820H, CE6820H-K, CE6820S, CE6885-LL in standard forwarding mode, and CE6863E-48S8CQ.</p>
</div></div>
</li></ul>
<ul><li>If the <a href="cmdqueryname=arp+limit"><b><span class="cmdname">arp limit</span></b></a> command is not run on an interface, the maximum number of dynamic ARP entries that the interface can learn is not limited. If the <a href="cmdqueryname=arp+limit"><b><span class="cmdname">arp limit</span></b></a> command has been run, the default alarm threshold is 80%.</li></ul>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_arp_security_cfg_0001.html">ARP Security Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_arp_security_cfg_DAI.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_arp_security_cfg_0014.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>