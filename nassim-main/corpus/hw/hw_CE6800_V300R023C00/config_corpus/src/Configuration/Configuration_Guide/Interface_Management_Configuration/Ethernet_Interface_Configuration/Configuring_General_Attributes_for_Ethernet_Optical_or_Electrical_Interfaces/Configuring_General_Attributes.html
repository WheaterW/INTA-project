
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring General Attributes">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_ethernet-int_0023.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_ethernet-int_0007.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_ethernet-int_0022.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Ethernet Interface">
<meta name="featuretype" content="Interface Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Ethernet Interface">
<meta name="featuretype" content="Interface Management">
<meta name="featurename" content="Ethernet Interface">
<meta name="featuretype" content="Interface Management">
<meta name="featuretype" content="Interface Management">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001564001181">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring General Attributes</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001564001181"></a><a name="EN-US_TASK_0000001564001181"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring General Attributes</h1>
<div class="taskbody"><div class="steps"><a name="EN-US_TASK_0000001564001181__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Configure required general attributes for Ethernet interfaces in the system view.</span><p>
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Configuring general attributes for Ethernet interfaces in the system view</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="33.333333333333336%" id="mcps1.3.1.2.2.1.2.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="31.863186318631865%" id="mcps1.3.1.2.2.1.2.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="34.8034803480348%" id="mcps1.3.1.2.2.1.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="33.333333333333336%" headers="mcps1.3.1.2.2.1.2.4.1.1 "><p>Configure an interface rate. Specifically, configure a 25GE interface to work at 50 Gbit/s.</p>
</td>
<td class="cellrowborder" valign="top" width="31.863186318631865%" headers="mcps1.3.1.2.2.1.2.4.1.2 "><p><a href="cmdqueryname=port+mode+50GE+interface"><b><span class="cmdname">port mode 50GE interface</span></b></a> { <i><span class="varname">interface-type1</span></i> <i><span class="varname">interface-number1</span></i> [ <strong><span>to</span></strong> <i><span class="varname">interface-type2</span></i> <i><span class="varname">interface-number2</span></i> ] } &amp;&lt;1-18&gt;</p>
</td>
<td class="cellrowborder" valign="top" width="34.8034803480348%" headers="mcps1.3.1.2.2.1.2.4.1.3 "><p>By default, a 25GE interface works at 25 Gbit/s after a 25GE optical module is inserted into the interface, but does not go up after a 50GE optical module is inserted into the interface.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="33.333333333333336%" headers="mcps1.3.1.2.2.1.2.4.1.1 "><p>Configure an interface rate. Specifically, configure a 100GE interface to work at 200 Gbit/s.</p>
</td>
<td class="cellrowborder" valign="top" width="31.863186318631865%" headers="mcps1.3.1.2.2.1.2.4.1.2 "><p><a href="cmdqueryname=port+mode+200GE+interface"><b><span class="cmdname">port mode 200GE interface</span></b></a> { <i><span class="varname">interface-type1</span></i> <i><span class="varname">interface-number1</span></i> [ <strong><span>to</span></strong> <i><span class="varname">interface-type2</span></i> <i><span class="varname">interface-number2</span></i> ] } &amp;&lt;1-18&gt;</p>
</td>
<td class="cellrowborder" valign="top" width="34.8034803480348%" headers="mcps1.3.1.2.2.1.2.4.1.3 "><p>By default, a 100GE interface works at 100 Gbit/s after a 100GE optical module is inserted into the interface, but does not go up after a 200GE optical module is inserted into the interface.</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li><span>Enter the Ethernet interface view.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></pre>
</p></li><li><span>(Optional) Pre-configure a transmission medium type for the interface.</span><p><pre class="screen"><a href="cmdqueryname=device+transceiver"><b><span class="cmdname">device transceiver</span></b></a> <i><span class="varname">transceiver-type</span></i></pre>
</p><p><p>By default, no transmission medium type is pre-configured for interfaces. Some functions can be configured on an optical interface only after the interface connects to a transmission medium (such as an optical module or copper module). If no correct transmission medium is connected, you can pre-configure a transmission medium type on optical interfaces and then configure functions on the interfaces. These functions subsequently take effect after you install the correct transmission media on the interfaces. This improves configuration flexibility and shortens the service deployment time.</p>
</p></li><li><span>Configure required general attributes for Ethernet interfaces in the interface view.</span><p>
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 2 </b>Configuring general attributes for Ethernet interfaces in the interface view</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="26.68266826682668%" id="mcps1.3.1.5.2.1.2.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="39.363936393639364%" id="mcps1.3.1.5.2.1.2.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.953395339533955%" id="mcps1.3.1.5.2.1.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="26.68266826682668%" headers="mcps1.3.1.5.2.1.2.4.1.1 "><p>Configure an interface rate. Specifically, configure a 10GE electrical interface to work at 100 Mbit/s, 1000 Mbit/s, or 10 Gbit/s in auto-negotiation mode.</p>
</td>
<td class="cellrowborder" valign="top" width="39.363936393639364%" headers="mcps1.3.1.5.2.1.2.4.1.2 "><p>Run the following commands in sequence:</p>
<ol type="a"><li><a href="cmdqueryname=undo+negotiation+disable"><b><span class="cmdname">undo negotiation disable</span></b></a></li><li><a href="cmdqueryname=speed+auto"><b><span class="cmdname">speed auto</span></b></a> { <strong><span>100</span></strong> | <strong><span>1000</span></strong> | <strong><span>10000</span></strong> }</li></ol>
</td>
<td class="cellrowborder" valign="top" width="33.953395339533955%" headers="mcps1.3.1.5.2.1.2.4.1.3 "><p>By default, the auto-negotiation rate of an Ethernet interface is the maximum supported rate. That is, a 10GE electrical interface works at 10 Gbit/s.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.68266826682668%" headers="mcps1.3.1.5.2.1.2.4.1.1 "><p>Configure an interface rate. Specifically, configure a 10GE electrical interface to work at 100 Mbit/s, 1000 Mbit/s, or 10 Gbit/s in non-auto-negotiation mode.</p>
</td>
<td class="cellrowborder" valign="top" width="39.363936393639364%" headers="mcps1.3.1.5.2.1.2.4.1.2 "><p>Run the following commands in sequence:</p>
<ol type="a"><li><a href="cmdqueryname=negotiation+disable"><b><span class="cmdname">negotiation disable</span></b></a></li><li><a href="cmdqueryname=speed"><b><span class="cmdname">speed</span></b></a> { <strong><span>100</span></strong> | <strong><span>1000</span></strong> | <strong><span>10000</span></strong> }</li></ol>
</td>
<td class="cellrowborder" valign="top" width="33.953395339533955%" headers="mcps1.3.1.5.2.1.2.4.1.3 "><p>By default, the auto-negotiation rate of an Ethernet interface is the maximum supported rate. That is, a 10GE electrical interface works at 10 Gbit/s.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.68266826682668%" headers="mcps1.3.1.5.2.1.2.4.1.1 "><p>Configure an interface rate.</p>
<ul><li>Configure 25GE interfaces split from a 100GE interface to work at 10 Gbit/s when a 100GE 1-to-4 variable-rate copper cable is installed. (The interfaces cannot work at 10 Gbit/s when a 100GE optical module is installed.)</li><li>Configure a native 25GE interface to work at 10 Gbit/s when a 25GE variable-rate optical module or copper cable is installed.</li></ul>
</td>
<td class="cellrowborder" valign="top" width="39.363936393639364%" headers="mcps1.3.1.5.2.1.2.4.1.2 "><p><a href="cmdqueryname=port+mode+10G"><b><span class="cmdname">port mode 10G</span></b></a></p>
</td>
<td class="cellrowborder" valign="top" width="33.953395339533955%" headers="mcps1.3.1.5.2.1.2.4.1.3 "><p>By default:</p>
<ul><li>25GE interfaces split from a 100GE interface automatically work at 10 Gbit/s when a 40GE 1-to-4 variable-rate medium is installed or at 25 Gbit/s when a 100GE 1-to-4 variable-rate medium is installed.</li><li>A native 25GE interface automatically works at 10 Gbit/s when a 10GE medium is installed or at 25 Gbit/s when a 25GE variable-rate medium is installed.</li></ul>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.68266826682668%" headers="mcps1.3.1.5.2.1.2.4.1.1 "><p>Native 25GE interfaces can be configured to work in GE mode.</p>
</td>
<td class="cellrowborder" valign="top" width="39.363936393639364%" headers="mcps1.3.1.5.2.1.2.4.1.2 "><p><a href="cmdqueryname=port+mode+GE"><b><span class="cmdname">port mode GE</span></b></a></p>
</td>
<td class="cellrowborder" valign="top" width="33.953395339533955%" headers="mcps1.3.1.5.2.1.2.4.1.3 "><p>By default, a native 25GE interface enters the Error-Down state when a GE medium is installed, and automatically works at 10 Gbit/s when a 10GE medium is installed or at 25 Gbit/s when a 25GE variable-rate medium is installed.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.68266826682668%" headers="mcps1.3.1.5.2.1.2.4.1.1 "><p>Configure an interface rate. Specifically, configure a 50GE interface to work at 25 Gbit/s.</p>
</td>
<td class="cellrowborder" valign="top" width="39.363936393639364%" headers="mcps1.3.1.5.2.1.2.4.1.2 "><p>-</p>
</td>
<td class="cellrowborder" valign="top" width="33.953395339533955%" headers="mcps1.3.1.5.2.1.2.4.1.3 "><p>After a 25GE optical module or high-speed cable is inserted to a 50GE interface, the interface rate is automatically adaptive to 25 Gbit/s.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.68266826682668%" headers="mcps1.3.1.5.2.1.2.4.1.1 "><p>Configure an interface rate. Specifically, configure a 100GE interface to work at 40 Gbit/s.</p>
</td>
<td class="cellrowborder" valign="top" width="39.363936393639364%" headers="mcps1.3.1.5.2.1.2.4.1.2 "><p>Run the following commands in sequence:</p>
<ol type="a"><li><a href="cmdqueryname=negotiation+disable"><b><span class="cmdname">negotiation disable</span></b></a></li><li><a href="cmdqueryname=speed+40000"><b><span class="cmdname">speed 40000</span></b></a></li></ol>
</td>
<td class="cellrowborder" valign="top" width="33.953395339533955%" headers="mcps1.3.1.5.2.1.2.4.1.3 "><p>By default, the auto-negotiation rate of an Ethernet interface is the maximum supported rate. That is, a 100GE interface works at 100 Gbit/s.</p>
<p>This command takes effect only when a 100GE high-speed cable is inserted into the interface.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.68266826682668%" headers="mcps1.3.1.5.2.1.2.4.1.1 "><p>Configure an interface rate. Specifically, configure a 200GE interface to work at 40 Gbit/s.</p>
</td>
<td class="cellrowborder" valign="top" width="39.363936393639364%" headers="mcps1.3.1.5.2.1.2.4.1.2 "><p>Run the following commands in sequence:</p>
<ol type="a"><li><a href="cmdqueryname=negotiation+disable"><b><span class="cmdname">negotiation disable</span></b></a></li><li><a href="cmdqueryname=speed+40000"><b><span class="cmdname">speed 40000</span></b></a></li></ol>
</td>
<td class="cellrowborder" valign="top" width="33.953395339533955%" headers="mcps1.3.1.5.2.1.2.4.1.3 "><p>By default, the auto-negotiation rate of an Ethernet interface is the maximum supported rate. That is, a 200GE interface works at 200 Gbit/s.</p>
<p>This command takes effect only when a 100GE high-speed cable is inserted into the interface.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.68266826682668%" headers="mcps1.3.1.5.2.1.2.4.1.1 "><p>Configure an interface rate. Specifically, configure a 400GE interface to work at 40 Gbit/s.</p>
</td>
<td class="cellrowborder" valign="top" width="39.363936393639364%" headers="mcps1.3.1.5.2.1.2.4.1.2 "><p>Run the following commands in sequence:</p>
<ol type="a"><li><a href="cmdqueryname=negotiation+disable"><b><span class="cmdname">negotiation disable</span></b></a></li><li><a href="cmdqueryname=speed+40000"><b><span class="cmdname">speed 40000</span></b></a></li></ol>
</td>
<td class="cellrowborder" valign="top" width="33.953395339533955%" headers="mcps1.3.1.5.2.1.2.4.1.3 "><p>By default, the auto-negotiation rate of an Ethernet interface is the maximum supported rate. That is, a 400GE interface works at 400 Gbit/s.</p>
<p>This command takes effect only when a 100GE high-speed cable is inserted into the interface.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.68266826682668%" headers="mcps1.3.1.5.2.1.2.4.1.1 "><p>Configure an interface rate. Specifically, configure a 400GE interface to work at 200 Gbit/s.</p>
</td>
<td class="cellrowborder" valign="top" width="39.363936393639364%" headers="mcps1.3.1.5.2.1.2.4.1.2 "><p>-</p>
</td>
<td class="cellrowborder" valign="top" width="33.953395339533955%" headers="mcps1.3.1.5.2.1.2.4.1.3 "><p>After a 200GE optical module is inserted to a 400GE interface, the interface rate is automatically adaptive to 200 Gbit/s.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.68266826682668%" headers="mcps1.3.1.5.2.1.2.4.1.1 "><p>Configure flow control on an interface.</p>
</td>
<td class="cellrowborder" valign="top" width="39.363936393639364%" headers="mcps1.3.1.5.2.1.2.4.1.2 "><p><a href="cmdqueryname=flow-control"><b><span class="cmdname">flow-control</span></b></a> [ <strong><span>input</span></strong> | <strong><span>output</span></strong> ]</p>
</td>
<td class="cellrowborder" valign="top" width="33.953395339533955%" headers="mcps1.3.1.5.2.1.2.4.1.3 "><p>By default, flow control is disabled on Ethernet interfaces. If neither <strong><span>input</span></strong> nor <strong><span>output</span></strong> is specified, flow control is enabled in both the inbound and outbound directions.</p>
<p>Ensure that no loop or loopback interface exists on the traffic path passing through the interface. Otherwise, traffic may fail to be forwarded after flow control is enabled.</p>
<p>The <span>CE6866, CE6860-SAN, CE6866K, CE6860-HAM, CE8851-32CQ8DQ-P, CE8850-SAN, CE8851K, CE8850-HAM</span> support flow control only in the inbound direction of an interface.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.68266826682668%" headers="mcps1.3.1.5.2.1.2.4.1.1 "><p>Configure an IFG.</p>
</td>
<td class="cellrowborder" valign="top" width="39.363936393639364%" headers="mcps1.3.1.5.2.1.2.4.1.2 "><p><a href="cmdqueryname=ifg"><b><span class="cmdname">ifg</span></b></a> <i><span class="varname">ifg-value</span></i></p>
</td>
<td class="cellrowborder" valign="top" width="33.953395339533955%" headers="mcps1.3.1.5.2.1.2.4.1.3 "><p>By default, an IFG is 12 bytes.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.68266826682668%" headers="mcps1.3.1.5.2.1.2.4.1.1 "><p>Configure collection of traffic statistics that take the IFG and preamble into account.</p>
</td>
<td class="cellrowborder" valign="top" width="39.363936393639364%" headers="mcps1.3.1.5.2.1.2.4.1.2 "><p><strong><a href="cmdqueryname=set+flow-statistics+include-interframe"><b><span class="cmdname">set flow-statistics include-interframe</span></b></a></strong></p>
</td>
<td class="cellrowborder" valign="top" width="33.953395339533955%" headers="mcps1.3.1.5.2.1.2.4.1.3 "><p>By default, the IFG and preamble are taken into account when traffic statistics are collected on interfaces.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.68266826682668%" headers="mcps1.3.1.5.2.1.2.4.1.1 "><p>Set the jumbo frame length allowed on an interface.</p>
</td>
<td class="cellrowborder" valign="top" width="39.363936393639364%" headers="mcps1.3.1.5.2.1.2.4.1.2 "><p><a href="cmdqueryname=jumboframe+enable"><b><span class="cmdname">jumboframe enable</span></b></a> <i><span class="varname">value</span></i></p>
</td>
<td class="cellrowborder" valign="top" width="33.953395339533955%" headers="mcps1.3.1.5.2.1.2.4.1.3 "><p>By default, the maximum jumbo frame length allowed by an interface is 9216 bytes.</p>
<p>The jumbo frame configurations in the Eth-Trunk interface view take effect for all its member interfaces. When an interface is added to an Eth-Trunk interface, the interface inherits the jumbo frame configurations on the Eth-Trunk interface. When a member interface is removed from the Eth-Trunk interface, the default jumbo frame configurations are restored on the member interface.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.68266826682668%" headers="mcps1.3.1.5.2.1.2.4.1.1 "><p>Configure an alarm threshold for outbound/inbound bandwidth usage.</p>
</td>
<td class="cellrowborder" valign="top" width="39.363936393639364%" headers="mcps1.3.1.5.2.1.2.4.1.2 "><p><a href="cmdqueryname=trap-threshold"><b><span class="cmdname">trap-threshold</span></b></a> { <strong><span>input-rate</span></strong> | <strong><span>output-rate</span></strong> } <i><span class="varname">bandwidth-in-use</span></i> [ <strong><span>resume-rate</span></strong> <i><span class="varname">resume-threshold</span></i> ]</p>
</td>
<td class="cellrowborder" valign="top" width="33.953395339533955%" headers="mcps1.3.1.5.2.1.2.4.1.3 "><p>By default, the alarm thresholds for the outbound and inbound bandwidth usage are both 90.</p>
<p>To prevent alarms from being frequently generated and cleared, set a large difference between the values of <i><span class="varname">bandwidth-in-use</span></i> and <i><span class="varname">resume-threshold</span></i>.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.68266826682668%" headers="mcps1.3.1.5.2.1.2.4.1.1 "><p>Configure alarm thresholds for sudden traffic rate changes on interfaces.</p>
</td>
<td class="cellrowborder" valign="top" width="39.363936393639364%" headers="mcps1.3.1.5.2.1.2.4.1.2 "><div class="p">Run the following commands:<ul><li><a href="cmdqueryname=set+flow-change-ratio+interval"><b><span class="cmdname">set flow-change-ratio interval</span></b></a> <i><span class="varname">interval-value</span></i></li><li><a href="cmdqueryname=set+flow-change-ratio"><b><span class="cmdname">set flow-change-ratio</span></b></a> { <strong><span>input-threshold</span></strong> | <strong><span>output-threshold</span></strong> } <strong><span>upper-limit</span></strong> <i><span class="varname">threshold-value</span></i></li><li><a href="cmdqueryname=set+flow-change-ratio+start-check+bandwidth-usage"><b><span class="cmdname">set flow-change-ratio start-check bandwidth-usage</span></b></a> <i><span class="varname">value</span></i></li></ul>
</div>
</td>
<td class="cellrowborder" valign="top" width="33.953395339533955%" headers="mcps1.3.1.5.2.1.2.4.1.3 "><p>In the statistics collection period specified using the <a href="cmdqueryname=set+flow-change-ratio+interval"><b><span class="cmdname">set flow-change-ratio interval </span></b></a><i><span class="varname">interval-value</span></i> command:</p>
<ul><li>If the traffic rate increase (percentage) exceeds the threshold specified using the <a href="cmdqueryname=set+flow-change-ratio"><b><span class="cmdname">set flow-change-ratio</span></b></a> { <strong><span>input-threshold</span></strong> | <strong><span>output-threshold</span></strong> } <strong><span>upper-limit</span></strong> <i><span class="varname">threshold-value</span></i> command and the interface bandwidth usage after the traffic rate increase exceeds the threshold specified using the <a href="cmdqueryname=set+flow-change-ratio+start-check+bandwidth-usage"><b><span class="cmdname">set flow-change-ratio start-check bandwidth-usage</span></b></a> <i><span class="varname">value</span></i> command, an alarm is generated.</li><li>If the traffic rate decrease (percentage) exceeds the threshold specified using the <a href="cmdqueryname=set+flow-change-ratio"><b><span class="cmdname">set flow-change-ratio</span></b></a> { <strong><span>input-threshold</span></strong> | <strong><span>output-threshold</span></strong> } <strong><span>upper-limit</span></strong> <i><span class="varname">threshold-value</span></i> command and the interface bandwidth usage before the traffic rate decrease exceeds the threshold specified using the <a href="cmdqueryname=set+flow-change-ratio+start-check+bandwidth-usage"><b><span class="cmdname">set flow-change-ratio start-check bandwidth-usage</span></b></a> <i><span class="varname">value</span></i> command, an alarm is generated.</li></ul>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.68266826682668%" headers="mcps1.3.1.5.2.1.2.4.1.1 "><p>Configure the control-flap function.</p>
</td>
<td class="cellrowborder" valign="top" width="39.363936393639364%" headers="mcps1.3.1.5.2.1.2.4.1.2 "><p><a href="cmdqueryname=control-flap"><b><span class="cmdname">control-flap</span></b></a> [ <i><span class="varname">suppress</span></i> <i><span class="varname">reuse</span></i> <i><span class="varname">ceiling</span></i> <i><span class="varname">decay-ok</span></i> <i><span class="varname">decay-ng</span></i> ]</p>
</td>
<td class="cellrowborder" valign="top" width="33.953395339533955%" headers="mcps1.3.1.5.2.1.2.4.1.3 "><p>By default, the control-flap function is disabled on interfaces.</p>
<p>Before configuring the control-flap function, configure the physical attributes for the interface.</p>
<p>The value of <i><span class="varname">suppress</span></i> is 1000 times the suppress threshold of the interface. It ranges from 1 to 20000. The default value is 2000. The value of <i><span class="varname">suppress</span></i> must be greater than the value of <i><span class="varname">reuse</span></i> but smaller than the value of <i><span class="varname">ceiling</span></i>.</p>
<p>The value of <i><span class="varname">reuse</span></i> is 1000 times the reuse threshold of the interface. It ranges from 1 to 20000. The default value is 750. The value of <i><span class="varname">reuse</span></i> must be smaller than the value of <i><span class="varname">suppress</span></i>.</p>
<p>The value of <i><span class="varname">ceiling</span></i> is 1000 times the suppress penalty value of the interface. It ranges from 1001 to 20000. The default value is 6000. The value of <i><span class="varname">ceiling</span></i> must be greater than the value of <i><span class="varname">suppress</span></i>.</p>
<p>The value of <i><span class="varname">decay-ok</span></i> is the time taken to decay the penalty value to half when the interface is up. It ranges from 1 to 900 seconds. The default value is 54 seconds.</p>
<p>The value of <i><span class="varname">decay-ng</span></i> is the time taken to decay the penalty value to half when the interface is down. It ranges from 1 to 900 seconds. The default value is 54 seconds.</p>
<p>Only Layer 3 interfaces support the control-flap function.</p>
<p>The Null0 interface and loopback interfaces do not support the control-flap function.</p>
<p>You can run the <a href="cmdqueryname=display+control-flap"><b><span class="cmdname">display control-flap</span></b></a> [ <strong><span>interface</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> } ] command to check the running status of and statistics related to the control-flap function on an interface. If no interface is specified, the information about all interfaces is displayed. Based on the information, you can adjust control-flap parameters.</p>
<p>You can run the <a href="cmdqueryname=reset+control-flap"><b><span class="cmdname">reset control-flap</span></b></a> { <strong><span>penalty</span></strong> | <strong><span>counter</span></strong> } <strong><span>interface</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> } command to clear the running status of and statistics related to the control-flap function on an interface.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.68266826682668%" headers="mcps1.3.1.5.2.1.2.4.1.1 "><p>Configure fast detection of interfaces' physical status changes.</p>
</td>
<td class="cellrowborder" valign="top" width="39.363936393639364%" headers="mcps1.3.1.5.2.1.2.4.1.2 "><p><a href="cmdqueryname=port-status+fast-detect+enable"><b><span class="cmdname">port-status fast-detect enable</span></b></a></p>
</td>
<td class="cellrowborder" valign="top" width="33.953395339533955%" headers="mcps1.3.1.5.2.1.2.4.1.3 "><p>By default, fast detection of interfaces' physical status changes is disabled.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.68266826682668%" headers="mcps1.3.1.5.2.1.2.4.1.1 "><p>(Optional) Disable the fault filtering function on the interface.</p>
</td>
<td class="cellrowborder" valign="top" width="39.363936393639364%" headers="mcps1.3.1.5.2.1.2.4.1.2 "><p><a href="cmdqueryname=fault-detect+filter+disable"><b><span class="cmdname">fault-detect filter disable</span></b></a></p>
</td>
<td class="cellrowborder" valign="top" width="33.953395339533955%" headers="mcps1.3.1.5.2.1.2.4.1.3 "><p>By default, the fault filtering function is enabled on an interface. Typically, you are advised not to disable the fault filtering function on an interface.</p>
<p>The fault filtering function can prevent the interface status from changing multiple times when the link signal jitters, ensuring the normal running of services. When two devices are connected, if the remote device does not support the fault filtering function but the local device has the fault filtering function enabled, the interface on the remote device may be intermittently disconnected. In this case, you are advised to run this command to disable the fault filtering function on the local interface.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.68266826682668%" headers="mcps1.3.1.5.2.1.2.4.1.1 "><p>(Optional) Disable fault detection on an interface.</p>
</td>
<td class="cellrowborder" valign="top" width="39.363936393639364%" headers="mcps1.3.1.5.2.1.2.4.1.2 "><p><a href="cmdqueryname=fault-detect+disable"><b><span class="cmdname">fault-detect disable</span></b></a></p>
</td>
<td class="cellrowborder" valign="top" width="33.953395339533955%" headers="mcps1.3.1.5.2.1.2.4.1.3 "><p>By default, fault detection is enabled on interfaces. Typically, you are advised not to disable fault detection on an interface.</p>
<p>In a scenario where two devices are interconnected, the remote interface is up, but the status of the local interface alternates between up and down multiple times due to link signal jitter and the hwLocalFaultAlarm alarm is reported, affecting services. In this case, you are advised to run this command to disable fault detection on the interface. This ensures that the local interface does not go down due to link signal jitter, ensuring service continuity.</p>
<p>However, note that with fault detection disabled on an interface, the interfaces at both ends of a link may have different statuses.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.68266826682668%" headers="mcps1.3.1.5.2.1.2.4.1.1 "><p>Configure a delay in reporting an interface up event.</p>
</td>
<td class="cellrowborder" valign="top" width="39.363936393639364%" headers="mcps1.3.1.5.2.1.2.4.1.2 "><p><a href="cmdqueryname=set+up-delay"><b><span class="cmdname">set up-delay</span></b></a> <i><span class="varname">value</span></i></p>
</td>
<td class="cellrowborder" valign="top" width="33.953395339533955%" headers="mcps1.3.1.5.2.1.2.4.1.3 "><p>By default, the delay is 0 seconds.</p>
<p>During the set delay, if the command is run to change the delay or the interface restarts, the original delay becomes invalid. </p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.68266826682668%" headers="mcps1.3.1.5.2.1.2.4.1.1 "><p>Configure a delay in reporting interfaces' physical status changes.</p>
</td>
<td class="cellrowborder" valign="top" width="39.363936393639364%" headers="mcps1.3.1.5.2.1.2.4.1.2 "><p><a href="cmdqueryname=carrier"><b><span class="cmdname">carrier</span></b></a> { <strong><span>down-hold-time</span></strong>  <i><span class="varname">hold-down</span></i> | <strong><span>up-hold-time</span></strong>  <i><span class="varname">hold-up</span></i> }</p>
</td>
<td class="cellrowborder" valign="top" width="33.953395339533955%" headers="mcps1.3.1.5.2.1.2.4.1.3 "><p>By default, the delay in reporting an up event and that in reporting a down event are both 0 ms.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.68266826682668%" headers="mcps1.3.1.5.2.1.2.4.1.1 "><p>Configure an interface to enter the error-down state when the number of link flaps reaches a specified threshold within a specified interval.</p>
</td>
<td class="cellrowborder" valign="top" width="39.363936393639364%" headers="mcps1.3.1.5.2.1.2.4.1.2 "><div class="p">Run the following commands in sequence:<ol type="a"><li><a href="cmdqueryname=port+link-flap"><b><span class="cmdname">port link-flap</span></b></a> { <strong><span>interval</span></strong> <i><span class="varname">interval-value</span></i> <strong><span>threshold</span></strong> <i><span class="varname">threshold-value</span></i> | <strong><span>interval</span></strong> <i><span class="varname">interval-value</span></i> | <strong><span>threshold</span></strong> <i><span class="varname">threshold-value</span></i> }<span> [ <a href="cmdqueryname=second-interval"><b><span class="cmdname">second-interval</span></b></a> <i><span class="varname">second-interval-value</span></i> <a href="cmdqueryname=second-threshold"><b><span class="cmdname">second-threshold</span></b></a> <i><span class="varname">second-threshold-value</span></i> ]</span></li><li><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></li><li><a href="cmdqueryname=port+link-flap+trigger+error-down"><b><span class="cmdname">port link-flap trigger error-down</span></b></a></li></ol>
</div>
</td>
<td class="cellrowborder" valign="top" width="33.953395339533955%" headers="mcps1.3.1.5.2.1.2.4.1.3 "><p>By default, only one group of parameters are supported. Specifically, the link flapping detection interval is 10s, and the maximum number of link flaps within this interval is 5.</p>
<p>By default, an interface enters the error-down state when link flapping occurs.</p>
<p>For details about how to check and clear the error-down state, see <a href="galaxy_ethernet-int_0018.html">Configuring an Interface to Enter the Error-Down State When the Receive Optical Power Is Low</a>.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.68266826682668%" headers="mcps1.3.1.5.2.1.2.4.1.1 "><p>Configure an interface to enter the error-down state when the number of received CRC error packets exceeds the threshold.</p>
</td>
<td class="cellrowborder" valign="top" width="39.363936393639364%" headers="mcps1.3.1.5.2.1.2.4.1.2 "><div class="p">Run the following commands in sequence:<ol type="a"><li><a href="cmdqueryname=trap-threshold+crc-statistics"><b><span class="cmdname">trap-threshold crc-statistics</span></b></a> <i><span class="varname">threshold-value</span></i> <strong><span>interval</span></strong> <i><span class="varname">interval-value</span></i> </li><li><a href="cmdqueryname=port+crc-statistics+trigger+error-down"><b><span class="cmdname">port crc-statistics trigger error-down</span></b></a></li></ol>
</div>
</td>
<td class="cellrowborder" valign="top" width="33.953395339533955%" headers="mcps1.3.1.5.2.1.2.4.1.3 "><p>For the first command: By default, the alarm threshold for the number of CRC error packets is 3 and the interval for collecting statistics about CRC error packets is 10 seconds.</p>
<p>For the second command: By default, an interface does not enter the error-down state when the number of received CRC error packets exceeds the threshold.</p>
<p>For details about how to check and clear the error-down state, see <a href="galaxy_ethernet-int_0018.html">Configuring an Interface to Enter the Error-Down State When the Receive Optical Power Is Low</a>.</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen"><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_ethernet-int_0023.html">Configuring General Attributes for Ethernet Optical or Electrical Interfaces
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_ethernet-int_0007.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="galaxy_ethernet-int_0022.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>