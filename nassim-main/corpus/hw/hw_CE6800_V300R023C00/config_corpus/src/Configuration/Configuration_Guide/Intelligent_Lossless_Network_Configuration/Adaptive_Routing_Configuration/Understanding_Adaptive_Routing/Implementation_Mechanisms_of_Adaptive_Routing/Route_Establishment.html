
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Route Establishment">
<meta name="abstract" content="">
<meta name="description" content="">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_adaptive_routing_cfg_0018.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_adaptive_routing_cfg_0007.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Dragonfly Adaptive Routing">
<meta name="featurename" content="Adaptive Routing">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Dragonfly Adaptive Routing">
<meta name="featurename" content="Adaptive Routing">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="featurename" content="Dragonfly Adaptive Routing">
<meta name="featurename" content="Adaptive Routing">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="featurename" content="Dragonfly Adaptive Routing">
<meta name="featurename" content="Adaptive Routing">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001563870377">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Route Establishment</title>
</head>
<body><a name="EN-US_CONCEPT_0000001563870377"></a><a name="EN-US_CONCEPT_0000001563870377"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Route Establishment</h1>
<div><p></p>
<div class="section"><h4 class="sectiontitle">Route Classification</h4><p>There are multiple available forwarding paths between the source and destination nodes of a packet. Different routes indicate different forwarding paths. The following table provides the classification of routes.</p>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Classification of routes in adaptive routing</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="17.080000000000002%" id="mcps1.4.1.3.2.5.1.1" liSelected="liSelected"><p>Route Type</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="12.1%" id="mcps1.4.1.3.2.5.1.2" liSelected="liSelected"><p>Forwarding Path</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="10.59%" id="mcps1.4.1.3.2.5.1.3" liSelected="liSelected"><p>Cost Value Range</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="60.23%" id="mcps1.4.1.3.2.5.1.4" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="17.080000000000002%" headers="mcps1.4.1.3.2.5.1.1 "><p>Direct route</p>
</td>
<td class="cellrowborder" valign="top" width="12.1%" headers="mcps1.4.1.3.2.5.1.2 "><p>-</p>
</td>
<td class="cellrowborder" valign="top" width="10.59%" headers="mcps1.4.1.3.2.5.1.3 "><p>0</p>
</td>
<td class="cellrowborder" valign="top" width="60.23%" headers="mcps1.4.1.3.2.5.1.4 "><p>Direct route, which is generated on an access port.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="17.080000000000002%" headers="mcps1.4.1.3.2.5.1.1 "><p>Local min route</p>
</td>
<td class="cellrowborder" valign="top" width="12.1%" headers="mcps1.4.1.3.2.5.1.2 "><p>Intra-group shortest path</p>
</td>
<td class="cellrowborder" valign="top" width="10.59%" headers="mcps1.4.1.3.2.5.1.3 "><p>1</p>
</td>
<td class="cellrowborder" rowspan="2" valign="top" width="60.23%" headers="mcps1.4.1.3.2.5.1.4 "><p>A route generated when the egress node advertises a direct route to other network nodes in the group. The cost of the route increments by 1 each time the route is advertised to a new hop. To ensure low latency, packets forwarded within a group can pass through no more than two local links.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.1.3.2.5.1.1 "><p>Local non-min route</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.3.2.5.1.2 "><p>Intra-group non-shortest path</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.1.3.2.5.1.3 "><p>[2,1000)</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="17.080000000000002%" headers="mcps1.4.1.3.2.5.1.1 "><p>Global min route</p>
</td>
<td class="cellrowborder" valign="top" width="12.1%" headers="mcps1.4.1.3.2.5.1.2 "><p>Inter-group shortest path</p>
</td>
<td class="cellrowborder" valign="top" width="10.59%" headers="mcps1.4.1.3.2.5.1.3 "><p>[1000,2000)</p>
</td>
<td class="cellrowborder" valign="top" width="60.23%" headers="mcps1.4.1.3.2.5.1.4 "><p>A route generated when a local route is advertised to a node in a directly connected group through a global link. The cost of the route increments by 1000 when the route is advertised through the global link.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="17.080000000000002%" headers="mcps1.4.1.3.2.5.1.1 "><p>Global non-min route</p>
</td>
<td class="cellrowborder" valign="top" width="12.1%" headers="mcps1.4.1.3.2.5.1.2 "><p>Inter-group non-shortest path</p>
</td>
<td class="cellrowborder" valign="top" width="10.59%" headers="mcps1.4.1.3.2.5.1.3 "><p>[2000,3000)</p>
</td>
<td class="cellrowborder" valign="top" width="60.23%" headers="mcps1.4.1.3.2.5.1.4 "><p>A route generated when a global min route is advertised to other groups, except the directly connected group, through a global link. The cost of the route increments by 1000 when the route is advertised through the global link. To ensure low latency, packets forwarded between groups can pass through no more than two global links, and packets in each group can pass through no more than one local link.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section"><h4 class="sectiontitle">Route Configuration</h4><p>The adaptive routing function is implemented based on BGP. Each group is considered to be an AS and allocated an AS number. EBGP runs between groups, and IBGP runs within a group. Each network node has three types of ports: access port, global port, and local port. Each pair of nodes that are connected between groups establishes a BGP session through the global port. Each pair of nodes that are connected within a group establishes two BGP sessions through the two Layer 3 sub-interfaces of the local port to advertise the shortest path routes and non-shortest path routes, respectively.</p>
<p>Three routing tables are maintained on each network node: a public network routing table, a routing table of a Non-min VPN instance, and a routing table of a Mix VPN instance.</p>
<ul><li>Public network routing table: contains the routing information of the shortest path.</li><li>Routing table of a Non-min VPN instance: contains the routing information of the non-shortest paths.</li><li>Routing table of a Mix VPN instance: contains the routing information of both the shortest and non-shortest paths.</li></ul>
<p>When configuring route establishment rules, you can configure VPN instances, interface types, routing policies, and BGP route processing to control route advertisement and generate routing tables that comply with the rules on network nodes. In this way, routes for packet forwarding are established on the entire network.</p>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 2 </b>Classification of ports on network nodes</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="18.64%" id="mcps1.4.2.6.2.5.1.1" liSelected="liSelected"><p>Port Type</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="24.610000000000003%" id="mcps1.4.2.6.2.5.1.2" liSelected="liSelected"><p>Connected Node</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="21.48%" id="mcps1.4.2.6.2.5.1.3" liSelected="liSelected"><p>Layer 3 Sub-Interface</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="35.27%" id="mcps1.4.2.6.2.5.1.4" liSelected="liSelected"><p>Bound VPN Instance</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="18.64%" headers="mcps1.4.2.6.2.5.1.1 "><p>Access port</p>
</td>
<td class="cellrowborder" valign="top" width="24.610000000000003%" headers="mcps1.4.2.6.2.5.1.2 "><p>Compute node connected to the local device</p>
</td>
<td class="cellrowborder" valign="top" width="21.48%" headers="mcps1.4.2.6.2.5.1.3 "><p>None</p>
</td>
<td class="cellrowborder" valign="top" width="35.27%" headers="mcps1.4.2.6.2.5.1.4 "><p>Mix VPN instance</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="18.64%" headers="mcps1.4.2.6.2.5.1.1 "><p>Global port</p>
</td>
<td class="cellrowborder" valign="top" width="24.610000000000003%" headers="mcps1.4.2.6.2.5.1.2 "><p>Network nodes in different groups</p>
</td>
<td class="cellrowborder" valign="top" width="21.48%" headers="mcps1.4.2.6.2.5.1.3 "><p>None</p>
</td>
<td class="cellrowborder" valign="top" width="35.27%" headers="mcps1.4.2.6.2.5.1.4 "><p>None</p>
<p>It uses the public network routing table to guide packet forwarding.</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="2" valign="top" width="18.64%" headers="mcps1.4.2.6.2.5.1.1 "><p>Local port</p>
<p></p>
</td>
<td class="cellrowborder" rowspan="2" valign="top" width="24.610000000000003%" headers="mcps1.4.2.6.2.5.1.2 "><p>Network nodes in the same group</p>
<p></p>
</td>
<td class="cellrowborder" valign="top" width="21.48%" headers="mcps1.4.2.6.2.5.1.3 "><p>Min sub-interface</p>
</td>
<td class="cellrowborder" valign="top" width="35.27%" headers="mcps1.4.2.6.2.5.1.4 "><p>None</p>
<p>It uses the public network routing table to guide packet forwarding.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.4.2.6.2.5.1.1 "><p>Non-min sub-interface</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.4.2.6.2.5.1.2 "><p>Non-min VPN instance</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section"><h4 class="sectiontitle">Route Advertisement</h4><p>After route establishment rules are configured, routing table information is generated through route advertisement. Using route advertisement from the compute node D to compute node S as an example, the processes of route advertisement for different paths are as follows:</p>
<ul><li><strong>Intra-group shortest path</strong><div class="fignone"><span class="figcap"><b>Figure 1 </b>Route advertisement for the intra-group shortest path</span><br><span><img class="vsd" src="figure/en-us_image_0000001513030470.png" width="NaN" height="NaN"></span></div>
<ol><li>The access port of Node4 generates direct route information, which is then imported from the routing table of the Mix VPN instance to the public network routing table, with a cost of 0.</li><li>Node4 advertises the route to the public network routing tables on Node1, Node2, and Node3, and the cost of the route increments by 1.</li><li>The route is imported from the public network routing tables on Node1, Node2, and Node3 to the routing tables of the Mix VPN and Non-min VPN instances on these nodes.</li></ol>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 3 </b>Cost value of the destination node D in the routing table of each involved node</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="20%" id="mcps1.4.3.3.1.4.2.6.1.1" liSelected="liSelected"><p>Routing Table</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="20%" id="mcps1.4.3.3.1.4.2.6.1.2" liSelected="liSelected"><p>Node1</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="20%" id="mcps1.4.3.3.1.4.2.6.1.3" liSelected="liSelected"><p>Node2</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="20%" id="mcps1.4.3.3.1.4.2.6.1.4" liSelected="liSelected"><p>Node3</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="20%" id="mcps1.4.3.3.1.4.2.6.1.5" liSelected="liSelected"><p>Node4</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.1.4.2.6.1.1 "><p>Public network routing table</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.1.4.2.6.1.2 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.1.4.2.6.1.3 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.1.4.2.6.1.4 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.1.4.2.6.1.5 "><p>Cost = 0</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.1.4.2.6.1.1 "><p>Routing table of the Non-min VPN instance</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.1.4.2.6.1.2 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.1.4.2.6.1.3 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.1.4.2.6.1.4 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.1.4.2.6.1.5 "><p>-</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.1.4.2.6.1.1 "><p>Routing table of the Mix VPN instance</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.1.4.2.6.1.2 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.1.4.2.6.1.3 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.1.4.2.6.1.4 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.1.4.2.6.1.5 "><p>Cost = 0</p>
</td>
</tr>
</tbody>
</table>
</div>
</li><li><strong>Intra-group non-shortest path</strong><div class="fignone"><span class="figcap"><b>Figure 2 </b>Route advertisement for an intra-group non-shortest path</span><br><span><img class="vsd" src="figure/en-us_image_0000001513030462.png" width="NaN" height="NaN"></span></div>
<ol><li>The access port of Node4 generates direct route information, which is then imported from the routing table of the Mix VPN instance to the public network routing table, with a cost of 0.</li><li>Node4 advertises the route to the public network routing tables on Node2 and Node3, and the cost of the route increments by 1.</li><li>The route is imported from the public network routing tables on Node2 and Node3 to the routing tables of the Mix VPN and Non-min VPN instances on these nodes.</li><li>Node2 and Node3 advertise the route to the public network routing table and routing table of the Non-min VPN instance on Node1, and the cost of the route increments by 1.</li><li>The route is imported from the routing table of the Non-min VPN instance on Node1 to the routing table of the Mix VPN instance on Node1.</li></ol>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 4 </b>Cost value of the destination node D in the routing table of each involved node</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="20%" id="mcps1.4.3.3.2.4.2.6.1.1" liSelected="liSelected"><p>Routing Table</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="20%" id="mcps1.4.3.3.2.4.2.6.1.2" liSelected="liSelected"><p>Node1</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="20%" id="mcps1.4.3.3.2.4.2.6.1.3" liSelected="liSelected"><p>Node2</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="20%" id="mcps1.4.3.3.2.4.2.6.1.4" liSelected="liSelected"><p>Node3</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="20%" id="mcps1.4.3.3.2.4.2.6.1.5" liSelected="liSelected"><p>Node4</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.2.4.2.6.1.1 "><p>Public network routing table</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.2.4.2.6.1.2 "><p>Cost = 2</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.2.4.2.6.1.3 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.2.4.2.6.1.4 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.2.4.2.6.1.5 "><p>Cost = 0</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.2.4.2.6.1.1 "><p>Routing table of the Non-min VPN instance</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.2.4.2.6.1.2 "><p>Cost = 2</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.2.4.2.6.1.3 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.2.4.2.6.1.4 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.2.4.2.6.1.5 "><p>-</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.2.4.2.6.1.1 "><p>Routing table of the Mix VPN instance</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.2.4.2.6.1.2 "><p>Cost = 2</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.2.4.2.6.1.3 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.2.4.2.6.1.4 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.4.3.3.2.4.2.6.1.5 "><p>Cost = 0</p>
</td>
</tr>
</tbody>
</table>
</div>
</li><li><strong>Inter-group shortest path</strong><div class="fignone"><span class="figcap"><b>Figure 3 </b>Route advertisement for the inter-group shortest path</span><br><span><img class="vsd" src="figure/en-us_image_0000001512671310.png" width="NaN" height="NaN"></span></div>
<ol><li>Route advertisement in the destination group:<ol type="a"><li>The access port of the egress node Node8 generates direct route information, which is then imported from the routing table of the Mix VPN instance to the public network routing table, with a cost of 0.</li><li>Node8 advertises the route to the public network routing tables on Node5, Node6, and Node7, and the cost of the route increments by 1.</li><li>The route is imported from the public network routing tables on Node5, Node6, and Node7 to the routing tables of the Mix VPN and Non-min VPN instances on these nodes.</li></ol>
</li><li>Route advertisement in the source group:<ol type="a"><li>Node5 advertises the route to the public network routing table on Node2, and the cost of the route increments by 1000.</li><li>The route is imported from the public network routing table on Node2 to the routing table of the Mix VPN instance on Node2.</li><li>Node2 advertises the route to the public network routing tables on Node1, Node3, and Node4, and the cost of the route increments by 1.</li><li>The route is imported from the public network routing tables on Node1, Node3, and Node4 to the routing tables of the Mix VPN instances on these nodes.</li></ol>
</li></ol>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 5 </b>Cost value of the destination node D in the routing table of each involved node</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="11.111111111111112%" id="mcps1.4.3.3.3.4.2.10.1.1" liSelected="liSelected"><p>Routing Table</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="11.111111111111112%" id="mcps1.4.3.3.3.4.2.10.1.2" liSelected="liSelected"><p>Node1</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="11.111111111111112%" id="mcps1.4.3.3.3.4.2.10.1.3" liSelected="liSelected"><p>Node2</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="11.111111111111112%" id="mcps1.4.3.3.3.4.2.10.1.4" liSelected="liSelected"><p>Node3</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="11.111111111111112%" id="mcps1.4.3.3.3.4.2.10.1.5" liSelected="liSelected"><p>Node4</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="11.111111111111112%" id="mcps1.4.3.3.3.4.2.10.1.6" liSelected="liSelected"><p>Node5</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="11.111111111111112%" id="mcps1.4.3.3.3.4.2.10.1.7" liSelected="liSelected"><p>Node6</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="11.111111111111112%" id="mcps1.4.3.3.3.4.2.10.1.8" liSelected="liSelected"><p>Node7</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="11.111111111111112%" id="mcps1.4.3.3.3.4.2.10.1.9" liSelected="liSelected"><p>Node8</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="11.111111111111112%" headers="mcps1.4.3.3.3.4.2.10.1.1 "><p>Public network routing table</p>
</td>
<td class="cellrowborder" valign="top" width="11.111111111111112%" headers="mcps1.4.3.3.3.4.2.10.1.2 "><p>Cost = 1002</p>
</td>
<td class="cellrowborder" valign="top" width="11.111111111111112%" headers="mcps1.4.3.3.3.4.2.10.1.3 "><p>Cost = 1001</p>
</td>
<td class="cellrowborder" valign="top" width="11.111111111111112%" headers="mcps1.4.3.3.3.4.2.10.1.4 "><p>Cost = 1002</p>
</td>
<td class="cellrowborder" valign="top" width="11.111111111111112%" headers="mcps1.4.3.3.3.4.2.10.1.5 "><p>Cost = 1002</p>
</td>
<td class="cellrowborder" valign="top" width="11.111111111111112%" headers="mcps1.4.3.3.3.4.2.10.1.6 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="11.111111111111112%" headers="mcps1.4.3.3.3.4.2.10.1.7 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="11.111111111111112%" headers="mcps1.4.3.3.3.4.2.10.1.8 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="11.111111111111112%" headers="mcps1.4.3.3.3.4.2.10.1.9 "><p>Cost = 0</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="11.111111111111112%" headers="mcps1.4.3.3.3.4.2.10.1.1 "><p>Routing table of the Non-min VPN instance</p>
</td>
<td class="cellrowborder" valign="top" width="11.111111111111112%" headers="mcps1.4.3.3.3.4.2.10.1.2 "><p>-</p>
</td>
<td class="cellrowborder" valign="top" width="11.111111111111112%" headers="mcps1.4.3.3.3.4.2.10.1.3 "><p>-</p>
</td>
<td class="cellrowborder" valign="top" width="11.111111111111112%" headers="mcps1.4.3.3.3.4.2.10.1.4 "><p>-</p>
</td>
<td class="cellrowborder" valign="top" width="11.111111111111112%" headers="mcps1.4.3.3.3.4.2.10.1.5 "><p>-</p>
</td>
<td class="cellrowborder" valign="top" width="11.111111111111112%" headers="mcps1.4.3.3.3.4.2.10.1.6 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="11.111111111111112%" headers="mcps1.4.3.3.3.4.2.10.1.7 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="11.111111111111112%" headers="mcps1.4.3.3.3.4.2.10.1.8 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="11.111111111111112%" headers="mcps1.4.3.3.3.4.2.10.1.9 "><p>-</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="11.111111111111112%" headers="mcps1.4.3.3.3.4.2.10.1.1 "><p>Routing table of the Mix VPN instance</p>
</td>
<td class="cellrowborder" valign="top" width="11.111111111111112%" headers="mcps1.4.3.3.3.4.2.10.1.2 "><p>Cost = 1002</p>
</td>
<td class="cellrowborder" valign="top" width="11.111111111111112%" headers="mcps1.4.3.3.3.4.2.10.1.3 "><p>Cost = 1001</p>
</td>
<td class="cellrowborder" valign="top" width="11.111111111111112%" headers="mcps1.4.3.3.3.4.2.10.1.4 "><p>Cost = 1002</p>
</td>
<td class="cellrowborder" valign="top" width="11.111111111111112%" headers="mcps1.4.3.3.3.4.2.10.1.5 "><p>Cost = 1002</p>
</td>
<td class="cellrowborder" valign="top" width="11.111111111111112%" headers="mcps1.4.3.3.3.4.2.10.1.6 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="11.111111111111112%" headers="mcps1.4.3.3.3.4.2.10.1.7 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="11.111111111111112%" headers="mcps1.4.3.3.3.4.2.10.1.8 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="11.111111111111112%" headers="mcps1.4.3.3.3.4.2.10.1.9 "><p>Cost = 0</p>
</td>
</tr>
</tbody>
</table>
</div>
</li><li><strong>Inter-group non-shortest path</strong></li></ul>
<div class="fignone"><span class="figcap"><b>Figure 4 </b>Route advertisement for an inter-group non-shortest path</span><br><span><img class="vsd" src="figure/en-us_image_0000001563870421.png" width="NaN" height="NaN"></span></div>
<ol><li>Route advertisement in the destination group:<ol type="a"><li>The access port of the egress node Node12 generates direct route information, which is then imported from the routing table of the Mix VPN instance to the public network routing table, with a cost of 0.</li><li>Node12 advertises the route to the public network routing tables on Node9, Node10, and Node11, and the cost of the route increments by 1.</li><li>The route is imported from the public network routing tables on Node9, Node10, and Node11 to the routing tables of the Mix VPN and Non-min VPN instances on these nodes.</li></ol>
</li><li>Route advertisement in the transit group:<ol type="a"><li>Node11 advertises the route to the public network routing table on Node6, and the cost of the route increments by 1000.</li><li>The route is imported from the public network routing table on Node6 to the routing table of the Mix VPN instance on Node6.</li><li>Node6 advertises the route to the public network routing tables on Node5, Node7, and Node8, and the cost of the route increments by 1.</li><li>The route is imported from the public network routing tables on Node5, Node7, and Node8 to the routing tables of the Mix VPN instances on these nodes.</li></ol>
</li><li>Route advertisement in the source group:<ol type="a"><li>Node5 advertises the route to the public network routing table on Node4, and the cost of the route increments by 1000.</li><li>The route is imported from the public network routing table on Node4 to the routing tables of the Mix VPN and Non-min VPN instances on Node4.</li><li>Node4 advertises the route to the routing tables of the Non-min VPN instances on Node1, Node2, and Node3, and the cost of the route increments by 1.</li><li>The route is imported from the routing tables of the Non-min VPN instances on Node1, Node2, and Node3 to the routing tables of the Mix VPN instances on these nodes.</li></ol>
</li></ol>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 6 </b>Cost value of the destination node D in the routing table of each involved node</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="9.999999999999998%" id="mcps1.4.3.6.2.14.1.1" liSelected="liSelected"><p>Routing Table</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="7.749999999999998%" id="mcps1.4.3.6.2.14.1.2" liSelected="liSelected"><p>Node1</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="7.749999999999998%" id="mcps1.4.3.6.2.14.1.3" liSelected="liSelected"><p>Node2</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="7.749999999999998%" id="mcps1.4.3.6.2.14.1.4" liSelected="liSelected"><p>Node3</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="7.749999999999998%" id="mcps1.4.3.6.2.14.1.5" liSelected="liSelected"><p>Node4</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="7.749999999999998%" id="mcps1.4.3.6.2.14.1.6" liSelected="liSelected"><p>Node5</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="7.749999999999998%" id="mcps1.4.3.6.2.14.1.7" liSelected="liSelected"><p>Node6</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="7.749999999999998%" id="mcps1.4.3.6.2.14.1.8" liSelected="liSelected"><p>Node7</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="7.749999999999998%" id="mcps1.4.3.6.2.14.1.9" liSelected="liSelected"><p>Node8</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="6.999999999999999%" id="mcps1.4.3.6.2.14.1.10" liSelected="liSelected"><p>Node9</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="6.999999999999999%" id="mcps1.4.3.6.2.14.1.11" liSelected="liSelected"><p>Node10</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="6.999999999999999%" id="mcps1.4.3.6.2.14.1.12" liSelected="liSelected"><p>Node11</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="6.999999999999999%" id="mcps1.4.3.6.2.14.1.13" liSelected="liSelected"><p>Node12</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="9.999999999999998%" headers="mcps1.4.3.6.2.14.1.1 "><p>Public network routing table</p>
</td>
<td class="cellrowborder" valign="top" width="7.749999999999998%" headers="mcps1.4.3.6.2.14.1.2 "><p>-</p>
</td>
<td class="cellrowborder" valign="top" width="7.749999999999998%" headers="mcps1.4.3.6.2.14.1.3 "><p>-</p>
</td>
<td class="cellrowborder" valign="top" width="7.749999999999998%" headers="mcps1.4.3.6.2.14.1.4 "><p>-</p>
</td>
<td class="cellrowborder" valign="top" width="7.749999999999998%" headers="mcps1.4.3.6.2.14.1.5 "><p>Cost = 2002</p>
</td>
<td class="cellrowborder" valign="top" width="7.749999999999998%" headers="mcps1.4.3.6.2.14.1.6 "><p>Cost = 1002</p>
</td>
<td class="cellrowborder" valign="top" width="7.749999999999998%" headers="mcps1.4.3.6.2.14.1.7 "><p>Cost = 1001</p>
</td>
<td class="cellrowborder" valign="top" width="7.749999999999998%" headers="mcps1.4.3.6.2.14.1.8 "><p>Cost = 1002</p>
</td>
<td class="cellrowborder" valign="top" width="7.749999999999998%" headers="mcps1.4.3.6.2.14.1.9 "><p>Cost = 1002</p>
</td>
<td class="cellrowborder" valign="top" width="6.999999999999999%" headers="mcps1.4.3.6.2.14.1.10 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="6.999999999999999%" headers="mcps1.4.3.6.2.14.1.11 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="6.999999999999999%" headers="mcps1.4.3.6.2.14.1.12 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="6.999999999999999%" headers="mcps1.4.3.6.2.14.1.13 "><p>Cost = 0</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="9.999999999999998%" headers="mcps1.4.3.6.2.14.1.1 "><p>Routing table of the Non-min VPN instance</p>
</td>
<td class="cellrowborder" valign="top" width="7.749999999999998%" headers="mcps1.4.3.6.2.14.1.2 "><p>Cost = 2003</p>
</td>
<td class="cellrowborder" valign="top" width="7.749999999999998%" headers="mcps1.4.3.6.2.14.1.3 "><p>Cost = 2003</p>
</td>
<td class="cellrowborder" valign="top" width="7.749999999999998%" headers="mcps1.4.3.6.2.14.1.4 "><p>Cost = 2003</p>
</td>
<td class="cellrowborder" valign="top" width="7.749999999999998%" headers="mcps1.4.3.6.2.14.1.5 "><p>Cost = 2002</p>
</td>
<td class="cellrowborder" valign="top" width="7.749999999999998%" headers="mcps1.4.3.6.2.14.1.6 "><p>-</p>
</td>
<td class="cellrowborder" valign="top" width="7.749999999999998%" headers="mcps1.4.3.6.2.14.1.7 "><p>-</p>
</td>
<td class="cellrowborder" valign="top" width="7.749999999999998%" headers="mcps1.4.3.6.2.14.1.8 "><p>-</p>
</td>
<td class="cellrowborder" valign="top" width="7.749999999999998%" headers="mcps1.4.3.6.2.14.1.9 "><p>-</p>
</td>
<td class="cellrowborder" valign="top" width="6.999999999999999%" headers="mcps1.4.3.6.2.14.1.10 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="6.999999999999999%" headers="mcps1.4.3.6.2.14.1.11 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="6.999999999999999%" headers="mcps1.4.3.6.2.14.1.12 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="6.999999999999999%" headers="mcps1.4.3.6.2.14.1.13 "><p>-</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="9.999999999999998%" headers="mcps1.4.3.6.2.14.1.1 "><p>Routing table of the Mix VPN instance</p>
</td>
<td class="cellrowborder" valign="top" width="7.749999999999998%" headers="mcps1.4.3.6.2.14.1.2 "><p>Cost = 2003</p>
</td>
<td class="cellrowborder" valign="top" width="7.749999999999998%" headers="mcps1.4.3.6.2.14.1.3 "><p>Cost = 2003</p>
</td>
<td class="cellrowborder" valign="top" width="7.749999999999998%" headers="mcps1.4.3.6.2.14.1.4 "><p>Cost = 2003</p>
</td>
<td class="cellrowborder" valign="top" width="7.749999999999998%" headers="mcps1.4.3.6.2.14.1.5 "><p>Cost = 2002</p>
</td>
<td class="cellrowborder" valign="top" width="7.749999999999998%" headers="mcps1.4.3.6.2.14.1.6 "><p>Cost = 1002</p>
</td>
<td class="cellrowborder" valign="top" width="7.749999999999998%" headers="mcps1.4.3.6.2.14.1.7 "><p>Cost = 1001</p>
</td>
<td class="cellrowborder" valign="top" width="7.749999999999998%" headers="mcps1.4.3.6.2.14.1.8 "><p>Cost = 1002</p>
</td>
<td class="cellrowborder" valign="top" width="7.749999999999998%" headers="mcps1.4.3.6.2.14.1.9 "><p>Cost = 1002</p>
</td>
<td class="cellrowborder" valign="top" width="6.999999999999999%" headers="mcps1.4.3.6.2.14.1.10 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="6.999999999999999%" headers="mcps1.4.3.6.2.14.1.11 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="6.999999999999999%" headers="mcps1.4.3.6.2.14.1.12 "><p>Cost = 1</p>
</td>
<td class="cellrowborder" valign="top" width="6.999999999999999%" headers="mcps1.4.3.6.2.14.1.13 "><p>Cost = 0</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_adaptive_routing_cfg_0018.html">Implementation Mechanisms of Adaptive Routing
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_adaptive_routing_cfg_0007.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>