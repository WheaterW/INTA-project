
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Starting DHCP-based ZTP with a Controller">
<meta name="abstract" content="">
<meta name="description" content="">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_ztp_cfg_0040.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_ztp_cfg_0042.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_ztp_cfg_0044.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="ZTP">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="ZTP">
<meta name="featuretype" content="Basic Configuration">
<meta name="featurename" content="ZTP">
<meta name="featuretype" content="Basic Configuration">
<meta name="featurename" content="ZTP">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001564114453">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Starting DHCP-based ZTP with a Controller</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001564114453"></a><a name="EN-US_TASK_0000001564114453"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Starting DHCP-based ZTP with a Controller</h1>
<div class="taskbody"><p></p>
<div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001564114453__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>To implement ZTP through iMaster NCE-Fabric, you need to set related parameters on the controller. For details, see "Using ZTP to Automatically Deploy an Underlay Network" in the <a href="https://support.huawei.com/enterprise/en/network-solution/cloudfabric-pid-22604572" target="_blank" rel="noopener noreferrer">Huawei CloudFabric Data Center Network Solution Product Documentation</a>.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If ZTP fails to be implemented through iMaster NCE-Fabric, you need to run the <a href="cmdqueryname=pki+delete-certificate"><b><span class="cmdname">pki delete-certificate</span></b></a> <strong><span>ca</span></strong> <strong><span>realm</span></strong> <i><span class="varname">default</span></i> command to manually delete the CA certificate from the default domain on the device.</p>
</div></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001564114453__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>A device with factory configurations has never started ZTP before. In its factory configurations, the ZTP function is enabled by default. To start ZTP, you only need to power on the device. The ZTP function can be disabled on a device. If you log in to a device through the console port and disable the ZTP function when the device starts with factory configurations, the ZTP process is terminated. To enable the device to execute the ZTP process when it starts with factory configurations next time, you need to enable the ZTP function.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001564114453__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Power on the device.</span></li><li><span>(Optional) Enable the ZTP function on the device.</span><p><pre class="screen"><a href="cmdqueryname=set+ztp+enable"><b><span class="cmdname">set ztp enable</span></b></a></pre>
<p>By default, the ZTP function is enabled on a device.</p>
<p>To disable a device from running the ZTP process upon startup with factory configurations, run the <a href="cmdqueryname=set+ztp+disable"><b><span class="cmdname">set ztp disable</span></b></a> command on the device.</p>
</p></li><li><span>(Optional) Restart the device with factory configurations.</span><p><pre class="screen"><a href="cmdqueryname=reboot+fast"><b><span class="cmdname">reboot fast</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_ztp_cfg_0040.html">Configuring DHCP-based ZTP (with a Controller)
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_ztp_cfg_0042.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="galaxy_ztp_cfg_0044.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>