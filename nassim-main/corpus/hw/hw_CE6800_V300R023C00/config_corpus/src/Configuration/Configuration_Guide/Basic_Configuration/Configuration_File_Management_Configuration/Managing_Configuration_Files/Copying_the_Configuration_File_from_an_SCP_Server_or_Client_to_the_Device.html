
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Copying the Configuration File from an SCP Server or Client to the Device">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_cfgfile_cfg_0004.html">
<meta name="DC.Relation" scheme="URI" content="vrp_cfgfile_cfg_0018.html">
<meta name="DC.Relation" scheme="URI" content="vrp_cfgfile_cfg_0020.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Configuration File Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Configuration File Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="featurename" content="Configuration File Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001513050302">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Copying the Configuration File from an SCP Server or Client to the Device</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001513050302"></a><a name="EN-US_TASK_0000001513050302"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Copying the Configuration File from an SCP Server or Client to the Device</h1>
<div class="taskbody"><div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001513050302__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><div class="p">Before copying the configuration file from an SCP server or client to the device, you have completed the following tasks:<ul><li>If the device functions as an SCP client, connect it to an SCP server. For details, see "Configuring a Device as an SCP Client" in <span>Configuration Guide</span> &gt; Basic Configuration.</li><li>If the device functions as an SCP server, connect it to an SCP client. For details, see "Configuring a Device as an SCP Server" in <span>Configuration Guide</span> &gt; Basic Configuration.</li></ul>
</div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001513050302__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p">If functions do not operate properly due to incorrect configurations, you can copy the backup configuration file of the device from an SCP server or client to restore the configuration file using either of the following methods:<ul><li>If the device functions as an SCP client, copy the configuration file from an SCP server to the device.</li><li>If the device functions as an SCP server, copy the configuration file from an SCP client to the device.</li></ul>
</div>
<p>Select one method as required.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001513050302__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Copy the configuration file from the SCP server when the device functions as an SCP client.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> </pre>
</p></li><li class="substepexpand"><span>Transfer the configuration file.</span><p><p>On the device, run the following command to copy the configuration file from the PC that functions as an SCP server to the specified path on the device:</p>
<pre class="screen"><a href="cmdqueryname=scp"><b><span class="cmdname">scp</span></b></a> <i><span class="varname">source-filename</span></i> <i><span class="varname">destination-filename</span></i></pre>
<p>For example, to copy the <strong>vrpcfg.cfg</strong> file from the SCP server at 10.1.1.1 to the device using SCP, run the following command. (The following information is for reference only.)</p>
<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>scp scpuser@10.1.1.1:<span><strong><span>flash</span></strong></span>:/vrpcfg.cfg</strong> <strong>vrpcfg-backup.cfg </strong>
Trying 10.1.1.1...
Press CTRL+K to abort
Connected to 10.1.1.1...
The server is not authenticated. Continue to access it? [Y/N]:<strong>y</strong>
Save the server's public key? [Y/N]:<strong>y</strong>
The server's public key will be saved with the name 10.1.1.1. Please wait...

Please select public key type for user authentication [R for RSA/D for DSA/E for ECC] Please select [R/D/E]:e 
Enter password:
<strong>vrpcfg.cfg                      100%          261Bytes            1Kb/s</strong></pre>
</p></li></ol>
</li><li><span>Copy the configuration file from the SCP client when the device functions as an SCP server.</span><p><p>Run the following command to copy the configuration file from the PC that functions as an SCP client to the specified path on the device:</p>
<pre class="screen"><a href="cmdqueryname=scp"><b><span class="cmdname">scp</span></b></a> <i><span class="varname">source-filename</span></i> <i><span class="varname">destination-filename</span></i></pre>
<p>For example, to copy the <strong>vrpcfg.cfg</strong> file from the SCP client to the device at 10.2.2.2 using SCP, run the following command. (The following information is for reference only.)</p>
</p><p><pre class="screen">C:\Documents and Settings\Administrator&gt; <strong>scp vrpcfg.cfg</strong> <strong>scpuser@10.2.2.2:<span><strong><span>flash</span></strong></span>:/vrpcfg-backup.cfg </strong>
The authenticity of host '10.2.2.2 (10.2.2.2)' can't be established.
DSA key fingerprint is 46:b2:8a:52:88:42:41:d4:af:8f:4a:41:d9:b8:4f:ee.
Are you sure you want to continue connecting (yes/no)? <strong>yes</strong>
Warning: Permanently added '10.2.2.2' (DSA) to the list of known hosts.
scpuser@10.2.2.2's password:
<strong>vrpcfg.cfg                                    100% 1257     1.2KB/s   00:00</strong>
Read from remote host 10.2.2.2: Connection reset by peer

C:\Documents and Settings\Administrator&gt;</pre>
</p></li></ul></div>
<div class="example"><a name="EN-US_TASK_0000001513050302__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=dir"><b><span class="cmdname">dir</span></b></a> command on the device to check whether the configuration file has been successfully copied from the PC to the device.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_cfgfile_cfg_0004.html">Managing Configuration Files
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_cfgfile_cfg_0018.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_cfgfile_cfg_0020.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>