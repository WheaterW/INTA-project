
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring a Device as an SFTP Client (Password Authentication and RSA Authentication)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_file_cfg_0013.html">
<meta name="DC.Relation" scheme="URI" content="vrp_file_cfg_0016.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="SFTP">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="SFTP">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="featurename" content="FTP">
<meta name="featurename" content="SCP">
<meta name="featurename" content="SFTP">
<meta name="featurename" content="TFTP">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001512671490">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Example for Configuring a Device as an SFTP Client (Password Authentication and RSA Authentication)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001512671490"></a><a name="EN-US_TASK_0000001512671490"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring a Device as an SFTP Client (Password Authentication and RSA Authentication)</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001512671490__1.3.1"></a><a name="1.3.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>The SSH protocol uses encryption to secure the connection between a client and a server. All user authentication, commands, output, and file transfers are encrypted to protect against attacks in the network. A client can securely connect to the SSH server and transfer files using SFTP. </p>
<p>In <a href="#EN-US_TASK_0000001512671490__fig_dc_cfg_file_002501">Figure 1</a>, routes between the SSH server and clients client001 and client002 are reachable. In this example, a Huawei device functions as the SSH server.</p>
<p>The two clients are required to connect to the SSH server in password <span>and RSA</span> authentication modes respectively to ensure secure access to files on the SSH server.</p>
<div class="fignone" id="EN-US_TASK_0000001512671490__fig_dc_cfg_file_002501"><a name="EN-US_TASK_0000001512671490__fig_dc_cfg_file_002501"></a><a name="fig_dc_cfg_file_002501"></a><span class="figcap"><b>Figure 1 </b>Network diagram for accessing files on another device using SFTP</span><div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In this example, interface1 represents <span>100GE</span><span>1/0/1</span>.</p>
</div></div>
<br><span><img class="vsd" src="figure/en-us_image_0000001513030662.png"></span></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001512671490__1.3.2"></a><a name="1.3.2"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><p>The configuration roadmap is as follows:</p>
<ol><li>Generate a local key pair and enable the SFTP server function on the server so that the server and client can securely exchange data.</li><li>On the SSH server, configure <strong>client001</strong> and <strong>client002</strong> to access the SSH server in password <span>and RSA</span> authentication modes, respectively.</li><li>Generate a local key pair on <strong>client002</strong> and configure the <span>RSA</span> public key of <strong>client002</strong> on the SSH server so that the server can authenticate the client when the client attempts to access the server.</li><li>Configure <strong>client001</strong> and <strong>client002</strong> to connect to the SSH server using SFTP for file access.</li></ol>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001512671490__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>On the server, generate a local key pair and enable the SFTP server function.</span><p><pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt;<strong> system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>]<strong> sysname SSH Server</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>SSH Server]<strong> rsa local-key-pair create</strong>
The key name will be:Host_Server 
The range of public key size is (2048, 4096). 
NOTE: Key pair generation will take a short while. 
Please input the modulus [default = 3072]:3072
[<span class="keyword">*</span>SSH Server]<strong> sftp server enable</strong>
[<span class="keyword">*</span>SSH Server]<strong> ssh server-source all-interface</strong>
[<span class="keyword">*</span>SSH Server] <strong>commit</strong></pre>
</p></li><li><span>Configure the public key algorithm, encryption algorithm, key exchange algorithm list, HMAC authentication algorithm, and minimum key length on the SSH server.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>SSH Server]<strong> ssh server cipher aes128_ctr aes256_ctr aes192_ctr aes128_gcm aes256_gcm</strong>
[<span class="keyword">*</span>SSH Server]<strong> ssh server hmac sha2_256 sha2_512</strong>
[<span class="keyword">*</span>SSH Server]<strong> ssh server key-exchange dh_group_exchange_sha256 </strong><strong>dh_group16_sha512</strong>
[<span class="keyword">*</span>SSH Server]<strong> ssh server publickey rsa_sha2_256 rsa_sha2_512</strong>
[<span class="keyword">*</span>SSH Server]<strong> ssh server dh-exchange min-len 3072</strong>
[<span class="keyword">*</span>SSH Server] <strong>commit</strong></pre>
</p></li><li><span>Create SSH users on the server.</span><p><p># Create an SSH user named <strong>client001</strong> and configure the password authentication mode for the user.</p>
<pre class="screen"><span>[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>SSH Server]<strong> ssh user client001</strong></span>
<span>[<span class="keyword">*</span>SSH Server] <strong>ssh user client001 authentication-type password</strong></span><span>
[<span class="keyword">*</span>SSH Server]<strong> ssh user client001 service-type sftp</strong>
[<span class="keyword">*</span>SSH Server]<strong> ssh user client001 sftp-directory <span><strong><span></span></strong></span><span>flash:/</span></strong></span>
[<span class="keyword">*</span>SSH Server]<strong> aaa</strong>
[<span class="keyword">*</span>SSH Server-aaa] <strong>local-user client001 password</strong>
Please configure the login password (8-128) 
It is recommended that the password consist of four types of characters, including lowercase letters, uppercase letters, numerals and special characters. 
Please enter password:                                      
Please confirm password:                               
Info: Add a new user.
[<span class="keyword">*</span>SSH Server-aaa] <strong>local-user client001 service-type ssh</strong>
[<span class="keyword">*</span>SSH Server-aaa] <strong>local-user client001 privilege level 3</strong>
[<span class="keyword">*</span>SSH Server-aaa] <strong>quit</strong>
[<span class="keyword">*</span>SSH Server] <strong>commit</strong></pre>
<p># Create an SSH user named <strong>client002</strong> and configure the RSA authentication mode for the user.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>SSH Server] <strong>ssh user client002</strong>
[<span class="keyword">*</span>SSH Server] <strong>ssh user client002 authentication-type rsa</strong>
[<span class="keyword">*</span>SSH Server] <strong>ssh authorization-type default root</strong>
[<span class="keyword">*</span>SSH Server] <strong>ssh user client002 service-type sftp</strong>
[<span class="keyword">*</span>SSH Server] <strong>ssh user client002 sftp-directory</strong> <span><strong><span><span>flash</span></span>:/</strong></span>
[<span class="keyword">*</span>SSH Server] <strong>commit</strong></pre>
</p></li><li><span>Configure the encryption algorithm, HMAC authentication algorithm, key exchange algorithm list, and public key algorithm on <strong>client001</strong>.</span><p><pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>sysname client001</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>client001] <strong>ssh client cipher aes128_ctr aes256_ctr aes192_ctr aes128_gcm aes256_gcm</strong>
[<span class="keyword">*</span>client001] <strong>ssh client hmac sha2_256 sha2_512</strong>
[<span class="keyword">*</span>client001] <strong>ssh client key-exchange dh_group_exchange_sha256 dh_group16_sha512</strong>
[<span class="keyword">*</span>client001] <strong>ssh client publickey rsa_sha2_256 rsa_sha2_512</strong>
[<span class="keyword">*</span>client001] <strong>commit</strong></pre>
</p></li><li><span>Generate a local key pair on <strong>client002</strong> and configure the RSA public key of <strong>client002</strong> on the SSH server.</span><p><p># Generate a local key pair the client.</p>
<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt;<strong> system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>sysname client002</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>client002]<strong> rsa local-key-pair create</strong>        
The key name will be:Host_Server 
The range of public key size is (2048, 4096). 
NOTE: Key pair generation will take a short while. 
Please input the modulus [default = 3072]:3072
[<span class="keyword">*</span>client002] <strong>commit</strong></pre>
<p># Configure the encryption algorithm, HMAC authentication algorithm, key exchange algorithm list, and public key algorithm on <strong>client002</strong>.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>client002] <strong>ssh client cipher aes128_ctr aes256_ctr aes192_ctr aes128_gcm aes256_gcm</strong>
[<span class="keyword">*</span>client002] <strong>ssh client hmac sha2_256 sha2_512</strong>
[<span class="keyword">*</span>client002] <strong>ssh client key-exchange dh_group_exchange_sha256 dh_group16_sha512</strong>
[<span class="keyword">*</span>client002] <strong>ssh client publickey rsa_sha2_256 rsa_sha2_512</strong>
[<span class="keyword">*</span>client002] <strong>commit</strong></pre>
<p># Check the <span>RSA</span> public key on the client.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>client002]<strong> display rsa local-key-pair public</strong>  
======================Host key==========================
Time of Key pair created : 2023-12-27 18:00:55 
Key Name    : Host 
Key modulus : 3072 
Key Type    : RSA Encryption Key
========================================================
Key code:
3082010A                                                                          02820101                                                                      
    00BBB7A0 4924AF13 04F2662D 2ED43B9D 589967EB                                
    D8A4F785 5AD1F662 13845081 0C65F6B3 88A9C415                                
    D81C34BD 41A4B580 70DC7460 E4A5407B 9B95630F                                
    E211F4B3 1115772D FB95D3DC 915A1858 D0DE49F7                                
    F39DD7A7 7795F2B9 C9562E8B 598CB50F 6D39240D                                
    B5C6F1D3 33A218D0 98C30104 F8F3A8CA 7172C95B                                
    03AEC0A0 8A7E99F6 6C1939AA 52CC2E31 B6703278                                
    AEE1BCD8 DC21FCA2 041C9A4C 1856A935 6894998D                                
    FBFA88FF 1708C3A6 7E092368 ACE983D7 C8DDCDF5                                
    26F5D4E5 16A15C5C D6D0018E 4EAFE055 B93FCB87                                
    2BB46EFB 02C04C3B F167A417 380CD0B0 0BC59493                                
    646CBE96 BCAF3DB7 AD0AFA0A 5D14155E D7F97DC1                                
    32693DE5 4B103442 8E0F4DAD 2598BE5E 19                                      
  0203                                                                          
    010001                                                                                                                                                   
Key fingerprint:   
   ssh-rsa 3072 47DEQpj8HBSa+/TImW+5JCeuQeRkm5NMpJWZG3hSuFU

Host public key for PEM format code:                                            
---- BEGIN SSH2 PUBLIC KEY ----                                                 
AAAAB3NzaC1yc2EAAAADAQABAAABAQC7t6BJJK8TBPJmLS7UO51YmWfr2KT3hVrR                
9mIThFCBDGX2s4ipxBXYHDS9QaS1gHDcdGDkpUB7m5VjD+IR9LMRFXct+5XT3JFa                
GFjQ3kn3853Xp3eV8rnJVi6LWYy1D205JA21xvHTM6IY0JjDAQT486jKcXLJWwOu                
wKCKfpn2bBk5qlLMLjG2cDJ4ruG82Nwh/KIEHJpMGFapNWiUmY37+oj/FwjDpn4J                
I2is6YPXyN3N9Sb11OUWoVxc1tABjk6v4FW5P8uHK7Ru+wLATDvxZ6QXOAzQsAvF                
lJNkbL6WvK89t60K+gpdFBVe1/l9wTJpPeVLEDRCjg9NrSWYvl4Z                            
---- END SSH2 PUBLIC KEY ----                                                   
                                                                                
Public key code for pasting into OpenSSH authorized_keys file:                  
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC7t6BJJK8TBPJmLS7UO51YmWfr2KT3hVrR9mIThFCB
DGX2s4ipxBXYHDS9QaS1gHDcdGDkpUB7m5VjD+IR9LMRFXct+5XT3JFaGFjQ3kn3853Xp3eV8rnJVi6L
WYy1D205JA21xvHTM6IY0JjDAQT486jKcXLJWwOuwKCKfpn2bBk5qlLMLjG2cDJ4ruG82Nwh/KIEHJpM
GFapNWiUmY37+oj/FwjDpn4JI2is6YPXyN3N9Sb11OUWoVxc1tABjk6v4FW5P8uHK7Ru+wLATDvxZ6QX
OAzQsAvFlJNkbL6WvK89t60K+gpdFBVe1/l9wTJpPeVLEDRCjg9NrSWYvl4Z== rsa-key            </pre>
<div class="p"># Configure the RSA public key of the client on the server. (The information in bold in the <strong>display</strong> command output is the RSA public key of the client. Copy the key to the server.)<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>SSH Server] <strong>rsa peer-public-key rsakey001 encoding-type der</strong>
[<span class="keyword">*</span>SSH Server-rsa-public-key]<strong> public-key-code begin</strong>
[<span class="keyword">*</span>SSH Server<span>-rsa-public-key</span>-rsa-key-code] <strong>3082010A</strong>
[<span class="keyword">*</span>SSH Server<span>-rsa-public-key</span>-rsa-key-code] <strong>02820101</strong>
[<span class="keyword">*</span>SSH Server<span>-rsa-public-key</span>-rsa-key-code] <strong>00BBB7A0 4924AF13 04F2662D 2ED43B9D 589967EB</strong>
[<span class="keyword">*</span>SSH Server<span>-rsa-public-key</span>-rsa-key-code] <strong>D8A4F785 5AD1F662 13845081 0C65F6B3 88A9C415</strong>
[<span class="keyword">*</span>SSH Server<span>-rsa-public-key</span>-rsa-key-code] <strong>D81C34BD 41A4B580 70DC7460 E4A5407B 9B95630F</strong>
[<span class="keyword">*</span>SSH Server<span>-rsa-public-key</span>-rsa-key-code] <strong>E211F4B3 1115772D FB95D3DC 915A1858 D0DE49F7</strong>
[<span class="keyword">*</span>SSH Server<span>-rsa-public-key</span>-rsa-key-code] <strong>F39DD7A7 7795F2B9 C9562E8B 598CB50F 6D39240D</strong>
[<span class="keyword">*</span>SSH Server<span>-rsa-public-key</span>-rsa-key-code] <strong>B5C6F1D3 33A218D0 98C30104 F8F3A8CA 7172C95B</strong>
[<span class="keyword">*</span>SSH Server<span>-rsa-public-key</span>-rsa-key-code] <strong>03AEC0A0 8A7E99F6 6C1939AA 52CC2E31 B6703278</strong>
[<span class="keyword">*</span>SSH Server<span>-rsa-public-key</span>-rsa-key-code] <strong>AEE1BCD8 DC21FCA2 041C9A4C 1856A935 6894998D</strong>
[<span class="keyword">*</span>SSH Server<span>-rsa-public-key</span>-rsa-key-code] <strong>FBFA88FF 1708C3A6 7E092368 ACE983D7 C8DDCDF5</strong>
[<span class="keyword">*</span>SSH Server<span>-rsa-public-key</span>-rsa-key-code] <strong>26F5D4E5 16A15C5C D6D0018E 4EAFE055 B93FCB87</strong>
[<span class="keyword">*</span>SSH Server<span>-rsa-public-key</span>-rsa-key-code] <strong>2BB46EFB 02C04C3B F167A417 380CD0B0 0BC59493</strong>
[<span class="keyword">*</span>SSH Server<span>-rsa-public-key</span>-rsa-key-code] <strong>646CBE96 BCAF3DB7 AD0AFA0A 5D14155E D7F97DC1</strong>
[<span class="keyword">*</span>SSH Server<span>-rsa-public-key</span>-rsa-key-code] <strong>32693DE5 4B103442 8E0F4DAD 2598BE5E 19</strong>
[<span class="keyword">*</span>SSH Server<span>-rsa-public-key</span>-rsa-key-code] <strong>0203</strong>
[<span class="keyword">*</span>SSH Server<span>-rsa-public-key</span>-rsa-key-code] <strong>010001</strong>
[<span class="keyword">*</span>SSH Server<span>-rsa-public-key</span>-rsa-key-code]<strong> public-key-code end</strong>
[<span class="keyword">*</span>SSH Server-rsa-public-key] <strong>peer-public-key end</strong></pre>
</div>
<p># Bind the <strong>client002</strong> user to the <span>RSA</span> public key of <strong>client002</strong>.</p>
<pre class="screen">[<span class="keyword">*</span>SSH Server] <strong>ssh user client002 assign <span>rsa</span>-key <span>rsa</span>key001</strong>
[<span class="keyword">*</span>SSH Server] <strong>commit</strong></pre>
</p></li><li><span>Connect SFTP clients to the SSH server.</span><p><p># Enable the first login function for the SSH clients.</p>
<p>Enable first login for <strong>client001</strong>.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>client001] <strong>ssh client first-time enable</strong>
[<span class="keyword">*</span>client001] <strong>commit</strong></pre>
<p>Enable first login for <strong>client002</strong>.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>client002] <strong>ssh client first-time enable</strong>
[<span class="keyword">*</span>client002] <strong>commit</strong></pre>
<p># Log in to the SSH server from <strong>client001</strong> in password authentication mode.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>client001] <strong>sftp 10.1.1.1</strong> 
Trying 10.1.1.1 ...
Press CTRL+K to abort
Connected to 10.1.1.1 ...
The server's public key does not match the one cached before. 
The server is not authenticated. Continue to access it? [Y/N]:<strong>y</strong>
The keyname:10.1.1.1 already exists. Update it? [Y/N]:<strong>n</strong>  

Please input the username: <strong>client001</strong>
Enter password:
sftp-client&gt;</pre>
<p># Log in to the SSH server from <strong>client002</strong> in <span>RSA</span> authentication mode.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>client002] <strong>sftp 10.1.1.1</strong> 
Trying 10.1.1.1 ...
Press CTRL+K to abort
Connected to 10.1.1.1 ...
The server's public key does not match the one cached before. 
The server is not authenticated. Continue to access it? [Y/N]:<strong>y</strong>
The keyname:10.1.1.1 already exists. Update it? [Y/N]:<strong>n</strong>  

Please input the username: <strong>client002</strong>
sftp-client&gt;</pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001512671490__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <strong>display ssh server status</strong> command on the SSH server. The command output indicates that the SFTP server function has been enabled. Run the <strong>display ssh user-information</strong> command to check information about SSH users on the server.</p>
<p># Check the status of the SSH server.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>SSH Server] <strong>display ssh server status</strong>
SSH Version                                : 2.0
SSH authentication timeout (Seconds)       : 60
SSH authentication retries (Times)         : 3
SSH server key generating interval (Hours) : 0
SSH version 1.x compatibility              : Disable
SSH server keepalive                       : Enable
SFTP IPv4 server                           : Enable
SFTP IPv6 server                           : Enable
STELNET IPv4 server                        : Enable
STELNET IPv6 server                        : Enable
SNETCONF IPv4 server                       : Disable
SNETCONF IPv6 server                       : Disable
SNETCONF IPv4 server port(830)             : Disable
SNETCONF IPv6 server port(830)             : Disable
SCP IPv4 server                            : Enable
SCP IPv6 server                            : Enable
SSH IPv4 server port                       : 22
SSH IPv6 server port                       : 22
ACL name                                   : --
ACL number                                 : --
ACL6 name                                  : --
ACL6 number                                : --
SSH server ip-block                        : Enable</pre>
<p># Check information about SSH users.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>SSH Server] <strong>display ssh user-information</strong>
--------------------------------------------------------------------------------
User Name             : client001
Authentication type   : password
User public key name  : --
User public key type  : --
Sftp directory        : flash:
Service type          : sftp

User Name             : client002
Authentication type   : rsa
User public key name  : --
User public key type  : --
Sftp directory        : flash:
Service type          : sftp
--------------------------------------------------------------------------------
Total 2, 2 printed </pre>
</div>
<div class="postreq"><a name="EN-US_TASK_0000001512671490__1.3.5"></a><a name="1.3.5"></a><h4 class="sectiontitle">Configuration Scripts</h4><ul><li><p>SSH server</p>
<pre class="screen">#
sysname SSH Server
#
rsa peer-public-key rsakey001 encoding-type der
 public-key-code begin
 3082010A                                                                       
  02820101                                                                      
    00BBB7A0 4924AF13 04F2662D 2ED43B9D 589967EB D8A4F785 5AD1F662 13845081     
    0C65F6B3 88A9C415 D81C34BD 41A4B580 70DC7460 E4A5407B 9B95630F E211F4B3     
    1115772D FB95D3DC 915A1858 D0DE49F7 F39DD7A7 7795F2B9 C9562E8B 598CB50F     
    6D39240D B5C6F1D3 33A218D0 98C30104 F8F3A8CA 7172C95B 03AEC0A0 8A7E99F6     
    6C1939AA 52CC2E31 B6703278 AEE1BCD8 DC21FCA2 041C9A4C 1856A935 6894998D     
    FBFA88FF 1708C3A6 7E092368 ACE983D7 C8DDCDF5 26F5D4E5 16A15C5C D6D0018E     
    4EAFE055 B93FCB87 2BB46EFB 02C04C3B F167A417 380CD0B0 0BC59493 646CBE96     
    BCAF3DB7 AD0AFA0A 5D14155E D7F97DC1 32693DE5 4B103442 8E0F4DAD 2598BE5E     
    19                                                                          
  0203                                                                          
    010001  
 public-key-code end
 peer-public-key end
#
aaa
 local-user client001 password irreversible-cipher <span>$1d$g8wLJ`LjL!$CyE(V{3qg5DdU:PM[6=6O$UF-.fQ,Q}&gt;^)OBzgoU$</span>
 local-user client001 service-type ssh
 local-user client001 privilege level 3 
#
sftp server enable
ssh user client001
ssh user client001 authentication-type password
ssh user client001 service-type sftp
ssh user client001 sftp-directory <span><span>flash</span></span>:/
ssh user client002
ssh user client002 authentication-type rsa 
ssh user client002 assign rsa-key rsakey001
ssh user client002 service-type sftp
ssh user client002 sftp-directory <span><span>flash</span></span>:/ 
ssh authorization-type default root  
ssh server-source all-interface
#
ssh server cipher aes128_ctr aes256_ctr aes192_ctr aes128_gcm aes256_gcm
ssh server hmac sha2_256 sha2_512
ssh server key-exchange dh_group_exchange_sha256 dh_group16_sha512
ssh server publickey rsa_sha2_256 rsa_sha2_512
ssh server dh-exchange min-len 3072
#
return</pre>
</li><li><p>client001</p>
<pre class="screen">#
sysname client001
#
ssh client first-time enable
#
ssh client cipher aes128_ctr aes256_ctr aes192_ctr aes128_gcm aes256_gcm
ssh client hmac sha2_256 sha2_512
ssh client key-exchange dh_group_exchange_sha256 dh_group16_sha512
ssh client publickey rsa_sha2_256 rsa_sha2_512
#
return </pre>
</li><li><p>client002</p>
<pre class="screen">#
sysname client002
#
ssh client first-time enable
#
ssh client cipher aes128_ctr aes256_ctr aes192_ctr aes128_gcm aes256_gcm
ssh client hmac sha2_256 sha2_512
ssh client key-exchange dh_group_exchange_sha256 dh_group16_sha512
ssh client publickey rsa_sha2_256 rsa_sha2_512
#
return</pre>
</li></ul>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_file_cfg_0013.html">Managing Files Using SFTP
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_file_cfg_0016.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>