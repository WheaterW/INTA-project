
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring the STP/RSTP/MSTP Network Diameter">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_stp_cfg_1097.html">
<meta name="DC.Relation" scheme="URI" content="vrp_stp_cfg_1099.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="MSTP">
<meta name="featurename" content="RSTP">
<meta name="featurename" content="STP">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MSTP">
<meta name="featurename" content="RSTP">
<meta name="featurename" content="STP">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featurename" content="MSTP">
<meta name="featurename" content="RSTP">
<meta name="featurename" content="STP">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001345478641">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring the STP/RSTP/MSTP Network Diameter</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001345478641"></a><a name="EN-US_TASK_0000001345478641"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring the STP/RSTP/MSTP Network Diameter</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001345478641__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Any two terminals on a network are connected through a specific path, along which multiple devices reside. The maximum number of devices between any two terminals correlates with the network diameter. A larger network diameter indicates a larger network scale. For example, the diameter of the network shown in <a href="#EN-US_TASK_0000001345478641__fig4495847115416">Figure 1</a> is 5.</p>
<ul><li><p>DeviceC â DeviceA â DeviceD â DeviceB â DeviceE</p>
</li><li><p>DeviceD â DeviceA â DeviceC â DeviceB â DeviceE</p>
</li></ul>
<div class="fignone" id="EN-US_TASK_0000001345478641__fig4495847115416"><a name="EN-US_TASK_0000001345478641__fig4495847115416"></a><a name="fig4495847115416"></a><span class="figcap"><b>Figure 1 </b>STP/RSTP/MSTP network diameter</span><br><span><img class="vsd" src="figure/en-us_image_0000001292238816.png"></span></div>
<p>Set the network diameter on all devices based on the network scale. An appropriate network diameter can facilitate network convergence, whereas an improper diameter may reduce the rate of network convergence and affect user communications.</p>
<p>It is recommended that the same network diameter be set for all network devices. </p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001345478641__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li id="EN-US_TASK_0000001345478641__step452018912333"><span id="EN-US_TASK_0000001345478641__cmd18520094331">(Optional) Enter the MSTP process view.</span><p><p id="EN-US_TASK_0000001345478641__p16533457112820">Perform this step to set system parameters only when the MSTP process ID is not 0. Skip this step if the MSTP process ID is 0.</p>
<pre class="screen" id="EN-US_TASK_0000001345478641__screen1136151023420"><a href="cmdqueryname=stp+process"><b><span class="cmdname" id="EN-US_TASK_0000001345478641__cmdname12422107345">stp process</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001345478641__varname7421210123412">process-id</span></i></pre>
</p></li><li><span>Set the network diameter.</span><p><pre class="screen"><a href="cmdqueryname=stp+bridge-diameter"><b><span class="cmdname">stp bridge-diameter</span></b></a> <i><span class="varname">diameter</span></i></pre>
<p>The default network diameter is 7.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Based on the set network diameter, the device will calculate the optimal Forward Delay, Hello Time, and Max Age timer values. You are recommended to set the network diameter to adjust the Forward Delay, Hello Time, and Max Age timers.</p>
</div></div>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001345478641__en-us_task_0234857734_en-us_task_0228023023_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001345478641__en-us_task_0234857734_en-us_task_0228023023_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0000001345478641__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+stp+global"><b><span class="cmdname">display stp global</span></b></a> command to check the Bridge-diameter field for the network diameter setting.</p>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_stp_cfg_1097.html">Configuring Parameters That Affect STP/RSTP/MSTP Topology Convergence
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_stp_cfg_1099.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>