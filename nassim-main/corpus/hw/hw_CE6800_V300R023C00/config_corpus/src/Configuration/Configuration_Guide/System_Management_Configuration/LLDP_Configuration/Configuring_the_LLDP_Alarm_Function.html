
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring the LLDP Alarm Function">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_lldp_cfg_0000.html">
<meta name="DC.Relation" scheme="URI" content="vrp_lldp_cfg_0006.html">
<meta name="DC.Relation" scheme="URI" content="vrp_lldp_cfg_0022.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="LLDP">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="LLDP">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001130623084">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring the LLDP Alarm Function</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001130623084"></a><a name="EN-US_TASK_0000001130623084"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring the LLDP Alarm Function</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001130623084__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>After the LLDP alarm function is configured on a device, the device sends alarms to the NMS when information about neighbors changes.</p>
<div class="p">To avoid network flapping caused by frequent LLDP alarms being sent to the NMS, configure a delay for the device to send alarms. The delay for sending LLDP alarms should be appropriate. You can adjust this parameter based on the load of a network.<ul><li><p>The longer the delay, the lower the frequency of network topology changes on a device. However, if the delay for sending LLDP alarms is too long, the NMS cannot trace changes of the neighbor status. As a result, the NMS cannot refresh network topology for a device in a timely manner.</p>
</li><li><p>The shorter the delay, the higher the frequency of network topology changes on a device. This helps the NMS refresh network topology on the device in a timely manner. However, if the delay is too short, the NMS refreshes status information about neighbors frequently. This causes flapping of network topology on a device, increases the load on the system, and wastes resources.</p>
</li></ul>
</div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001130623084__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enable the LLDP alarm function.</span><p><pre class="screen"><a href="cmdqueryname=snmp-agent+trap+enable+feature-name"><b><span class="cmdname">snmp-agent trap enable feature-name</span></b></a> <strong><span>lldp</span></strong> [ <strong><span>trap-name</span></strong> { <strong><strong><span>hwlldpinterfaceremtableschange</span></strong> </strong> | <strong><span>lldpremtableschange</span></strong> } ]</pre>
</p><p><div class="p">After the LLDP alarm function is enabled for a device, the device sends alarms to the NMS when one of the following events occurs.<ul><li>The status of an interface neighbor node changes. The corresponding alarm is <strong>LLDP 1.3.6.1.4.1.2011.5.25.134.2.8 </strong><strong>hwLldpInterfaceRemTablesChange</strong>.</li><li>The status of an LLDP neighbor changes. The corresponding alarm is <strong>LLDP 1.0.8802.1.1.2.0.0.1 lldpRemTablesChange</strong>.</li></ul>
</div>
<p>The LLDP alarm function takes effect globally to control the capability to send LLDP alarms on all interfaces on a device.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The network topology changes frequently when the networking is first formed. After the LLDP alarm function is enabled for a device, the device will frequently send alarms to the NMS. This increases the load on the system and wastes resources. It is recommended that you disable the LLDP alarm function when the networking is first formed.</p>
</div></div>
</p></li><li><span>(Optional) Set the delay<span> for sending LLDP neighbor information change alarms</span>.</span><p><pre class="screen"><a href="cmdqueryname=lldp+trap-interval"><b><span class="cmdname">lldp trap-interval</span></b></a> <i><span class="varname">interval</span></i></pre>
</p><p><p><span>By default, the delay for sending LLDP neighbor information change alarms is 5 seconds. </span>Generally, you are advised to set the delay for sending LLDP neighbor information change alarms to the default value.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001130623084__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001130623084__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001130623084__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><ul><li>Run the <a href="cmdqueryname=display+snmp-agent+trap+feature-name"><b><span class="cmdname">display snmp-agent trap feature-name</span></b></a> <strong><span>lldp all</span></strong> command to check all alarm messages of the LLDP module.</li><li>Run the <a href="cmdqueryname=display+lldp+local"><b><span class="cmdname">display lldp local</span></b></a> [ <strong><span>interface</span></strong> <i><span class="varname">interface-type interface-number</span></i> ] command to check the local LLDP status.</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_lldp_cfg_0000.html">LLDP Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_lldp_cfg_0006.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_lldp_cfg_0022.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>