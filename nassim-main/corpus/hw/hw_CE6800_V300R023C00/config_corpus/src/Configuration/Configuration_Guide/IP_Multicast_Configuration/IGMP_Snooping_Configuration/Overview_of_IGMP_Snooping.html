
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Overview of IGMP Snooping">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../vrp/vrp_l2mc_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="../vrp/vrp_l2mc_cfg_0003.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IGMP Snooping">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IGMP Snooping">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001130622116">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>Overview of IGMP Snooping</title>
</head>
<body><a name="EN-US_CONCEPT_0000001130622116"></a><a name="EN-US_CONCEPT_0000001130622116"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Overview of IGMP Snooping</h1>
<div><div class="section"><h4 class="sectiontitle">Definition</h4><p>Internet Group Management Protocol (IGMP) snooping is a basic Layer 2 multicast function. It optimizes multicast traffic forwarding and implements multicast data forwarding and control on Layer 2 devices.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>When both Layer 2 and Layer 3 multicast services are running on a device, it is recommended that the Layer 2 multicast configuration be the same as the Layer 3 multicast configuration. Otherwise, Layer 2 multicast inherits the Layer 3 multicast configuration, causing the Layer 2 multicast configuration to become invalid.</p>
</div></div>
</div>
<div class="section"><h4 class="sectiontitle">Purpose</h4><p>In most cases, multicast messages must pass through Layer 2 switching devices, especially on a Layer 2 switching network. <a href="#EN-US_CONCEPT_0000001130622116__fig8606326171418">Figure 1</a> shows multicast message forwarding before and after IGMP snooping is deployed on <span class="keyword">Device</span>B, which is an Ethernet Layer 2 device. <span class="keyword">Device</span>B is connected to DeviceA through interface10, and is also connected to some users. Among these users, UserA and UserB are members of a multicast group and send IGMP Report messages to join the group. When DeviceA receives traffic for this multicast group, it forwards the traffic to the switching network, which then forwards the traffic to UserA and UserB. The Layer 2 DeviceB, however, floods unicast frames with an unknown destination MAC address, multicast frames, or broadcast frames received in a VLAN in the same VLAN by default. Assuming that interface1, interface2, and interface3 belong to the same VLAN, DeviceB forwards such frames through all these interfaces. As a result, in addition to members of the multicast group, the traffic is sent to UserC, which is not a member of the multicast group, wasting network bandwidth and decreasing device performance.</p>
<div class="p">After IGMP snooping is deployed on <span class="keyword">Device</span>B, <span class="keyword">Device</span>B parses the IGMP Report messages sent by UserA and UserB before forwarding them to <span class="keyword">Device</span>A. <span class="keyword">Device</span>B then associates the multicast group address with interface1 and interface2 to create Layer 2 forwarding entries. In this case, <span class="keyword">Device</span>B forwards the multicast traffic received from <span class="keyword">Device</span>A through interface1 and interface2 according to entries in the Layer 2 forwarding table. In this case, the multicast traffic is not sent to UserC, which is not a member of the multicast group. This demonstrates how IGMP snooping enables <span class="keyword">Device</span>B to forward multicast traffic only through interfaces that connect to multicast receivers. In conclusion:<ul><li>If IGMP snooping is not enabled, <span class="keyword">Device</span>B broadcasts multicast data at the data link layer.</li><li>If IGMP snooping is enabled, <span class="keyword">Device</span>B does not broadcast multicast data at the data link layer. Instead, it determines the forwarding interfaces (connected to multicast receivers) according to entries in the Layer 2 multicast forwarding table and then forwards multicast traffic only through the forwarding interfaces (interface1 and interface2 in this example). This ensures that the multicast traffic is not forwarded to users who do not request it.</li></ul>
</div>
<div class="fignone" id="EN-US_CONCEPT_0000001130622116__fig8606326171418"><a name="EN-US_CONCEPT_0000001130622116__fig8606326171418"></a><a name="fig8606326171418"></a><span class="figcap"><b>Figure 1 </b>Multicast traffic forwarding before and after IGMP snooping is deployed on a Layer 2 device</span><br><span><img class="vsd" src="figure/en-us_image_0000001130622140.png" width="NaN" height="NaN"></span></div>
</div>
<div class="section"><h4 class="sectiontitle">Benefits</h4><div class="p">IGMP snooping implements on-demand multicast data forwarding at the data link layer and offers the following benefits:<ul><li>Reduces network bandwidth consumption.</li><li>Improves multicast data security.</li><li>Reduces the performance pressure of upstream Layer 3 devices.</li><li>Helps ensure the service quality of users.</li></ul>
</div>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../vrp/vrp_l2mc_cfg_0001.html">IGMP Snooping Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../vrp/vrp_l2mc_cfg_0003.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>