
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a Device as a TFTP Client">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_file_cfg_0022.html">
<meta name="DC.Relation" scheme="URI" content="vrp_file_cfg_0024.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="TFTP">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="TFTP">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="featurename" content="FTP">
<meta name="featurename" content="SCP">
<meta name="featurename" content="SFTP">
<meta name="featurename" content="TFTP">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001512671474">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring a Device as a TFTP Client</title>
</head>
<body><a name="EN-US_TASK_0000001512671474"></a><a name="EN-US_TASK_0000001512671474"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a Device as a TFTP Client</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001512671474__1.3.1"></a><a name="1.3.1"></a>
<div class="p"><h4 class="sectiontitle">Prerequisites</h4><p>You can configure a device as a TFTP client, through which you can log in to a TFTP server to upload and download files between the client and server.</p>
<p>Before configuring a device to access files on another device as a TFTP client, you have completed the following tasks:</p>
<ul><li>Ensure that there are reachable routes between the device and TFTP server.</li><li>Obtain the IP address of the TFTP server and the directory for storing the files to be downloaded or uploaded.</li><li>The weak security algorithm/protocol feature package (WEAKEA) has been installed using the <strong>install feature-software WEAKEA</strong> command.</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001512671474__1.3.2"></a><a name="1.3.2"></a>
<div class="p"><h4 class="sectiontitle">Context</h4><div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>SFTP V2<span> or SCP</span> is more secure than TFTP, and is therefore recommended.</p>
<p>In FIPS mode, TFTP cannot be used.</p>
</div></div>
<p><a href="#EN-US_TASK_0000001512671474__file11tab01">Table 1</a> describes the process for configuring a device to access files on another device as a TFTP client.</p>

<div class="tableBorder"><a name="EN-US_TASK_0000001512671474__file11tab01"></a><a name="file11tab01"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TASK_0000001512671474__file11tab01" frame="hsides" border="1" rules="all"><caption><b>Table 1 </b>Configuring a device to access files on another device as a TFTP client</caption><thead align="left"><tr><th align="center" class="cellrowborder" valign="top" width="11.501150115011502%" id="mcps1.3.2.4.2.5.1.1" liSelected="liSelected"><p>No.</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="31.693169316931698%" id="mcps1.3.2.4.2.5.1.2" liSelected="liSelected"><p>Task</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="28.402840284028404%" id="mcps1.3.2.4.2.5.1.3" liSelected="liSelected"><p>Description</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="28.402840284028404%" id="mcps1.3.2.4.2.5.1.4" liSelected="liSelected"><p>Remarks</p>
</th>
</tr>
</thead>
<tbody><tr valign="middle"><td class="cellrowborder" align="center" valign="middle" width="11.501150115011502%" headers="mcps1.3.2.4.2.5.1.1 "><p>1</p>
</td>
<td class="cellrowborder" align="left" valign="middle" width="31.693169316931698%" headers="mcps1.3.2.4.2.5.1.2 "><p><a href="#EN-US_TASK_0000001512671474__file1101">(Optional) Configure the source address for the TFTP client.</a></p>
</td>
<td class="cellrowborder" align="left" valign="middle" width="28.402840284028404%" headers="mcps1.3.2.4.2.5.1.3 "><p>Configure the source interface or source IP address for the TFTP client to implement security verification.</p>
</td>
<td class="cellrowborder" rowspan="3" align="left" valign="middle" width="28.402840284028404%" headers="mcps1.3.2.4.2.5.1.4 "><p><span>Tasks 1 and 2 can be performed in any sequence.</span></p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" align="center" valign="middle" headers="mcps1.3.2.4.2.5.1.1 "><p>2</p>
</td>
<td class="cellrowborder" align="left" valign="middle" headers="mcps1.3.2.4.2.5.1.2 "><p><a href="#EN-US_TASK_0000001512671474__file1102">(Optional) Configure TFTP access control.</a></p>
</td>
<td class="cellrowborder" align="left" valign="middle" headers="mcps1.3.2.4.2.5.1.3 "><p>Configure TFTP access control to improve access security.</p>
</td>
</tr>
<tr><td class="cellrowborder" align="center" valign="middle" headers="mcps1.3.2.4.2.5.1.1 "><p>3</p>
</td>
<td class="cellrowborder" align="left" valign="middle" headers="mcps1.3.2.4.2.5.1.2 "><p><a href="#EN-US_TASK_0000001512671474__file1103">Transfer files using TFTP.</a></p>
</td>
<td class="cellrowborder" align="left" valign="middle" headers="mcps1.3.2.4.2.5.1.3 "><p>Upload and download files.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001512671474__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span><strong id="EN-US_TASK_0000001512671474__file1101"><a name="EN-US_TASK_0000001512671474__file1101"></a><a name="file1101"></a>(Optional) Configure the source interface or source address for the TFTP client.</strong></span><p><p>The source IP address to be configured must be that of a stable interface, such as a loopback interface. This configuration makes it easier to configure ACL rules. You simply need to specify the source or destination IP address in an ACL rule as the interface IP address, thereby allowing the device to filter incoming and outgoing packets.</p>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="hsides" border="1" rules="all"><caption><b>Table 2 </b>(Optional) Configuring the source interface or source address for the TFTP client</caption><thead align="left"><tr><th align="center" class="cellrowborder" valign="middle" width="30%" id="mcps1.3.3.1.2.2.2.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="39.33%" id="mcps1.3.3.1.2.2.2.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="30.669999999999998%" id="mcps1.3.3.1.2.2.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr valign="middle"><td class="cellrowborder" valign="middle" width="30%" headers="mcps1.3.3.1.2.2.2.4.1.1 "><p>Enter the system view.</p>
</td>
<td class="cellrowborder" valign="middle" width="39.33%" headers="mcps1.3.3.1.2.2.2.4.1.2 "><p><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></p>
</td>
<td class="cellrowborder" valign="middle" width="30.669999999999998%" headers="mcps1.3.3.1.2.2.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="middle" width="30%" headers="mcps1.3.3.1.2.2.2.4.1.1 "><p>Configure the source interface or source IP address for the TFTP client.</p>
</td>
<td class="cellrowborder" valign="middle" width="39.33%" headers="mcps1.3.3.1.2.2.2.4.1.2 "><p><a href="cmdqueryname=tftp+client+source"><b><span class="cmdname">tftp client source</span></b></a> { <strong><span>-a</span></strong> <i><span class="varname">ip-address</span></i> | <strong><span>-i</span></strong> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> }</p>
<p><a href="cmdqueryname=tftp+ipv6+client+source+-a"><b><span class="cmdname">tftp ipv6 client source -a</span></b></a> <i><span class="varname">ipv6-address</span></i> [ <strong><span>-vpn-instance</span></strong> <i><span class="varname">ipv6-vpn-instance-name</span></i> ]</p>
</td>
<td class="cellrowborder" valign="middle" width="30.669999999999998%" headers="mcps1.3.3.1.2.2.2.4.1.3 "><p>By default, the source IPv4 address and source IPv6 address of a TFTP client are 0.0.0.0 and 0::0, respectively. If an interface is specified, set an IP address for the interface. Otherwise, the TFTP connection fails to be set up.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="30%" headers="mcps1.3.3.1.2.2.2.4.1.1 "><p>Commit the configuration.</p>
</td>
<td class="cellrowborder" valign="top" width="39.33%" headers="mcps1.3.3.1.2.2.2.4.1.2 "><p><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></p>
</td>
<td class="cellrowborder" valign="top" width="30.669999999999998%" headers="mcps1.3.3.1.2.2.2.4.1.3 "><p>-</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li><span><strong id="EN-US_TASK_0000001512671474__file1102"><a name="EN-US_TASK_0000001512671474__file1102"></a><a name="file1102"></a>(Optional) Configure TFTP access control.</strong></span><p><p>An ACL is a list of rules that classify and filter packets according to their source address, destination address, port number, and other fields. After an ACL is applied to a routing device, the routing device determines whether to permit or deny a packet based on the ACL rules.</p>
<p>Multiple rules can be defined in an ACL. ACL rules are classified into basic, advanced, and Layer 2 ACL rules based on rule functions.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The TFTP supports only the basic ACL whose number ranges from 2000 to 2999.</p>
<div class="p">ACL rule:<ul><li><p>When the <strong>permit</strong> action is defined in an ACL rule, the local device can set up TFTP connections with devices that match the rule.</p>
</li><li><p>When the <strong>deny</strong> action is defined in an ACL rule, the local device cannot set up TFTP connections with devices that match the rule.</p>
</li><li><p>If packets from other devices do not match any rule in an ACL, the local device cannot set up TFTP connections with those devices.</p>
</li><li><p>If no rule is defined in an ACL, the local device can set up TFTP connections with any other devices.</p>
</li></ul>
</div>
</div></div>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="hsides" border="1" rules="all"><caption><b>Table 3 </b>(Optional) Configuring TFTP access control</caption><thead align="left"><tr><th align="center" class="cellrowborder" valign="middle" width="29.18%" id="mcps1.3.3.2.2.4.2.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="40.510000000000005%" id="mcps1.3.3.2.2.4.2.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="30.31%" id="mcps1.3.3.2.2.4.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr valign="middle"><td class="cellrowborder" valign="middle" width="29.18%" headers="mcps1.3.3.2.2.4.2.4.1.1 "><p>Enter the system view.</p>
</td>
<td class="cellrowborder" valign="middle" width="40.510000000000005%" headers="mcps1.3.3.2.2.4.2.4.1.2 "><p><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></p>
</td>
<td class="cellrowborder" valign="middle" width="30.31%" headers="mcps1.3.3.2.2.4.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" valign="middle" width="29.18%" headers="mcps1.3.3.2.2.4.2.4.1.1 "><p>Create an ACL and enter the ACL view.</p>
</td>
<td class="cellrowborder" valign="middle" width="40.510000000000005%" headers="mcps1.3.3.2.2.4.2.4.1.2 "><p><a href="cmdqueryname=acl"><b><span class="cmdname">acl</span></b></a> <span>{ </span>[ <strong><span>number</span></strong> ] <i><span class="varname">acl-number</span></i><span> | <strong><span>name</span></strong> <i><span class="varname">acl-name</span></i> }</span></p>
</td>
<td class="cellrowborder" valign="middle" width="30.31%" headers="mcps1.3.3.2.2.4.2.4.1.3 "><p>By default, no ACL is created.</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" valign="middle" width="29.18%" headers="mcps1.3.3.2.2.4.2.4.1.1 "><p>Configure an ACL rule.</p>
</td>
<td class="cellrowborder" valign="middle" width="40.510000000000005%" headers="mcps1.3.3.2.2.4.2.4.1.2 "><p><span><a href="cmdqueryname=rule"><b><span class="cmdname">rule</span></b></a><span> [ <i><span class="varname">rule-id</span></i> ] [ <strong><span>name</span></strong> <i><span class="varname">rule-name</span></i> ] { <span><span><strong><span>permit</span></strong> </span></span>| <strong><span>deny</span></strong> } [ <strong><span>fragment-type</span></strong> <strong><span>fragment</span></strong> | <strong><span>source</span></strong> { <i><span class="varname">source-ip-address</span></i> <span>{ </span><i><span class="varname">source-wildcard</span></i> | <strong><span>0</span></strong><span> | <i><span class="varname">src-netmask</span></i> }</span> | <strong><span>any</span></strong> } | <strong><span>time-range</span></strong> <i><span class="varname">time-name</span></i> | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i><span> | <strong><span>logging</span></strong></span> ] <sup>*</sup></span></span></p>
</td>
<td class="cellrowborder" valign="middle" width="30.31%" headers="mcps1.3.3.2.2.4.2.4.1.3 "><p>By default, no rule is configured in the basic ACL view.</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" valign="middle" width="29.18%" headers="mcps1.3.3.2.2.4.2.4.1.1 "><p>Exit the system view.</p>
</td>
<td class="cellrowborder" valign="middle" width="40.510000000000005%" headers="mcps1.3.3.2.2.4.2.4.1.2 "><p><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></p>
</td>
<td class="cellrowborder" valign="middle" width="30.31%" headers="mcps1.3.3.2.2.4.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="middle" width="29.18%" headers="mcps1.3.3.2.2.4.2.4.1.1 "><p>Configure TFTP access control.</p>
</td>
<td class="cellrowborder" valign="middle" width="40.510000000000005%" headers="mcps1.3.3.2.2.4.2.4.1.2 "><p><a href="cmdqueryname=tftp+server"><b><span class="cmdname">tftp server</span></b></a> [ <strong><span>ipv6</span></strong> ] <strong><span>acl</span></strong> <i><span class="varname">acl-number</span></i></p>
</td>
<td class="cellrowborder" valign="middle" width="30.31%" headers="mcps1.3.3.2.2.4.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="29.18%" headers="mcps1.3.3.2.2.4.2.4.1.1 "><p>Commit the configuration.</p>
</td>
<td class="cellrowborder" valign="top" width="40.510000000000005%" headers="mcps1.3.3.2.2.4.2.4.1.2 "><p><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></p>
</td>
<td class="cellrowborder" valign="top" width="30.31%" headers="mcps1.3.3.2.2.4.2.4.1.3 "><p>-</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li><span><strong id="EN-US_TASK_0000001512671474__file1103"><a name="EN-US_TASK_0000001512671474__file1103"></a><a name="file1103"></a>Upload files to or download files from the server using TFTP commands.</strong></span><p>
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 4 </b>Connecting to another device using TFTP commands</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.3.3.2.1.2.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.3.3.2.1.2.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.3.3.2.1.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.3.3.2.1.2.4.1.1 "><p>Connect to the TFTP server using an IPv4 address.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.3.3.2.1.2.4.1.2 "><p><a href="cmdqueryname=tftp"><b><span class="cmdname">tftp</span></b></a> [ <strong><span>-a</span></strong> <i><span class="varname">source-ip-address</span></i> | <strong><span>-i</span></strong> <i><span class="varname">interface-type interface-number</span></i> ] <i><span class="varname">host-ip-address</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> | <strong><span>public-net</span></strong> ] { <strong><span>get</span></strong> | <strong><span>put</span></strong> } <i><span class="varname">source-filename</span></i> [ <i><span class="varname">destination-filename</span></i> ]</p>
</td>
<td class="cellrowborder" rowspan="2" valign="top" width="33.33333333333333%" headers="mcps1.3.3.3.2.1.2.4.1.3 "><ul><li><p>The <strong><span>get</span></strong> command downloads files from the server.</p>
</li><li><p>The <strong><span>put</span></strong> command uploads files to the server.</p>
</li></ul>
<p></p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.3.3.2.1.2.4.1.1 "><p>Connect to the TFTP server using an IPv6 address.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.3.2.1.2.4.1.2 "><p><a href="cmdqueryname=tftp+ipv6"><b><span class="cmdname">tftp ipv6</span></b></a> [ <strong><span>-a</span></strong> <i><span class="varname">source-ipv6-address</span></i> ] <i><span class="varname">tftp-server-ipv6</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> | <strong><span>public-net</span></strong> ] [ <strong><span>-oi</span></strong> <i><span class="varname">interface-type interface-number</span></i> ] { <strong><span>get</span></strong> | <strong><span>put</span></strong> } <i><span class="varname">source-filename</span></i> [ <i><span class="varname">destination-filename</span></i> ]</p>
</td>
</tr>
</tbody>
</table>
</div>
</p><p><p>The source IP address or source interface specified in the preceding commands takes precedence over that specified in the <a href="cmdqueryname=tftp+client+source"><b><span class="cmdname">tftp client source</span></b></a> command. The source IP address or source interface specified in the <a href="cmdqueryname=tftp+client+source"><b><span class="cmdname">tftp client source</span></b></a> command applies to all TFTP connections, whereas the source IP address or source interface specified in the <a href="cmdqueryname=tftp"><b><span class="cmdname">tftp</span></b></a> or <a href="cmdqueryname=tftp+ipv6"><b><span class="cmdname">tftp ipv6</span></b></a> command applies only to the current TFTP connection.</p>
</p></li><li><span><strong>Disconnect from the TFTP server.</strong></span><p>
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 5 </b>Disconnecting from the TFTP server</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.3.4.2.1.2.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.3.4.2.1.2.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.3.4.2.1.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.3.4.2.1.2.4.1.1 "><p>Disconnect from the TFTP server.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.3.4.2.1.2.4.1.2 "><p><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.3.4.2.1.2.4.1.3 "><p><span>You can also run the <a href="cmdqueryname=bye"><b><span class="cmdname">bye</span></b></a> or <a href="cmdqueryname=exit"><b><span class="cmdname">exit</span></b></a> command to disconnect from the TFTP server.</span></p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li></ul></div>
<div class="example"><a name="EN-US_TASK_0000001512671474__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><ul><li>Run the <a href="cmdqueryname=display+tftp+client"><b><span class="cmdname">display tftp client</span></b></a> command to check the source IP address of the TFTP client.</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_file_cfg_0022.html">Managing Files Using TFTP
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_file_cfg_0024.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>