
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="RIP Message Types and Format">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_rip_cfg_0003.html">
<meta name="DC.Relation" scheme="URI" content="vrp_rip_cfg_0004.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="RIP">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="RIP">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="RIP">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001176742629">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<link rel="stylesheet" type="text/css" href="public_sys-resources/imagePopup.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/customQuery.js"></script>
<script language="javascript" type="text/javascript" src="public_sys-resources/imagePopup.js"></script>
<title>RIP Message Types and Format</title>
</head>
<body><a name="EN-US_CONCEPT_0000001176742629"></a><a name="EN-US_CONCEPT_0000001176742629"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">RIP Message Types and Format</h1>
<div><div class="section"><h4 class="sectiontitle">RIP Message Types and Sending Modes</h4><p>RIP messages are encapsulated in UDP packets, and both the source and destination ports of RIP messages are UDP ports. RIP defines two types of packets: Request and Response. Request is used to request a response containing all or part of a router's RIP routing table, while Response is used to send RIP route updates and contains routing information (such as the metric). After RIP is enabled on an interface of a routing device, the interface immediately sends a Request message and begins listening for RIP messages. The interface then periodically sends Response messages.</p>
<p>RIP-1 uses the broadcast address 255.255.255.255 as the destination IP address of RIP messages. The broadcast messages advertised by a RIP-1 routing device are flooded in the broadcast domain in which the RIP routing device resides. As such, all other routing devices in the same broadcast domain receive these broadcast messages and consume resources to process them. RIP-2 uses the multicast address 224.0.0.9 as the destination IP address of RIP messages, and all RIP-2 routing devices listen for this multicast address, reducing the impact on other devices in the broadcast domain.</p>
<p>Upon receipt of a Request message, a RIP routing device replies with a Response message carrying the routing information requested by the peer.</p>
<p>Upon receipt of a Response message, a RIP routing device parses the routing information carried in the Response message. If the routing information is not discovered by itself and the route metric is valid, the RIP routing device learns the route and adds it to its routing table.</p>
</div>
<div class="section"><h4 class="sectiontitle">RIP-1 Message Format</h4><p>RIP-1 is a classful routing protocol which supports only the broadcast of RIP messages. <a href="#EN-US_CONCEPT_0000001176742629__en-us_concept_0190705497_fig_dc_vrp_rip_feature_000401">Figure 1</a> illustrates the format of a RIP-1 message. RIP is based on UDP, and a RIP-1 message cannot be longer than 512 bytes. Because RIP-1 messages do not carry any mask information, only the routes of natural network segments (such as Class A, B, and C) can be identified. As a result, RIP-1 does not support route summarization or discontiguous subnets.</p>
<div class="fignone" id="EN-US_CONCEPT_0000001176742629__en-us_concept_0190705497_fig_dc_vrp_rip_feature_000401"><a name="EN-US_CONCEPT_0000001176742629__en-us_concept_0190705497_fig_dc_vrp_rip_feature_000401"></a><a name="en-us_concept_0190705497_fig_dc_vrp_rip_feature_000401"></a><span class="figcap"><b>Figure 1 </b>RIP-1 message format</span><br><span><img class="imgResize" src="figure/en-us_image_0000001130782994.png" width="526.6800000000001" height="NaN" title="Click to enlarge"></span><br></div>
<p>The fields in a RIP-1 message are described as follows:</p>
<ul><li>Command: identifies the type of a RIP message. The value 1 indicates a Request message, and the value 2 indicates a Response message.</li><li>Version: In RIP-1, the value of this field is 1.</li><li>Address family identifier: The value 2 indicates the IP protocol. If the message is a Request used to request the entire routing information from a directly connected routing device, this field is set to 0. In addition, the Request message contains only one routing entry whose destination network address is 0.0.0.0 and metric is 16.</li><li>IP address: specifies the destination network address of a route.</li><li>Metric: indicates the metric of a route.<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>RIP-1 messages do not carry the destination network mask of a route.</p>
</div></div>
</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">RIP-2 Message Format</h4><p>RIP-2 is a classless routing protocol. <a href="#EN-US_CONCEPT_0000001176742629__en-us_concept_0190705511_fig_dc_vrp_rip_feature_000501">Figure 2</a> shows the format of a RIP-2 message.</p>
<div class="fignone" id="EN-US_CONCEPT_0000001176742629__en-us_concept_0190705511_fig_dc_vrp_rip_feature_000501"><a name="EN-US_CONCEPT_0000001176742629__en-us_concept_0190705511_fig_dc_vrp_rip_feature_000501"></a><a name="en-us_concept_0190705511_fig_dc_vrp_rip_feature_000501"></a><span class="figcap"><b>Figure 2 </b>RIP-2 message format</span><br><span><img class="imgResize" src="figure/en-us_image_0000001176742655.png" width="526.6800000000001" height="NaN" title="Click to enlarge"></span><br><p>The fields in a RIP-2 message are described as follows:</p>
<ul><li>Command: identifies the type of a RIP message. The value 1 indicates a Request message, and the value 2 indicates a Response message.</li><li>Version: In RIP-2, the value of this field is 2.</li><li>Address family identifier: similar to that in RIP-1.</li><li>Route tag: used to set tag information for routes which can then be flexibly controlled based on tags in routing policies. For example, when an external route is imported to RIP to form a RIP route, a route tag is configured for the RIP route. The route tag will not be lost when the route is transmitted within the RIP routing domain.</li><li>IP address: specifies the destination network address of a route.</li><li>Subnet mask: used to store the destination network mask of a route. RIP-2 supports Variable Length Subnet Mask (VLSM), route summarization, and Classless Inter-Domain Routing (CIDR).</li><li>Next Hop: This field is defined in RIP-2 to prevent the router from selecting a sub-optimal path on the multi-access network, and enables the optimal next hop address to be selected on the broadcast network.</li><li>Metric: indicates the metric of a route.<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>RIP-2 supports multicast of RIP messages. Only <span class="keyword">routing device</span>s with support for RIP-2 can receive multicast RIP messages, reducing resource consumption.</li><li>RIP-2 supports simple authentication, MD5 authentication, and HMAC-SHA256 authentication for protocol packets. To ensure high security, HMAC-SHA256 authentication is recommended.</li></ul>
</div></div>
</li></ul>
</div>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_rip_cfg_0003.html">Understanding RIP
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_rip_cfg_0004.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>

<script language="JavaScript">
<!--
initImageViewer('.imgResize');
var msg_imageMax = "view original image";
var msg_imageClose = "close";
//--></script></body>
</html>