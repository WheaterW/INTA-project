
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring ECN Overlay">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_ai_ecnoverlay_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="spec/ECN_Overlay_limitation_CE_v6r23c00.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_ai_ecnoverlay_cfg_0006.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="ECN Overlay">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="ECN Overlay">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001563890017">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring ECN Overlay</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001563890017"></a><a name="EN-US_TASK_0000001563890017"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring ECN Overlay</h1>
<div class="taskbody"><div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001563890017__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>Before configuring the ECN Overlay function, you have configured either of the following ECN functions based on actual requirements:</p>
<ul><li><a href="galaxy_congestion_avoid_cfg_0013.html">Static ECN function</a></li><li><a href="galaxy_ai_aiecn_cfg_0005.html">AI ECN function</a></li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001563890017__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>To apply the ECN function on a VXLAN network, you need to configure the ECN Overlay function.</p>
<ul><li>For a network overlay, you only need to enable the function for mapping the ECN field in the outer IP header of the VXLAN packet to the IP header of the original packet on the egress NVE, that is, the function for mapping the outer ECN field to the inner ECN field during VXLAN decapsulation.</li><li>For a host/hybrid overlay, in addition to the function for mapping the outer ECN field to the inner ECN field during VXLAN decapsulation, you also need to enable the inner ECN marking function on the transit node, so that the ECN field in the outer IP header of the VXLAN packet can be mapped to the IP header of the original packet on the transit node.</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001563890017__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enable the function for mapping the outer ECN field to the inner ECN field during VXLAN decapsulation.</span><p><pre class="screen"><a href="cmdqueryname=assign+forward+nvo3+egress+mark-ecn+enable"><b><span class="cmdname">assign forward nvo3 egress mark-ecn enable</span></b></a></pre>
<p>By default, the function for mapping the outer ECN field to the inner ECN field during VXLAN decapsulation is disabled.</p>
</p></li><li><span>(Optional) Enable the inner ECN marking function on a transit node on a VXLAN network.</span><p><pre class="screen"><a href="cmdqueryname=assign+forward+nvo3+transit+mark+inner-ecn+enable"><b><span class="cmdname">assign forward nvo3 transit mark inner-ecn enable</span></b></a></pre>
<p>By default, the inner ECN marking function is disabled on transit nodes on a VXLAN network.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001563890017__en-us_task_0228023023_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001563890017__en-us_task_0228023023_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001563890017__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><ul><li>Run the <a href="cmdqueryname=display+nvo3+ecn+configuration"><b><span class="cmdname">display nvo3 ecn configuration</span></b></a> command to check whether the ECN Overlay function is enabled.</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_ai_ecnoverlay_cfg_0001.html">ECN Overlay Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="spec/ECN_Overlay_limitation_CE_v6r23c00.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="galaxy_ai_ecnoverlay_cfg_0006.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>