
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring OSPF Flush Source Tracing">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../vrp/vrp_ospf_cfg_00200.html">
<meta name="DC.Relation" scheme="URI" content="../vrp/vrp_ospf_cfg_00201.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001130623450">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>Configuring OSPF Flush Source Tracing</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001130623450"></a><a name="EN-US_TASK_0000001130623450"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring OSPF Flush Source Tracing</h1>
<div class="taskbody"><div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001130623450__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>Before configuring OSPF flush source tracing, you have completed the following task:</p>
<ul><li><a href="vrp_ospf_cfg_0010.html">Configure basic OSPF functions</a>.</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001130623450__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>If network-wide OSPF LSA flush causes network instability, source tracing must be implemented as soon as possible to locate and isolate the fault source. However, OSPF itself does not support source tracing. A conventional solution is to isolate nodes one by one until the fault source is located, but the process is complex and time-consuming and may compromise network services. OSPF flush source tracing can address this problem.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001130623450__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Disable OSPF flush source tracing.</span><p><pre class="screen"><a href="cmdqueryname=ospf+flush-source-trace+disable"><b><span class="cmdname">ospf flush-source-trace disable</span></b></a></pre>
<p>By default, OSPF flush source tracing is enabled globally. To disable OSPF flush source tracing globally, run this command.</p>
</p></li><li><span>Enter the interface view.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></pre>
</p></li><li><span>Switch the working mode of the interface from Layer 2 to Layer 3.</span><p><pre class="screen"><a href="cmdqueryname=undo+portswitch"><b><span class="cmdname">undo portswitch</span></b></a></pre>
<p>Determine whether to perform this step based on the current interface working mode.</p>
</p></li><li><span>Disable OSPF flush source tracing on the interface.</span><p><pre class="screen"><a href="cmdqueryname=ospf+flush-source-trace+block"><b><span class="cmdname">ospf flush-source-trace block</span></b></a></pre>
<p>By default, OSPF flush source tracing is enabled globally. That is, OSPF flush source tracing is enabled on all interfaces in the OSPF process. To disable OSPF flush source tracing on a specified interface, run this command.</p>
</p></li><li><span>Return to the system view.</span><p><pre class="screen"><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></pre>
</p></li><li><span>Configure a UDP port number for OSPF flush source tracing packets.</span><p><pre class="screen"><a href="cmdqueryname=ospf+flush-source-trace+port"><b><span class="cmdname">ospf flush-source-trace port</span></b></a> <i><span class="varname">port-number</span></i></pre>
<p>An OSPF flush source tracing port is used to send and receive OSPF flush source tracing packets and is represented by a UDP port number.</p>
</p></li><li><span>Return to the user view.</span><p><pre class="screen"><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></pre>
</p></li><li><span>Reset OSPF flush source tracing.</span><p><pre class="screen"><a href="cmdqueryname=reset+ospf"><b><span class="cmdname">reset ospf</span></b></a> <i><span class="varname">process-id</span></i> <strong><span>flush-source-trace</span></strong></pre>
<p>If a large number of OSPF flush source tracing statistics exist on a device, you can run the <a href="cmdqueryname=reset+ospf+flush-source-trace"><b><span class="cmdname">reset ospf flush-source-trace</span></b></a> command to reset the statistics and restart OSPF flush source tracing. If the command is run, all OSPF flush source tracing statistics are deleted, and the device needs to re-negotiate the source tracing capability with neighboring devices.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001130623450__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001130623450__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001130623450__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+ospf"><b><span class="cmdname">display ospf</span></b></a> [ <i><span class="varname">process-id</span></i> ] [ <strong><span>area</span></strong> <i><span class="varname">area-id</span></i> ] <strong><span>flush-source-trace analysis-info</span></strong> command to check information about definitely and possibly fault sources identified by OSPF flush source tracing.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../vrp/vrp_ospf_cfg_00200.html">Configuring OSPF Flush Source Tracing
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../vrp/vrp_ospf_cfg_00201.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>