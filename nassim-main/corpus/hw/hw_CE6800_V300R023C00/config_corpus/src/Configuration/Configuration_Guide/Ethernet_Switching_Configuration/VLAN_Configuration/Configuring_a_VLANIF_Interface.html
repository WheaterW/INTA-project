
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a VLANIF Interface">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_vlan_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="vrp_vlan_cfg_0014.html">
<meta name="DC.Relation" scheme="URI" content="vrp_vlan_cfg_0016.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="VLAN">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="QinQ">
<meta name="featurename" content="VLAN">
<meta name="featurename" content="VLAN Mapping">
<meta name="featurename" content="VLAN Pool">
<meta name="featurename" content="Voice VLAN">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001130782658">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring a VLANIF Interface</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001130782658"></a><a name="EN-US_TASK_0000001130782658"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a VLANIF Interface</h1>
<div class="taskbody"><div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001130782658__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>Before configuring a VLANIF interface, you have completed the following tasks:</p>
<ul><li>Create the VLAN corresponding to the VLANIF interface.</li><li>Add an interface to the VLAN corresponding to the VLANIF interface. For details, see <a href="vrp_vlan_cfg_0018.html">Configuring Interface-based VLAN Assignment</a><span>, <a href="vrp_vlan_cfg_0019.html">Configuring MAC Address-based VLAN Assignment</a>, <a href="vrp_vlan_cfg_0020.html">Configuring Subnet-based VLAN Assignment</a>, and <a href="vrp_vlan_cfg_0021.html">Configuring Protocol-based VLAN Assignment</a></span>.</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001130782658__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>For more information about VLANIF interfaces, see <a href="vrp_vlan_cfg_0030.html">Configuring VLANIF Interfaces to Implement Inter-VLAN Communication</a>.</p>
<p>To prevent network flapping caused by a VLANIF interface status change, set a delay after which a VLANIF interface goes down. This function is also called VLAN damping.</p>
<p>If a VLAN goes down because all interfaces in the VLAN have gone down, the system immediately reports the VLAN Down event to the corresponding VLANIF interface, instructing the VLANIF interface to also go down. To avoid network flapping caused by a VLANIF interface status change, enable VLAN damping on the VLANIF interface. This function enables a device to start a delay timer when the last interface in a VLAN changes from up to down, and the device will not inform the corresponding VLANIF interface of the VLAN Down event until the timer expires. If an interface in the VLAN goes up before the timer expires, the VLANIF interface remains up.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001130782658__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Create a VLANIF interface and enter the VLANIF interface view.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname"><span>interface</span></span></b></a> <strong><span>vlanif</span></strong> <i><span class="varname">vlan-id</span></i></pre>
</p></li><li><span>Configure an IP address for the VLANIF interface.</span><p><pre class="screen"><a href="cmdqueryname=ip+address"><b><span class="cmdname">ip address</span></b></a> <i><span class="varname">ip-address</span></i> { <i><span class="varname">mask</span></i> | <i><span class="varname">mask-length</span></i> } [ <strong><span>sub</span></strong> ]</pre>
</p></li><li><span>(Optional) Configure the delay after which the VLANIF interface goes down.</span><p><pre class="screen"><a href="cmdqueryname=damping+time"><b><span class="cmdname">damping time</span></b></a> <i><span class="varname">delay-time</span></i></pre>
</p></li><li><span>(Optional) Set the maximum transmission unit (MTU) for the VLANIF interface.</span><p><pre class="screen"><a href="cmdqueryname=mtu"><b><span class="cmdname">mtu</span></b></a> <i><span class="varname">mtu</span></i></pre>
</p></li><li><span>(Optional) Configure the bandwidth for the VLANIF interface.</span><p><pre class="screen"><a href="cmdqueryname=bandwidth"><b><span class="cmdname">bandwidth</span></b></a> <i><span class="varname">bandwidth</span></i></pre>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001130782658__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001130782658__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001130782658__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+interface+vlanif"><b><span class="cmdname">display interface vlanif</span></b></a> [<i><span class="varname"> vlan-id</span></i> | <strong><span>main</span></strong> ] command to check information relating to a VLANIF interface, such as its physical status and IP address.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_vlan_cfg_0001.html">VLAN Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_vlan_cfg_0014.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_vlan_cfg_0016.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>