
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Setting Alarm Thresholds for the Number of IPv4 Route Prefixes Supported by a Device">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_ip_routing_management_cfg_0025.html">
<meta name="DC.Relation" scheme="URI" content="vrp_ip_routing_management_cfg_0027.html">
<meta name="DC.Relation" scheme="URI" content="vrp_ip_routing_management_cfg_0029.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Route Management">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Route Management">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="Route Management">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176662317">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Setting Alarm Thresholds for the Number of IPv4 Route Prefixes Supported by a Device</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176662317"></a><a name="EN-US_TASK_0000001176662317"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Setting Alarm Thresholds for the Number of IPv4 Route Prefixes Supported by a Device</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001176662317__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>The number of IPv4 route prefixes that can be added to a routing table is limited. If the number exceeds the limit, new prefixes cannot be added to the routing table, which may interrupt services. To help address this problem, set an alarm threshold for the proportion of added IPv4 route prefixes to all IPv4 route prefixes allowed on a device.</p>
<p>Then, an alarm is generated when the following conditions are met:</p>
<ul><li>The alarm function is enabled using the <a href="cmdqueryname=snmp-agent+trap+enable+feature-name+rm"><b><span class="cmdname">snmp-agent trap enable feature-name rm</span></b></a> command.</li><li>The proportion of added IPv4 route prefixes to all IPv4 route prefixes allowed on a device exceeds the alarm threshold.</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001176662317__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Set two alarm thresholds (one alarm threshold and one clear alarm threshold) for the proportion of added IPv4 route prefixes to all IPv4 route prefixes allowed on a device.</span><p><pre class="screen"><a href="cmdqueryname=ip+prefix-limit+system+threshold-alarm"><b><span class="cmdname">ip prefix-limit system threshold-alarm</span></b></a> <strong><span>upper-limit</span></strong> <i><span class="varname">upper-limit-value</span></i> <strong><span>lower-limit</span></strong> <i><span class="varname">lower-limit-value</span></i></pre>
</p><p><div class="p">By default, the alarm threshold is 80%, and the clear alarm threshold is 70%.<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><div class="p">When setting <i><span class="varname">upper-limit-value</span></i> and <i><span class="varname">lower-limit-value</span></i>, consider the following recommendations:<ul><li>Set a value less than or equal to 95 for <i><span class="varname">upper-limit-value</span></i>.</li><li><i><span class="varname">lower-limit-value</span></i> must be less than <i><span class="varname">upper-limit-value</span></i>. Set <i><span class="varname">lower-limit-value</span></i> less than <i><span class="varname">upper-limit-value</span></i> at least by 10 to prevent alarms from being frequently generated and cleared due to route flapping.</li></ul>
</div>
</div></div>
</div>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176662317__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176662317__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_ip_routing_management_cfg_0025.html">Maintaining IP Routes
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_ip_routing_management_cfg_0027.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_ip_routing_management_cfg_0029.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>