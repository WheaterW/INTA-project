
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Copying the Configuration File from an FTP Server or Client to the Device">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_cfgfile_cfg_0004.html">
<meta name="DC.Relation" scheme="URI" content="vrp_cfgfile_cfg_0015.html">
<meta name="DC.Relation" scheme="URI" content="vrp_cfgfile_cfg_0017.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Configuration File Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Configuration File Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="featurename" content="Configuration File Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001512691126">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Copying the Configuration File from an FTP Server or Client to the Device</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001512691126"></a><a name="EN-US_TASK_0000001512691126"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Copying the Configuration File from an FTP Server or Client to the Device</h1>
<div class="taskbody"><div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001512691126__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><div class="p">Before copying the configuration file from an FTP server or client to the device, you have completed the following tasks:<ul><li>If the device functions as an FTP client, connect it to an FTP server. For details, see "Configuring a Device as an FTP Client" in <span>Configuration Guide</span> &gt; Basic Configuration.</li><li>If the device functions as an FTP server, connect it to an FTP client. For details, see "Configuring a Device as an FTP Server" in <span>Configuration Guide</span> &gt; Basic Configuration.</li><li>The weak security algorithm/protocol feature package (WEAKEA) has been installed using the <strong>install feature-software WEAKEA</strong> command.</li></ul>
</div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001512691126__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p">If functions do not operate properly due to incorrect configurations, you can copy the backup configuration file of the device from an FTP server or client to restore the configuration file using either of the following methods:<ul><li>If the device functions as an FTP client, copy the configuration file from an FTP server to the device.</li><li>If the device functions as an FTP server, copy the configuration file from an FTP client to the device.</li></ul>
</div>
<p>Select one method as required.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Restoring the configuration file through FTP is a simple process, which however may pose security risks. In scenarios featuring high security requirements, <span>SFTP and SCP</span> are recommended for configuration file restoration.</p>
<p>In FIPS mode, FTP cannot be used to restore configuration files.</p>
</div></div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001512691126__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Copy the configuration file from the FTP server when the device functions as an FTP client.</span><ol><li class="substepexpand"><span>Set up an FTP connection with the FTP server.</span><p><pre class="screen"><a href="cmdqueryname=ftp"><b><span class="cmdname">ftp</span></b></a> [ <strong><span>ipv6</span></strong> ] <i><span class="varname">host-ip</span></i></pre>
</p></li><li class="substepexpand"><span>Transfer the configuration file.</span><p><p>On the device, run the <a href="cmdqueryname=get"><b><span class="cmdname">get</span></b></a> command to copy the configuration file from the PC that functions as an FTP server to the specified path on the device.</p>
<pre class="screen"><strong><a href="cmdqueryname=get"><b><span class="cmdname">get</span></b></a> </strong><i><span class="varname">remote-filename</span></i> [ <i><span class="varname">local-filename</span></i> ]</pre>
</p></li></ol>
</li><li><span>Copy the configuration file from the FTP client when the device functions as an FTP server.</span><ol><li class="substepexpand"><span>On the PC that functions as an FTP client, initiate an FTP connection with the device.</span><p><p>In this example, the IP address of the device is 10.110.24.254, the FTP user name created on the device is <strong>huawei</strong>, and the password of the FTP user is <strong>YsHsjx_202206</strong>.</p>
<pre class="screen">C:\Documents and Setting\Administrator&gt; <strong>ftp 10.110.24.254</strong>
Connected to 10.110.24.254.
220 FTP service ready.
User (10.110.24.254:(none)): <strong>huawei</strong>
331 Password required for huawei.
Password:
230 User logged in.</pre>
</p></li><li class="substepexpand"><span>Transfer the configuration file.</span><p><p>On the PC that functions as an FTP client, run the <strong><span>put</span></strong> command to copy the configuration file from the PC to the specified path on the device.</p>
<pre class="screen">ftp&gt; <strong>put </strong><i><span class="varname">local-filename</span></i> [ <i><span class="varname">remote-filename</span></i> ]</pre>
</p></li></ol>
</li></ul></div>
<div class="example"><a name="EN-US_TASK_0000001512691126__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=dir"><b><span class="cmdname">dir</span></b></a> command on the device to check whether the configuration file has been successfully copied from the PC to the device.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_cfgfile_cfg_0004.html">Managing Configuration Files
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_cfgfile_cfg_0015.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_cfgfile_cfg_0017.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>