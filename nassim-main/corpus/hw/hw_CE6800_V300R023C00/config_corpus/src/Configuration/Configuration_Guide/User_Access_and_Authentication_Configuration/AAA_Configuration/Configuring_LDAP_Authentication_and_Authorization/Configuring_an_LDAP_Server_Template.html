
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an LDAP Server Template">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_aaa-ldap_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_aaa-ldap_cfg_0002.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="AAA">
<meta name="featurename" content="LDAP">
<meta name="featuretype" content="User Access and Authentication">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="AAA">
<meta name="featurename" content="LDAP">
<meta name="featuretype" content="User Access and Authentication">
<meta name="featurename" content="AAA">
<meta name="featurename" content="AD">
<meta name="featurename" content="HWTACACS">
<meta name="featurename" content="LDAP">
<meta name="featurename" content="RADIUS">
<meta name="featurename" content="Local User">
<meta name="featuretype" content="User Access and Authentication">
<meta name="featuretype" content="User Access and Authentication">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001564115721">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring an LDAP Server Template</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001564115721"></a><a name="EN-US_TASK_0000001564115721"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an LDAP Server Template</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001564115721__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>In an LDAP server template, you must specify the server type, IP address, and port number. The other parameters have default settings, for example, the Base DN. These default settings can be modified as needed.</p>
<p>The LDAP server obtains the values of the user attribute filter field and group attribute filter field as the user name and group name, respectively. The user attribute filter field and group attribute filter field of the LDAP server do not need to be configured. Their default values are as follows:</p>
<ul><li>The user attribute filter fields vary according to the LDAP server type: sAMAccountName for AD-LDAP LDAP servers, cn for Open LDAP or IBM Tivoli LDAP servers, and uid for Sun ONE LDAP servers.</li><li>The group attribute filter field of the LDAP server is ou.</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001564115721__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Create an LDAP server template and enter the LDAP server template view.</span><p><pre class="screen"><a href="cmdqueryname=ldap-server+template"><b><span class="cmdname">ldap-server template</span></b></a> <i><span class="varname">template-name</span></i></pre>
</p></li><li><span>Set the LDAP server type.</span><p><pre class="screen"><a href="cmdqueryname=ldap-server+server-type"><b><span class="cmdname">ldap-server server-type</span></b></a> { <strong><span>ad-ldap</span></strong> | <strong><span>ibm-tivoli</span></strong> | <strong><span>open-ldap</span></strong> | <strong><span>sun-one</span></strong> }</pre>
<p>Set the LDAP server type based on the remote LDAP server type. By default, the LDAP server type in the LDAP server template created on the device is <strong><span>ad-ldap</span></strong>.</p>
</p></li><li><span>Configure an LDAP server.</span><p><pre class="screen"><a href="cmdqueryname=ldap-server+authentication"><b><span class="cmdname">ldap-server authentication</span></b></a> <i><span class="varname">ip-address</span></i> [ <i><span class="varname">port</span></i> ] [ <strong><span>secondary</span></strong> | <strong><span>third</span></strong> ] [ <strong><span>ssl</span></strong> | <strong>no-ssl</strong> ]</pre>
<p>By default, no LDAP server is configured. In the preceding command:</p>
<ul><li><i><span class="varname">port</span></i> specifies the port number of the LDAP server. If <strong>ssl</strong> is specified, the default port number is 636. If <strong>no-ssl</strong> is specified, the default port number is 389. The <strong>ssl</strong> parameter is specified by default.</li><li><strong><span>ssl</span></strong> indicates that LDAP packets are encrypted for transmission based on the SSL protocol to improve security. After this parameter is configured, the device uses a CA certificate to verify the validity of the LDAP server.<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>After the FIPS mode is enabled, the <strong>no-ssl</strong> parameter cannot be used.</p>
</div></div>
</li></ul>
</p></li><li><span>(Optional) Configure the source IP address for communication between the device and LDAP server.</span><p><pre class="screen"><a href="cmdqueryname=ldap-server+source"><b><span class="cmdname">ldap-server source</span></b></a> { <strong><span>loopback</span></strong> <i><span class="varname">interface-number1</span></i> | <strong><span>ip-address</span></strong> <i><span class="varname">ip-address</span></i> | <strong><span>vlanif</span></strong> <i><span class="varname">interface-number2</span></i> }</pre>
<p>By default, when the device sends packets to the LDAP server, the IP address of the outbound interface is used as the source IP address.</p>
<p>If the specified loopback interface or VLANIF interface is not created or has no IP address configured, the IP address of the outbound interface is used as the source IP address.</p>
</p></li><li><span>Set a Base DN for the LDAP server.</span><p><pre class="screen"><strong><a href="cmdqueryname=ldap-server+authentication+base-dn"><b><span class="cmdname">ldap-server authentication base-dn</span></b></a></strong> <i><span class="varname">base-dn</span></i></pre>
<p>By default, no the Base DN is configured for an LDAP server.</p>
</p></li><li><span>Set the administrator DN and password of the LDAP server.</span><p><pre class="screen"><strong>ldap-server authentication manager</strong> <i><span class="varname">manager</span></i> <i><span class="varname">password</span></i></pre>
<p>By default, no administrator DN and password are configured for an LDAP server.</p>
<p>For security purposes, it is recommended that the password contain at least eight characters and at least three types of the following characters: uppercase letters, lowercase letters, digits, and special characters.</p>
<p>If you run the <strong>ldap-server authentication manager-anonymous enable</strong> command after the administrator DN and password of the LDAP server are set, the administrator DN and password settings will be automatically cleared, and the Base DN will also be deleted.</p>
</p></li><li><span>(Optional) Configure the server to allow administrators to log in anonymously.</span><p><div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>An anonymous login does not require the user name and password, posing security risks. Determine whether to enable anonymous login after risk assessment.</p>
</div></div>
<pre class="screen"><strong>ldap-server authentication manager-anonymous enable</strong></pre>
<p>By default, administrators are not allowed to access the LDAP server anonymously.</p>
<p>After the command is configured, if you run the <strong>ldap-server authentication manager</strong> <i><span class="varname">manager </span></i><i><span class="varname">password</span></i> command to configure the administrator DN and password of the LDAP server, the anonymous login configuration will be cleared.</p>
</p></li><li><span>(Optional) Enable user binding during LDAP authorization.</span><p><pre class="screen"><a href="cmdqueryname=ldap-server+authorization+bind-user+enable"><b><span class="cmdname">ldap-server authorization bind-user enable</span></b></a></pre>
<p>By default, user binding is required during LDAP authorization.</p>
</p></li><li><span>(Optional) Configure an administrator DN of the LDAP server to contain the Base DN.</span><p><pre class="screen"><strong>ldap-server authentication manager-with-base-dn enable</strong></pre>
<p>By default, the Base DN is contained in the administrator DN during LDAP authentication.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001564115721__en-us_task_0228023023_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001564115721__en-us_task_0228023023_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0000001564115721__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><ul><li>Run the <a href="cmdqueryname=display+ldap-server+template"><b><span class="cmdname">display ldap-server template</span></b></a> [ <strong>name</strong> <i><span class="varname">template-name</span></i> ] command to check the LDAP server template configuration.</li><li>Run the <a href="cmdqueryname=test-aaa"><b><span class="cmdname">test-aaa</span></b></a> <i><span class="varname">user-name</span></i> <i><span class="varname">user-password</span></i> <strong><span>ldap-template</span></strong> <i><span class="varname">template-name</span></i> command to test the connectivity between the device and server. For details about common fault information and troubleshooting methods, see <a href="galaxy_aaa_cfg_0054.html">Testing the Server Connectivity</a>.</li></ul>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_aaa-ldap_cfg_0001.html">Configuring LDAP Authentication and Authorization
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_aaa-ldap_cfg_0002.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>