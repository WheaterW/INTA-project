
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Fast Convergence for a Multi-area Adjacency Interface">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../vrp/vrp_ospf_cfg_0122.html">
<meta name="DC.Relation" scheme="URI" content="../vrp/vrp_ospf_cfg_0126.html">
<meta name="DC.Relation" scheme="URI" content="../vrp/vrp_ospf_cfg_0128.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001130783240">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>Configuring Fast Convergence for a Multi-area Adjacency Interface</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001130783240"></a><a name="EN-US_TASK_0000001130783240"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Fast Convergence for a Multi-area Adjacency Interface</h1>
<div class="taskbody"><div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001130783240__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>Before configuring fast convergence for a multi-area adjacency interface, you have completed the following task:</p>
<ul><li><p><a href="vrp_ospf_cfg_0010.html">Configure basic OSPF functions</a>.</p>
</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001130783240__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Configuring fast convergence for a multi-area adjacency interface improves network performance.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001130783240__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enter the interface view.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></pre>
</p></li><li><span>Enable OSPF on the interface.</span><p><pre class="screen"><a href="cmdqueryname=ospf+enable"><b><span class="cmdname">ospf enable</span></b></a> [ <i><span class="varname">process-id</span></i> ] <strong><span>area</span></strong> <i><span class="varname">area-id</span></i></pre>
</p></li><li><span>Configure a multi-area adjacency interface and enable OSPF for it.</span><p><pre class="screen"><a href="cmdqueryname=ospf+enable+multi-area"><b><span class="cmdname">ospf enable multi-area</span></b></a> <i><span class="varname">area-id</span></i></pre>
</p></li><li><span>Configure fast convergence for the multi-area adjacency interface as needed.</span><p><ul><li><p>Set an interval at which the multi-area adjacency interface sends Hello packets.</p>
<pre class="screen"><a href="cmdqueryname=ospf+timer+hello"><b><span class="cmdname">ospf timer hello</span></b></a> <i><span class="varname">interval</span></i> <strong><span>multi-area</span></strong> <i><span class="varname">area-id</span></i></pre>
</li><li><p>Set a dead interval for OSPF neighbors of the multi-area adjacency interface.</p>
<pre class="screen"><a href="cmdqueryname=ospf+timer+dead"><b><span class="cmdname">ospf timer dead</span></b></a> <i><span class="varname">interval</span></i> <strong><span>multi-area</span></strong> <i><span class="varname">area-id</span></i></pre>
</li><li><p>Set an interval at which the multi-area adjacency interface retransmits LSAs.</p>
<pre class="screen"><a href="cmdqueryname=ospf+timer+retransmit"><b><span class="cmdname">ospf timer retransmit</span></b></a> <i><span class="varname">interval</span></i> <strong><span>multi-area</span></strong> <i><span class="varname">area-id</span></i></pre>
</li><li>Set a delay for the multi-area adjacency interface to transmit LSAs.<pre class="screen"><a href="cmdqueryname=ospf+trans-delay"><b><span class="cmdname">ospf trans-delay</span></b></a> <i><span class="varname">delayValue</span></i> <strong><span>multi-area</span></strong> { <i><span class="varname">area-id</span></i> | <i><span class="varname">area-id</span></i> }</pre>
</li><li>Enable the Smart-discover function on the multi-area adjacency interface.<pre class="screen"><a href="cmdqueryname=ospf+smart-discover"><b><span class="cmdname">ospf smart-discover</span></b></a> <strong><span>multi-area</span></strong> <i><span class="varname">area-id</span></i></pre>
<p>If the neighbor status of a device or the DR/BDR on a multi-access network (broadcast or NBMA network) changes, the device waits until the Hello timer expires before sending Hello packets to its neighbor. This means that establishing a neighbor relationship takes longer to complete. To resolve this problem, configure Smart-discover. When configured, Smart-discover allows the device to send Hello packets to its neighbors immediately without waiting for the Hello timer of the multi-area adjacency interface to expire. This speeds up neighbor relationship establishment and network convergence.</p>
</li><li>Configure the multi-area adjacency interface to filter the LSAs to be sent.<pre class="screen"><a href="cmdqueryname=ospf+filter-lsa-out"><b><span class="cmdname">ospf filter-lsa-out</span></b></a> { <strong><span>all</span></strong> | { <strong><span>ase</span></strong> [ <strong><span>acl</span></strong> { <i><span class="varname">ase-acl-num</span></i> | <i><span class="varname">ase-acl-name</span></i> } ] | <strong><span>nssa</span></strong> [ <strong><span>acl</span></strong> { <i><span class="varname">nssa-acl-num</span></i> | <i><span class="varname">nssa-acl-name</span></i> } ] | <strong><span>summary</span></strong> [ <strong><span>acl</span></strong> { <i><span class="varname">sum-acl-num</span></i> | <i><span class="varname">sum-acl-name</span></i> } ] } <sup>*</sup> } <strong><span>multi-area</span></strong> { <i><span class="varname">area-id-integer</span></i> | <i><span class="varname">area-id-ipv4</span></i> }</pre>
<p>If multiple links exist between two devices, you can configure this filtering function on some links to ensure that the matched LSAs are not transmitted through these links. This prevents unnecessary retransmissions and saves bandwidth resources.</p>
</li></ul>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001130783240__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001130783240__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../vrp/vrp_ospf_cfg_0122.html">Configuring OSPF Multi-area Adjacency
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../vrp/vrp_ospf_cfg_0126.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../vrp/vrp_ospf_cfg_0128.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>