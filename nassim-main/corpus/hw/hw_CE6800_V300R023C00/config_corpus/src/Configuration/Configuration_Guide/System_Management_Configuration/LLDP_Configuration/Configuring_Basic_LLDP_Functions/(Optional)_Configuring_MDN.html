
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring MDN">
<meta name="abstract" content="">
<meta name="description" content="">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_lldp_cfg_0006.html">
<meta name="DC.Relation" scheme="URI" content="vrp_lldp_cfg_0010.html">
<meta name="DC.Relation" scheme="URI" content="vrp_lldp_cfg_0011.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="LLDP">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="LLDP">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="LLDP">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176662629">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring MDN</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176662629"></a><a name="EN-US_TASK_0000001176662629"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring MDN</h1>
<div class="taskbody"><p></p>
<div class="context"><a name="EN-US_TASK_0000001176662629__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>MDN obtains the MAC addresses of non-Huawei devices. When the NMS needs to collect topology information about a Huawei device and a non-Huawei device, you can enable MDN on the non-Huawei device. Then the Huawei device can receive non-standard discovery protocol packets sent by the non-Huawei device and obtain the MAC address of the non-Huawei device. In this manner, the NMS can obtain the topology information between the two devices.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001176662629__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enable MDN.</span><p><p>You can enable MDN globally or on an interface.</p>
<ul><li>Enable MDN globally.<pre class="screen"><a href="cmdqueryname=lldp+mdn+enable"><b><span class="cmdname">lldp mdn enable</span></b></a></pre>
</li><li>Enable MDN on an interface.<ol type="a"><li>Enter the interface view.<pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></pre>
</li><li>Enable MDN on the interface.<pre class="screen"><a href="cmdqueryname=lldp+mdn+enable"><b><span class="cmdname">lldp mdn enable</span></b></a></pre>
</li></ol>
</li></ul>
<p>MDN adopts the following longest-match rules:</p>
<ul><li>If MDN is configured globally and on a specified interface, only the configuration on the interface takes effect.</li><li>If MDN is not configured on any interface, the global MDN configuration takes effect.</li><li>If MDN is not configured globally, the MDN configuration on interfaces takes effect.</li></ul>
</p></li><li><span>(Optional) Configure a delay in sending MDN neighbor information change traps to the NMS.</span><p><p>After the LLDP trap function is enabled for a device, the device sends traps to the NMS if MDN neighbor information changes. If MDN neighbor information changes frequently, the device frequently sends traps to the NMS, causing network flapping. Setting a delay effectively prevents network flapping caused by traps being frequently sent to the NMS. To set a delay for the device to send traps about MDN neighbor information changes to the NMS, run the following command:</p>
</p><p><pre class="screen"><a href="cmdqueryname=lldp+mdn+trap-interval"><b><span class="cmdname">lldp mdn trap-interval</span></b></a> <i><span class="varname">trap-interval</span></i></pre>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The delay for sending traps about MDN neighbor information changes must be appropriate. You can flexibly adjust this parameter based on the network load:</p>
<ul><li>The longer the delay, the lower the frequency of network topology changes. However, if the delay for sending traps about MDN neighbor information changes is too long, the NMS cannot trace changes of the neighbor status. As a result, the NMS cannot refresh network topology in a timely manner.</li><li>The shorter the delay, the higher the frequency of sending local status information to neighbors. This helps the neighbors dynamically refresh the network topology. However, if the delay is too short, the NMS refreshes status information about neighbors frequently. This causes flapping of network topology, increases the load on the system, and wastes resources.</li><li>The default delay time is recommended.</li></ul>
</div></div>
</p></li><li><span>(Optional) Disable MDN on a specified interface.</span><p><p>After the MDN function is enabled globally, all interfaces can receive packets discovered using non-standard protocols and identify MDN neighbors based on source MAC addresses of packets. This increases system resource consumption and affects service running. You can run the <a href="cmdqueryname=lldp+mdn+disable"><b><span class="cmdname">lldp mdn disable</span></b></a> command on a specified interface to disable MDN on the interface.</p>
<ol type="a"><li>Enter the interface view.<pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></pre>
</li><li>Disable MDN on the interface.<pre class="screen"><a href="cmdqueryname=lldp+mdn+disable"><b><span class="cmdname">lldp mdn disable</span></b></a></pre>
</li></ol>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176662629__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176662629__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_lldp_cfg_0006.html">Configuring Basic LLDP Functions
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_lldp_cfg_0010.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_lldp_cfg_0011.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>