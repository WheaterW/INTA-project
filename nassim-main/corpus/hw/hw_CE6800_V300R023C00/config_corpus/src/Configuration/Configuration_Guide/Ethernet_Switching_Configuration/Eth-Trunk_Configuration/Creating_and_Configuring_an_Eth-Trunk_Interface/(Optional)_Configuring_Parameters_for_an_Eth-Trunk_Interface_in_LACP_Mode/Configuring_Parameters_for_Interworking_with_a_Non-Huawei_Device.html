
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Parameters for Interworking with a Non-Huawei Device">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_eth-trunk_cfg_0016.html">
<meta name="DC.Relation" scheme="URI" content="vrp_eth-trunk_cfg_0041.html">
<meta name="DC.Relation" scheme="URI" content="vrp_eth-trunk_cfg_0020.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176741153">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring Parameters for Interworking with a Non-Huawei Device</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176741153"></a><a name="EN-US_TASK_0000001176741153"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Parameters for Interworking with a Non-Huawei Device</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001176741153__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>The following parameters can be configured for a device to interwork with a non-Huawei device using an Eth-Trunk:</p>
<ul><li><strong>Ignoring the value of the Reserved field in the received LACPDUs</strong>: When an Eth-Trunk is set up between two Huawei devices, if the two ends are configured with different LACP preemption delays, they will negotiate using the Reserved field in LACPDUs, in which case the Eth-Trunk uses the larger value as the preemption delay. When an Eth-Trunk is set up between a Huawei device and a non-Huawei device, if the Reserved field in LACPDUs on the non-Huawei device is different from that on the Huawei device, LACP flapping occurs, causing service interruptions. To address this problem, you can enable the Huawei device to ignore the value of the Reserved field in LACPDUs.</li><li><strong>Configuring the CollectorMaxDelay field in LACPDUs</strong>: When a non-Huawei device is dual-homed to two Huawei devices through an Eth-Trunk in static LACP mode, if the two Huawei devices use different system software, the default value of the CollectorMaxDelay field in LACPDUs may be different. As a result, Eth-Trunk member interfaces on the non-Huawei device receive LACPDUs with different CollectorMaxDelay values. In this situation, the CPU usage of some non-Huawei devices will increase, affecting device performance. To address this problem, change the value of the CollectorMaxDelay field on one Huawei device to ensure that LACPDUs sent by the two Huawei devices carry the same CollectorMaxDelay value.</li><li><strong>Configuring the key value of Eth-Trunk member interfaces in LACP</strong>: When a non-Huawei device that does not support E-Trunk is dual-homed to two Huawei devices functioning as PEs, you need to manually configure the same system ID, system priority, and portkey value for the two PEs to ensure that the links of both PEs can be selected.</li></ul>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001176741153__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure the local device to ignore the value of the Reserved field in the LACPDUs sent by non-Huawei devices.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enable the device to ignore the value of the Reserved field in received LACPDUs.</span><p><pre class="screen"><a href="cmdqueryname=lacp+ignore+aggregation+delay"><b><span class="cmdname">lacp ignore aggregation delay</span></b></a></pre>
</p><p><p>By default, the device identifies the value of the Reserved field in received LACPDUs.</p>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176741153__en-us_task_0000001176741145_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176741153__en-us_task_0000001176741145_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol>
</li><li><span>Configure the value of the CollectorMaxDelay field in LACPDUs when the local device connects to a non-Huawei device.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the view of an Eth-Trunk interface.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <strong><span>eth-trunk</span></strong> <i><span class="varname">trunk-id</span></i></pre>
</p></li><li class="substepexpand"><span>Configure the value of the CollectorMaxDelay field in LACPDUs.</span><p><pre class="screen"><a href="cmdqueryname=lacp+collector+delay"><b><span class="cmdname">lacp collector delay</span></b></a> <i><span class="varname">delay-time</span></i></pre>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176741153__en-us_task_0000001176741145_screen163801330213_1"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176741153__en-us_task_0000001176741145_en-us_concept_0141113565_cmdname1667501373175340_1">commit</span></b></a></pre>
</p></li></ol>
</li><li><span>Configure the key value of Eth-Trunk member interfaces in LACP when the local device connects to a non-Huawei device.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the view of an Eth-Trunk interface.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <strong><span>eth-trunk</span></strong> <i><span class="varname">trunk-id</span></i></pre>
</p></li><li class="substepexpand"><span>Configure the key value of Eth-Trunk member interfaces in LACP.</span><p><pre class="screen"><strong>lacp portkey </strong><em>portkey</em></pre>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176741153__en-us_task_0000001176741145_screen163801330213_2"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176741153__en-us_task_0000001176741145_en-us_concept_0141113565_cmdname1667501373175340_2">commit</span></b></a></pre>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_eth-trunk_cfg_0016.html">(Optional) Configuring Parameters for an Eth-Trunk Interface in LACP Mode
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_eth-trunk_cfg_0041.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_eth-trunk_cfg_0020.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>