
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Understanding Port Security">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_port-security_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="vrp_port-security_cfg_0002.html">
<meta name="DC.Relation" scheme="URI" content="spec/Port_security_limitation_23.0.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Port Security">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Port Security">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security Protection">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001216563873">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Understanding Port Security</title>
</head>
<body><a name="EN-US_CONCEPT_0000001216563873"></a><a name="EN-US_CONCEPT_0000001216563873"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Understanding Port Security</h1>
<div><div class="section"><h4 class="sectiontitle">Classification of Secure MAC Addresses</h4>
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Classification of secure MAC addresses</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="12.13%" id="mcps1.3.1.2.2.5.1.1" liSelected="liSelected"><p>Type</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="27.58%" id="mcps1.3.1.2.2.5.1.2" liSelected="liSelected"><p>Description</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="30.349999999999998%" id="mcps1.3.1.2.2.5.1.3" liSelected="liSelected"><p>Characteristic</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="29.94%" id="mcps1.3.1.2.2.5.1.4" liSelected="liSelected"><p>Scenario</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="12.13%" headers="mcps1.3.1.2.2.5.1.1 "><p>Dynamic secure MAC address</p>
</td>
<td class="cellrowborder" valign="top" width="27.58%" headers="mcps1.3.1.2.2.5.1.2 "><p>When port security is enabled on an interface, dynamic MAC address entries that have been learned by the interface are deleted, and MAC address entries learned subsequently are converted into dynamic secure MAC address entries.</p>
</td>
<td class="cellrowborder" valign="top" width="30.349999999999998%" headers="mcps1.3.1.2.2.5.1.3 "><p>After the device restarts<span> or the interface goes down</span>, the entries are lost and need to be relearned.</p>
<p>Dynamic secure MAC addresses do not age by default. They age only when the set aging time is reached.</p>
<p>The number of MAC addresses can be limited.</p>
<p>Protection actions can be configured for the interface, including: discarding the packets, reporting alarms, or shutting down the interface.</p>
</td>
<td class="cellrowborder" valign="top" width="29.94%" headers="mcps1.3.1.2.2.5.1.4 "><p>If users frequently change their access locations, you can configure the dynamic secure MAC address function on the user-side interface of the device. This function ensures security and deletes bound MAC address entries immediately when they age.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="12.13%" headers="mcps1.3.1.2.2.5.1.1 "><p>Sticky MAC address</p>
</td>
<td class="cellrowborder" valign="top" width="27.58%" headers="mcps1.3.1.2.2.5.1.2 "><p>When the sticky MAC address function is enabled following port security, the dynamic MAC address entries that have been converted into dynamic secure MAC address entries will be converted into sticky MAC address entries, and the newly learned dynamic MAC address entries will be directly converted into sticky MAC address entries.</p>
</td>
<td class="cellrowborder" valign="top" width="30.349999999999998%" headers="mcps1.3.1.2.2.5.1.3 "><p>The entries are not lost after the device restarts<span> or the interface goes down</span>.</p>
<p>Sticky MAC address entries will not age.</p>
<p>The number of MAC addresses can be limited.</p>
<p>Protection actions can be configured for the interface, including: discarding the packets, reporting alarms, or shutting down the interface.</p>
</td>
<td class="cellrowborder" valign="top" width="29.94%" headers="mcps1.3.1.2.2.5.1.4 "><p>If users seldom change access locations, you can configure the sticky MAC address function on the user-side interface of the device. This function ensures security without losing bound MAC address entries.</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>After the sticky MAC address function is disabled on an interface, sticky MAC address entries on the interface are converted into dynamic secure MAC address entries. After port security is disabled on an interface, existing dynamic secure MAC address entries on the interface are deleted. The interface then learns dynamic MAC address entries again.</p>
</div></div>
</div>
<div class="section"><h4 class="sectiontitle">Aging of Secure MAC Addresses</h4><p>Only dynamic secure MAC addresses will age when the set aging time is reached.</p>
<ul><li>Absolute aging time: If the absolute aging time is 5 minutes, the system checks whether there is traffic from the MAC address every 5 minutes. If not, the dynamic secure MAC address is aged out immediately.</li><li>Relative aging time: If the relative aging time is 5 minutes, the system checks whether there is traffic from the MAC address every 1 minute. If not, the dynamic secure MAC address is aged out 5 minutes later.</li><li>Forcible aging time: The system calculates the lifetime of each MAC address once every minute. For example, if the forcible aging time is set to 5 minutes and the lifetime of a dynamic secure MAC address is greater than or equal to 5 minutes, this MAC address ages out immediately.</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Port Security Protection Actions</h4><p>After port security is enabled on an interface, if the interface receives packets sourced from a MAC address not existing in the MAC address table, the device considers that the packets are sent from an unauthorized user, regardless of whether the destination MAC address of packets exists, and takes the protection actions.</p>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 2 </b>Port security protection actions</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="19%" id="mcps1.3.3.3.2.3.1.1" liSelected="liSelected"><p>Action</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="81%" id="mcps1.3.3.3.2.3.1.2" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="19%" headers="mcps1.3.3.3.2.3.1.1 "><p>restrict</p>
</td>
<td class="cellrowborder" valign="top" width="81%" headers="mcps1.3.3.3.2.3.1.2 "><p>Discards invalid packets and reports an alarm. This action is recommended.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="19%" headers="mcps1.3.3.3.2.3.1.1 "><p>protect</p>
</td>
<td class="cellrowborder" valign="top" width="81%" headers="mcps1.3.3.3.2.3.1.2 "><p>Discards invalid packets without reporting an alarm.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="19%" headers="mcps1.3.3.3.2.3.1.1 "><p>error-down</p>
</td>
<td class="cellrowborder" valign="top" width="81%" headers="mcps1.3.3.3.2.3.1.2 "><p>Discards invalid packets, sets the interface status to error-down, and reports an alarm.</p>
<p>By default, an interface in error-down state can be restored only after the <a href="cmdqueryname=restart"><b><span class="cmdname">restart</span></b></a> command is run in the interface view.</p>
<p>To enable an interface in error-down state to automatically go up after a period of time, run the <a href="cmdqueryname=error-down+auto-recovery"><b><span class="cmdname">error-down auto-recovery</span></b></a> <strong><span>cause</span></strong> <strong><span>portsec-reachedlimit</span></strong> <strong><span>interval</span></strong> <i><span class="varname">interval-value</span></i> command in the system view before the interface status becomes error-down. In this command, <i><span class="varname">interval-value</span></i> specifies the period of time after which an interface can automatically go up.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_port-security_cfg_0001.html">Port Security Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_port-security_cfg_0002.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="spec/Port_security_limitation_23.0.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>