
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring the RMON Alarm Function">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_rmon_cfg_0005.html">
<meta name="DC.Relation" scheme="URI" content="vrp_rmon_cfg_0006.html">
<meta name="DC.Relation" scheme="URI" content="vrp_rmon_cfg_0008.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="RMON">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="RMON">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="RMON">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001564123433">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring the RMON Alarm Function</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001564123433"></a><a name="EN-US_TASK_0000001564123433"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring the RMON Alarm Function</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001564123433__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>After the RMON alarm function is configured on a device, the device will generate a log or an alarm if the sampling value exceeds the alarm threshold.</p>
<div class="p">The RMON alarm function is implemented based on the event table and alarm table.<ul><li>Event table (corresponding to the event group in the RMON MIB): When an event occurs, the device generates a log or sends a trap message to the NMS.</li><li>Alarm table (corresponding to the alarm group in the RMON MIB): A specified alarm variable identified by its OID is monitored at a specified sampling interval. When the monitored variable exceeds the defined threshold, the device generates a log or alarm.</li></ul>
</div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001564123433__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Configure the function of sending trap messages or recording logs for events.</span><p><pre class="screen"><a href="cmdqueryname=rmon+event"><b><span class="cmdname">rmon event</span></b></a> <i><span class="varname">entry-number</span></i> [ <strong><span>description</span></strong> <i><span class="varname">string</span></i> ] { <strong><span>log</span></strong> | <strong><span>trap</span></strong> <i><span class="varname">object</span></i> | <strong><span>log-trap</span></strong> <i><span class="varname">object</span></i> | <strong><span>none</span></strong> } [ <strong><span>owner</span></strong> <i><span class="varname">owner-name</span></i> ]</pre>
</p><p><div class="p">The event function is configured. The parameters in the command are described as follows:<ul><li><p><strong><span>log</span></strong>: The system only generates a log.</p>
</li><li><p><strong><span>log-trap</span></strong>: The system generates a log and sends a trap message to the NMS.</p>
</li><li><p><strong><span>none</span></strong>: The system does not take any action.</p>
</li><li><p><strong><span>trap</span></strong>: The system only sends a trap message to the NMS.</p>
</li></ul>
</div>
</p></li><li><span>Configure the alarm threshold function.</span><p><pre class="screen"><a href="cmdqueryname=rmon+alarm"><b><span class="cmdname">rmon alarm</span></b></a> <i><span class="varname">entry-number</span></i> <i><span class="varname">alarm-OID</span></i> <i><span class="varname">sampling-time</span></i> { <strong><span>absolute</span></strong> | <strong><span>changeratio</span></strong> | <strong><span>delta</span></strong> } <strong><span>rising-threshold</span></strong> <i><span class="varname">threshold-value1</span></i> <i><span class="varname">event-entry1</span></i> <strong><span>falling-threshold</span></strong> <i><span class="varname">threshold-value2</span></i> <i><span class="varname">event-entry2</span></i> [ <strong><span>startup-alarm</span></strong> { <strong><span>falling</span></strong> | <strong><span>rising</span></strong> | <strong><span>risingorfalling</span></strong> } ] [ <strong><span>owner</span></strong> <i><span class="varname">owner-name</span></i> ]</pre>
</p><p><p>By default, the alarm threshold function is not configured.</p>
<p>If the events corresponding to the upper and lower alarm thresholds (<em>event-entry1</em> and <em>event-entry2</em>) are not configured, no alarm is generated even if the alarm conditions are satisfied. In this case, the alarm is in the Undercreation state rather than in the Valid state.</p>
<p>If the event corresponding to either the upper or lower alarm threshold is configured, an alarm is triggered once the alarm conditions are satisfied. In this case, the alarm is in the Valid state. If an incorrect monitored object is configured (for example, a nonexistent OID is specified), the alarm is in the Invalid state, and no alarm is generated.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001564123433__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001564123433__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_rmon_cfg_0005.html">Configuring RMON
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_rmon_cfg_0006.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_rmon_cfg_0008.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>