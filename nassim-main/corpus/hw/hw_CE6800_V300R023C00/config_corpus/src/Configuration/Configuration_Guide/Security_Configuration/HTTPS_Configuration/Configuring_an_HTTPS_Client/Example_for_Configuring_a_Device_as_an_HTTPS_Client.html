
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring a Device as an HTTPS Client">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_http_cfg_0006.html">
<meta name="DC.Relation" scheme="URI" content="vrp_http_cfg_0010.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="HTTPS">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="HTTPS">
<meta name="featuretype" content="Security">
<meta name="featurename" content="HTTPS">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security Protection">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001512680758">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Example for Configuring a Device as an HTTPS Client</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001512680758"></a><a name="EN-US_TASK_0000001512680758"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring a Device as an HTTPS Client</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001512680758__1.3.1"></a><a name="1.3.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>As shown in <a href="#EN-US_TASK_0000001512680758__fig5412203812116">Figure 1</a>, before configuring the HTTPS client, you need to configure an SSL policy on the device and load the corresponding digital certificate. After the SSL policy is associated with HTTP, you can log in to the HTTPS server from the HTTPS client.</p>
<div class="fignone" id="EN-US_TASK_0000001512680758__fig5412203812116"><a name="EN-US_TASK_0000001512680758__fig5412203812116"></a><a name="fig5412203812116"></a><span class="figcap"><b>Figure 1 </b>Network diagram for accessing files on another device using HTTPS</span><br><span><img class="vsd" src="figure/en-us_image_0000001512680766.png" width="NaN" height="NaN"></span></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001512680758__1.3.2"></a><a name="1.3.2"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap </h4><p>The configuration roadmap is as follows:</p>
<ol><li>Configure an SSL policy for the HTTPS client.</li><li>Configure an HTTPS client.</li></ol>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001512680758__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure an SSL policy for the HTTPS client.</span><p><p># Configure a PKI realm. Import the local certificates and private key file.</p>
<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt;<strong> system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>pki realm domain1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-pki-realm-domain1] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-pki-realm-domain1]<strong> quit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>pki import-certificate local realm domain1 pem filename https_local.pem</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>pki import rsa-key-pair http-key pem restconf.pem</strong>   //Skip this step if the private key file is generated on the local device.</pre>
<p># Import the CA certificate of the HTTP client to verify the validity of the local certificate of the HTTP client.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>pki import-certificate ca realm domain1 pem filename https_ca.pem</strong></pre>
</p><p><p># Configure an SSL policy and bind it to the PKI realm.</p>
</p><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>ssl policy policy1</strong>
[<span><span class="keyword">*</span></span><span class="keyword">HUAWEI</span>-ssl-policy-policy1]<strong> </strong><strong>pki-domain domain1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-ssl-policy-policy1] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-ssl-policy-policy1]<strong> quit</strong></pre>
</p></li><li><span>Configure an HTTPS client.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>http</strong>
[<span><span class="keyword">*</span></span><span class="keyword">HUAWEI</span>-http]<strong> </strong><strong>client ssl-policy policy1</strong>
[<span><span class="keyword">*</span></span><span class="keyword">HUAWEI</span>-http]<strong> </strong><strong>client ssl-verify peer</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>-http] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>-http]<strong> quit</strong></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001512680758__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <strong>display ssl policy</strong> command to check whether the HTTPS client is configured successfully.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>display ssl policy</strong>
       SSL Policy Name: policy1
            PKI domain: domain_name
     Policy Applicants: HTTP-CLIENT
         Key-pair Type:
 Certificate File Type:
      Certificate Type:
  Certificate Filename:
     Key-file Filename:
              CRL File:
       Trusted-CA File:</pre>
</div>
<div class="postreq"><a name="EN-US_TASK_0000001512680758__1.3.5"></a><a name="1.3.5"></a><h4 class="sectiontitle">Configuration Scripts</h4><pre class="screen">#
ssl policy policy1
<strong> </strong>pki-domain domain1
#
http
 client ssl-policy policy1
 client ssl-verify peer
#
pki realm domain1
#
return</pre>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_http_cfg_0006.html">Configuring an HTTPS Client
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_http_cfg_0010.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>