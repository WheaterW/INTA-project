
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Understanding Association Between VRRP6 and Route Status">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_vrrp6_cfg_0050.html">
<meta name="DC.Relation" scheme="URI" content="vrp_vrrp6_cfg_0052.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="VRRP6">
<meta name="featuretype" content="High Availability">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="VRRP6">
<meta name="featuretype" content="High Availability">
<meta name="featurename" content="VRRP6">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001212421478">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Understanding Association Between VRRP6 and Route Status</title>
</head>
<body><a name="EN-US_CONCEPT_0000001212421478"></a><a name="EN-US_CONCEPT_0000001212421478"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Understanding Association Between VRRP6 and Route Status</h1>
<div><div class="section"><h4 class="sectiontitle">Application Scenarios</h4><p>After a VRRP6 group is configured, VRRP6 devices negotiate the master/backup state through VRRP6 Advertisement packets. If an interface or a link fails, or the network topology changes, devices in the VRRP6 group cannot immediately detect the failure or change. Consequently, the master/backup VRRP switchover is delayed. To resolve this problem, configure VRRP6 association. If an object associated with a VRRP6 group fails, the VRRP6 group is notified and performs a master/backup VRRP switchover. VRRP6 association ensures proper traffic forwarding and improves link reliability.</p>
<p>A VRRP6 group can monitor an uplink route. If the uplink route is withdrawn or becomes inactive, the VRRP6 group is instructed to adjust the device priority to trigger a master/backup switchover.</p>
</div>
<div class="section"><h4 class="sectiontitle">Fundamentals</h4><p>A VRRP6 group can be configured to track an uplink route to determine whether the route is reachable. If the uplink route is withdrawn or becomes inactive after the uplink fails or the network topology changes, hosts on the LAN cannot access the external network through gateways. Then, after being notified of the failure or change, the master device in the VRRP6 group reduces its priority by a specified value to allow a backup device with a higher priority to preempt the master role. This process ensures uninterrupted communication between the hosts and external network. The master device in the VRRP6 group is restored to its original priority after the uplink recovers.</p>
<p>In <a href="#EN-US_CONCEPT_0000001212421478__fig466013291353">Figure 1</a>, a VRRP6 group is configured between DeviceA and DeviceB. DeviceA is the master and forwards user-to-network traffic, and DeviceB is the backup. DeviceA in the VRRP6 group is configured to track the 2001:db8:1::1 route.</p>
<div class="p">When the uplink of DeviceA fails, the 2001:DB8:1::1 route becomes unreachable. As such, DeviceA reduces its priority in the VRRP6 group by a specified value so that its new priority is lower than the priority of DeviceB. DeviceB preempts the master role and takes over traffic forwarding on the Layer 3 network, thereby ensuring normal forwarding of service traffic.<div class="fignone" id="EN-US_CONCEPT_0000001212421478__fig466013291353"><a name="EN-US_CONCEPT_0000001212421478__fig466013291353"></a><a name="fig466013291353"></a><span class="figcap"><b>Figure 1 </b>Network diagram of configuring association between VRRP6 and route status</span><br><span><img class="vsd" src="figure/en-us_image_0000001257454671.png" width="NaN" height="NaN"></span></div>
</div>
<p>VRRP6 device configurations are as follows:</p>
<ul><li>DeviceA functions as the master in the VRRP6 group with a priority of 120.</li><li>DeviceB works in immediate preemption mode and functions as the backup in the VRRP6 group with a priority of 100.</li><li>The VRRP6 group on DeviceA tracks the 2001:db8:1::1/64 route. If the 2001:db8:1::1/64 route becomes unreachable, DeviceA reduces its priority by 40.</li></ul>
<p>The implementation is as follows:</p>
<ol><li>Normally, DeviceA periodically sends VRRP6 Advertisement packets to inform DeviceB that it is working properly.</li><li>When the uplink of DeviceA fails, the 2001:db8:1::1/64 route becomes unreachable, and the VRRP6 group is notified of the route status change. After receiving this notification, DeviceA reduces its priority to 80 (120 â 40 = 80). Because the priority of DeviceB, which is working in immediate preemption mode, is now higher than the priority of DeviceA, DeviceB immediately preempts the master role and sends gratuitous ARP packets to allow downstream devices to update address entries.</li><li><p>When the faulty link recovers, the 2001:db8:1::1/64 route becomes reachable again. DeviceA then restores its priority in the VRRP6 group to 120 (80 + 40 = 120), preempts the master role, and sends VRRP6 Advertisement and gratuitous ARP packets. After DeviceB receives the Advertisement packet carrying a priority higher than its own, it switches to the Backup state.</p>
</li><li>Both DeviceA and DeviceB are restored to their original states. As such, DeviceA forwards upstream traffic again.</li></ol>
<p>The preceding process shows that association between a VRRP6 group and an uplink route can prevent traffic loss. In situations where the uplink route is unreachable, the VRRP6 group triggers a master/backup switchover through priority adjustment so that the backup device can take over upstream traffic.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_vrrp6_cfg_0050.html">Configuring Association Between VRRP6 and Route Status
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_vrrp6_cfg_0052.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>