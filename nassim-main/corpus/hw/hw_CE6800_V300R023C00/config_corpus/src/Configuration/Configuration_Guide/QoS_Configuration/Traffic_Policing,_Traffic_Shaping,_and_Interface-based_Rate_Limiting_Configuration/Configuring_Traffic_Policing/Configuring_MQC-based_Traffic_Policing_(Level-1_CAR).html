
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring MQC-based Traffic Policing (Level-1 CAR)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_qos_trafficpolicy_trafficshaping_cfg_0030.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_qos_trafficpolicy_trafficshaping_cfg_0032.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Interface-based Rate Limiting">
<meta name="featurename" content="Traffic Policing">
<meta name="featurename" content="Traffic Shaping">
<meta name="featuretype" content="QoS">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Interface-based Rate Limiting">
<meta name="featurename" content="Traffic Policing">
<meta name="featurename" content="Traffic Shaping">
<meta name="featuretype" content="QoS">
<meta name="featurename" content="Interface-based Rate Limiting">
<meta name="featurename" content="Traffic Policing">
<meta name="featurename" content="Traffic Shaping">
<meta name="featuretype" content="QoS">
<meta name="featuretype" content="QoS">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001563889761">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring MQC-based Traffic Policing (Level-1 CAR)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001563889761"></a><a name="EN-US_TASK_0000001563889761"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring MQC-based Traffic Policing (Level-1 CAR)</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001563889761__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>There are various services on a network. When a large amount of service traffic enters the network side, congestion may occur due to insufficient bandwidth. To control a specific type of service traffic in the inbound or outbound direction on an interface, MQC-based traffic policing (level-1 CAR) can be configured. MQC-based traffic policing uses traffic classifiers to implement differentiated services. When the receive or transmit rate of packets matching traffic classification rules exceeds the specified limit, the device discards the packets.</p>
<p>When both QoS CAR and MQC are used on an interface for traffic statistics collection, statistics about packets to which a QoS CAR profile is applied contain only the packets that do not match the traffic policy.</p>
<p>The device performs the CAR action on interfaces of the same chip centrally, and on interfaces of different chips separately. If a traffic policy containing traffic policing is applied to an Eth-Trunk, a VLAN, or the system, and interfaces of the object to which the traffic policy is applied belong to N chips, the actual rate limit is N times as large as the CAR value.</p>
<p>For example, assume that interface 1 and interface 2 belong to chip 0 and interface 3 and interface 4 belong to chip 1. If interfaces 1 to 4 join VLAN 10 and a traffic policy containing the rate limit of 1 Mbit/s is applied to VLAN 10, the rate limit of interface 1 and interface 2 is 1 Mbit/s and the rate limit of interface 3 and interface 4 is 1 Mbit/s. That is, the total rate limit is 2 Mbit/s after the traffic policy is applied to VLAN 10.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The CE6885-LL in low latency mode does not support this function.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001563889761__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure a traffic classifier.</span><p><p id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_p132031259104114">For details about how to configure a traffic classifier, see <a href="galaxy_mqc_cfg_0005.html">Configuring a Traffic Classifier</a> in "MQC Configuration".</p>
</p></li><li><span>Configure a traffic behavior.</span><ol type="a"><li class="substepexpand"><span>(Optional) Disable the device from counting the inter-frame gaps and preambles when the device calculates the traffic policing rate.</span><p><pre class="screen"><a href="cmdqueryname=qos+car+ifg+disable"><b><span class="cmdname">qos car ifg disable</span></b></a></pre>
</p></li><li class="substepexpand"><span>Create a traffic behavior and enter the traffic behavior view, or enter the view of an existing traffic behavior.</span><p><pre class="screen"><a href="cmdqueryname=traffic+behavior"><b><span class="cmdname">traffic behavior</span></b></a> <i><span class="varname">behavior-name</span></i></pre>
</p></li><li class="substepexpand"><span>Configure a CAR action.</span><p><pre class="screen"><a href="cmdqueryname=car"><b><span class="cmdname">car</span></b></a> <strong><span>cir</span></strong> <i><span class="varname">cir-value</span></i> [ <strong><span>kbps</span></strong> | <strong><span>mbps</span></strong> | <strong><span>gbps</span></strong> ] [ <strong><span>pir</span></strong> <i><span class="varname">pir-value</span></i> [ <strong><span>kbps</span></strong> | <strong><span>mbps</span></strong> | <strong><span>gbps</span></strong> ] ] [ <strong><span>cbs</span></strong> <i><span class="varname">cbs-value</span></i> [ <strong><span>bytes</span></strong> | <strong><span>kbytes</span></strong> | <strong><span>mbytes</span></strong> ] <strong><span>pbs</span></strong> <i><span class="varname">pbs-value</span></i> [ <strong><span>bytes</span></strong> | <strong><span>kbytes</span></strong> | <strong><span>mbytes</span></strong> ] ] [ <strong><span>share</span></strong> ] [ <strong><span>mode</span></strong> { <strong><span>color-blind</span></strong> | <strong><span>color-aware</span></strong> } ] [ <strong><span>green</span></strong> <strong><span>pass</span></strong> [ <strong><span>service-class</span></strong> <i><span class="varname">class</span></i> <strong><span>color</span></strong> <i><span class="varname">color</span></i> ] | <strong><span>yellow</span></strong> { <strong><span>discard</span></strong> | <strong><span>pass</span></strong> [ <strong><span>service-class</span></strong> <i><span class="varname">class</span></i> <strong><span>color</span></strong> <i><span class="varname">color</span></i> ] } | <strong><span>red</span></strong> { <strong><span>discard</span></strong> | <strong><span>pass</span></strong> [ <strong><span>service-class</span></strong> <i><span class="varname">class</span></i> <strong><span>color</span></strong> <em>color</em> ] } ] <sup>*</sup></pre>
</p></li><li class="substepexpand"><span>Exit the traffic behavior view.</span><p><pre class="screen"><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></pre>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001563889761__en-us_task_0228023023_screen14848162118611"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001563889761__en-us_task_0228023023_cmdname1784862115612">commit</span></b></a></pre>
</p></li></ol>
</li><li><span>Configure a traffic policy.</span><ol type="a" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_substeps1847014515257"><li class="substepexpand" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_substep1847024512515"><span id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_cmd3470164511250">Create a traffic policy and enter the traffic policy view, or enter the view of an existing traffic policy.</span><p><pre class="screen" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_screen12581214182617"><strong id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001512847490_b132061657174518"><a href="cmdqueryname=traffic+policy"><b><span class="cmdname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001512847490_cmdname220555714451">traffic policy</span></b></a> </strong><i><span class="varname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001512847490_varname173177584617">policy-name</span></i></pre>
</p></li><li class="substepexpand" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_substep316613144271"><span id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_cmd51661614122711">Bind a traffic behavior and a traffic classifier to the traffic policy.</span><p><pre class="screen" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_screen6741455185420"><a href="cmdqueryname=classifier"><b><span class="cmdname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001512847490_cmdname979606411175340">classifier</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001512847490_varname1735113404175340">classifier-name</span></i> <strong><span id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001512847490_cmdparmname1448135958175340">behavior</span></strong> <i><span class="varname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001512847490_varname272307595175340">behavior-name</span></i><span> [ <strong id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001512847490_b795658152175340">precedence</strong> <em id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001512847490_i642236598175340">precedence-value</em> ]</span></pre>
</p></li><li class="substepexpand" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_substep18715857122710"><span id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_cmd271555752719">Exit the traffic policy view.</span><p><pre class="screen" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_screen19715105752711"><a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_cmdname17715357122713">quit</span></b></a></pre>
</p></li><li class="substepexpand" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_substep12281245013"><span id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0228023023_cmd4509142769">Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0228023023_screen14848162118611"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0228023023_cmdname1784862115612">commit</span></b></a></pre>
</p></li></ol>
</li><li><span>Apply a traffic policy.</span><ul id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_choices19259145919192"><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_choice325914592195">Apply a traffic policy to the system.<ol type="a" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_ol9684101612117"><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_li450616256223">Apply a traffic policy to the system.<pre class="screen" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_screen16590154153116"><a href="cmdqueryname=traffic-policy"><b><span class="cmdname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdname1308059803175340">traffic-policy</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_varname1924546263175340">policy-name</span></i> <strong><span id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdparmname286393046175340">global</span></strong><span> </span><span>[ <strong><span id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdparmname708365692175340">slot</span></strong> <i><span class="varname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_varname2009116274175340">slot-id</span></i> ]</span> { <strong><span id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdparmname256944024175340">inbound</span></strong> | <strong><span id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdparmname87205768175340">outbound</span></strong> }</pre>
</li><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_li1531019012261">Commit the configuration.<pre class="screen" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_screen5704135202710"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdname1784862115612">commit</span></b></a></pre>
</li></ol>
<p id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_p193725171510">The application of a traffic policy in the outbound direction globally is not supported by the <span>CE6885-LL (low latency mode)</span>. That is, only the <strong id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_b1077275910479">inbound</strong> parameter is supported, and the <strong id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_b5746182104814">outbound</strong> parameter is not supported by the <span>CE6885-LL (low latency mode)</span>.</p>
</li><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_choice74001730152313">Apply a traffic policy to an interface.<ol type="a" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_ol1401330162315"><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_li640103015231">Enter the interface view.<pre class="screen" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_screen1327345082015"><a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdname6642163772919">interface</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_varname1064283713294">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_varname16421374294">interface-number</span></i></pre>
</li><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_li4885132412574">Apply a traffic policy to the interface.<pre class="screen" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_screen6671142133019"><a href="cmdqueryname=traffic-policy"><b><span class="cmdname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdname313925976175340">traffic-policy</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_varname517264962175340">policy-name</span></i> { <strong><span id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdparmname584570000175340">inbound</span></strong> | <strong><span id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdparmname419941659175340">outbound</span></strong> }</pre>
<p id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_p178136269503">The application of a traffic policy in the outbound direction globally is not supported by the <span>CE6885-LL (low latency mode)</span>. That is, only the <strong id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_b132271720122713">inbound</strong> parameter is supported, and the <strong id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_b1622702017275">outbound</strong> parameter is not supported by the <span>CE6885-LL (low latency mode)</span>.</p>
</li><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_li93511129185920">Exit the interface view.<pre class="screen" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_screen15351129145912"><a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdname103514293593">quit</span></b></a></pre>
</li><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_li850218316583">Commit the configuration.<pre class="screen" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_screen1450210320581"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdname350215365820">commit</span></b></a></pre>
</li></ol>
</li><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_choice18302189004">Apply a traffic policy to a VLAN.<ol type="a" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_ol12302149302"><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_li143021491905">Create a VLAN and enter the VLAN view.<pre class="screen" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_screen3381105313301"><a href="cmdqueryname=vlan"><b><span class="cmdname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdname1698748671175340">vlan</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_varname1888367191175340">vlan-id</span></i></pre>
</li><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_li1330229104">Apply a traffic policy to the VLAN.<pre class="screen" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_screen0303591906"><a href="cmdqueryname=traffic-policy"><b><span class="cmdname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdname14303139406">traffic-policy</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_varname193031896012">policy-name</span></i> { <strong><span id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdparmname2303149407">inbound</span></strong> | <strong><span id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdparmname6303891306">outbound</span></strong> }</pre>
<p id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_p0219194210511">The application of a traffic policy in the outbound direction globally is not supported by the <span>CE6885-LL (low latency mode)</span>. That is, only the <strong id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_b1612922316282">inbound</strong> parameter is supported, and the <strong id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_b71291723162814">outbound</strong> parameter is not supported by the <span>CE6885-LL (low latency mode)</span>.</p>
</li><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_li153031292008">Exit the VLAN view.<pre class="screen" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_screen03031391205"><a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdname18303179209">quit</span></b></a></pre>
</li><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_li1630318911013">Commit the configuration.<pre class="screen" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_screen43031898019"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdname183032091603">commit</span></b></a></pre>
</li></ol>
</li><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_choice163839114617">Apply a traffic policy to a VPN instance.<ol type="a" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_ol3996175818214"><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_li97844334916">Create a VPN instance and enter the VPN instance view.<pre class="screen" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_screen278413324914"><a href="cmdqueryname=ip+vpn-instance"><b><span class="cmdname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdname12998458224">ip vpn-instance</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_varname999915583220">vpn-instance-name</span></i></pre>
</li><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_li1679315336494">Apply a traffic policy to the VPN instance.<pre class="screen" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_screen17793333114918"><a href="cmdqueryname=traffic-policy"><b><span class="cmdname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdname12793733134912">traffic-policy</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_varname87937334494">policy-name</span></i> <strong><span id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdparmname107932336499">inbound</span></strong></pre>
<div class="note" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_note1951611264182"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_p20630164181112">A traffic policy can be applied to a VPN instance only in the inbound direction.</p>
</div></div>
</li><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_li1033231810504">Exit the VPN instance view.<pre class="screen" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_screen33321918105011"><a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdname153324186507">quit</span></b></a></pre>
</li><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_li3332718155012">Commit the configuration.<pre class="screen" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_screen733281865010"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdname10332518185018">commit</span></b></a></pre>
</li></ol>
</li><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_choice112066168582">Apply a traffic policy to a BD.<ol type="a" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_ol7206141605812"><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_li220611160587">Create a BD and enter the BD view.<pre class="screen" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_screen6206111616587"><a href="cmdqueryname=bridge-domain"><b><span class="cmdname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdname020671655818">bridge-domain</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_varname320711614582">bd-id</span></i></pre>
</li><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_li2020731695815">Apply a traffic policy to the BD.<pre class="screen" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_screen320781685819"><a href="cmdqueryname=traffic-policy"><b><span class="cmdname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdname220791610588">traffic-policy</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_varname720710168582">policy-name</span></i> { <strong><span id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdparmname162071416175810">inbound</span></strong> | <strong><span id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdparmname1420761617587">outbound</span></strong> }</pre>
<p id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_p1420761645820">After a traffic policy is applied to a BD, the traffic policy takes effect for incoming or outgoing packets that belong to the BD.</p>
</li><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_li02074169588">Exit the BD view.<pre class="screen" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_screen122074161588"><a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdname112071168582">quit</span></b></a></pre>
</li><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_li8207316125818">Commit the configuration.<pre class="screen" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_screen182071116185819"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdname1420761605817">commit</span></b></a> </pre>
</li></ol>
<p id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_p1172992117269">For the CE6820H, CE6820H-K, CE6820S, and <span>CE6885-LL (low latency mode)</span>, a traffic policy cannot be applied in the BD view.</p>
</li><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_choice79560582021">Apply a traffic policy to a QoS group.<p id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_p1358312544232"><a name="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_choice79560582021"></a><a name="en-us_task_0000001563993061_en-us_task_0000001513047058_choice79560582021"></a>If the same traffic policy needs to be applied to multiple VLANs and interfaces or multiple traffic classifiers for matching packets from different source IP addresses need to be bound to the same traffic policy, you are advised to add the VLANs, interfaces, or source IP addresses to the same QoS group and apply the traffic policy to the QoS group.</p>
<ol type="a" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_ol1195615819217"><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_li695765810216">Create a QoS group and enter the QoS group view.<pre class="screen" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_screen1995710588218"><a href="cmdqueryname=qos+group"><b><span class="cmdname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdname18957185812211">qos group</span></b></a> <em id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_i1871614451911">group-name</em></pre>
</li><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_li134291732113519">Add a specified interface, VLAN, or source IP address to the QoS group.<pre class="screen" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_screen72011948183619"><strong id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_b494293794020"><a href="cmdqueryname=group-member"><b><span class="cmdname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdname112281223411">group-member</span></b></a> </strong>{ <strong id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_b494220376403"><strong><span id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdparmname1764102764116">interface</span></strong> </strong>{ <em id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_i116821032370">interface-type</em><em id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_i7682173103711"> interface-num</em> | <em id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_i76823310373"><i><span class="varname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_varname1461805124215">interface-name</span></i></em> [ <strong id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_b56828353715">to</strong><em id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_i1868213315377"> interface-type</em><em id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_i12682143103716"> interface-num</em> | <em id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_i1868293103713"><i><span class="varname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_varname19468714134218">interface-name</span></i></em> ] } &amp;&lt;1-8&gt; | <strong id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_b179259114013"><strong><span id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdparmname584919480413">vlan</span></strong> </strong>{ <em id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_i19459204019"><i><span class="varname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_varname877812214213">vlanid</span></i></em> [ <strong id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_b11914596402">to</strong><em id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_i39159194019"> <i><span class="varname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_varname2614103624220">vlanid</span></i></em> ] } &amp;&lt;1-8&gt; | <strong id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_b7269199194117"><strong><span id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdparmname165561754174110">ip source</span></strong> </strong><em id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_i162696914413"><i><span class="varname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_varname2027684112429">ip-address</span></i></em> { <em id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_i42694914419"><i><span class="varname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_varname1765554764220">ip-address-wildcard</span></i></em> | <em id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_i92691591417"><i><span class="varname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_varname5644454154214">ip-address-netmask</span></i></em> } }</pre>
<p id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_p20182191164613">Only one type of member can be specified.</p>
<p id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_p4118144143813">Only the <span>CE6866, CE6860-SAN, CE6866K, CE6860-HAM, CE8851-32CQ8DQ-P, CE8850-SAN, CE8851K, CE8850-HAM</span> and <span>CE6820H, CE6820H-K, CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6820S</span> support the configuration of adding a specified source IP address to a QoS group, that is, <strong id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_b169390219414">group-member</strong> <strong id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_b129393211147">ip source</strong>.</p>
</li><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_li895715585219">Apply a traffic policy to the QoS group.<pre class="screen" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_screen5957115813213"><a href="cmdqueryname=traffic-policy"><b><span class="cmdname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdname195714588219">traffic-policy</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_varname49576581726">policy-name</span></i> { <strong><span id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdparmname11957155813213">inbound</span></strong> | <strong><span id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdparmname12957105810218">outbound</span></strong> }</pre>
<p id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_p58539311932">The application of a traffic policy in the outbound direction is not supported by the <span>CE6885-LL (low latency mode)</span>. That is, only the <strong id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_b155114448294">inbound</strong> parameter is supported, and the <strong id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_b145111844112918">outbound</strong> parameter is not supported by the <span>CE6885-LL (low latency mode)</span>.</p>
</li><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_li169579581724">Exit the QoS group view.<pre class="screen" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_screen49571858626"><a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdname1895755818217">quit</span></b></a></pre>
</li><li id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_li12957175817213">Commit the configuration.<pre class="screen" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_screen99574581127"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001563889761__en-us_task_0000001563993061_en-us_task_0000001513047058_cmdname3957205811217">commit</span></b></a></pre>
</li></ol>
</li></ul>
</li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_qos_trafficpolicy_trafficshaping_cfg_0030.html">Configuring Traffic Policing
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_qos_trafficpolicy_trafficshaping_cfg_0032.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>