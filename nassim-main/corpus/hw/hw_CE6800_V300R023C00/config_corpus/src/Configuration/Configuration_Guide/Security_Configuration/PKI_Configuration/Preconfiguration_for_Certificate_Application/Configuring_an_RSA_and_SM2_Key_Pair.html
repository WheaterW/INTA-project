
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an RSA/SM2 Key Pair">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="security_pki_cfg_0041.html">
<meta name="DC.Relation" scheme="URI" content="security_pki_cfg_0014.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="PKI">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security Protection">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="PKI">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security Protection">
<meta name="featurename" content="PKI">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security Protection">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security Protection">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001513165986">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring an RSA/SM2 Key Pair</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001513165986"></a><a name="EN-US_TASK_0000001513165986"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an RSA/SM2 Key Pair</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001513165986__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Local certificates are signed and issued by the CA. A local certificate is a bundle of a public key and a PKI entity. As such, before applying for a local certificate, you must configure the RSA/SM2 key pair to generate public and private keys. The public key is sent by the PKI entity to the CA, and the peer uses this key to encrypt clear text. In contrast, the private key is retained by the PKI entity, which uses it to digitally sign and decrypt the peer's ciphertext.</p>
<p>You can configure an RSA/SM2 key pair using either of the following methods:</p>
<ul><li><p>Create an RSA/SM2 key pair.</p>
<p>You can directly create an RSA/SM2 key pair on the device, without the need to import it to the device memory. During RSA/SM2 key pair creation, the system prompts you to enter the number of bits for the public key, which ranges from 2048 to 4096. A longer public key indicates higher security but slower calculation.</p>
</li><li><p>Import an RSA/SM2 key pair.</p>
<p>To use the RSA/SM2 key pair generated by another PKI entity, upload the RSA/SM2 key pair to the device through FTP or SFTP and then import it to the device memory. Otherwise, the RSA/SM2 key pair does not take effect on the device.</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001513165986__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Configure an RSA/SM2 key pair using either of the following methods.</span><p>
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 1 </b></caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="15%" id="mcps1.3.2.2.2.1.2.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="40%" id="mcps1.3.2.2.2.1.2.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="45%" id="mcps1.3.2.2.2.1.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" rowspan="2" valign="top" width="15%" headers="mcps1.3.2.2.2.1.2.4.1.1 "><p>Create an RSA/SM2 key pair.</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.3.2.2.2.1.2.4.1.2 "><p><a href="cmdqueryname=pki+rsa+local-key-pair+create"><b><span class="cmdname">pki rsa local-key-pair create</span></b></a> <i><span class="varname">key-name</span></i> [ <strong><span>modulus</span></strong> <i><span class="varname">modulus-size</span></i> ] [ <a href="cmdqueryname=exportable"><b><span class="cmdname">exportable</span></b></a> ]</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.3.2.2.2.1.2.4.1.3 "><p>The created RSA key pair can be exported only when the <a href="cmdqueryname=exportable"><b><span class="cmdname">exportable</span></b></a> parameter is specified in the command.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.2.2.2.1.2.4.1.1 "><p><a href="cmdqueryname=pki+sm2+local-key-pair+create"><b><span class="cmdname">pki sm2 local-key-pair create </span></b></a><i><span class="varname">key-name</span></i> [ <strong><span>exportable</span></strong> ]</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.2.2.2.1.2.4.1.2 "><p>The created SM2 key pair can be exported only when the <a href="cmdqueryname=exportable"><b><span class="cmdname">exportable</span></b></a> parameter is specified in the command.</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="2" valign="top" width="15%" headers="mcps1.3.2.2.2.1.2.4.1.1 "><p>Import an RSA/SM2 key pair.</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.3.2.2.2.1.2.4.1.2 "><p><a href="cmdqueryname=pki+import+rsa-key-pair"><b><span class="cmdname">pki import rsa-key-pair</span></b></a> <i><span class="varname">keyname</span></i><span> [ <strong><span>exclude-cert</span></strong> ]</span> { <a href="cmdqueryname=pem"><b><span class="cmdname">pem</span></b></a> | <a href="cmdqueryname=pkcs12"><b><span class="cmdname">pkcs12</span></b></a> } <i><span class="varname">filename</span></i> [ <strong><span>exportable</span></strong> ] [ <a href="cmdqueryname=password"><b><span class="cmdname">password</span></b></a> <i><span class="varname">password</span></i> ]</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.3.2.2.2.1.2.4.1.3 "><p>If the <strong><span>exclude-cert</span></strong> parameter is specified in the command, the certificate in the file will not be imported to the device.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.2.2.2.1.2.4.1.1 "><p><a href="cmdqueryname=pki+import+sm2-key-pair"><b><span class="cmdname">pki import sm2-key-pair </span></b></a><i><span class="varname">keyname</span></i> <strong><span>pem</span></strong> <i><span class="varname">filename</span></i> [ <strong><span>exportable</span></strong> ] <strong><span>signkey</span></strong> <i><span class="varname">signkey-name</span></i> [ <strong><span>certificate</span></strong> <i><span class="varname">certificate-name</span></i> ]</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.2.2.2.1.2.4.1.2 "><p>The imported SM2 key pair can be exported only when the <a href="cmdqueryname=exportable"><b><span class="cmdname">exportable</span></b></a> parameter is specified in the command.</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001513165986__en-us_task_0232035842_en-us_task_0232035842_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001513165986__en-us_task_0232035842_en-us_task_0232035842_zh-cn_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001513165986__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><ul><li>Run the <a href="cmdqueryname=display+pki+rsa+local-key-pair"><b><span class="cmdname">display pki rsa local-key-pair</span></b></a> { <strong><span>pem</span></strong> | <strong><span>pkcs12</span></strong> } <i><span class="varname">file-name</span></i> [ <strong><span>password</span></strong> <i><span class="varname">password</span></i> ] command to check the RSA key pair information.</li><li>Run the <a href="cmdqueryname=display+pki+rsa+local-key-pair"><b><span class="cmdname">display pki rsa local-key-pair</span></b></a> [ <strong><span>name</span></strong> <i><span class="varname">key-name</span></i> ] <strong><span>public</span></strong> command to check the RSA public key information.</li><li>Run the <a href="cmdqueryname=display+pki+sm2+local-key-pair"><b><span class="cmdname">display pki sm2 local-key-pair</span></b></a> [ <strong><span>name</span></strong> <i><span class="varname">key-name</span></i> ] <strong><span>public</span></strong> command to check information about SM2 key pairs and public keys.</li></ul>
</div>
<div class="postreq"><a name="EN-US_TASK_0000001513165986__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Follow-up Procedure</h4>
<div class="p">
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 2 </b></caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="15%" id="mcps1.3.4.1.2.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="40%" id="mcps1.3.4.1.2.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="45%" id="mcps1.3.4.1.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" rowspan="2" valign="top" width="15%" headers="mcps1.3.4.1.2.4.1.1 "><p>Export the specified RSA/SM2 key pair</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.3.4.1.2.4.1.2 "><p><a href="cmdqueryname=pki+export+rsa-key-pair"><b><span class="cmdname">pki export rsa-key-pair</span></b></a> <i><span class="varname">key-name</span></i> [ <a href="cmdqueryname=and-certificate"><b><span class="cmdname">and-certificate</span></b></a> <i><span class="varname">certificate-name</span></i> ] { <a href="cmdqueryname=pem"><b><span class="cmdname">pem</span></b></a> <i><span class="varname">filename</span></i> [ <a href="cmdqueryname=aes"><b><span class="cmdname">aes</span></b></a> ] | <a href="cmdqueryname=pkcs12"><b><span class="cmdname">pkcs12</span></b></a> <i><span class="varname">filename</span></i> } <a href="cmdqueryname=password"><b><span class="cmdname">password</span></b></a> <i><span class="varname">password</span></i></p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.3.4.1.2.4.1.3 "><p>To back up RSA key pairs or use them on other devices, run this command in the system view to export the specified RSA key pair to the device memory. In addition to the RSA key pair, its associated certificate and certificate chain will also be exported. You can then obtain the RSA key pair using FTP or SFTP.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.4.1.2.4.1.1 "><p><a href="cmdqueryname=pki+export+sm2-key-pair"><b><span class="cmdname">pki export sm2-key-pair</span></b></a> <i><span class="varname">keyname</span></i> <strong><span>pem</span></strong> <i><span class="varname">filename</span></i> [ <strong><span>password</span></strong> <i><span class="varname">password</span></i> ]</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.4.1.2.4.1.2 "><p>To back up SM2 key pairs or use them on other devices, run this command in the system view to export the specified SM2 key pair to the device memory. You can then obtain the SM2 key pair using FTP or SFTP.</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="2" valign="top" width="15%" headers="mcps1.3.4.1.2.4.1.1 "><p>Destroy a specified RSA/SM2 key pair</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.3.4.1.2.4.1.2 "><p><a href="cmdqueryname=pki+rsa+local-key-pair+destroy"><b><span class="cmdname">pki rsa local-key-pair destroy</span></b></a> <i><span class="varname">key-name</span></i></p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.3.4.1.2.4.1.3 "><p>When RSA key pairs are leaked, damaged, lost, or unused, run this command in the system view to destroy a specified RSA key pair. After this command is executed, the system deletes the specified RSA key pair.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.4.1.2.4.1.1 "><p><a href="cmdqueryname=pki+sm2+local-key-pair+destroy"><b><span class="cmdname">pki sm2 local-key-pair destroy</span></b></a> <i><span class="varname">key-name</span></i></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.4.1.2.4.1.2 "><p>When SM2 key pairs are leaked, damaged, lost, or unused, run this command in the system view to destroy a specified RSA key pair. After this command is executed, the system deletes the specified SM2 key pair.</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="2" valign="top" width="15%" headers="mcps1.3.4.1.2.4.1.1 "><p>Search for the RSA/SM2 key pair associated with a specific certificate</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.3.4.1.2.4.1.2 "><p><a href="cmdqueryname=pki+match-rsa-key"><b><span class="cmdname">pki match-rsa-key</span></b></a> <strong><span>certificate-filename</span></strong> <i><span class="varname">file-name</span></i></p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.3.4.1.2.4.1.3 "><p>To check the RSA key pair corresponding to a certificate, run this command in the system view to configure a device to search for the RSA key pair associated with a specific certificate.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.4.1.2.4.1.1 "><p><a href="cmdqueryname=pki+match-sm2-key+certificate-filename"><b><span class="cmdname">pki match-sm2-key certificate-filename</span></b></a> <i><span class="varname">file-name</span></i></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.4.1.2.4.1.2 "><p>To check the SM2 key pair corresponding to a certificate, run this command in the system view to configure a device to search for the SM2 key pair associated with a specific certificate.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="security_pki_cfg_0041.html">Preconfiguration for Certificate Application
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="security_pki_cfg_0014.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>