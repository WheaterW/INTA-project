
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an SSH User">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_ssh_cfg_0008.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_ssh_cfg_0010.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_ssh_cfg_0012.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="SSH">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="SSH">
<meta name="featuretype" content="Security">
<meta name="featurename" content="SSH">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security Protection">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001513153334">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring an SSH User</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001513153334"></a><a name="EN-US_TASK_0000001513153334"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an SSH User</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001513153334__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p" id="EN-US_TASK_0000001513153334__p429788141175336">Configuring an SSH user includes the following tasks: creating an SSH user and configuring an authentication mode for the SSH user. The authentication modes supported by the device include RSA, password, password-rsa, DSA, password-dsa, ECC, password-ecc, password-x509v3-rsa, x509v3-rsa, sm2, password-sm2, and all.<ul id="EN-US_TASK_0000001513153334__en-us_task_0141109639_ul854838391175329"><li id="EN-US_TASK_0000001513153334__en-us_task_0141109639_li369373862175329">password-rsa: The password authentication and RSA authentication requirements must be met.</li><li id="EN-US_TASK_0000001513153334__en-us_task_0141109639_li14890094175329">password-dsa: The password authentication and DSA authentication requirements must be met.</li><li id="EN-US_TASK_0000001513153334__en-us_task_0141109639_li589235864175329">password-ecc: The password authentication and ECC authentication requirements must be met.</li><li id="EN-US_TASK_0000001513153334__li639225418269">password-x509v3-rsa: The password authentication and X509V3-SSH-RSA authentication requirements must be met.</li><li id="EN-US_TASK_0000001513153334__li17496133415387">password-sm2: The password authentication and SM2 authentication requirements must be met.</li><li id="EN-US_TASK_0000001513153334__en-us_task_0141109639_li1860985234175329">all: The requirements of any one of the authentication modes must be met.</li></ul>
</div>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>For security purposes, do not use the RSA algorithm whose length is less than 3072 digits. You are advised to use the ECC authentication algorithm instead.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001513153334__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li id="EN-US_TASK_0000001513153334__step660131893010"><span id="EN-US_TASK_0000001513153334__cmd5601718193016">Enter the system view.</span><p><pre class="screen" id="EN-US_TASK_0000001513153334__screen3111641143010"><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0000001513153334__cmdname7110153274918">system-view</span></b></a></pre>
</p></li><li id="EN-US_TASK_0000001513153334__step0277932163014"><span id="EN-US_TASK_0000001513153334__cmd10277332183013">Create an SSH user.</span><p><pre class="screen" id="EN-US_TASK_0000001513153334__screen14501177173110"><a href="cmdqueryname=ssh+user"><b><span class="cmdname" id="EN-US_TASK_0000001513153334__cmdname1391034031175336">ssh user</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001513153334__varname382275364175336">user-name</span></i></pre>
<p id="EN-US_TASK_0000001513153334__p113861506244">By default, no SSH user is created.</p>
</p></li><li id="EN-US_TASK_0000001513153334__step1594728203014"><span id="EN-US_TASK_0000001513153334__cmd13208131116389">Configure an authentication mode for the SSH user.</span><p><pre class="screen" id="EN-US_TASK_0000001513153334__screen328181910212"><a href="cmdqueryname=ssh+user"><b><span class="cmdname" id="EN-US_TASK_0000001513153334__cmdname102811119162117">ssh user</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001513153334__varname9281919122120">user-name</span></i> <strong><span id="EN-US_TASK_0000001513153334__cmdparmname20281719112113">authentication-type</span></strong> { <strong><span id="EN-US_TASK_0000001513153334__cmdparmname16282319182112">password</span></strong> | <strong><span id="EN-US_TASK_0000001513153334__cmdparmname19282191917217">rsa</span></strong> | <strong><span id="EN-US_TASK_0000001513153334__cmdparmname128291911212">password-rsa</span></strong> | <strong><span id="EN-US_TASK_0000001513153334__cmdparmname02821419142112">all</span></strong> | <strong><span id="EN-US_TASK_0000001513153334__cmdparmname72824192217">dsa</span></strong> | <strong><span id="EN-US_TASK_0000001513153334__cmdparmname528251914218">password-dsa</span></strong> | <strong><span id="EN-US_TASK_0000001513153334__cmdparmname19282819142114">ecc</span></strong> | <strong><span id="EN-US_TASK_0000001513153334__cmdparmname4282151952110">password-ecc</span></strong> | <strong id="EN-US_TASK_0000001513153334__b1674231910569">sm2</strong> | <strong id="EN-US_TASK_0000001513153334__b18329923105611"><strong><span id="EN-US_TASK_0000001513153334__cmdparmname17464535164912">password-sm2</span></strong></strong> | <strong><span id="EN-US_TASK_0000001513153334__cmdparmname815021616242">password-x509v3-rsa</span></strong> | <strong><span id="EN-US_TASK_0000001513153334__cmdparmname876195182312">x509v3-rsa</span></strong> }</pre>
<p id="EN-US_TASK_0000001513153334__p61381048192410">By default, no authentication type is configured for an SSH user.</p>
<p id="EN-US_TASK_0000001513153334__p113699497175336">If no SSH user is configured using the <a href="cmdqueryname=ssh+user"><b><span class="cmdname" id="EN-US_TASK_0000001513153334__en-us_task_0141109639_cmdname406914850175329">ssh user</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001513153334__en-us_task_0141109639_varname730560228175329">user-name</span></i> command, run the <a href="cmdqueryname=ssh+authentication-type+default+password"><b><span class="cmdname" id="EN-US_TASK_0000001513153334__en-us_task_0141109639_cmdname989596832175329">ssh authentication-type default password</span></b></a> command to configure password authentication as the default authentication mode. In this case, you only need to configure AAA users. This helps to simplify the configuration if there are a large number of users.</p>
<ul id="EN-US_TASK_0000001513153334__ul598728806175336"><li id="EN-US_TASK_0000001513153334__en-us_task_0141109639_li818829253175329">The password authentication mode is implemented based on AAA. When the password, password-rsa<span id="EN-US_TASK_0000001513153334__ph74883444217">, password-x509v3-rsa, password-dsa, password-ecc</span>, or password-sm2 mode is used to log in to the device, you need to create a local user in the AAA view with the same name as the SSH user.</li><li id="EN-US_TASK_0000001513153334__en-us_task_0141109639_li2101351474175329">If an SSH user is authenticated using the RSA, DSA, SM2, or ECC authentication mode, both the server and client need to generate the local RSA, DSA, SM2, or ECC key pair (for details, see <a href="galaxy_ssh_cfg_0009.html">Configuring the SSH Server Function and Related Parameters</a>) and have each other's public key configured locally.</li></ul>
<p id="EN-US_TASK_0000001513153334__p1583903317577">Configure the authentication mode based on the preceding configuration. For details, see <a href="#EN-US_TASK_0000001513153334__table946042985217">Table 1</a>.</p>

<div class="tableBorder"><a name="EN-US_TASK_0000001513153334__table946042985217"></a><a name="table946042985217"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TASK_0000001513153334__table946042985217" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Configuration in different authentication modes</caption><thead align="left"><tr id="EN-US_TASK_0000001513153334__row3461202935211"><th align="left" class="cellrowborder" valign="top" width="50%" id="mcps1.3.2.3.2.6.2.3.1.1" liSelected="liSelected"><p id="EN-US_TASK_0000001513153334__p19461329125218">Authentication Mode</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="50%" id="mcps1.3.2.3.2.6.2.3.1.2" liSelected="liSelected"><p id="EN-US_TASK_0000001513153334__p1746182919527">Configuration Notes</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_TASK_0000001513153334__row7461142919526"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.3.2.6.2.3.1.1 "><p id="EN-US_TASK_0000001513153334__p44611729195219">password</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.3.2.6.2.3.1.2 "><p id="EN-US_TASK_0000001513153334__p14747221165313">Create an AAA user with the same username as the SSH user. For details, see <a href="#EN-US_TASK_0000001513153334__login034E5BF9">Table 2</a>.</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001513153334__row17461132919529"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.3.2.6.2.3.1.1 "><p id="EN-US_TASK_0000001513153334__p7461162919522">RSA, DSA, ECC, or SM2 authentication</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.3.2.6.2.3.1.2 "><p id="EN-US_TASK_0000001513153334__p1846172965218">Configure the device to generate a local RSA, DSA, SM2, or ECC key pair. For details, see <a href="#EN-US_TASK_0000001513153334__login03552A29">Table 3</a>.</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001513153334__row11461629205210"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.3.2.6.2.3.1.1 "><p id="EN-US_TASK_0000001513153334__p16461182965211">password-rsa, password-dsa, password-sm2, or password-ecc authentication</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.3.2.6.2.3.1.2 "><p id="EN-US_TASK_0000001513153334__p4461192975217">Create an AAA user with the same username as the SSH user and generate a local RSA, DSA, SM2, or ECC key pair. For details, see <a href="#EN-US_TASK_0000001513153334__login034E5BF9">Table 2</a> and <a href="#EN-US_TASK_0000001513153334__login03552A29">Table 3</a>.</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001513153334__row553212222610"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.3.2.6.2.3.1.1 "><p id="EN-US_TASK_0000001513153334__p11931325569"><span><span>x509v3-rsa</span></span></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.3.2.6.2.3.1.2 "><p id="EN-US_TASK_0000001513153334__p1319411252069">Bind the SSH user to the PKI realm. For details, see <a href="#EN-US_TASK_0000001513153334__table1953610297348">Table 4</a>.</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001513153334__row1540508115612"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.3.2.6.2.3.1.1 "><p id="EN-US_TASK_0000001513153334__p440558205611"><span><span>password-x509v3-rsa</span></span></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.3.2.6.2.3.1.2 "><p id="EN-US_TASK_0000001513153334__p11405286563">Create an AAA user with the same username as the SSH user and bind the AAA user to the PKI realm. For details, see <a href="#EN-US_TASK_0000001513153334__login034E5BF9">Table 2</a> and <a href="#EN-US_TASK_0000001513153334__table1953610297348">Table 4</a>.</p>
</td>
</tr>
</tbody>
</table>
</div>

<div class="tableBorder"><a name="EN-US_TASK_0000001513153334__login034E5BF9"></a><a name="login034E5BF9"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TASK_0000001513153334__login034E5BF9" frame="hsides" border="1" rules="all"><caption><b>Table 2 </b>Creating a local user with the same name as the SSH user in the AAA view</caption><thead align="left"><tr id="EN-US_TASK_0000001513153334__row1685817500175336" valign="middle"><th align="center" class="cellrowborder" valign="middle" width="33.33333333333333%" id="mcps1.3.2.3.2.7.2.4.1.1" liSelected="liSelected"><p id="EN-US_TASK_0000001513153334__entry350130365175336p0">Step</p>
</th>
<th align="center" class="cellrowborder" valign="middle" width="33.33333333333333%" id="mcps1.3.2.3.2.7.2.4.1.2" liSelected="liSelected"><p id="EN-US_TASK_0000001513153334__entry549948196175336p0">Command</p>
</th>
<th align="center" class="cellrowborder" valign="middle" width="33.33333333333333%" id="mcps1.3.2.3.2.7.2.4.1.3" liSelected="liSelected"><p id="EN-US_TASK_0000001513153334__entry1780601707175336p0">Description</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_TASK_0000001513153334__row2011491827175336"><td class="cellrowborder" valign="middle" width="33.33333333333333%" headers="mcps1.3.2.3.2.7.2.4.1.1 "><p id="EN-US_TASK_0000001513153334__p70890661175336">Enter the system view.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.33333333333333%" headers="mcps1.3.2.3.2.7.2.4.1.2 "><p id="EN-US_TASK_0000001513153334__entry1601000333175336p0"><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0000001513153334__cmdname42499821175336">system-view</span></b></a></p>
</td>
<td class="cellrowborder" valign="middle" width="33.33333333333333%" headers="mcps1.3.2.3.2.7.2.4.1.3 "><p id="EN-US_TASK_0000001513153334__entry2018497703175336p0">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001513153334__row1649545235175336" valign="middle"><td class="cellrowborder" valign="middle" width="33.33333333333333%" headers="mcps1.3.2.3.2.7.2.4.1.1 "><p id="EN-US_TASK_0000001513153334__p1648100929175336">Enter the AAA view.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.33333333333333%" headers="mcps1.3.2.3.2.7.2.4.1.2 "><p id="EN-US_TASK_0000001513153334__entry1002828866175336p0"><a href="cmdqueryname=aaa"><b><span class="cmdname" id="EN-US_TASK_0000001513153334__cmdname1093089206175336">aaa</span></b></a></p>
</td>
<td class="cellrowborder" valign="middle" width="33.33333333333333%" headers="mcps1.3.2.3.2.7.2.4.1.3 "><p id="EN-US_TASK_0000001513153334__entry1476487451175336p0">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001513153334__row396140650175336" valign="middle"><td class="cellrowborder" valign="middle" width="33.33333333333333%" headers="mcps1.3.2.3.2.7.2.4.1.1 "><p id="EN-US_TASK_0000001513153334__p1026067449175336">Configure the local username and password.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.33333333333333%" headers="mcps1.3.2.3.2.7.2.4.1.2 "><p id="EN-US_TASK_0000001513153334__p191901715183010"><span><span><a href="cmdqueryname=local-user"><b><span class="cmdname" id="EN-US_TASK_0000001513153334__cmdname19190191573016">local-user</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001513153334__varname121901215103019">user-name</span></i> <strong><span id="EN-US_TASK_0000001513153334__cmdparmname919091510307">password</span></strong> <strong><span id="EN-US_TASK_0000001513153334__cmdparmname719181511308">irreversible-cipher</span></strong> <i><span class="varname" id="EN-US_TASK_0000001513153334__varname13191101523015">password</span></i></span></span></p>
</td>
<td class="cellrowborder" valign="middle" width="33.33333333333333%" headers="mcps1.3.2.3.2.7.2.4.1.3 "><p id="EN-US_TASK_0000001513153334__p1808372073175335">For security purposes, change the password periodically.</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001513153334__row722472456175336" valign="middle"><td class="cellrowborder" valign="middle" width="33.33333333333333%" headers="mcps1.3.2.3.2.7.2.4.1.1 "><p id="EN-US_TASK_0000001513153334__p1917524584175336">Configure a service type for the local user.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.33333333333333%" headers="mcps1.3.2.3.2.7.2.4.1.2 "><p id="EN-US_TASK_0000001513153334__entry236689325175336p0"><a href="cmdqueryname=local-user"><b><span class="cmdname" id="EN-US_TASK_0000001513153334__cmdname897771031175336">local-user</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001513153334__varname292320120175336">user-name</span></i> <strong><span id="EN-US_TASK_0000001513153334__cmdparmname980735974175336">service-type ssh</span></strong></p>
</td>
<td class="cellrowborder" valign="middle" width="33.33333333333333%" headers="mcps1.3.2.3.2.7.2.4.1.3 "><p id="EN-US_TASK_0000001513153334__entry1336872415175336p0">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001513153334__row1639112458109"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.2.3.2.7.2.4.1.1 "><p id="EN-US_TASK_0000001513153334__p539214521017">Configure a privilege level for the local user.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.2.3.2.7.2.4.1.2 "><p id="EN-US_TASK_0000001513153334__p10392745121010"><a href="cmdqueryname=local-user"><b><span class="cmdname" id="EN-US_TASK_0000001513153334__cmdname69075572106">local-user</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001513153334__varname290716577102">user-name</span></i> <strong><span id="EN-US_TASK_0000001513153334__cmdparmname17907185720103">privilege level</span></strong> <i><span class="varname" id="EN-US_TASK_0000001513153334__varname1390716578109">level</span></i></p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.2.3.2.7.2.4.1.3 "><p id="EN-US_TASK_0000001513153334__p19392154531013">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001513153334__row1293363810175336" valign="middle"><td class="cellrowborder" valign="middle" width="33.33333333333333%" headers="mcps1.3.2.3.2.7.2.4.1.1 "><p id="EN-US_TASK_0000001513153334__p795526164175336">Return to the system view.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.33333333333333%" headers="mcps1.3.2.3.2.7.2.4.1.2 "><p id="EN-US_TASK_0000001513153334__entry996000431175336p0"><a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0000001513153334__cmdname144215452175336">quit</span></b></a></p>
</td>
<td class="cellrowborder" valign="middle" width="33.33333333333333%" headers="mcps1.3.2.3.2.7.2.4.1.3 "><p id="EN-US_TASK_0000001513153334__entry158832935175336p0">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001513153334__row1639875217521"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.2.3.2.7.2.4.1.1 "><p id="EN-US_TASK_0000001513153334__p1396052175213">Commit the configuration.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.2.3.2.7.2.4.1.2 "><p id="EN-US_TASK_0000001513153334__p739655215218"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001513153334__cmdname63961152185211">commit</span></b></a></p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.2.3.2.7.2.4.1.3 "><p id="EN-US_TASK_0000001513153334__p1139685215529">-</p>
</td>
</tr>
</tbody>
</table>
</div>

<div class="tableBorder"><a name="EN-US_TASK_0000001513153334__login03552A29"></a><a name="login03552A29"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TASK_0000001513153334__login03552A29" frame="hsides" border="1" rules="all"><caption><b>Table 3 </b>Configuring the local RSA<span>, DSA, SM2</span><span>, or ECC</span> key for the SSH user</caption><thead align="left"><tr id="EN-US_TASK_0000001513153334__row1177766956175336" valign="middle"><th align="center" class="cellrowborder" valign="middle" width="33.333333333333336%" id="mcps1.3.2.3.2.8.2.4.1.1" liSelected="liSelected"><p id="EN-US_TASK_0000001513153334__entry730895624175336p0">Step</p>
</th>
<th align="center" class="cellrowborder" valign="middle" width="33.29332933293329%" id="mcps1.3.2.3.2.8.2.4.1.2" liSelected="liSelected"><p id="EN-US_TASK_0000001513153334__entry995272471175336p0">Command</p>
</th>
<th align="center" class="cellrowborder" valign="middle" width="33.373337333733375%" id="mcps1.3.2.3.2.8.2.4.1.3" liSelected="liSelected"><p id="EN-US_TASK_0000001513153334__entry261567511175336p0">Description</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_TASK_0000001513153334__row363297063175336"><td class="cellrowborder" valign="middle" width="33.333333333333336%" headers="mcps1.3.2.3.2.8.2.4.1.1 "><p id="EN-US_TASK_0000001513153334__p731485081175336">Enter the system view.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.29332933293329%" headers="mcps1.3.2.3.2.8.2.4.1.2 "><p id="EN-US_TASK_0000001513153334__entry665429973175336p0"><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0000001513153334__cmdname1934206282175336">system-view</span></b></a></p>
</td>
<td class="cellrowborder" valign="middle" width="33.373337333733375%" headers="mcps1.3.2.3.2.8.2.4.1.3 "><p id="EN-US_TASK_0000001513153334__entry1937604266175336p0">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001513153334__row464582584175336"><td class="cellrowborder" valign="middle" width="33.333333333333336%" headers="mcps1.3.2.3.2.8.2.4.1.1 "><p id="EN-US_TASK_0000001513153334__p149295401175336">Configure an authentication type for the SSH connection.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.29332933293329%" headers="mcps1.3.2.3.2.8.2.4.1.2 "><p id="EN-US_TASK_0000001513153334__entry1234463120175336p0"><a href="cmdqueryname=ssh+authorization-type+default"><b><span class="cmdname" id="EN-US_TASK_0000001513153334__cmdname782144173175336">ssh authorization-type default</span></b></a> { <strong id="EN-US_TASK_0000001513153334__b155541616175318">aaa</strong> |<strong><span id="EN-US_TASK_0000001513153334__cmdparmname1809540176175336"> root</span></strong> }</p>
</td>
<td class="cellrowborder" valign="middle" width="33.373337333733375%" headers="mcps1.3.2.3.2.8.2.4.1.3 "><p id="EN-US_TASK_0000001513153334__p951725328175336">By default, the authentication type of the SSH connection is AAA.</p>
<div class="p" id="EN-US_TASK_0000001513153334__p1213219604175336">When the authentication type is AAA, only the password authentication mode can be configured. If the public key authentication mode is used, perform either of the following operations:<ul id="EN-US_TASK_0000001513153334__ul519880115175336"><li id="EN-US_TASK_0000001513153334__li916363275175336">Run this command with the authentication type set to <strong id="EN-US_TASK_0000001513153334__b5548856121012">root</strong>.</li><li id="EN-US_TASK_0000001513153334__li1404606426175336">In the AAA view, create a local user with the same name as the SSH user.</li></ul>
</div>
</td>
</tr>
<tr id="EN-US_TASK_0000001513153334__row496928785175336" valign="middle"><td class="cellrowborder" valign="middle" width="33.333333333333336%" headers="mcps1.3.2.3.2.8.2.4.1.1 "><p id="EN-US_TASK_0000001513153334__p1498753307175336">Enter the RSA, SM2<span>, DSA, or ECC</span> public key view.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.29332933293329%" headers="mcps1.3.2.3.2.8.2.4.1.2 "><p id="EN-US_TASK_0000001513153334__p274892730175336"><a href="cmdqueryname=rsa+peer-public-key"><b><span class="cmdname" id="EN-US_TASK_0000001513153334__cmdname884788413175336">rsa peer-public-key</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001513153334__varname1888276198175336">key-name</span></i><span> [ <strong><span id="EN-US_TASK_0000001513153334__cmdparmname688503115175336">encoding-type</span></strong> <em id="EN-US_TASK_0000001513153334__i17267132353012">enc-type</em> ]</span></p>
<p id="EN-US_TASK_0000001513153334__p323809845175336">or</p>
<p id="EN-US_TASK_0000001513153334__p1697116595175336"><a href="cmdqueryname=dsa+peer-public-key"><b><span class="cmdname" id="EN-US_TASK_0000001513153334__cmdname560812711175336">dsa peer-public-key</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001513153334__varname399915260175336">key-name</span></i> <strong><span id="EN-US_TASK_0000001513153334__cmdparmname1896250574175336">encoding-type</span></strong> <em id="EN-US_TASK_0000001513153334__i10781933163020">enc-type</em></p>
<p id="EN-US_TASK_0000001513153334__p1457833039175336">or</p>
<p id="EN-US_TASK_0000001513153334__p927906660175336"><a href="cmdqueryname=ecc+peer-public-key"><b><span class="cmdname" id="EN-US_TASK_0000001513153334__cmdname300990106175336">ecc peer-public-key</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001513153334__varname46487016175336">key-name</span></i> <span>[ <strong><span id="EN-US_TASK_0000001513153334__cmdparmname2091991917381">encoding-type</span></strong> <em id="EN-US_TASK_0000001513153334__i8919161913813">enc-type</em> ]</span></p>
<p id="EN-US_TASK_0000001513153334__p17839143484111">or</p>
<p id="EN-US_TASK_0000001513153334__p13139153754115"><strong id="EN-US_TASK_0000001513153334__b6462694213"><a href="cmdqueryname=sm2+peer-public-key"><b><span class="cmdname" id="EN-US_TASK_0000001513153334__cmdname14143224429">sm2 peer-public-key</span></b></a></strong> <i><span class="varname" id="EN-US_TASK_0000001513153334__varname356428518">key-name</span></i></p>
</td>
<td class="cellrowborder" valign="middle" width="33.373337333733375%" headers="mcps1.3.2.3.2.8.2.4.1.3 "><p id="EN-US_TASK_0000001513153334__p1457665851713">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001513153334__row455920091175336" valign="middle"><td class="cellrowborder" valign="middle" width="33.333333333333336%" headers="mcps1.3.2.3.2.8.2.4.1.1 "><p id="EN-US_TASK_0000001513153334__p548132034175336">Enter the public key editing view.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.29332933293329%" headers="mcps1.3.2.3.2.8.2.4.1.2 "><p id="EN-US_TASK_0000001513153334__entry334983628175336p0"><a href="cmdqueryname=public-key-code+begin"><b><span class="cmdname" id="EN-US_TASK_0000001513153334__cmdname1515197009175336">public-key-code begin</span></b></a></p>
</td>
<td class="cellrowborder" valign="middle" width="33.373337333733375%" headers="mcps1.3.2.3.2.8.2.4.1.3 "><p id="EN-US_TASK_0000001513153334__entry374511829175336p0">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001513153334__row1670188829175336" valign="middle"><td class="cellrowborder" valign="middle" width="33.333333333333336%" headers="mcps1.3.2.3.2.8.2.4.1.1 "><p id="EN-US_TASK_0000001513153334__p564982021175336">Edit the public key.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.29332933293329%" headers="mcps1.3.2.3.2.8.2.4.1.2 "><p id="EN-US_TASK_0000001513153334__entry25997499175336p0"><em id="EN-US_TASK_0000001513153334__i1000785352175336">hex-data</em></p>
</td>
<td class="cellrowborder" valign="middle" width="33.373337333733375%" headers="mcps1.3.2.3.2.8.2.4.1.3 "><ul id="EN-US_TASK_0000001513153334__ul1550173165175336"><li id="EN-US_TASK_0000001513153334__li779518282175336">The public key must be a hexadecimal character string in the public key encoding format, and generated by SSH client software. For detailed operations, see the help documentation for the SSH client software.</li><li id="EN-US_TASK_0000001513153334__li1347607772175336">You need to enter the RSA, DSA, SM2, or ECC public key on the device functioning as the SSH server.</li></ul>
</td>
</tr>
<tr id="EN-US_TASK_0000001513153334__row1263420720175336" valign="middle"><td class="cellrowborder" valign="middle" width="33.333333333333336%" headers="mcps1.3.2.3.2.8.2.4.1.1 "><p id="EN-US_TASK_0000001513153334__p436971820175336">Exit the public key editing view.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.29332933293329%" headers="mcps1.3.2.3.2.8.2.4.1.2 "><p id="EN-US_TASK_0000001513153334__entry1806570756175336p0"><a href="cmdqueryname=public-key-code+end"><b><span class="cmdname" id="EN-US_TASK_0000001513153334__cmdname1910894806175336">public-key-code end</span></b></a></p>
</td>
<td class="cellrowborder" valign="middle" width="33.373337333733375%" headers="mcps1.3.2.3.2.8.2.4.1.3 "><ul id="EN-US_TASK_0000001513153334__ul1854854710175336"><li id="EN-US_TASK_0000001513153334__li1890502995175336">If <em id="EN-US_TASK_0000001513153334__i612412261413">hex-data</em> is invalid, the key cannot be generated after you run this command.</li><li id="EN-US_TASK_0000001513153334__li1390818407175336">If the key specified by <i><span class="varname" id="EN-US_TASK_0000001513153334__varname2015213971512">key-name</span></i> has been deleted in another view, the system displays a message indicating that the key does not exist and directly returns to the system view when you run this command.</li></ul>
</td>
</tr>
<tr id="EN-US_TASK_0000001513153334__row178888378175336" valign="middle"><td class="cellrowborder" valign="middle" width="33.333333333333336%" headers="mcps1.3.2.3.2.8.2.4.1.1 "><p id="EN-US_TASK_0000001513153334__p1064372124175336">Return to the system view from the public key view.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.29332933293329%" headers="mcps1.3.2.3.2.8.2.4.1.2 "><p id="EN-US_TASK_0000001513153334__entry1482691125175336p0"><a href="cmdqueryname=peer-public-key+end"><b><span class="cmdname" id="EN-US_TASK_0000001513153334__cmdname189498087175336">peer-public-key end</span></b></a></p>
</td>
<td class="cellrowborder" valign="middle" width="33.373337333733375%" headers="mcps1.3.2.3.2.8.2.4.1.3 "><p id="EN-US_TASK_0000001513153334__entry178192690175336p0">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001513153334__row1667079320175336" valign="middle"><td class="cellrowborder" valign="middle" width="33.333333333333336%" headers="mcps1.3.2.3.2.8.2.4.1.1 "><p id="EN-US_TASK_0000001513153334__p1531750478175336">Assign an RSA, DSA, SM2, or ECC public key to the SSH user.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.29332933293329%" headers="mcps1.3.2.3.2.8.2.4.1.2 "><p id="EN-US_TASK_0000001513153334__entry688361830175336p0"><a href="cmdqueryname=ssh+user"><b><span class="cmdname" id="EN-US_TASK_0000001513153334__cmdname802870421175336">ssh user</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001513153334__varname301865272175336">user-name</span></i> <strong><span id="EN-US_TASK_0000001513153334__cmdparmname234185974175336">assign</span></strong> <span>{ </span><strong><span id="EN-US_TASK_0000001513153334__cmdparmname877586562175336">rsa-key</span></strong><span> | <strong><span id="EN-US_TASK_0000001513153334__cmdparmname935328572175336">dsa-key</span></strong> | <strong><span id="EN-US_TASK_0000001513153334__cmdparmname9191947175336">ecc-key</span></strong> <span>| <strong id="EN-US_TASK_0000001513153334__b20922173752818">sm2-key</strong></span>}</span> <i><span class="varname" id="EN-US_TASK_0000001513153334__varname1512222237175336">key-name</span></i></p>
</td>
<td class="cellrowborder" valign="middle" width="33.373337333733375%" headers="mcps1.3.2.3.2.8.2.4.1.3 "><p id="EN-US_TASK_0000001513153334__entry1329032311175336p0">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001513153334__row1886265655214"><td class="cellrowborder" valign="top" width="33.333333333333336%" headers="mcps1.3.2.3.2.8.2.4.1.1 "><p id="EN-US_TASK_0000001513153334__p485965616526">Commit the configuration.</p>
</td>
<td class="cellrowborder" valign="top" width="33.29332933293329%" headers="mcps1.3.2.3.2.8.2.4.1.2 "><p id="EN-US_TASK_0000001513153334__p188599560522"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001513153334__cmdname98597565523">commit</span></b></a></p>
</td>
<td class="cellrowborder" valign="top" width="33.373337333733375%" headers="mcps1.3.2.3.2.8.2.4.1.3 "><p id="EN-US_TASK_0000001513153334__p38591156105214">-</p>
</td>
</tr>
</tbody>
</table>
</div>

<div class="tableBorder"><a name="EN-US_TASK_0000001513153334__table1953610297348"></a><a name="table1953610297348"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TASK_0000001513153334__table1953610297348" frame="hsides" border="1" rules="all"><caption><b>Table 4 </b>Binding a PKI realm to the SSH user</caption><thead align="left"><tr id="EN-US_TASK_0000001513153334__row653612916349" valign="middle"><th align="center" class="cellrowborder" valign="middle" width="33.33333333333333%" id="mcps1.3.2.3.2.9.2.4.1.1" liSelected="liSelected"><p id="EN-US_TASK_0000001513153334__p25361829183419">Step</p>
</th>
<th align="center" class="cellrowborder" valign="middle" width="33.3033303330333%" id="mcps1.3.2.3.2.9.2.4.1.2" liSelected="liSelected"><p id="EN-US_TASK_0000001513153334__p353622973413">Command</p>
</th>
<th align="center" class="cellrowborder" valign="middle" width="33.36333633363336%" id="mcps1.3.2.3.2.9.2.4.1.3" liSelected="liSelected"><p id="EN-US_TASK_0000001513153334__p75361298344">Description</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_TASK_0000001513153334__row5536129183419"><td class="cellrowborder" valign="middle" width="33.33333333333333%" headers="mcps1.3.2.3.2.9.2.4.1.1 "><p id="EN-US_TASK_0000001513153334__p7536152903415">Enter the system view.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.3033303330333%" headers="mcps1.3.2.3.2.9.2.4.1.2 "><p id="EN-US_TASK_0000001513153334__p85371329183415"><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0000001513153334__cmdname55379292344">system-view</span></b></a></p>
</td>
<td class="cellrowborder" valign="middle" width="33.36333633363336%" headers="mcps1.3.2.3.2.9.2.4.1.3 "><p id="EN-US_TASK_0000001513153334__p753762920347">-</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001513153334__row2537629103416" valign="middle"><td class="cellrowborder" valign="middle" width="33.33333333333333%" headers="mcps1.3.2.3.2.9.2.4.1.1 "><p id="EN-US_TASK_0000001513153334__p578215126379">Bind a PKI realm to the SSH user.</p>
</td>
<td class="cellrowborder" valign="middle" width="33.3033303330333%" headers="mcps1.3.2.3.2.9.2.4.1.2 "><p id="EN-US_TASK_0000001513153334__p14782212193719"><a href="cmdqueryname=ssh+user"><b><span class="cmdname" id="EN-US_TASK_0000001513153334__cmdname3782111210372">ssh user</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001513153334__varname3782201283718">user-name</span></i> <strong><span id="EN-US_TASK_0000001513153334__cmdparmname178221212373">assign</span></strong> <strong><span id="EN-US_TASK_0000001513153334__cmdparmname7907210134514">pki</span></strong> <i><span class="varname" id="EN-US_TASK_0000001513153334__varname19782712133719">pki-name</span></i></p>
</td>
<td class="cellrowborder" valign="middle" width="33.36333633363336%" headers="mcps1.3.2.3.2.9.2.4.1.3 "><p id="EN-US_TASK_0000001513153334__p1278221263711">Assign a PKI certificate to the SSH server.</p>
<p id="EN-US_TASK_0000001513153334__p17906193915405">The prerequisite is that PKI has been configured.</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001513153334__row179910546496"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.2.3.2.9.2.4.1.1 "><p id="EN-US_TASK_0000001513153334__p1577215515499">Commit the configuration.</p>
</td>
<td class="cellrowborder" valign="top" width="33.3033303330333%" headers="mcps1.3.2.3.2.9.2.4.1.2 "><p id="EN-US_TASK_0000001513153334__p177721355144916"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001513153334__cmdname18772555134918">commit</span></b></a></p>
</td>
<td class="cellrowborder" valign="top" width="33.36333633363336%" headers="mcps1.3.2.3.2.9.2.4.1.3 "><p id="EN-US_TASK_0000001513153334__p11772155520490">-</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li><span>Configure a service type for the SSH user.</span><p><pre class="screen"><a href="cmdqueryname=ssh+user"><b><span class="cmdname">ssh user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>service-type</span></strong> { <strong>all</strong> | {<strong><span> sftp</span></strong> | <strong><span>stelnet</span></strong> | <strong><span>snetconf</span></strong> }<sup>*</sup>}</pre>
<p>By default, no service type is configured for an SSH user.</p>
</p></li><li><span>(Optional) Configure SAN/CN verification for the SSH user.</span><p><pre class="screen"><a href="cmdqueryname=ssh+user"><b><span class="cmdname">ssh user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>cert-verify-san</span></strong> <strong><span>enable</span></strong></pre>
<p>By default, the device does not check whether the CN or SAN in the certificate contains the realm name of the authentication user.</p>
<p>After a PKI realm is bound to the SSH user, the system checks whether the Subject Alternative Name (SAN) or common name (CN) in the PKI certificate contains the realm name of the authentication user to enhance security.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen"><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_ssh_cfg_0008.html">Configuring an SSH Server
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_ssh_cfg_0010.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="galaxy_ssh_cfg_0012.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>