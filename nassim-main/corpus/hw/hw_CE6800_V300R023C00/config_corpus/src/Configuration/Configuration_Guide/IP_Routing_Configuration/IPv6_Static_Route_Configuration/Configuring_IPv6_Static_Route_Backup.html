
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring IPv6 Static Route Backup">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_ipv6-static-route_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="vrp_ipv6-static-route_cfg_0029.html">
<meta name="DC.Relation" scheme="URI" content="vrp_ipv6-static-route_cfg_0015.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IPv6 Static Route">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176663225">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring IPv6 Static Route Backup</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176663225"></a><a name="EN-US_TASK_0000001176663225"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring IPv6 Static Route Backup</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001176663225__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>After multiple IPv6 static routes with the same destination and different preferences are set on a device, the device can perform route backup. On the network shown in <a href="#EN-US_TASK_0000001176663225__fig282064133919">Figure 1</a>, two static routes from DeviceA to DeviceC are configured. In most cases, only the static route with DeviceB as a next hop is active in the routing table because this route has a higher preference. The other static route with DeviceD as a next hop functions as a backup route. The backup route is only activated to forward traffic after the active link fails. After the active link A recovers, the static route with DeviceB as a next hop becomes active again to take over the traffic. In this case, the backup static route is also known as a floating static route.</p>
<div class="fignone" id="EN-US_TASK_0000001176663225__fig282064133919"><a name="EN-US_TASK_0000001176663225__fig282064133919"></a><a name="fig282064133919"></a><span class="figcap"><b>Figure 1 </b>Network diagram of IPv6 static route backup</span><br><span><img class="vsd" src="figure/en-us_image_0000001130783482.png"></span></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001176663225__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Perform either of the following operations to configure an IPv6 static route. Repeat the operation to configure two or more IPv6 static routes with the same prefix and mask and different preferences.</span><p><ul><li>Configure an IPv6 static route on the public network.<pre class="screen"><a href="cmdqueryname=ipv6+route-static"><b><span class="cmdname">ipv6 route-static</span></b></a> <i><span class="varname">dest-ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> } [ <i><span class="varname">nexthop-ipv6-address</span></i> ] <strong><span>preference</span></strong> <i><span class="varname">preference</span></i> [ <strong><span>bfd enable</span></strong> | <strong><span>track</span></strong> { <strong><span>bfd-session</span></strong> <i><span class="varname">cfg-name</span></i> | <strong><span>nqa</span></strong> <i><span class="varname">admin-name</span></i> <i><span class="varname">test-name</span></i> } ] [ <strong><span>description</span></strong> <i><span class="varname">text</span></i> ]</pre>
</li><li>Configure an IPv6 static route in a specified VPN instance.<pre class="screen"><a href="cmdqueryname=ipv6+route-static"><b><span class="cmdname">ipv6 route-static</span></b></a> <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-source-name</span></i> <i><span class="varname">dest-ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> } [ <i><span class="varname">nexthop-ipv6-address</span></i> ] <strong><span>preference</span></strong> <i><span class="varname">preference</span></i> [ <strong><span>bfd enable</span></strong> | <strong><span>track</span></strong> { <strong><span>bfd-session</span></strong> <i><span class="varname">cfg-name</span></i> | <strong><span>nqa</span></strong> <i><span class="varname">admin-name</span></i> <i><span class="varname">test-name</span></i> } ] [ <strong><span>description</span></strong> <i><span class="varname">text</span></i> ]</pre>
</li></ul>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176663225__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176663225__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001176663225__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+ipv6+routing-table"><b><span class="cmdname">display ipv6 routing-table</span></b></a> command to check active routes in the IPv6 routing table.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_ipv6-static-route_cfg_0001.html">IPv6 Static Route Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_ipv6-static-route_cfg_0029.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_ipv6-static-route_cfg_0015.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>