
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a Dynamic BGP Peer Group">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_bgp_cfg_0098.html">
<meta name="DC.Relation" scheme="URI" content="vrp_bgp_cfg_0099.html">
<meta name="DC.Relation" scheme="URI" content="vrp_bgp_cfg_0101.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176743539">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring a Dynamic BGP Peer Group</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176743539"></a><a name="EN-US_TASK_0000001176743539"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a Dynamic BGP Peer Group</h1>
<div class="taskbody"><div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001176743539__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>Before configuring a dynamic BGP peer group, you have completed the following task:</p>
<ul><li><a href="vrp_bgp_cfg_0014.html">Configure basic BGP functions.</a></li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001176743539__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>On a BGP network, multiple peers may change frequently, causing the establishment of peer relationships to change accordingly. If you configure peers in static mode, you must frequently add or delete peer configurations on the local device, increasing the maintenance workload. To address this problem, configure the dynamic BGP peer function to enable a BGP device to listen for BGP connection requests from a specified network segment, dynamically establish BGP peer relationships, and add these peers to the same dynamic peer group. As a result, manually adding or deleting BGP peer configurations in response to each dynamic peer change is no longer required.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001176743539__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enter the BGP view.</span><p><pre class="screen"><a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i></pre>
</p></li><li><span>(Optional) Set the maximum number of dynamic BGP peer sessions that can be established.</span><p><pre class="screen"><a href="cmdqueryname=bgp+dynamic-session-limit"><b><span class="cmdname">bgp dynamic-session-limit</span></b></a> <i><span class="varname">max-num</span></i></pre>
<p>By default, the maximum number of dynamic BGP peer sessions that can be established is 100.</p>
</p></li><li><span>Create a dynamic BGP peer group. In the command, <strong><span>confederation-external</span></strong> supports only single-instance dynamic peer groups.</span><p><pre class="screen"><a href="cmdqueryname=group+listen+internal+external+confederation-external"><b><span class="cmdname">group</span></b></a> <i><span class="varname">group-name</span></i> <strong><span>listen</span></strong> [ <strong><span>internal</span></strong> | <strong><span>external</span></strong> | <strong><span>confederation-external</span></strong> ]</pre>
</p></li><li><span>(Optional) Configure the peer AS number for which the dynamic EBGP peer group listens.</span><p><pre class="screen"><a href="cmdqueryname=peer+listen-as"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">group-name</span></i> <strong><span>listen-as</span></strong> { <em><i><span class="varname">asn</span></i></em> } &amp;&lt;1-6&gt;</pre>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>You do not need to perform the configurations related to dynamic EBGP peer groups for dynamic IBGP peer groups.</p>
</div></div>
</p></li><li><span>(Optional) Configure the peer AS segment for which the dynamic EBGP peer group listens.</span><p><pre class="screen"><a href="cmdqueryname=peer+listen-as-segment+begin-as+end-as"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">group-name</span></i> <strong><span>listen-as-segment</span></strong> <strong><span>begin-as</span></strong> <i><span class="varname">begin-asn</span></i> <strong><span>end-as</span></strong> <i><span class="varname">end-asn</span></i></pre>
</p></li><li><span>Configure a network segment for which the dynamic peer group listens.</span><p><pre class="screen"><a href="cmdqueryname=peer+listen-net"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">group-name</span></i> <strong><span>listen-net</span></strong> <i><span class="varname">ipv4-address</span></i> [ <i><span class="varname">mask-length</span></i> | <i><span class="varname">mask</span></i> ]</pre>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176743539__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176743539__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0000001176743539__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>After configuring the function, verify the configuration.</p>
<ul><li>Run the <a href="cmdqueryname=display+bgp+group"><b><span class="cmdname">display bgp group</span></b></a> [ <i><span class="varname">group-name</span></i>] command to check information about a specified BGP peer group.</li><li>Run the <a href="cmdqueryname=display+bgp+peer"><b><span class="cmdname">display bgp peer</span></b></a> command to check information about dynamic peers.</li></ul>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_bgp_cfg_0098.html">Configuring a Dynamic BGP Peer Group
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_bgp_cfg_0099.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_bgp_cfg_0101.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>