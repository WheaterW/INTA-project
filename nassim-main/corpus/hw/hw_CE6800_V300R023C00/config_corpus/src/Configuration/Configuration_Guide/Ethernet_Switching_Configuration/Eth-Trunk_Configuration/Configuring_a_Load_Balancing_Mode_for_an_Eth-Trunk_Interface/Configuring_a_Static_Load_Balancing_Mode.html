
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a Static Load Balancing Mode">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_eth-trunk_cfg_0055.html">
<meta name="DC.Relation" scheme="URI" content="vrp_eth-trunk_cfg_0044.html">
<meta name="DC.Relation" scheme="URI" content="vrp_eth-trunk_cfg_0046.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176741163">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring a Static Load Balancing Mode</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176741163"></a><a name="EN-US_TASK_0000001176741163"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a Static Load Balancing Mode</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001176741163__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>A default static load balancing mode is pre-defined for different types of packets on the device. If traffic is load balanced evenly on the network, the default load balancing mode can fulfill requirements. However, if traffic is load balanced unevenly, you can configure a static load balancing mode based on traffic models through either of the following methods:</p>
<ul><li>Configure a global enhanced load balancing profile with a load balancing mode specified for each type of packets. This configuration takes effect globally.</li><li>Configure a load balancing mode for each type of packets on an Eth-Trunk interface. This configuration takes effect on the current Eth-Trunk interface only.</li></ul>
<div class="p">The load balancing mechanisms for known and unknown unicast packets are different.<ul><li>For known unicast packets, you can configure both the load balancing mode and hash algorithm in a global enhanced load balancing profile and on an Eth-Trunk interface. The following describes which configuration takes precedence.<ul><li>Load balancing mode: If the default load balancing mode is applied to all types of packets on an Eth-Trunk interface and a global enhanced load balancing profile is configured, the load balancing modes specified in the global enhanced load balancing profile take precedence. If any type of packets on an Eth-Trunk interface uses a non-default load balancing mode (for example, only the load balancing mode of Layer 2 packets is changed), the load balancing modes for all types of packets configured on the Eth-Trunk interface take effect preferentially even if a global enhanced load balancing profile is configured at the same time.</li><li>Hash algorithm: If the default hash algorithm is applied to an Eth-Trunk interface and a global enhanced load balancing profile is configured at the same time, the hash algorithm specified in the global enhanced load balancing profile takes precedence. If an Eth-Trunk interface uses a non-default hash algorithm, this non-default hash algorithm takes effect preferentially even if a global enhanced load balancing profile is configured at the same time.</li></ul>
</li></ul>
</div>
<ul><li>For unknown unicast packets, only the load balancing mode and hash algorithm in the global enhanced load balancing profile takes effect.</li></ul>
<p>Since only outgoing traffic can be load balanced, the load balancing mode on one end of a link does not affect that on the other, and so there is no need for the load balancing modes to be the same on both ends. The load balancing mode is related to the packet type, but not the packet forwarding process. The device identifies the type of the Layer 3 packet carried in an Ethernet frame. For example, if the device identifies an IPv4 packet, it applies the load balancing mode configured for IPv4 packets to the IPv4 packet even if only Layer 2 forwarding needs to be performed on the IPv4 packet. If the device identifies a non-IP or non-MPLS packet, the device applies the load balancing mode configured for Layer 2 packets to this packet.</p>
<p>Only Eth-Trunk interfaces on the <span>CE8855, CE8851-32CQ4BQ, CE6855-48XS8CQ, CE6885, CE6885-SAN, CE6885-LL, CE6885-T, CE6863E-48S8CQ</span> support the forwarding of packets with the same source and destination addresses. Specifically, a network connection's bidirectional packets with the same source and destination addresses are forwarded by the same Eth-Trunk interface. During network traffic analysis, a device is required to analyze bidirectional traffic between communicating parties. During this process, the packets of such communicating parties must be forwarded to the same device for analysis, which requires the device to forward packets with the same source address through the same outbound interface. When mirroring the packets of communicating parties to the analysis server, the device sends those with the same source and destination IP or MAC addresses through the same Eth-Trunk interface. As a result, the server can analyze bidirectional traffic.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001176741163__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configuring a static load balancing mode based on a global enhanced load balancing profile</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>(Optional) Configure the device to perform hash calculation on GTP packets based on the TEID field in the profile.</span><p><pre class="screen"><strong>load-balance gtp teid</strong></pre>
<p>By default, this function is disabled.</p>
<p>This command is not supported by the <span>CE6885-LL (low latency mode)</span>.</p>
</p></li><li class="substepexpand"><span>Create a static load balancing profile and enter the static load balancing profile view, or enter the view of an existing static load balancing profile.</span><p><pre class="screen"><a href="cmdqueryname=load-balance+profile"><b><span class="cmdname">load-balance profile</span></b></a> <i><span class="varname">profile-name</span></i></pre>
<p>The device supports only one load balancing profile. The default load balancing profile is named <strong>default</strong>. A newly created load balancing profile will overwrite an existing one.</p>
</p></li><li class="substepexpand"><span>Configure load balancing modes for different types of packets separately. Run one or several of the following commands as required. Skip this step if you want to use the default load balancing mode.</span><p><ul><li>Configure a load balancing mode for IPv4 packets in the profile.<p>For the <span>CE6866, CE6860-SAN, CE6866K, CE6860-HAM, CE8851-32CQ8DQ-P, CE8850-SAN, CE8851K, CE8850-HAM</span>:</p>
<pre class="screen"><a href="cmdqueryname=ip"><b><span class="cmdname">ip</span></b></a> [ <strong><span>src-ip</span></strong> | <strong><span>dst-ip</span></strong> | <strong><span>l4-src-port</span></strong> | <strong><span>l4-dst-port</span></strong> | <strong><span>protocol</span></strong> | <strong><span>src-mac</span></strong> | <strong><span>dst-mac</span></strong> | <strong><span>flowlabel</span></strong> | <strong><span>src-interface</span></strong> | <strong><span>dest-qp</span></strong> | <strong><span>session-id</span></strong> ] <sup>*</sup></pre>
<p>By default, IPv4 packets are load balanced based on <strong>session-id</strong>, <strong>dest-qp</strong>, <strong>src-ip</strong>, <strong>dst-ip</strong>, <strong>l4-src-port</strong>, and <strong>l4-dst-port</strong>.</p>
<p>For the <span>CE6820H, CE6820H-K, CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6820S</span>:</p>
<pre class="screen"><a href="cmdqueryname=ip"><b><span class="cmdname">ip </span></b></a>[ <strong><span>src-ip</span></strong> | <strong><span>dst-ip</span></strong> | <strong><span>protocol</span></strong> | <strong><span>l4-src-port</span></strong> | <strong><span>l4-dst-port</span></strong> ] <sup>*</sup></pre>
<p>By default, IPv4 packets are load balanced based on <strong>src-ip</strong>, <strong>dst-ip</strong>, <strong>l4-src-port</strong>, and <strong>l4-dst-port</strong>.</p>
</li><li>Configure a load balancing mode for IPv6 packets in the profile.<p>This step is supported only by the <span>CE6820H, CE6820H-K, CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6820S</span>.</p>
<pre class="screen"><a href="cmdqueryname=ipv6"><b><span class="cmdname">ipv6 </span></b></a>[ <strong><span>src-ip</span></strong> | <strong><span>dst-ip</span></strong> | <strong><span>protocol</span></strong> | <strong><span>l4-src-port</span></strong> | <strong><span>l4-dst-port</span></strong> ] <sup>*</sup></pre>
<p>By default, IPv6 packets are load balanced based on <strong><span>src-ip</span></strong>, <strong><span>dst-ip</span></strong>, <strong><span>l4-src-port</span></strong>, and <strong><span>l4-dst-port</span></strong>.</p>
</li><li>Configure a load balancing mode for MPLS packets in the profile.<p>For the <span>CE6866, CE6860-SAN, CE6866K, CE6860-HAM, CE8851-32CQ8DQ-P, CE8850-SAN, CE8851K, CE8850-HAM</span>:</p>
<pre class="screen"><a href="cmdqueryname=mpls"><b><span class="cmdname">mpls</span></b></a> [ <strong><span>top-label</span></strong> | <strong><span>2nd-label</span></strong> | <strong><span>3rd-label</span></strong> | <strong><span>src-ip</span></strong> | <strong><span>dst-ip</span></strong> | <strong><span>src-interface</span></strong> | <strong><span>src-mac</span></strong> | <strong><span>dst-mac</span></strong> | <strong><span>l4-src-port</span></strong> | <strong><span>l4-dst-port</span></strong> | <strong><span>protocol</span></strong> ] <sup>*</sup></pre>
<p>By default, MPLS packets are load balanced based on the two outer labels (<strong>top-label</strong> and <strong>2nd-label</strong>).</p>
<p>For the <span>CE6820H, CE6820H-K, CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6820S</span>:</p>
<pre class="screen"><a href="cmdqueryname=mpls"><b><span class="cmdname">mpls </span></b></a>[ <strong><span>src-ip</span></strong> | <strong><span>dst-ip</span></strong> | <strong><span>top-label</span></strong> | <strong><span>2nd-label</span></strong> ] <sup>*</sup></pre>
<p>By default, MPLS packets are load balanced based on the two outer labels (<strong>top-label</strong> and <strong>2nd-label</strong>).</p>
<div class="p">For the <span>CE8855, CE8851-32CQ4BQ, CE6855-48XS8CQ, CE6885, CE6885-SAN, CE6885-LL, CE6885-T, CE6863E-48S8CQ</span>:<pre class="screen"><a href="cmdqueryname=mpls"><b><span class="cmdname">mpls</span></b></a> [ <strong><span>src-ip</span></strong> | <strong><span>dst-ip</span></strong> | <strong><span>top-label</span></strong> | <strong><span>2nd-label</span></strong> | <strong><span>3rd-label</span></strong> | <strong><span>src-mac</span></strong> | <strong><span>dst-mac</span></strong> | <strong><span>src-interface</span></strong> | <strong><span>l4-src-port</span></strong> | <strong><span>l4-dst-port</span></strong> | <strong><span>protocol</span></strong> | <strong><span>fourth-label</span></strong> | <strong><span>fifth-label</span></strong> ] <sup>*</sup> </pre>
</div>
<p>By default, MPLS packets are load balanced based on <strong>top-label</strong> and <strong>2nd-label</strong>.</p>
<p>This command is not supported by the <span>CE6885-LL (low latency mode)</span>.</p>
</li><li>Configure a load balancing mode for Layer 2 packets in the profile.<pre class="screen"><a href="cmdqueryname=l2"><b><span class="cmdname">l2</span></b></a> [ <strong><span>src-mac</span></strong> | <strong><span>dst-mac</span></strong> | <strong><span>src-interface</span></strong> | <strong><span>eth-type</span></strong> | <strong><span>vlan</span></strong> ] <sup>*</sup></pre>
<p>By default, Layer 2 packets are load balanced based on <strong>src-mac</strong>, <strong>dst-mac</strong>, and <strong>vlan</strong>.</p>
</li></ul>
</p></li><li class="substepexpand"><span>Configure the device to perform hash calculation on tunnel packets based on their inner or outer header in the profile.</span><p><pre class="screen"><a href="cmdqueryname=tunnel"><b><span class="cmdname">tunnel</span></b></a> { <strong>inner-header</strong> | <strong>outer-header</strong> }</pre>
<p>By default, hash calculation is performed on tunnel packets based on their outer header.</p>
<p>This command is not supported by the <span>CE6885-LL (low latency mode)</span>.</p>
</p></li><li class="substepexpand"><span>Configure the device to perform hash calculation on MAC-in-MAC packets based on their inner or outer header in the profile.</span><p><p>This step is supported only by the <span>CE6866, CE6860-SAN, CE6866K, CE6860-HAM, CE8851-32CQ8DQ-P, CE8850-SAN, CE8851K, CE8850-HAM</span>, <span>CE6820H, CE6820H-K, CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6820S</span>, <span>CE8855, CE8851-32CQ4BQ, CE6855-48XS8CQ, CE6885, CE6885-SAN, CE6885-LL, CE6885-T, CE6863E-48S8CQ</span>.</p>
<pre class="screen"><a href="cmdqueryname=mac-in-mac"><b><span class="cmdname">mac-in-mac</span></b></a> { <strong><span>outer-header</span></strong> | <strong><span>inner-header</span></strong> }</pre>
<p>By default, hash calculation is performed on MAC-in-MAC packets based on their outer header.</p>
<p>This command is not supported by the <span>CE6885-LL (low latency mode)</span>.</p>
</p></li><li class="substepexpand"><span>Configure the hash algorithm value or the start hash value for load balancing on an Eth-Trunk interface in the profile.</span><p><p>For the <span>CE6866, CE6860-SAN, CE6866K, CE6860-HAM, CE8851-32CQ8DQ-P, CE8850-SAN, CE8851K, CE8850-HAM</span>, <span>CE8855, CE8851-32CQ4BQ, CE6855-48XS8CQ, CE6885, CE6885-SAN, CE6885-LL, CE6885-T, CE6863E-48S8CQ</span>:</p>
<pre class="screen"><a href="cmdqueryname=eth-trunk"><b><span class="cmdname">eth-trunk</span></b></a> { <strong>seed</strong> <i><span class="varname">seed-data</span></i> | <strong>hash-mode</strong> <i><span class="varname">hash-mode-id</span></i> } <sup>*</sup></pre>
<p>By default, the hash algorithm value for load balancing is 1 and the start hash value is 1.</p>
<p>For the <span>CE6820H, CE6820H-K, CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6820S</span>:</p>
<pre class="screen"><a href="cmdqueryname=eth-trunk"><b><span class="cmdname">eth-trunk</span></b></a> <strong>hash-mode</strong> <i><span class="varname">hash-mode-id</span></i> </pre>
<p>By default, the hash algorithm value for load balancing is 1.</p>
</p></li><li class="substepexpand"><span>Configure the calculation result offset of the hash algorithm for load balancing in the profile.</span><p><p>This step is supported only by the <span>CE6820H, CE6820H-K, CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6820S</span>, <span>CE8855, CE8851-32CQ4BQ, CE6855-48XS8CQ, CE6885, CE6885-SAN, CE6885-LL, CE6885-T, CE6863E-48S8CQ</span>.</p>
<pre class="screen"><a href="cmdqueryname=eth-trunk"><b><span class="cmdname">eth-trunk</span></b></a> <strong><span>universal-id</span></strong> [ <i><span class="varname">universal-id</span></i> ]</pre>
<p>By default, the calculation result offset of the hash algorithm for load balancing is 1.</p>
</p></li><li class="substepexpand"><span>(Optional) Configure an Eth-Trunk interface to forward packets with the same source and destination addresses in the profile.</span><p><p>This step is supported only by the <span>CE8855, CE8851-32CQ4BQ, CE6855-48XS8CQ, CE6885, CE6885-SAN, CE6885-LL, CE6885-T, CE6863E-48S8CQ</span>.</p>
<pre class="screen"><a href="cmdqueryname=mode+symmetry"><b><span class="cmdname">mode symmetry</span></b></a></pre>
<p>By default, an Eth-Trunk interface does not forward packets with the same source and destination addresses.</p>
<p>This command is not supported by the <span>CE6885-LL (low latency mode)</span>.</p>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176741163__en-us_task_0000001176741145_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176741163__en-us_task_0000001176741145_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol>
</li><li><span>Configuring a load balancing mode for an Eth-Trunk interface</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the view of an Eth-Trunk interface.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <strong><span>eth-trunk</span></strong> <i><span class="varname">trunk-id</span></i></pre>
</p></li><li class="substepexpand"><span>Configure load balancing modes for different types of packets. Run one or several of the following commands as required. Skip this step if you want to use the default load balancing mode.</span><p><ul><li>Configure a load balancing mode for IP packets.<p>For the <span>CE6866, CE6860-SAN, CE6866K, CE6860-HAM, CE8851-32CQ8DQ-P, CE8850-SAN, CE8851K, CE8850-HAM</span>:</p>
<pre class="screen"><a href="cmdqueryname=load-balance+ip"><b><span class="cmdname">load-balance ip</span></b></a> [ <strong><span>src-ip</span></strong> | <strong><span>dst-ip</span></strong> | <strong><span>l4-src-port</span></strong> | <strong><span>l4-dst-port</span></strong> | <strong><span>protocol</span></strong> | <strong><span>src-mac</span></strong> | <strong><span>dst-mac</span></strong> | <strong><span>flowlabel</span></strong> | <strong><span>src-interface</span></strong> | <strong><span>dest-qp</span></strong> | <strong><span>session-id</span></strong> ] <sup>*</sup></pre>
<p>By default, IP packets are load balanced based on <strong>src-ip</strong>, <strong>dst-ip</strong>, <strong>l4-src-port</strong>, <strong>l4-dst-port</strong>, <strong>dst-qp</strong>, and <strong>session-id</strong>.</p>
<p>For the <span>CE6820H, CE6820H-K, CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6820S</span>:</p>
<pre class="screen"><a href="cmdqueryname=load-balance"><b><span class="cmdname">load-balance</span></b></a> { <strong><span>dst-ip</span></strong> | <strong><span>src-ip</span></strong> | <strong><span>src-dst-ip</span></strong> | <strong><span>dst-mac</span></strong> | <strong><span>src-mac</span></strong> | <strong><span>src-dst-mac</span></strong> | <strong><span>round-robin</span></strong> | <strong><span>enhanced</span></strong> <strong><span>profile</span></strong> <i><span class="varname">profile-name</span></i> }</pre>
<p>By default, packets are load balanced based on <strong><span>src-dst-ip</span></strong> on an Eth-Trunk interface.</p>
<p>When the <strong>enhanced profile</strong> parameter is configured, the Eth-Trunk interface uses the configuration in the global load balancing profile configured using the <a href="cmdqueryname=load-balance+profile"><b><span class="cmdname">load-balance profile</span></b></a> command.</p>
</li><li>Configure a load balancing mode for MPLS packets.<p>For the <span>CE6866, CE6860-SAN, CE6866K, CE6860-HAM, CE8851-32CQ8DQ-P, CE8850-SAN, CE8851K, CE8850-HAM</span>:</p>
<pre class="screen"><a href="cmdqueryname=load-balance+mpls"><b><span class="cmdname">load-balance mpls</span></b></a> [ <strong><span>top-label</span></strong> | <strong><span>2nd-label</span></strong> | <strong><span>3rd-label</span></strong> | <strong><span>src-ip</span></strong> | <strong><span>dst-ip</span></strong> | <strong><span>src-interface</span></strong> | <strong><span>src-mac</span></strong> | <strong><span>dst-mac</span></strong> | <strong><span>l4-src-port</span></strong> | <strong><span>l4-dst-port</span></strong> | <strong><span>protocol</span></strong> ] <sup>*</sup></pre>
<p>By default, MPLS packets are load balanced based on the two outer labels (<strong>top-label</strong> and <strong>2nd-label</strong>).</p>
</li><li>Configure a load balancing mode for Layer 2 packets.<p>For the <span>CE6866, CE6860-SAN, CE6866K, CE6860-HAM, CE8851-32CQ8DQ-P, CE8850-SAN, CE8851K, CE8850-HAM</span>:</p>
<pre class="screen"><a href="cmdqueryname=load-balance+l2"><b><span class="cmdname">load-balance l2</span></b></a> [ <strong><span>vlan</span></strong> | <strong><span>src-mac</span></strong> | <strong><span>dst-mac</span></strong> | <strong><span>eth-type</span></strong> | <strong><span>src-interface</span></strong> ] <sup>*</sup></pre>
<p>By default, Layer 2 packets are load balanced based on <strong>src-mac</strong>, <strong>dst-mac</strong>, and <strong>vlan</strong>.</p>
</li></ul>
</p></li><li class="substepexpand"><span>Configure a hash algorithm for load balancing on the Eth-Trunk interface.</span><p><p>This step is supported only by the <span>CE6866, CE6860-SAN, CE6866K, CE6860-HAM, CE8851-32CQ8DQ-P, CE8850-SAN, CE8851K, CE8850-HAM</span>.</p>
<pre class="screen"><a href="cmdqueryname=load-balance+hash-mode"><b><span class="cmdname">load-balance hash-mode</span></b></a> <i><span class="varname">hash-mode-value</span></i></pre>
<p>By default, the hash algorithm value for load balancing on an Eth-Trunk interface is 1.</p>
</p></li><li class="substepexpand"><span>Configure resilient hashing on the Eth-Trunk interface.</span><p><pre class="screen"><a href="cmdqueryname=load-balance+enhanced+resilient"><b><span class="cmdname">load-balance enhanced resilient</span></b></a></pre>
<p>By default, resilient hashing is disabled.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Resilient hashing reduces the chances of traffic switching to other links when member links are added to or deleted from an Eth-Trunk. For example, an Eth-Trunk consists of three member links. If one link fails, all traffic is reallocated and load balanced over the other two links if resilient hashing is not configured. If resilient hashing is configured, the traffic that has been allocated to the other two links is still transmitted over them, and the traffic on the faulty link is evenly distributed to these links, minimizing the impact on services. After the faulty link recovers, some traffic is switched from the other two links to the recovered link, but the traffic volume on each is not the same as that before the link fault.</p>
</div></div>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176741163__en-us_task_0000001176741145_screen163801330213_1"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176741163__en-us_task_0000001176741145_en-us_concept_0141113565_cmdname1667501373175340_1">commit</span></b></a></pre>
</p></li></ol>
</li></ul></div>
<div class="example"><a name="EN-US_TASK_0000001176741163__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><ul><li>Run the <a href="cmdqueryname=display+eth-trunk"><b><span class="cmdname">display eth-trunk</span></b></a> [ <i><span class="varname">trunk-id</span></i> [ <strong><span>verbose</span></strong> ] ] command to check the load balancing mode of a specified Eth-Trunk interface based on the <strong>Hash Arithmetic</strong> field.</li><li>Run the <a href="cmdqueryname=display+load-balance+profile"><b><span class="cmdname">display load-balance profile</span></b></a> [ <i><span class="varname">profile-name</span></i> ] command to view detailed information about a specified load balancing profile.</li><li>Run the <a href="cmdqueryname=display+load-balance+eth-trunk"><b><span class="cmdname">display load-balance eth-trunk</span></b></a> <i><span class="varname">trunk-id</span></i> command to check the load balancing mode that takes effect on a specified Eth-Trunk interface.</li></ul>
</div>
<div class="postreq"><a name="EN-US_TASK_0000001176741163__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Follow-up Procedure</h4>
<div class="p"><ul><li>Display the outbound interface that is calculated based on the input 5-tuple information and source and destination MAC addresses.<p><a href="cmdqueryname=display+load-balance+forwarding-path+unicast+interface+eth-trunk"><b><span class="cmdname">display load-balance forwarding-path unicast interface eth-trunk</span></b></a> <i><span class="varname">trunk-id</span></i> <strong><span>src-interface</span></strong> <i><span class="varname">interface-type interface-number</span></i> { <strong><span>ethtype</span></strong> <i><span class="varname">ethtype-number</span></i> | <strong><span>vlan</span></strong> <i><span class="varname">vlan-id</span></i> | [ [ <strong>src-ip</strong> <em>src-ip-data</em> | <strong>dst-ip</strong> <em>dst-ip-data</em> ] <sup>*</sup> | [ <strong>src-ipv6</strong> <em>src-ipv6-data</em> | <strong>dst-ipv6</strong> <em>dst-ipv6-data</em> ] <sup>*</sup> ] | <strong>src-mac</strong> <em>src-mac-data</em> | <strong>dst-mac</strong> <em>dst-mac-data</em> | <strong>protocol</strong> { <em>protocol-number</em> | <a href="cmdqueryname=icmp"><b><span class="cmdname">icmp</span></b></a> | <a href="cmdqueryname=igmp"><b><span class="cmdname">igmp</span></b></a> | <a href="cmdqueryname=ip"><b><span class="cmdname">ip</span></b></a> | <a href="cmdqueryname=ospf"><b><span class="cmdname">ospf</span></b></a> | <a href="cmdqueryname=tcp"><b><span class="cmdname">tcp</span></b></a> [ <strong>l4-src-port</strong> <em>src-port-data</em> | <strong>l4-dst-port</strong> <em>dst-port-data</em> ] <sup>*</sup> | <a href="cmdqueryname=udp"><b><span class="cmdname">udp</span></b></a> [ <strong>l4-src-port</strong> <em>src-port-data</em> | <strong>l4-dst-port</strong> <em>dst-port-data</em> ] <sup>*</sup> } } <sup>*</sup> <strong><span>slot</span></strong> <i><span class="varname">slot-id</span></i></p>
<p>This command is not supported by the <span>CE6885-LL (low latency mode)</span>.</p>
</li><li>Display the outbound interface of packets that contain specified 5-tuple information, source MAC address, and destination MAC address. The query result is displayed only when traffic passes through this outbound interface.<p><a href="cmdqueryname=display+port+forwarding-path"><b><span class="cmdname">display port forwarding-path</span></b></a> { <strong>src-ip</strong> <em>src-ip-data</em> [ <i><span class="varname">ip-mask-len</span></i> | <i><span class="varname">source-ip-mask</span></i> ] | <strong>dst-ip</strong> <em>dst-ip-data</em> [ <i><span class="varname">ip-mask-len</span></i> | <i><span class="varname">dst-ip-mask</span></i> ] | <strong>src-mac</strong> <em>src-mac-data</em> | <strong>dst-mac</strong> <em>dst-mac-data</em> | <strong>protocol</strong> { <em>protocol-number</em> | <a href="cmdqueryname=gre"><b><span class="cmdname">gre</span></b></a> | <a href="cmdqueryname=icmp"><b><span class="cmdname">icmp</span></b></a> | <a href="cmdqueryname=igmp"><b><span class="cmdname">igmp</span></b></a> | <a href="cmdqueryname=ip"><b><span class="cmdname">ip</span></b></a> | <a href="cmdqueryname=ipinip"><b><span class="cmdname">ipinip</span></b></a> | <a href="cmdqueryname=ospf"><b><span class="cmdname">ospf</span></b></a> | <a href="cmdqueryname=tcp"><b><span class="cmdname">tcp</span></b></a> [ <strong>l4-src-port</strong> <em>src-port-data</em> | <strong>l4-dst-port</strong> <em>dst-port-data</em> ] <sup>*</sup> | <a href="cmdqueryname=udp"><b><span class="cmdname">udp</span></b></a> [ <strong>l4-src-port</strong> <em>src-port-data</em> | <strong>l4-dst-port</strong> <em>dst-port-data</em> ] <sup>*</sup> } } <sup>*</sup></p>
<p>This command is not supported by the <span>CE6885-LL (low latency mode)</span>.</p>
</li></ul>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_eth-trunk_cfg_0055.html">Configuring a Load Balancing Mode for an Eth-Trunk Interface
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_eth-trunk_cfg_0044.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_eth-trunk_cfg_0046.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>