
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring STelnet for Device Login">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_first_cfg_0005.html">
<meta name="DC.Relation" scheme="URI" content="vrp_first_cfg_0008.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="First Login to a Device">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="First Login to a Device">
<meta name="featuretype" content="Basic Configuration">
<meta name="featurename" content="First Login to a Device">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001513161530">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring STelnet for Device Login</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001513161530"></a><a name="EN-US_TASK_0000001513161530"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring STelnet for Device Login</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001513161530__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>In order to remotely log in to the device from the terminal through STelnet when the IP address of a terminal and the management IP address of a device are Layer 3 reachable, an administrator must first create a login user on the device and configure STelnet.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>By default, a new user needs to change the password at first login to the device. If the administrator resets the password, the user also needs to change the password at the first login to the device after password reset.</p>
</div></div>
<p>This section describes how to configure STelnet-based login in the password authentication mode.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001513161530__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Set the VTY user authentication mode to AAA and configure the VTY user interface to support SSH.</span><p><pre class="screen"><strong><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></strong>
<strong><a href="cmdqueryname=user-interface"><b><span class="cmdname">user-interface</span></b></a> <a href="cmdqueryname=vty"><b><span class="cmdname">vty</span></b></a> </strong><i><span class="varname">first-ui-number</span></i> [<i><span class="varname"> last-ui-number</span></i> ]
<a href="cmdqueryname=authentication-mode"><b><span class="cmdname">authentication-mode</span></b></a><strong> <a href="cmdqueryname=aaa"><b><span class="cmdname">aaa</span></b></a></strong>    //Set the VTY user authentication mode to AAA.
<strong><a href="cmdqueryname=protocol+inbound"><b><span class="cmdname">protocol inbound</span></b></a> <a href="cmdqueryname=ssh"><b><span class="cmdname">ssh</span></b></a></strong>    //Configure the VTY user interface to support SSH.
<strong><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></strong>
<a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></pre>
</p></li><li><span>Configure a local AAA user and its password.</span><p><pre class="screen"><strong><a href="cmdqueryname=aaa"><b><span class="cmdname">aaa</span></b></a></strong>
<strong><a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> </strong><i><span class="varname">user-name</span></i><strong> <a href="cmdqueryname=password"><b><span class="cmdname">password </span></b></a></strong><strong><span>irreversible-cipher</span></strong> <i><span class="varname">irreversible-cipher-password</span></i>    //Create a local user whose name is the same as the SSH user name and configure the local user's password.
<strong><a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> </strong><i><span class="varname">user-name</span></i><strong> <a href="cmdqueryname=service-type+ssh"><b><span class="cmdname">service-type ssh</span></b></a></strong>    //Set the service type of the local user to SSH.
<a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>privilege level</span></strong> <i><span class="varname">level</span></i>   //Set the local user's level.
<strong><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></strong>
<a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></pre>
</p></li><li><span>Create an SSH user and configure the authentication mode and service type.</span><p><pre class="screen"><strong><a href="cmdqueryname=ssh+user"><b><span class="cmdname">ssh user</span></b></a> </strong><i><span class="varname">user-name</span></i>   //Create an SSH user.
<strong><a href="cmdqueryname=ssh+user"><b><span class="cmdname">ssh user</span></b></a> </strong><i><span class="varname">user-name</span></i><strong> <a href="cmdqueryname=authentication-type+password"><b><span class="cmdname">authentication-type password</span></b></a></strong>    //Set the authentication mode of the SSH user to password.
<strong><a href="cmdqueryname=ssh+user"><b><span class="cmdname">ssh user</span></b></a> </strong><i><span class="varname">user-name</span></i><strong> <a href="cmdqueryname=service-type+stelnet"><b><span class="cmdname">service-type stelnet</span></b></a></strong>    //Set the service type of the SSH user to STelnet.
<strong><a href="cmdqueryname=stelnet+server+enable"><b><span class="cmdname">stelnet server enable</span></b></a></strong>    //Enable the STelnet server function for the device.
<strong><a href="cmdqueryname=ssh+server-source"><b><span class="cmdname">ssh server-source</span></b></a></strong> <strong>-i</strong> <em>i<i><span class="varname">nterface-type</span></i></em><em> </em><i><span class="varname">interface-number</span></i>   //Configure the source interface for the SSH server. If IPv6 addresses are used for login, run the <strong><a href="cmdqueryname=ssh+ipv6+server-source"><b><span class="cmdname">ssh ipv6 server-source</span></b></a></strong> <strong>-a</strong> <i><span class="varname">ipv6-address</span></i> command to configure the source IP address for the SSH server.
<a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></pre>
</p><p><div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Ensure that the SSH user name is the same as the local user name.</p>
<p>The created user must change the password upon first login.</p>
</div></div>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_first_cfg_0005.html">Performing Basic Configurations After the First Login
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_first_cfg_0008.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>