
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="NQA Fundamentals">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../vrp/vrp_nqa_cfg_0003.html">
<meta name="DC.Relation" scheme="URI" content="../vrp/vrp_nqa_cfg_0005.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="NQA">
<meta name="featuretype" content="System Monitoring">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="NQA">
<meta name="featuretype" content="System Monitoring">
<meta name="featurename" content="NQA">
<meta name="featuretype" content="System Monitoring">
<meta name="featurename" content="NQA">
<meta name="featuretype" content="System Monitoring">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001130782088">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<link rel="stylesheet" type="text/css" href="../public_sys-resources/imagePopup.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/customQuery.js"></script>
<script language="javascript" type="text/javascript" src="../public_sys-resources/imagePopup.js"></script>
<title>NQA Fundamentals</title>
</head>
<body><a name="EN-US_CONCEPT_0000001130782088"></a><a name="EN-US_CONCEPT_0000001130782088"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">NQA Fundamentals</h1>
<div><p>NQA obtains network quality information by sending a series of test packets and receiving response packets, a process known as an NQA test. There are multiple types of NQA tests, such as Internet Control Message Protocol (ICMP) test and trace test, in each of which NQA sends different types of simulated data packets or service packets to network nodes to collect network quality data in real time. Data includes the delay, packet loss rate, jitter, reachability, and service response time, helping users measure network performance and diagnose network faults while assisting in network design and optimization.</p>
<div class="section"><h4 class="sectiontitle">NQA Test Fundamentals</h4><p>In an NQA test, the source is called an NQA client, and the destination is called an NQA server. To initiate an NQA test on an NQA client, you need to create a test instance on the NQA client, specify the test type and parameters, and configure when the test instance starts, the number of tests for the test instance, and the interval between the tests. Each NQA test instance is uniquely identified by an instance name and administrator name. Be aware that in most tests, you only need to configure an NQA client; whereas in TCP and UDP jitter tests, you also need to configure an NQA server for responding to NQA test packets.</p>
<p>A configured NQA test instance is added to the test instance queue on the NQA client for scheduling, and is initiated based on the specified start time, interval, and number of tests. An NQA test includes several probes, the number of which is configurable.</p>
<p>After an NQA test instance starts, the NQA client constructs packets that comply with the specified protocol based on the configured test type and sends them to the NQA server. The NQA server responds to test requests by listening to the received request packets.</p>
<p>The NQA client obtains network quality or performance data from the response packets.</p>
<div class="fignone"><span class="figcap"><b>Figure 1 </b>NQA test</span><br><span><img class="vsd" src="figure/en-us_image_0000001176741775.png" width="NaN" height="NaN"></span></div>
<p>The following describes how the delay is obtained in an NQA test process:</p>
<ol><li>The NQA client adds the timestamp t1 (current local system time) to a test packet and sends the packet to the NQA server.</li><li>The NQA server receives the request packet and sends a response packet to the NQA client.</li><li>The NQA client receives the response packet and adds the timestamp t2 (current local system time) to the response packet.</li><li>The NQA client obtains the round-trip time (RTT) of the packets by calculating the difference between t1 and t2.</li></ol>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In a jitter test, both the NQA client and the NQA server add timestamps to the packets to be sent and to the received packets based on the local system time. The NQA client can then calculate the jitter based on the RTT difference.</p>
</div></div>
</div>
<div class="section"><h4 class="sectiontitle">NQA Characteristics</h4><p><strong>Obtaining rich network quality and performance indicators</strong></p>
<p><a href="#EN-US_CONCEPT_0000001130782088__table43414376391">Table 1</a> lists the network quality and performance indicators that can be obtained in NQA tests. You can learn about the network operating status based on these indicators.</p>

<div class="tableBorder"><a name="EN-US_CONCEPT_0000001130782088__table43414376391"></a><a name="table43414376391"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_CONCEPT_0000001130782088__table43414376391" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Network quality or performance indicators that can be obtained in NQA tests</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="12.291229122912291%" id="mcps1.3.3.4.2.4.1.1" liSelected="liSelected"><p>Type</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="19.09190919091909%" id="mcps1.3.3.4.2.4.1.2" liSelected="liSelected"><p>Indicator</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="68.61686168616862%" id="mcps1.3.3.4.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="12.291229122912291%" headers="mcps1.3.3.4.2.4.1.1 "><p>Connectivity</p>
</td>
<td class="cellrowborder" valign="top" width="19.09190919091909%" headers="mcps1.3.3.4.2.4.1.2 "><p>End-to-end connectivity</p>
</td>
<td class="cellrowborder" valign="top" width="68.61686168616862%" headers="mcps1.3.3.4.2.4.1.3 "><p>Reachability between the source and destination</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="12.291229122912291%" headers="mcps1.3.3.4.2.4.1.1 "><p>Path information</p>
</td>
<td class="cellrowborder" valign="top" width="19.09190919091909%" headers="mcps1.3.3.4.2.4.1.2 "><p>End-to-end path information</p>
</td>
<td class="cellrowborder" valign="top" width="68.61686168616862%" headers="mcps1.3.3.4.2.4.1.3 "><p>IP address, reachability, and delay of each hop on the path from the source to the destination, and maximum transmission unit (MTU) of the path</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="3" valign="top" width="12.291229122912291%" headers="mcps1.3.3.4.2.4.1.1 "><p>Link performance</p>
</td>
<td class="cellrowborder" valign="top" width="19.09190919091909%" headers="mcps1.3.3.4.2.4.1.2 "><p>Delay (one-way and round-trip delay)</p>
</td>
<td class="cellrowborder" valign="top" width="68.61686168616862%" headers="mcps1.3.3.4.2.4.1.3 "><p>Delay of communication between the source and destination</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.3.4.2.4.1.1 "><p>Jitter</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.4.2.4.1.2 "><p>Change in delay between the source and destination</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.3.4.2.4.1.1 "><p>Packet loss rate</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.4.2.4.1.2 "><p>Rate of the lost packets to the total packets sent from the source to the destination</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="12.291229122912291%" headers="mcps1.3.3.4.2.4.1.1 "><p>Network service response time</p>
</td>
<td class="cellrowborder" valign="top" width="19.09190919091909%" headers="mcps1.3.3.4.2.4.1.2 "><p>DNS response time</p>
</td>
<td class="cellrowborder" valign="top" width="68.61686168616862%" headers="mcps1.3.3.4.2.4.1.3 "><p>Time for a DNS server to resolve a domain name into an IP address</p>
</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Supporting various test types</strong></p>
<p>NQA supports multiple types of tests, which can be used to test network quality or performance in different scenarios.</p>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 2 </b>NQA test types</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="12.38123812381238%" id="mcps1.3.3.7.2.4.1.1" liSelected="liSelected"><p>Test Type</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="54.28542854285428%" id="mcps1.3.3.7.2.4.1.2" liSelected="liSelected"><p>Description</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.3.7.2.4.1.3" liSelected="liSelected"><p>Example</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="12.38123812381238%" headers="mcps1.3.3.7.2.4.1.1 "><p>Ping test</p>
</td>
<td class="cellrowborder" valign="top" width="54.28542854285428%" headers="mcps1.3.3.7.2.4.1.2 "><p>Checks network connectivity. A ping test is quick, but can collect only a few performance indicators. It can be used to reflect network connectivity in real time.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.3.7.2.4.1.3 "><p>ICMP tests</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="12.38123812381238%" headers="mcps1.3.3.7.2.4.1.1 "><p>Trace test</p>
</td>
<td class="cellrowborder" valign="top" width="54.28542854285428%" headers="mcps1.3.3.7.2.4.1.2 "><p>Obtains path information. A trace test obtains addresses of all reachable nodes on the path to the destination, facilitating fault locating.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.3.7.2.4.1.3 "><p>Trace tests</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="12.38123812381238%" headers="mcps1.3.3.7.2.4.1.1 "><p>Jitter test</p>
</td>
<td class="cellrowborder" valign="top" width="54.28542854285428%" headers="mcps1.3.3.7.2.4.1.2 "><p>Measures network performance. A jitter test is time-consuming, but can collect abundant performance indicators, such as the delay, jitter, packet loss rate, and packet sequence number verification result, based on which network performance bottlenecks can be analyzed.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.3.7.2.4.1.3 "><p>ICMP jitter and UDP jitter tests</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="12.38123812381238%" headers="mcps1.3.3.7.2.4.1.1 "><p>Network service performance test</p>
</td>
<td class="cellrowborder" valign="top" width="54.28542854285428%" headers="mcps1.3.3.7.2.4.1.2 "><p>Checks the performance of each service on a network.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.3.7.2.4.1.3 "><p>TCP and DNS tests</p>
</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Flexible scheduling</strong></p>
<p>NQA provides a flexible scheduling mechanism to reduce its interaction with the NMS (reducing the stress on the NMS) and helps improve efficiency of bandwidth usage on the network. You can set the start time, end time, and execution period for a test instance. The NQA scheduling mechanism will automatically adjust the execution time of a test instance based on the device workload to prevent the test instance from affecting services running on the device.</p>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 3 </b>Start and end modes supported by an NQA test instance</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="12.291229122912291%" id="mcps1.3.3.10.2.4.1.1" liSelected="liSelected"><p>Type</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="23.712371237123715%" id="mcps1.3.3.10.2.4.1.2" liSelected="liSelected"><p>Mode</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="63.996399639964%" id="mcps1.3.3.10.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" rowspan="4" valign="top" width="12.291229122912291%" headers="mcps1.3.3.10.2.4.1.1 "><p>Start mode</p>
</td>
<td class="cellrowborder" valign="top" width="23.712371237123715%" headers="mcps1.3.3.10.2.4.1.2 "><p>Immediate start</p>
</td>
<td class="cellrowborder" valign="top" width="63.996399639964%" headers="mcps1.3.3.10.2.4.1.3 "><p>An NQA test instance starts immediately.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.3.10.2.4.1.1 "><p>Start at a specified time</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.10.2.4.1.2 "><p>An NQA test instance starts at a specified time.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.3.10.2.4.1.1 "><p>Postponed start</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.10.2.4.1.2 "><p>An NQA test instance starts after a specified period.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.3.10.2.4.1.1 "><p>Start daily</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.10.2.4.1.2 "><p>An NQA test instance starts at scheduled time every day.</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="3" valign="top" width="12.291229122912291%" headers="mcps1.3.3.10.2.4.1.1 "><p>End mode</p>
</td>
<td class="cellrowborder" valign="top" width="23.712371237123715%" headers="mcps1.3.3.10.2.4.1.2 "><p>End at a specified time</p>
</td>
<td class="cellrowborder" valign="top" width="63.996399639964%" headers="mcps1.3.3.10.2.4.1.3 "><p>An NQA test instance ends at a specified time.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.3.10.2.4.1.1 "><p>Postponed ending</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.10.2.4.1.2 "><p>An NQA test instance ends after a specified period.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.3.10.2.4.1.1 "><p>End after a specified period starting from test startup</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.10.2.4.1.2 "><p>An NQA test instance ends after a specified period starting from its startup.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section"><h4 class="sectiontitle">Common NQA Parameters</h4><p>The following parameters are commonly used for NQA configuration:</p>
<ul><li><a href="cmdqueryname=frequency"><b><span class="cmdname">frequency</span></b></a>: specifies the interval at which an NQA test instance is automatically executed.</li><li><a href="cmdqueryname=interval"><b><span class="cmdname">interval</span></b></a>: specifies the interval at which NQA test packets are sent.</li><li><a href="cmdqueryname=jitter-packetnum"><b><span class="cmdname">jitter-packetnum</span></b></a>: specifies the number of packets sent in each test.</li><li><a href="cmdqueryname=probe-count"><b><span class="cmdname">probe-count</span></b></a>: specifies the number of test probes for an NQA test instance.</li><li><a href="cmdqueryname=timeout"><b><span class="cmdname">timeout</span></b></a>: specifies the timeout interval of an NQA test instance.</li></ul>
<p><a href="#EN-US_CONCEPT_0000001130782088__fig1223529703">Figure 2</a> shows the relationship between these parameters for better understanding.</p>
<div class="fignone" id="EN-US_CONCEPT_0000001130782088__fig1223529703"><a name="EN-US_CONCEPT_0000001130782088__fig1223529703"></a><a name="fig1223529703"></a><span class="figcap"><b>Figure 2 </b>Relationships between common NQA parameters</span><br><span><img class="imgResize" src="figure/en-us_image_0000001909813282.png" width="523.6875" height="339.00147225" title="Click to enlarge"></span></div>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../vrp/vrp_nqa_cfg_0003.html">Understanding NQA
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../vrp/vrp_nqa_cfg_0005.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>

<script language="JavaScript">
<!--
initImageViewer('.imgResize');
var msg_imageMax = "view original image";
var msg_imageClose = "close";
//--></script></body>
</html>