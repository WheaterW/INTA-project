
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring IS-IS Routing Domain Authentication">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_isis_ipv4_cfg_0069.html">
<meta name="DC.Relation" scheme="URI" content="vrp_isis_ipv4_cfg_0071.html">
<meta name="DC.Relation" scheme="URI" content="vrp_isis_ipv4_cfg_1171.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176663859">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring IS-IS Routing Domain Authentication</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176663859"></a><a name="EN-US_TASK_0000001176663859"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring IS-IS Routing Domain Authentication</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001176663859__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>The routing domain authentication password is encapsulated into Level-2 area IS-IS packets. Only authenticated packets are accepted. To implement Level-2 area authentication, configure IS-IS routing domain authentication.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>For security purposes, you are advised not to use the weak security algorithms in IS-IS. If you need to use such an algorithm, run the <a href="cmdqueryname=install+feature-software+WEAKEA"><b><span class="cmdname">install feature-software WEAKEA</span></b></a> command first to install the weak security algorithm/protocol feature package WEAKEA.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001176663859__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enter the IS-IS view.</span><p><pre class="screen"><a href="cmdqueryname=isis"><b><span class="cmdname">isis</span></b></a> <i><span class="varname">process-id</span></i></pre>
</p></li><li><span>Configure an authentication mode as required.</span><p><ul><li>Configure simple authentication.<pre class="screen"><a href="cmdqueryname=domain-authentication-mode"><b><span class="cmdname">domain-authentication-mode</span></b></a> <span><strong><span>simple</span></strong> { <strong><span>plain</span></strong> <i><span class="varname">simple-plain</span></i> | [ <strong><span>cipher</span></strong> ] <i><span class="varname">simple-cipher</span></i> }</span> [ <strong><span>ip</span></strong> | <strong><span>osi</span></strong> ] [ <strong><span>snp-packet</span></strong> { <strong><span>authentication-avoid</span></strong> | <strong><span>send-only</span></strong> } | <strong><span>all-send-only</span></strong> ]</pre>
</li><li>Configure HMAC-MD5 authentication.<pre class="screen"><a href="cmdqueryname=domain-authentication-mode"><b><span class="cmdname">domain-authentication-mode</span></b></a> <span><strong><span>md5</span></strong> { [ <strong><span>cipher</span></strong> ] <span><i><span class="varname">md5-cipher</span></i></span><span> | <strong><span>plain</span></strong> <span><span><i><span class="varname">md5-plain</span></i></span></span></span> }</span> [ <strong><span>ip</span></strong> | <strong><span>osi</span></strong> ] [ <strong><span>snp-packet</span></strong> { <strong><span>authentication-avoid</span></strong> | <strong><span>send-only</span></strong> } | <strong><span>all-send-only</span></strong> ]</pre>
</li><li>Configure keychain authentication.<pre class="screen"><a href="cmdqueryname=domain-authentication-mode"><b><span class="cmdname">domain-authentication-mode</span></b></a> <strong><span>keychain</span></strong> <i><span class="varname">keychain-name</span></i> [ <strong><span>snp-packet</span></strong> { <strong><span>authentication-avoid</span></strong> | <strong><span>send-only</span></strong> } | <strong><span>all-send-only</span></strong> ]</pre>
</li><li>Configure HMAC-SHA256 authentication.<pre class="screen"><a href="cmdqueryname=domain-authentication-mode"><b><span class="cmdname">domain-authentication-mode</span></b></a> <strong><span>hmac-sha256</span></strong> <strong><span>key-id</span></strong> <i><span class="varname">key-id</span></i> { <span><strong><span>plain</span></strong> <i><span class="varname">plain</span></i> | </span>[ <strong><span>cipher</span></strong> ] <i><span class="varname">cipher</span></i> } [ <strong><span>snp-packet</span></strong> { <strong><span>authentication-avoid</span></strong> | <strong><span>send-only</span></strong> } | <strong><span>all-send-only</span></strong> ]</pre>
</li></ul>
</p><p><p>You can configure routing domain authentication in any of the following ways:</p>
<ul><li><p>Do not specify <strong><span>snp-packet</span></strong> or <strong><span>all-send-only</span></strong>. In this case, the device encapsulates authentication information in the LSPs and SNPs to be sent, authenticates received LSPs and SNPs, and discards the LSPs and SNPs that fail to be authenticated.</p>
</li><li><p>Specify <strong><span>snp-packet</span></strong> and <strong><span>authentication-avoid</span></strong>. In this case, the device encapsulates authentication information in the LSPs to be sent and authenticates received LSPs; the device neither encapsulates authentication information in the SNPs to be sent nor authenticates received SNPs.</p>
</li><li><p>Specify <strong><span>snp-packet</span></strong> and <strong><span>send-only</span></strong>. In this case, the device encapsulates authentication information both in the LSPs and SNPs to be sent, but authenticates only received LSPs.</p>
</li><li><p>Specify <strong><span>all-send-only</span></strong>. In this case, the device encapsulates authentication information both in the LSPs and SNPs to be sent, but does not authenticate received LSPs or SNPs.</p>
</li></ul>
<div class="notice"><span class="noticetitle"><img src="public_sys-resources/notice_3.0-en-us.png"> </span><div class="noticebody"><p>After the <a href="cmdqueryname=domain-authentication-mode"><b><span class="cmdname">domain-authentication-mode</span></b></a> command is run, IS-IS discards the Level-2 LSPs stored in the local LSDB and newly received Level-2 LSPs and SNPs when they age out if they fail authentication. To prevent those packets from being discarded due to this command configuration, specify the <strong><span>send-only</span></strong> parameter in the command.</p>
<p>Simple or HMAC-MD5 authentication is not recommended if high security is required. To prevent routing information from being tampered with, you are advised to enable authentication and use keychain or HMAC-SHA256 authentication to improve security.</p>
</div></div>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176663859__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176663859__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_isis_ipv4_cfg_0069.html">Configuring IS-IS Authentication
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_isis_ipv4_cfg_0071.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_isis_ipv4_cfg_1171.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>