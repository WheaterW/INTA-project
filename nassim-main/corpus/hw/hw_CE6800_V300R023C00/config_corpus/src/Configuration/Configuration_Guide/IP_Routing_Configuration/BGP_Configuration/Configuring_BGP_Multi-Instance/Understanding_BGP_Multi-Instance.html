
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Understanding BGP Multi-Instance">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_bgp_cfg_0155.html">
<meta name="DC.Relation" scheme="URI" content="vrp_bgp_cfg_0154.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001130624110">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Understanding BGP Multi-Instance</title>
</head>
<body><a name="EN-US_CONCEPT_0000001130624110"></a><a name="EN-US_CONCEPT_0000001130624110"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Understanding BGP Multi-Instance</h1>
<div><div class="section"><h4 class="sectiontitle">Context</h4><p>By default, all BGP routes are stored in the BGP base instance, meaning that it is impossible to implement separate route management and maintenance. BGP multi-instance can solve this problem. A device can run two types of BGP instances simultaneously: BGP base instance and BGP multi-instance. They are independent of each other and can have either the same or different AS numbers. You can deploy different address families for the BGP base instance and BGP multi-instance based on network deployment requirements to carry different routes and implement separate route management and maintenance.</p>
</div>
<div class="section"><h4 class="sectiontitle">Implementation</h4><div class="p">On the network shown in <a href="#EN-US_CONCEPT_0000001130624110__fig_dc_vrp_bgp_feature_003301">Figure 1</a>, to isolate private and public network services (by deploying public network services between DeviceA and DeviceB and private network services between DeviceB and DeviceC), configure BGP as follows:<ul><li>Configure BGP basic instance <strong>bgp 100</strong> on DeviceA.</li><li>Configure BGP basic instance <strong>bgp 100</strong> and BGP multi-instance <strong>bgp 200 instance a</strong> on DeviceB.</li><li>Configure BGP basic instance <strong>bgp 200</strong> on DeviceC.</li></ul>
Establish a public network BGP peer relationship in the BGP basic instance between DeviceA and DeviceB, and establish a BGP peer relationship in DeviceB's BGP multi-instance and DeviceC's BGP basic instance. Then, check route information on DeviceA, DeviceB, and DeviceC. If DeviceA has only the routes of DeviceB's BGP instance 100, DeviceB has all the routes, and DeviceC has only the routes of DeviceB's BGP instance 200, separate route management and maintenance have been achieved on DeviceB.</div>
<div class="fignone" id="EN-US_CONCEPT_0000001130624110__fig_dc_vrp_bgp_feature_003301"><a name="EN-US_CONCEPT_0000001130624110__fig_dc_vrp_bgp_feature_003301"></a><a name="fig_dc_vrp_bgp_feature_003301"></a><span class="figcap"><b>Figure 1 </b>Network diagram of BGP multi-instance for service isolation</span><br><span><img class="vsd" src="figure/en-us_image_0000001130783976.png" width="NaN" height="NaN"></span></div>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_bgp_cfg_0155.html">Configuring BGP Multi-Instance
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_bgp_cfg_0154.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>