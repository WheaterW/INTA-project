
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Enabling PFC">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_ai_pfcdeadlock_cfg_0006.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_dcb_cfg_0011_copy1_en.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="PFC Deadlock Prevention">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="PFC Deadlock Prevention">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="featurename" content="PFC Deadlock Prevention">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001513168446">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Enabling PFC</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001513168446"></a><a name="EN-US_TASK_0000001513168446"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Enabling PFC</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001513168446__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_context16333187112715"><p id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_p227213914278">When a link is congested by traffic of a certain type, you can configure PFC to control traffic of that type without interrupting traffic of other types.</p>
<div class="note" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_note048111167287"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_ul174813165285"><li id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_li24951345102817">To set the PFC working mode to <strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b596413167320">auto</strong>, <a href="galaxy_dcb_cfg_0018.html">configure DCBX</a>.</li><li id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_li1248151615285"><p id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_p84811916122810"><a name="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_li1248151615285"></a><a name="en-us_task_0000001513029682_li1248151615285"></a>If you configure both priority mapping and PFC, exercise caution when modifying the mappings between the priorities of PFC-enabled queues and priorities in the DiffServ domain. Otherwise, PFC may not work.</p>
</li><li id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_li827721220309">By default, PFC deadlock detection is always enabled on the device. If the device continuously receives PFC frames throughout the deadlock detection interval, the device does not respond to the PFC frames and keeps forwarding received packets, ensuring that a PFC deadlock does not occur.</li></ul>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001513168446__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_steps1883605528175459"><li id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_step1238767835175324"><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmd117045180175324">Enter the system view.</span><p><pre class="screen" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_screen1484011497269"><a href="cmdqueryname=system-view"><b><span class="cmdname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdname193313812175324">system-view</span></b></a></pre>
</p></li><li id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_step783917314171"><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmd58409317173">Enable PFC globally.</span><p><pre class="screen" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_screen165816304316"><a href="cmdqueryname=undo+dcb+pfc+global+disable"><b><span class="cmdname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdname13809449191715">undo dcb pfc global disable</span></b></a></pre>
<p id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_p0973133431815">By default, PFC is enabled globally.</p>
<p id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_p1081082862318">You can enable PFC on a specified interface only after PFC has been enabled globally. If the <a href="cmdqueryname=dcb+pfc+global+disable"><b><span class="cmdname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdname899782842311">dcb pfc global disable</span></b></a> command is run to disable PFC globally, PFC is also disabled on a PFC-enabled interface.</p>
</p></li><li id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_step7719835113912"><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmd8719163563917">Configure the chip-level headroom buffer. (This step is mandatory for the <span>CE6855-48XS8CQ, CE6863E-48S8CQ, CE6885, CE6885-LL, CE6885-SAN, CE6885-T, CE8851-32CQ4BQ, CE8855</span>.)</span><p><pre class="screen" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_screen5838423174415"><strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b1568413217475"><a href="cmdqueryname=qos+buffer+headroom-pool"><b><span class="cmdname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdname162182039145116">qos buffer headroom-pool</span></b></a> <strong><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdparmname3976185220512">size</span></strong></strong> <em id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_i141761810124710"><i><span class="varname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_varname119001692525">size</span></i></em> { <strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b2053011135478"><strong><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdparmname34255711518">kbytes</span></strong></strong> | <strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b105429169479"><strong><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdparmname494752185212">mbytes</span></strong></strong> } <strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b1933641934710">slot</strong> <em id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_i524825184711"><i><span class="varname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_varname15350101545220">slot-id</span></i></em></pre>
<p id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_p3980141721010">By default, the chip-level headroom buffer is not manually configured. The recommended chip-level headroom buffer is the sum of the headroom buffer thresholds configured for PFC queues in the inbound direction on PFC-enabled interfaces that are prone to congestion. Determine such interfaces based on the live network traffic model.</p>
</p></li><li id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_step65386514596"><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmd195391451175911">Create a PFC profile and enter the PFC profile view.</span><p><pre class="screen" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_screen1953141518436"><a href="cmdqueryname=dcb+pfc"><b><span class="cmdname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdname11539165135916">dcb pfc</span></b></a> [ <em id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_i1794916378581"><i><span class="varname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_varname324874411588">profilename</span></i></em> ]</pre>
<p id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_p5539145115598">By default, the system provides the PFC profile <strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b162762416614">default</strong>. This profile can be modified but not deleted. You can create a PFC profile or modify the default PFC profile according to service requirements.</p>
</p></li><li id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_step853965195917"><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmd653985185919">Specify the priority queue for which PFC is enabled.</span><p><ul id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_ul10846122513139"><li id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_li1521914564145">For the <span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_ph31871643171614">CE6866, CE6860-SAN, CE6866K, CE6860-HAM, CE8851-32CQ8DQ-P, CE8850-SAN, CE8851K, CE8850-HAM</span>:<pre class="screen" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_screen279714417158"><a href="cmdqueryname=priority"><b><span class="cmdname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdname1515348121512">priority</span></b></a> { <i><span class="varname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_varname515314811157">priority</span></i> } &amp;&lt;1-3&gt;</pre>
</li><li id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_li146219176155">For the <span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_ph186259155543">CE6855-48XS8CQ, CE6863E-48S8CQ, CE6885, CE6885-LL, CE6885-SAN, CE6885-T, CE8851-32CQ4BQ, CE8855</span>:<pre class="screen" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_screen35591329131513"><a href="cmdqueryname=priority"><b><span class="cmdname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdname699373261511">priority</span></b></a> { <i><span class="varname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_varname699313221513">priority</span></i> } &amp;&lt;1-4&gt;</pre>
</li></ul>
<p id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_p3503124153516">By default, PFC is enabled for priority 3.</p>
<div class="note" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_note18850182892710"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_p1027969172413">If you run this command multiple times, all configurations take effect.</p>
<p id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_p690043793916">For the <span>CE6855-48XS8CQ, CE6863E-48S8CQ, CE6885, CE6885-LL, CE6885-SAN, CE6885-T, CE8851-32CQ4BQ, CE8855</span>: PFC can be enabled for a maximum of three queues in addition to priority queue 3.</p>
<p id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_p146280518397">For the <span>CE6866, CE6860-SAN, CE6866K, CE6860-HAM, CE8851-32CQ8DQ-P, CE8850-SAN, CE8851K, CE8850-HAM</span>:</p>
<ul id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_ul134572714217"><li id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_li19745142219427">PFC can be enabled for a maximum of three queues.</li><li id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_li1935292624218">If PFC has been enabled for three queues and the system software is downgraded to a version where PFC can be enabled for only two queues, the configuration is lost. That is, PFC is not enabled for any queue.</li><li id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_li124575715425">If PFC has been enabled for no more than two queues and the system software is downgraded to a version where PFC can be enabled for only two queues, the configuration is retained. That is, PFC that has been enabled for queues still takes effect.</li></ul>
</div></div>
</p></li><li id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_step687203414346"><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmd20871133423411">Return to the system view.</span><p><pre class="screen" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_screen1879253494411"><a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdname1370616357343">quit</span></b></a></pre>
</p></li><li id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_step8890646411"><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmd28901546116">Enter the view of the interface for which PFC is to be enabled.</span><p><pre class="screen" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_screen8829134514443"><a href="cmdqueryname=interface"><b><span class="cmdname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdname38901546416">interface</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_varname108901246813">interface-type interface-number</span></i></pre>
</p></li><li id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_step2137861912175324"><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmd1496257027175324">(Optional) Set the thresholds for triggering and stopping PFC frames in the inbound direction of a PFC queue.</span><p><ul id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_ul18581551018"><li id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_li158581552001">For the <span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_ph198581150011">CE6866, CE6860-SAN, CE6866K, CE6860-HAM, CE8851-32CQ8DQ-P, CE8850-SAN, CE8851K, CE8850-HAM</span>:<pre class="screen" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_screen138581454011"><a href="cmdqueryname=dcb+pfc+buffer"><b><span class="cmdname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdname1993116112316">dcb pfc buffer</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_varname393111132">queue-index</span></i> <strong><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdparmname1493111117312">xon</span></strong> <strong><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdparmname2931715316">static</span></strong> <i><span class="varname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_varname393161531">xon-value</span></i> { <strong><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdparmname3931011633">kbytes</span></strong> | <strong><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdparmname39311411830">mbytes</span></strong> } <strong><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdparmname1193151438">xoff</span></strong> <strong><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdparmname149317120320">static</span></strong> <i><span class="varname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_varname1093121735">xoff-value</span></i> { <strong><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdparmname19311912313">kbytes</span></strong> | <strong><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdparmname6931211034">mbytes</span></strong> }</pre>
<pre class="screen" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_screen756353314310"><a href="cmdqueryname=dcb+pfc+buffer"><b><span class="cmdname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdname224616403316">dcb pfc buffer</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_varname824617409319">queue-index</span></i> <strong><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdparmname19246184011310">xon</span></strong> <strong><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdparmname32466402311">dynamic</span></strong> <em id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_i152460404318">alpha-value</em> <strong><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdparmname14246640231">xoff</span></strong> <strong><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdparmname16246124010319">dynamic</span></strong> <em id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_i102469403312">alpha-value</em></pre>
</li><li id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_li188581051107">For the <span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_ph145988409543">CE6855-48XS8CQ, CE6863E-48S8CQ, CE6885, CE6885-LL, CE6885-SAN, CE6885-T, CE8851-32CQ4BQ, CE8855</span>:<pre class="screen" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_screen7858851902"><strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b1839944911412"><a href="cmdqueryname=dcb+pfc+buffer"><b><span class="cmdname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdname737193120248">dcb pfc buffer</span></b></a></strong> <em id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_i7399104911419">queue-index</em> <strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b540019491248">xoff</strong> { <strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b34004491414">static</strong> <em id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_i104001249249">xoff-value</em> [ <strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b114001649544">kbytes</strong> | <strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b1440018491244">mbytes</strong> ] | <strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b19400184911410">dynamic</strong> <em id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_i1240011494410">alpha-value</em> } [ <strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b15400114915411">xon offset</strong> <em id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_i74001849242">offset-value</em> [ <strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b04001249747">kbytes</strong> | <strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b9400104920413">mbytes</strong> ] ]</pre>
</li></ul>
<p id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_p0518143111599">By default, the thresholds for triggering and stopping PFC frames for a PFC queue in the inbound direction are not configured.</p>
</p></li><li id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_step188941639163211"><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmd88933393328">(Optional) Configure the guaranteed and headroom buffer thresholds for a PFC queue in the inbound direction. (Supported only by the <span>CE6855-48XS8CQ, CE6863E-48S8CQ, CE6885, CE6885-LL, CE6885-SAN, CE6885-T, CE8851-32CQ4BQ, CE8855</span>.)</span><p><pre class="screen" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_screen15131174110332"><strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b124531445143317"><a href="cmdqueryname=dcb+pfc+buffer"><b><span class="cmdname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdname1741642105716">dcb pfc buffer</span></b></a></strong> <em id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_i445314516330"><i><span class="varname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_varname4782158125715">queue-index</span></i></em> <strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b4453745123320"><strong><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdparmname112653811577">guaranteed</span></strong></strong> <em id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_i1145374523316"><i><span class="varname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_varname1688062185812">guaranteed-value</span></i></em> [ <strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b4453114516335"><strong><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdparmname1498113416573">bytes</span></strong></strong> | <strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b645474563315"><strong><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdparmname1075024545717">kbytes</span></strong></strong> ]</pre>
<pre class="screen" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_screen16975204815333"><strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b17631752163317"><a href="cmdqueryname=dcb+pfc+buffer"><b><span class="cmdname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdname75233010577">dcb pfc buffer</span></b></a></strong> <em id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_i676385217336"><i><span class="varname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_varname43371576588">queue-index</span></i></em> <strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b5763165220338"><strong><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdparmname12625249185717">hdrm</span></strong></strong> <em id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_i7763105213336"><i><span class="varname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_varname566414117588">hdrm-value</span></i></em> [ <strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b1763185243313"><strong><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdparmname2083815535571">kbytes</span></strong></strong> ]</pre>
<p id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_p17646202510376">By default, the guaranteed and headroom buffer thresholds are not configured for a PFC queue in the inbound direction.</p>
<div class="note" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_note375716251402"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_ul957143814012"><li id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_li45733818404">If you run the <strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b194517412613">undo dcb pfc buffer</strong> command without specifying the <em id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_i89453462612">queue-index</em> parameter, the manually configured thresholds for triggering and stopping PFC frames, guaranteed buffer threshold, and headroom buffer threshold for all PFC queues in the inbound direction are deleted.</li><li id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_li1457143820404">If you run the <strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b471610782614">undo dcb pfc buffer</strong> <em id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_i67164712613">queue-index</em> command with only the <strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b771687162620">queue index</strong> parameter specified, the manually configured thresholds for triggering and stopping PFC frames, guaranteed buffer threshold, and headroom buffer threshold for the specified PFC queue in the inbound direction are deleted.</li></ul>
</div></div>
</p></li><li id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_step1198992691616"><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmd1990926111618">Apply a PFC profile to the interface and specify the PFC working mode.</span><p><ul id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_ul935176156"><li id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_li836176652">For the <span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_ph221315061210">CE6866, CE6860-SAN, CE6866K, CE6860-HAM, CE8851-32CQ8DQ-P, CE8850-SAN, CE8851K, CE8850-HAM</span>, <span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_ph97006265568">CE6855-48XS8CQ, CE6863E-48S8CQ, CE6885, CE6885-LL (standard forwarding mode), CE6885-SAN, CE6885-T, CE8851-32CQ4BQ, CE8855</span>:<pre class="screen" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_screen8715420357"><a href="cmdqueryname=dcb+pfc+enable"><b><span class="cmdname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdname148557281859">dcb pfc enable</span></b></a> [ <em id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_i198553281157">pfcprofile</em> ] [ <strong><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdparmname1885519284519">mode</span></strong> { <strong><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdparmname4855132817516">auto</span></strong> | <strong><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdparmname148552285517">manual</span></strong> } ]</pre>
</li><li id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_li1471613131251">For the <span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_ph766317161576">CE6885-LL (low latency mode)</span>:<pre class="screen" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_screen12273748553"><a href="cmdqueryname=dcb+pfc+enable"><b><span class="cmdname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdname1382410527512">dcb pfc enable</span></b></a> [ <em id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_i20824155212516">pfcprofile</em> ] [ <strong><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdparmname168246521753">mode</span></strong> <strong><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdparmname138240521359">manual</span></strong> ]</pre>
</li></ul>
<p id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_p16624816201917">By default, no PFC profile is applied to an interface.</p>
</p></li><li id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_step89519431737"><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmd3951443731">Configure the priority to be mapped for packets.</span><p><pre class="screen" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_screen18591713134611"><strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b14951434314"><a href="cmdqueryname=trust"><b><span class="cmdname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdname10950438311">trust</span></b></a></strong> { <strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b49511431935">8021p</strong> { <strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b12951443734">inner</strong> | <strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b4961943131">outer</strong> } | <strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b296164315313">dscp</strong> }</pre>
<p id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_p5964439320">By default, packets are processed based on the mapping of the outer 802.1p priority.</p>
</p></li><li id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_step14309193117122"><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmd123101631171214">Return to the system view.</span><p><pre class="screen" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_screen18414153012469"><a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdname1310143115120">quit</span></b></a></pre>
</p></li><li id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_step235315612412"><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmd103531164416">(Optional) Enable a PFC-enabled device to implement backpressure based on the internal priority. (Supported only by the <span>CE6855-48XS8CQ, CE6863E-48S8CQ, CE6885, CE6885-LL (standard forwarding mode), CE6885-SAN, CE6885-T, CE8851-32CQ4BQ, CE8855</span>.)</span><p><pre class="screen" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_screen3622194212467"><a href="cmdqueryname=dcb+pfc+dscp-mapping+enable"><b><span class="cmdname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_cmdname1235318618412">dcb pfc dscp-mapping enable</span></b></a> <strong id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_b143531861644">slot</strong> <i><span class="varname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_varname83531468410">slot-id</span></i></pre>
<p id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_p15353661548">By default, a PFC-enabled device implements backpressure based on the 802.1p priority of packets. </p>
</p></li><li id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_step814088294175324"><span id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_en-us_task_0138780877_cmd764557967182229">Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_screen716892653310"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001513168446__en-us_task_0000001513029682_en-us_task_0138780877_cmdname1903563622182229">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_ai_pfcdeadlock_cfg_0006.html">Configuring Basic PFC Functions
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_dcb_cfg_0011_copy1_en.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>