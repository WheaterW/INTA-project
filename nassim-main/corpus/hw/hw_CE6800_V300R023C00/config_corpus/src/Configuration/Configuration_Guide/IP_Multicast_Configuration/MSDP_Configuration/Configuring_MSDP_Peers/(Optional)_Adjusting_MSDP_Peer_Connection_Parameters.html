
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Adjusting MSDP Peer Connection Parameters">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_msdp_cfg_0009.html">
<meta name="DC.Relation" scheme="URI" content="vrp_msdp_cfg_0035.html">
<meta name="DC.Relation" scheme="URI" content="vrp_msdp_cfg_0012.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="MSDP">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MSDP">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="MSDP">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176743375">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>(Optional) Adjusting MSDP Peer Connection Parameters</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176743375"></a><a name="EN-US_TASK_0000001176743375"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Adjusting MSDP Peer Connection Parameters</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001176743375__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>You can adjust the retry interval for establishing an MSDP peer relationship and KeepAlive parameters as required.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001176743375__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enter the MSDP view.</span><p><pre class="screen"><strong><a href="cmdqueryname=msdp"><b><span class="cmdname">msdp</span></b></a></strong> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name </span></i>]</pre>
</p></li><li><span>(Optional) Set the interval at which MSDP peers retry a connection setup with each other.</span><p><pre class="screen"><strong><a href="cmdqueryname=timer+retry"><b><span class="cmdname">timer retry</span></b></a></strong> <em><i><span class="varname">timeRetryInterval</span></i></em></pre>
<p>By default, the interval for retrying MSDP peer connection setup is 30 seconds.</p>
<p>A TCP connection needs to be immediately set up between MSDP peers when a new MSDP peer relationship is created, an ended MSDP peer connection is restarted, or a faulty MSDP peer attempts to re-set up a connection. You can run this command to flexibly adjust the interval at which MSDP peers retry a connection setup.</p>
</p></li><li><span>(Optional) Set a holdtime period for MSDP peer entries.</span><p><pre class="screen"><strong><a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a></strong> <em><i><span class="varname">peer-address</span></i></em> <strong><a href="cmdqueryname=hold-time-interval"><b><span class="cmdname">hold-time-interval</span></b></a></strong> <em><i><span class="varname">holdtime-value</span></i></em></pre>
<p>By default, the holdtime period of MSDP peer entries is 90s.</p>
<p>After an MSDP peer relationship is established, the devices at both ends generate MSDP peer entries, record MSDP peer information, and start the hold timer for the entries. The hold timer is reset each time a KeepAlive message is received from the MSDP peer and deleted when the connection is disabled.</p>
</p></li><li><span>(Optional) Set the interval for sending KeepAlive messages to the MSDP peer.</span><p><pre class="screen"><strong><a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a></strong> <em>peer-address</em> <strong><a href="cmdqueryname=keepalive-interval"><b><span class="cmdname">keepalive-interval</span></b></a></strong> <em>keepalive-time-value</em></pre>
<p>By default, the interval for sending KeepAlive messages to the MSDP peer is 60 seconds.</p>
<p>After an MSDP peer relationship is established, devices at both ends of the connection send KeepAlive messages and start the KeepAlive timer to control the interval for sending such messages. The local end sends a KeepAlive message to the peer and resets the KeepAlive timer whenever a KeepAlive period ends and deletes the timer when the connection is disabled.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The interval at which KeepAlive messages are sent must be shorter than the holdtime period of MSDP peer entries configured using the <strong><a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a></strong> <em>peer-address</em> <strong><a href="cmdqueryname=hold-time-interval"><b><span class="cmdname">hold-time-interval</span></b></a></strong> <em>holdtime-value</em> command on the peer.</p>
</div></div>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176743375__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176743375__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_msdp_cfg_0009.html">Configuring MSDP Peers
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_msdp_cfg_0035.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_msdp_cfg_0012.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>