
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Basic Functions of a Script Assistant">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_ops_cfg_0012.html">
<meta name="DC.Relation" scheme="URI" content="vrp_ops_cfg_0023.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="OPS">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="OPS">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="OPS">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001512845494">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring Basic Functions of a Script Assistant</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001512845494"></a><a name="EN-US_TASK_0000001512845494"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Basic Functions of a Script Assistant</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001512845494__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>In a script assistant, trigger conditions and tasks must be defined using the Python ops_condition() and ops_execute() functions, respectively. A script assistant can be triggered by command line, timer, and route change events.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001512845494__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Upload a Python script file to the device. </span><p><p>For details about how to upload a file to the device, see <a href="vrp_file_cfg_0001.html">File System Management</a>.</p>
</p></li><li><span>Install the script file in the user view.</span><p><pre class="screen"><a href="cmdqueryname=ops+install+file"><b><span class="cmdname">ops install file</span></b></a> <i><span class="varname">scrFile</span></i> [ <strong><span>destination</span></strong> <i><span class="varname">directory</span></i> ]</pre>
<div class="p">If you do not specify <strong><span>destination</span></strong> <i><span class="varname">directory</span></i> in the command, the script is installed in flash:/$_user/ by default. If this parameter is specified, the script is installed in flash:/$_user/<i><span class="varname">directory</span></i>/.<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If the specified directory does not exist, the system automatically creates the directory. A maximum of seven levels of subdirectories can be created under flash:/$_user/.</p>
</div></div>
</div>
</p></li><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enter the OPS view.</span><p><pre class="screen"><a href="cmdqueryname=ops"><b><span class="cmdname">ops</span></b></a></pre>
</p></li><li><span>(Optional) Configure an environment variable.</span><p><pre class="screen"><a href="cmdqueryname=environment"><b><span class="cmdname">environment</span></b></a> <i><span class="varname">env-name</span></i> <i><span class="varname">env-value</span></i></pre>
<div class="p">The OPS supports the following environment variables:<ul><li><p>System environment variables: environment variables that are automatically generated during system running.</p>
</li><li><p>User environment variables: environment variables that are configured using the <a href="cmdqueryname=environment"><b><span class="cmdname">environment</span></b></a> command.</p>
</li></ul>
</div>
<p>Intermediate data generated during Python script running is lost after the Python is shut down. You can configure the Python script's running variable as an environment variable so that data can be saved and used by other users.</p>
</p></li><li><span>Create a script assistant.</span><p><pre class="screen"><a href="cmdqueryname=script-assistant+python"><b><span class="cmdname">script-assistant python</span></b></a> <i><span class="varname">script-name</span></i></pre>
<p>A script assistant is enabled by default after being created. When the trigger condition specified in a Python script is met, the tasks specified in the script will be automatically executed.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001512845494__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001512845494__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_ops_cfg_0012.html">Configuring a Script Assistant
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_ops_cfg_0023.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>