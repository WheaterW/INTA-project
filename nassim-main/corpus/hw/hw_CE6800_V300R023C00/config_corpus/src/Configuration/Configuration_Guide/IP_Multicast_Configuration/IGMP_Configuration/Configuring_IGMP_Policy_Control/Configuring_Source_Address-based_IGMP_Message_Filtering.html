
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Source Address-based IGMP Message Filtering">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_igmp_cfg_0017.html">
<meta name="DC.Relation" scheme="URI" content="vrp_igmp_cfg_0018.html">
<meta name="DC.Relation" scheme="URI" content="vrp_igmp_cfg_0020.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IGMP">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001130784224">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring Source Address-based IGMP Message Filtering</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001130784224"></a><a name="EN-US_TASK_0000001130784224"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Source Address-based IGMP Message Filtering</h1>
<div class="taskbody"><div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001130784224__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>Before configuring source address-based IGMP message filtering, configure a basic ACL or an advanced ACL.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001130784224__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>To improve security and prevent other devices on a network from forging IGMP messages to affect normal multicast services, you can configure source address-based IGMP message filtering on the interfaces connecting the device to user hosts.</p>
<p>By default, source address-based IGMP message filtering is not configured on a device.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001130784224__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Return to the system view.</span><p><pre class="screen"><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></pre>
</p></li><li><span>Enter the view of the interface connected to the user network segment.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></pre>
</p></li><li><span>Switch the interface working mode from Layer 2 to Layer 3.</span><p><pre class="screen"><a href="cmdqueryname=undo+portswitch"><b><span class="cmdname">undo portswitch</span></b></a></pre>
<p> Determine whether to perform this step based on the current interface working mode.</p>
</p></li><li><span>Configure source address-based IGMP Report or Leave message filtering.</span><p><pre class="screen"><a href="cmdqueryname=igmp+ip-source-policy"><b><span class="cmdname">igmp ip-source-policy</span></b></a> [ <i><span class="varname">basic-acl-number</span></i> | <strong><span>acl-name</span></strong> <i><span class="varname">acl-name</span></i> ]</pre>
</p><p><div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If this command is run but no ACL rule is configured, the device processes only the IGMP Report or Leave messages whose source address is 0.0.0.0 or on the same network segment as the address of the interface receiving the messages.</p>
<div class="p">If an ACL is configured on an interface, the interface performs source address-based filtering for IGMP Report or Leave messages according to the following rules:<ul><li>If an IGMP Report or Leave message matches an ACL rule and the action is <strong>permit</strong>, the interface accepts this message.</li><li>If an IGMP Report or Leave message matches an ACL rule and the action is <strong>deny</strong>, the interface rejects this message.</li><li>If an IGMP Report or Leave message does not match any ACL rule, the interface rejects this message.</li><li>If a specified ACL does not exist or contain rules, the interface rejects all IGMP Report and Leave messages.</li></ul>
</div>
</div></div>
</p></li><li><span>Configure source address-based IGMP Query message filtering.</span><p><pre class="screen"><a href="cmdqueryname=igmp+query+ip-source-policy"><b><span class="cmdname">igmp query ip-source-policy</span></b></a> { <i><span class="varname">basic-acl-number</span></i> | <strong><span>acl-name</span></strong> <i><span class="varname">acl-name</span></i> }</pre>
</p><p><div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>After this command is run, the processing rules are as follows:</p>
<ul><li>If an IGMP Query message matches an ACL rule and the action is <strong>permit</strong>, the interface accepts this message.</li><li>If an IGMP Query message matches an ACL rule and the action is <strong>deny</strong>, the interface rejects this message.</li><li>If an IGMP Query message does not match any ACL rule, the interface rejects this message.</li><li>If a specified ACL does not exist or contain rules, the interface rejects all IGMP Query messages.</li></ul>
</div></div>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen"><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_igmp_cfg_0017.html">Configuring IGMP Policy Control
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_igmp_cfg_0018.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_igmp_cfg_0020.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>