
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Maintaining the Device CLI">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_login_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="vrp_login_cfg_0013.html">
<meta name="DC.Relation" scheme="URI" content="vrp_login_cfg_0019.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Console">
<meta name="featurename" content="Stelnet">
<meta name="featurename" content="Telnet">
<meta name="featurename" content="CLI-based Device Login">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Console">
<meta name="featurename" content="Stelnet">
<meta name="featurename" content="Telnet">
<meta name="featurename" content="CLI-based Device Login">
<meta name="featuretype" content="Basic Configuration">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001513053090">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Maintaining the Device CLI</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001513053090"></a><a name="EN-US_TASK_0000001513053090"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Maintaining the Device CLI</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001513053090__1.3.1"></a><a name="1.3.1"></a>
<div class="p"><h4 class="sectiontitle">Deleting Online Users</h4><p>To disconnect a login user from a device, you can delete the user.</p>
<p>Run the <a href="cmdqueryname=kill+user-interface"><b><span class="cmdname">kill user-interface</span></b></a> { <i><span class="varname">ui-number</span></i> | <i><span class="varname">ui-type</span></i> <i><span class="varname">ui-number1</span></i> } command to delete online users.</p>
<p>Run the <a href="cmdqueryname=display+users"><b><span class="cmdname">display users</span></b></a> command to view information about users who have logged in to the device.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001513053090__1.3.2"></a><a name="1.3.2"></a>
<div class="p"><h4 class="sectiontitle">Locking Configuration Rights</h4><p>When multiple users log in to the device to perform configurations at the same time, conflicts may occur. To avoid service exceptions, you can configure exclusive configuration rights to ensure that only one user can perform configurations at a time.</p>
<ul><li><div class="p">Method 1: Lock configuration rights based on the session.<ol><li>Lock configuration rights for the current user.<pre class="screen"><a href="cmdqueryname=configuration+exclusive"><b><span class="cmdname">configuration exclusive</span></b></a></pre>
<p>After the command is executed, the configuration rights are exclusive to the current user.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li><p>This command applies to all views.</p>
</li><li><p>You can run the <a href="cmdqueryname=display+configuration+exclusive+user"><b><span class="cmdname">display configuration exclusive user</span></b></a> command to check information about a user who holds an exclusive lock on the configuration rights.</p>
</li><li><p>If the configuration rights have been locked, a message will be displayed when you attempt to lock the configuration rights again.</p>
</li></ul>
</div></div>
</li><li>Enter the system view.<pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</li><li>(Optional) Configure the lockout period after which the system automatically unlocks the configuration rights.<pre class="screen"><a href="cmdqueryname=configuration+exclusive+timeout"><b><span class="cmdname">configuration exclusive timeout</span></b></a> <i><span class="varname">timeout-value</span></i></pre>
<p>This command specifies the maximum period for locking the configuration rights for a specific user when no configuration command is delivered. After the specified period expires, the system automatically unlocks the configuration rights and other users can perform configurations.</p>
<p>By default, the lockout period is 30 seconds.</p>
</li><li>Commit the configuration.<pre class="screen"><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></pre>
</li></ol>
</div>
</li><li><p>Method 2: Lock the configurations based on the user name.</p>
<p>Multiple users can access a device in order to manage it. These users can be controller users or other types of users. If a non-controller user logs in to the device and modifies device configurations in a scenario where the controller is deployed, the configurations delivered by the controller may be different from those on the device. To avoid this, you can run the <a href="cmdqueryname=configuration+exclusive+by-user-name"><b><span class="cmdname">configuration exclusive by-user-name</span></b></a> command to lock the system configuration for a specified controller user.</p>
<div class="p">When multiple users manage a device, you can lock the device for a specified user name, so that only users who log in to the device using this user name can modify device configurations.<ol><li>Enter the system view.<pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</li><li>Lock the system configuration for a specified user name.<pre class="screen"><a href="cmdqueryname=configuration+exclusive+by-user-name"><b><span class="cmdname">configuration exclusive by-user-name</span></b></a> <i><span class="varname">user-name</span></i></pre>
<p>By default, the system configuration is not locked.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li><p>The system configuration can be locked for one user name at a time.</p>
</li><li><p>Only users of the management privilege level can lock and unlock the system configuration.</p>
</li><li><p>After the system configuration is locked for a specified user name, only users with this user name can perform configuration operations. The configuration operations performed by other users cannot take effect. To make other users' configurations take effect, run the <a href="cmdqueryname=undo+configuration+exclusive+by-user-name"><b><span class="cmdname">undo configuration exclusive by-user-name</span></b></a> <i><span class="varname">user-name</span></i> command to unlock the configuration.</p>
</li><li><p>When running the <a href="cmdqueryname=undo+configuration+exclusive+by-user-name"><b><span class="cmdname">undo configuration exclusive by-user-name</span></b></a> <i><span class="varname">user-name</span></i> command, ensure that <i><span class="varname">user-name</span></i> is set to the user name for which the configuration is locked.</p>
</li><li>Run the <a href="cmdqueryname=display+configuration+exclusive+by-user-name"><b><span class="cmdname">display configuration exclusive by-user-name</span></b></a> command to view lock information about system configuration that is locked or unlocked based on the user name.</li></ul>
</div></div>
</li><li>Commit the configuration.<pre class="screen"><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></pre>
</li></ol>
</div>
</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001513053090__1.3.3"></a><a name="1.3.3"></a>
<div class="p"><h4 class="sectiontitle">Locking a User Interface</h4><p>When you need to temporarily stop operating the terminal, lock the user interface to prevent unauthorized users from operating it.</p>
<ol><li>Run the <a href="cmdqueryname=lock"><b><span class="cmdname">lock</span></b></a> command to lock the user interface.</li><li>Enter the lock password and confirm it when prompted.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>lock</strong>
Enter Password:
Confirm Password:
Info: The terminal is locked.</pre>
<p>After running the <a href="cmdqueryname=lock"><b><span class="cmdname">lock</span></b></a> command, you are prompted to enter and then confirm the lock password. If the two passwords are the same, the user interface is locked.</p>
<p>To unlock the user interface, press <strong>Enter</strong>, and then enter the login password as prompted.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>After the weak password dictionary maintenance function is enabled, the passwords (which can be queried using the <a href="cmdqueryname=display+security+weak-password-dictionary"><b><span class="cmdname">display security weak-password-dictionary</span></b></a> command) defined in the weak password dictionary cannot be specified in this command.</p>
</div></div>
</li></ol>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001513053090__1.3.4"></a><a name="1.3.4"></a>
<div class="p"><h4 class="sectiontitle">User Interface Communication</h4><p>When multiple users concurrently log in to the device, the device supports message exchanges between user interfaces.</p>
<ol><li>Run the <a href="cmdqueryname=send"><b><span class="cmdname">send</span></b></a> { <strong><span>all</span></strong> | <i><span class="varname">ui-type</span></i> <i><span class="varname">ui-number</span></i> } command to specify the user interface from which messages are to be sent.</li><li>Enter a message and send it as prompted.<p>After entering a message on the current user interface, press <strong>Enter</strong> or <strong>Ctrl</strong>+<strong>Z</strong> to send the message. You can also press <strong>Ctrl</strong>+<strong>C</strong> to cancel message sending. After receiving the message, the target user interface immediately displays it.</p>
<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt;<strong> send all </strong>
Enter message, end with CTRL+Z or Enter; abort with CTRL+C: 
hello<font style="font-size:8pt" Face="Courier New" >~</font>! 
Send message? [Y/N]:Y</pre>
</li></ol>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_login_cfg_0001.html">CLI-based Device Login Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_login_cfg_0013.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_login_cfg_0019.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>