
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Understanding SNMPv1">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_snmp_cfg_0018.html">
<meta name="DC.Relation" scheme="URI" content="vrp_snmp_cfg_0019.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="SNMP">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001513150386">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Understanding SNMPv1</title>
</head>
<body><a name="EN-US_CONCEPT_0000001513150386"></a><a name="EN-US_CONCEPT_0000001513150386"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Understanding SNMPv1</h1>
<div><p>SNMP defines five types of protocol data units (PDUs), also called SNMP messages, exchanged between the workstation and agent.</p>
<ul><li><p>Get-Request PDUs: Generated and transmitted by the workstation to obtain one or more parameter values from an agent.</p>
</li><li><p>Get-Next-Request PDUs: Generated and transmitted by the workstation to obtain parameter values in alphabetical order from an agent.</p>
</li><li><p>Set-Request PDUs: Used to set one or more parameter values for an agent.</p>
</li><li><p>Get-Response PDUs: Contain one or more parameters. They are generated by an agent and transmitted in reply to any of the preceding operations.</p>
</li><li><p>Traps: Messages that originate with an agent and are sent to inform the workstation of network events.</p>
</li></ul>
<p>The first three operations are sent by the workstation to an agent, and the latter two operations are sent by an agent to the workstation. For simplification, the first three operations are described as Get, Get-Next, and Set operations. <a href="#EN-US_CONCEPT_0000001513150386__fig_dc_vrp_snmp_feature_000901">Figure 1</a> shows the five SNMP packet operations.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>By default, an agent uses port 161 to receive Get and Set messages, and the workstation uses port 162 to receive traps.</p>
</div></div>
<div class="fignone" id="EN-US_CONCEPT_0000001513150386__fig_dc_vrp_snmp_feature_000901"><a name="EN-US_CONCEPT_0000001513150386__fig_dc_vrp_snmp_feature_000901"></a><a name="fig_dc_vrp_snmp_feature_000901"></a><span class="figcap"><b>Figure 1 </b>SNMP operations and messages</span><br><span><img class="vsd" src="figure/en-us_image_0000001564110533.png"></span></div>
<p>An SNMP message consists of a common SNMP header, a Get/Set header, a trap header, and variable binding.</p>
<div class="section"><h4 class="sectiontitle">Common SNMP Header</h4><p>A common SNMP header has the following fields:</p>
<ul><li><p>Version</p>
<p>The value for this field is determined by subtracting one from the actual version number. For example, the version field value of an SNMPv1 message is 0.</p>
</li><li><p>Community</p>
<p>The community is a simple text password shared by the workstation and an agent. It is a string. A common value is the 6-character string "public".</p>
</li><li><p>PDU type</p>
<p>There are five types of PDUs in total, as listed in <a href="#EN-US_CONCEPT_0000001513150386__tab_dc_vrp_snmp_feature_000901">Table 1</a>.</p>
</li></ul>

<div class="tableBorder"><a name="EN-US_CONCEPT_0000001513150386__tab_dc_vrp_snmp_feature_000901"></a><a name="tab_dc_vrp_snmp_feature_000901"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_CONCEPT_0000001513150386__tab_dc_vrp_snmp_feature_000901" frame="border" border="1" rules="all"><caption><b>Table 1 </b>PDU types</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="23.75%" id="mcps1.3.7.4.2.3.1.1" liSelected="liSelected"><p>PDU Type</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="76.25%" id="mcps1.3.7.4.2.3.1.2" liSelected="liSelected"><p>Name</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="23.75%" headers="mcps1.3.7.4.2.3.1.1 "><p>0</p>
</td>
<td class="cellrowborder" valign="top" width="76.25%" headers="mcps1.3.7.4.2.3.1.2 "><p>Get-Request</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="23.75%" headers="mcps1.3.7.4.2.3.1.1 "><p>1</p>
</td>
<td class="cellrowborder" valign="top" width="76.25%" headers="mcps1.3.7.4.2.3.1.2 "><p>Get-Next-Request</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="23.75%" headers="mcps1.3.7.4.2.3.1.1 "><p>2</p>
</td>
<td class="cellrowborder" valign="top" width="76.25%" headers="mcps1.3.7.4.2.3.1.2 "><p>Get-Response</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="23.75%" headers="mcps1.3.7.4.2.3.1.1 "><p>3</p>
</td>
<td class="cellrowborder" valign="top" width="76.25%" headers="mcps1.3.7.4.2.3.1.2 "><p>Set-Request</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="23.75%" headers="mcps1.3.7.4.2.3.1.1 "><p>4</p>
</td>
<td class="cellrowborder" valign="top" width="76.25%" headers="mcps1.3.7.4.2.3.1.2 "><p>Trap</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section"><h4 class="sectiontitle">Get/Set Header</h4><ul><li><p>Request ID</p>
<p>An integer set by the workstation. It is carried in Get-Request messages sent by the workstation and in Get-Response messages returned by an agent. The workstation can send Get messages to multiple agents simultaneously. All Get messages are transmitted using UDP. A response to the request message sent first may be the last to arrive. In such cases, Request IDs carried in the Get-Response messages enable the workstation to identify the returned messages.</p>
</li><li><p>Error status</p>
<p>An agent enters a value in this field of a Get-Response message to specify an error, as listed in <a href="#EN-US_CONCEPT_0000001513150386__tab_dc_vrp_snmp_feature_000902">Table 2</a>.</p>
</li></ul>

<div class="tableBorder"><a name="EN-US_CONCEPT_0000001513150386__tab_dc_vrp_snmp_feature_000902"></a><a name="tab_dc_vrp_snmp_feature_000902"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_CONCEPT_0000001513150386__tab_dc_vrp_snmp_feature_000902" frame="border" border="1" rules="all"><caption><b>Table 2 </b>Error status</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="16.79%" id="mcps1.3.8.3.2.4.1.1" liSelected="liSelected"><p>Value</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="26.529999999999998%" id="mcps1.3.8.3.2.4.1.2" liSelected="liSelected"><p>Name</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="56.68%" id="mcps1.3.8.3.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="16.79%" headers="mcps1.3.8.3.2.4.1.1 "><p>0</p>
</td>
<td class="cellrowborder" valign="top" width="26.529999999999998%" headers="mcps1.3.8.3.2.4.1.2 "><p>noError</p>
</td>
<td class="cellrowborder" valign="top" width="56.68%" headers="mcps1.3.8.3.2.4.1.3 "><p>No error exists.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="16.79%" headers="mcps1.3.8.3.2.4.1.1 "><p>1</p>
</td>
<td class="cellrowborder" valign="top" width="26.529999999999998%" headers="mcps1.3.8.3.2.4.1.2 "><p>tooBig</p>
</td>
<td class="cellrowborder" valign="top" width="56.68%" headers="mcps1.3.8.3.2.4.1.3 "><p>The agent cannot encapsulate its response in an SNMP message.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="16.79%" headers="mcps1.3.8.3.2.4.1.1 "><p>2</p>
</td>
<td class="cellrowborder" valign="top" width="26.529999999999998%" headers="mcps1.3.8.3.2.4.1.2 "><p>noSuchName</p>
</td>
<td class="cellrowborder" valign="top" width="56.68%" headers="mcps1.3.8.3.2.4.1.3 "><p>A nonexistent variable is contained in a message.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="16.79%" headers="mcps1.3.8.3.2.4.1.1 "><p>3</p>
</td>
<td class="cellrowborder" valign="top" width="26.529999999999998%" headers="mcps1.3.8.3.2.4.1.2 "><p>badValue</p>
</td>
<td class="cellrowborder" valign="top" width="56.68%" headers="mcps1.3.8.3.2.4.1.3 "><p>A Set operation has returned an invalid value or syntax.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="16.79%" headers="mcps1.3.8.3.2.4.1.1 "><p>4</p>
</td>
<td class="cellrowborder" valign="top" width="26.529999999999998%" headers="mcps1.3.8.3.2.4.1.2 "><p>readOnly</p>
</td>
<td class="cellrowborder" valign="top" width="56.68%" headers="mcps1.3.8.3.2.4.1.3 "><p>The workstation has attempted to modify a read-only variable.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="16.79%" headers="mcps1.3.8.3.2.4.1.1 "><p>5</p>
</td>
<td class="cellrowborder" valign="top" width="26.529999999999998%" headers="mcps1.3.8.3.2.4.1.2 "><p>genErr</p>
</td>
<td class="cellrowborder" valign="top" width="56.68%" headers="mcps1.3.8.3.2.4.1.3 "><p>Other errors.</p>
</td>
</tr>
</tbody>
</table>
</div>
<ul><li><p>Error index</p>
<p>When a noSuchName, badValue, or readOnly error occurs, the agent sets an integer in the Response message to specify an offset value for the faulty variable in the list. By default, the offset value in Get-Request messages is 0.</p>
</li><li><p>Variable binding (variable-bindings)</p>
<p>The variable binding specifies the names and values of one or more variables. In the Get or Get-Next message, this field is null.</p>
</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Trap Header</h4><ul><li><p>Enterprise</p>
<p>This field is an object identifier of a network device that sends traps. The object identifier resides in the sub-tree of the enterprise object {1.3.6.1.4.1} in the object naming tree.</p>
</li><li><p>Generic trap type</p>
<p>The formal name of this field is generic-trap. <a href="#EN-US_CONCEPT_0000001513150386__tab_dc_vrp_snmp_feature_000903">Table 3</a> lists the generic trap types that can be received by SNMP.</p>
</li></ul>

<div class="tableBorder"><a name="EN-US_CONCEPT_0000001513150386__tab_dc_vrp_snmp_feature_000903"></a><a name="tab_dc_vrp_snmp_feature_000903"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_CONCEPT_0000001513150386__tab_dc_vrp_snmp_feature_000903" frame="border" border="1" rules="all"><caption><b>Table 3 </b>Generic trap types</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="16.869999999999997%" id="mcps1.3.9.3.2.4.1.1" liSelected="liSelected"><p>Value</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="27.779999999999998%" id="mcps1.3.9.3.2.4.1.2" liSelected="liSelected"><p>Type</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="55.35%" id="mcps1.3.9.3.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="16.869999999999997%" headers="mcps1.3.9.3.2.4.1.1 "><p>0</p>
</td>
<td class="cellrowborder" valign="top" width="27.779999999999998%" headers="mcps1.3.9.3.2.4.1.2 "><p>coldStart</p>
</td>
<td class="cellrowborder" valign="top" width="55.35%" headers="mcps1.3.9.3.2.4.1.3 "><p>A coldStart trap signifies that the SNMP entity, supporting a notification originator application, is reinitializing itself and that its configuration may have been altered.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="16.869999999999997%" headers="mcps1.3.9.3.2.4.1.1 "><p>1</p>
</td>
<td class="cellrowborder" valign="top" width="27.779999999999998%" headers="mcps1.3.9.3.2.4.1.2 "><p>warmStart</p>
</td>
<td class="cellrowborder" valign="top" width="55.35%" headers="mcps1.3.9.3.2.4.1.3 "><p>A warmStart trap signifies that the SNMP entity, supporting a notification originator application, is reinitializing itself such that its configuration is unaltered.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="16.869999999999997%" headers="mcps1.3.9.3.2.4.1.1 "><p>2</p>
</td>
<td class="cellrowborder" valign="top" width="27.779999999999998%" headers="mcps1.3.9.3.2.4.1.2 "><p>linkDown</p>
</td>
<td class="cellrowborder" valign="top" width="55.35%" headers="mcps1.3.9.3.2.4.1.3 "><p>An interface has changed from the up state to the down state.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="16.869999999999997%" headers="mcps1.3.9.3.2.4.1.1 "><p>3</p>
</td>
<td class="cellrowborder" valign="top" width="27.779999999999998%" headers="mcps1.3.9.3.2.4.1.2 "><p>linkUp</p>
</td>
<td class="cellrowborder" valign="top" width="55.35%" headers="mcps1.3.9.3.2.4.1.3 "><p>An interface has changed from the down state to the up state.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="16.869999999999997%" headers="mcps1.3.9.3.2.4.1.1 "><p>4</p>
</td>
<td class="cellrowborder" valign="top" width="27.779999999999998%" headers="mcps1.3.9.3.2.4.1.2 "><p>authenticationFailure</p>
</td>
<td class="cellrowborder" valign="top" width="55.35%" headers="mcps1.3.9.3.2.4.1.3 "><p>The SNMP workstation has received an invalid community name.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="16.869999999999997%" headers="mcps1.3.9.3.2.4.1.1 "><p>5</p>
</td>
<td class="cellrowborder" valign="top" width="27.779999999999998%" headers="mcps1.3.9.3.2.4.1.2 "><p>egpNeighborLoss</p>
</td>
<td class="cellrowborder" valign="top" width="55.35%" headers="mcps1.3.9.3.2.4.1.3 "><p>An EGP peer <span class="keyword">device</span> has changed to the down state.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="16.869999999999997%" headers="mcps1.3.9.3.2.4.1.1 "><p>6</p>
</td>
<td class="cellrowborder" valign="top" width="27.779999999999998%" headers="mcps1.3.9.3.2.4.1.2 "><p>enterpriseSpecific</p>
</td>
<td class="cellrowborder" valign="top" width="55.35%" headers="mcps1.3.9.3.2.4.1.3 "><p>An event defined by the agent and specified by a code.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>To send a type 2, 3, or 5 trap, you must use the first variable in the trap's variable binding field to identify the interface responding to the trap.</p>
<ul><li><p>Specific-code</p>
<p>If an agent sends a type 6 trap, the value in the Specific-code field specifies an event defined by the agent. If the trap type is not 6, this field value is 0.</p>
</li><li><p>Timestamp</p>
<p>This specifies the duration from when an agent is initializing to when an event reported by a trap occurs. This value is expressed in 10 ms. For example, a timestamp of 1908 means that an event occurred 19080 ms after initialization of the agent.</p>
</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_snmp_cfg_0018.html">Configuring a Device to Communicate with an NMS Using SNMPv1
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_snmp_cfg_0019.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>