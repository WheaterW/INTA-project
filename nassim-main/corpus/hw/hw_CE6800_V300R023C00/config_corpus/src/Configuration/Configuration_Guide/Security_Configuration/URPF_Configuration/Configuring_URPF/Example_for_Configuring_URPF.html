
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring URPF">
<meta name="abstract" content="">
<meta name="description" content="">
<meta name="product" content="">
<meta name="audience" content="other">
<meta name="DC.Relation" scheme="URI" content="galaxy_urpf_cfg_0006_22go.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_urpf_cfg_0013_22go.html">
<meta name="DC.Audience.Type" content="configuration">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="URPF">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="URPF">
<meta name="featuretype" content="Security">
<meta name="featurename" content="URPF">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security Protection">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001563990981">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Example for Configuring URPF</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001563990981"></a><a name="EN-US_TASK_0000001563990981"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring URPF</h1>
<div class="taskbody"><p></p>
<div class="context"><a name="EN-US_TASK_0000001563990981__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>As shown in <a href="#EN-US_TASK_0000001563990981__fig_dc_s_cfg_10017301">Figure 1</a>, DeviceA is connected to the ISP device through interface1 and connected to a user network through interface2. The administrator requires DeviceA to defend against source address spoofing attacks. If DeviceA cannot provide this function, unauthorized users will occupy an excessive amount of service resources by sending valid service requests, thereby preventing authorized users from communicating with each other due to a lack of response from the server.</p>
<div class="fignone" id="EN-US_TASK_0000001563990981__fig_dc_s_cfg_10017301"><a name="EN-US_TASK_0000001563990981__fig_dc_s_cfg_10017301"></a><a name="fig_dc_s_cfg_10017301"></a><span class="figcap"><b>Figure 1 </b>Network diagram of URPF configuration</span><div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In this example, interface1 and interface2 represent <span>100GE</span><span>1/0/1</span> and <span>100GE</span><span>1/0/2</span>, respectively.</p>
</div></div>
<br><span><img class="vsd" src="figure/en-us_image_0000001563990989.png"></span></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001563990981__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><p>Configure URPF on the user-side interface <span>100GE</span><span>1/0/2</span> of <span class="keyword">DeviceA</span> to prevent source IP address spoofing attacks from users.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Route symmetry is ensured in this example, so the URPF strict check is used.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001563990981__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure the URPF check mode on the interface.</span><p><pre class="screen"><span>&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<font style="font-size:8pt" Face="Courier New" >~</font><span class="keyword">HUAWEI</span>] <strong>sysname DeviceA</strong></span>
<span>[*<span class="keyword">HUAWEI</span>] <strong>commit</strong></span>
[<font style="font-size:8pt" Face="Courier New" >~</font>DeviceA] <strong>interface <span>100ge</span> <span>1/0/2</span></strong>
[<font style="font-size:8pt" Face="Courier New" >~</font>DeviceA-<span>100GE</span><span>1/0/2</span>] <strong>undo portswitch</strong>
<span>[*DeviceA-<span>100GE</span><span>1/0/2</span>] <strong>ip urpf enable</strong></span>
<span>[*DeviceA-<span>100GE</span><span>1/0/2</span>]</span> <strong>ip urpf strict</strong>
<span>[*DeviceA-<span>100GE</span><span>1/0/2</span>]</span> <strong>commit</strong>
<span>[<span><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceA-<span>100GE</span><span>1/0/2</span>]</span> <strong>quit</strong></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001563990981__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><div class="p"># Check the URPF configuration on <span>100GE</span><span>1/0/2</span>.<pre class="screen">[<font style="font-size:8pt" Face="Courier New" >~</font>DeviceA-<span>100GE</span><span>1/0/2</span>] <strong>display this</strong>
#
interface <span>100GE</span><span>1/0/2</span>
 undo portswitch
 ip urpf enable
 ip urpf strict
#
return</pre>
</div>
<h4 class="sectiontitle">Configuration Scripts</h4><p>DeviceA</p>
<pre class="screen">#
sysname DeviceA
#
interface <span>100GE</span><span>1/0/2</span>
 undo portswitch
 ip urpf enable
 ip urpf strict
#
return</pre>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_urpf_cfg_0006_22go.html">Configuring URPF
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_urpf_cfg_0013_22go.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>