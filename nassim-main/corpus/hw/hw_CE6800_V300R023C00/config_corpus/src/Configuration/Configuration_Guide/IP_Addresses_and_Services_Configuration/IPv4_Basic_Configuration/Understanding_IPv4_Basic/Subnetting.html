
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Subnetting">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_ipv4_cfg_0003.html">
<meta name="DC.Relation" scheme="URI" content="vrp_ipv4_cfg_0006.html">
<meta name="DC.Relation" scheme="URI" content="vrp_ipv4_cfg_0008.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IPv4 Basic">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv4 Basic">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="IPv4 Basic">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001176743243">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<link rel="stylesheet" type="text/css" href="public_sys-resources/imagePopup.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/customQuery.js"></script>
<script language="javascript" type="text/javascript" src="public_sys-resources/imagePopup.js"></script>
<title>Subnetting</title>
</head>
<body><a name="EN-US_CONCEPT_0000001176743243"></a><a name="EN-US_CONCEPT_0000001176743243"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Subnetting</h1>
<div><p>A network can be divided into multiple subnets to conserve IPv4 address space and support flexible IPv4 addressing.</p>
<p>When many hosts are distributed on an internal network, the internal host IDs can be divided into multiple subnet IDs to facilitate management. In this case, the entire network contains multiple small networks.</p>
<p>The network ID of subnets is visible to the external network, but the subnet IDs are not. The subnet IDs take effect in route selection and destination host addressing only after datagrams enter the internal network.</p>
<p><a href="#EN-US_CONCEPT_0000001176743243__fig_dc_fd_IPv4_000701">Figure 1</a> shows subnetting of a Class B IPv4 address. The subnet mask consists of a string of continuous 1s and 0s. All 1s correspond to the Net-id and Subnet-id fields, and all 0s correspond to the Host-id field.</p>
<div class="fignone" id="EN-US_CONCEPT_0000001176743243__fig_dc_fd_IPv4_000701"><a name="EN-US_CONCEPT_0000001176743243__fig_dc_fd_IPv4_000701"></a><a name="fig_dc_fd_IPv4_000701"></a><span class="figcap"><b>Figure 1 </b>IPv4 address subnetting</span><br><span><img class="imgResize" src="figure/en-us_image_0000001176663397.png" width="522.37828125" height="154.37986305" title="Click to enlarge"></span></div>
<p>The Class B IP address shown in <a href="#EN-US_CONCEPT_0000001176743243__fig_dc_fd_IPv4_000701">Figure 1</a> is used as an example. Assume that the network address is 172.16.0.0 and the mask is 255.255.0.0. The two most significant bits of the host ID are used for subnetting. The subnet ID ranges from 00 to 11 (binary), allowing a maximum of 4 (2<sup>2</sup>) subnets. Each subnet ID has a subnet mask, which changes after subnetting. Specifically, the subnet mask of the Class B IP address is changed from 255.255.0.0 to 255.255.192.0. After performing an AND operation on the IPv4 address and the subnet mask, you can obtain the network address. <a href="#EN-US_CONCEPT_0000001176743243__fig_dc_fd_IPv4_000702">Figure 2</a> shows the network addresses of the four subnets.</p>
<div class="fignone" id="EN-US_CONCEPT_0000001176743243__fig_dc_fd_IPv4_000702"><a name="EN-US_CONCEPT_0000001176743243__fig_dc_fd_IPv4_000702"></a><a name="fig_dc_fd_IPv4_000702"></a><span class="figcap"><b>Figure 2 </b>IPv4 address subnets</span><br><span><img class="imgResize" src="figure/en-us_image_0000001176743311.png" width="522.37828125" height="274.65250386" title="Click to enlarge"></span></div>
<p><a href="#EN-US_CONCEPT_0000001176743243__table_01">Table 1</a> lists the network addresses (with the all-0 host ID), broadcast addresses (with the all-1 host ID), and host addresses of the preceding four subnets.</p>

<div class="tableBorder"><a name="EN-US_CONCEPT_0000001176743243__table_01"></a><a name="table_01"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_CONCEPT_0000001176743243__table_01" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Network address and host address ranges (in binary format)</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="24.207579242075795%" id="mcps1.3.9.2.5.1.1" liSelected="liSelected"><p>Subnet</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="21.927807219278073%" id="mcps1.3.9.2.5.1.2" liSelected="liSelected"><p>Network Address</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="17.708229177082295%" id="mcps1.3.9.2.5.1.3" liSelected="liSelected"><p>Broadcast Address</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="36.156384361563845%" id="mcps1.3.9.2.5.1.4" liSelected="liSelected"><p>Host Address Range</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="24.207579242075795%" headers="mcps1.3.9.2.5.1.1 "><p>10101100 00010000 00000000 00000000</p>
</td>
<td class="cellrowborder" valign="top" width="21.927807219278073%" headers="mcps1.3.9.2.5.1.2 "><p>10101100 00010000 00000000 00000000</p>
</td>
<td class="cellrowborder" valign="top" width="17.708229177082295%" headers="mcps1.3.9.2.5.1.3 "><p>10101100 00010000 00111111 11111111</p>
</td>
<td class="cellrowborder" valign="top" width="36.156384361563845%" headers="mcps1.3.9.2.5.1.4 "><p>10101100 00010000 00000000 00000001</p>
<p>to</p>
<p>10101100 00010000 00111111 11111110</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="24.207579242075795%" headers="mcps1.3.9.2.5.1.1 "><p>10101100 00010000 01000000 00000000</p>
</td>
<td class="cellrowborder" valign="top" width="21.927807219278073%" headers="mcps1.3.9.2.5.1.2 "><p>10101100 00010000 01000000 00000000</p>
</td>
<td class="cellrowborder" valign="top" width="17.708229177082295%" headers="mcps1.3.9.2.5.1.3 "><p>10101100 00010000 01111111 11111111</p>
</td>
<td class="cellrowborder" valign="top" width="36.156384361563845%" headers="mcps1.3.9.2.5.1.4 "><p>10101100 00010000 01000000 00000001</p>
<p>to</p>
<p>10101100 00010000 01111111 11111110</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="24.207579242075795%" headers="mcps1.3.9.2.5.1.1 "><p>10101100 00010000 10000000 00000000</p>
</td>
<td class="cellrowborder" valign="top" width="21.927807219278073%" headers="mcps1.3.9.2.5.1.2 "><p>10101100 00010000 10000000 00000000</p>
</td>
<td class="cellrowborder" valign="top" width="17.708229177082295%" headers="mcps1.3.9.2.5.1.3 "><p>10101100 00010000 10111111 11111111</p>
</td>
<td class="cellrowborder" valign="top" width="36.156384361563845%" headers="mcps1.3.9.2.5.1.4 "><p>10101100 00010000 10000000 00000001</p>
<p>to</p>
<p>10101100 00010000 10111111 11111110</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="24.207579242075795%" headers="mcps1.3.9.2.5.1.1 "><p>10101100 00010000 11000000 00000000</p>
</td>
<td class="cellrowborder" valign="top" width="21.927807219278073%" headers="mcps1.3.9.2.5.1.2 "><p>10101100 00010000 11000000 00000000</p>
</td>
<td class="cellrowborder" valign="top" width="17.708229177082295%" headers="mcps1.3.9.2.5.1.3 "><p>10101100 00010000 11111111 11111111</p>
</td>
<td class="cellrowborder" valign="top" width="36.156384361563845%" headers="mcps1.3.9.2.5.1.4 "><p>10101100 00010000 11000000 00000001</p>
<p>to</p>
<p>10101100 00010000 11111111 11111110</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>Typically, the subnetting result is presented in decimal format. Converting a result in binary format to that in decimal format is complex. The following describes how to conveniently divide a network into subnets in decimal notation.</p>
<p>Take the preceding Class B IP address with the network address of 172.16.0.0 and the mask of 255.255.0.0 as an example. After subnetting, the subnet mask is 255.255.192.0. The length of the subnet mask equals 18 (16 + 2) bits. The calculation method is as follows:</p>
<ul><li>The number of bits in a subnet ID is <em>m</em>, and the number of subnets is 2<sup><em>m</em></sup>. In this example, <em>m</em> equals 2, so the number of subnets is 4.</li><li>The number of bits in a host ID is <em>n</em>, and the number of valid host addresses in each subnet is 2<sup><em>n</em></sup> - 2 (excluding the number of host addresses that comprise all 1s or all 0s). In this example, <i><span class="varname">n</span></i> equals 14, so the number of valid host addresses in each subnet is 16382.</li><li>The span between two neighboring subnet IDs is called block size, which is the value of deducting a subnet mask that is neither 0.0.0.0 nor 255.255.255.255 from 256. The first subnet network ID starts from 0 (located in the subnet mask in decimal format that is neither 0.0.0.0 nor 255.255.255.255), and the IDs of the following subnets increase individually by block size. In this example, the block size is 64 (256 - 192). The four subnets are 172.16.<strong>0</strong>.0/18, 172.16.<strong>64</strong>.0/18, 172.16.<strong>128</strong>.0/18, and 172.16.<strong>192</strong>.0/18, respectively.</li></ul>
<p><a href="#EN-US_CONCEPT_0000001176743243__table_02">Table 2</a> lists the subnetting result in decimal format.</p>

<div class="tableBorder"><a name="EN-US_CONCEPT_0000001176743243__table_02"></a><a name="table_02"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_CONCEPT_0000001176743243__table_02" frame="border" border="1" rules="all"><caption><b>Table 2 </b>Network address and host address ranges (in decimal format)</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="24.587541245875414%" id="mcps1.3.14.2.5.1.1" liSelected="liSelected"><p>Subnet</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="24.0975902409759%" id="mcps1.3.14.2.5.1.2" liSelected="liSelected"><p>Network Address</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="23.927607239276075%" id="mcps1.3.14.2.5.1.3" liSelected="liSelected"><p>Broadcast Address</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="27.38726127387261%" id="mcps1.3.14.2.5.1.4" liSelected="liSelected"><p>Host Address Range</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="24.587541245875414%" headers="mcps1.3.14.2.5.1.1 "><p>172.16.0.0/18</p>
</td>
<td class="cellrowborder" valign="top" width="24.0975902409759%" headers="mcps1.3.14.2.5.1.2 "><p>172.16.0.0</p>
</td>
<td class="cellrowborder" valign="top" width="23.927607239276075%" headers="mcps1.3.14.2.5.1.3 "><p>172.16.63.255</p>
</td>
<td class="cellrowborder" valign="top" width="27.38726127387261%" headers="mcps1.3.14.2.5.1.4 "><p>172.16.0.1 to 172.16.63.254</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="24.587541245875414%" headers="mcps1.3.14.2.5.1.1 "><p>172.16.64.0/18</p>
</td>
<td class="cellrowborder" valign="top" width="24.0975902409759%" headers="mcps1.3.14.2.5.1.2 "><p>172.16.64.0</p>
</td>
<td class="cellrowborder" valign="top" width="23.927607239276075%" headers="mcps1.3.14.2.5.1.3 "><p>172.16.127.255</p>
</td>
<td class="cellrowborder" valign="top" width="27.38726127387261%" headers="mcps1.3.14.2.5.1.4 "><p>172.16.64.1 to 172.16.127.254</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="24.587541245875414%" headers="mcps1.3.14.2.5.1.1 "><p>172.16.128.0/18</p>
</td>
<td class="cellrowborder" valign="top" width="24.0975902409759%" headers="mcps1.3.14.2.5.1.2 "><p>172.16.128.0</p>
</td>
<td class="cellrowborder" valign="top" width="23.927607239276075%" headers="mcps1.3.14.2.5.1.3 "><p>172.16.191.255</p>
</td>
<td class="cellrowborder" valign="top" width="27.38726127387261%" headers="mcps1.3.14.2.5.1.4 "><p>172.16.128.1 to 172.16.191.254</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="24.587541245875414%" headers="mcps1.3.14.2.5.1.1 "><p>172.16.192.0/18</p>
</td>
<td class="cellrowborder" valign="top" width="24.0975902409759%" headers="mcps1.3.14.2.5.1.2 "><p>172.16.192.0</p>
</td>
<td class="cellrowborder" valign="top" width="23.927607239276075%" headers="mcps1.3.14.2.5.1.3 "><p>172.16.255.255</p>
</td>
<td class="cellrowborder" valign="top" width="27.38726127387261%" headers="mcps1.3.14.2.5.1.4 "><p>172.16.192.1 to 172.16.255.254</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>Borrowing bits from the Host-id field to create a Subnet-id field reduces the number of supported hosts. For example, a Class B IP address can contain 65534 (2<sup>16</sup> - 2) host addresses. If a 2-bit Subnet-id field is created, the four subnets have a maximum of 65528 [4 x (2<sup>14</sup> - 2)] host addresses, which is six less than the number of host addresses when no 2-bit Subnet-id field is created.</p>
<p>To implement efficient network planning, subnetting and IPv4 addressing should abide by the rules described below.</p>
<div class="section"><h4 class="sectiontitle">Hierarchy</h4><p>To divide a network into multiple layers, you need to consider geographic and service factors. Use a top-down subnetting mode to facilitate network management and simplify routing tables. Generally:</p>
<ul><li>A network consisting of a backbone network and a metro network is divided into hierarchical subnets.</li><li>An administrative network is divided into subnets based on administrative levels.</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Consecutiveness</h4><p>Consecutive addresses facilitate route summarization on a hierarchical network, which greatly reduces the number of routing entries and improves route searching efficiency. When allocating IP addresses, note the following:</p>
<ul><li>Allocate consecutive IP addresses to each area.</li><li>Allocate consecutive IP addresses to devices that have the same services and functions.</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Scalability</h4><p>When allocating addresses, reserve certain addresses at each layer to ensure consecutive address allocation in future network expansion.</p>
<p>A backbone network must have sufficient consecutive addresses for independent autonomous systems (ASs) and further network expansion.</p>
</div>
<div class="section"><h4 class="sectiontitle">Efficiency</h4><p>When planning subnets, fully utilize address resources to ensure that the subnets are sufficient for hosts.</p>
<ul><li>Allocate IP addresses by using variable length subnet mask (VLSM) to fully utilize address resources.</li><li>Consider the routing mechanism in subnetting to improve address utilization in the allocated address space.</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_ipv4_cfg_0003.html">Understanding IPv4 Basic
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_ipv4_cfg_0006.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_ipv4_cfg_0008.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>

<script language="JavaScript">
<!--
initImageViewer('.imgResize');
var msg_imageMax = "view original image";
var msg_imageClose = "close";
//--></script></body>
</html>