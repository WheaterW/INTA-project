
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an STP/RSTP/MSTP Timeout Period">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_stp_cfg_1097.html">
<meta name="DC.Relation" scheme="URI" content="vrp_stp_cfg_1099.html">
<meta name="DC.Relation" scheme="URI" content="vrp_stp_cfg_1101.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="MSTP">
<meta name="featurename" content="RSTP">
<meta name="featurename" content="STP">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MSTP">
<meta name="featurename" content="RSTP">
<meta name="featurename" content="STP">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featurename" content="MSTP">
<meta name="featurename" content="RSTP">
<meta name="featurename" content="STP">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001292398364">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring an STP/RSTP/MSTP Timeout Period</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001292398364"></a><a name="EN-US_TASK_0000001292398364"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an STP/RSTP/MSTP Timeout Period</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001292398364__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>If a device on an STP, RSTP, or MSTP network does not receive BPDUs from an upstream device within the timeout period, the device will determine the upstream device as faulty and recalculate the spanning tree. The timeout period is calculated as follows: Timeout period = Hello Time x 3 x Timer Factor.</p>
<p>In some cases, however, if the upstream device is not faulty, but busy processing services, the device may still fail to receive BPDUs within the timeout period. In this case, to prevent spanning tree recalculation, you can set a long timeout period on a stable network to avoid wasting network resources.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001292398364__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>(Optional) Enter the MSTP process view.</span><p><p id="EN-US_TASK_0000001292398364__en-us_task_0000001345478641_p16533457112820">Perform this step to set system parameters only when the MSTP process ID is not 0. Skip this step if the MSTP process ID is 0.</p>
<pre class="screen" id="EN-US_TASK_0000001292398364__en-us_task_0000001345478641_screen1136151023420"><a href="cmdqueryname=stp+process"><b><span class="cmdname" id="EN-US_TASK_0000001292398364__en-us_task_0000001345478641_cmdname12422107345">stp process</span></b></a> <i><span class="varname" id="EN-US_TASK_0000001292398364__en-us_task_0000001345478641_varname7421210123412">process-id</span></i></pre>
</p></li><li><span>Set a timeout period for the device to wait to receive BPDUs from the uplink device.</span><p><pre class="screen"><a href="cmdqueryname=stp+timer-factor"><b><span class="cmdname">stp timer-factor</span></b></a> <i><span class="varname">factor</span></i></pre>
<p>By default, the timeout period is nine times the Hello Time timer.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001292398364__en-us_task_0234857734_en-us_task_0228023023_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001292398364__en-us_task_0234857734_en-us_task_0228023023_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0000001292398364__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+stp+global"><b><span class="cmdname">display stp global</span></b></a> command and check the Timer-factor field for the timeout period setting.</p>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_stp_cfg_1097.html">Configuring Parameters That Affect STP/RSTP/MSTP Topology Convergence
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_stp_cfg_1099.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_stp_cfg_1101.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>