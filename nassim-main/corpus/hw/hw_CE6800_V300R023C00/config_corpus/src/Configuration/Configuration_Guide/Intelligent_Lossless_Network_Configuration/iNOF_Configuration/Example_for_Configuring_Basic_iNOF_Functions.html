
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring Basic iNOF Functions">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_ai_inof_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_ai_inof_cfg_0012.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_ai_inof_cfg_0014.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="iNOF">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="iNOF">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001563763673">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Example for Configuring Basic iNOF Functions</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001563763673"></a><a name="EN-US_TASK_0000001563763673"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring Basic iNOF Functions</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001563763673__1.3.1"></a><a name="1.3.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>On the network shown in <a href="#EN-US_TASK_0000001563763673__fig19978171395514">Figure 1</a>, iNOF can be enabled on DeviceA and DeviceB to better manage connected hosts.</p>
<div class="fignone" id="EN-US_TASK_0000001563763673__fig19978171395514"><a name="EN-US_TASK_0000001563763673__fig19978171395514"></a><a name="fig19978171395514"></a><span class="figcap"><b>Figure 1 </b>Networking diagram of basic iNOF functions</span><div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In this example, interface 1 and interface 2 represent <span>100GE</span> <span>1/0/1</span> and <span>100GE</span> <span>1/0/2</span>, respectively.</p>
</div></div>
<br><span><img class="vsd" src="figure/en-us_image_0000001564003617.png"></span></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001563763673__1.3.2"></a><a name="1.3.2"></a>
<div class="p"><h4 class="sectiontitle">Precautions</h4><p>During the configuration, note the following:</p>
<ul><li>The SNSD function must be enabled for the host and storage array (Host1 and Host2 in <a href="#EN-US_TASK_0000001563763673__fig19978171395514">Figure 1</a>, respectively).</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001563763673__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Create VLANs and add interfaces to them.</span><p><p># Create VLANs on DeviceA and add interfaces to them.</p>
<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<font style="font-size:8pt" Face="Courier New" >~</font><span class="keyword">HUAWEI</span>] <strong>sysname DeviceA</strong>
[*<span class="keyword">HUAWEI</span>] <strong>commit</strong>
[<font style="font-size:8pt" Face="Courier New" >~</font><span class="keyword">DeviceA</span>] <strong>vlan batch 10</strong>
[<font style="font-size:8pt" Face="Courier New" >~</font><span class="keyword">DeviceA</span>] <strong>interface <span>100ge</span> <span>1/0/1</span></strong>
[*<span class="keyword">DeviceA</span>-<span>100GE</span><span>1/0/1</span>] <strong>port link-type trunk</strong>
[*<span class="keyword">DeviceA</span>-<span>100GE</span><span>1/0/1</span>] <strong>port trunk allow-pass vlan 10</strong>
[<span class="keyword">*DeviceA</span>-<span>100GE</span><span>1/0/1</span>] <strong>quit</strong>
[*<span class="keyword">DeviceA</span>] <strong>interface <span>100ge</span> <span>1/0/2</span></strong>
[*<span class="keyword">DeviceA</span>-<span>100GE</span><span>1/0/2</span>] <strong>port link-type trunk</strong>
[*<span class="keyword">DeviceA</span>-<span>100GE</span><span>1/0/2</span>] <strong>port trunk allow-pass vlan 10</strong>
[<span class="keyword">*DeviceA</span>-<span>100GE</span><span>1/0/2</span>] <strong>quit</strong>
[*<span class="keyword">DeviceA</span>] <strong>commit</strong></pre>
<p># Create VLANs on DeviceB and add interfaces to them.</p>
<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<font style="font-size:8pt" Face="Courier New" >~</font><span class="keyword">HUAWEI</span>] <strong>sysname DeviceB</strong>
[*<span class="keyword">HUAWEI</span>] <strong>commit</strong>
[<font style="font-size:8pt" Face="Courier New" >~</font><span class="keyword">DeviceB</span>] <strong>vlan batch 20</strong>
[<font style="font-size:8pt" Face="Courier New" >~</font><span class="keyword">DeviceB</span>] <strong>interface <span>100ge</span> <span>1/0/1</span></strong>
[*<span class="keyword">DeviceB</span>-<span>100GE</span><span>1/0/1</span>] <strong>port link-type trunk</strong>
[*<span class="keyword">DeviceB</span>-<span>100GE</span><span>1/0/1</span>] <strong>port trunk allow-pass vlan 20</strong>
[<span class="keyword">*DeviceB</span>-<span>100GE</span><span>1/0/1</span>] <strong>quit</strong>
[*<span class="keyword">DeviceB</span>] <strong>interface <span>100ge</span> <span>1/0/2</span></strong>
[*<span class="keyword">DeviceB</span>-<span>100GE</span><span>1/0/2</span>] <strong>port link-type trunk</strong>
[*<span class="keyword">DeviceB</span>-<span>100GE</span><span>1/0/2</span>] <strong>port trunk allow-pass vlan 20</strong>
[<span class="keyword">*DeviceB</span>-<span>100GE</span><span>1/0/2</span>] <strong>quit</strong>
[*<span class="keyword">DeviceB</span>] <strong>commit</strong></pre>
</p></li><li><span>Enable the LLDP function.</span><p><p># Enable LLDP on DeviceA. The configurations on DeviceB are similar.</p>
<pre class="screen">[<font style="font-size:8pt" Face="Courier New" >~</font><span class="keyword">DeviceA</span>] <strong>lldp enable</strong>
[*DeviceA] <strong>commit</strong></pre>
</p></li><li><span>Enable the iNOF function.</span><p><p># Enable iNOF on DeviceA. The configurations on DeviceB are similar.</p>
<pre class="screen">[<font style="font-size:8pt" Face="Courier New" >~</font><span class="keyword">DeviceA</span>] <strong>ai-service</strong>
[*DeviceA-ai-service]<strong> </strong><strong>inof</strong>
[*DeviceA-ai-service-inof] <strong>quit</strong>
[*DeviceA-ai-service] <strong>quit</strong>
[*DeviceA] <strong>commit</strong></pre>
</p></li><li><span>Enable the function for automatically adding hosts to the default zone.</span><p><p>In an iNOF system, the function for automatically adding hosts to the default zone is enabled by default. When this function is enabled, new hosts are automatically added to the default zone as zone members.</p>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001563763673__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p># After the iNOF reflector and client are configured, check information about the iNOF connection established between the local and peer devices.</p>
<pre class="screen">[<font style="font-size:8pt" Face="Courier New" >~</font>DeviceA] <strong>display inof configuration zone</strong>
IPv4 Info:
Total Zone number: 1
iNOF Default-Zone: Enable

ZoneName: Default
----------------------------------------------------------------------------------
Host                                      Learned-From                            
----------------------------------------------------------------------------------
10.1.1.1                                  Local
10.1.1.2                                  Local
----------------------------------------------------------------------------------</pre>
</div>
<div class="postreq"><a name="EN-US_TASK_0000001563763673__1.3.5"></a><a name="1.3.5"></a><h4 class="sectiontitle">Configuration Scripts</h4><p><span class="keyword">DeviceA</span></p>
<pre class="screen">#
sysname DeviceA
#
lldp enable
# 
vlan batch 10
#
interface <span>100GE</span><span>1/0/1</span>
 port link-type trunk  
 port trunk allow-pass vlan 10 
#
interface <span>100GE</span><span>1/0/2</span>
 port link-type trunk  
 port trunk allow-pass vlan 10
#
ai-service
 #
 inof
#
return</pre>
<p><span class="keyword">DeviceB</span></p>
<pre class="screen">#
sysname DeviceB
#
lldp enable
# 
vlan batch 20
#
interface <span>100GE</span><span>1/0/1</span>
 port link-type trunk  
 port trunk allow-pass vlan 20 
#
interface <span>100GE</span><span>1/0/2</span>
 port link-type trunk  
 port trunk allow-pass vlan 20
#
ai-service
 #
 inof
#
return
</pre>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_ai_inof_cfg_0001.html">iNOF Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_ai_inof_cfg_0012.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="galaxy_ai_inof_cfg_0014.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>