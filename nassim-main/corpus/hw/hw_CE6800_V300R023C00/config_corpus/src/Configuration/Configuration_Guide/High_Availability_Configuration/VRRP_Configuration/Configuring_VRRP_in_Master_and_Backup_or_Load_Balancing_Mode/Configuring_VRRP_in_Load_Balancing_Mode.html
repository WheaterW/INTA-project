
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring VRRP in Load Balancing Mode">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_vrrp_cfg_0104.html">
<meta name="DC.Relation" scheme="URI" content="vrp_vrrp_cfg_0131.html">
<meta name="DC.Relation" scheme="URI" content="vrp_vrrp_cfg_0109.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="High Availability">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="High Availability">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001130624266">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring VRRP in Load Balancing Mode</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001130624266"></a><a name="EN-US_TASK_0000001130624266"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring VRRP in Load Balancing Mode</h1>
<div class="taskbody"><div class="steps-unordered"><a name="EN-US_TASK_0000001130624266__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Create VRRP groups working in multi-gateway load balancing mode.</span><p><p>If VRRP groups need to work in multi-gateway load balancing mode, repeat the steps in <a href="vrp_vrrp_cfg_0131.html">Configuring VRRP in Master/Backup Mode</a> to configure two or more VRRP groups and assign different VRIDs (specified by <i><span class="varname">virtual-router-id</span></i>) to them.</p>
</p></li><li><span>Create VRRP groups working in single-gateway load balancing mode.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>(Optional) Configure an interval for the master devices in LBRG member groups to send VRRP Advertisement packets.</span><p><pre class="screen"><a href="cmdqueryname=vrrp+member-lbrg+timer+hello"><b><span class="cmdname">vrrp member-lbrg timer hello</span></b></a> <i><span class="varname">hello-time</span></i></pre>
</p><p><p>To ensure that the MAC entries on downstream devices can be promptly updated, you can configure an interval for the master devices in LBRG member groups to send VRRP Advertisement packets to ensure service traffic reliability.</p>
</p></li><li class="substepexpand"><span>Enter the interface view.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></pre>
</p></li><li class="substepexpand"><span>Switch the interface working mode to Layer 3.</span><p><pre class="screen"><a href="cmdqueryname=undo+portswitch"><b><span class="cmdname">undo portswitch</span></b></a></pre>
</p><p><p> Determine whether to perform this step based on the current interface working mode.</p>
</p></li><li class="substepexpand"><span>Create a VRRP group.</span><p><pre class="screen"><a href="cmdqueryname=vrrp+vrid"><b><span class="cmdname">vrrp vrid</span></b></a> <i><span class="varname">virtual-router-id</span></i> [ <strong><span>virtual-ip</span></strong> <i><span class="varname">virtual-address</span></i> ]</pre>
</p><p><ul><li>You must specify a virtual IP address for the VRRP group configured as an LBRG.</li><li>You do not need to specify a virtual IP address for the VRRP group configured as an LBRG member group.</li></ul>
</p></li><li class="substepexpand"><span>Configure a priority for each device in the VRRP group.</span><p><pre class="screen"><a href="cmdqueryname=vrrp+vrid"><b><span class="cmdname">vrrp vrid</span></b></a> <i><span class="varname">virtual-router-id</span></i> <strong><span>priority</span></strong> <i><span class="varname">priority-value</span></i></pre>
</p></li><li class="substepexpand"><span>Create an LBRG.</span><p><pre class="screen"><a href="cmdqueryname=vrrp+vrid"><b><span class="cmdname">vrrp vrid</span></b></a> <i><span class="varname">virtual-router-id</span></i> <strong><span>load-balance</span></strong></pre>
</p></li><li class="substepexpand"><span>Add the VRRP group to the LBRG.</span><p><pre class="screen"><a href="cmdqueryname=vrrp+vrid"><b><span class="cmdname">vrrp vrid</span></b></a> <i><span class="varname">virtual-router-id</span></i> <strong><span>join</span></strong> <strong><span>load-balance-vrrp vrid</span></strong> <i><span class="varname">lb-vrid-value</span></i></pre>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001130624266__en-us_task_0234857734_screen14848162118611"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001130624266__en-us_task_0234857734_cmdname1784862115612">commit</span></b></a></pre>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_vrrp_cfg_0104.html">Configuring VRRP in Master/Backup or Load Balancing Mode
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_vrrp_cfg_0131.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_vrrp_cfg_0109.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>