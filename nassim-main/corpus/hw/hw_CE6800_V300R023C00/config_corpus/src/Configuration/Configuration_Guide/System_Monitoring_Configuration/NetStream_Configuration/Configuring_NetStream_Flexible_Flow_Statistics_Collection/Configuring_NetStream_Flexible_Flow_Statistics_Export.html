
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring NetStream Flexible Flow Statistics Export">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_netstream_cfg_0063.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_netstream_cfg_0027.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_netstream_cfg_0033.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="NetStream">
<meta name="featuretype" content="System Monitoring">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="NetStream">
<meta name="featuretype" content="System Monitoring">
<meta name="featurename" content="NetStream">
<meta name="featuretype" content="System Monitoring">
<meta name="featurename" content="NetStream">
<meta name="featuretype" content="System Monitoring">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001563761585">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring NetStream Flexible Flow Statistics Export</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001563761585"></a><a name="EN-US_TASK_0000001563761585"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring NetStream Flexible Flow Statistics Export</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001563761585__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Configuring NetStream flexible flow statistics export involves the following two parts:</p>
<ul><li>Configure the source address, destination address, and destination UDP number of the exported NetStream packets carrying flow statistics. If no source address is specified, NetStream packets will not be exported. If no destination address or destination UDP port number is specified, exported NetStream packets will not reach the NetStream server.</li><li>Configure the version of exported NetStream packets, as well as the interface index length and field value format in the packets, so that the NetStream server can successfully parse NetStream packets.<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>NetStream flexible flow statistics must be exported in V9 format, which does not need to be configured.</p>
</div></div>
</li></ul>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001563761585__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure IPv4 flexible flow statistics export.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Configure a source address of the exported packets carrying IPv4 flexible flow statistics. (The source IPv6 address of the exported packets cannot be configured on the <span>CE6885-LL (low latency mode)</span>.)</span><p><pre class="screen"><a href="cmdqueryname=netstream+export+ip+source"><b><span class="cmdname">netstream export ip source</span></b></a> { <i><span class="varname">ip-address</span></i> | <strong><span>ipv6</span></strong> <i><span class="varname">ipv6-address</span></i> }</pre>
<p>By default, no source address is configured for the exported packets carrying IPv4 flexible flow statistics. Ensure that there are reachable routes between the source address and destination address (NSC's address) of the exported packets.</p>
<p>A maximum of two source addresses can be specified: one IPv4 address and one IPv6 address. Only one source IPv4 address can be configured on the <span>CE6885-LL (low latency mode)</span>.</p>
<p></p>
</p></li><li class="substepexpand"><span>Configure a destination address and a destination UDP port number of the exported packets carrying IPv4 flexible flow statistics. (The destination IPv6 address of the exported packets cannot be configured on the <span>CE6885-LL (low latency mode)</span>.)</span><p><pre class="screen"><a href="cmdqueryname=netstream+export+ip+host"><b><span class="cmdname">netstream export ip host</span></b></a> { <i><span class="varname">ip-address</span></i> | <strong><span>ipv6</span></strong> <i><span class="varname">ipv6-address</span></i> } <i><span class="varname">port</span></i><span> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ]<span> <strong><span>dscp</span></strong> <i><span class="varname">dscp-value</span></i></span></span></pre>
<p>By default, no destination address or destination UDP port number is configured for the exported packets carrying IPv4 flexible flow statistics.</p>
</p></li><li class="substepexpand"><span>(Optional) Set the interval at which the template for exporting IPv4 flexible flow statistics in V9 format is updated.</span><p><pre class="screen"><a href="cmdqueryname=netstream+export+ip+template+timeout-rate"><b><span class="cmdname">netstream export ip template timeout-rate</span></b></a> <i><span class="varname">timeout-interval</span></i></pre>
<p>By default, the template is updated every minute.</p>
</p></li><li class="substepexpand"><span>Configure the length of interface indexes contained in the exported packets carrying IPv4 flow statistics.</span><p><pre class="screen"><a href="cmdqueryname=netstream+export+ip+index-switch"><b><span class="cmdname">netstream export ip index-switch</span></b></a> { <strong>16</strong> | <strong>32</strong> }</pre>
<p>By default, 32-bit interface indexes are contained in the exported packets carrying IPv4 flow statistics.</p>
</p></li><li class="substepexpand"><span>(Optional) Configure the <strong>IN_BYTES</strong> field value in exported NetStream packets to include the Ethernet header and CRC length.</span><p><pre class="screen"><a href="cmdqueryname=netstream+export+packet-len+ethernet-crc"><b><span class="cmdname">netstream export packet-len ethernet-crc</span></b></a></pre>
</p><p><p>By default, the <strong>IN_BYTES</strong> field value in exported NetStream packets is the value of the <strong>len</strong> field in the IP header.</p>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen"><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></pre>
</p></li></ol>
</li><li><span>Configure IPv6 flexible flow statistics export.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Configure a source address of the exported packets carrying IPv6 flexible flow statistics. (The source IPv6 address of the exported packets cannot be configured on the <span>CE6885-LL (low latency mode)</span>.)</span><p><pre class="screen"><a href="cmdqueryname=netstream+export+ipv6+source"><b><span class="cmdname">netstream export ipv6 source</span></b></a> { <i><span class="varname">ip-address</span></i> | <strong><span>ipv6</span></strong> <i><span class="varname">ipv6-address</span></i> }</pre>
<p>By default, no source address is configured for the exported packets carrying IPv6 flexible flow statistics. Ensure that there are reachable routes between the source address and destination address (NSC's address) of the exported packets.</p>
<p>A maximum of two source addresses can be specified: one IPv4 address and one IPv6 address. Only one source IPv4 address can be configured on the <span>CE6885-LL (low latency mode)</span>.</p>
</p></li><li class="substepexpand"><span>Configure a destination address and a destination UDP port number of the exported packets carrying IPv6 flexible flow statistics. (The destination IPv6 address of the exported packets cannot be configured on the <span>CE6885-LL (low latency mode)</span>.)</span><p><pre class="screen"><a href="cmdqueryname=netstream+export+ipv6+host"><b><span class="cmdname">netstream export ipv6 host</span></b></a> { <i><span class="varname">ip-address</span></i> | <strong><span>ipv6</span></strong> <i><span class="varname">ipv6-address</span></i> } <i><span class="varname">port</span></i><span> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ]<span> <strong><span>dscp</span></strong> <i><span class="varname">dscp-value</span></i></span></span></pre>
<p>By default, no destination address or destination UDP port number is configured for the exported packets carrying IPv6 flexible flow statistics.</p>
</p></li><li class="substepexpand"><span>(Optional) Set the interval at which the template for exporting IPv6 flexible flow statistics in V9 format is updated.</span><p><pre class="screen"><a href="cmdqueryname=netstream+export+ipv6+template+timeout-rate"><b><span class="cmdname">netstream export ipv6 template timeout-rate</span></b></a> <i><span class="varname">timeout-interval</span></i></pre>
<p>By default, the template is updated every minute.</p>
</p></li><li class="substepexpand"><span>Configure the length of interface indexes contained in the exported packets carrying IPv6 flow statistics.</span><p><pre class="screen"><a href="cmdqueryname=netstream+export+ipv6+index-switch"><b><span class="cmdname">netstream export ipv6 index-switch</span></b></a> { <strong>16</strong> | <strong>32</strong> }</pre>
<p>By default, 32-bit interface indexes are contained in the exported packets carrying IPv6 flow statistics.</p>
</p></li><li class="substepexpand"><span>(Optional) Configure the <strong>IN_BYTES</strong> field value in exported NetStream packets to include the Ethernet header and CRC length.</span><p><pre class="screen"><a href="cmdqueryname=netstream+export+packet-len+ethernet-crc"><b><span class="cmdname">netstream export packet-len ethernet-crc</span></b></a></pre>
</p><p><p>By default, the <strong>IN_BYTES</strong> field value in exported NetStream packets is the value of the <strong>len</strong> field in the IP header.</p>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen"><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></pre>
</p></li></ol>
</li><li><span>Configure VXLAN flexible flow statistics export.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Configure a source address of the exported packets carrying VXLAN flexible flow statistics. (The source IPv6 address of the exported packets cannot be configured on the <span>CE6885-LL (low latency mode)</span>.)</span><p><pre class="screen"><a href="cmdqueryname=netstream+export+vxlan+inner-ip+source"><b><span class="cmdname">netstream export vxlan inner-ip source</span></b></a> { <i><span class="varname">ip-address</span></i> | <strong><span>ipv6</span></strong> <i><span class="varname">ipv6-address</span></i> }</pre>
<p>By default, no source address is configured for the exported packets carrying VXLAN flexible flow statistics. Ensure that there are reachable routes between the source address and destination address (NSC's address) of the exported packets.</p>
<p>A maximum of two source addresses can be specified: one IPv4 address and one IPv6 address. Only one source IPv4 address can be configured on the <span>CE6885-LL (low latency mode)</span>.</p>
</p></li><li class="substepexpand"><span>Configure a destination address and a destination UDP port number of the exported packets carrying VXLAN flexible flow statistics. (The destination IPv6 address of the exported packets cannot be configured on the <span>CE6885-LL (low latency mode)</span>.)</span><p><pre class="screen"><a href="cmdqueryname=netstream+export+vxlan+inner-ip+host"><b><span class="cmdname">netstream export vxlan inner-ip host</span></b></a> { <i><span class="varname">ip-address</span></i> | <strong><span>ipv6</span></strong> <i><span class="varname">ipv6-address</span></i> } <i><span class="varname">port</span></i><span> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ]</span><span> <strong><span>dscp</span></strong> <i><span class="varname">dscp-value</span></i></span></pre>
<p>By default, no destination address or destination UDP port number is configured for the exported packets carrying VXLAN flexible flow statistics.</p>
</p></li><li class="substepexpand"><span>(Optional) Set the interval at which the template for exporting VXLAN flexible flow statistics in V9 format is updated.</span><p><pre class="screen"><a href="cmdqueryname=netstream+export+vxlan+inner-ip+template+timeout-rate"><b><span class="cmdname">netstream export vxlan inner-ip template timeout-rate</span></b></a> <i><span class="varname">timeout-interval</span></i></pre>
<p>By default, the template is updated every minute.</p>
</p></li><li class="substepexpand"><span>Configure the length of interface indexes contained in the exported packets carrying VXLAN flow statistics.</span><p><pre class="screen"><a href="cmdqueryname=netstream+export+vxlan+inner-ip+index-switch"><b><span class="cmdname">netstream export vxlan inner-ip index-switch</span></b></a> { <strong>16</strong> | <strong>32</strong> }</pre>
<p>By default, 32-bit interface indexes are contained in the exported packets carrying VXLAN flow statistics.</p>
</p></li><li class="substepexpand"><span>(Optional) Configure the <strong>IN_BYTES</strong> field value in exported NetStream packets to include the Ethernet header and CRC length.</span><p><pre class="screen"><a href="cmdqueryname=netstream+export+packet-len+ethernet-crc"><b><span class="cmdname">netstream export packet-len ethernet-crc</span></b></a></pre>
</p><p><p>By default, the <strong>IN_BYTES</strong> field value in exported NetStream packets is the value of the <strong>len</strong> field in the IP header.</p>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen"><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></pre>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_netstream_cfg_0063.html">Configuring NetStream Flexible Flow Statistics Collection
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_netstream_cfg_0027.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="galaxy_netstream_cfg_0033.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>