
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Clearing the Configuration File">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_cfgfile_cfg_0004.html">
<meta name="DC.Relation" scheme="URI" content="vrp_cfgfile_cfg_0020.html">
<meta name="DC.Relation" scheme="URI" content="vrp_cfgfile_cfg_0026.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Configuration File Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Configuration File Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="featurename" content="Configuration File Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001564010541">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Clearing the Configuration File</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001564010541"></a><a name="EN-US_TASK_0000001564010541"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Clearing the Configuration File</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001564010541__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Clearing the configuration file is necessary in the following scenarios:</p>
<ul><li>The software and configuration file do not match after the device software is upgraded.</li><li>The configuration file is damaged, or an incorrect configuration file is loaded.<div class="notice"><span class="noticetitle"><img src="public_sys-resources/notice_3.0-en-us.png"> </span><div class="noticebody"><p>The <a href="cmdqueryname=reset+saved-configuration"><b><span class="cmdname">reset saved-configuration</span></b></a> command will clear the configuration file used for the next startup. You are advised to run this command under the guidance of technical support personnel.</p>
</div></div>
</li></ul>
<p>To configure an interface on a device for other uses, you need to first delete existing configurations from the interface one by one. If the interface has a large number of configurations, this can take a long time. A single command is available for deleting all configurations on an interface, reducing the maintenance workload and simplifying the deletion operation.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001564010541__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span><span>Delete configurations for the next startup.</span></span><ol><li class="substepexpand"><span>Cancel the configuration file specified for the next startup to restore the default configurations.</span><p><pre class="screen"><span><a href="cmdqueryname=reset+saved-configuration"><b><span class="cmdname">reset saved-configuration</span></b></a></span></pre>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>After the configuration file specified for the next startup is canceled, the device will use default configurations for startup, unless the <a href="cmdqueryname=startup+saved-configuration"><b><span class="cmdname">startup saved-configuration</span></b></a> command is used to specify a new configuration file, or new configurations have been saved to the configuration file for the next startup.</p>
<p>Before the <strong>reset saved-configuration</strong> command is executed, the system checks whether the configuration files used for the current startup and the next startup are the same:</p>
<ul><li>If they are the same, running the <strong>reset saved-configuration</strong> command clears both configuration files, and the default configuration file will be used for the next startup.</li><li>If they are not the same, running the <strong>reset saved-configuration</strong> command clears the configuration file for next startup, but the current configuration file remains unchanged.</li><li>If the current configuration file is empty and the configuration file for next startup is not empty, running the <a href="cmdqueryname=reset+saved-configuration"><b><span class="cmdname">reset saved-configuration</span></b></a> command clears the configuration file for next startup.</li><li>If the configuration file for next startup is empty and the current configuration file is not empty, after the <a href="cmdqueryname=reset+saved-configuration"><b><span class="cmdname">reset saved-configuration</span></b></a> command is run, the system reports an error and does not clear any configuration file. If you restart the device after running this command, the IP address of the management interface will become invalid. In this case, you need to log in to the device through the console port and reconfigure the IP address.</li></ul>
</div></div>
</p></li><li class="substepexpand"><span>Restart the device to validate the configuration.</span><p><pre class="screen"><a href="cmdqueryname=reboot+fast"><b><span class="cmdname">reboot fast</span></b></a></pre>
</p></li></ol>
</li><li><span>Delete all configurations from an interface using one single command to restore the default configurations.</span><p><pre class="screen"><a href="cmdqueryname=clear+configuration+interface"><b><span class="cmdname">clear configuration interface</span></b></a> <i><span class="varname">interface-type interface-number</span></i></pre>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command will delete all configurations of a specified interface. Exercise caution when running this command.</p>
<p>Ensure that the specified interface type and number are correct. Otherwise, the configurations of another interface may be deleted, causing service interruption.</p>
</div></div>
</p></li><li><span>Delete the preset configuration file.</span><p><pre class="screen"><a href="cmdqueryname=reset+default-configuration"><b><span class="cmdname">reset default-configuration</span></b></a></pre>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Exercise caution when running this command. If this command is required, run it with assistance from technical support personnel.</p>
</div></div>
</p></li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_cfgfile_cfg_0004.html">Managing Configuration Files
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_cfgfile_cfg_0020.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_cfgfile_cfg_0026.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>