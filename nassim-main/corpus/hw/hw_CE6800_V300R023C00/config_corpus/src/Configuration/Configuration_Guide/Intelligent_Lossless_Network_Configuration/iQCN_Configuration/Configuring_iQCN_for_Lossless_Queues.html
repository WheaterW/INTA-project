
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring iQCN for Lossless Queues">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_ai_iqcn_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="spec/iQCN_limitation_CE_v6r23c00.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_ai_iqcn_cfg_0008.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="iQCN">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="iQCN">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001512680422">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring iQCN for Lossless Queues</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001512680422"></a><a name="EN-US_TASK_0000001512680422"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring iQCN for Lossless Queues</h1>
<div class="taskbody"><div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001512680422__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>Before configuring iQCN for lossless queues, you have completed the following task:</p>
<ul><li><a href="galaxy_pfc_cfg_0001.html">Configure the PFC function.</a> A queue corresponding to the internal priority of a PFC-enabled device is a lossless queue.</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001512680422__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>An iQCN-enabled forwarding device detects whether congestion occurs on the network. When detecting congestion, the forwarding device compares the interval at which CNPs are received with the interval between rate increase events of the sender's NIC. If the interval at which CNPs are received is longer, the forwarding device proactively sends CNPs to the sender's NIC to ensure that the NIC can reduce the packet sending rate in a timely manner.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001512680422__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enable the AI service and enter the AI service view.</span><p><pre class="screen"><a href="cmdqueryname=ai-service"><b><span class="cmdname">ai-service</span></b></a></pre>
<p>By default, the AI service is disabled.</p>
</p></li><li><span>Enter the iQCN view and enable iQCN.</span><p><pre class="screen"><a href="cmdqueryname=iqcn"><b><span class="cmdname">iqcn</span></b></a></pre>
<p>By default, iQCN is disabled.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>NPCC and iQCN cannot be enabled at the same time in the AI service view.</p>
</div></div>
</p></li><li><span>Specify a lossless queue for which the iQCN function is enabled.</span><p><pre class="screen"><a href="cmdqueryname=assign+queue"><b><span class="cmdname">assign queue</span></b></a> <i><span class="varname">queue-id</span></i></pre>
<p>By default, no lossless queue is specified for enabling the iQCN function.</p>
</p></li><li><span>Enable the iQCN function globally.</span><p><pre class="screen"><a href="cmdqueryname=iqcn+enable"><b><span class="cmdname">iqcn enable</span></b></a></pre>
<p>By default, the iQCN function is disabled globally.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>When the iQCN function is disabled globally, you can modify settings of the parameters related to the function, but the function does not take effect. When the iQCN function is enabled globally again, the function takes effect based on the current parameter settings.</p>
</div></div>
</p></li><li><span>Set the interval between rate increase events of the NIC on a forwarding device.</span><p><pre class="screen"><strong><a href="cmdqueryname=rpg-time-reset"><b><span class="cmdname">rpg-time-reset</span></b></a></strong><i><span class="varname"> timer</span></i></pre>
<p>By default, the interval between rate increase events of the NIC configured on a forwarding device is 300 &micro;s.</p>
</p></li><li><span>Exit the iQCN view.</span><p><pre class="screen"><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></pre>
</p></li><li><span>Exit the AI service view.</span><p><pre class="screen"><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></pre>
</p></li><li><span>Enter the interface view.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></pre>
</p></li><li><span>Enable the iQCN function on the interface.</span><p><pre class="screen"><a href="cmdqueryname=iqcn+enable"><b><span class="cmdname">iqcn enable</span></b></a></pre>
<p>By default, the iQCN function is disabled on an interface.</p>
</p></li><li><span>Exit the interface view.</span><p><pre class="screen"><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></pre>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001512680422__en-us_task_0228023023_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001512680422__en-us_task_0228023023_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_ai_iqcn_cfg_0001.html">iQCN Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="spec/iQCN_limitation_CE_v6r23c00.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="galaxy_ai_iqcn_cfg_0008.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>