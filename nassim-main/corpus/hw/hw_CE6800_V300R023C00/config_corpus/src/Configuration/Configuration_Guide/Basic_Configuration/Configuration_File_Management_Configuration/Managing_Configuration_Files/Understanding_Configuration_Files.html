
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Understanding Configuration Files">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_cfgfile_cfg_0004.html">
<meta name="DC.Relation" scheme="URI" content="vrp_cfgfile_cfg_0006.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Configuration File Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Configuration File Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="featurename" content="Configuration File Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001512691134">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Understanding Configuration Files</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_CONCEPT_0000001512691134"></a><a name="EN-US_CONCEPT_0000001512691134"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Understanding Configuration Files</h1>
<div><div class="section"><h4 class="sectiontitle">Configuration File Format</h4><div class="p">Configuration files use text format and must meet the following requirements:<ul><li><p>A configuration file can contain only configuration commands, view switching commands, # symbols (used to switch to the system view), and the <a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a> command. When the device is loading a configuration file that contains other types of commands, such as <strong>display</strong> commands used for querying, <strong>reset</strong>, <strong>save</strong>, and <strong>ping</strong> commands used for maintenance, the <a href="cmdqueryname=return"><b><span class="cmdname">return</span></b></a> command, and commands for upgrade compatibility, the device reports an error when attempting to load such commands and continues to load other commands supported in the configuration file.</p>
</li><li><p>A configuration file cannot contain repeated commands.</p>
</li><li><div class="p">Each view is displayed with an indentation of one character. Assume that an IP address needs to be configured in the 10GE1/0/1 interface view. The <strong>ip address 10.1.1.5 255.255.255.0</strong> command needs to be indented by one character compared with the <strong>interface 10GE1/0/1</strong> command. The configurations are as follows:<pre class="screen">#
interface 10GE1/0/1
 ip address 10.1.1.5 255.255.255.0
#</pre>
</div>
</li><li><p>If commands in a configuration file need to be executed in a view, the configuration file must also contain the command for entering the view.</p>
</li><li><p>The configuration sequence and dependency must be correct.</p>
</li><li><p>Interactive commands in a configuration file support only Y and N choices. Y is the default choice, which is entered automatically during configuration restoration.</p>
</li><li><div class="p">A configuration file must be saved to the root directory of the storage medium, with a file name extension as .zip, .cfg, or .dat.<ul><li>A .cfg file is a text file, whose contents can be viewed directly. If a .cfg file is specified as the configuration file, the system restores the commands in the file one by one during device startup.</li><li>A .zip file is compressed from a .cfg file and occupies less space. If a .zip file is specified as the configuration file, the system first decompresses the file into a .cfg file, and then restores the commands in the .cfg file one by one during device startup.</li><li>A .dat file is a binary file. If the startup software version and the .dat file version are the same, the system restores all configurations at a time without the need to restore the commands one by one, accelerating device startup.</li></ul>
</div>
</li></ul>
</div>
</div>
<div class="section"><h4 class="sectiontitle">Configuration File Category</h4><p>The following table lists the differences between the configurations loaded when the device is running. These configurations fall into the following types: factory configuration, preset configuration, current configuration, and next startup configuration.</p>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="16.38836116388361%" id="mcps1.3.2.3.1.4.1.1" liSelected="liSelected"><p>Type</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="41.805819418058185%" id="mcps1.3.2.3.1.4.1.2" liSelected="liSelected"><p>Description</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="41.805819418058185%" id="mcps1.3.2.3.1.4.1.3" liSelected="liSelected"><p>Command</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="16.38836116388361%" headers="mcps1.3.2.3.1.4.1.1 "><p>Factory configuration</p>
</td>
<td class="cellrowborder" valign="top" width="41.805819418058185%" headers="mcps1.3.2.3.1.4.1.2 "><p>Factory configurations are basic configurations provided for a new device. This type of configurations enables a device to start and operate correctly when there is no configuration file, or when the configuration file is lost or damaged. When a device starts with factory configurations, it is considered to start in unconfigured mode.</p>
<p>Factory configurations are different from the default command configurations. The default command configurations cannot be generated in a configuration file. You can run the <a href="cmdqueryname=display+current-configuration"><b><span class="cmdname">display current-configuration</span></b></a> <strong><span>include-default</span></strong> command to view the default configurations. For example, factory configurations may contain the <strong>snetconf server enable</strong> command, but the SNETCONF service is disabled by default. In this case, the SNETCONF service is enabled when the device restores factory configurations.</p>
</td>
<td class="cellrowborder" valign="top" width="41.805819418058185%" headers="mcps1.3.2.3.1.4.1.3 "><p>-</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="16.38836116388361%" headers="mcps1.3.2.3.1.4.1.1 "><p>Preset configuration</p>
</td>
<td class="cellrowborder" valign="top" width="41.805819418058185%" headers="mcps1.3.2.3.1.4.1.2 "><p>When a device starts, it reads the preset default configuration file (*.defcfg) from the default storage path to initialize the system. The configurations in this configuration file are called preset configurations. If no preset default configuration file exists in the default storage path, the device uses the factory configurations for initialization.</p>
</td>
<td class="cellrowborder" valign="top" width="41.805819418058185%" headers="mcps1.3.2.3.1.4.1.3 "><p>-</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="16.38836116388361%" headers="mcps1.3.2.3.1.4.1.1 "><p>Current configuration</p>
</td>
<td class="cellrowborder" valign="top" width="41.805819418058185%" headers="mcps1.3.2.3.1.4.1.2 "><p>The configurations that are in effect during device running are current configurations.</p>
</td>
<td class="cellrowborder" valign="top" width="41.805819418058185%" headers="mcps1.3.2.3.1.4.1.3 "><p>Run the <a href="cmdqueryname=display+current-configuration"><b><span class="cmdname">display current-configuration</span></b></a> command to check the current configurations.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="16.38836116388361%" headers="mcps1.3.2.3.1.4.1.1 "><p>Next startup configuration</p>
</td>
<td class="cellrowborder" valign="top" width="41.805819418058185%" headers="mcps1.3.2.3.1.4.1.2 "><p>After the device starts, you can specify a configuration file as the initial configurations for the next startup, known as the next startup configurations.</p>
</td>
<td class="cellrowborder" valign="top" width="41.805819418058185%" headers="mcps1.3.2.3.1.4.1.3 "><p>Run the <a href="cmdqueryname=display+startup"><b><span class="cmdname">display startup</span></b></a> command to check the configuration file for the next startup.</p>
<p>Run the <a href="cmdqueryname=display+saved-configuration"><b><span class="cmdname">display saved-configuration</span></b></a> command to check content in the configuration file for the next startup.</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="p">To use modified configurations as the next startup configurations, run the <a href="cmdqueryname=save"><b><span class="cmdname">save</span></b></a> command to save them to the default storage medium.<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If a command is configured in an incomplete format, the system saves the command to the configuration file in its complete format. As a result, the command may have more than 510 characters, which is the maximum length supported by the system. Such a command cannot be restored after the system restarts.</p>
</div></div>
</div>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_cfgfile_cfg_0004.html">Managing Configuration Files
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_cfgfile_cfg_0006.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>