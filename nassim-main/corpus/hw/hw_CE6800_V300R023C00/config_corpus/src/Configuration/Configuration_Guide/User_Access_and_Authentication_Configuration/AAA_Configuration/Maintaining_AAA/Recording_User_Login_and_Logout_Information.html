
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Recording User Login and Logout Information">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_aaa_cfg_0051.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_aaa_cfg_0053.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="AAA">
<meta name="featurename" content="AD">
<meta name="featurename" content="HWTACACS">
<meta name="featurename" content="LDAP">
<meta name="featurename" content="RADIUS">
<meta name="featurename" content="Local User">
<meta name="featuretype" content="User Access and Authentication">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="AAA">
<meta name="featurename" content="AD">
<meta name="featurename" content="HWTACACS">
<meta name="featurename" content="LDAP">
<meta name="featurename" content="RADIUS">
<meta name="featurename" content="Local User">
<meta name="featuretype" content="User Access and Authentication">
<meta name="featurename" content="AAA">
<meta name="featurename" content="AD">
<meta name="featurename" content="HWTACACS">
<meta name="featurename" content="LDAP">
<meta name="featurename" content="RADIUS">
<meta name="featurename" content="Local User">
<meta name="featuretype" content="User Access and Authentication">
<meta name="featuretype" content="User Access and Authentication">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001512836054">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Recording User Login and Logout Information</title>
</head>
<body><a name="EN-US_TASK_0000001512836054"></a><a name="EN-US_TASK_0000001512836054"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Recording User Login and Logout Information</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001512836054__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>To help administrators locate and analyze the causes of user login failures and unexpected logouts, you can enable the function of recording normal logouts, unexpected logouts, and login failures. After the function is enabled, you can run the following commands to view user login and logout information.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001512836054__1.3.2"></a><a name="1.3.2"></a>
<div class="p"><h4 class="sectiontitle">Procedure</h4>
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.2.2.1.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.2.2.1.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.2.2.1.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.2.2.1.4.1.1 "><p>In the system view, enable the function of recording normal logout information.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.2.2.1.4.1.2 "><p><a href="cmdqueryname=aaa+offline-record"><b><span class="cmdname">aaa offline-record</span></b></a></p>
</td>
<td class="cellrowborder" rowspan="3" valign="top" width="33.33333333333333%" headers="mcps1.3.2.2.1.4.1.3 "><p>By default, the function is enabled.</p>
<p>After the function is enabled, you can run the following commands to view user information:</p>
<ul><li><p>Run the <a href="cmdqueryname=display+aaa"><b><span class="cmdname">display aaa</span></b></a> command in any view to view records about normal logouts, unexpected logouts, and login failures.</p>
</li><li><p>Run the <a href="cmdqueryname=display+aaa+statistics+offline-reason"><b><span class="cmdname">display aaa statistics offline-reason</span></b></a> command in any view to view the reason why users go offline.</p>
</li></ul>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.2.2.1.4.1.1 "><p>In the system view, enable the function of recording unexpected logout information.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.2.2.1.4.1.2 "><p><a href="cmdqueryname=aaa+abnormal-offline-record"><b><span class="cmdname">aaa abnormal-offline-record</span></b></a></p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.2.2.1.4.1.1 "><p>In the system view, enable the function of recording login failures.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.2.2.1.4.1.2 "><p><a href="cmdqueryname=aaa+online-fail-record"><b><span class="cmdname">aaa online-fail-record</span></b></a></p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.2.2.1.4.1.1 "><p>In the system view, set the maximum number of CIB cache entries that can be recorded and the aging time.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.2.2.1.4.1.2 "><p><strong>access-user cib-record cache-record-num</strong> <em>cache-record-num</em> <strong>cache-aging-time</strong> <em>cache-aging-time</em></p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.2.2.1.4.1.3 "><p>When an access user fails authentication, check the data in the access user cache table to locate the fault. To facilitate fault locating, run this command to specify the maximum number of CIB cache entries that can be recorded and the aging time.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_aaa_cfg_0051.html">Maintaining AAA
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_aaa_cfg_0053.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>