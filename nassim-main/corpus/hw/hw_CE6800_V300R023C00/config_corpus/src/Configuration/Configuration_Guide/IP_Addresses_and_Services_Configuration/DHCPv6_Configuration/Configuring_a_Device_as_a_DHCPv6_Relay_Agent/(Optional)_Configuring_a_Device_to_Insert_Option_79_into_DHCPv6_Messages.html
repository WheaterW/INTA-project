
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring a Device to Insert Option 79 into DHCPv6 Messages">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_dhcpv6_cfg_0026.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_dhcpv6_cfg_0028.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_dhcpv6_cfg_0050.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="DHCPv6">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="DHCPv6">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="DHCPv6">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001513050418">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring a Device to Insert Option 79 into DHCPv6 Messages</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001513050418"></a><a name="EN-US_TASK_0000001513050418"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring a Device to Insert Option 79 into DHCPv6 Messages</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001513050418__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>A MAC address is used to identify a DHCPv4 client on an IPv4 network, whereas a DUID is used to identify a DHCPv6 client on an IPv6 network. In IPv4/IPv6 dual-stack scenarios, an administrator wants to use the MAC address of a client to establish a connection with the IPv4/IPv6 addresses obtained by the client and manage the dual-stack client in a unified manner based on the MAC address. However, the MAC address of a DHCPv6 client cannot be identified using a DUID currently.</p>
<p>As defined in the RFC, a DHCPv6 relay agent can fill the link address and type of a client in Option 79. When a device functions as a DHCPv6 relay agent, you can configure the device to insert Option 79 into DHCPv6 messages so that a DHCPv6 server can obtain clients' MAC addresses. After this function is configured, the device inserts Option 79 into a Request message received from a client, constructs a Relay-forward message, and forwards the message to the DHCPv6 server. The server then parses Option 79 to obtain the MAC address of the client.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>Only the first-hop DHCPv6 relay agent supports this function.</li><li>This function takes effect for all interfaces if it is configured in the system view, and takes effect for a specified interface if it is configured in the view of the interface. If this function is configured in both the interface and system views, the configuration in the interface view takes effect.</li></ul>
</div></div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001513050418__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure a device to insert Option 79 into DHCPv6 messages in the system view.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enable DHCP.</span><p><pre class="screen"><a href="cmdqueryname=dhcp+enable"><b><span class="cmdname">dhcp enable</span></b></a></pre>
</p></li><li class="substepexpand"><span>Configure the device to insert Option 79 into DHCPv6 messages.</span><p><pre class="screen"><a href="cmdqueryname=dhcpv6+relay+option79+insert+enable"><b><span class="cmdname">dhcpv6 relay option79 insert enable</span></b></a></pre>
</p><p><p>By default, a device is disabled from inserting Option 79 into DHCPv6 messages.</p>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001513050418__en-us_task_0228023023_screen14848162118611"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001513050418__en-us_task_0228023023_cmdname1784862115612">commit</span></b></a></pre>
</p></li></ol>
</li><li><span>Configure a device to insert Option 79 into DHCPv6 messages in the interface view.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enable DHCP.</span><p><pre class="screen"><a href="cmdqueryname=dhcp+enable"><b><span class="cmdname">dhcp enable</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the interface view.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type interface-number</span></i></pre>
</p></li><li class="substepexpand"><span>Switch the interface working mode to Layer 3.</span><p><pre class="screen" id="EN-US_TASK_0000001513050418__en-us_task_0228023023_screen132321812144720"><a href="cmdqueryname=undo+portswitch"><b><span class="cmdname" id="EN-US_TASK_0000001513050418__en-us_task_0228023023_cmdname42322122476">undo portswitch</span></b></a></pre>
<p id="EN-US_TASK_0000001513050418__en-us_task_0228023023_p64817191519">Determine whether to perform this step based on the current interface working mode.</p>
</p></li><li class="substepexpand"><span>Configure the device to insert Option 79 into DHCPv6 messages on the interface.</span><p><pre class="screen"><a href="cmdqueryname=dhcpv6+relay+option79+insert+enable"><b><span class="cmdname">dhcpv6 relay option79 insert enable</span></b></a></pre>
<p>By default, a device is disabled from inserting Option 79 into DHCPv6 messages.</p>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001513050418__en-us_task_0228023023_screen14848162118611_1"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001513050418__en-us_task_0228023023_cmdname1784862115612_1">commit</span></b></a></pre>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_dhcpv6_cfg_0026.html">Configuring a Device as a DHCPv6 Relay Agent
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_dhcpv6_cfg_0028.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="galaxy_dhcpv6_cfg_0050.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>