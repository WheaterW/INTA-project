
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Optimizing LLDP Performance">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_lldp_cfg_0006.html">
<meta name="DC.Relation" scheme="URI" content="vrp_lldp_cfg_0009.html">
<meta name="DC.Relation" scheme="URI" content="vrp_lldp_cfg_0027.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="LLDP">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="LLDP">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="LLDP">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001130782862">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>(Optional) Optimizing LLDP Performance</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001130782862"></a><a name="EN-US_TASK_0000001130782862"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Optimizing LLDP Performance</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001130782862__1.3.1"></a><a name="1.3.1"></a>
<div class="p"><h4 class="sectiontitle">Context</h4><p>This section describes how to adjust LLDP parameters based on the load of a network to reduce the consumption of system resources and optimize the LLDP performance.</p>
<div class="p">LLDP parameters include: interval for sending LLDP frames, delay in sending LLDP frames, hold time multiplier of device information on neighbors, delay in initializing LLDP on interfaces, and number of LLDP frames quickly sent by the device to a neighbor. Values of these parameters should be appropriate. You can adjust these parameters based on the load of a network. <a href="#EN-US_TASK_0000001130782862__tab_dc_vrp_lldp_cfg_000701">Table 1</a> describes the usage scenarios of LLDP parameters. 
<div class="tableBorder"><a name="EN-US_TASK_0000001130782862__tab_dc_vrp_lldp_cfg_000701"></a><a name="tab_dc_vrp_lldp_cfg_000701"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TASK_0000001130782862__tab_dc_vrp_lldp_cfg_000701" frame="border" border="1" rules="all"><caption><b>Table 1 </b>LLDP parameters</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="27.029999999999998%" id="mcps1.3.1.3.2.2.4.1.1" liSelected="liSelected"><p>Parameter Name</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="28.22%" id="mcps1.3.1.3.2.2.4.1.2" liSelected="liSelected"><p>Description</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="44.75%" id="mcps1.3.1.3.2.2.4.1.3" liSelected="liSelected"><p>Value Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="27.029999999999998%" headers="mcps1.3.1.3.2.2.4.1.1 "><p><strong><span>message-transmission interval</span></strong></p>
</td>
<td class="cellrowborder" valign="top" width="28.22%" headers="mcps1.3.1.3.2.2.4.1.2 "><p>Sets the interval for sending LLDP frames to adjust the frequency of network topology discovery.</p>
</td>
<td class="cellrowborder" valign="top" width="44.75%" headers="mcps1.3.1.3.2.2.4.1.3 "><ul><li>The longer the interval, the lower the frequency of LLDP frames being exchanged. This saves system resources. However, if the interval for sending LLDP frames is too long, the device cannot notify neighbors of its status in a timely manner, reducing network topology discovery efficiency.</li><li>The shorter the interval, the higher the frequency of the local status information being sent to neighbors. This ensures prompt network topology discovery. However, if the interval is too short, LLDP frames are exchanged too frequently, increasing the system load and wasting resources.</li></ul>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="27.029999999999998%" headers="mcps1.3.1.3.2.2.4.1.1 "><p><strong><span>message-transmission delay</span></strong></p>
</td>
<td class="cellrowborder" valign="top" width="28.22%" headers="mcps1.3.1.3.2.2.4.1.2 "><p>Sets the delay in sending LLDP frames to avoid network flapping of neighbors caused by LLDP frames being frequently sent to neighbors.</p>
</td>
<td class="cellrowborder" valign="top" width="44.75%" headers="mcps1.3.1.3.2.2.4.1.3 "><div class="p">When the status of a device changes frequently:<ul><li>The longer the delay, the lower the frequency of the local status information being sent to neighbors. This saves system resources. However, if the delay for sending LLDP frames is too long, the device cannot notify neighbors of its status in a timely manner, reducing network topology discovery efficiency.</li><li>The shorter the delay, the higher the frequency of the local status information being sent to neighbors. This ensures prompt network topology discovery. However, if the interval is too short, LLDP frames are exchanged too frequently, increasing the system load and wasting resources.</li></ul>
</div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="27.029999999999998%" headers="mcps1.3.1.3.2.2.4.1.1 "><p><strong><span>message-transmission hold-multiplier</span></strong></p>
</td>
<td class="cellrowborder" valign="top" width="28.22%" headers="mcps1.3.1.3.2.2.4.1.2 "><p>Sets the hold time multiplier of device information on neighbors to calculate the valid time of LLDP frames being sent to neighbors. The time of device information held in neighbors can be adjusted by setting this parameter.</p>
</td>
<td class="cellrowborder" valign="top" width="44.75%" headers="mcps1.3.1.3.2.2.4.1.3 "><ul><li>The higher the time multiplier, the lower the frequency of network topology changes of neighbors. However, if the time of device information held in neighbors is too long, the device cannot notify neighbors of its status in a timely manner, reducing network topology discovery efficiency.</li><li>The lower the time multiplier, the higher the frequency of network topology changes of neighbors. This ensures prompt network topology discovery. However, if the time multiplier is too low, neighbors refresh local status information frequently, increasing the system load and wasting resources.</li></ul>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="27.029999999999998%" headers="mcps1.3.1.3.2.2.4.1.1 "><p><strong><span>restart-delay</span></strong></p>
</td>
<td class="cellrowborder" valign="top" width="28.22%" headers="mcps1.3.1.3.2.2.4.1.2 "><p>Sets the delay in initializing LLDP on interfaces to avoid network flapping caused by frequent LLDP status changes on interfaces.</p>
</td>
<td class="cellrowborder" valign="top" width="44.75%" headers="mcps1.3.1.3.2.2.4.1.3 "><ul><li>The longer the delay, the lower the frequency of network topology changes on a device. However, if the delay for initializing LLDP on interfaces is too long, the device cannot trace changes of neighbor status. As a result, the device cannot detect network topology of neighbors in a timely manner.</li><li>The shorter the delay, the higher the frequency of network topology changes on a device. This ensures prompt network topology discovery. However, if the delay is too short, the device refreshes status information about neighbors frequently, increasing the system load and wasting resources.</li></ul>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="27.029999999999998%" headers="mcps1.3.1.3.2.2.4.1.1 "><p><strong><span>fast-count</span></strong></p>
</td>
<td class="cellrowborder" valign="top" width="28.22%" headers="mcps1.3.1.3.2.2.4.1.2 "><p>Sets the number of LLDP frames quickly sent by the device to a neighbor to help the neighbor quickly obtain information about the local device, and help the NMS quickly detect network topology.</p>
</td>
<td class="cellrowborder" valign="top" width="44.75%" headers="mcps1.3.1.3.2.2.4.1.3 "><p>A device sends LLDP frames to neighbors every second if LLDP frames are being sent in quick succession and are not restricted by the delay time. After sending a specified number of LLDP frames in quick succession, the device periodically sends LLDP frames to neighbors based on the set interval.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001130782862__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Configure LLDP parameters to optimize LLDP performance. Perform the following operations as required:</span><p><ul><li>Configure the global interval for a device to send LLDP frames.<pre class="screen"><a href="cmdqueryname=lldp+transmit+interval"><b><span class="cmdname">lldp transmit interval</span></b></a> <i><span class="varname">interval</span></i></pre>
<p>By default, the interval for sending LLDP frames is 30 seconds. Generally, you are advised to use the default interval for sending LLDP frames.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>By default, the LLDP-enabled interfaces use the global interval to send LLDP frames. To change the interval at which an interface sends LLDP frames, run the <a href="cmdqueryname=lldp+transmit+fast-mode+interval"><b><span class="cmdname">lldp transmit fast-mode interval</span></b></a> <i><span class="varname">packet-interval</span></i> command in the interface view.</p>
</div></div>
</li><li>Configure the delay for sending LLDP frames.<pre class="screen"><a href="cmdqueryname=lldp+transmit+delay"><b><span class="cmdname">lldp transmit delay</span></b></a> <i><span class="varname">delay</span></i></pre>
<p>The delay for sending LLDP frames is configured. <span>The default delay for sending LLDP frames is 2s.</span></p>
<div class="p">The parameters <i><span class="varname">interval</span></i> and <i><span class="varname">delay</span></i> for sending LLDP frames affect each other. Take the value of <i><span class="varname">delay</span></i> into consideration when adjusting the value of <i><span class="varname">interval</span></i>.<ul><li>Increasing the value of <i><span class="varname">interval</span></i> is not restricted by the value of <i><span class="varname">delay</span></i>. <i><span class="varname">interval</span></i> can be any number from 5 to 32768.</li><li>Decreasing the value of <i><span class="varname">interval</span></i> is not restricted by the value of <i><span class="varname">delay</span></i>. The target value of <i><span class="varname">interval</span></i> must be greater than or equal to four times the value of <i><span class="varname">delay</span></i>. Otherwise, the value of <i><span class="varname">delay</span></i> must be adjusted to be less than or equal to a quarter of the target value of <i><span class="varname">interval</span></i>.</li></ul>
</div>
</li><li>Configure time multiplier of device information held in neighbors.<pre class="screen"><a href="cmdqueryname=lldp+transmit+multiplier"><b><span class="cmdname">lldp transmit multiplier</span></b></a> <i><span class="varname">hold-multiplier</span></i></pre>
<p>By default, the hold time multiplier of local status information on neighbors is 4. Generally, it is recommended that you keep the default hold time multiplier value of local status information on neighbors.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>You can increase the value of <i><span class="varname">hold-multiplier</span></i> to prolong the time that device information is held in neighbors.</li><li>The value of <i><span class="varname">hold-multiplier</span></i> ranges from 2 to 10. The configuration does not take effect if the value of <i><span class="varname">hold-multiplier</span></i> x <i><span class="varname">interval</span></i> is greater than 65535.</li></ul>
</div></div>
</li><li>Configure the delay for initializing LLDP on interfaces.<pre class="screen"><a href="cmdqueryname=lldp+restart"><b><span class="cmdname">lldp restart</span></b></a> <i><span class="varname">delay</span></i></pre>
<p>By default, the delay for initializing LLDP on an interface is 2 seconds. Generally, you are advised to set the delay for initializing LLDP on an interface to the default value.</p>
</li><li>Configure the number of LLDP frames being sent in quick succession to neighbors.<pre class="screen"><a href="cmdqueryname=lldp+fast-count"><b><span class="cmdname">lldp fast-count</span></b></a> <i><span class="varname">count</span></i></pre>
<p>By default, the number of LLDP frames being sent in quick succession to neighbors is 4.</p>
<p>To help neighbors quickly obtain information about a local device, the local device sends a number of LLDP frames to neighbors when the local device detects a new neighbor (that is, when the device receives an LLDP frame from a transmitting device for which it has no information), or when LLDP is enabled for the device that previously had LLDP disabled, or the interface connected to a neighbor goes up.</p>
</li></ul>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001130782862__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001130782862__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_lldp_cfg_0006.html">Configuring Basic LLDP Functions
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_lldp_cfg_0009.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_lldp_cfg_0027.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>