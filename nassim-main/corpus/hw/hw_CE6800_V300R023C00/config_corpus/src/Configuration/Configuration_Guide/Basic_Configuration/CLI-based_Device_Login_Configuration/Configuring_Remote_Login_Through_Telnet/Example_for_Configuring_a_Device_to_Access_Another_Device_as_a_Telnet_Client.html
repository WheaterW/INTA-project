
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring a Device to Access Another Device as a Telnet Client">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_login_cfg_0008.html">
<meta name="DC.Relation" scheme="URI" content="vrp_login_cfg_0011.html">
<meta name="DC.Relation" scheme="URI" content="vrp_login_cfg_0028.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Telnet">
<meta name="featurename" content="CLI-based Device Login">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Telnet">
<meta name="featurename" content="CLI-based Device Login">
<meta name="featuretype" content="Basic Configuration">
<meta name="featurename" content="Console">
<meta name="featurename" content="Stelnet">
<meta name="featurename" content="Telnet">
<meta name="featurename" content="CLI-based Device Login">
<meta name="featuretype" content="Basic Configuration">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001563893021">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Example for Configuring a Device to Access Another Device as a Telnet Client</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001563893021"></a><a name="EN-US_TASK_0000001563893021"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring a Device to Access Another Device as a Telnet Client</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001563893021__1.3.1"></a><a name="1.3.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>In <a href="#EN-US_TASK_0000001563893021__fig_dc_cfg_login_001901">Figure 1</a>, there are reachable routes between the PC and <span class="keyword">Device</span>1, and between <span class="keyword">Device</span>1 and <span class="keyword">Device</span>2. Users want to remotely manage and maintain <span class="keyword">Device</span>2. However, there is no reachable route between the PC and <span class="keyword">Device</span>2, and therefore users cannot directly log in to <span class="keyword">Device</span>2 using Telnet. To address this issue, users can use Telnet to log in to <span class="keyword">Device</span>1 and then use Telnet to log in to <span class="keyword">Device</span>2 from <span class="keyword">Device</span>1. An ACL rule also needs to be configured to only allow <span class="keyword">Device</span>1 to access <span class="keyword">Device</span>2 using Telnet, preventing unauthorized devices from telneting to <span class="keyword">Device</span>2.</p>
<div class="fignone" id="EN-US_TASK_0000001563893021__fig_dc_cfg_login_001901"><a name="EN-US_TASK_0000001563893021__fig_dc_cfg_login_001901"></a><a name="fig_dc_cfg_login_001901"></a><span class="figcap"><b>Figure 1 </b>Network diagram of configuring a device to access another device as a Telnet client</span><div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In this example, interface1 represents <span>100GE</span><span>1/0/1</span>.</p>
</div></div>
<br><span><img class="vsd" src="figure/en-us_image_0000001563893029.png"></span></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001563893021__1.3.2"></a><a name="1.3.2"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><p>The configuration roadmap is as follows:</p>
<ol><li>Configure the authentication mode and password for Telnet access on <span class="keyword">Device</span>2.</li><li>Configure an ACL rule on <span class="keyword">Device</span>2 to allow access from <span class="keyword">Device</span>1.</li><li>Telnet to <span class="keyword">Device</span>2 from <span class="keyword">Device</span>1.</li></ol>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001563893021__1.3.3"></a><a name="1.3.3"></a>
<div class="p"><h4 class="sectiontitle">Configuration Precautions</h4><p>In insecure network environments, you are advised to use a secure password authentication mode, encryption authentication algorithm, and protocol. For details about secure configuration examples, see <a href="vrp_login_cfg_0017.html">Example for Configuring a Device to Access Another Device as an STelnet Client (Password and RSA Authentication)</a>.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001563893021__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run the <strong>install feature-software WEAKEA</strong> command in the user view to install the weak security algorithm/protocol feature package (WEAKEA).</span></li><li><span>Configure the authentication mode and password for Telnet access on <span class="keyword">Device</span>2.</span><p><pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>sysname <span class="keyword">Device</span>2</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>2]<strong> user-interface vty 0 4</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>2-ui-vty0-4]<strong> authentication-mode aaa</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>2-ui-vty0-4]<strong> quit</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>2]<strong> commit</strong></pre>
</p></li><li><span>Configure login user information.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>2]<strong> aaa</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>2-aaa] <strong>local-user admin1234 password</strong>
Please configure the login password (8-128)
It is recommended that the password consist of four types of characters, including lowercase letters, uppercase letters, numerals and special characters. 
Please enter password:                                      
Please confirm password:                               
[<span class="keyword">*</span><span class="keyword">Device</span>2-aaa] <strong>local-user admin1234 service-type telnet</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>2-aaa] <strong>local-user admin1234 privilege level 3</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>2-aaa]<strong> quit</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>2]<strong> commit</strong></pre>
</p></li><li><span>Configure an ACL rule on <span class="keyword">Device</span>2 to allow access from <span class="keyword">Device</span>1.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>2]<strong> acl 2000</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>2-acl<span>4</span>-basic-2000]<strong> rule permit source 10.1.1.1 0</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>2-acl<span>4</span>-basic-2000]<strong> quit</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>2]<strong> user-interface vty 0 4</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>2-ui-vty0-4]<strong> acl 2000 inbound</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>2-ui-vty0-4]<strong> quit</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>2]<strong> commit</strong></pre>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The ACL configuration is optional.</p>
</div></div>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001563893021__1.3.5"></a><a name="1.3.5"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p># After the preceding configurations are complete, you can telnet to <span class="keyword">Device</span>2 from <span class="keyword">Device</span>1, but not from other devices.</p>
<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>sysname <span class="keyword">Device</span>1</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>1]<strong> quit</strong>
&lt;<span class="keyword">Device</span>1&gt; <strong>telnet 10.2.1.1</strong>
Username:<strong>admin1234</strong>
Password:
Info: The max number of VTY users is 21, the number of current VTY users online is 1, and total number of terminal users online is 1.
      The current login time is 2020-12-15 14:23:00.
&lt;<span class="keyword">Device</span>2&gt;</pre>
</div>
<div class="postreq"><a name="EN-US_TASK_0000001563893021__1.3.6"></a><a name="1.3.6"></a><h4 class="sectiontitle">Configuration Scripts</h4><p><span class="keyword">Device</span>2</p>
<pre class="screen">#
sysname <span class="keyword">Device</span>2
#
acl number 2000
 rule 5 permit source 10.1.1.1 0
#
aaa
 local-user admin1234 password irreversible-cipher <span>$1d$g8wLJ`LjL!$CyE(V{3qg5DdU:PM[6=6O$UF-.fQ,Q}&gt;^)OBzgoU$</span>
 local-user admin1234 privilege level 3
 local-user admin1234 service-type telnet
#
user-interface vty 0 4
 acl 2000 inbound
 authentication-mode aaa
#
return</pre>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_login_cfg_0008.html">Configuring Remote Login Through Telnet
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_login_cfg_0011.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_login_cfg_0028.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>