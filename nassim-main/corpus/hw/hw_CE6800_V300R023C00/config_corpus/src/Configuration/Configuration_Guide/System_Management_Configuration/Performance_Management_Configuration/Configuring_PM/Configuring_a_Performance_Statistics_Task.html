
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a Performance Statistics Task">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_pm_cfg_0006.html">
<meta name="DC.Relation" scheme="URI" content="vrp_pm_cfg_0008.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Performance Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Performance Management">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="Performance Management">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001512674934">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring a Performance Statistics Task</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001512674934"></a><a name="EN-US_TASK_0000001512674934"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a Performance Statistics Task</h1>
<div class="taskbody"><div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001512674934__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>Reachable routes have been configured between the device and PM server.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001512674934__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>To collect and analyze performance statistics about system services, configure a performance statistics task and bind the task to one or more instances. In the performance statistics task, you can configure the performance statistics collection interval, sampling interval, and parameters for statistics file generation.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001512674934__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enter the PM view.</span><p><pre class="screen"><a href="cmdqueryname=pm"><b><span class="cmdname">pm</span></b></a></pre>
</p></li><li><span>Enable the data statistics function.</span><p><pre class="screen"><a href="cmdqueryname=statistics+enable"><b><span class="cmdname">statistics enable</span></b></a></pre>
</p></li><li><span>Create a performance statistics task and enter the performance statistics task view.</span><p><pre class="screen"><a href="cmdqueryname=statistics-task"><b><span class="cmdname">statistics-task</span></b></a> <i><span class="varname">task-name</span></i></pre>
</p></li><li><span>Bind an instance to the performance statistics task.</span><p><pre class="screen"><a href="cmdqueryname=binding"><b><span class="cmdname">binding</span></b></a> <strong><span>instance-type</span></strong> <i><span class="varname">instance-type</span></i> { <i><span class="varname">all</span></i> | <i><span class="varname">instance</span></i> { <i><span class="varname">vpn-instance-name</span></i> } &amp;&lt;1-8&gt; }</pre>
<p>After an instance is bound to the performance statistics task, the system immediately collects and records the performance statistics about the instance.</p>
</p></li><li><span>(Optional) Disable measurement for a statistics indicator of the bound instance.</span><p><pre class="screen"><a href="cmdqueryname=measure+disable+instance-type"><b><span class="cmdname">measure disable instance-type</span></b></a> <i><span class="varname">instance-type</span></i> { <strong>measure</strong> { <i><span class="varname">measure-name</span></i> } | <strong>all</strong> }</pre>
</p><p><p>By default, measurement is enabled for all statistics indicators of a bound instance.</p>
<p>To view statistics indicators of a bound instance, run the <a href="cmdqueryname=display+pm+measure-info"><b><span class="cmdname">display pm measure-info</span></b></a> <strong><span>instance-type</span></strong> <i><span class="varname">instance-type-name</span></i> command. </p>
</p></li><li><span>(Optional) Configure a sampling interval.</span><p><pre class="screen"><a href="cmdqueryname=sample-interval"><b><span class="cmdname">sample-interval</span></b></a> <em>interval</em></pre>
<p>By default:</p>
<ul><li><p>If the performance statistics collection interval is 5 minutes, the default sampling interval is 1 minute.</p>
</li><li><p>If the performance statistics collection interval is 10 minutes, the default sampling interval is 2 minutes.</p>
</li><li><p>If the performance statistics collection interval is 15 minutes, the default sampling interval is 3 minutes.</p>
</li><li><p>If the performance statistics collection interval is 30 minutes, the default sampling interval is 5 minutes.</p>
</li><li><p>If the performance statistics collection interval is 60 minutes, the default sampling interval is 5 minutes.</p>
</li><li><p>If the performance statistics collection interval is 1440 minutes, the default sampling interval is 15 minutes.</p>
</li></ul>
</p></li><li><span>(Optional) Configure a performance statistics collection interval.</span><p><pre class="screen"><a href="cmdqueryname=statistics-cycle"><b><span class="cmdname">statistics-cycle</span></b></a> <i><span class="varname">cycle</span></i></pre>
<p>By default, the performance statistics collection interval is 15 minutes.</p>
</p></li><li><span>(Optional) Configure whether to generate performance statistics files.</span><p><ul><li>Disable the function to generate performance statistics files.<pre class="screen"><a href="cmdqueryname=record-file+disable"><b><span class="cmdname">record-file disable</span></b></a></pre>
<p>By default, performance statistics files are automatically generated and saved on a device.</p>
<p>You can run this command to prevent performance statistics files from being generated, reducing memory resource consumption.</p>
</li></ul>
</p><p><ul><li>Set the number of performance statistics collection intervals when the function to generate performance statistics files is enabled.<pre class="screen"><a href="cmdqueryname=record-interval"><b><span class="cmdname">record-interval</span></b></a> <i><span class="varname">interval</span></i></pre>
<div class="p">By default:<ul><li>If a short interval (5, 10, 15, 30, or 60 minutes) is set for collecting performance statistics, the system generates a performance statistics file for every four intervals.</li><li>If a long interval (1440 minutes) is set for collecting performance statistics, the system generates a performance statistics file for every interval.</li></ul>
</div>
<p>After the command is run, the system generates a performance statistics file at every <i><span class="varname">cycle</span></i> x <i><span class="varname">interval</span></i> minutes to automatically save the performance statistics.</p>
<p>You can run the <a href="cmdqueryname=file-format"><b><span class="cmdname">file-format</span></b></a> { <strong><span>text</span></strong> | <strong><span>xml</span></strong> } command to set a format for performance statistics files.</p>
</li></ul>
</p></li><li><span>Exit the PM view.</span><p><pre class="screen"><strong><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></strong></pre>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001512674934__en-us_task_0228023023_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001512674934__en-us_task_0228023023_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_pm_cfg_0006.html">Configuring PM
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_pm_cfg_0008.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>