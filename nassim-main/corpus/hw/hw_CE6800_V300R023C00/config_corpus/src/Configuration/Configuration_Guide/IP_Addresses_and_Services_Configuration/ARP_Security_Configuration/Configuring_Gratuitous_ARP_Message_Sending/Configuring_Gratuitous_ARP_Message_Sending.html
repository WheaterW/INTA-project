
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Gratuitous ARP Message Sending">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_arp_security_cfg_0024.html">
<meta name="DC.Relation" scheme="URI" content="vrp_arp_security_cfg_0025.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="ARP Security">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="ARP Security">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="ARP Security">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001130622084">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring Gratuitous ARP Message Sending</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001130622084"></a><a name="EN-US_TASK_0000001130622084"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Gratuitous ARP Message Sending</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001130622084__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>If an attacker forges a gateway address to send ARP messages to other user hosts, ARP entries on the hosts record an incorrect gateway address. As a result, the gateway cannot receive data from the hosts. You can enable gratuitous ARP message sending on the gateway. The gateway then sends gratuitous ARP messages at intervals to update the ARP entries of authorized users so that the entries contain the correct MAC address of the gateway.</p>
<p>You can configure gratuitous ARP message sending for a device or interface. If gratuitous ARP message sending is configured for a device, this function is enabled for all the interfaces of the device by default. If this function is configured for both a device and an interface, the interface's configuration takes precedence over the device's configuration.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001130622084__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure gratuitous ARP message sending globally.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enable gratuitous ARP message sending globally.</span><p><pre class="screen"><a href="cmdqueryname=arp+gratuitous-arp+send+enable"><b><span class="cmdname">arp gratuitous-arp send enable</span></b></a></pre>
</p></li><li class="substepexpand"><span>(Optional) Set an interval for sending gratuitous ARP messages on the device.</span><p><pre class="screen"><a href="cmdqueryname=arp+gratuitous-arp+send+interval"><b><span class="cmdname">arp gratuitous-arp send interval</span></b></a> <i><span class="varname">interval</span></i></pre>
<p>The default interval for sending gratuitous ARP messages on a device is 60 seconds.</p>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001130622084__en-us_task_0234857734_screen14848162118611"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001130622084__en-us_task_0234857734_cmdname1784862115612">commit</span></b></a></pre>
</p></li></ol>
</li><li><span>Configure gratuitous ARP message sending for an interface.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the interface view.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> { <em>interface-name</em> | <em>interface-type </em><em>interface-number</em> }</pre>
</p></li><li class="substepexpand"><span>Switch the interface working mode to Layer 3.</span><p><pre class="screen"><a href="cmdqueryname=undo+portswitch"><b><span class="cmdname">undo portswitch</span></b></a></pre>
<p>Determine whether to perform this step based on the current interface working mode.</p>
</p></li><li class="substepexpand"><span>Enable or disable gratuitous ARP message sending for the interface.</span><p><ol type="a"><li>Enable gratuitous ARP message sending for the interface.<pre class="screen"><a href="cmdqueryname=arp+gratuitous-arp+send+enable"><b><span class="cmdname">arp gratuitous-arp send enable</span></b></a></pre>
</li><li>Disable gratuitous ARP message sending for the interface.<pre class="screen"><a href="cmdqueryname=arp+gratuitous-arp+send+disable"><b><span class="cmdname">arp gratuitous-arp send disable</span></b></a></pre>
</li></ol>
</p>By default, gratuitous ARP message sending is not enabled or disabled on an interface. Instead, the global configuration policy is used as follows:<ul><li>If gratuitous ARP message sending is enabled globally, it is also enabled on the interface.</li><li>If gratuitous ARP message sending is disabled globally, it is also disabled on the interface.</li></ul>
</li><li class="substepexpand"><span>(Optional) Set an interval for sending gratuitous ARP messages on the interface.</span><p><pre class="screen"><a href="cmdqueryname=arp+gratuitous-arp+send+interval"><b><span class="cmdname">arp gratuitous-arp send interval</span></b></a> <i><span class="varname">interval</span></i></pre>
<p>The default interval for sending gratuitous ARP messages on an interface is 60 seconds.</p>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001130622084__en-us_task_0234857734_screen14848162118611_1"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001130622084__en-us_task_0234857734_cmdname1784862115612_1">commit</span></b></a></pre>
</p></li></ol>
</li></ul></div>
<div class="example"><a name="EN-US_TASK_0000001130622084__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+arp+statistics"><b><span class="cmdname">display arp statistics</span></b></a> [ <strong><span>interface</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type interface-number</span></i> } ] command to check ARP entry statistics.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_arp_security_cfg_0024.html">Configuring Gratuitous ARP Message Sending
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_arp_security_cfg_0025.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>