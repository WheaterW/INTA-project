
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Multicast Load Splitting">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_mcast_cfg_0014.html">
<meta name="DC.Relation" scheme="URI" content="vrp_mcast_cfg_0015.html">
<meta name="DC.Relation" scheme="URI" content="vrp_mcast_cfg_0019.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IPv4 Multicast Route Management">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv4 Multicast Route Management">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IPv4 Multicast Route Management">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001130622976">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring Multicast Load Splitting</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001130622976"></a><a name="EN-US_TASK_0000001130622976"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Multicast Load Splitting</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001130622976__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>RPF checks are essential for multicast routing. According to the rules for selecting RPF routes, a device selects a unique route to forward multicast data. If multicast traffic is overloaded, network congestion may occur, affecting multicast services. With multicast load splitting, multicast routing rules are extended and no longer fully depend on RPF checks. Multicast load splitting applies to scenarios where multiple equal-cost unicast routes of the same type exist. If multiple equal-cost optimal routes are available on a network, multicast data is split based on various policies, instead of being forwarded through only one route that is selected based on RPF check rules. This optimizes network traffic forwarding when multiple multicast data flows exist. In this manner, the transmission quality of multicast data on the network is improved.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001130622976__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Public network instance</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enable the multicast function.</span><p><pre class="screen"><a href="cmdqueryname=multicast+routing-enable"><b><span class="cmdname">multicast routing-enable</span></b></a></pre>
</p></li><li class="substepexpand"><span>Configure multicast load splitting.</span><p><pre class="screen"><a href="cmdqueryname=multicast+load-splitting"><b><span class="cmdname">multicast load-splitting</span></b></a> { <strong><span>group</span></strong> | <strong><span>source</span></strong> | <strong><span>source-group</span></strong> | <strong><span>stable-preferred</span></strong> | <strong><span>balance-ucmp</span></strong> }</pre>
<p>The load splitting policies are mutually exclusive. You are advised to use one such policy consistently based on your network requirements.</p>
<ul><li><strong><span>group</span></strong>: indicates group address-based load splitting. This policy applies to scenarios with one source but multiple groups.</li><li><strong><span>source</span></strong>: indicates source address-based load splitting. This policy applies to scenarios with one group but multiple sources.</li><li><strong><span>source-group</span></strong>: indicates load splitting based on both source and group addresses. This policy applies to scenarios with multiple sources and multiple groups.</li><li><strong><span>stable-preferred</span></strong>: indicates stable-preferred load splitting. This policy applies to scenarios requiring stable multicast services.</li><li><strong><span>balance-ucmp</span></strong>: indicates link bandwidth-based load splitting. This policy applies to scenarios where links have different load bandwidths.</li></ul>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen"><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></pre>
</p></li></ol>
</li><li><span>VPN instance</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the VPN instance view.</span><p><pre class="screen"><a href="cmdqueryname=ip+vpn-instance"><b><span class="cmdname">ip vpn-instance</span></b></a> <i><span class="varname">vpn-instance-name</span></i></pre>
</p></li><li class="substepexpand"><span>Enable the IPv4 address family for the VPN instance and enter the VPN instance IPv4 address family view.</span><p><pre class="screen"><a href="cmdqueryname=ipv4-family"><b><span class="cmdname">ipv4-family</span></b></a></pre>
</p></li><li class="substepexpand"><span>Set an RD for the VPN instance IPv4 address family.</span><p><pre class="screen"><a href="cmdqueryname=route-distinguisher"><b><span class="cmdname">route-distinguisher</span></b></a> <i><span class="varname">route-distinguisher</span></i></pre>
<p>Only after an RD is configured for this family can other configurations be performed for the VPN instance IPv4 address family.</p>
</p></li><li class="substepexpand"><span>Enable the multicast function.</span><p><pre class="screen"><a href="cmdqueryname=multicast+routing-enable"><b><span class="cmdname">multicast routing-enable</span></b></a></pre>
</p></li><li class="substepexpand"><span>Configure multicast load splitting.</span><p><pre class="screen"><a href="cmdqueryname=multicast+load-splitting"><b><span class="cmdname">multicast load-splitting</span></b></a> { <strong><span>group</span></strong> | <strong><span>source</span></strong> | <strong><span>source-group</span></strong> | <strong><span>stable-preferred</span></strong> | <strong><span>balance-ucmp</span></strong> }</pre>
<p>The load splitting policies are mutually exclusive. You are advised to use one such policy consistently based on your network requirements.</p>
<ul><li><strong><span>group</span></strong>: indicates group address-based load splitting. This policy applies to scenarios with one source but multiple groups.</li><li><strong><span>source</span></strong>: indicates source address-based load splitting. This policy applies to scenarios with one group but multiple sources.</li><li><strong><span>source-group</span></strong>: indicates load splitting based on both source and group addresses. This policy applies to scenarios with multiple sources and multiple groups.</li><li><strong><span>stable-preferred</span></strong>: indicates stable-preferred load splitting. This policy applies to scenarios requiring stable multicast services.</li><li><strong><span>balance-ucmp</span></strong>: indicates link bandwidth-based load splitting. This policy applies to scenarios where links have different load bandwidths.</li></ul>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Configurations related to VPN instances apply only to PEs. To configure multicast load splitting in a VPN instance on a PE, you must perform the configuration in the VPN instance. For other cases, configurations need to be performed in the public network instance.</p>
</div></div>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen"><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></pre>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_mcast_cfg_0014.html">Configuring Multicast Load Splitting
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_mcast_cfg_0015.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_mcast_cfg_0019.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>