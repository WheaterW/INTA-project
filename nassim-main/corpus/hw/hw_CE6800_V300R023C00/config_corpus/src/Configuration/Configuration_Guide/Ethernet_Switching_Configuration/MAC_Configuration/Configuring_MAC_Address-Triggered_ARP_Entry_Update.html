
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring MAC Address-Triggered ARP Entry Update">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_mac_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="vrp_mac_cfg_0055.html">
<meta name="DC.Relation" scheme="URI" content="vrp_mac_cfg_0049.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="MAC">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MAC">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176664483">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<link rel="stylesheet" type="text/css" href="public_sys-resources/imagePopup.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/customQuery.js"></script>
<script language="javascript" type="text/javascript" src="public_sys-resources/imagePopup.js"></script>
<title>Configuring MAC Address-Triggered ARP Entry Update</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176664483"></a><a name="EN-US_TASK_0000001176664483"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring MAC Address-Triggered ARP Entry Update</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001176664483__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>On an Ethernet network, a host sends and receives Ethernet data frames based on MAC addresses. The Address Resolution Protocol (ARP) maps IP addresses to MAC addresses. When two devices on different network segments communicate with each other, they need to map IP addresses to MAC addresses and outbound interfaces according to ARP entries.</p>
<p>Generally, the outbound interfaces in the matching MAC address entries and ARP entries are consistent. As shown in <a href="#EN-US_TASK_0000001176664483__macarpfunc">Figure 1</a>, at T1, the outbound interface in both the MAC address entry and ARP entry is interface 1. The interface is then changed. At T2, after receiving a packet from a peer device, the outbound interface in the MAC address entry changes to interface 2, yet the outbound interface in the ARP entry is still interface 1. At T3, the aging time of the ARP entry expires, and the outbound interface in the ARP entry changes to interface 2 after ARP aging probe. Between T2 and T3, the outbound interface in the ARP entry is incorrect, causing communication interruption between devices on different network segments.</p>
<div class="fignone" id="EN-US_TASK_0000001176664483__macarpfunc"><a name="EN-US_TASK_0000001176664483__macarpfunc"></a><a name="macarpfunc"></a><span class="figcap"><b>Figure 1 </b>MAC address-triggered ARP entry update is not enabled</span><br><span><img class="imgResize" src="figure/en-us_image_0000001176744417.png" width="523.6875" height="177.6348" title="Click to enlarge"></span></div>
<p>MAC addressâtriggered ARP entry update enables a device to update the outbound interface in an ARP entry immediately after the outbound interface in the corresponding MAC address entry changes. As shown in <a href="#EN-US_TASK_0000001176664483__macarpfunc1">Figure 2</a>, MAC addressâtriggered ARP entry update is enabled. At T2, after the outbound interface in the MAC address entry changes to interface 2, the outbound interface in the ARP entry is immediately changed to interface 2. This function prevents interference between T2 and T3 caused by the incorrect outbound interface in the ARP entry.</p>
<div class="fignone" id="EN-US_TASK_0000001176664483__macarpfunc1"><a name="EN-US_TASK_0000001176664483__macarpfunc1"></a><a name="macarpfunc1"></a><span class="figcap"><b>Figure 2 </b>MAC address-triggered ARP entry update is enabled</span><br><span><img class="imgResize" src="figure/en-us_image_0000001130784752.png" width="523.6875" height="176.78622675000003" title="Click to enlarge"></span></div>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The <span>CE6885-LL (low latency mode)</span> does not support this function.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001176664483__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Configure the MAC address-triggered ARP entry update function.</span><p><pre class="screen"><a href="cmdqueryname=mac-address+update+arp+enable"><b><span class="cmdname">mac-address update arp enable</span></b></a></pre>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command affects only dynamic ARP entries. Static ARP entries are not updated even when the corresponding MAC address entries change.</p>
<p>The <a href="cmdqueryname=mac-address+update+arp+enable"><b><span class="cmdname">mac-address update arp enable</span></b></a> command is mutually exclusive with the <a href="cmdqueryname=arp+anti-attack+entry-check"><b><span class="cmdname">arp anti-attack entry-check</span></b></a> { <strong><span>fixed-mac</span></strong> | <strong><span>fixed-all</span></strong> | <strong><span>send-ack</span></strong> } <a href="cmdqueryname=enable"><b><span class="cmdname">enable</span></b></a> command.</p>
<p>After the MAC address-triggered ARP entry update function is enabled, the device updates an ARP entry only if the outbound interface in the corresponding MAC address entry changes.</p>
</div></div>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176664483__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176664483__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0000001176664483__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+current-configuration"><b><span class="cmdname">display current-configuration</span></b></a> command to check whether the MAC address-triggered ARP entry update function is successfully configured. <span>If there is the configuration of the <strong>undo mac-address update arp enable</strong> command, the MAC address-triggered ARP entry update function is not configured on the device. If there is no configuration of the <strong>undo mac-address update arp enable</strong> command, the MAC address-triggered ARP entry update function is successfully configured on the device.</span></p>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_mac_cfg_0001.html">MAC Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_mac_cfg_0055.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_mac_cfg_0049.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>

<script language="JavaScript">
<!--
initImageViewer('.imgResize');
var msg_imageMax = "view original image";
var msg_imageClose = "close";
//--></script></body>
</html>