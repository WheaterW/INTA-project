
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="ETS">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_dcb_cfg_0003.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_dcb_cfg_0004.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_dcb_cfg_0006.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="DCB">
<meta name="featuretype" content="DCN and Network Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="DCB">
<meta name="featuretype" content="DCN and Network Management">
<meta name="featurename" content="DCB">
<meta name="featuretype" content="DCN and Network Management">
<meta name="featuretype" content="DCN and Network Management">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001513149646">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>ETS</title>
</head>
<body><a name="EN-US_CONCEPT_0000001513149646"></a><a name="EN-US_CONCEPT_0000001513149646"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">ETS</h1>
<div><div class="section"><h4 class="sectiontitle">Context</h4><p>A converged data center network has SAN traffic, IPC traffic, and LAN traffic. The QoS requirements of these traffic types differ greatly. For example, SAN traffic is sensitive to packet loss and relies on in-order delivery. IPC traffic is exchanged between servers and requires low latency. LAN traffic allows some packet loss and is delivered on a BE basis. Packet loss and disorder can be processed by the hosts at both ends, and does not require much intervention by network nodes. Traditional QoS cannot meet these requirements, which can instead be met by ETS that uses hierarchical scheduling.</p>
</div>
<div class="section"><h4 class="sectiontitle">Fundamentals</h4><div class="p">ETS provides two-level scheduling: scheduling based on priority groups and scheduling based on queues, as shown in <a href="#EN-US_CONCEPT_0000001513149646__fig_dc_fd_dcb_000502">Figure 1</a>. An interface first schedules priority groups, and then schedules priority queues.<div class="fignone" id="EN-US_CONCEPT_0000001513149646__fig_dc_fd_dcb_000502"><a name="EN-US_CONCEPT_0000001513149646__fig_dc_fd_dcb_000502"></a><a name="fig_dc_fd_dcb_000502"></a><span class="figcap"><b>Figure 1 </b>ETS process</span><br><span><img class="vsd" src="figure/en-us_image_0000001512670542.png"></span></div>
</div>
<p>In contrast with common QoS, ETS provides scheduling based on priority groups. ETS adds traffic of the same type to a priority group, ensuring traffic of the same type obtains the same CoS.</p>
</div>
<div class="section"><h4 class="sectiontitle">Scheduling Based on Priority Groups</h4><p>A priority group is a group of priority queues that use the same scheduling mode. You can add queues with different priorities to a priority group. Scheduling based on the priority group is called level-1 scheduling.</p>
<p>ETS defines three priority groups by default: PG0, PG1, and PG15, which process LAN traffic, SAN traffic, and IPC traffic respectively.</p>
<div class="p">The following table describes the default attributes of priority groups.
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Scheduling based on priority groups</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="23.782378237823785%" id="mcps1.3.3.4.1.2.5.1.1" liSelected="liSelected"><p>Priority Group ID</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="30.273027302730277%" id="mcps1.3.3.4.1.2.5.1.2" liSelected="liSelected"><p>Priority Queue</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="21.08210821082108%" id="mcps1.3.3.4.1.2.5.1.3" liSelected="liSelected"><p>Scheduling Mode</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="24.86248624862486%" id="mcps1.3.3.4.1.2.5.1.4" liSelected="liSelected"><p>Bandwidth Usage</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="23.782378237823785%" headers="mcps1.3.3.4.1.2.5.1.1 "><p>PG0</p>
</td>
<td class="cellrowborder" valign="top" width="30.273027302730277%" headers="mcps1.3.3.4.1.2.5.1.2 "><p>0, 1, 2, 4, 5</p>
</td>
<td class="cellrowborder" valign="top" width="21.08210821082108%" headers="mcps1.3.3.4.1.2.5.1.3 "><p>DRR</p>
</td>
<td class="cellrowborder" valign="top" width="24.86248624862486%" headers="mcps1.3.3.4.1.2.5.1.4 "><p>50%</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="23.782378237823785%" headers="mcps1.3.3.4.1.2.5.1.1 "><p>PG1</p>
</td>
<td class="cellrowborder" valign="top" width="30.273027302730277%" headers="mcps1.3.3.4.1.2.5.1.2 "><p>3</p>
</td>
<td class="cellrowborder" valign="top" width="21.08210821082108%" headers="mcps1.3.3.4.1.2.5.1.3 "><p>DRR</p>
</td>
<td class="cellrowborder" valign="top" width="24.86248624862486%" headers="mcps1.3.3.4.1.2.5.1.4 "><p>50%</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="23.782378237823785%" headers="mcps1.3.3.4.1.2.5.1.1 "><p>PG15</p>
</td>
<td class="cellrowborder" valign="top" width="30.273027302730277%" headers="mcps1.3.3.4.1.2.5.1.2 "><p>6, 7</p>
</td>
<td class="cellrowborder" valign="top" width="21.08210821082108%" headers="mcps1.3.3.4.1.2.5.1.3 "><p>PQ</p>
</td>
<td class="cellrowborder" valign="top" width="24.86248624862486%" headers="mcps1.3.3.4.1.2.5.1.4 "><p>-</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>As defined by ETS, PG0 and PG1 use deficit round robin (DRR), and PG15 uses priority queuing (PQ) to schedule latency-sensitive IPC traffic. Bandwidth can be allocated to priority groups according to actual network requirements.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The scheduling mode of each priority group cannot be changed.</p>
</div></div>
<p>Assume that an outbound interface has eight queues and their priorities range from 0 to 7. The queue with priority 3 carries Fibre Channel over Ethernet (FCoE) traffic, and so is added to the SAN group (PG1). Queues with priorities 0, 1, 2, 4, and 5 carry LAN traffic, and so are added to the LAN group (PG0). Queues with priorities 6 and 7 carry IPC traffic, and so are added to the IPC group (PG15). The total bandwidth of the interface is 10 Gbit/s. PG15 obtains 2 Gbit/s, and PG1 and PG0 split the remaining bandwidth 50/50, each obtaining 4 Gbit/s.</p>
<div class="fignone" id="EN-US_CONCEPT_0000001513149646__fig_dc_fd_dcb_000501"><a name="EN-US_CONCEPT_0000001513149646__fig_dc_fd_dcb_000501"></a><a name="fig_dc_fd_dcb_000501"></a><span class="figcap"><b>Figure 2 </b>Congestion management based on priority groups</span><br><span><img class="vsd" src="figure/en-us_image_0000001512830142.png"></span></div>
<p>As shown in <a href="#EN-US_CONCEPT_0000001513149646__fig_dc_fd_dcb_000501">Figure 2</a>, at t1 and t2, all traffic can be forwarded because the total traffic on the interface is within the interface bandwidth. At t3, the total traffic exceeds the interface bandwidth and LAN traffic exceeds the given bandwidth. At this time, LAN traffic is scheduled based on ETS parameters and 1 Gbit/s LAN traffic is discarded.</p>
<p>ETS also provides traffic shaping based on priority groups. This traffic shaping mechanism limits traffic bursts in a priority group to ensure that traffic in this group is sent out at an even rate.</p>
</div>
<div class="section"><h4 class="sectiontitle">Priority-based Scheduling</h4><p>ETS also provides priority-based queue scheduling, also known as level-2 scheduling.</p>
<p>In addition, ETS provides priority-based queue congestion management, queue shaping, and queue congestion avoidance. For details, see "QoS Configuration" in <span>Configuration Guide</span>.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_dcb_cfg_0003.html">Understanding DCB
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_dcb_cfg_0004.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="galaxy_dcb_cfg_0006.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>