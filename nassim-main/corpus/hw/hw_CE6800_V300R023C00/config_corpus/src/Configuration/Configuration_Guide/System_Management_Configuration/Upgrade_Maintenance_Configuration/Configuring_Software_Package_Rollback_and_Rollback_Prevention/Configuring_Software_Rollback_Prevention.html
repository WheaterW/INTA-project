
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Software Rollback Prevention">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="gx_upgrade_cfg_0030.html">
<meta name="DC.Relation" scheme="URI" content="gx_upgrade_cfg_0032.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Upgrade Maintenance">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Upgrade Maintenance">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="Upgrade Maintenance">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001512849678">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring Software Rollback Prevention</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001512849678"></a><a name="EN-US_TASK_0000001512849678"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Software Rollback Prevention</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001512849678__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Earlier software versions generally have more vulnerabilities. Attackers can exploit the vulnerabilities to penetrate the software system. To significantly reduce this risk, you can use the function that prevents system software from being rolled back to an earlier version without authentication or authorization.</p>
<p>Currently, there are two modes of this function:</p>
<ul><li>Secure version mode<p>After startup, the device checks whether the secure software version in each slot is earlier than the specified secure version in the CPU. If so, the slot reports an alarm to prompt the user to upgrade the secure version. Once the software is upgraded to the target secure version, it cannot be rolled back to the previous version.</p>
<p>This mode applies only to basic software packages.</p>
</li><li>Version revoke list (VRL) file mode:<p>The VRL file specifies the system software of an earlier version that has vulnerabilities. After the VRL file is loaded to the device, the system software cannot be rolled back to a version in the VRL file.</p>
<p>This mode applies to all software packages, including basic software packages, feature software packages, patch files, and module files.</p>
</li></ul>
<p>These two modes can be used together.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001512849678__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Upgrading the secure version</span><p><ol><li>(Optional) Check the secure version of the device.<pre class="screen"><a href="cmdqueryname=display+startup+secure-version"><b><span class="cmdname">display startup secure-version</span></b></a></pre>
<p>If the value of the <strong>Status</strong> field is <strong>Need refresh</strong> in the command output, the secure version needs to be upgraded. If the value of the <strong>Status</strong> field is <strong>Unsupport</strong>, the device does not support the secure version mode. In this case, the device supports only the VRL file mode.</p>
</li><li>Upgrade the secure version of the device.<pre class="screen"><a href="cmdqueryname=refresh+startup+secure-version"><b><span class="cmdname">refresh startup secure-version</span></b></a> { <strong><span>slot</span></strong> <i><span class="varname">slot-name</span></i> | <strong><span>all</span></strong> }</pre>
</li></ol>
</p></li><li><span>Loading a VRL file</span><p><ol><li>Load a VRL file to the system.<pre class="screen"><a href="cmdqueryname=software+vrl+load"><b><span class="cmdname">software vrl load</span></b></a> <i><span class="varname">vrlName</span></i></pre>
</li></ol>
</p></li></ul></div>
<div class="postreq"><a name="EN-US_TASK_0000001512849678__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+startup+secure-version"><b><span class="cmdname">display startup secure-version</span></b></a> command to check the information about the secure version of the device.</p>
<p>Run the <a href="cmdqueryname=display+software+vrl"><b><span class="cmdname">display software vrl</span></b></a> command to check information about the loaded VRL file.</p>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="gx_upgrade_cfg_0030.html">Configuring Software Package Rollback and Rollback Prevention
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="gx_upgrade_cfg_0032.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>