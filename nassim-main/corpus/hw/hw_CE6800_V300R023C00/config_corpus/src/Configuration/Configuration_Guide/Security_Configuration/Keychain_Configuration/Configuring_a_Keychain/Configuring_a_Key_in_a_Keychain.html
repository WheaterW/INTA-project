
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a Key in a Keychain">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_keychain_cfg_0009.html">
<meta name="DC.Relation" scheme="URI" content="vrp_keychain_cfg_0010.html">
<meta name="DC.Relation" scheme="URI" content="vrp_keychain_cfg_0012.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Keychain">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Keychain">
<meta name="featuretype" content="Security">
<meta name="featurename" content="Keychain">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security Protection">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176742375">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring a Key in a Keychain</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176742375"></a><a name="EN-US_TASK_0000001176742375"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a Key in a Keychain</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001176742375__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>After a keychain is created, you need to create and configure one or more keys as required for the keychain.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001176742375__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enter the view of a created keychain.</span><p><pre class="screen"><a href="cmdqueryname=keychain"><b><span class="cmdname">keychain</span></b></a> <i><span class="varname">keychain-name</span></i></pre>
</p></li><li><span>Create a key and enter the key view.</span><p><pre class="screen"><a href="cmdqueryname=key-id"><b><span class="cmdname">key-id</span></b></a> <i><span class="varname">key-id</span></i></pre>
</p></li><li><span>Configure the authentication algorithm of the key.</span><p><pre class="screen"><a href="cmdqueryname=algorithm"><b><span class="cmdname">algorithm</span></b></a> { <strong><span>md5</span></strong> | <strong><span>sha-1</span></strong> | <strong><span>hmac-md5</span></strong> | <strong><span>hmac-sha1-12</span></strong> | <strong><span>hmac-sha1-20</span></strong> | <strong><span>hmac-sha-256</span></strong> | <strong><span>sha-256</span></strong> | <strong><span>sm3</span></strong> | <strong><span>hmac-sha-384</span></strong> | <strong><span>hmac-sha-512</span></strong> }</pre>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>MD5, HMAC-MD5, and SHA-1 algorithms are not recommended since they are less secure.</p>
<p>Parameters <strong><strong><span>md5</span></strong>, <strong><span>sha-1</span></strong>, </strong><strong><span>hmac-md5</span></strong>, <strong><span>hmac-sha1-12</span></strong>, and <strong><span>hmac-sha1-20</span></strong> in this command can be used only after the weak security algorithm/protocol feature package is installed.</p>
<p>For security purpose,you are not advised to use the weak security algorithm or weak security protocols provided by this feature. If you need to use the weak security algorithm or protocols, run the <strong id="EN-US_TASK_0000001176742375__en-us_topic_0198441389_b7309427153513">install feature-software WEAKEA</strong> command to install the weak security algorithm or protocol feature package WEAKEA. By default, the device provides the weak security algorithm or protocol feature package WEAKEA. For details about how to install or uninstall the feature package, see "Upgrade Maintenance Configuration" in <span>Configuration Guide</span> &gt; System Management Configuration.</p>
</div></div>
</p></li><li><span>Configure the authentication key string of the key.</span><p><pre class="screen"><a href="cmdqueryname=key-string"><b><span class="cmdname">key-string</span></b></a> { <i><span class="varname">plain-cipher-text</span></i> | <strong><span>plain</span></strong> <i><span class="varname">plain-text</span></i> | <strong><span>cipher</span></strong> <i><span class="varname">plain-cipher-text</span></i> }</pre>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>It is recommended that the password complies with the password complexity rule: The password is at least eight characters long and contains at least two of the following: uppercase letters, lowercase letters, digits, and special characters (excluding question marks and spaces).</p>
<p>For security purposes, the <strong><span>cipher</span></strong> mode is recommended to ensure that the configured key string is displayed in ciphertext in the configuration file.</p>
</div></div>
</p></li><li><span>Configure the send lifetime of the key based on the configured keychain time mode, as described in <a href="#EN-US_TASK_0000001176742375__table33415683610">Table 1</a>.</span><p><p>The lifetime of a key depends on clock synchronization.</p>

<div class="tableBorder"><a name="EN-US_TASK_0000001176742375__table33415683610"></a><a name="table33415683610"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TASK_0000001176742375__table33415683610" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Configuring the send lifetime of a key</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="50%" id="mcps1.3.2.6.2.2.2.3.1.1" liSelected="liSelected"><p>Keychain Time Mode</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="50%" id="mcps1.3.2.6.2.2.2.3.1.2" liSelected="liSelected"><p>Command</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.6.2.2.2.3.1.1 "><p><strong><span>absolute</span></strong></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.6.2.2.2.3.1.2 "><p><a href="cmdqueryname=send-time"><b><span class="cmdname">send-time</span></b></a> <i><span class="varname">start-time</span></i> <i><span class="varname">start-date</span></i> { <strong><span>duration</span></strong> { <i><span class="varname">duration-value</span></i> | <strong><span>infinite</span></strong> } | { <strong><span>to</span></strong> <i><span class="varname">end-time</span></i> <i><span class="varname">end-date</span></i> } }</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.6.2.2.2.3.1.1 "><p><strong><span>periodic</span></strong> <strong><span>daily</span></strong></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.6.2.2.2.3.1.2 "><p><a href="cmdqueryname=send-time+daily"><b><span class="cmdname">send-time daily</span></b></a><em> <i><span class="varname">start-time</span></i></em> <strong><span>to</span></strong><em> <i><span class="varname">end-time</span></i></em></p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.6.2.2.2.3.1.1 "><p><strong><span>periodic</span></strong> <strong><span>weekly</span></strong></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.6.2.2.2.3.1.2 "><p><a href="cmdqueryname=send-time+day"><b><span class="cmdname">send-time day</span></b></a> { <em><i><span class="varname">start-day</span></i> </em><strong><span>to</span></strong><em> <i><span class="varname">end-day</span></i></em> | <em><i><span class="varname">start-day</span></i> </em><em>&amp;&lt;1-7&gt;</em> }</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.6.2.2.2.3.1.1 "><p><strong><span>periodic</span></strong> <strong><span>monthly</span></strong></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.6.2.2.2.3.1.2 "><p><a href="cmdqueryname=send-time+date"><b><span class="cmdname">send-time date</span></b></a> { <em><i><span class="varname">start-date</span></i> </em><strong><span>to</span></strong><em> <i><span class="varname">end-date</span></i></em> | <em><i><span class="varname">start-date</span></i> </em><em>&amp;&lt;1-31&gt;</em> }</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.6.2.2.2.3.1.1 "><p><strong><span>periodic</span></strong> <strong><span>yearly</span></strong></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.6.2.2.2.3.1.2 "><p><a href="cmdqueryname=send-time+month"><b><span class="cmdname">send-time month</span></b></a> { <em><i><span class="varname">start-month</span></i> </em><strong><span>to</span></strong><em> <i><span class="varname">end-month</span></i></em> | <em><i><span class="varname">start-month</span></i> </em><em>&amp;&lt;1-12&gt;</em> }</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li><span>Configure the accept lifetime of the key based on the configured keychain time mode, as described in <a href="#EN-US_TASK_0000001176742375__table1739263013719">Table 2</a>.</span><p><p>The lifetime of a key depends on clock synchronization.</p>

<div class="tableBorder"><a name="EN-US_TASK_0000001176742375__table1739263013719"></a><a name="table1739263013719"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TASK_0000001176742375__table1739263013719" frame="border" border="1" rules="all"><caption><b>Table 2 </b>Configuring the accept lifetime of a key</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="50%" id="mcps1.3.2.7.2.2.2.3.1.1" liSelected="liSelected"><p>Keychain Time Mode</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="50%" id="mcps1.3.2.7.2.2.2.3.1.2" liSelected="liSelected"><p>Command</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.7.2.2.2.3.1.1 "><p><strong><span>absolute</span></strong></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.7.2.2.2.3.1.2 "><p><a href="cmdqueryname=receive-time"><b><span class="cmdname">receive-time</span></b></a> <i><span class="varname">start-time</span></i> <i><span class="varname">start-date</span></i> { <strong><span>duration</span></strong> { <i><span class="varname">duration-value</span></i> | <strong><span>infinite</span></strong> } | { <strong><span>to</span></strong> <i><span class="varname">end-time</span></i> <i><span class="varname">end-date</span></i> } }</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.7.2.2.2.3.1.1 "><p><strong><span>periodic</span></strong> <strong><span>daily</span></strong></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.7.2.2.2.3.1.2 "><p><a href="cmdqueryname=receive-time+daily"><b><span class="cmdname">receive-time daily</span></b></a><em> <i><span class="varname">start-time</span></i></em> <strong><span>to</span></strong><em> <i><span class="varname">end-time</span></i></em></p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.7.2.2.2.3.1.1 "><p><strong><span>periodic</span></strong> <strong><span>weekly</span></strong></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.7.2.2.2.3.1.2 "><p><a href="cmdqueryname=receive-time+day"><b><span class="cmdname">receive-time day</span></b></a> { <em><i><span class="varname">start-day</span></i> </em><strong><span>to</span></strong><em> <i><span class="varname">end-day</span></i></em> | <em><i><span class="varname">start-day</span></i> </em><em>&amp;&lt;1-7&gt;</em> }</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.7.2.2.2.3.1.1 "><p><strong><span>periodic</span></strong> <strong><span>monthly</span></strong></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.7.2.2.2.3.1.2 "><p><a href="cmdqueryname=receive-time+date"><b><span class="cmdname">receive-time date</span></b></a> { <em><i><span class="varname">start-date</span></i> </em><strong><span>to</span></strong><em> <i><span class="varname">end-date</span></i></em> | <em><i><span class="varname">start-date</span></i> </em><em>&amp;&lt;1-31&gt;</em> }</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.7.2.2.2.3.1.1 "><p><strong><span>periodic</span></strong> <strong><span>yearly</span></strong></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.3.2.7.2.2.2.3.1.2 "><p><a href="cmdqueryname=receive-time+month"><b><span class="cmdname">receive-time month</span></b></a> { <em><i><span class="varname">start-month</span></i> </em><strong><span>to</span></strong><em> <i><span class="varname">end-month</span></i></em> | <em><i><span class="varname">start-month</span></i> </em><em>&amp;&lt;1-12&gt;</em> }</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li><span>(Optional) Configure the key as the default send key.</span><p><pre class="screen"><a href="cmdqueryname=default+send-key-id"><b><span class="cmdname">default send-key-id</span></b></a></pre>
<p>Each keychain can have only one default send key.</p>
</p></li><li><span>(Optional) Configure the length of the digest after being encrypted using an authentication algorithm.</span><p><pre class="screen"><a href="cmdqueryname=digest-length"><b><span class="cmdname">digest-length</span></b></a> { <strong><span>hmac-sha1-20</span></strong> | <strong><span>hmac-sha-256</span></strong> | <strong><span>sha-256</span></strong> } <i><span class="varname">length</span></i></pre>
<p>The default digest length after encryption varies depending on the authentication algorithm:</p>
<ul><li>HMAC-SHA1-20: 20 bytes</li><li>HMAC-SHA-256: 32 bytes</li><li>SHA-256: 32 bytes</li></ul>
</p></li><li><span>Exit the key view.</span><p><pre class="screen"><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></pre>
</p></li><li><span>Exit the keychain view.</span><p><pre class="screen"><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></pre>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176742375__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176742375__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_keychain_cfg_0009.html">Configuring a Keychain
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_keychain_cfg_0010.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_keychain_cfg_0012.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>