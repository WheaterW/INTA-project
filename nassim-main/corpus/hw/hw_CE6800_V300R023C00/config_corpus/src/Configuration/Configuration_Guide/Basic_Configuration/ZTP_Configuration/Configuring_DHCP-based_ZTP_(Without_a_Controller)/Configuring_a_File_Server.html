
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a File Server">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_ztp_cfg_0029.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_ztp_cfg_0024.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_ztp_cfg_0036.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="ZTP">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="ZTP">
<meta name="featuretype" content="Basic Configuration">
<meta name="featurename" content="ZTP">
<meta name="featuretype" content="Basic Configuration">
<meta name="featurename" content="ZTP">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001563754725">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring a File Server</title>
</head>
<body><a name="EN-US_TASK_0000001563754725"></a><a name="EN-US_TASK_0000001563754725"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a File Server</h1>
<div class="taskbody"><div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001563754725__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>There must be reachable routes between the file server and the device with factory configurations.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001563754725__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>A file server stores the files to be downloaded to devices with factory configurations, including intermediate files and deployment files. If a device is configured as the file server, those files will occupy a significant amount of device storage resources. To ensure the device performance, a third-party file server is typically used on a ZTP network. For details about how to configure a third-party file server, see the third-party server operation guide.</p>
<p>The intermediate file server and deployment file server can be the same file server. The file server must be an SFTP, HTTP, TFTP, or FTP file server. Currently, the device uses the SHA2 algorithm by default. The file server must also support the SHA2 algorithm. You can run the <a href="cmdqueryname=display+this+include-default"><b><span class="cmdname">display this include-default</span></b></a> | <strong><span>include ssh</span></strong> command to check the algorithms used by the client and server. At least one algorithm supported by the file server must be the same as that supported by the device.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001563754725__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure the file server. SFTP and HTTPS file servers are recommended because they are more secure than TFTP, FTP, and HTTP file servers.</span><p><div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>If a Huawei device is used, see <a href="vrp_file_cfg_0014.html">Configuring a Device as an SFTP Server</a> in the <span>Configuration Guide</span> &gt; Basic Configuration &gt; File System Management Configuration.</li><li>If a third-party device is used as the file server, see the operation guide of the third-party SFTP or HTTPS file server.</li><li>The file server used for SZTP must have the HTTPS server capability, but Huawei devices do not provide the capability. Therefore, a third-party server needs to be deployed. For details about how to configure a third-party server, see the third-party server operation guide.</li></ul>
</div></div>
</p></li><li><span>Place the intermediate file and deployment files to the working directory of the file server.</span><p><p>The HTTPS deployment file server has certain requirements on the length of the deployment file name. Ensure that the following requirements are met:</p>
<ul><li>System software: 4 to 124 characters</li><li>Configuration file: 5 to 64 characters</li><li>Patch file: 5 to 63 characters</li><li>Intermediate file: 5 to 64 characters</li></ul>
</p><p><div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>To ensure security of the file server, configure a unique user name for the file server and assign the read-only permission to the user to prevent unauthorized modification of the files. After the ZTP process is complete, disable the file server function.</p>
</div></div>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_ztp_cfg_0029.html">Configuring DHCP-based ZTP (Without a Controller)
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_ztp_cfg_0024.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="galaxy_ztp_cfg_0036.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>