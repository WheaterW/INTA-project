
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Backing Up the Configuration File to an SFTP Server or Client">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_cfgfile_cfg_0004.html">
<meta name="DC.Relation" scheme="URI" content="vrp_cfgfile_cfg_0012.html">
<meta name="DC.Relation" scheme="URI" content="vrp_cfgfile_cfg_0015.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Configuration File Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Configuration File Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="featurename" content="Configuration File Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001513050310">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Backing Up the Configuration File to an SFTP Server or Client</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001513050310"></a><a name="EN-US_TASK_0000001513050310"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Backing Up the Configuration File to an SFTP Server or Client</h1>
<div class="taskbody"><div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001513050310__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><div class="p">Before backing up the configuration file to an SFTP server or client, you have completed the following tasks:<ul><li>If the device functions as an SFTP client, connect it to an SFTP server. For details, see "Configuring a Device as an SFTP Client" in <span>Configuration Guide</span> &gt; Basic Configuration.</li><li>If the device functions as an SFTP server, connect it to an SFTP client. For details, see "Configuring a Device as an SFTP Server" in <span>Configuration Guide</span> &gt; Basic Configuration.</li></ul>
</div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001513050310__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p">If the device is unexpectedly damaged, the configuration file cannot be restored. In this case, a backup configuration file is required for restoring the device configurations. You can back up the configuration file through SFTP using either of the following methods:<ul><li>If the device functions as an SFTP client, back up the configuration file to an SFTP server.</li><li>If the device functions as an SFTP server, back up the configuration file to an SFTP client.</li></ul>
</div>
<p>Select one method as required.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Backing up the configuration file through FTP or TFTP is a simple process, which however may pose security risks. In scenarios featuring high security requirements, <span>SFTP and SCP</span> are recommended for configuration file backup.</p>
</div></div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001513050310__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Back up the configuration file to the SFTP server when the device functions as an SFTP client.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a> </pre>
</p></li><li class="substepexpand"><span>Set up an SFTP connection with the SFTP server.</span><p><pre class="screen"><a href="cmdqueryname=sftp"><b><span class="cmdname">sftp</span></b></a> [ <strong><span>ipv6</span></strong> ] <i><span class="varname">host-ip</span></i></pre>
</p></li><li class="substepexpand"><span>Transfer the configuration file.</span><p><p>On the device, run the <a href="cmdqueryname=put"><b><span class="cmdname">put</span></b></a> command to upload the configuration file to the specified path on the PC that functions as an SFTP server.</p>
<pre class="screen"><strong><a href="cmdqueryname=put"><b><span class="cmdname">put</span></b></a> </strong><i><span class="varname">local-filename</span></i> [ <i><span class="varname">remote-filename</span></i> ]</pre>
</p></li></ol>
</li><li><span>Back up the configuration file to the SFTP client when the device functions as an SFTP server.</span><ol><li class="substepexpand"><span>On the PC that functions as an SFTP client, initiate an SFTP connection with the device.</span><p><p>The following information is for reference only.</p>
<pre class="screen">C:/Documents and Settings/Administrator&gt; <strong>sftp client001@10.136.23.4</strong>
Connecting to 10.136.23.4...
The authenticity of host "10.136.23.4 (10.136.23.4)" can't be established.
DSA key fingerprint is 0d:48:82:fd:2f:52:1c:f0:c4:22:70:80:8f:7b:fd:78.
Are you sure you want to continue connecting (yes/no)? <strong>yes</strong>
Warning: Permanently added "10.136.23.4" (DSA) to the list of known hosts.
client001@10.136.23.4's password:
<strong>sftp&gt;</strong></pre>
</p></li><li class="substepexpand"><span>Transfer the configuration file.</span><p><p>On the PC, run the <strong><span>get</span></strong> command to transfer the configuration file to the specified path on the PC.</p>
<pre class="screen">sftp&gt; <strong>get </strong><i><span class="varname">remote-filename</span></i> [ <i><span class="varname">local-filename</span></i> ]</pre>
</p></li></ol>
</li></ul></div>
<div class="example"><a name="EN-US_TASK_0000001513050310__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>The configuration file is saved to the working directory of the SFTP user, and the size of the configuration file on the device is the same as that on the SFTP server or client.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_cfgfile_cfg_0004.html">Managing Configuration Files
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_cfgfile_cfg_0012.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_cfgfile_cfg_0015.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>