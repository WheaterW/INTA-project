
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Alarm Thresholds for CPU Usage">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_devmgt_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_devmgt_cfg_0097.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_devmgt_cfg_0028.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Hardware Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Hardware Management">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001564115025">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring Alarm Thresholds for CPU Usage</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001564115025"></a><a name="EN-US_TASK_0000001564115025"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Alarm Thresholds for CPU Usage</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001564115025__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>The CPU is the core of a device. When the system is busy processing information, a large number of CPU resources are used. This causes system performance to deteriorate; for example, delaying data processing and increasing the packet loss rate. To avoid this issue, you can configure alarm thresholds for CPU usage, which, when exceeded, cause the device to generate an alarm. This helps you effectively monitor the CPU usage and optimize system performance, ensuring system stability.</p>
<p>Two types of alarm thresholds facilitate the CPU usage monitoring in real time: alarm triggering threshold for CPU usage and alarm clearing threshold for CPU usage. After an alarm triggering threshold for CPU usage is set, the system will generate an alarm if the threshold is exceeded. Similarly, after an alarm clearing threshold for CPU usage is set, the system clears the alarm after the CPU usage falls below the threshold.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001564115025__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Set the alarm triggering threshold for CPU usage and alarm clearing threshold for CPU usage.</span><p><pre class="screen"><a href="cmdqueryname=set+cpu-usage+threshold"><b><span class="cmdname">set cpu-usage threshold</span></b></a> <i><span class="varname">threshold-value</span></i> [ <strong><span>restore</span></strong> <i><span class="varname">restore-threshold-value</span></i> ]<span> [ <strong><span>interval</span></strong> <i><span class="varname">interval-time</span></i> ]</span> [ <strong><span>slot</span></strong> <i><span class="varname">slot-id</span></i> [ <strong><span>cpu</span></strong> <i><span class="varname">cpuid</span></i> ] ]</pre>
<p>By default, the alarm triggering threshold for CPU usage is 90%, the alarm clearing threshold for CPU usage is 75%, and the overload detection period is 1 minute.</p>
</p></li><li><span>Configure a CPU rate decreasing threshold.</span><p><pre class="screen"><a href="cmdqueryname=set+configuration+operation+cpu-limit"><b><span class="cmdname">set configuration operation cpu-limit</span></b></a> { <i><span class="varname">percent-value</span></i> <strong><span>access-type snmp</span></strong> | <i><span class="varname">ncf-percent-value</span></i> <strong><span>access-type netconf</span></strong> }</pre>
<p>By default, no CPU rate decreasing threshold is configured.</p>
<p>A large number of CPU resources are occupied when the NMS collects data. To ensure proper running of other services, some resources must be released. To resolve this issue, configure a CPU rate decreasing threshold. If the CPU usage reaches the configured threshold, the device reduces CPU resources allocated to the NMS when the NMS collects data.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001564115025__en-us_task_0228023023_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001564115025__en-us_task_0228023023_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001564115025__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><ul><li>Run the <a href="cmdqueryname=display+cpu-usage+threshold"><b><span class="cmdname">display cpu-usage threshold</span></b></a> [ <strong><span>slot</span></strong> <i><span class="varname">slot-id</span></i> [ <strong><span>cpu</span></strong> <i><span class="varname">cpuid</span></i> ] ] command to check the CPU usage thresholds.</li><li>Run the <a href="cmdqueryname=display+cpu-usage+monitor"><b><span class="cmdname">display cpu-usage monitor</span></b></a> { <strong><span>all</span></strong> | <strong><span>slot</span></strong> <i><span class="varname">slot-id</span></i> [ <strong><span>cpu</span></strong> <i><span class="varname">cpuid</span></i> ] } command to check the CPU usage.</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_devmgt_cfg_0001.html">Hardware Management Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_devmgt_cfg_0097.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="galaxy_devmgt_cfg_0028.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>