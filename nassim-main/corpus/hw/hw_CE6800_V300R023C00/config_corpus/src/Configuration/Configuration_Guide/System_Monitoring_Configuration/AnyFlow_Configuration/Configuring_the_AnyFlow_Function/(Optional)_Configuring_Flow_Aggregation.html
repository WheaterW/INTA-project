
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring Flow Aggregation">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_anyflow_cfg_0007.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_anyflow_cfg_0008.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_anyflow_cfg_0011.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="AnyFlow">
<meta name="featuretype" content="System Monitoring">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="AnyFlow">
<meta name="featuretype" content="System Monitoring">
<meta name="featurename" content="AnyFlow">
<meta name="featuretype" content="System Monitoring">
<meta name="featuretype" content="System Monitoring">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001512670722">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring Flow Aggregation</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001512670722"></a><a name="EN-US_TASK_0000001512670722"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring Flow Aggregation</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001512670722__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>After the AnyFlow function is enabled on a device, whereby the device exports original flow statistics by default. That is, the device sends statistics about each flow to the analyzer. The original flow statistics export occupies significant network bandwidth.</p>
<p>You can configure aggregation flow statistics export to reduce bandwidth consumption, whereby the chip built in the CPU aggregates original flows based on aggregation keywords and sends the aggregated flow statistics to the analyzer. You must set the service port number range to specify the flows to be aggregated. For example, you can aggregate HTTP service flows with the port number 80 and export the aggregated flow statistics.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If aggregated flow statistics export is configured, the device does not report original flow statistics. An appropriate service port number range must be set.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001512670722__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enter the AnyFlow view.</span><p><pre class="screen"><a href="cmdqueryname=any-flow"><b><span class="cmdname">any-flow</span></b></a></pre>
</p></li><li><span>Specify the service port number for aggregating flows.</span><p><pre class="screen"><a href="cmdqueryname=aggregation+service-port"><b><span class="cmdname">aggregation service-port</span></b></a> { <i><span class="varname">port-id1</span></i> [ <strong><span>to</span></strong> <i><span class="varname">port-id2</span></i> ] }</pre>
</p></li><li><span>Enable the flow aggregation function.</span><p><pre class="screen"><a href="cmdqueryname=flow-aggregation+enable"><b><span class="cmdname">flow-aggregation enable</span></b></a></pre>
</p></li><li><span>Return to the system view.</span><p><pre class="screen"><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></pre>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001512670722__en-us_task_0228023023_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001512670722__en-us_task_0228023023_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_anyflow_cfg_0007.html">Configuring the AnyFlow Function
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_anyflow_cfg_0008.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="galaxy_anyflow_cfg_0011.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>