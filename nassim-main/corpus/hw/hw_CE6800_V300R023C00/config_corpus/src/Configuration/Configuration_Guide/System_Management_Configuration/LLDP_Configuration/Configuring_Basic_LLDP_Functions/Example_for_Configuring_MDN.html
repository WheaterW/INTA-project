
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring MDN">
<meta name="abstract" content="">
<meta name="description" content="">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_lldp_cfg_0006.html">
<meta name="DC.Relation" scheme="URI" content="vrp_lldp_cfg_0030.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="LLDP">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="LLDP">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="LLDP">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001906181505">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Example for Configuring MDN</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001906181505"></a><a name="EN-US_TASK_0000001906181505"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring MDN</h1>
<div class="taskbody"><p></p>
<div class="context"><a name="EN-US_TASK_0000001906181505__1.4.1"></a><a name="1.4.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>On the network shown in <a href="#EN-US_TASK_0000001906181505__fig_dc_cfg_lldp_002601">Figure 1</a>, DeviceB and DeviceC are non-Huawei devices, and DeviceA is a Huawei device. The three devices are directly connected, and there is a reachable route between DeviceA and the NMS. DeviceA needs to identify and receive non-standard discovery protocol packets from DeviceB and DeviceC, and generate traps when the neighbors change.</p>
<div class="fignone" id="EN-US_TASK_0000001906181505__fig_dc_cfg_lldp_002601"><a name="EN-US_TASK_0000001906181505__fig_dc_cfg_lldp_002601"></a><a name="fig_dc_cfg_lldp_002601"></a><span class="figcap"><b>Figure 1 </b>Network diagram for configuring MDN</span><br><span><img class="vsd" src="figure/en-us_image_0000001860141688.png"></span></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001906181505__1.4.2"></a><a name="1.4.2"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><p>The configuration roadmap is as follows:</p>
<ol><li>Enable LLDP globally on DeviceA.</li><li>Configure MDN on DeviceA so that DeviceA can discover non-Huawei devices connected to it.</li><li>Enable the LLDP trap function on DeviceA so that DeviceA can generate traps when the neighbors change. You can also configure the device to send traps to the NMS if necessary.</li></ol>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001906181505__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enable LLDP globally on DeviceA.</span><p><pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>sysname DeviceA</strong>
<span>[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>commit</strong></span>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceA] <strong>lldp enable</strong>
<span>[<span><span><span class="keyword">*</span></span></span>DeviceA] <strong>commit</strong></span></pre>
</p></li><li><span>Configure MDN on DeviceA.</span><p><div class="p"># Configure MDN on interfaces.<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceA] <strong>interface <span>100ge</span> 1/0/1</strong>
[<span><span><span class="keyword">*</span></span></span>DeviceA-<span>100GE</span><span>1/0/1</span>] <strong>lldp mdn enable</strong>
[<span><span><span class="keyword">*</span></span></span>DeviceA-<span>100GE</span><span>1/0/1</span>] <strong>quit</strong>
[<span><span><span class="keyword">*</span></span></span>DeviceA] <strong>interface <span>100ge</span> 1/0/2</strong>
[<span><span><span class="keyword">*</span></span></span>DeviceA-<span>100GE</span><span>1/0/1</span>] <strong>lldp mdn enable</strong>
[<span><span><span class="keyword">*</span></span></span>DeviceA-<span>100GE</span><span>1/0/1</span>] <strong>quit</strong>
<span>[<span><span><span class="keyword">*</span></span></span>DeviceA] <strong>commit</strong></span></pre>
</div>
</p></li><li><span>Enable the LLDP trap function on DeviceA.</span><p><div class="p"><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceA] <strong>snmp-agent trap enable feature-name lldp</strong>
<span>[<span><span><span class="keyword">*</span></span></span>DeviceA] <strong>commit</strong></span></pre>
</div>
</p></li><li><span>Verify the configuration.</span><p><p>Check information about MDN neighbors of DeviceA.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceA] <strong>display lldp mdn neighbor</strong>
<span>100GE</span><span>1/0/1</span> has 1 neighbor(s):
Neighbor index                     :1
MacAddress                         :0023-ea20-b010             
Discovered time                    :2023-03-09 13:09:55

<span>100GE</span><span>1/0/2</span> has 1 neighbor(s):
Neighbor index                     :1
MacAddress                         :0023-ea20-b011             
Discovered time                    :2023-03-09 13:09:58</pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001906181505__1.4.4"></a><a name="1.4.4"></a><h4 class="sectiontitle">Configuration Scripts</h4><div class="p"># DeviceA<pre class="screen">#
sysname DeviceA
#
interface <span>100GE</span><span>1/0/1</span>
 lldp mdn enable
#
interface <span>100GE</span><span>1/0/2</span>
 lldp mdn enable
#
snmp-agent trap enable feature-name lldp trap-name hwLldpMdnRemTablesChange
#
lldp enable
#
return</pre>
</div>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_lldp_cfg_0006.html">Configuring Basic LLDP Functions
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_lldp_cfg_0030.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>