
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="RADIUS Server Selection Mechanism">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_aaa_cfg_0021.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_aaa_cfg_0025.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_aaa_cfg_0027.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="AAA">
<meta name="featurename" content="RADIUS">
<meta name="featuretype" content="User Access and Authentication">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="AAA">
<meta name="featurename" content="RADIUS">
<meta name="featuretype" content="User Access and Authentication">
<meta name="featurename" content="AAA">
<meta name="featurename" content="RADIUS">
<meta name="featuretype" content="User Access and Authentication">
<meta name="featurename" content="AAA">
<meta name="featurename" content="AD">
<meta name="featurename" content="HWTACACS">
<meta name="featurename" content="LDAP">
<meta name="featurename" content="RADIUS">
<meta name="featurename" content="Local User">
<meta name="featuretype" content="User Access and Authentication">
<meta name="featuretype" content="User Access and Authentication">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001512836070">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>RADIUS Server Selection Mechanism</title>
</head>
<body><a name="EN-US_CONCEPT_0000001512836070"></a><a name="EN-US_CONCEPT_0000001512836070"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">RADIUS Server Selection Mechanism</h1>
<div><div class="p">Multiple RADIUS servers are typically deployed on a large network. If a server is faulty, user access will not be affected. In addition, when a large number of users access the network, load balancing can be implemented among these servers, preventing resources of a single server from being exhausted. If multiple RADIUS servers are configured in a RADIUS server template and a device needs to send packets to one of the servers, the device uses either of the following algorithms to select the RADIUS server based on the command configuration:<ul><li>RADIUS server primary/secondary algorithm (default)</li><li>RADIUS server load balancing algorithm</li></ul>
</div>
<p>If a RADIUS server functions as both an authentication server and an accounting server and is used in the authentication phase, an access device saves information about the authentication server and first sends accounting requests to this server in the accounting phase.</p>
<div class="section"><h4 class="sectiontitle">RADIUS Server Primary/Secondary Algorithm</h4><p>The primary and secondary roles are determined based on the weights configured for RADIUS authentication servers or RADIUS accounting servers. The server with the largest weight is the primary server. If the servers have the same weight, the first configured server is the primary server. In <a href="#EN-US_CONCEPT_0000001512836070__fig_dc_cfg_aaa_601701">Figure 1</a>, the device first sends authentication or accounting packets to the primary server among all servers in up state. If the primary server does not respond, the device sends the packets to the secondary server.</p>
<div class="fignone" id="EN-US_CONCEPT_0000001512836070__fig_dc_cfg_aaa_601701"><a name="EN-US_CONCEPT_0000001512836070__fig_dc_cfg_aaa_601701"></a><a name="fig_dc_cfg_aaa_601701"></a><span class="figcap"><b>Figure 1 </b>Diagram for the RADIUS server primary/secondary algorithm</span><br><span><img class="vsd" src="figure/en-us_image_0000001563995965.png"></span></div>
</div>
<div class="section"><h4 class="sectiontitle">RADIUS Server Load Balancing Algorithm</h4><p>If this algorithm is used and a device needs to send authentication or accounting packets to a server, the device selects the server based on the weights configured for the RADIUS authentication servers or RADIUS accounting servers. As shown in <a href="#EN-US_CONCEPT_0000001512836070__fig_dc_cfg_aaa_601702">Figure 2</a>, RADIUS server1 is in up state and its weight is 80, and RADIUS server2 is also in up state and its weight is 20. The possibility for the device to send the packets to RADIUS server1 is 80%, which equals the weight of server1 (80) divided by the total weight of server1 and server2 (80 + 20), and that for RADIUS server2 is 20% accordingly.</p>
<div class="fignone" id="EN-US_CONCEPT_0000001512836070__fig_dc_cfg_aaa_601702"><a name="EN-US_CONCEPT_0000001512836070__fig_dc_cfg_aaa_601702"></a><a name="fig_dc_cfg_aaa_601702"></a><span class="figcap"><b>Figure 2 </b>Diagram for the RADIUS server load balancing algorithm</span><br><span><img class="vsd" src="figure/en-us_image_0000001563875685.png"></span></div>
<p>If all the servers in up state do not respond to the packets sent by the device, the device retransmits the packets to a server among the servers that are originally set to down and to which the device has not sent authentication or accounting packets based on the server weight. If the device does not receive any response in the current authentication method, the backup authentication method is used, for example, local authentication. The backup authentication method must have been configured in the authentication scheme. Otherwise, the authentication process ends.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_aaa_cfg_0021.html">Understanding RADIUS-based AAA
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_aaa_cfg_0025.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="galaxy_aaa_cfg_0027.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>