
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Container Configuration File">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_OAS_cfg_0024.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="OAS">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="OAS">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="OAS">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TOPIC_0000001564125865">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Container Configuration File</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TOPIC_0000001564125865"></a><a name="EN-US_TOPIC_0000001564125865"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Container Configuration File</h1>
<div><div class="section"><h4 class="sectiontitle">Format of the Container Configuration File</h4><p>When a container is created, the default configuration file container_conf.yaml is supported. The file format is as follows. For details about each field, see <a href="#EN-US_TOPIC_0000001564125865__table1764061811243">Table 1</a>.</p>
<pre class="screen">kind: Container
spec:
    containers:
       image:        
       env:        
         - name:   
           value:  
         - name: 
           value:
       resources:      
           requests:        
             cpu:       
             memory:         
             cpuset-cpus:  
           limits:         
             cpu:        
             memory:       
             blkio-weight:       
           restartPolicy: 
           securityContext:        
             capabilities:        
               add:        
                   - 
                   - 
               drop:        
                   - 
                   - 
        network:
            manage-ip:
            business-ip:
            port-range:
        storage:
            volume-type:
            volume-size:
            volume-mount-path:</pre>

<div class="tableBorder"><a name="EN-US_TOPIC_0000001564125865__table1764061811243"></a><a name="table1764061811243"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000001564125865__table1764061811243" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Parameters in the container configuration file</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="26.38%" id="mcps1.3.1.4.2.3.1.1" liSelected="liSelected"><p>Field</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="73.61999999999999%" id="mcps1.3.1.4.2.3.1.2" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="26.38%" headers="mcps1.3.1.4.2.3.1.1 "><p>kind: Container</p>
</td>
<td class="cellrowborder" valign="top" width="73.61999999999999%" headers="mcps1.3.1.4.2.3.1.2 "><p>Non-parameter and cannot be modified.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.38%" headers="mcps1.3.1.4.2.3.1.1 "><p>spec:</p>
</td>
<td class="cellrowborder" valign="top" width="73.61999999999999%" headers="mcps1.3.1.4.2.3.1.2 "><p>Non-parameter and cannot be modified.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.38%" headers="mcps1.3.1.4.2.3.1.1 "><p>containers:</p>
</td>
<td class="cellrowborder" valign="top" width="73.61999999999999%" headers="mcps1.3.1.4.2.3.1.2 "><p>Non-parameter and cannot be modified.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.38%" headers="mcps1.3.1.4.2.3.1.1 "><p>image:</p>
</td>
<td class="cellrowborder" valign="top" width="73.61999999999999%" headers="mcps1.3.1.4.2.3.1.2 "><p>Name of the image software package used by a container.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.38%" headers="mcps1.3.1.4.2.3.1.1 "><p>env:</p>
</td>
<td class="cellrowborder" valign="top" width="73.61999999999999%" headers="mcps1.3.1.4.2.3.1.2 "><p>Non-parameter, which indicates that the following content is used to set the container environment variables. <em>name</em> and <em>value</em> are a group of variables. Multiple groups of variables can be set.</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="2" valign="top" width="26.38%" headers="mcps1.3.1.4.2.3.1.1 "><p>- name:</p>
<p>value:</p>
</td>
<td class="cellrowborder" valign="top" width="73.61999999999999%" headers="mcps1.3.1.4.2.3.1.2 "><p>Parameter, which is used to set the environment variable name.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.1.4.2.3.1.1 "><p>Parameter, which is used to set the environment variable value.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.38%" headers="mcps1.3.1.4.2.3.1.1 "><p>resources:</p>
</td>
<td class="cellrowborder" valign="top" width="73.61999999999999%" headers="mcps1.3.1.4.2.3.1.2 "><p>Non-parameter, which indicates that the following content is used to set the container running resources.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.38%" headers="mcps1.3.1.4.2.3.1.1 "><p>requests:</p>
</td>
<td class="cellrowborder" valign="top" width="73.61999999999999%" headers="mcps1.3.1.4.2.3.1.2 "><p>Non-parameter, which indicates that the following content is used to set lower limits for container running resources.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.38%" headers="mcps1.3.1.4.2.3.1.1 "><p>cpu:</p>
</td>
<td class="cellrowborder" valign="top" width="73.61999999999999%" headers="mcps1.3.1.4.2.3.1.2 "><p>Parameter, which is used to set the minimum number of CPUs required for startup.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.38%" headers="mcps1.3.1.4.2.3.1.1 "><p>memory:</p>
</td>
<td class="cellrowborder" valign="top" width="73.61999999999999%" headers="mcps1.3.1.4.2.3.1.2 "><p>Parameter, which is used to set the minimum memory required for startup.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.38%" headers="mcps1.3.1.4.2.3.1.1 "><p>cpuset-cpus:</p>
</td>
<td class="cellrowborder" valign="top" width="73.61999999999999%" headers="mcps1.3.1.4.2.3.1.2 "><p>Parameter, which indicates the ID of the CPU core bound to the application.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.38%" headers="mcps1.3.1.4.2.3.1.1 "><p>limits:</p>
</td>
<td class="cellrowborder" valign="top" width="73.61999999999999%" headers="mcps1.3.1.4.2.3.1.2 "><p>Non-parameter, which indicates that the following content is used to set upper limits for container running resources.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.38%" headers="mcps1.3.1.4.2.3.1.1 "><p>cpu:</p>
</td>
<td class="cellrowborder" valign="top" width="73.61999999999999%" headers="mcps1.3.1.4.2.3.1.2 "><p>Parameter, which is used in the <strong>docker run --cpus</strong> parameter to set the CPU limit. The <strong>docker run --cpu-shares</strong> parameter is set to the value of this parameter multiplied by 1024.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.38%" headers="mcps1.3.1.4.2.3.1.1 "><p>memory:</p>
</td>
<td class="cellrowborder" valign="top" width="73.61999999999999%" headers="mcps1.3.1.4.2.3.1.2 "><p>Parameter, which is used in the <strong>docker run --memory</strong> parameter to set the memory limit. The format is number+unit. The unit is MiB or GiB. MiB can be abbreviated to m, M, or MB, and GiB can be abbreviated to g, G, or GB.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.38%" headers="mcps1.3.1.4.2.3.1.1 "><p>blkio-weight:</p>
</td>
<td class="cellrowborder" valign="top" width="73.61999999999999%" headers="mcps1.3.1.4.2.3.1.2 "><p>Parameter, which is used in the <strong>docker run --blkio-weight</strong> parameter to set the I/O weight.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.38%" headers="mcps1.3.1.4.2.3.1.1 "><p>restartPolicy:</p>
</td>
<td class="cellrowborder" valign="top" width="73.61999999999999%" headers="mcps1.3.1.4.2.3.1.2 "><p>Parameter, which is used in the <strong>docker run --restart</strong> parameter to set the restart policy. This parameter specifies the self-healing mode when a container exits due to a fault. There are four types of status:</p>
<p>no: A container is not automatically restarted.</p>
<p>on-failure[:num]: If a container exits abnormally, it is restarted. You can determine whether to set the maximum number of restart times as required. For example, on-failure:5 indicates that a container can be restarted for a maximum of five times due to a fault.</p>
<p>always: If a container stops, it is always restarted.</p>
<p>unless-stopped: A container is always restarted when it exits. However, the container that has been stopped when the Docker daemon is started cannot be restarted.</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><ul><li>By default, the container restart policy is on-failure:5.</li><li>For details about the three types of restart policies, see the description of the <strong>docker run --restart</strong> command.</li></ul>
</div></div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.38%" headers="mcps1.3.1.4.2.3.1.1 "><p>securityContext:</p>
</td>
<td class="cellrowborder" valign="top" width="73.61999999999999%" headers="mcps1.3.1.4.2.3.1.2 "><p>Non-parameter, which indicates that the following content is for security configuration.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.38%" headers="mcps1.3.1.4.2.3.1.1 "><p>capabilities:</p>
</td>
<td class="cellrowborder" valign="top" width="73.61999999999999%" headers="mcps1.3.1.4.2.3.1.2 "><p>Non-parameter, which indicates that the following content is used to set the container permission.</p>
</td>
</tr>
<tr><td class="cellrowborder" align="left" valign="top" width="26.38%" headers="mcps1.3.1.4.2.3.1.1 "><p>add:</p>
</td>
<td class="cellrowborder" valign="top" width="73.61999999999999%" headers="mcps1.3.1.4.2.3.1.2 "><p>Parameter, which is used in the <strong>docker run --cap-add</strong> parameter to add capability sets. You can add multiple capability sets. For details, see the <strong>docker run --cap-add</strong> command.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.38%" headers="mcps1.3.1.4.2.3.1.1 "><p>drop:</p>
</td>
<td class="cellrowborder" valign="top" width="73.61999999999999%" headers="mcps1.3.1.4.2.3.1.2 "><p>Parameter, which is used in the <strong>docker run --cap-drop</strong> parameter to delete capability sets. You can delete multiple capability sets. For details, see the <strong>docker run --cap-drop</strong> command.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.38%" headers="mcps1.3.1.4.2.3.1.1 "><p>network:</p>
</td>
<td class="cellrowborder" valign="top" width="73.61999999999999%" headers="mcps1.3.1.4.2.3.1.2 "><p>Non-parameter, which indicates the configuration items related to network interfaces.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.38%" headers="mcps1.3.1.4.2.3.1.1 "><p>manage-ip:</p>
</td>
<td class="cellrowborder" valign="top" width="73.61999999999999%" headers="mcps1.3.1.4.2.3.1.2 "><p>Parameter, which indicates the IP address of the management interface.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.38%" headers="mcps1.3.1.4.2.3.1.1 "><p>business-ip:</p>
</td>
<td class="cellrowborder" valign="top" width="73.61999999999999%" headers="mcps1.3.1.4.2.3.1.2 "><p>Parameter, which indicates the IP address of the service interface.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.38%" headers="mcps1.3.1.4.2.3.1.1 "><p>port-range:</p>
</td>
<td class="cellrowborder" valign="top" width="73.61999999999999%" headers="mcps1.3.1.4.2.3.1.2 "><p>Parameter, which indicates the range of ports that can be bound.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.38%" headers="mcps1.3.1.4.2.3.1.1 "><p>storage:</p>
</td>
<td class="cellrowborder" valign="top" width="73.61999999999999%" headers="mcps1.3.1.4.2.3.1.2 "><p>Parameter, which indicates the configuration items related to container storage.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.38%" headers="mcps1.3.1.4.2.3.1.1 "><p>volume-type:</p>
</td>
<td class="cellrowborder" valign="top" width="73.61999999999999%" headers="mcps1.3.1.4.2.3.1.2 "><p>Parameter, which indicates the type of the storage volume for the application. The value <em>internal</em> indicates that the built-in storage device is used, and <em>external</em> indicates that the external storage device is used. If this parameter is not set, the built-in storage device is used by default.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.38%" headers="mcps1.3.1.4.2.3.1.1 "><p>volume-size:</p>
</td>
<td class="cellrowborder" valign="top" width="73.61999999999999%" headers="mcps1.3.1.4.2.3.1.2 "><p>Parameter, which indicates the size of the persistent storage volume allocated to the application. The unit is MB.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="26.38%" headers="mcps1.3.1.4.2.3.1.1 "><p>volume-mount-path:</p>
</td>
<td class="cellrowborder" valign="top" width="73.61999999999999%" headers="mcps1.3.1.4.2.3.1.2 "><p>Parameter, which indicates the mount path of the storage volume in the container. If this parameter is not set, <strong>/data</strong> is used by default.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section"><h4 class="sectiontitle">Signature File of the Configuration File</h4><p>To ensure the security of the configuration file, the Gnu Privacy Guard (GPG) signature is required for the configuration file. For details, see <a href="vrp_OAS_cfg_0009.html">Creating a Signature File for the Description File</a>.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_OAS_cfg_0024.html">Appendix
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
</div>
</div>
</body>
</html>