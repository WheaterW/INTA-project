
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring BGP4+ Soft Reset">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_bgp6_cfg_0022.html">
<meta name="DC.Relation" scheme="URI" content="vrp_bgp6_cfg_0025.html">
<meta name="DC.Relation" scheme="URI" content="vrp_bgp6_cfg_0027.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="BGP4+">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP4+">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="BGP4+">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176741847">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring BGP4+ Soft Reset</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176741847"></a><a name="EN-US_TASK_0000001176741847"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring BGP4+ Soft Reset</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001176741847__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>If a BGP4+ export routing policy changes, you can configure BGP4+ soft reset to allow the new policy to immediately take effect. This configuration allows the BGP4+ routing table to be updated dynamically without terminating any BGP4+ connection.</p>
<p>BGP4+ soft reset requires peers to support the route-refresh capability.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001176741847__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>(Optional) Enable the route-refresh capability.</span><p><p>Perform the following steps on a BGP4+ device:</p>
</p><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the BGP view.</span><p><pre class="screen"><a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i></pre>
</p></li><li class="substepexpand"><span>Enable the route-refresh capability.</span><p><pre class="screen"><a href="cmdqueryname=peer+capability-advertise+route-refresh"><b><span class="cmdname">peer</span></b></a> { <i><span class="varname">ipv6-address</span></i> | <i><span class="varname">group-name</span></i> } <strong><span>capability-advertise</span></strong> <strong><span>route-refresh</span></strong></pre>
<p>If the route-refresh capability is enabled on all BGP4+ devices and a BGP4+ routing policy changes, the local device sends Route-refresh messages to its peers. Upon receipt of these messages, the peers advertise their routing information to the local device again. This enables the local device to dynamically update its BGP4+ routing table and apply the new routing policy without terminating any BGP4+ connections.</p>
<p>By default, the route-refresh capability is enabled.</p>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176741847__en-us_task_0234857734_screen14848162118611"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176741847__en-us_task_0234857734_cmdname1784862115612">commit</span></b></a></pre>
</p></li></ol>
</li><li><span>Manually soft reset BGP4+ connections.</span><p><p>Perform the following steps on a BGP4+ device:</p>
</p><ol><li class="substepexpand"><span>Configure export BGP4+ soft reset in the user view.</span><p><pre class="screen"><a href="cmdqueryname=refresh+bgp+ipv6+all+group+external+internal+export"><b><span class="cmdname">refresh bgp</span></b></a> <strong><span>ipv6</span></strong> { <strong><span>all</span></strong> | <i><span class="varname">ipv6-address</span></i> | <strong><span>group</span></strong> <i><span class="varname">group-name</span></i> | <strong><span>external</span></strong> | <strong><span>internal</span></strong> } <strong><span>export</span></strong></pre>
<p><strong><span>external</span></strong> soft resets an EBGP connection, and <strong><span>internal</span></strong> soft resets an IBGP connection.</p>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_bgp6_cfg_0022.html">Configuring BGP4+ to Advertise Routes
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_bgp6_cfg_0025.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_bgp6_cfg_0027.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>