
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Understanding mVRRP">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_vrrp_cfg_0110.html">
<meta name="DC.Relation" scheme="URI" content="vrp_vrrp_cfg_0111.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="High Availability">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="High Availability">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001130624276">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Understanding mVRRP</title>
</head>
<body><a name="EN-US_CONCEPT_0000001130624276"></a><a name="EN-US_CONCEPT_0000001130624276"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Understanding mVRRP</h1>
<div><div class="section"><h4 class="sectiontitle">Application Scenarios</h4><p>A device is usually dual-homed to two devices for improved network reliability, and multiple VRRP groups can be configured on the two devices to transmit various types of services. As each VRRP group maintains its own state machine, a large number of VRRP Advertisement packets are transmitted between devices.</p>
<p>To reduce bandwidth and CPU resource consumption during transmission of VRRP Advertisement packets, you can configure a VRRP group as a management Virtual Router Redundancy Protocol (mVRRP) group. Other VRRP groups are then bound to the mVRRP group and function as service VRRP groups, with only the mVRRP group sending VRRP Advertisement packets to negotiate the master/backup state of devices. Service VRRP groups do not send VRRP packets, and their master/backup states are determined by the state of the mVRRP group.</p>
<div class="p">As shown in <a href="#EN-US_CONCEPT_0000001130624276__fig_dc_vrp_vrrp_feature_010801">Figure 1</a>, an mVRRP group can be deployed as follows:<ol><li>The mVRRP group is deployed on the same side as the service VRRP group.</li><li>The mVRRP group is configured on the interfaces that directly connect DeviceA and DeviceB.</li></ol>
</div>
<div class="fignone" id="EN-US_CONCEPT_0000001130624276__fig_dc_vrp_vrrp_feature_010801"><a name="EN-US_CONCEPT_0000001130624276__fig_dc_vrp_vrrp_feature_010801"></a><a name="fig_dc_vrp_vrrp_feature_010801"></a><span class="figcap"><b>Figure 1 </b>Network diagram of mVRRP</span><br><span><img class="vsd" src="figure/en-us_image_0000001176663841.png"></span><div class="p">In addition to a common VRRP group, a VRRP-disabled interface can also be bound to an mVRRP group as required. <a href="#EN-US_CONCEPT_0000001130624276__tab_dc_vrp_vrrp_cfg_011001">Table 1</a> describes objects that can be bound to an mVRRP group as well as application scenarios.
<div class="tableBorder"><a name="EN-US_CONCEPT_0000001130624276__tab_dc_vrp_vrrp_cfg_011001"></a><a name="tab_dc_vrp_vrrp_cfg_011001"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_CONCEPT_0000001130624276__tab_dc_vrp_vrrp_cfg_011001" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Objects that can be bound to an mVRRP group and application scenarios</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="27.169999999999998%" id="mcps1.3.1.5.3.2.2.3.1.1" liSelected="liSelected"><p>Bound Object</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="72.83%" id="mcps1.3.1.5.3.2.2.3.1.2" liSelected="liSelected"><p>Application Scenarios</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="27.169999999999998%" headers="mcps1.3.1.5.3.2.2.3.1.1 "><p>Common VRRP group</p>
</td>
<td class="cellrowborder" valign="top" width="72.83%" headers="mcps1.3.1.5.3.2.2.3.1.2 "><p>If multiple VRRP groups are configured to forward traffic, large numbers of VRRP Advertisement packets are generated, which consumes network bandwidth resources and affects CPU performance. To resolve this issue, configure an mVRRP group to which you can bind common VRRP groups. The mVRRP group sends VRRP Advertisement packets to determine the master/backup state of the bound common VRRP groups.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="27.169999999999998%" headers="mcps1.3.1.5.3.2.2.3.1.1 "><p>Service interface</p>
</td>
<td class="cellrowborder" valign="top" width="72.83%" headers="mcps1.3.1.5.3.2.2.3.1.2 "><p>VRRP-disabled interfaces can be bound to an mVRRP group. A master/backup mVRRP switchover can trigger a master/backup switchover on these interfaces, preventing traffic loss.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="section"><h4 class="sectiontitle">Related Concepts</h4><p><strong>mVRRP group</strong></p>
<p>Similar to a common VRRP group, an mVRRP group also sends VRRP Advertisement packets to negotiate the master/backup state of VRRP devices. An mVRRP group provides the following functions:</p>
<ul><li>When the mVRRP group functions as a gateway, it negotiates the master/backup state of devices and transmits services. In this scenario, a common VRRP group with the same VRID as that of the mVRRP group must be configured and assigned a virtual IP address. This virtual IP address becomes the gateway address configured for users. </li><li>If the mVRRP group does not function as the gateway, it only negotiates the master/backup state of devices instead of transmitting services. In this scenario, the mVRRP group does not require a virtual IP address, and the mVRRP group can be directly configured on an interface. This configuration results in simplified maintenance.</li></ul>
<p><strong>Service VRRP group</strong></p>
<p>A common VRRP group becomes a service VRRP group after it is bound to an mVRRP group. A service VRRP group does not send VRRP Advertisement packets, and the master/backup state of devices in the service VRRP group is determined by the state of the interface where the service VRRP group resides and the master/backup state of the devices in the mVRRP group. A service VRRP group can be associated with an mVRRP group in either of the following modes:</p>
<ul><li>Flowdown: This mode applies to networks on which both user-to-network and network-to-user traffic is transmitted over the same path. If the mVRRP group enters the Backup or Initialize state, all service VRRP groups that are associated with the mVRRP group in flowdown mode enter the Initialize state.</li><li>Unflowdown: This mode applies to networks on which user-to-network and network-to-user traffic is transmitted over different paths. If the mVRRP group enters the Backup or Initialize state, all service VRRP groups that are associated with the mVRRP group in unflowdown mode enter the same state.</li></ul>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Multiple service VRRP groups can be bound to an mVRRP group. However, the mVRRP group cannot be bound to another mVRRP group as a service VRRP group.</p>
<p>If the interface where a service VRRP group resides goes down, the service VRRP group changes to the Initialize state and its state is no longer determined by the mVRRP group.</p>
</div></div>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_vrrp_cfg_0110.html">Configuring mVRRP
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_vrrp_cfg_0111.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>