
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an IS-IS Cost">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_isis_ipv4_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="vrp_isis_ipv4_cfg_0016.html">
<meta name="DC.Relation" scheme="URI" content="vrp_isis_ipv4_cfg_0018.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001130784112">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring an IS-IS Cost</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001130784112"></a><a name="EN-US_TASK_0000001130784112"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an IS-IS Cost</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001130784112__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p">The costs of IS-IS interfaces can be determined in the following modes (in descending order of priority): <ul><li><p>Interface cost: configured for a specified interface</p>
</li><li><p>Global cost: configured for all interfaces</p>
</li><li><p>Automatically calculated cost: automatically calculated based on the interface bandwidth</p>
</li></ul>
</div>
<p>The value range of the interface cost depends on the cost style. By default, the cost of an IS-IS interface is 10, and the cost style is narrow.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If you need to change the cost style of IS-IS routes, configure it when configuring basic IS-IS functions. If you change the IS-IS cost style when IS-IS is running, the current IS-IS process will be restarted, which may trigger neighbor relationship reestablishment.</p>
</div></div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001130784112__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure an IS-IS cost style.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the IS-IS view.</span><p><pre class="screen"><a href="cmdqueryname=isis"><b><span class="cmdname">isis</span></b></a> [ <i><span class="varname">process-id</span></i> ]<span> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ]</span></pre>
</p></li><li class="substepexpand"><span>Configure an IS-IS cost style.</span><p><pre class="screen"><a href="cmdqueryname=cost-style"><b><span class="cmdname">cost-style</span></b></a> { { <strong><span>narrow</span></strong> | <strong><span>wide</span></strong> | <strong><span>wide-compatible</span></strong> } | { <strong><span>compatible</span></strong> | <strong><span>narrow-compatible</span></strong> } [ <strong><span>relax-spf-limit</span></strong> ] }</pre>
<p>By default, a device sends and accepts routes with the IS-IS cost style being narrow. The cost value range of an interface and the cost value range of the routes that can be accepted by the interface vary with the cost style.</p>
<p>If the cost style is <strong>narrow</strong>, the cost of an interface ranges from 1 to 63, and the maximum cost of the routes that can be accepted by the interface is 1023.</p>
<p>If the cost style is <strong>narrow-compatible</strong> or <strong>compatible</strong>, the cost of an interface ranges from 1 to 63, and the cost value range of the routes that can be accepted by the interface is related to the <strong><span>relax-spf-limit</span></strong> parameter.</p>
<p>If the cost style is <strong>wide</strong> or <strong>wide-compatible</strong>, the cost of an interface ranges from 1 to 16777214 or the maximum value (16777215). The maximum cost of the routes that can be accepted by the interface is 16777214.</p>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001130784112__en-us_task_0234857734_screen14848162118611"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001130784112__en-us_task_0234857734_cmdname1784862115612">commit</span></b></a></pre>
</p></li></ol>
</li><li><span>Configure a cost for a specified IS-IS interface.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the interface view.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></pre>
</p></li><li class="substepexpand"><span>Switch the interface working mode from Layer 2 to Layer 3.</span><p><pre class="screen"><a href="cmdqueryname=undo+portswitch"><b><span class="cmdname">undo portswitch</span></b></a></pre>
<p> Determine whether to perform this step based on the current interface working mode.</p>
</p></li><li class="substepexpand"><span>Configure a cost for the IS-IS interface.</span><p><pre class="screen"><a href="cmdqueryname=isis"><b><span class="cmdname">isis</span></b></a> <strong><span>cost</span></strong> <i><span class="varname">cost</span></i> [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> ]</pre>
<p>By default, the cost of an IS-IS interface is 10.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>To change the cost of a loopback interface, you can only run the <a href="cmdqueryname=isis+cost"><b><span class="cmdname">isis cost</span></b></a> command in the interface view.</p>
</div></div>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001130784112__en-us_task_0234857734_screen14848162118611_1"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001130784112__en-us_task_0234857734_cmdname1784862115612_1">commit</span></b></a></pre>
</p></li></ol>
</li><li><span>Configure a global IS-IS cost.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the IS-IS view.</span><p><pre class="screen"><a href="cmdqueryname=isis"><b><span class="cmdname">isis</span></b></a> [ <i><span class="varname">process-id</span></i> ]</pre>
</p></li><li class="substepexpand"><span>Configure a global IS-IS cost.</span><p><pre class="screen"><a href="cmdqueryname=circuit-cost"><b><span class="cmdname">circuit-cost</span></b></a> <i><span class="varname">cost</span></i> [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> ]</pre>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001130784112__en-us_task_0234857734_screen14848162118611_2"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001130784112__en-us_task_0234857734_cmdname1784862115612_2">commit</span></b></a></pre>
</p></li></ol>
</li><li><span>Configure IS-IS to automatically calculate interface costs.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the IS-IS view.</span><p><pre class="screen"><a href="cmdqueryname=isis"><b><span class="cmdname">isis</span></b></a> [ <i><span class="varname">process-id</span></i> ]</pre>
</p></li><li class="substepexpand"><span>Configure a bandwidth reference value.</span><p><pre class="screen"><a href="cmdqueryname=bandwidth-reference"><b><span class="cmdname">bandwidth-reference</span></b></a> <i><span class="varname">value</span></i></pre>
<p>By default, the bandwidth reference value is 100 Mbit/s.</p>
</p></li><li class="substepexpand"><span>Configure IS-IS to automatically calculate interface costs.</span><p><pre class="screen"><a href="cmdqueryname=auto-cost+enable"><b><span class="cmdname">auto-cost enable</span></b></a></pre>
<p>The bandwidth reference value configured using the <a href="cmdqueryname=bandwidth-reference"><b><span class="cmdname">bandwidth-reference</span></b></a> command is valid only when the cost style is wide or wide-compatible. In this case, the cost of each interface is calculated using the following formula: Interface cost = (Bandwidth-reference/Interface bandwidth) x 10.</p>
<p>If the cost style is narrow, narrow-compatible, or compatible, the cost of an interface is determined by the interface bandwidth range. <a href="#EN-US_TASK_0000001130784112__table10137203131118">Table 1</a> lists the interface costs corresponding to different interface bandwidth ranges.</p>

<div class="tableBorder"><a name="EN-US_TASK_0000001130784112__table10137203131118"></a><a name="table10137203131118"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TASK_0000001130784112__table10137203131118" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Mapping between IS-IS interface costs and interface bandwidth ranges</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="46.17%" id="mcps1.3.2.4.2.4.2.4.2.3.1.1" liSelected="liSelected"><p>Cost Value</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="53.83%" id="mcps1.3.2.4.2.4.2.4.2.3.1.2" liSelected="liSelected"><p>Interface Bandwidth Range</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="46.17%" headers="mcps1.3.2.4.2.4.2.4.2.3.1.1 "><p>60</p>
</td>
<td class="cellrowborder" valign="top" width="53.83%" headers="mcps1.3.2.4.2.4.2.4.2.3.1.2 "><p>Interface bandwidth â¤ 10 Mbit/s</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="46.17%" headers="mcps1.3.2.4.2.4.2.4.2.3.1.1 "><p>50</p>
</td>
<td class="cellrowborder" valign="top" width="53.83%" headers="mcps1.3.2.4.2.4.2.4.2.3.1.2 "><p>10 Mbit/s &lt; Interface bandwidth â¤ 100 Mbit/s</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="46.17%" headers="mcps1.3.2.4.2.4.2.4.2.3.1.1 "><p>40</p>
</td>
<td class="cellrowborder" valign="top" width="53.83%" headers="mcps1.3.2.4.2.4.2.4.2.3.1.2 "><p>100 Mbit/s &lt; Interface bandwidth â¤ 155 Mbit/s</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="46.17%" headers="mcps1.3.2.4.2.4.2.4.2.3.1.1 "><p>30</p>
</td>
<td class="cellrowborder" valign="top" width="53.83%" headers="mcps1.3.2.4.2.4.2.4.2.3.1.2 "><p>155 Mbit/s &lt; Interface bandwidth â¤ 622 Mbit/s</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="46.17%" headers="mcps1.3.2.4.2.4.2.4.2.3.1.1 "><p>20</p>
</td>
<td class="cellrowborder" valign="top" width="53.83%" headers="mcps1.3.2.4.2.4.2.4.2.3.1.2 "><p>622 Mbit/s &lt; Interface bandwidth â¤ 2.5 Gbit/s</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="46.17%" headers="mcps1.3.2.4.2.4.2.4.2.3.1.1 "><p>10</p>
</td>
<td class="cellrowborder" valign="top" width="53.83%" headers="mcps1.3.2.4.2.4.2.4.2.3.1.2 "><p>Interface bandwidth &gt; 2.5 Gbit/s</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001130784112__en-us_task_0234857734_screen14848162118611_3"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001130784112__en-us_task_0234857734_cmdname1784862115612_3">commit</span></b></a></pre>
</p></li></ol>
</li></ul></div>
<div class="example"><a name="EN-US_TASK_0000001130784112__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><ul><li>Run the <strong>display this</strong> command in the IS-IS view to check the IS-IS cost style.</li><li>Run the <a href="cmdqueryname=display+isis"><b><span class="cmdname">display isis</span></b></a> <strong><span>interface</span></strong>  [ <strong><span>verbose</span></strong> ] [ <a href="cmdqueryname=vpn-instance"><b><span class="cmdname">vpn-instance</span></b></a> <em>vpn-instance-name</em> ] command to check IS-IS interface link costs.</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_isis_ipv4_cfg_0001.html">IS-IS Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_isis_ipv4_cfg_0016.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_isis_ipv4_cfg_0018.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>