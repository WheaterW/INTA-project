
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Adding Member Interfaces to an Eth-Trunk Interface">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_eth-trunk_cfg_0011.html">
<meta name="DC.Relation" scheme="URI" content="vrp_eth-trunk_cfg_0012.html">
<meta name="DC.Relation" scheme="URI" content="vrp_eth-trunk_cfg_0054.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176741145">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Adding Member Interfaces to an Eth-Trunk Interface</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176741145"></a><a name="EN-US_TASK_0000001176741145"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Adding Member Interfaces to an Eth-Trunk Interface</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001176741145__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p">Physical interfaces can be added to an Eth-Trunk interface in either of the following modes:<ul><li>Add physical interfaces either in batches or one by one to an Eth-Trunk interface in the view of the Eth-Trunk interface.</li><li>Add a physical interface to a specific Eth-Trunk interface in the view of the physical interface.</li></ul>
</div>
<div class="p"><strong>Before Link Aggregation Is Configured</strong><ul><li>When adding an interface to an Eth-Trunk interface, ensure that the interface is of the default type. In addition, the member interface cannot be configured with certain services, such as a static MAC address. Otherwise, the device displays an error message. (Because the services supported by interfaces are different, the types of services that cannot be configured on an interface added to an Eth-Trunk interface cannot be listed. For details, see the error message displayed on the device.)</li><li>Devices at both ends of an Eth-Trunk link must use the same number of physical interfaces and the same interface rate, duplex mode, and flow control mode.</li><li>It is recommended that the same jumbo frame length be configured for the physical interfaces connecting the devices at both ends of an Eth-Trunk link.</li><li>If an interface of the local device is added to an Eth-Trunk interface, the directly connected interface on the peer device must also be added to an Eth-Trunk interface. Otherwise, communication between the two devices will fail.</li><li>Both devices of an Eth-Trunk link must use the same link aggregation mode.</li><li>Interfaces operating at different rates and in different duplex modes can be added to the same Eth-Trunk interface. In addition, optical and electrical interfaces can be added to a single Eth-Trunk interface.</li><li>A member interface of an Eth-Trunk interface cannot also be an Eth-Trunk interface.</li><li>Interfaces operating at different rates, in different duplex modes, and on different boards can be added to the same Eth-Trunk interface working in LACP mode. However, member interfaces working at different rates cannot forward data at the same time, and member interfaces working in half-duplex mode cannot forward traffic. As such, before the configuration, check the boards where member interfaces reside, interface rates, and duplex modes.</li></ul>
</div>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If you run the <a href="cmdqueryname=shutdown"><b><span class="cmdname">shutdown</span></b></a> command on an Eth-Trunk interface, the physical status of both the Eth-Trunk interface and its member interfaces becomes <strong>Administratively DOWN</strong>, and the <strong>shutdown</strong> command is visible in the configuration file under each member interface.</p>
</div></div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001176741145__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Add one or more member interfaces in the Eth-Trunk interface view.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the view of an Eth-Trunk interface.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <strong><span>eth-trunk</span></strong> <i><span class="varname">trunk-id</span></i></pre>
</p></li><li class="substepexpand"><span>Run either of the following commands as required.</span><p><ul><li><p>Add physical interfaces to the Eth-Trunk interface in batches.</p>
<pre class="screen"><a href="cmdqueryname=trunkport"><b><span class="cmdname">trunkport</span></b></a> <i><span class="varname">interface-type</span></i> { <i><span class="varname">interface-number1</span></i> [ <strong><span>to</span></strong> <i><span class="varname">interface-number2</span></i> ] } &amp;&lt;1-16&gt;</pre>
</li><li><p>Add a single physical interface to the Eth-Trunk interface.</p>
<pre class="screen"><a href="cmdqueryname=trunkport"><b><span class="cmdname">trunkport</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></pre>
</li></ul>
</p></li><li class="substepexpand" id="EN-US_TASK_0000001176741145__substep1894948101616"><span id="EN-US_TASK_0000001176741145__cmd118941048161619">Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176741145__screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176741145__en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol>
</li><li><span>Add a physical interface to an Eth-Trunk interface in the view of the physical interface.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the view of an Eth-Trunk interface.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <strong><span>eth-trunk</span></strong> <i><span class="varname">trunk-id</span></i></pre>
</p></li><li class="substepexpand"><span>Enter the view of the physical interface that needs to be added to an Eth-Trunk interface.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></pre>
</p></li><li class="substepexpand"><span>Add the physical interface to an Eth-Trunk interface.</span><p><pre class="screen"><a href="cmdqueryname=eth-trunk"><b><span class="cmdname">eth-trunk</span></b></a> <i><span class="varname">trunk-id</span></i></pre>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176741145__en-us_task_0000001176741145_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176741145__en-us_task_0000001176741145_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol>
</li></ul></div>
<div class="postreq"><a name="EN-US_TASK_0000001176741145__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Follow-up Procedure</h4>
<div class="p"><p>An Eth-Trunk interface functions properly after you complete configurations described in <a href="vrp_eth-trunk_cfg_0012.html">Creating an Eth-Trunk Interface and Configure a Link Aggregation Mode for It</a> and <a href="vrp_eth-trunk_cfg_0013.html">Adding Member Interfaces to an Eth-Trunk Interface</a> on the local and peer devices. You can then configure services on the Eth-Trunk interface. To modify Eth-Trunk interface parameters, see <a href="vrp_eth-trunk_cfg_0014.html">(Optional) Configuring Parameters for an Eth-Trunk Interface in Manual Mode</a> or <a href="vrp_eth-trunk_cfg_0016.html">(Optional) Configuring Parameters for an Eth-Trunk Interface in LACP Mode</a>.</p>
<p><strong>After Link Aggregation Is Configured</strong></p>
<ul><li>An Ethernet interface can be added to only one Eth-Trunk interface. To add the Ethernet interface to another Eth-Trunk interface, delete it from the original one first.</li><li>After an interface is added to an Eth-Trunk interface, MAC address entries and ARP entries are learned based on the entire Eth-Trunk interface, not according to individual member interfaces. </li></ul>
<ul><li>Before you remove an interface from or add a physical interface to an Eth-Trunk interface, run the <strong>shutdown</strong> command for this interface. After this interface is removed or added, run the <strong>undo shutdown</strong> command.</li><li>Before deleting an Eth-Trunk interface, delete all of its member interfaces.</li></ul>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_eth-trunk_cfg_0011.html">Creating and Configuring an Eth-Trunk Interface
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_eth-trunk_cfg_0012.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_eth-trunk_cfg_0054.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>