
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an IS-IS Link Group">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_isis_ipv4_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="vrp_isis_ipv4_cfg_0215.html">
<meta name="DC.Relation" scheme="URI" content="vrp_isis_ipv4_cfg_0027.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176743771">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring an IS-IS Link Group</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176743771"></a><a name="EN-US_TASK_0000001176743771"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an IS-IS Link Group</h1>
<div class="taskbody"><div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001176743771__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>Before configuring an IS-IS link group, you have completed the following task:</p>
<ul><li><p><a href="vrp_isis_ipv4_cfg_0011.html">Configure basic IS-IS functions</a>.</p>
</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001176743771__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>A link group consists of multiple links that are used for traffic forwarding. If a failure occurs on one or more of the links and the bandwidth of the other links in the group is not sufficient to carry the traffic, the link group automatically increases the cost of the available links. As a result, the routes using the member links in this link group are not preferentially selected and traffic is then switched to a backup link, which prevents traffic loss. If the link failure is cleared, the link group can automatically restore the original link cost so that routes are recalculated and traffic is then forwarded along the optimal route.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001176743771__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Create an IS-IS process and enter the IS-IS view.</span><p><pre class="screen"><a href="cmdqueryname=isis"><b><span class="cmdname">isis</span></b></a> [ <i><span class="varname">process-id</span></i> ]<span> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ]</span></pre>
</p><p><p><i><span class="varname">process-id</span></i> specifies an IS-IS process ID. If the <i><span class="varname">process-id</span></i> parameter is not specified, the system creates process 1 by default. If a VPN instance is specified, the IS-IS process belongs to this VPN instance. If no VPN instance is specified, the process belongs to the public network instance.</p>
</p></li><li><span>Create a link group and enter the IS-IS link group view.</span><p><pre class="screen"><a href="cmdqueryname=link-group"><b><span class="cmdname">link-group</span></b></a> <i><span class="varname">group-name</span></i></pre>
</p></li><li><span>Configure a value for the device to automatically adjust the link costs of member links in the link group.</span><p><pre class="screen"><a href="cmdqueryname=cost-offset"><b><span class="cmdname">cost-offset</span></b></a> { <i><span class="varname">cost</span></i> | <strong><span>max-reachable</span></strong> | <strong><span>maximum</span></strong> }</pre>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If <strong><span>maximum</span></strong> is specified in the command, the routes using the member links in the link group are used to transmit TE information, but not selected for traffic forwarding after the link cost is adjusted.</p>
</div></div>
</p></li><li><span>Set <i><span class="varname">min-num</span></i> to trigger automatic link cost adjustment when the number of available member links in the link group falls below the configured <i><span class="varname">min-num</span></i>.</span><p><pre class="screen"><a href="cmdqueryname=min-members"><b><span class="cmdname">min-members</span></b></a> <i><span class="varname">min-num</span></i></pre>
<p>By default, the minimum number of available member links in the link group is 2.</p>
</p></li><li><span>Set <i><span class="varname">revert-num</span></i> to trigger automatic link cost restoration when the number of available member links in the link group reaches or exceeds the configured <i><span class="varname">revert-num</span></i>. </span><p><pre class="screen"><a href="cmdqueryname=revert-members"><b><span class="cmdname">revert-members</span></b></a> <i><span class="varname">revert-num</span></i></pre>
<div class="p">By default, the value of <i><span class="varname">revert-num</span></i> is the same as that of <i><span class="varname">min-num</span></i> configured in the previous step. If <i><span class="varname">min-num</span></i> is not configured, the value of <i><span class="varname">revert-num</span></i> is 2.<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The value of <i><span class="varname">revert-num</span></i> must not be less than that of <i><span class="varname">min-number</span></i>.</p>
</div></div>
</div>
</p></li><li><span>Exit the IS-IS link group view.</span><p><pre class="screen"><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></pre>
</p></li><li><span>Exit the IS-IS view.</span><p><pre class="screen"><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></pre>
</p></li><li><span>Enter the interface view.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></pre>
</p></li><li><span>Switch the interface working mode from Layer 2 to Layer 3.</span><p><pre class="screen"><a href="cmdqueryname=undo+portswitch"><b><span class="cmdname">undo portswitch</span></b></a></pre>
<p>Determine whether to perform this step based on the current interface working mode.</p>
</p></li><li><span>Bind the interface to the link group.</span><p><pre class="screen"><a href="cmdqueryname=isis+link-group"><b><span class="cmdname">isis link-group</span></b></a> <i><span class="varname">group-name</span></i> [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> ]</pre>
</p><p><div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>To bind multiple interfaces to the link group, repeat Steps 9, 10, and 11.</p>
</div></div>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176743771__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176743771__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001176743771__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+isis+link-group"><b><span class="cmdname">display isis link-group</span></b></a> [<i><span class="varname">process-id</span></i> ] [<i><span class="varname">group-name</span></i> ] command to check IS-IS link group information.</p>
<p>Run the <a href="cmdqueryname=display+isis+link-group+interface"><b><span class="cmdname">display isis link-group interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> command to check information about the link group to which a specified IS-IS interface is added.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_isis_ipv4_cfg_0001.html">IS-IS Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_isis_ipv4_cfg_0215.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_isis_ipv4_cfg_0027.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>