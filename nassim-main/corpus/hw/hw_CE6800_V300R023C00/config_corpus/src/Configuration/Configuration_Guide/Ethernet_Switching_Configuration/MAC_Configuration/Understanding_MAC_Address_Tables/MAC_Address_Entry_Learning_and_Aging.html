
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="MAC Address Entry Learning and Aging">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_mac_cfg_0003.html">
<meta name="DC.Relation" scheme="URI" content="vrp_mac_cfg_0005.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="MAC">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MAC">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featurename" content="MAC">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001130624936">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>MAC Address Entry Learning and Aging</title>
</head>
<body><a name="EN-US_CONCEPT_0000001130624936"></a><a name="EN-US_CONCEPT_0000001130624936"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">MAC Address Entry Learning and Aging</h1>
<div><div class="section"><h4 class="sectiontitle">MAC Address Entry Learning</h4><p>Most MAC address entries are dynamically created based on source MAC addresses learned from received data frames.</p>
<div class="fignone" id="EN-US_CONCEPT_0000001130624936__dc_fig_100601"><a name="EN-US_CONCEPT_0000001130624936__dc_fig_100601"></a><a name="dc_fig_100601"></a><span class="figcap"><b>Figure 1 </b>MAC address entry learning</span><br><span><img class="vsd" src="figure/en-us_image_0000001176664499.png"></span></div>
<p>In <a href="#EN-US_CONCEPT_0000001130624936__dc_fig_100601">Figure 1</a>, Host1 sends a data frame to <span>DeviceA</span>. When receiving the data frame, <span>DeviceA</span> obtains the source MAC address (Host1's MAC address) and VLAN ID of the frame.</p>
<ul><li>If Host1's MAC address does not exist in the MAC address table, <span>DeviceA</span> adds a new entry with Host1's MAC address, interface 1, and VLAN ID to the MAC address table.</li><li>If Host1's MAC address exists in the MAC address table, <span>DeviceA</span> resets the aging time of the MAC address entry and updates the entry.</li></ul>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>If interface 1 is a member interface of an Eth-Trunk interface, for example, Eth-Trunk A, the outbound interface in the MAC address entry is Eth-Trunk A.</li><li>All device interfaces belong to VLAN 1 by default. If the VLAN to which an interface belongs is not changed, the VLAN ID of the corresponding MAC address entry is VLAN 1.</li><li>A device does not learn the BPDU MAC address, of which the format is 0180-c200-xxxx.</li></ul>
</div></div>
<p>MAC address entry learning and update are triggered on a device only when the device receives data frames.</p>
</div>
<div class="section"><h4 class="sectiontitle">MAC Address Entry Aging</h4><p>A device needs to update its MAC address table continuously to adapt to changing network topologies. The dynamic entries automatically created in a MAC address table are not always valid. Each entry has a lifecycle (aging time) and will be deleted if it is not updated within the aging time. If an entry is updated within the aging time, the aging timer for the entry is reset.</p>
<div class="fignone" id="EN-US_CONCEPT_0000001130624936__fig4201181211719"><a name="EN-US_CONCEPT_0000001130624936__fig4201181211719"></a><a name="fig4201181211719"></a><span class="figcap"><b>Figure 2 </b>MAC address entry aging</span><br><span><img class="vsd" src="figure/en-us_image_0000001176744415.png"></span></div>
<p>As shown in <a href="#EN-US_CONCEPT_0000001130624936__fig4201181211719">Figure 2</a>, the aging time of MAC address entries is set to T. At t<sub>1</sub>, packets with source MAC address 00e0-fc00-0001 and VLAN ID 1 arrive at an interface, which has joined VLAN 1. If no entry with MAC address 00e0-fc00-0001 and VLAN 1 exists in the MAC address table, the MAC address is learned as a dynamic MAC address entry, and the hit flag of the entry is set to 1.</p>
<p>The device checks all dynamic MAC address entries at an interval of T.</p>
<ol><li>At t<sub>2</sub>, if the device finds that the hit flag of the matching dynamic MAC address entry with MAC address 00e0-fc00-0001 and VLAN 1 is 1, the device sets the hit flag to 0 and retains the MAC address entry.</li><li>If no packet with source MAC address 00e0-fc00-0001 and VLAN 1 enters the device between t<sub>2</sub> and t<sub>3</sub>, the hit flag of the matching MAC address entry is always 0.</li><li>At t<sub>3</sub>, the device finds that the hit flag of the matching MAC address entry is 0. The device considers the MAC address entry as expired and deletes it.</li></ol>
<p>The minimum holdtime of a dynamic MAC address entry ranges from T to 2T on the device.</p>
<p>You can set the aging time of MAC address entries to control their lifecycle in the MAC address table.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_mac_cfg_0003.html">Understanding MAC Address Tables
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_mac_cfg_0005.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>