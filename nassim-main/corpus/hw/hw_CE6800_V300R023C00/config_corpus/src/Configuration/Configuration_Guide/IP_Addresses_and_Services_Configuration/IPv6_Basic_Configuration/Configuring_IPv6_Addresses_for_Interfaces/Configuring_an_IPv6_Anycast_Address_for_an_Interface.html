
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an IPv6 Anycast Address for an Interface">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_ipv6_cfg_0008.html">
<meta name="DC.Relation" scheme="URI" content="vrp_ipv6_cfg_0011.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IPv6 Basic">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv6 Basic">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="IPv6 Basic">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001130622166">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring an IPv6 Anycast Address for an Interface</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001130622166"></a><a name="EN-US_TASK_0000001130622166"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an IPv6 Anycast Address for an Interface</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001130622166__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Anycast addresses and unicast addresses are in the same address range, and an anycast address is used to identify a group of interfaces on different nodes.</p>
<ul><li>Similar to a multicast address, an anycast address is listened to by multiple nodes. Therefore, it is only used as a destination address.</li><li>The packets destined for an anycast address are transmitted to an interface in the interface group identified by the anycast address and closest to the source node. (The distance between an interface and the source node is calculated based on the routing protocol). The packets destined for a multicast address are transmitted to a group of interfaces with the multicast address.</li></ul>
<p>When the 6to4 tunnel is used for the communication between the 6to4 network and the native IPv6 network, the device supports the configuration of an anycast address with the prefix of <strong>2002:c058:6301/48</strong> on the tunnel interface of the 6to4 relay routing device.</p>
<p>Alternatively, you can configure a 6to4 address on the tunnel interface of the 6to4 relay routing device. When multiple 6to4 relay routing devices are configured on the network, the difference between the two methods is as follows: </p>
<ul><li>If a 6to4 address is used, you need to configure different addresses for the tunnel interfaces of all devices.</li><li>If an anycast address is used, you need to configure the same address for the tunnel interfaces of all devices, reducing the number of addresses. If a 6to4 relay routing device fails, the 6to4 routing device can send packets to another 6to4 relay routing device based on the anycast address.</li></ul>
<div class="p"><div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Before configuring an IPv6 anycast address, ensure that the system has been configured with a 6to4 tunnel. Moreover, this tunnel's source interface has been configured with an IPv4 anycast address on the network segment 192.168.99.0/24.</p>
</div></div>
</div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001130622166__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enter the interface view.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></pre>
</p></li><li><span>Switch the interface working mode to Layer 3.</span><p><pre class="screen"><a href="cmdqueryname=undo+portswitch"><b><span class="cmdname">undo portswitch</span></b></a></pre>
</p></li><li><span>Enable IPv6.</span><p><pre class="screen"><a href="cmdqueryname=ipv6+enable"><b><span class="cmdname">ipv6 enable</span></b></a></pre>
</p></li><li><span>Configure an IPv6 anycast address for the interface.</span><p><pre class="screen"><a href="cmdqueryname=ipv6+address+anycast"><b><span class="cmdname">ipv6 address</span></b></a> { <i><span class="varname">ipv6-address prefix-length</span></i> | <i><span class="varname">ipv6-address</span></i>/<i><span class="varname">prefix-length</span></i> } <strong><span>anycast</span></strong> [ <strong><span>tag</span></strong> <i><span class="varname">tag-value</span></i> ]</pre>
<p>A maximum of <span>16</span> IPv6 anycast addresses can be configured for each interface.</p>
<p>An anycast address is not necessarily a subnet-router anycast address. Instead, it can be a global unicast address that is configured using the <a href="cmdqueryname=ipv6+address+anycast"><b><span class="cmdname">ipv6 address anycast</span></b></a> command.</p>
</p></li><li><span>Exit the interface view.</span><p><pre class="screen"><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></pre>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001130622166__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001130622166__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_ipv6_cfg_0008.html">Configuring IPv6 Addresses for Interfaces
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_ipv6_cfg_0011.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>