
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an Authentication Mode for VRRP Advertisement Packets">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_vrrp_cfg_0108.html">
<meta name="DC.Relation" scheme="URI" content="vrp_vrrp_cfg_0147.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="High Availability">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="High Availability">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001130624264">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring an Authentication Mode for VRRP Advertisement Packets</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001130624264"></a><a name="EN-US_TASK_0000001130624264"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an Authentication Mode for VRRP Advertisement Packets</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001130624264__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>When the master device in a VRRP group periodically sends VRRP Advertisement packets to inform downstream devices and backup devices that it is working properly, an attacker may simulate these packets for malicious purposes. To improve the security of networks, you can configure VRRP security policies as required.</p>
<p>Different authentication modes can be configured to meet different security requirements.</p>
<ul><li>Configure non-authentication (default setting) on a secure network. In this mode, the master device does not authenticate VRRP Advertisement packets before sending them, and backup devices consider the received VRRP Advertisement packets authentic and valid.</li><li>Configure simple or HMAC-MD5 authentication to improve VRRP communication security. HMAC-MD5 authentication is more secure than simple authentication.</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001130624264__1.3.2"></a><a name="1.3.2"></a>
<div class="p"><h4 class="sectiontitle">Procedure</h4><ol><li>Enter the system view.<pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</li><li>Enter the view of the interface where a VRRP group resides.<pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></pre>
</li><li>Switch the interface working mode to Layer 3.<pre class="screen"><a href="cmdqueryname=undo+portswitch"><b><span class="cmdname">undo portswitch</span></b></a></pre>
<p> Determine whether to perform this step based on the current interface working mode.</p>
</li><li>Configure an authentication mode for VRRP Advertisement packets.<pre class="screen"><a href="cmdqueryname=vrrp+vrid"><b><span class="cmdname">vrrp vrid</span></b></a> <i><span class="varname">virtual-router-id</span></i> <strong><span>authentication-mode</span></strong> { <strong><span>simple</span></strong> { [ <strong><span>plain</span></strong> ] <i><span class="varname">key</span></i> | <strong><span>cipher</span></strong> <i><span class="varname">cipher-key</span></i> } | <strong><span>md5</span></strong> <i><span class="varname">md5-key</span></i> }</pre>
<p>By default, a VRRP group does not authenticate VRRP Advertisement packets.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>For security purposes, you are advised to specify the ciphertext mode and change the password periodically.</li><li>The same authentication key must be configured on the master and backup devices in a VRRP group.</li><li>It is recommended that the password be at least eight characters long and contain at least two of the following character types: uppercase letters, lowercase letters, digits, and special characters.</li></ul>
</div></div>
</li><li>Commit the configuration.<pre class="screen"><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></pre>
</li></ol>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001130624264__1.3.3"></a><a name="1.3.3"></a>
<div class="p"><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+vrrp"><b><span class="cmdname">display vrrp</span></b></a> [ <strong><span>interface</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> } ] [ <i><span class="varname">virtual-router-id</span></i> ] [ <strong><span>verbose</span></strong> ] command to check the VRRP group status.</p>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_vrrp_cfg_0108.html">Adjusting and Optimizing VRRP Parameters
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_vrrp_cfg_0147.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>