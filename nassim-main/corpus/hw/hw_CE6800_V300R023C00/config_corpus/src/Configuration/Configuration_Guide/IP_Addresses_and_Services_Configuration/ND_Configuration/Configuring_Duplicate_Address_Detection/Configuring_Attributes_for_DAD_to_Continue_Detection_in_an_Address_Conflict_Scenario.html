
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Attributes for DAD to Continue Detection in an Address Conflict Scenario">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_nd_cfg_0022.html">
<meta name="DC.Relation" scheme="URI" content="vrp_nd_cfg_0024.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="ND">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="ND">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="ND">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176741987">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring Attributes for DAD to Continue Detection in an Address Conflict Scenario</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176741987"></a><a name="EN-US_TASK_0000001176741987"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Attributes for DAD to Continue Detection in an Address Conflict Scenario</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001176741987__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p">Before using an IPv6 unicast address for an interface, a device performs DAD. If DAD detects an address conflict, the detection ends. To remove the address conflict, you need to reconfigure an IPv6 address or change the interface status for the device to perform DAD again. This causes a long service interruption. To resolve this issue, enable DAD to continue detection in an address conflict scenario. In this case, after detecting an address conflict, DAD will continue detection until any of the following occurs:<ul><li>The loopback is released.</li><li>No more NS messages are received from a neighbor.</li><li>No more NA messages are received from a neighbor.</li></ul>
</div>
<p>If the network is stable and no new IPv6 address needs to be configured, you can run the <a href="cmdqueryname=ipv6+nd+dad+detect+disable"><b><span class="cmdname">ipv6 nd dad detect disable</span></b></a> command to disable DAD from continuing detection in an address conflict scenario.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001176741987__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Configure attributes for DAD to continue detection in an address conflict scenario.</span><p>
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Configuring attributes for DAD to continue detection in an address conflict scenario</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.2.2.2.1.2.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.2.2.2.1.2.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.2.2.2.1.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.2.2.2.1.2.4.1.1 "><p>Configure a threshold for DAD to consider an address available in an address conflict self-recovery scenario.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.2.2.2.1.2.4.1.2 "><p><a href="cmdqueryname=ipv6+nd+dad+detect+attempts"><b><span class="cmdname">ipv6 nd dad detect attempts </span></b></a><i><span class="varname">attempts-value</span></i></p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.2.2.2.1.2.4.1.3 "><p>If an address conflict occurs on an interface in an address conflict self-recovery scenario, DAD continues detection on the interface until the address conflict is removed. The device considers the address conflict removed when DAD does not receive conflict packets for a specified number of consecutive times. This number, referred to as the address conflict removal threshold, can be configured using the <a href="cmdqueryname=ipv6+nd+dad+detect+attempts"><b><span class="cmdname">ipv6 nd dad detect attempts</span></b></a> command. In this case, DAD considers the address available. Otherwise, DAD considers the address unavailable and continues detection.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.2.2.2.1.2.4.1.1 "><p>Configure a limit on the rate at which NS messages are sent for DAD to continue detection in an address conflict scenario.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.2.2.2.1.2.4.1.2 "><p><a href="cmdqueryname=ipv6+nd+dad+detect+rate-limit"><b><span class="cmdname">ipv6 nd dad detect rate-limit</span></b></a><i><span class="varname"> rate-value</span></i></p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.2.2.2.1.2.4.1.3 "><p>By default, address conflict self-recovery is enabled, and the limit on the rate at which NS messages are sent for DAD to continue detection is 50 messages per second. You can run this command to adjust this limit.</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176741987__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176741987__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_nd_cfg_0022.html">Configuring Duplicate Address Detection
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_nd_cfg_0024.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>