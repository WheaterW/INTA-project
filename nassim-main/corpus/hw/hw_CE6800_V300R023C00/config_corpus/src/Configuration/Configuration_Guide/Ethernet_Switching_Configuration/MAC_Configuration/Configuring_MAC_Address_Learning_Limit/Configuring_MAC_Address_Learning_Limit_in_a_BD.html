
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring MAC Address Learning Limit in a BD">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_mac_cfg_0020.html">
<meta name="DC.Relation" scheme="URI" content="vrp_mac_cfg_0023.html">
<meta name="DC.Relation" scheme="URI" content="vrp_mac_cfg_0024.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="MAC">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MAC">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featurename" content="MAC">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001554171397">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring MAC Address Learning Limit in a BD</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001554171397"></a><a name="EN-US_TASK_0000001554171397"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring MAC Address Learning Limit in a BD</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001554171397__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>After MAC address learning limit is configured in a BD, the device does not learn new MAC addresses on interfaces in the BD when the configured limit is reached. You can also configure an action for the device to take in this situation. This action determines whether the device discards the packets with source MAC addresses out of the MAC address table.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0000001554171397__en-us_task_0000001176664481_p1153563402214027">Before configuring a MAC address learning limit rule, run the <a href="cmdqueryname=reset+mac-address"><b><span class="cmdname" id="EN-US_TASK_0000001554171397__en-us_task_0000001176664481_cmdname820308932214027">reset mac-address</span></b></a> command to clear the learned MAC address entries. This will ensure the optimum effect of the configured rule.</p>
<p id="EN-US_TASK_0000001554171397__en-us_task_0000001176664481_p42865116344">If you run the <a href="cmdqueryname=mac-address+limit"><b><span class="cmdname" id="EN-US_TASK_0000001554171397__en-us_task_0000001176664481_cmdname18463511356">mac-address limit</span></b></a> command for the first time, you must configure the <a href="cmdqueryname=mac-address+limit"><b><span class="cmdname" id="EN-US_TASK_0000001554171397__en-us_task_0000001176664481_cmdname167671974384">mac-address limit</span></b></a> <strong><span id="EN-US_TASK_0000001554171397__en-us_task_0000001176664481_cmdparmname1767374385">maximum</span></strong> command before configuring the <strong><span id="EN-US_TASK_0000001554171397__en-us_task_0000001176664481_cmdparmname26193132513">action</span></strong> and <strong><span id="EN-US_TASK_0000001554171397__en-us_task_0000001176664481_cmdparmname19754033102510">alarm</span></strong> parameters. Then, there is no requirement on the configuration sequence of the parameters when you run the <a href="cmdqueryname=mac-address+limit"><b><span class="cmdname" id="EN-US_TASK_0000001554171397__en-us_task_0000001176664481_cmdname102881119153515">mac-address limit</span></b></a> command.</p>
</div></div>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This function is not supported by the <span>CE6885-LL (low latency mode)</span>.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001554171397__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enter the BD view.</span><p><pre class="screen"><a href="cmdqueryname=bridge-domain"><b><span class="cmdname">bridge-domain</span></b></a> <i><span class="varname">bd-id</span></i></pre>
</p></li><li><span>Limit the number of learned MAC addresses.</span><p><pre class="screen"><a href="cmdqueryname=mac-address+limit"><b><span class="cmdname">mac-address limit</span></b></a> <strong><span>maximum</span></strong> <i><span class="varname">max</span></i></pre>
<p>By default, the number of MAC addresses that can be learned is not set.</p>
</p></li><li><span>Configure an action for the device to take when the number of learned MAC addresses reaches the limit.</span><p><pre class="screen"><a href="cmdqueryname=mac-address+limit"><b><span class="cmdname">mac-address limit</span></b></a> <strong><span>action</span></strong> { <strong><span>discard</span></strong> | <strong><span>forward</span></strong> }</pre>
<p>By default, the device takes the <strong>forward</strong> action on packets when the number of learned MAC addresses reaches the limit. That is, the device forwards packets with new source MAC addresses but does not add the new MAC addresses to the MAC address table.</p>
</p></li><li><span>Configure whether to generate an alarm when the number of learned MAC addresses reaches the limit.</span><p><pre class="screen"><a href="cmdqueryname=mac-address+limit"><b><span class="cmdname">mac-address limit</span></b></a> <strong><span>alarm</span></strong> { <strong><span>disable</span></strong> | <strong><span>enable</span></strong> }</pre>
<p>By default, an alarm is generated when the number of learned MAC addresses reaches the limit.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001554171397__en-us_task_0228023023_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001554171397__en-us_task_0228023023_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001554171397__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+mac-address+limit"><b><span class="cmdname">display mac-address limit</span></b></a> [ <strong><span>bridge-domain</span></strong> <i><span class="varname">bd-id</span></i> ] command to check the MAC address learning limit rule.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_mac_cfg_0020.html">Configuring MAC Address Learning Limit
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_mac_cfg_0023.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_mac_cfg_0024.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>