
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Domain-based User Management">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_aaa_cfg_0003.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_aaa_cfg_0006.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="AAA">
<meta name="featurename" content="AD">
<meta name="featurename" content="HWTACACS">
<meta name="featurename" content="LDAP">
<meta name="featurename" content="RADIUS">
<meta name="featurename" content="Local User">
<meta name="featuretype" content="User Access and Authentication">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="AAA">
<meta name="featurename" content="AD">
<meta name="featurename" content="HWTACACS">
<meta name="featurename" content="LDAP">
<meta name="featurename" content="RADIUS">
<meta name="featurename" content="Local User">
<meta name="featuretype" content="User Access and Authentication">
<meta name="featurename" content="AAA">
<meta name="featurename" content="AD">
<meta name="featurename" content="HWTACACS">
<meta name="featurename" content="LDAP">
<meta name="featurename" content="RADIUS">
<meta name="featurename" content="Local User">
<meta name="featuretype" content="User Access and Authentication">
<meta name="featuretype" content="User Access and Authentication">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001564115741">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Domain-based User Management</title>
</head>
<body><a name="EN-US_CONCEPT_0000001564115741"></a><a name="EN-US_CONCEPT_0000001564115741"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Domain-based User Management</h1>
<div><p>An NAS performs domain-based user management. A domain is a group of users and each user belongs to a domain. A user uses only AAA configuration information in the domain to which the user belongs.</p>
<p>In <a href="#EN-US_CONCEPT_0000001564115741__fig_dc_cfg_aaa_602202">Figure 1</a>, configurations including an AAA scheme, a server template, and authorization information are bound to a domain for unified management.</p>
<ul><li>AAA scheme: includes an authentication scheme, an authorization scheme, and an accounting scheme, which define the authentication, authorization, and accounting methods and the order in which the methods take effect. If server authentication, authorization, and accounting are used, you need to configure a server template. If local authentication and authorization are used, you need to configure a local user.</li><li><p>Server template: is used to configure a server for authentication, authorization, and accounting. When a server is configured for authorization, you can obtain the authorization information from the server and domain.</p>
</li><li>Authorization information in a domain: can be configured in a domain.</li></ul>
<p>Authorization information can be delivered by a server or configured in a domain. Whether a user obtains authorization information delivered by a server or configured in a domain depends on the authorization method configured in the authorization scheme. For details, see <a href="galaxy_aaa_cfg_0005.html">Authorization Scheme</a>.</p>
<div class="fignone" id="EN-US_CONCEPT_0000001564115741__fig_dc_cfg_aaa_602202"><a name="EN-US_CONCEPT_0000001564115741__fig_dc_cfg_aaa_602202"></a><a name="fig_dc_cfg_aaa_602202"></a><span class="figcap"><b>Figure 1 </b>AAA configuration information in a domain</span><br><span><img src="figure/en-us_image_0000002013599361.png"></span></div>
<div class="section"><h4 class="sectiontitle">Domain to Which a User Belongs</h4><p>As shown in <a href="#EN-US_CONCEPT_0000001564115741__fig13720105918158">Figure 2</a>, the domain to which a user belongs is determined by the user name for logging in to the NAS. If the user name does not contain the domain name or the domain name contained in the user name is not configured on the NAS, the NAS cannot determine the domain to which the user belongs. In this case, the NAS adds the user to the global default domain based on the user type.</p>
<div class="fignone" id="EN-US_CONCEPT_0000001564115741__fig13720105918158"><a name="EN-US_CONCEPT_0000001564115741__fig13720105918158"></a><a name="fig13720105918158"></a><span class="figcap"><b>Figure 2 </b>Determining domains based on user names</span><br><span><img class="vsd" src="figure/en-us_image_0000001563875905.png"></span></div>
<p><a href="#EN-US_CONCEPT_0000001564115741__table123700558183">Table 1</a> provides the mapping between AAA-supported user access modes and global default domains.</p>

<div class="tableBorder"><a name="EN-US_CONCEPT_0000001564115741__table123700558183"></a><a name="table123700558183"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_CONCEPT_0000001564115741__table123700558183" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Mapping between AAA-supported user access modes and global default domains</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.6.5.2.4.1.1" liSelected="liSelected"><p>User Type</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.6.5.2.4.1.2" liSelected="liSelected"><p>User Access Mode</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.6.5.2.4.1.3" liSelected="liSelected"><p>Global Default Domain</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.6.5.2.4.1.1 "><p>Administrator</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.6.5.2.4.1.2 "><p>Is also called a login user and refers to the user who can log in to the NAS.</p>
<p>Includes users who log in to the NAS through FTP, SSH, Telnet, the console port, SNMP, MD-CLI, and HTTP.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.6.5.2.4.1.3 "><p>default_admin</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.6.5.2.4.1.1 "><p>Access user</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.6.5.2.4.1.2 "><p>Includes 802.1X authentication users.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.6.5.2.4.1.3 "><p>default</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section"><h4 class="sectiontitle">Format of User Names Sent by an NAS to the RADIUS Server</h4><p>An NAS can determine whether a user name sent to the RADIUS server contains the domain name based on the RADIUS server requirements.</p>
<p>You can set the format of user names sent by an NAS to the RADIUS server using the commands in <a href="#EN-US_CONCEPT_0000001564115741__t1">Table 2</a>.</p>

<div class="tableBorder"><a name="EN-US_CONCEPT_0000001564115741__t1"></a><a name="t1"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_CONCEPT_0000001564115741__t1" frame="border" border="1" rules="all"><caption><b>Table 2 </b>Setting the format of user names sent by an NAS to the RADIUS server</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="middle" width="28.71%" id="mcps1.3.7.4.2.5.1.1" liSelected="liSelected"><p>Command</p>
</th>
<th align="left" class="cellrowborder" valign="middle" width="20.91%" id="mcps1.3.7.4.2.5.1.2" liSelected="liSelected"><p>User Name Format</p>
</th>
<th align="left" class="cellrowborder" valign="middle" width="20.34%" id="mcps1.3.7.4.2.5.1.3" liSelected="liSelected"><p>User-entered User Name</p>
</th>
<th align="left" class="cellrowborder" valign="middle" width="30.04%" id="mcps1.3.7.4.2.5.1.4" liSelected="liSelected"><p>User Name Sent by an NAS to the RADIUS Server</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" rowspan="2" valign="top" width="28.71%" headers="mcps1.3.7.4.2.5.1.1 "><p><strong>radius-server user-name original</strong></p>
</td>
<td class="cellrowborder" rowspan="2" valign="top" width="20.91%" headers="mcps1.3.7.4.2.5.1.2 "><p>User-entered original user name</p>
</td>
<td class="cellrowborder" valign="top" width="20.34%" headers="mcps1.3.7.4.2.5.1.3 "><p>user-name@huawei.com</p>
</td>
<td class="cellrowborder" valign="top" width="30.04%" headers="mcps1.3.7.4.2.5.1.4 "><p>user-name@huawei.com</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.7.4.2.5.1.1 "><p>user-name</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.7.4.2.5.1.2 "><p>user-name</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="2" valign="top" width="28.71%" headers="mcps1.3.7.4.2.5.1.1 "><p><strong>radius-server user-name domain-included</strong></p>
</td>
<td class="cellrowborder" rowspan="2" valign="top" width="20.91%" headers="mcps1.3.7.4.2.5.1.2 "><p>Domain name included</p>
</td>
<td class="cellrowborder" valign="top" width="20.34%" headers="mcps1.3.7.4.2.5.1.3 "><p>user-name@huawei.com</p>
</td>
<td class="cellrowborder" valign="top" width="30.04%" headers="mcps1.3.7.4.2.5.1.4 "><p>user-name@huawei.com</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.7.4.2.5.1.1 "><p>user-name</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.7.4.2.5.1.2 "><p>user-name@default</p>
<p>Assume that users use the default domain named<strong> default</strong>.</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="2" valign="top" width="28.71%" headers="mcps1.3.7.4.2.5.1.1 "><p><strong>undo radius-server user-name domain-included</strong></p>
</td>
<td class="cellrowborder" rowspan="2" valign="top" width="20.91%" headers="mcps1.3.7.4.2.5.1.2 "><p>Domain name excluded</p>
</td>
<td class="cellrowborder" valign="top" width="20.34%" headers="mcps1.3.7.4.2.5.1.3 "><p>user-name@huawei.com</p>
</td>
<td class="cellrowborder" valign="top" width="30.04%" headers="mcps1.3.7.4.2.5.1.4 "><p>user-name</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.7.4.2.5.1.1 "><p>user-name</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.7.4.2.5.1.2 "><p>user-name</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_aaa_cfg_0003.html">Understanding AAA
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_aaa_cfg_0006.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>