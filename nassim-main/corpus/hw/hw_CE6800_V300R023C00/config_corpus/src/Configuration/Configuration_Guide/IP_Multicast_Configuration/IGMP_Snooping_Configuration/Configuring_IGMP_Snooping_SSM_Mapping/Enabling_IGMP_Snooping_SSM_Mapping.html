
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Enabling IGMP Snooping SSM Mapping">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../vrp/vrp_l2mc_cfg_0044.html">
<meta name="DC.Relation" scheme="URI" content="../vrp/vrp_l2mc_cfg_0046.html">
<meta name="DC.Relation" scheme="URI" content="../vrp/vrp_l2mc_cfg_0048.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IGMP Snooping">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IGMP Snooping">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IGMP Snooping">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001130622108">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>Enabling IGMP Snooping SSM Mapping</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001130622108"></a><a name="EN-US_TASK_0000001130622108"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Enabling IGMP Snooping SSM Mapping</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001130622108__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>By configuring SSM mapping, you can create one-to-one mappings between multicast groups and multicast sources. SSM mapping can be used only in VLANs that run IGMP snooping v3.</p>
<p>Although SSM mapping takes effect only for IGMPv3 messages in a VLAN, a device does not convert IGMPv2 messages into IGMPv3 messages before sending them to router ports. If you want the device to convert IGMPv2 messages into IGMPv3 messages before sending them to the upstream device, configure IGMP snooping proxy or IGMP snooping Report suppression on the device.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001130622108__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enter the VLAN view.</span><p><pre class="screen"><a href="cmdqueryname=vlan"><b><span class="cmdname">vlan</span></b></a> <i><span class="varname">vlan-id</span></i></pre>
</p></li><li><span>Set the IGMP snooping version to 3 for the VLAN.</span><p><pre class="screen"><a href="cmdqueryname=igmp+snooping+version"><b><span class="cmdname">igmp snooping version</span></b></a> <strong><span>3</span></strong></pre>
<p>The default IGMP snooping version number is 2. However, IGMPv2 does not support SSM mapping.</p>
</p></li><li id="EN-US_TASK_0000001130622108__step1569134551124645"><span id="EN-US_TASK_0000001130622108__">Enable SSM mapping in the VLAN.</span><p><pre class="screen"><a href="cmdqueryname=igmp+snooping+ssm-mapping+enable"><b><span class="cmdname">igmp snooping ssm-mapping enable</span></b></a> [ <strong><span>policy</span></strong> <i><span class="varname">policy-name</span></i> ]</pre>
<p>By default, SSM mapping is disabled in a VLAN.</p>
</p></li><li><span>Configure the mapping between a multicast group and a multicast source.</span><p><p>The multicast group addresses specified in this step must be within the SSM group address range. For details about how to configure the SSM group address range, see <a href="vrp_l2mc_cfg_0046.html">(Optional) Configuring an SSM Group Address Range</a>.</p>
<ul><li>If the <strong><span>policy</span></strong> <i><span class="varname">policy-name</span></i> parameter is not specified in <a href="#EN-US_TASK_0000001130622108__step1569134551124645">4</a>, run the following command to configure mappings between multicast group addresses and multicast source addresses.<pre class="screen"><a href="cmdqueryname=igmp+snooping+ssm-mapping"><b><span class="cmdname">igmp snooping ssm-mapping</span></b></a> <i><span class="varname">group-address</span></i> { <i><span class="varname">group-mask</span></i> | <i><span class="varname">mask-length</span></i> } <i><span class="varname">source-address</span></i></pre>
</li><li>If the <strong><span>policy</span></strong> <i><span class="varname">policy-name</span></i> parameter is specified in <a href="#EN-US_TASK_0000001130622108__step1569134551124645">4</a>, run the following commands to enter the SSM mapping policy view and configure mappings between multicast group addresses and multicast source addresses.<pre class="screen"><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a>
<a href="cmdqueryname=ssm-mapping+policy"><b><span class="cmdname">ssm-mapping policy</span></b></a> <i><span class="varname">policy-name</span></i>
<a href="cmdqueryname=group"><b><span class="cmdname">group</span></b></a> <i><span class="varname">group-address</span></i> { <i><span class="varname">group-mask-length</span></i> | <i><span class="varname">group-mask</span></i> } <strong><span>source</span></strong> <i><span class="varname">source-address</span></i></pre>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The two configuration methods differ as follows:</p>
<p>The mappings configured in an SSM mapping policy view can be applied to multiple VLANs, whereas those configured in the VLAN view take effect only in the current VLAN. To apply the same mappings to multiple VLANs, you are advised to perform the configuration in the SSM mapping policy view.</p>
</div></div>
</li></ul>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen"><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../vrp/vrp_l2mc_cfg_0044.html">Configuring IGMP Snooping SSM Mapping
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../vrp/vrp_l2mc_cfg_0046.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../vrp/vrp_l2mc_cfg_0048.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>