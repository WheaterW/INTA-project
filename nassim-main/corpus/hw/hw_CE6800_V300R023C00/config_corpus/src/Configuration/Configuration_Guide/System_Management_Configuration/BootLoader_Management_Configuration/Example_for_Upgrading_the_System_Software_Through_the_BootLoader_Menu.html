
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Upgrading the System Software Through the BootLoader Menu">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_boot_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_boot_cfg_0004.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_boot_cfg_0007.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="BootLoader Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BootLoader Management">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001563884453">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Example for Upgrading the System Software Through the BootLoader Menu</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001563884453"></a><a name="EN-US_TASK_0000001563884453"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Upgrading the System Software Through the BootLoader Menu</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001563884453__1.3.1"></a><a name="1.3.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>The BootLoader menu enables you to upgrade the system software. This is useful if you cannot access the command line interface (CLI) through the console port or the system restarts repeatedly.</p>
<p>As shown in <a href="#EN-US_TASK_0000001563884453__fig176971549194019">Figure 1</a>, the serial port on a PC is connected to the console port on a device, and the network port on the PC is connected to the device's management Ethernet port. You can log in to the device through the terminal emulation software. The PC is configured as the FTP server, and the system software required for the upgrade is copied to the FTP working directory.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>To enhance security, you are advised to select SFTP as the FTP service type.</p>
<p>The actual command output varies depending on the device. The command outputs provided in this section are only examples.</p>
</div></div>
<div class="fignone" id="EN-US_TASK_0000001563884453__fig176971549194019"><a name="EN-US_TASK_0000001563884453__fig176971549194019"></a><a name="fig176971549194019"></a><span class="figcap"><b>Figure 1 </b>Connecting a PC to a device through a console port</span><br><span><img src="figure/en-us_image_0000001646681278.png" width="NaN" height="NaN"></span></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001563884453__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Restart the device. When the message <strong><span>Press Ctrl+B to enter BOOT menu</span></strong> is displayed during device startup, press <span class="menucascade"><b><span class="uicontrol">Ctrl+B</span></b></span> within 3 seconds to access the BootLoader main menu.</span><p><pre class="screen">Press Ctrl+B to enter BOOT menu: 3                                              
Info: The password is empty. For security purposes, change the password.        

New password:                           
Confirm password:                                                               
Warning: The bootloader password will be written to the device.                                                                     
Continue now? Yes(y) or No(n): y

The password is changed successfully.                                           

        Main Menu                                                               

    1. Default startup                                                          
    2. Serial submenu     
    3. Ethernet submenu                                                         
    4. Startup parameters submenu                                               
    5. List file                                                                
    6. Password manager submenu                                                 
    7. DFX submenu                                                             
    8. Reboot      

Enter your choice(1-8):</pre>
</p></li><li><span>Set FTP parameters on the device for setting up an SFTP connection to the PC.</span><p><pre class="screen">        Main Menu                                                               

    1. Default startup                                                          
    2. Serial submenu      
    3. Ethernet submenu                                                         
    4. Startup parameters submenu                                               
    5. List file                                                                
    6. Password manager submenu                                                 
    7. DFX submenu                                                             
    8. Reboot      

Enter your choice(1-8): <strong>3</strong>            //Access the password manager submenu.
          
        Ethernet submenu                                                        

    1. Update software                                                          
    2. Display parameters                                                       
    3. Modify parameters  
    0. Return                                                                   

Enter your choice(0-3): <strong>3</strong>             //Access the submenu for modifying parameters.
NOTE:
Net type define:
0(SFTP) 1(FTP) 2(TFTP)  
Please check network parameters:
ENTER = no change; '.' = clear; Ctrl+C = quit
FTP type(0:SFTP 1:FTP 2:TFTP) : 0                -   //Specify SFTP as the FTP service type.
Server IP address             : 192.168.1.12     -   //Set the server IP address.
Local IP address              : 192.168.1.110    -   //Set the IP address of the local device.
Local IP mask                 : 255.255.255.0    -   //Configure the IP address mask of the local device.
FTP username                  : root             -   //Set the username of the FTP server.</pre>
</p></li><li><span>Download the system software required for the upgrade from the server. The device then starts with the system software.</span><p><pre class="screen">        Ethernet submenu                                                        

    1. Update software                                                          
    2. Display parameters                                                       
    3. Modify parameters 
                                                       
    0. Return                                                                   

Enter your choice(0-3): <strong>1</strong>             //Access the update software submenu.

        Update software                                                         

    1. Update system software                                                   
    2. Update system software with disk format                                  
    0. Return                                                                   

Enter your choice(0-2): <strong>1</strong>             //Access the update system software submenu.

Current startup file is "software.cc".
Please input file name: <strong>softwarenew.cc</strong>             //Enter the name of the system software required for the upgrade.

Current patch file is "patchfile.PAT".
'.' = clear field; //Enter a period (.) and then press <strong>Enter</strong> to clear the patch.

Please input patch name:                            //Press <strong>Enter</strong> if patch update is not required.</pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001563884453__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>After the device starts, run the <strong>display version</strong> command in the CLI to check whether the device version is the target version.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_boot_cfg_0001.html">BootLoader Management Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_boot_cfg_0004.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="galaxy_boot_cfg_0007.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>