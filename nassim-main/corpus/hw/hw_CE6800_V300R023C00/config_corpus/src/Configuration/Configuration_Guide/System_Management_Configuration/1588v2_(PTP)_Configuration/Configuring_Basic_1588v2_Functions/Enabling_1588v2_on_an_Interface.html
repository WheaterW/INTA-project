
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Enabling 1588v2 on an Interface">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_1588v2_cfg_0011.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_1588v2_cfg_0014.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_1588v2_cfg_0017.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="1588v2 (PTP)">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="1588v2 (PTP)">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="1588v2 (PTP)">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001513158942">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Enabling 1588v2 on an Interface</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001513158942"></a><a name="EN-US_TASK_0000001513158942"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Enabling 1588v2 on an Interface</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001513158942__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>After 1588v2 is enabled globally, you must also enable 1588v2 on an interface to make 1588v2 functions take effect. In addition, you can configure the asymmetry delay correction value to be used by the interface for delay compensation on the 1588v2 network.</p>
<p>Perform the following steps on each 1588v2 device:</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001513158942__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enter the interface view.</span><p><pre class="screen"><strong>interface</strong><em> <i><span class="varname">interface-type</span></i> </em><em>interface-number</em></pre>
</p></li><li><span>Enable 1588v2 on the interface.</span><p><pre class="screen"><a href="cmdqueryname=ptp+enable"><b><span class="cmdname">ptp enable</span></b></a></pre>
<p>By default, 1588v2 is not enabled on an interface.</p>
</p></li><li><span>(Optional) Configure an asymmetry delay correction value for the interface to send 1588v2 messages.</span><p><pre class="screen"><a href="cmdqueryname=ptp+asymmetry-correction"><b><span class="cmdname">ptp asymmetry-correction</span></b></a> { <strong><span>negative</span></strong> <i><span class="varname">negative-asymmetry-correction-value</span></i> | <strong><span>positive</span></strong> <i><span class="varname">positive-asymmetry-correction-value</span></i> }</pre>
<p>By default, no asymmetry delay correction value is configured for an interface to send 1588v2 messages.</p>
</p></li><li><span>(Optional) Configure the mode in which a 1588v2 device uses clock synchronization packets to carry timestamps.</span><p><pre class="screen"><a href="cmdqueryname=ptp+clock-step"><b><span class="cmdname">ptp clock-step</span></b></a> { <strong><span>one-step</span></strong> | <strong><span>two-step</span></strong> }</pre>
<p>By default, packets carry timestamps in <strong>one-step</strong> mode.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001513158942__en-us_task_0228023023_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001513158942__en-us_task_0228023023_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0000001513158942__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Follow-up Procedure</h4>
<div class="p"><p>After configuring PTP on an interface, you can run the <a href="cmdqueryname=ptp+announce-drop+enable"><b><span class="cmdname">ptp announce-drop enable</span></b></a> command on the interface to configure the interface to drop Announce packets.</p>
<div class="p">Announce packets are used for PTP clock synchronization. When a user-side interface and the current interface meet clock synchronization requirements, you can configure the interface to drop Announce packets to retain the current master-slave hierarchy. After the interface receives Announce messages, it drops the messages and does not participate in establishing the master-slave hierarchy. This saves system resources.<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>By default, an interface does not drop Announce packets.</p>
</div></div>
</div>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_1588v2_cfg_0011.html">Configuring Basic 1588v2 Functions
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_1588v2_cfg_0014.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="galaxy_1588v2_cfg_0017.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>