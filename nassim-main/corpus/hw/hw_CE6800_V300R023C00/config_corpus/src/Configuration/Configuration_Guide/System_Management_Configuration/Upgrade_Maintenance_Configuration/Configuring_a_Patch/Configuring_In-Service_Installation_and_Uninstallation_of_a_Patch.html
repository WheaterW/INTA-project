
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring In-Service Installation and Uninstallation of a Patch">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="gx_upgrade_cfg_0021.html">
<meta name="DC.Relation" scheme="URI" content="gx_upgrade_cfg_0022.html">
<meta name="DC.Relation" scheme="URI" content="gx_upgrade_cfg_0024.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Upgrade Maintenance">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Upgrade Maintenance">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="Upgrade Maintenance">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001513049250">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring In-Service Installation and Uninstallation of a Patch</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001513049250"></a><a name="EN-US_TASK_0000001513049250"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring In-Service Installation and Uninstallation of a Patch</h1>
<div class="taskbody"><div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001513049250__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>Before configuring in-service installation and uninstallation of a patch, you have completed the following task:</p>
<ul><li><a href="gx_upgrade_cfg_0005.html">Prepare for upgrade maintenance</a>.</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001513049250__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>While a device is running, you may need to modify the device's system software. For example, you may need to remove system defects or add new functions based on service requirements. Configuring in-service installation of a patch helps you optimize software without interrupting device running.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Ensure that the uploaded files are correct by comparing the file sizes and dates.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001513049250__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Upload a patch file to the storage medium. For details, see "File System Management Configuration" in <em><span>Configuration Guide</span> &gt; Basic Configuration</em>. If the obtained software package is in the *.zip format, decompress the package and upload it.</span></li><li><span>Perform in-service patch installation.</span><p><pre class="screen"><a href="cmdqueryname=patch+load"><b><span class="cmdname">patch load </span></b></a><i><span class="varname">patch-name</span></i> <strong><span>all</span></strong> <strong><span>run</span></strong></pre>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>During patch installation, the device checks whether the patch version is consistent with the system software version. If they are not consistent, the device fails to install the patch.</li><li>For a non-incremental patch file, if a running patch file exists, the device displays a message indicating a failure to install the patch. In this case, run the <a href="cmdqueryname=patch+delete"><b><span class="cmdname">patch delete </span></b></a><strong><span>all</span></strong> command to delete the existing patch file.</li><li>This command can be used to install a hot or cold patch. After installing a cold patch, you need to restart the device for the patch to take effect. If you run the <a href="cmdqueryname=reset+patch-configure"><b><span class="cmdname">reset patch-configure </span></b></a><strong><span>next-startup</span></strong> command to delete the patch file from the device after the cold patch is installed, you do not need to restart the device.</li></ul>
</div></div>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001513049250__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><ul><li><p>Run the <a href="cmdqueryname=dir"><b><span class="cmdname">dir</span></b></a> <i><span class="varname">file-name</span></i> command to check whether the file information contains the name of the uploaded patch file (*.PAT).</p>
</li><li><p>Run the <a href="cmdqueryname=display+patch-information+verbose"><b><span class="cmdname">display patch-information verbose</span></b></a> command to check whether <strong>State</strong> is displayed as <strong>Running</strong>.</p>
</li><li><p>Run the <a href="cmdqueryname=display+startup"><b><span class="cmdname">display startup</span></b></a> command to check whether the displayed information is consistent with the file name of the installed patch.</p>
</li></ul>
</div>
<div class="postreq"><a name="EN-US_TASK_0000001513049250__1.3.5"></a><a name="1.3.5"></a><h4 class="sectiontitle">Follow-up Procedure</h4>
<div class="p"><p>If an exception occurs after a patch is installed, run the <a href="cmdqueryname=patch+delete"><b><span class="cmdname">patch delete </span></b></a><strong><span>all</span></strong> command to delete the patch file and uninstall the patch.</p>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="gx_upgrade_cfg_0021.html">Configuring a Patch
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="gx_upgrade_cfg_0022.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="gx_upgrade_cfg_0024.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>