
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Understanding BGP BMP">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_bgp_cfg_0121.html">
<meta name="DC.Relation" scheme="URI" content="vrp_bgp_cfg_0123.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001176743555">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<link rel="stylesheet" type="text/css" href="public_sys-resources/imagePopup.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/customQuery.js"></script>
<script language="javascript" type="text/javascript" src="public_sys-resources/imagePopup.js"></script>
<title>Understanding BGP BMP</title>
</head>
<body><a name="EN-US_CONCEPT_0000001176743555"></a><a name="EN-US_CONCEPT_0000001176743555"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Understanding BGP BMP</h1>
<div><div class="section"><h4 class="sectiontitle">Context</h4><p>The BGP Monitoring Protocol (BMP) can monitor the BGP running status and trace data of BGP routes on network devices in real time. The BGP running status includes the establishment and termination of peer relationships and update of routing information. The trace data of BGP routes indicates how BGP routes on a device are processed; for example, processing of the routes that match an import or export route-policy.</p>
<p>With BMP, a device can report its BGP running statistics to a monitoring server. This significantly improves monitoring efficiency compared with manually querying the BGP running status if BMP is not used.</p>
</div>
<div class="section"><h4 class="sectiontitle">BMP Message Types</h4><p>BMP sessions can be used to exchange Initiation, PU, RM, PD, SR, Termination, and ROFT messages. The reported information includes BGP routing information, BGP peer information, and device vendor and version information.</p>
<ul><li><p>Initiation message: reports to the monitoring server such information as the device vendor and software version.</p>
</li><li><p>PU message: notifies the monitoring server that a BGP peer relationship has been established.</p>
</li><li><p>RM message: sends to the monitoring server all routes received from BGP peers and notifies the server of route addition or deletion in real time.</p>
</li><li><p>PD message: notifies the monitoring server that a BGP peer relationship has been disconnected.</p>
</li><li><p>SR message: reports device running statistics to the monitoring server.</p>
</li><li><p>Termination message: reports to the monitoring server the cause of BMP session termination.</p>
</li><li>Route Policy and Attribute Trace (ROFT) message: used to report the trace data of routes to the monitoring server in real time.</li></ul>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>BMP sessions are unidirectional. Devices send messages to the monitoring server but ignore messages sent by the server.</p>
</div></div>
</div>
<div class="section"><h4 class="sectiontitle">Implementation</h4><p>In <a href="#EN-US_CONCEPT_0000001176743555__fig_dc_vrp_bgp_feature_003701">Figure 1</a>, TCP connections are established between the monitoring server and BGP devices. The BGP devices send unsolicited BMP messages to the monitoring server to report BGP running statistics. After receiving these BMP messages, the monitoring server parses them and displays the BGP running status in the monitoring view. By analyzing the headers in the BMP messages, the monitoring server can determine which BGP peers have advertised the routes carried in these messages.</p>
<p>When establishing a connection between a BGP device and a monitoring server, note the following guidelines:</p>
<ul><li>You can specify a port for the TCP connection between the BGP device and monitoring server.</li><li>One BGP device can connect to multiple monitoring servers, and one monitoring server can connect to multiple BGP devices.</li><li>A monitoring server can monitor all BGP peers or a specified one.</li><li>In each BMP instance, one BGP device can connect to multiple monitoring servers so that the servers can back up each other, improving reliability. In addition, different servers can be used to monitor routes from the same BGP peer in different address families, allowing each BGP service to be monitored by a different server.</li></ul>
<div class="fignone" id="EN-US_CONCEPT_0000001176743555__fig_dc_vrp_bgp_feature_003701"><a name="EN-US_CONCEPT_0000001176743555__fig_dc_vrp_bgp_feature_003701"></a><a name="fig_dc_vrp_bgp_feature_003701"></a><span class="figcap"><b>Figure 1 </b>Typical BMP networking</span><br><span><img class="imgResize" src="figure/en-us_image_0000001130624180.png" width="466.65793125000005" height="373.12734375" title="Click to enlarge"></span></div>
</div>
<div class="section"><h4 class="sectiontitle">Benefits</h4><p>BMP facilitates the monitoring of BGP running status and reports security threats in real time so that preventive measures can be taken promptly.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_bgp_cfg_0121.html">Configuring BGP BMP
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_bgp_cfg_0123.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>

<script language="JavaScript">
<!--
initImageViewer('.imgResize');
var msg_imageMax = "view original image";
var msg_imageClose = "close";
//--></script></body>
</html>