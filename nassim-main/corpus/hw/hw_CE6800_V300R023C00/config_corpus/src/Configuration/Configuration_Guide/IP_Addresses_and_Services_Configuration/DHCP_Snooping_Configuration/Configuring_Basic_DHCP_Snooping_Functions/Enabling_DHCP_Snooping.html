
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Enabling DHCP Snooping">
<meta name="abstract" content="">
<meta name="description" content="">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../toctopics/en-us_task_0000001563760653.html">
<meta name="DC.Relation" scheme="URI" content="../toctopics/en-us_task_0000001564000549.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="DHCP Snooping">
<meta name="featurename" content="VLAN">
<meta name="featurename" content="VLAN Mapping">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="DHCP Snooping">
<meta name="featurename" content="VLAN">
<meta name="featurename" content="VLAN Mapping">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="DHCP Snooping">
<meta name="featurename" content="VLAN">
<meta name="featurename" content="VLAN Mapping">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001513040322">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>Enabling DHCP Snooping</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001513040322"></a><a name="EN-US_TASK_0000001513040322"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Enabling DHCP Snooping</h1>
<div class="taskbody"><p></p>
<div class="context"><a name="EN-US_TASK_0000001513040322__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>On the network shown in <a href="#EN-US_TASK_0000001513040322__fig201551904532">Figure 1</a>, DeviceA is a Layer 2 access device that forwards DHCP request messages from the clients to the DHCP server. When you enable DHCP snooping on DeviceA, note the following:</p>
<ul><li>Before enabling DHCP snooping, you must run the <strong>dhcp enable</strong> command to enable DHCP on the device.</li><li>After DHCP snooping is enabled globally, you need to enable DHCP snooping on the interfaces (interface 1, interface 2, and interface 3 in the figure) connected to the clients or the VLAN (VLAN 10 in the figure) to which the interfaces belong.<p>If multiple clients belong to the same VLAN, you can enable DHCP snooping in this VLAN to simplify configurations.</p>
</li></ul>
<div class="fignone" id="EN-US_TASK_0000001513040322__fig201551904532"><a name="EN-US_TASK_0000001513040322__fig201551904532"></a><a name="fig201551904532"></a><span class="figcap"><b>Figure 1 </b>Network diagram of configuring basic DHCP snooping functions</span><br><span><img class="vsd" src="../images/en-us_image_0000001564120455.png" width="NaN" height="NaN"></span></div>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>Before configuring basic DHCP snooping functions, enable DHCP and DHCP snooping globally.</li><li>DHCP snooping does not support the BOOTP protocol. However, diskless workstations use this protocol. As such, diskless workstations cannot generate dynamic binding entries through DHCP snooping. IPSG and DAI are implemented based on binding entries. To use these functions on a diskless workstation, you need to run the <strong><a href="cmdqueryname=user-bind+static"><b><span class="cmdname">user-bind static</span></b></a></strong> command to configure static binding entries.</li></ul>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001513040322__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enable DHCP.</span><p><pre class="screen"><a href="cmdqueryname=dhcp+enable"><b><span class="cmdname">dhcp enable</span></b></a></pre>
<p>By default, DHCP is disabled on a device.</p>
</p></li><li><span>Enable DHCP snooping globally.</span><p><pre class="screen"><a href="cmdqueryname=dhcp+snooping+enable"><b><span class="cmdname">dhcp snooping enable</span></b></a></pre>
<p>By default, DHCP snooping is disabled on a device.</p>
</p></li><li><span>Enable DHCP snooping in the VLAN, BD, or interface view.</span><p><ul><li>Enter the VLAN view and enable DHCP snooping in the VLAN.<pre class="screen"><a href="cmdqueryname=vlan"><b><span class="cmdname">vlan</span></b></a> <i><span class="cmdqueryname">vlan-id</span></i>
<a href="cmdqueryname=dhcp+snooping+enable"><b><span class="cmdname">dhcp snooping enable</span></b></a>
<a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></pre>
<p>To enable DHCP snooping in multiple VLAN views in batches, run the <a href="cmdqueryname=dhcp+snooping+enable"><b><span class="cmdname">dhcp snooping enable</span></b></a> [ <a href="cmdqueryname=vlan"><b><span class="cmdname">vlan</span></b></a> { <i><span class="varname">vlan-id1</span></i> [ <a href="cmdqueryname=to"><b><span class="cmdname">to</span></b></a> <i><span class="varname">vlan-id2</span></i> ] } &amp;&lt;1-10&gt; ] command.</p>
</li><li>Enter the interface view and enable DHCP snooping on the interface.<pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i>
<strong>portswitch</strong>
<a href="cmdqueryname=dhcp+snooping+enable"><b><span class="cmdname">dhcp snooping enable</span></b></a>
<a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></pre>
</li><li>Enter the BD view and enable DHCP snooping in the BD.<pre class="screen"><a href="cmdqueryname=bridge-domain"><b><span class="cmdname">bridge-domain</span></b></a> <i><span class="varname">bd-id</span></i>
<a href="cmdqueryname=dhcp+snooping+enable"><b><span class="cmdname">dhcp snooping enable</span></b></a>
<a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></pre>
</li></ul>
</p><p><p>By default, DHCP snooping is disabled on a device.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001513040322__en-us_task_0228023023_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001513040322__en-us_task_0228023023_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../toctopics/en-us_task_0000001563760653.html">Configuring Basic DHCP Snooping Functions
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../toctopics/en-us_task_0000001564000549.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>