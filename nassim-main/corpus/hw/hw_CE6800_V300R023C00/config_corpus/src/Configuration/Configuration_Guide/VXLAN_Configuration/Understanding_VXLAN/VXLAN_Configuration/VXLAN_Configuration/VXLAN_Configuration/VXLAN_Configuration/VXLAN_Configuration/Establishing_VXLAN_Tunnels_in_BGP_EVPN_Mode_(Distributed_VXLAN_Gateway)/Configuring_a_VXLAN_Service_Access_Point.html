
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a VXLAN Service Access Point">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../dc/dc_vrp_vxlan_cfg_1066.html">
<meta name="DC.Relation" scheme="URI" content="../dc/dc_vrp_feature_vxlan_1039.html">
<meta name="DC.Relation" scheme="URI" content="../dc/dc_vrp_vxlan_cfg_1090.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="featurename" content="VXLAN">
<meta name="featuretype" content="VXLAN">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176664063">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>Configuring a VXLAN Service Access Point</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176664063"></a><a name="EN-US_TASK_0000001176664063"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a VXLAN Service Access Point</h1>
<div class="taskbody"><div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001176664063__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>If the simplified mode is used for configuration, complete <a href="../vrp/dc_vrp_vxlan_cfg_bdprofile01.html">Configuring a BD Profile in Simplified Mode</a>.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001176664063__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Layer 2 sub-interfaces used for service access on VXLAN networks can transmit various types of data packets depending on the configured encapsulation types. This type of sub-interface can transmit data packets through a BD after it is associated with the BD.</p>
<p>A Layer 2 sub-interface used as a service access point can have different encapsulation types configured to transmit various types of data packets. This type of sub-interface can transmit data packets through a BD after it is associated with the BD. <a href="dc_vrp_vxlan_cfg_1040a.html#EN-US_TASK_0000001176743947__en-us_task_0139427606_tab_1">Table 1</a> describes the encapsulation types.</p>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Traffic encapsulation types</caption><thead align="left"><tr id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_row1025590897124645"><th align="left" class="cellrowborder" valign="top" width="22.95%" id="mcps1.3.2.3.2.3.1.1" liSelected="liSelected"><p id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_p360730301124645">Traffic Encapsulation Type</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="77.05%" id="mcps1.3.2.3.2.3.1.2" liSelected="liSelected"><p id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_p305878058124645">Description</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_row1819009547124645"><td class="cellrowborder" valign="top" width="22.95%" headers="mcps1.3.2.3.2.3.1.1 "><p id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_p1796963713124645"><strong><span id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_cmdparmname1506596630124645">dot1q</span></strong></p>
</td>
<td class="cellrowborder" valign="top" width="77.05%" headers="mcps1.3.2.3.2.3.1.2 "><p id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_p11265162614331">In Layer 2 forwarding scenarios, this type of sub-interface can accept packets with multiple VLAN tags. In Layer 3 forwarding scenarios, this type of sub-interface can accept only double-tagged packets for the following: <span>CE6866, CE6860-SAN, CE6866K, CE6860-HAM, CE8851-32CQ8DQ-P, CE8850-SAN, CE8851K, CE8850-HAM</span>, CE6863H, CE6863H-K, CE6881H, CE6881H-K; it can accept only double- and triple-tagged packets for the following: <span>CE8855, CE8851-32CQ4BQ, CE6855-48XS8CQ, CE6885CE6885-SAN, CE6885-LL (standard forwarding mode), CE6885-T, CE6863E-48S8CQ</span>.</p>
<p id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_p225322819124645">If such a sub-interface receives single-tagged VLAN packets, it accepts only those packets whose VLAN tag matches the specified VLAN tag. If the sub-interface receives VLAN packets with double or more VLAN tags, it accepts only those packets whose outer VLAN tag matches the specified VLAN tag.</p>
<ul id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_ul492725076124645"><li id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_li967315319113">When performing VXLAN encapsulation on original packets, the sub-interface removes the outmost VLAN tags of these packets if it is not configured with dot1q transparent transmission and retains the inner and outer VLAN tags of these packets if it is configured with dot1q transparent transmission.</li><li id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_li16181371714">When performing VXLAN decapsulation on packets, the sub-interface adds specified VLAN tags to these packets if it is not configured with dot1q transparent transmission and retains the VLAN tags of these packets if it is configured with dot1q transparent transmission.</li></ul>
<div class="p" id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_p406098568124645">When setting the encapsulation type to <strong><span id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_cmdparmname1451135015512">dot1q</span></strong>, note the following:<ul id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_ul408876476124645"><li id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_li78671253191716">The VLAN ID encapsulated by a Layer 2 sub-interface cannot be the same as that permitted by the Layer 2 main interface of the sub-interface.</li><li id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_li244503917124645">The VLAN IDs encapsulated by a Layer 2 sub-interface and a Layer 3 sub-interface cannot be the same.</li><li id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_li2110402321124645">The VLAN ID ranges specified for different dot1q Layer 2 sub-interfaces of the same main interface cannot overlap.</li></ul>
</div>
<div class="note" id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_note1975821595814"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_p117581515195819">Dot1q sub-interfaces bound to the same BD must have the same traffic behavior type. On the same VXLAN network, the traffic behavior types of dot1q sub-interfaces in the same BD but on different devices must also be the same.</p>
</div></div>
</td>
</tr>
<tr id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_row831935072124645"><td class="cellrowborder" valign="top" width="22.95%" headers="mcps1.3.2.3.2.3.1.1 "><p id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_p266090760124645"><strong><span id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_cmdparmname1126450266124645">untag</span></strong></p>
</td>
<td class="cellrowborder" valign="top" width="77.05%" headers="mcps1.3.2.3.2.3.1.2 "><p id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_p227857767124645">This type of sub-interface accepts only packets that do not carry VLAN tags.</p>
<ul id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_ul1465487801124645"><li id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_li1920564568124645">When performing VXLAN encapsulation on original packets, the sub-interface does not add any VLAN tags to them.</li><li id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_li429507041124645">When performing VXLAN decapsulation on packets, the sub-interface removes the VLAN tags before forwarding the packets if the inner packets carry one or two VLAN tags and transparently transmits the packets if the packets carry more than two VLAN tags.</li></ul>
<div class="p" id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_p214405511124645">When setting the encapsulation type to <strong><span id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_cmdparmname11645202713411">untag</span></strong>, note the following:<ul id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_ul1678074773124645"><li id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_li2109393670124645">Ensure that the corresponding physical interface of the Layer 2 sub-interface does not have any configuration, and that it is removed from the default VLAN.</li><li id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_li1409852209124645">Untagged Layer 2 sub-interfaces can be created only on Layer 2 physical interfaces and Eth-Trunk interfaces.</li><li id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_li1128504324124645">Only one untagged Layer 2 sub-interface can be created on a main interface.</li><li id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_li35218581213">After an untagged sub-interface is bound to a BD, a dot1q transparent transmission sub-interface (with the <a href="cmdqueryname=rewrite+no-action"><b><span class="cmdname" id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_cmdname1397562217266">rewrite no-action</span></b></a> command configuration) or QinQ transparent transmission sub-interface (without the <a href="cmdqueryname=rewrite+pop+double"><b><span class="cmdname" id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_cmdname1897652215265">rewrite pop double</span></b></a> command configuration) can no longer be bound to the BD. Similarly, if such a dot1q or QinQ sub-interface is bound to a BD, an untagged sub-interface can no longer be bound to the BD.</li></ul>
</div>
</td>
</tr>
<tr id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_row852408576124645"><td class="cellrowborder" valign="top" width="22.95%" headers="mcps1.3.2.3.2.3.1.1 "><p id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_p1525335016124645"><strong><span id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_cmdparmname1793319673124645">qinq</span></strong></p>
</td>
<td class="cellrowborder" valign="top" width="77.05%" headers="mcps1.3.2.3.2.3.1.2 "><p id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_p187431436145610">In Layer 2 forwarding scenarios, this type of sub-interface can accept packets with multiple VLAN tags. In Layer 3 forwarding scenarios, this type of sub-interface can accept only double-tagged packets for the following: <span>CE6866, CE6860-SAN, CE6866K, CE6860-HAM, CE8851-32CQ8DQ-P, CE8850-SAN, CE8851K, CE8850-HAM</span>, CE6863H, CE6863H-K, CE6881H, CE6881H-K; it can accept only double- and triple-tagged packets for the following: <span>CE8855, CE8851-32CQ4BQ, CE6855-48XS8CQ, CE6885, CE6885-SAN, CE6885-LL (standard forwarding mode), CE6885-T, CE6863E-48S8CQ</span>.</p>
<ul id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_ul915337104124645"><li id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_li341211474512">When performing VXLAN encapsulation on original packets, the sub-interface retains all VLAN tags of the packets if it is configured with QinQ transparent transmission and removes the outermost two VLAN tags if it is not configured with QinQ transparent transmission.</li><li id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_li134123479517">When performing VXLAN decapsulation on packets, the sub-interface directly forwards the packets without changing the VLAN tags if it is configured with QinQ transparent transmission and adds specified double VLAN tags to the packets before forwarding them if it is not configured with QinQ transparent transmission.</li></ul>
<div class="p" id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_p11318219134">When a Layer 2 sub-interface configured with the encapsulation type of <strong id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_b110154091210">default</strong>, dot1q transparent transmission (with the <a href="cmdqueryname=rewrite+no-action"><b><span class="cmdname" id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_cmdname1231815192312">rewrite no-action</span></b></a> command configuration), or QinQ transparent transmission (without the <a href="cmdqueryname=rewrite+pop+double"><b><span class="cmdname" id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_cmdname382317453125">rewrite pop double</span></b></a> command configuration) is bound to a BD, this BD does not support VBDIF interfaces or ARP broadcast suppression.<div class="note" id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_en-us_cliref_0139428167_note1183803525214204"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_en-us_cliref_0139428167_p1897338867214204">QinQ sub-interfaces bound to the same BD must have the same traffic behavior type. On the same VXLAN network, the traffic behavior types of QinQ sub-interfaces in the same BD but on different devices must also be the same.</p>
</div></div>
</div>
<p id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_p1881396004124645">The outer VLAN ID encapsulated for a QinQ Layer 2 sub-interface cannot be the same as the default VLAN ID or that allowed by the corresponding Layer 2 main interface.</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_row933833957124645"><td class="cellrowborder" valign="top" width="22.95%" headers="mcps1.3.2.3.2.3.1.1 "><p id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_p2052238032124645"><strong><span id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_cmdparmname1229749357124645">default</span></strong></p>
</td>
<td class="cellrowborder" valign="top" width="77.05%" headers="mcps1.3.2.3.2.3.1.2 "><p id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_p1762712418124645">This type of sub-interface accepts all packets, regardless of whether they carry VLAN tags.</p>
<p id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_p1280356158124645">For VXLAN packet encapsulation or decapsulation, this type of sub-interface does not perform any VLAN tag-related action (tag addition, replacement, or removal) on the original packets.</p>
<div class="p" id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_p126276943124645">The <strong><span id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_cmdparmname17673923195810">default</span></strong> traffic encapsulation type has the following restrictions:<ul id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_ul152393944124645"><li id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_li687567442124645">The main interface where the involved sub-interface resides cannot be added to any VLAN.</li><li id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_li1166566420124645">Only Layer 2 physical interfaces and Eth-Trunk interfaces can have <strong><span id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_cmdparmname897532310319">default</span></strong> Layer 2 sub-interfaces created.</li><li id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_en-us_task_0139427606_li259573442124645">Only one default Layer 2 sub-interface can be created on a main interface. After a default Layer 2 sub-interface is created, other types of Layer 2 sub-interfaces cannot be created on the interface.</li></ul>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>When receiving a double-tagged VLAN packet, a device preferentially selects a QinQ sub-interface to process the packet. If no QinQ sub-interface matches the packet, the device selects a dot1q sub-interface. For example, assume that both a QinQ sub-interface and a dot1q sub-interface are configured, VLAN ID 10 is configured for the dot1q sub-interface, and VLAN IDs 10 and 20 are configured as the outer VLAN ID and inner VLAN ID, respectively, for the QinQ sub-interface. In this case, if a packet with the outer VLAN ID 10 and inner VLAN ID 20 is received, the QinQ sub-interface is preferentially selected to process the packet. If a packet with the outer VLAN ID 10 and an inner VLAN other than 20 is received, the dot1q sub-interface is selected to process the packet.</p>
</div></div>
<p><a href="#EN-US_TASK_0000001176664063__table5290164311710">Table 2</a> and <a href="#EN-US_TASK_0000001176664063__table11150163212192">Table 3</a> describe the mutual exclusiveness between two Layer 2 sub-interfaces to be bound to the same BD.</p>
<ul><li id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_li107396312206">N: The two Layer 2 sub-interfaces cannot be bound to the same BD.</li><li id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_li18424115200">Y: The two Layer 2 sub-interfaces can be bound to the same BD.</li></ul>

<div class="tableBorder"><a name="EN-US_TASK_0000001176664063__table5290164311710"></a><a name="table5290164311710"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TASK_0000001176664063__table5290164311710" frame="border" border="1" rules="all"><caption><b>Table 2 </b>Mutual exclusiveness between two Layer 2 sub-interfaces belonging to the same interface and to be bound to the same BD</caption><thead align="left"><tr id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_row139043718517"><th align="left" class="cellrowborder" valign="top" width="15.413082616523303%" id="mcps1.3.2.7.2.8.1.1" liSelected="liSelected"><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p159041671058">Layer 2 Sub-interface Type</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="15.413082616523303%" id="mcps1.3.2.7.2.8.1.2" liSelected="liSelected"><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p139041978515">Default</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="15.413082616523303%" id="mcps1.3.2.7.2.8.1.3" liSelected="liSelected"><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p199041174513">Untagged</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="15.413082616523303%" id="mcps1.3.2.7.2.8.1.4" liSelected="liSelected"><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p090415718510">Dot1q VLAN Tag Termination </p>
</th>
<th align="left" class="cellrowborder" valign="top" width="11.162232446489298%" id="mcps1.3.2.7.2.8.1.5" liSelected="liSelected"><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p195159504322">Dot1q Transparent Transmission </p>
</th>
<th align="left" class="cellrowborder" valign="top" width="11.772354470894179%" id="mcps1.3.2.7.2.8.1.6" liSelected="liSelected"><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p49044710516">QinQ VLAN Tag Termination </p>
</th>
<th align="left" class="cellrowborder" valign="top" width="15.413082616523303%" id="mcps1.3.2.7.2.8.1.7" liSelected="liSelected"><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p1115185714614">QinQ Transparent Transmission </p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_row1290417711519"><td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.1 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p4904187351">Default</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.2 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p17904137953">N</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.3 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p36341933275">N</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.4 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p3571175012710">N</p>
</td>
<td class="cellrowborder" valign="top" width="11.162232446489298%" headers="mcps1.3.2.7.2.8.1.5 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p14515195053212">N</p>
</td>
<td class="cellrowborder" valign="top" width="11.772354470894179%" headers="mcps1.3.2.7.2.8.1.6 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p138831882089">N</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.7 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p98972181084">N</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_row87665171765"><td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.1 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p20766517268">Untagged</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.2 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p56972271378">N</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.3 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p176376339717">N</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.4 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p125747501271">Y</p>
</td>
<td class="cellrowborder" valign="top" width="11.162232446489298%" headers="mcps1.3.2.7.2.8.1.5 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p11515125043217">N</p>
</td>
<td class="cellrowborder" valign="top" width="11.772354470894179%" headers="mcps1.3.2.7.2.8.1.6 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p128831811818">Y</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.7 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p168970182819">N</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_row9929231564"><td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.1 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p29296318616">Dot1q VLAN Tag Termination </p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.2 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p67011327778">N</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.3 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p664016339713">Y</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.4 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p1657795020711">Y</p>
</td>
<td class="cellrowborder" valign="top" width="11.162232446489298%" headers="mcps1.3.2.7.2.8.1.5 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p7515125003211">N</p>
</td>
<td class="cellrowborder" valign="top" width="11.772354470894179%" headers="mcps1.3.2.7.2.8.1.6 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p148831583816">Y</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.7 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p108976181189">N</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_row149531246103114"><td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.1 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p18953346163113">Dot1q Transparent Transmission </p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.2 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p179531646203111">N</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.3 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p195318469313">N</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.4 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p189535464312">N</p>
</td>
<td class="cellrowborder" valign="top" width="11.162232446489298%" headers="mcps1.3.2.7.2.8.1.5 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p911271313100">N</p>
</td>
<td class="cellrowborder" valign="top" width="11.772354470894179%" headers="mcps1.3.2.7.2.8.1.6 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p29531646113116">N</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.7 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p395316466314">Y</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_row1691310481168"><td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.1 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p189138481069">QinQ VLAN Tag Termination </p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.2 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p11704102713713">N</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.3 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p116436331970">Y</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.4 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p45807509717">Y</p>
</td>
<td class="cellrowborder" valign="top" width="11.162232446489298%" headers="mcps1.3.2.7.2.8.1.5 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p75151950173210">N</p>
</td>
<td class="cellrowborder" valign="top" width="11.772354470894179%" headers="mcps1.3.2.7.2.8.1.6 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p68838817814">Y</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.7 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p14897191819815">N</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_row537413815717"><td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.1 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p151251911370">QinQ Transparent Transmission </p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.2 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p97071127579">N</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.3 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p164513317717">N</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.4 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p1658305014720">N</p>
</td>
<td class="cellrowborder" valign="top" width="11.162232446489298%" headers="mcps1.3.2.7.2.8.1.5 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p14516125023213">Y</p>
</td>
<td class="cellrowborder" valign="top" width="11.772354470894179%" headers="mcps1.3.2.7.2.8.1.6 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p1288313812819">N</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523303%" headers="mcps1.3.2.7.2.8.1.7 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p1889717181683">Y</p>
</td>
</tr>
</tbody>
</table>
</div>

<div class="tableBorder"><a name="EN-US_TASK_0000001176664063__table11150163212192"></a><a name="table11150163212192"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TASK_0000001176664063__table11150163212192" frame="border" border="1" rules="all"><caption><b>Table 3 </b>Mutual exclusiveness between two Layer 2 sub-interfaces belonging to different interfaces and to be bound to the same BD</caption><thead align="left"><tr id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_row257416431188"><th align="left" class="cellrowborder" valign="top" width="15.413082616523305%" id="mcps1.3.2.8.2.8.1.1" liSelected="liSelected"><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p24850138911">Layer 2 Sub-interface Type</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="15.413082616523305%" id="mcps1.3.2.8.2.8.1.2" liSelected="liSelected"><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p12485113795">Default</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="15.413082616523305%" id="mcps1.3.2.8.2.8.1.3" liSelected="liSelected"><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p64852131594">Untagged</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="15.173034606921384%" id="mcps1.3.2.8.2.8.1.4" liSelected="liSelected"><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p24851113997">Dot1q VLAN Tag Termination </p>
</th>
<th align="left" class="cellrowborder" valign="top" width="10.9621924384877%" id="mcps1.3.2.8.2.8.1.5" liSelected="liSelected"><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p11712144373511">Dot1q Transparent Transmission </p>
</th>
<th align="left" class="cellrowborder" valign="top" width="12.2124424884977%" id="mcps1.3.2.8.2.8.1.6" liSelected="liSelected"><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p1648511319915">QinQ VLAN Tag Termination </p>
</th>
<th align="left" class="cellrowborder" valign="top" width="15.413082616523305%" id="mcps1.3.2.8.2.8.1.7" liSelected="liSelected"><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p1948571318910">QinQ Transparent Transmission </p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_row257415431285"><td class="cellrowborder" valign="top" width="15.413082616523305%" headers="mcps1.3.2.8.2.8.1.1 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p165816231699">Default</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523305%" headers="mcps1.3.2.8.2.8.1.2 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p145757434820">Y</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523305%" headers="mcps1.3.2.8.2.8.1.3 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p1251110461797">Y</p>
</td>
<td class="cellrowborder" valign="top" width="15.173034606921384%" headers="mcps1.3.2.8.2.8.1.4 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p141117563918">Y</p>
</td>
<td class="cellrowborder" valign="top" width="10.9621924384877%" headers="mcps1.3.2.8.2.8.1.5 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p17712343163512">Y</p>
</td>
<td class="cellrowborder" valign="top" width="12.2124424884977%" headers="mcps1.3.2.8.2.8.1.6 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p1735716116103">N</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523305%" headers="mcps1.3.2.8.2.8.1.7 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p3719131218104">N</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_row1957511431883"><td class="cellrowborder" valign="top" width="15.413082616523305%" headers="mcps1.3.2.8.2.8.1.1 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p8658523990">Untagged</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523305%" headers="mcps1.3.2.8.2.8.1.2 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p857520431281">Y</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523305%" headers="mcps1.3.2.8.2.8.1.3 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p75118464917">Y</p>
</td>
<td class="cellrowborder" valign="top" width="15.173034606921384%" headers="mcps1.3.2.8.2.8.1.4 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p1311185614915">Y</p>
</td>
<td class="cellrowborder" valign="top" width="10.9621924384877%" headers="mcps1.3.2.8.2.8.1.5 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p771219433355">N</p>
</td>
<td class="cellrowborder" valign="top" width="12.2124424884977%" headers="mcps1.3.2.8.2.8.1.6 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p113574116103">Y</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523305%" headers="mcps1.3.2.8.2.8.1.7 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p14719151221010">N</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_row657511439815"><td class="cellrowborder" valign="top" width="15.413082616523305%" headers="mcps1.3.2.8.2.8.1.1 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p865813239915">Dot1q VLAN Tag Termination </p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523305%" headers="mcps1.3.2.8.2.8.1.2 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p85756438815">Y</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523305%" headers="mcps1.3.2.8.2.8.1.3 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p17511174613911">Y</p>
</td>
<td class="cellrowborder" valign="top" width="15.173034606921384%" headers="mcps1.3.2.8.2.8.1.4 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p112175612913">Y</p>
</td>
<td class="cellrowborder" valign="top" width="10.9621924384877%" headers="mcps1.3.2.8.2.8.1.5 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p11712943203519">N</p>
</td>
<td class="cellrowborder" valign="top" width="12.2124424884977%" headers="mcps1.3.2.8.2.8.1.6 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p5357816104">Y</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523305%" headers="mcps1.3.2.8.2.8.1.7 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p67194126108">N</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_row145051737103520"><td class="cellrowborder" valign="top" width="15.413082616523305%" headers="mcps1.3.2.8.2.8.1.1 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p5506133720356">Dot1q Transparent Transmission </p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523305%" headers="mcps1.3.2.8.2.8.1.2 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p450616376358">Y</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523305%" headers="mcps1.3.2.8.2.8.1.3 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p150618371359">N</p>
</td>
<td class="cellrowborder" valign="top" width="15.173034606921384%" headers="mcps1.3.2.8.2.8.1.4 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p250633715357">N</p>
</td>
<td class="cellrowborder" valign="top" width="10.9621924384877%" headers="mcps1.3.2.8.2.8.1.5 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p20712144320359">Y</p>
</td>
<td class="cellrowborder" valign="top" width="12.2124424884977%" headers="mcps1.3.2.8.2.8.1.6 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p8506163793512">N</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523305%" headers="mcps1.3.2.8.2.8.1.7 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p8506203719356">Y</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_row55751843185"><td class="cellrowborder" valign="top" width="15.413082616523305%" headers="mcps1.3.2.8.2.8.1.1 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p14658192312917">QinQ VLAN Tag Termination </p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523305%" headers="mcps1.3.2.8.2.8.1.2 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p185755431785">N</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523305%" headers="mcps1.3.2.8.2.8.1.3 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p135113461916">Y</p>
</td>
<td class="cellrowborder" valign="top" width="15.173034606921384%" headers="mcps1.3.2.8.2.8.1.4 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p11128561794">Y</p>
</td>
<td class="cellrowborder" valign="top" width="10.9621924384877%" headers="mcps1.3.2.8.2.8.1.5 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p177121431356">N</p>
</td>
<td class="cellrowborder" valign="top" width="12.2124424884977%" headers="mcps1.3.2.8.2.8.1.6 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p735713131018">Y</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523305%" headers="mcps1.3.2.8.2.8.1.7 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p17719161212105">N</p>
</td>
</tr>
<tr id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_row175760431489"><td class="cellrowborder" valign="top" width="15.413082616523305%" headers="mcps1.3.2.8.2.8.1.1 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p36586232914">QinQ Transparent Transmission </p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523305%" headers="mcps1.3.2.8.2.8.1.2 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p45761243781">N</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523305%" headers="mcps1.3.2.8.2.8.1.3 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p175114461498">N</p>
</td>
<td class="cellrowborder" valign="top" width="15.173034606921384%" headers="mcps1.3.2.8.2.8.1.4 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p171214561898">N</p>
</td>
<td class="cellrowborder" valign="top" width="10.9621924384877%" headers="mcps1.3.2.8.2.8.1.5 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p14712184323516">Y</p>
</td>
<td class="cellrowborder" valign="top" width="12.2124424884977%" headers="mcps1.3.2.8.2.8.1.6 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p203580117107">N</p>
</td>
<td class="cellrowborder" valign="top" width="15.413082616523305%" headers="mcps1.3.2.8.2.8.1.7 "><p id="EN-US_TASK_0000001176664063__en-us_concept_0000001176743963_p7719171213105">Y</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>If one or more VLANs are used for service access, you can bind these VLANs to a BD to enable transmission of data packets through the BD.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001176664063__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>(Optional) Enable underlay network-based load balancing for VXLAN BUM packets. (Supported only by the <span>CE6863H, CE6863H-K, CE6881H, and CE6881H-K</span>.)</span><p><pre class="screen" id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_screen11325159448"><a href="cmdqueryname=assign+forward+nvo3+bum+ecmp+hash+enable"><b><span class="cmdname" id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_cmdname14284173894419">assign forward nvo3 bum ecmp hash enable</span></b></a></pre>
<p id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_p10465181619457">By default, VXLAN BUM packets cannot be balanced based on the underlay network.</p>
<div class="note" id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_note21944014294"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_ul246519093112"><li id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_li1585814114371">BUM traffic load balancing over VXLAN tunnels cannot be used together with IGMP snooping over VXLAN or IPv4 Layer 3 multicast over VXLAN. That is, the <a href="cmdqueryname=assign+forward+nvo3+bum+ecmp+hash+enable"><b><span class="cmdname" id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_cmdname4575134714370">assign forward nvo3 bum ecmp hash enable</span></b></a> command is mutually exclusive with the <a href="cmdqueryname=igmp+snooping+enable"><b><span class="cmdname" id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_cmdname68311145133811">igmp snooping enable</span></b></a> command in the system view and the <a href="cmdqueryname=igmp+enable"><b><span class="cmdname" id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_cmdname6505550193817">igmp enable</span></b></a> command in the VBDIF interface view.</li><li id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_li15465150103111">For the CE6863H, CE6863H-K, CE6881H-K, and CE6881H, the <a href="cmdqueryname=assign+forward+nvo3+bum+ecmp+hash+enable"><b><span class="cmdname" id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_cmdname936082122915">assign forward nvo3 bum ecmp hash enable</span></b></a> command is mutually exclusive with the <strong id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_b1574272917"><a href="cmdqueryname=local-preference+enhanced"><b><span class="cmdname" id="EN-US_TASK_0000001176664063__en-us_task_0000001130784290_cmdname10638127172911">local-preference enhanced</span></b></a></strong> command in the ECMP load balancing view.</li></ul>
</div></div>
</p></li><li><span>Create a BD and enter its view.</span><p><pre class="screen"><a href="cmdqueryname=bridge-domain"><b><span class="cmdname">bridge-domain</span></b></a> <i><span class="varname">bd-id</span></i></pre>
<p>By default, no BD is created.</p>
</p></li><li><span>(Optional) Configure a description for the BD.</span><p><pre class="screen"><a href="cmdqueryname=description"><b><span class="cmdname">description</span></b></a> <i><span class="varname">description</span></i></pre>
</p></li><li><span>Configure a service access point.</span><p><ul><li>Configure a Layer 2 sub-interface as a service access point.<ol type="a"><li>Return to the system view.<pre class="screen"><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></pre>
</li><li>(Optional) Configure VXLAN access through Layer 2 sub-interfaces on an STP network.<pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type interface-number</span></i>
<a href="cmdqueryname=loop-protect+l2-subinterface+enable"><b><span class="cmdname">loop-protect l2-subinterface enable</span></b></a>
<a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></pre>
<p>When Layer 2 sub-interfaces on a legacy STP network are used for VXLAN access, loops may occur on the STP network. To prevent loops, run the <a href="cmdqueryname=loop-protect+l2-subinterface+enable"><b><span class="cmdname">loop-protect l2-subinterface enable</span></b></a> command on the main interface where Layer 2 sub-interfaces reside. This enables Layer 2 sub-interfaces to inherit the blocked/forwarding status of the main interface.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Before running the <strong>loop-protect l2-subinterface enable</strong> command, configure STP on the main interface.</p>
</div></div>
</li><li>Create a Layer 2 sub-interface and enter its view.<pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type interface-number.subnum</span></i> <strong><span>mode l2</span></strong></pre>
<p>By default, no Layer 2 sub-interface is created.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Before running this command, ensure that the Layer 2 main interface on which a Layer 2 sub-interface is to be created does not have the <a href="cmdqueryname=port+link-type"><b><span class="cmdname">port link-type</span></b></a> <strong><span>dot1q-tunnel</span></strong> command configuration. If this configuration exists, run the <a href="cmdqueryname=undo+port+link-type"><b><span class="cmdname">undo port link-type</span></b></a> command to delete the configuration.</p>
</div></div>
</li><li>Configure an encapsulation type to determine the type of data packet that can pass through the Layer 2 sub-interface.<p>Dot1q type:</p>
<pre class="screen"><a href="cmdqueryname=encapsulation"><b><span class="cmdname">encapsulation</span></b></a> <strong><span>dot1q</span></strong> [ <strong><span>vid</span></strong> <i><span class="varname">pe-vid</span></i> ]</pre>
<p>QinQ type:</p>
<pre class="screen"><span><a href="cmdqueryname=encapsulation"><b><span class="cmdname">encapsulation</span></b></a> <strong><span>qinq</span></strong> [ <strong><span>vid</span></strong> <i><span class="varname">pe-vid</span></i> <strong><span>ce-vid</span></strong> <i><span class="varname">ce-vid</span></i></span> ]</pre>
<p>Untagged type:</p>
<pre class="screen"><a href="cmdqueryname=encapsulation"><b><span class="cmdname">encapsulation</span></b></a> <strong><span>untag</span></strong></pre>
<p>Default type:</p>
<pre class="screen"><a href="cmdqueryname=encapsulation"><b><span class="cmdname">encapsulation</span></b></a> <strong><span>default</span></strong></pre>
<p>By default, no encapsulation type is configured.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>You are advised to configure the same traffic encapsulation type on the endpoint devices of a tunnel.</p>
</div></div>
</li><li>(Optional) Configure a dot1q sub-interface to transparently transmit received packets.<pre class="screen"><a href="cmdqueryname=rewrite+no-action"><b><span class="cmdname">rewrite no-action</span></b></a></pre>
<p>By default, a Layer 2 dot1q sub-interface removes VLAN tags from received packets, instead of transparently transmitting them.</p>
</li><li>(Optional) Configure a dot1q sub-interface to change the VLAN tags to be added in the decapsulation process.<pre class="screen"><a href="cmdqueryname=rewrite+egress+vid"><b><span class="cmdname">rewrite egress vid</span></b></a> <i><span class="varname">vlan-id</span></i></pre>
<p>By default, when packets are decapsulated on a Layer 2 sub-interface that uses dot1q encapsulation, the VLAN tag to be added is the same as the VLAN tag to be removed when packets are encapsulated. You can run this command to change the VLAN tag to be added in the decapsulation process, so that packets sent and received by the Layer 2 sub-interface use different VLAN tags.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>This command can be run only on Layer 2 dot1q VLAN tag termination sub-interfaces. It cannot be run on Layer 2 dot1q transparent transmission sub-interfaces (with the <a href="cmdqueryname=rewrite+no-action"><b><span class="cmdname">rewrite no-action</span></b></a> command configuration).</p>
<p>The value of <strong><span>vid</span></strong> in this command must be different from <strong><span>vid</span></strong> specified in the <a href="cmdqueryname=encapsulation"><b><span class="cmdname">encapsulation</span></b></a> <strong><span>dot1q</span></strong> <strong><span>vid</span></strong> <i><span class="varname">pe-vid</span></i> command.</p>
</div></div>
</li><li>(Optional) Configure a QinQ sub-interface to remove double VLAN tags from received packets.<pre class="screen"><a href="cmdqueryname=rewrite+pop+double"><b><span class="cmdname">rewrite pop double</span></b></a></pre>
<p>By default, a Layer 2 QinQ sub-interface does not remove double VLAN tags from received packets, and transparently transmits the packets without any modification.</p>
<p>This step is mandatory if the current access point needs to forward Layer 3 service traffic.</p>
</li><li>Add a Layer 2 sub-interface to a BD so that the sub-interface can transmit data packets through this BD.<pre class="screen"><a href="cmdqueryname=bridge-domain"><b><span class="cmdname">bridge-domain</span></b></a> <i><span class="varname">bd-id</span></i></pre>
<p>By default, a Layer 2 sub-interface is not added to any BD.</p>
</li></ol>
</li><li>Configure a VLAN as a service access point (one at a time).<ol type="a"><li>Enter the view of a created BD.<pre class="screen"><a href="cmdqueryname=bridge-domain"><b><span class="cmdname">bridge-domain</span></b></a> <i><span class="varname">bd-id</span></i></pre>
</li><li>(Optional) Bind the BD to a BD profile.<pre class="screen"><a href="cmdqueryname=binding+bridge-domain+profile"><b><span class="cmdname">binding bridge-domain profile</span></b></a> <i><span class="varname">profileId</span></i></pre>
<p>Perform this step when the simplified mode is used for configuration. The BD is then automatically bound to a VLAN, and you do not need to perform Step c.</p>
</li><li><div class="p">Bind one or more VLANs to the BD.<pre class="screen"><a href="cmdqueryname=l2+binding+vlan"><b><span class="cmdname">l2 binding vlan</span></b></a> <i><span class="varname">vlan-id</span></i></pre>
</div>
<p>By default, VLANs are not bound to any BD.</p>
</li></ol>
</li><li>Configure VLANs as service access points in batches.<ol type="a"><li>Enter the BD range view.<pre class="screen"><a href="cmdqueryname=bridge-domain+range"><b><span class="cmdname">bridge-domain range</span></b></a> { <i><span class="varname">bdIdBgn</span></i> [ to <i><span class="varname">bdIdEnd</span></i> ] } &amp;&lt;1-10&gt;</pre>
</li><li>Bind the BD range to a BD profile.<pre class="screen"><a href="cmdqueryname=binding+bridge-domain+profile"><b><span class="cmdname">binding bridge-domain profile</span></b></a> <i><span class="varname">profileId</span></i></pre>
</li></ol>
</li></ul>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176664063__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176664063__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../dc/dc_vrp_vxlan_cfg_1066.html">Establishing VXLAN Tunnels in BGP EVPN Mode (Distributed VXLAN Gateway)
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../dc/dc_vrp_feature_vxlan_1039.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../dc/dc_vrp_vxlan_cfg_1090.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>