
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Static BFD for IS-IS">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_isis_ipv4_cfg_0053.html">
<meta name="DC.Relation" scheme="URI" content="vrp_isis_ipv4_cfg_0054.html">
<meta name="DC.Relation" scheme="URI" content="vrp_isis_ipv4_cfg_0074.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IS-IS">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001130624358">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring Static BFD for IS-IS</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001130624358"></a><a name="EN-US_TASK_0000001130624358"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Static BFD for IS-IS</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001130624358__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>IS-IS detects neighbor state changes through IIH exchanges. By default, if no response is received to three consecutive IIHs within a specified period (30 seconds by default), a neighbor is considered down. For networks that require fast convergence and zero packet loss, IS-IS cannot meet link fault detection requirements. To address this problem, you can configure BFD for IS-IS.</p>
<p>BFD includes static BFD and dynamic BFD. Static BFD is easy to control and flexible to deploy. To save memory and ensure the reliability of key links, you can deploy static BFD on these links. Static BFD helps detect link faults rapidly to achieve fast route convergence.</p>
<p>To configure a static BFD session, you need to manually set parameters for the BFD session, including the local and remote discriminators.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Currently, BFD sessions cannot detect route switching. If a change in the bound peer IP address causes a route to switch to another link, the BFD session is renegotiated only when the original link fails.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001130624358__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enable BFD globally.</span><p><pre class="screen"><a href="cmdqueryname=bfd"><b><span class="cmdname">bfd</span></b></a></pre>
</p></li><li><span>Return to the system view.</span><p><pre class="screen"><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></pre>
</p></li><li><span>Create a binding between a BFD for IS-IS session and a peer IP address, and then enter the BFD session view.</span><p><pre class="screen"><a href="cmdqueryname=bfd"><b><span class="cmdname">bfd</span></b></a> <i><span class="varname">session-name</span></i> <strong><span>bind</span></strong> <strong><span>peer-ip</span></strong> <i><span class="varname">peer-ip</span></i> [ <strong><span>interface</span></strong> <span>{ <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> } </span>]</pre>
</p><p><p>If <strong><span>peer-ip</span></strong> and <strong><span>interface</span></strong> are specified, BFD only monitors a single-hop link with <strong><span>interface</span></strong> as the outbound interface and <strong><span>peer-ip</span></strong> as the next hop address.</p>
</p></li><li><span>Configure discriminators.</span><p><ul><li>Configure a local discriminator.<pre class="screen"><a href="cmdqueryname=discriminator"><b><span class="cmdname">discriminator</span></b></a> <strong><span>local</span></strong> <i><span class="varname">discr-value</span></i></pre>
</li><li>Configure a remote discriminator.<pre class="screen"><a href="cmdqueryname=discriminator"><b><span class="cmdname">discriminator</span></b></a> <strong><span>remote</span></strong> <i><span class="varname">discr-value</span></i></pre>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The <strong><span>local</span></strong> <i><span class="varname">discr-value</span></i> on the local device must be the same as the <strong><span>remote</span></strong> <i><span class="varname">discr-value</span></i> on the remote device, and the <strong><span>remote</span></strong> <i><span class="varname">discr-value</span></i> on the local device must be the same as the <strong><span>local</span></strong> <i><span class="varname">discr-value</span></i> on the remote device. Otherwise, no BFD sessions can be established between the two devices. In addition, the local and remote discriminators cannot be modified after being configured.</p>
</div></div>
</li></ul>
</p></li><li><span>Return to the system view.</span><p><pre class="screen"><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></pre>
</p></li><li><span>Enter the interface view.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></pre>
</p></li><li><span>Switch the interface working mode to Layer 3.</span><p><pre class="screen"><a href="cmdqueryname=undo+portswitch"><b><span class="cmdname">undo portswitch</span></b></a></pre>
<p> Determine whether to perform this step based on the current interface working mode.</p>
</p></li><li><span>Enable static BFD for IS-IS on the interface.</span><p><pre class="screen"><a href="cmdqueryname=isis+bfd+static"><b><span class="cmdname">isis bfd static</span></b></a></pre>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001130624358__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001130624358__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001130624358__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><ul><li>Run the <a href="cmdqueryname=display+isis+bfd"><b><span class="cmdname">display isis bfd</span></b></a> [ <i><span class="varname">process-id</span></i> | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] <strong><span>session</span></strong> { <strong><span>peer</span></strong> <i><span class="varname"> peer-address</span></i> | <strong><span>all</span></strong> } command to check BFD session information.</li><li>Run the <a href="cmdqueryname=display+isis+interface"><b><span class="cmdname">display isis interface</span></b></a> <strong><span>verbose</span></strong> command to check the configurations of BFD for IS-IS on interfaces.</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_isis_ipv4_cfg_0053.html">Configuring Static BFD for IS-IS
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_isis_ipv4_cfg_0054.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_isis_ipv4_cfg_0074.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>