
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a Default IPv4 Static Route">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_ipv4-static-route_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="vrp_ipv4-static-route_cfg_0026.html">
<meta name="DC.Relation" scheme="URI" content="vrp_ipv4-static-route_cfg_0031.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IPv4 Static Route">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv4 Static Route">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176662499">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring a Default IPv4 Static Route</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176662499"></a><a name="EN-US_TASK_0000001176662499"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a Default IPv4 Static Route</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001176662499__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Default static routes are special routes that can be manually configured. Default static routes are used only when packets to be forwarded do not match any entry in the routing table. The destination address and subnet mask of the IPv4 default route are all 0s in the routing table.</p>
<p>If the destination address of a packet does not match any entry in the routing table, a device selects the default route to forward this packet. If no default route exists and the destination address of the packet does not match any entry in the routing table, the packet is discarded. An Internet Control Message Protocol (ICMP) message is then sent, informing the source host that the destination host or network is unreachable.</p>
<p>When you configure a static route using the <strong>ip route-static</strong> command and set the destination address and mask to all 0s (0.0.0.0 and 0.0.0.0) in the command, a default route is configured. This simplifies the network configuration. On the network shown in <a href="#EN-US_TASK_0000001176662499__fig93041029142419">Figure 1</a>, the next hop of packets sent from DeviceA to networks 3, 4, and 5 is DeviceB. Therefore, you can configure a default route on DeviceA to replace three static routes destined for networks 3, 4, and 5. Similarly, only one default route to DeviceB needs to be configured on DeviceC to replace the three static routes destined for networks 1, 2, and 3.</p>
<div class="fignone" id="EN-US_TASK_0000001176662499__fig93041029142419"><a name="EN-US_TASK_0000001176662499__fig93041029142419"></a><a name="fig93041029142419"></a><span class="figcap"><b>Figure 1 </b>Network diagram of static routes</span><br><span><img class="vsd" src="figure/en-us_image_0000001176662531.png" width="NaN" height="NaN"></span></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001176662499__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Perform either of the following operations to configure a default IPv4 static route.</span><p><ul><li>Configure a default IPv4 static route on the public network.<pre class="screen"><a href="cmdqueryname=ip+route-static"><b><span class="cmdname">ip route-static</span></b></a> <strong><span>0.0.0.0 0.0.0.0</span></strong><i><span class="varname"> nexthop-address</span></i>
<a href="cmdqueryname=ip+route-static"><b><span class="cmdname">ip route-static </span></b></a><strong><span>0.0.0.0 0.0.0.0</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i>} [ <i><span class="varname">nexthop-address</span></i> ]</pre>
</li><li>Configure a default IPv4 static route in a specified VPN instance.<pre class="screen"><a href="cmdqueryname=ip+route-static+vpn-instance"><b><span class="cmdname">ip route-static vpn-instance</span></b></a> <i><span class="varname">vpn-source-name </span></i><strong><span>0.0.0.0 0.0.0.0</span></strong> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> }
<a href="cmdqueryname=ip+route-static+vpn-instance"><b><span class="cmdname">ip route-static vpn-instance</span></b></a> <i><span class="varname">vpn-source-name </span></i><strong><span>0.0.0.0 0.0.0.0</span></strong><i><span class="varname"> nexthop-address</span></i>
<a href="cmdqueryname=ip+route-static+vpn-instance"><b><span class="cmdname">ip route-static vpn-instance</span></b></a> <i><span class="varname">vpn-source-name </span></i><strong><span>0.0.0.0 0.0.0.0</span></strong> <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-destination-name</span></i></pre>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The CE6885-LL in low latency mode does not support the preceding commands.</p>
</div></div>
</li></ul>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176662499__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176662499__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001176662499__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+ip+routing-table"><b><span class="cmdname">display ip routing-table</span></b></a> command to check information about the route with the prefix of 0.0.0.0 in the IPv4 routing table.</p>
<p></p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_ipv4-static-route_cfg_0001.html">IPv4 Static Route Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_ipv4-static-route_cfg_0026.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_ipv4-static-route_cfg_0031.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>