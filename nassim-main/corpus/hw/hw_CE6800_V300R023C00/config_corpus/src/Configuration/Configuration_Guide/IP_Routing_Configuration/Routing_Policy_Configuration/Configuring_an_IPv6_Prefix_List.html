
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Configuring an IPv6 Prefix List">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_route-policy_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="vrp_route-policy_cfg_0004.html">
<meta name="DC.Relation" scheme="URI" content="vrp_route-policy_cfg_0006.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Routing Policy">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Routing Policy">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TOPIC_0000001697353745">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring an IPv6 Prefix List</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TOPIC_0000001697353745"></a><a name="EN-US_TOPIC_0000001697353745"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an IPv6 Prefix List</h1>
<div><div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The CE6885-LL in low latency mode does not support this configuration.</p>
</div></div>
<div class="section"><h4 class="sectiontitle">Context</h4><p>IP prefix lists are classified as IPv4 prefix lists that apply to IPv4 routes or IPv6 prefix lists that apply to IPv6 routes. IPv4 prefix lists and IPv6 prefix lists share the same implementation. For details, see <a href="vrp_route-policy_cfg_0004.html">Configuring an IPv4 Prefix List</a>. <a href="#EN-US_TOPIC_0000001697353745__table7854510144616">Table 1</a> describes the wildcard address-based IPv6 route matching rules.</p>

<div class="tableBorder"><a name="EN-US_TOPIC_0000001697353745__table7854510144616"></a><a name="table7854510144616"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000001697353745__table7854510144616" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Implementation of wildcard address-based route matching rules (IPv6)</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="11.53%" id="mcps1.3.2.3.2.5.1.1" liSelected="liSelected"><p>Whether <i><span class="varname">greater-equal</span></i> and <i><span class="varname">less-equal</span></i> Are Configured</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="23.810000000000002%" id="mcps1.3.2.3.2.5.1.2" liSelected="liSelected"><p>Condition</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="20.8%" id="mcps1.3.2.3.2.5.1.3" liSelected="liSelected"><p>Matching Rule</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="43.86%" id="mcps1.3.2.3.2.5.1.4" liSelected="liSelected"><p>Command Example</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" rowspan="2" valign="top" width="11.53%" headers="mcps1.3.2.3.2.5.1.1 "><p>Neither <i><span class="varname">greater-equal</span></i> nor <i><span class="varname">less-equal</span></i> is configured.</p>
</td>
<td class="cellrowborder" valign="top" width="23.810000000000002%" headers="mcps1.3.2.3.2.5.1.2 "><p>After the processing, <i><span class="varname">ipv6-address</span></i> and <i><span class="varname">masklen</span></i> are :: and 0, respectively.</p>
</td>
<td class="cellrowborder" valign="top" width="20.8%" headers="mcps1.3.2.3.2.5.1.3 "><p>Matches only the default IPv6 route.</p>
</td>
<td class="cellrowborder" valign="top" width="43.86%" headers="mcps1.3.2.3.2.5.1.4 "><p>An IPv6 prefix list cannot be configured if the prefix and mask do not match. For example:</p>
<pre class="screen">ip ipv6-prefix aa index 10 permit 2001:db8::1 0
<strong>Error</strong>: Failed to add the address prefix list ::/0, because the destination address and mask do not match.</pre>
<p>Correct configuration:</p>
<pre class="screen">ip ipv6-prefix aa index 10 permit :: 0</pre>
<p>Matching rule: Only the default IPv6 route is permitted.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.2.3.2.5.1.1 "><p>After the processing, <i><span class="varname">ipv6-address</span></i> and <i><span class="varname">masklen</span></i> are :: and <em>X</em> (non-0 value), respectively.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.2.3.2.5.1.2 "><p>Matches all IPv6 routes with the mask length of <em>X</em>.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.2.3.2.5.1.3 "><p>Pre-processing:</p>
<pre class="screen">ip ipv6-prefix aa index 10 permit ::1:1 96</pre>
<p>Post-processing:</p>
<pre class="screen">ip ipv6-prefix aa index 10 permit :: 96</pre>
<p>Matching rule: The IPv6 routes with the mask length of 96 are permitted.</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="2" valign="top" width="11.53%" headers="mcps1.3.2.3.2.5.1.1 "><p><i><span class="varname">greater-equal</span></i> is configured, but <i><span class="varname">less-equal</span></i> is not.</p>
</td>
<td class="cellrowborder" valign="top" width="23.810000000000002%" headers="mcps1.3.2.3.2.5.1.2 "><p>After the processing, <i><span class="varname">ipv6-address</span></i> and <i><span class="varname">masklen</span></i> are :: and 0, respectively.</p>
</td>
<td class="cellrowborder" valign="top" width="20.8%" headers="mcps1.3.2.3.2.5.1.3 "><p>Matches all the IPv6 routes whose mask lengths are within the range of <i><span class="varname">greater-equal</span></i> to 128.</p>
</td>
<td class="cellrowborder" valign="top" width="43.86%" headers="mcps1.3.2.3.2.5.1.4 "><p>An IPv6 prefix list cannot be configured if the prefix and mask do not match. For example:</p>
<pre class="screen">ip ipv6-prefix aa index 10 permit 2001:db8::1 0 greater-equal 16
<strong>Error</strong>: Failed to add the address prefix list ::/0, because the destination address and mask do not match.</pre>
<p>Correct configuration:</p>
<pre class="screen">ip ipv6-prefix aa index 10 permit :: 0 greater-equal 16 less-equal 128</pre>
<p>Matching rule: The IPv6 routes whose mask lengths are within the range of 16 to 128 are permitted.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.2.3.2.5.1.1 "><p>After the processing, <i><span class="varname">ipv6-address</span></i> and <i><span class="varname">masklen</span></i> are :: and <em>X</em> (non-0 value), respectively.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.2.3.2.5.1.2 "><p>Matches all the IPv6 routes whose mask lengths are within the range of <i><span class="varname">greater-equal</span></i> to 128.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.2.3.2.5.1.3 "><p>Pre-processing:</p>
<pre class="screen">ip ipv6-prefix aa index 10 permit ::1:1 96 greater-equal 120</pre>
<p>Post-processing:</p>
<pre class="screen">ip ipv6-prefix aa index 10 permit :: 96 greater-equal 120 less-equal 128</pre>
<p>Matching rule: The IPv6 routes whose mask lengths are within the range of 120 to 128 are permitted.</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="2" valign="top" width="11.53%" headers="mcps1.3.2.3.2.5.1.1 "><p><i><span class="varname">greater-equal</span></i> is not configured, but <i><span class="varname">less-equal</span></i> is configured.</p>
</td>
<td class="cellrowborder" valign="top" width="23.810000000000002%" headers="mcps1.3.2.3.2.5.1.2 "><p>After the processing, <i><span class="varname">ipv6-address</span></i> and <i><span class="varname">masklen</span></i> are :: and 0, respectively.</p>
</td>
<td class="cellrowborder" valign="top" width="20.8%" headers="mcps1.3.2.3.2.5.1.3 "><p>Matches all the IPv6 routes whose mask lengths are within the range of 0 to <i><span class="varname">less-equal</span></i>.</p>
</td>
<td class="cellrowborder" valign="top" width="43.86%" headers="mcps1.3.2.3.2.5.1.4 "><p>An IPv6 prefix list cannot be configured if the prefix and mask do not match. For example:</p>
<pre class="screen">ip ipv6-prefix aa index 10 permit 2001:db8::1 0 less-equal 120
<strong>Error</strong>: Failed to add the address prefix list ::/0, because the destination address and mask do not match.</pre>
<p>Correct configuration:</p>
<pre class="screen">ip ipv6-prefix aa index 10 permit :: 0 less-equal 120</pre>
<p>Matching rule: The IPv6 routes whose mask lengths are within the range of 0 to 120 are permitted.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.2.3.2.5.1.1 "><p>After the processing, <i><span class="varname">ipv6-address</span></i> and <i><span class="varname">masklen</span></i> are :: and <em>X</em> (non-0 value), respectively.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.2.3.2.5.1.2 "><p>Matches all the IPv6 routes whose mask lengths are within the range of <em>X</em> to <i><span class="varname">less-equal</span></i>.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.2.3.2.5.1.3 "><p>Pre-processing:</p>
<pre class="screen">ip ipv6-prefix aa index 10 permit ::1:1 96 less-equal 120</pre>
<p>Post-processing:</p>
<pre class="screen">ip ipv6-prefix aa index 10 permit :: 96 greater-equal 96 less-equal 120</pre>
<p>Matching rule: The IPv6 routes whose mask lengths are within the range of 96 to 120 are permitted.</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="2" valign="top" width="11.53%" headers="mcps1.3.2.3.2.5.1.1 "><p>Both <i><span class="varname">greater-equal</span></i> and <i><span class="varname">less-equal</span></i> are configured.</p>
</td>
<td class="cellrowborder" valign="top" width="23.810000000000002%" headers="mcps1.3.2.3.2.5.1.2 "><p>After the processing, <i><span class="varname">ipv6-address</span></i> and <i><span class="varname">masklen</span></i> are :: and 0, respectively.</p>
</td>
<td class="cellrowborder" valign="top" width="20.8%" headers="mcps1.3.2.3.2.5.1.3 "><p>Matches all the IPv6 routes whose mask lengths are within the range of <i><span class="varname">greater-equal</span></i> to <i><span class="varname">less-equal</span></i>.</p>
</td>
<td class="cellrowborder" valign="top" width="43.86%" headers="mcps1.3.2.3.2.5.1.4 "><p>An IPv6 prefix list cannot be configured if the prefix and mask do not match. For example:</p>
<pre class="screen">ip ipv6-prefix aa index 10 permit 2001:db8::1 0 greater-equal 5 less-equal 30
<strong>Error</strong>: Failed to add the address prefix list ::/0, because the destination address and mask do not match.</pre>
<p>Correct configuration:</p>
<pre class="screen">ip ipv6-prefix aa index 10 permit :: 0 greater-equal 5 less-equal 30</pre>
<p>Matching rule: The IPv6 routes whose mask lengths are within the range of 5 to 30 are permitted.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.2.3.2.5.1.1 "><p>After the processing, <i><span class="varname">ipv6-address</span></i> and <i><span class="varname">masklen</span></i> are :: and <em>X</em> (non-0 value), respectively.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.2.3.2.5.1.2 "><p>Matches all the IPv6 routes whose mask lengths are within the range of <i><span class="varname">greater-equal</span></i> to <i><span class="varname">less-equal</span></i>.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.2.3.2.5.1.3 "><p>Pre-processing:</p>
<pre class="screen">ip ipv6-prefix aa index 10 permit ::1:1 96 greater-equal 120 less-equal 124</pre>
<p>Post-processing:</p>
<pre class="screen">ip ipv6-prefix aa index 10 permit :: 96 greater-equal 120 less-equal 124</pre>
<p>Matching rule: The IPv6 routes whose mask lengths are within the range of 120 to 124 are permitted.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section"><h4 class="sectiontitle">Procedure</h4><ol><li>Enter the system view.<pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</li><li>Configure an IPv6 prefix list.<pre class="screen"><a href="cmdqueryname=ip+ipv6-prefix"><b><span class="cmdname">ip ipv6-prefix</span></b></a> <i><span class="varname">ipv6-prefix-name</span></i> [ <strong><span>index</span></strong> <i><span class="varname">index-number</span></i> ] <i><span class="varname">matchMode</span></i>  <i><span class="varname">ipv6-address</span></i> <i><span class="varname">masklen</span></i> [ <strong><span>match-network</span></strong> ] [ <strong><span>greater-equal</span></strong> <i><span class="varname">greater-equal-value</span></i> ] [ <strong><span>less-equal</span></strong> <i><span class="varname">less-equal-value</span></i> ]</pre>
</li><li>(Optional) Configure a description for the IPv6 prefix list.<pre class="screen"><a href="cmdqueryname=ip+ipv6-prefix"><b><span class="cmdname">ip ipv6-prefix</span></b></a> <i><span class="varname">ip-prefix-name</span></i> <strong><span>description</span></strong> <i><span class="varname">text</span></i></pre>
</li><li>Commit the configuration.<pre class="screen"><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></pre>
</li></ol>
</div>
<div class="section"><h4 class="sectiontitle">Example</h4><p>An IPv6 prefix list is identified by its name, and each IPv6 prefix list contains one or multiple entries. Each entry can independently specify a matching range in the form of a network prefix and is identified by an index. An IPv6 prefix list named <strong>abcd</strong> is used as an example.</p>
<pre class="screen">#
ip ipv6-prefix abcd index 10 permit 2001:db8:1::1 64
ip ipv6-prefix abcd index 20 permit 2001:db8:2::2 64</pre>
<p>During route matching, the system checks the entries identified by indexes in ascending order. If a route matches an entry, it is no longer matched against the next entry.</p>
<p>By default, the device denies all unmatched routes. If all entries are in <strong><span>deny</span></strong> mode, all routes will be denied by the IPv6 prefix list. In this case, after multiple entries are specified in deny mode, define an entry <strong>permit :: 0 less-equal 128</strong> to permit all the other IPv6 routes.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If more than one prefix entry is defined, at least one of them must be in <strong>permit</strong> mode.</p>
</div></div>
</div>
<div class="section"><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+ip+ipv6-prefix"><b><span class="cmdname">display ip ipv6-prefix</span></b></a> [ <i><span class="varname">pf6Name</span></i> ] command to check information about the specified IPv6 prefix list.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_route-policy_cfg_0001.html">Routing Policy Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_route-policy_cfg_0004.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_route-policy_cfg_0006.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>