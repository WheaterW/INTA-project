
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Supporting Resident Scripts">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_ops_cfg_0018.html">
<meta name="DC.Relation" scheme="URI" content="vrp_ops_cfg_0047.html">
<meta name="DC.Relation" scheme="URI" content="vrp_ops_cfg_0049.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="OPS">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="OPS">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="OPS">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TOPIC_0000001654962776">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Supporting Resident Scripts</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TOPIC_0000001654962776"></a><a name="EN-US_TOPIC_0000001654962776"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Supporting Resident Scripts</h1>
<div><div class="section"><h4 class="sectiontitle">Application Phase</h4><p>Execution phase</p>
</div>
<div class="section"><h4 class="sectiontitle">Function Prototype</h4><p>result1_value = _ops.wait()</p>
</div>
<div class="section"><h4 class="sectiontitle">Parameter Description</h4><p>None</p>
</div>
<div class="section"><h4 class="sectiontitle">Return Values</h4><p><strong>result1_value</strong> in the function prototype indicates the return value.</p>
<p>First return value: The value 0 indicates that the action is executed successfully, and a non-zero value indicates that the action times out.</p>
</div>
<div class="section"><h4 class="sectiontitle">Usage Description</h4><p>In most circumstances, a process needs to be started before and stopped after a Python script is executed. It takes some time to start and stop a process. If the subscription event in the script is triggered for multiple times, the device needs to start a process before executing the action defined in the subscription phase and stop the process after the action is complete. In this case, you can use a resident script to reduce the time a device waits for a process to start or stop.</p>
<p>Resident scripts (also called high-speed scripts) are usually used together with loop counters. After a subscription event is matched, the device starts a process when it performs the action for the first time. After this action is complete, the process is suspended and the number of cycles decreases by one. When the event is matched again, the next action is triggered, and the number of cycles is decreased by one again. This step is repeated until the number of cycles in the script reaches 0, at which point the process is stopped.</p>
<p>The API described in <a href="vrp_ops_cfg_0049.html">Returning Event Execution Results</a> returns the script processing result and suspends the script until the next event occurs. This implements resident script processing.</p>
</div>
<div class="section"><h4 class="sectiontitle">Usage Examples</h4><p>The device starts a process, and then the process enters the waiting state to wait for the next matching of the subscribed event.</p>
<pre class="screen">test.py 
import ops 
def ops_execute(_ops): 
       a, description = _ops.context.save("wait1",'ac1') 
       _ops.result(1) 
       _ops.wait() 
       a, description = _ops.context.save("wait2",'ac2') 
       return 0</pre>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_ops_cfg_0018.html">OPS Capability Set
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_ops_cfg_0047.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_ops_cfg_0049.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>