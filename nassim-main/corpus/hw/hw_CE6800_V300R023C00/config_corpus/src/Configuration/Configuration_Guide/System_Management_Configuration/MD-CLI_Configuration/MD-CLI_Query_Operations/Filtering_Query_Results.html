
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Filtering Query Results">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../toctopics/en-us_topic_0000001512834630.html">
<meta name="DC.Relation" scheme="URI" content="../toctopics/en-us_topic_0000001513034198.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="MD-CLI">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MD-CLI">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="MD-CLI">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TOPIC_0000001564114273">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>Filtering Query Results</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TOPIC_0000001564114273"></a><a name="EN-US_TOPIC_0000001564114273"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Filtering Query Results</h1>
<div><p>The MD-CLI allows you to use the pipe character (|) or the <strong>grep</strong> command to filter the query result, helping you quickly find the required information.</p>
<p>For example, when you run the <strong>display</strong> command to check information about an interface, you can use the regular expression (that is, specify the filtering rule) to filter the names of all interfaces.</p>
<pre class="screen">[ADMIN@HUAWEI]
MDCLI&gt;<strong> display </strong>ifm/interfaces<strong> </strong>|<strong> grep </strong>'"name":'
      "name": "NULL0",
      "name": "MEth0/0/0",
      "name": "Virtual-if0",
      "name": "LoopBack2147483647",</pre>
<p>The format of the <strong>grep</strong> command word is as follows:</p>
<pre class="screen"><strong>grep</strong> TEXT<strong> </strong>[<strong>-A</strong> number] [ <strong>-B</strong> number ] <strong>-c </strong><strong>-i </strong><strong>-q</strong> <strong>-v</strong></pre>
<p><a href="#EN-US_TOPIC_0000001564114273__table32447048">Table 1</a> describes the filtering options.</p>

<div class="tableBorder"><a name="EN-US_TOPIC_0000001564114273__table32447048"></a><a name="table32447048"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000001564114273__table32447048" frame="border" border="1" rules="all"><caption><b>Table 1 </b>grep filtering options and description</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="24.240000000000002%" id="mcps1.3.7.2.3.1.1" liSelected="liSelected"><p><strong>Filtering Option</strong></p>
</th>
<th align="left" class="cellrowborder" valign="top" width="75.76%" id="mcps1.3.7.2.3.1.2" liSelected="liSelected"><p><strong>Filtering Description</strong></p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="24.240000000000002%" headers="mcps1.3.7.2.3.1.1 "><p>TEXT</p>
</td>
<td class="cellrowborder" valign="top" width="75.76%" headers="mcps1.3.7.2.3.1.2 "><p>Specifies the content to be matched. The value is a regular expression.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="24.240000000000002%" headers="mcps1.3.7.2.3.1.1 "><p>-A number</p>
</td>
<td class="cellrowborder" valign="top" width="75.76%" headers="mcps1.3.7.2.3.1.2 "><p>Specifies the number of lines and displays the data in the Number line after the matched content.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="24.240000000000002%" headers="mcps1.3.7.2.3.1.1 "><p>-B number</p>
</td>
<td class="cellrowborder" valign="top" width="75.76%" headers="mcps1.3.7.2.3.1.2 "><p>Specifies the number of lines and displays the data in the Number line before the matched content.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="24.240000000000002%" headers="mcps1.3.7.2.3.1.1 "><p>-c</p>
</td>
<td class="cellrowborder" valign="top" width="75.76%" headers="mcps1.3.7.2.3.1.2 "><p>Displays the number of rows in the output result after filtering conditions are used.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="24.240000000000002%" headers="mcps1.3.7.2.3.1.1 "><p>-i</p>
</td>
<td class="cellrowborder" valign="top" width="75.76%" headers="mcps1.3.7.2.3.1.2 "><p>Specifies that the case is ignored. If this parameter is not specified, the case is exactly matched.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="24.240000000000002%" headers="mcps1.3.7.2.3.1.1 "><p>-q</p>
</td>
<td class="cellrowborder" valign="top" width="75.76%" headers="mcps1.3.7.2.3.1.2 "><p>Specifies that the command output is not displayed in split-screen mode.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="24.240000000000002%" headers="mcps1.3.7.2.3.1.1 "><p>-v</p>
</td>
<td class="cellrowborder" valign="top" width="75.76%" headers="mcps1.3.7.2.3.1.2 "><p>Specifies the reverse match for filtering output.</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section"><h4 class="sectiontitle">Regular Expression</h4><p>A regular expression defines a string matching mode. It consists of common characters (such as letters from a to z) and special characters (also called metacharacters). The regular expression functions as a template to match a character pattern with the searched character string.</p>
<div class="p">A regular expression provides the following functions:<ul><li><p>Checks and obtains the substring that matches a certain rule in a character string.</p>
</li><li><p>Replaces the character string based on the matching rule.</p>
</li></ul>
</div>
<p>A regular expression consists of the following characters:</p>
<ul><li><p>Common characters</p>
<p>Common characters match themselves in a string. Common characters include all uppercase and lowercase letters, digits, punctuations, and special characters. For example, a matches the letter "a" in "abc", 10 matches the digits "10" in "10.113.25.155", and @ matches the symbol "@" in "xxx@xxx.com".</p>
</li><li><p>Special characters</p>
<p>Special characters, together with common characters, match complicated or special character strings. <a href="#EN-US_TOPIC_0000001564114273__table82631959105920">Table 2</a> describes special characters and their functions.</p>

<div class="tableBorder"><a name="EN-US_TOPIC_0000001564114273__table82631959105920"></a><a name="table82631959105920"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000001564114273__table82631959105920" frame="border" border="1" rules="all"><caption><b>Table 2 </b>Special characters and their functions</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="14.08%" id="mcps1.3.8.5.2.3.2.4.1.1" liSelected="liSelected"><p>Special Character</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="42.96%" id="mcps1.3.8.5.2.3.2.4.1.2" liSelected="liSelected"><p>Function</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="42.96%" id="mcps1.3.8.5.2.3.2.4.1.3" liSelected="liSelected"><p>Example</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="14.08%" headers="mcps1.3.8.5.2.3.2.4.1.1 "><p>.</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.2 "><p>Matches any single character.</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.3 "><p>a.b can match aab, abb, acb, and so on.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="14.08%" headers="mcps1.3.8.5.2.3.2.4.1.1 "><p>*</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.2 "><p>Matches a sub-regular expression that it follows for zero or multiple times.</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.3 "><p>ab* can match a, ab, abc, and so on.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="14.08%" headers="mcps1.3.8.5.2.3.2.4.1.1 "><p>\+</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.2 "><p>Matches a sub-regular expression that it follows once or multiple times.</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.3 "><p>ab\+ can match ab, abb, abc, and so on.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="14.08%" headers="mcps1.3.8.5.2.3.2.4.1.1 "><p>^</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.2 "><p>Matches the start position of a string.</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.3 "><p>^ab can match abcd but not efab.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="14.08%" headers="mcps1.3.8.5.2.3.2.4.1.1 "><p>$</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.2 "><p>Matches the end position of a string.</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.3 "><p>bc$ can match abc but not abcd.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="14.08%" headers="mcps1.3.8.5.2.3.2.4.1.1 "><p>\(expr\)</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.2 "><p>The expr expression enclosed by <strong>\(</strong> and <strong>\)</strong> is a subexpression.</p>
<p>If expr is empty, it is equivalent to an empty string and can match any character string.</p>
<p>If <strong>\(</strong> has no pairing <strong>\)</strong> or vice versa, the string is invalid.</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.3 "><p>\(ab\) matches abcab.</p>
<p>a\(\)b matches abcd.</p>
<p>a\(b or a\)b is an invalid string.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="14.08%" headers="mcps1.3.8.5.2.3.2.4.1.1 "><p>x\|y</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.2 "><p>Matches x or y.</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.3 "><p>ab\|ef matches ab or ef.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="14.08%" headers="mcps1.3.8.5.2.3.2.4.1.1 "><p>[xyz]</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.2 "><p>Matches any character contained in the regular expression.</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.3 "><p>[abc] matches characters a, b, and c.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="14.08%" headers="mcps1.3.8.5.2.3.2.4.1.1 "><p>[^xyz]</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.2 "><p>Matches characters other than x, y, and z.</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.3 "><p>[^abc] matches any characters excluding a, b, and c.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="14.08%" headers="mcps1.3.8.5.2.3.2.4.1.1 "><p>[a-z]</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.2 "><p>Matches any character within a specified range in the regular expression.</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.3 "><p>[a-z] matches any lowercase letter within the specified range.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="14.08%" headers="mcps1.3.8.5.2.3.2.4.1.1 "><p>[^a-z]</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.2 "><p>Matches characters other than a to z in a string.</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.3 "><p>[^0-9] matches any non-digit character.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="14.08%" headers="mcps1.3.8.5.2.3.2.4.1.1 "><p>(</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.2 "><p>Matches a left parenthesis (.</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.3 "><p>(a can match (abc.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="14.08%" headers="mcps1.3.8.5.2.3.2.4.1.1 "><p>)</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.2 "><p>Matches a right parenthesis ).</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.3 "><p>)a can match )abc.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="14.08%" headers="mcps1.3.8.5.2.3.2.4.1.1 "><p>+</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.2 "><p>Matches a plus sign +.</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.3 "><p>a+b can match a+bcd.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="14.08%" headers="mcps1.3.8.5.2.3.2.4.1.1 "><p>|</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.2 "><p>Matches a pipe |.</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.3 "><p>a|b can match a|bcd.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="14.08%" headers="mcps1.3.8.5.2.3.2.4.1.1 "><p>\\</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.2 "><p>Matches a backslash \.</p>
</td>
<td class="cellrowborder" valign="top" width="42.96%" headers="mcps1.3.8.5.2.3.2.4.1.3 "><p>\\a can match \a.</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Unless otherwise specified, all the characters described in the preceding table must be printable characters.</p>
</div></div>
<ul><li><p>Degeneration of special characters</p>
<p>Certain special characters degenerate to common characters when they are placed at certain positions in a regular expression.</p>
<ul><li><p>The special characters following escape character \ match themselves.</p>
</li><li><p>Special characters * and + placed at the beginning of a regular expression. For example, +45 matches +45 and abc(*def) matches abc*def.</p>
</li><li><p>Special character ^ placed in a non-start position of a regular expression. For example, abc^ matches abc^.</p>
</li><li><p>Special character $ placed in a non-end position of a regular expression. For example, 12$2 matches 12$2.</p>
</li><li><p>A right parenthesis ) or right bracket ] alone. For example, abc) matches abc), and 0-9] matches 0-9].</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Unless otherwise specified, the preceding degeneration rules also apply to sub-regular expressions within parentheses.</p>
</div></div>
</li></ul>
</li><li><p>Combination of common and special characters</p>
<p>In actual usage, regular expressions combine multiple common and special characters to match certain strings.</p>
</li></ul>
</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Example of Matching and Filtering</h4><div class="p">When no filtering is performed, check the current configuration in the running database in the MEth0/0/0 view.<pre class="screen">[ADMIN@HUAWEI]/ifm/interfaces/interface[name="MEth0/0/0"]
MDCLI&gt; <strong>display</strong> <strong>this</strong>
{
  "name": "MEth0/0/0",
  "class": "main-interface",
  "type": "MEth",
  "number": "0/0/0",
  "admin-status": "up",
  "link-protocol": "ethernet",
  "router-type": "broadcast",
  "clear-ip-df": false,
  "link-up-down-trap-enable": true,
  "statistic-enable": true,
  "statistic-mode": "interface-based",
  "mtu": 1500,
  "spread-mtu-flag": false,
  "vrf-name": "_public_",
  "l2-mode-enable": false,
  "huawei-ip:ipv4": {
    "addresses": {
      "address": [
        {
          "ip": "10.89.68.255",
          "mask": "255.255.254.0",
          "type": "main"
        }
      ]
    }
  },
  "huawei-arp:arp-entry": {
    "expire-time": 1200,
    "probe-interval": 5,
    "probe-times": 3,
    "arp-learn-disable": false,
    "arp-learn-strict": "trust",
    "route-proxy-enable": false,
    "inner-proxy-enable": false,
    "inter-proxy-enable": false,
    "fake-expire-time": 5,
    "probe-unicast": false,
    "dest-mac-check": false,
    "src-mac-check": false,
    "gratuitous-send": "enable",
    "fake-penalty-time": 5,
    "gratuitous-arp-drop": false
  },
  "huawei-lldp:lldp": {
    "session": {
      "admin-status": "tx-rx",
      "tlv-enable": {
        "management-address": true,
        "port-description": true,
        "system-capability": true,
        "system-description": true,
        "system-name": true
      }
    }
  }
}</pre>
</div>
</div>
<p>You can specify filter criteria to filter the query results. For example:</p>
<ul><li><strong>Matching and filtering example 1</strong>: Check the configuration data in the lines that start with fewer than four spaces (two spaces at the beginning). For example, check the configuration data of the direct subnode in the MEth0/0/0 view.<pre class="screen">[ADMIN@HUAWEI]/ifm/interfaces/interface[name="MEth0/0/0"]
MDCLI&gt; <strong>display</strong> <strong>this</strong> | <strong>grep</strong> "    " -v
{
  "name": "MEth0/0/0",
  "class": "main-interface",
  "type": "MEth",
  "number": "0/0/0",
  "admin-status": "up",
  "link-protocol": "ethernet",
  "router-type": "broadcast",
  "clear-ip-df": false,
  "link-up-down-trap-enable": true,
  "statistic-enable": true,
  "statistic-mode": "interface-based",
  "mtu": 1500,
  "spread-mtu-flag": false,
  "vrf-name": "_public_",
  "l2-mode-enable": false,
  "huawei-ip:ipv4": {
  },
  "huawei-arp:arp-entry": {
  },
  "huawei-lldp:lldp": {
  }
}</pre>
</li><li><strong>Matching and filtering example 2</strong>: Check the configuration data in the last five lines and the first line of the matching content MEth0/0/0.<pre class="screen">[ADMIN@HUAWEI]/ifm/interfaces/interface[name="MEth0/0/0"]
MDCLI&gt; <strong>display</strong> <strong>this</strong> | <strong>grep</strong> MEth0/0/0 -A 5 -B 1
{
  "name": "MEth0/0/0",
  "class": "main-interface",
  "type": "MEth",
  "number": "0/0/0",
  "admin-status": "up",
  "link-protocol": "ethernet",</pre>
</li></ul>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../toctopics/en-us_topic_0000001512834630.html">MD-CLI Query Operations
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../toctopics/en-us_topic_0000001513034198.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>