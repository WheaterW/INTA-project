
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Defense Against DHCP Flood Attacks">
<meta name="abstract" content="">
<meta name="description" content="">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../toctopics/en-us_task_0000001564000589.html">
<meta name="DC.Relation" scheme="URI" content="../toctopics/en-us_task_0000001512840766.html">
<meta name="DC.Relation" scheme="URI" content="../toctopics/en-us_task_0000001512840734.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="DHCP Snooping">
<meta name="featurename" content="VLAN">
<meta name="featurename" content="VLAN Mapping">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="DHCP Snooping">
<meta name="featurename" content="VLAN">
<meta name="featurename" content="VLAN Mapping">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="DHCP Snooping">
<meta name="featurename" content="VLAN">
<meta name="featurename" content="VLAN Mapping">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001563760641">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>Configuring Defense Against DHCP Flood Attacks</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001563760641"></a><a name="EN-US_TASK_0000001563760641"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Defense Against DHCP Flood Attacks</h1>
<div class="taskbody"><p></p>
<div class="context"><a name="EN-US_TASK_0000001563760641__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>On a DHCP network, if a DHCP client sends a large number of DHCP messages to the device within a short time, the device's performance may deteriorate, potentially to the point where the device fails to work normally. To address this issue and effectively prevent DHCP flood attacks, you can enable the device to check the rate of sending DHCP messages to the processing unit. Only the DHCP messages within the specified rate are sent to the processing unit, and those exceeding the specified rate are discarded. If the alarm function has been enabled and the number of discarded DHCP messages reaches a specified alarm threshold, an alarm is generated.</p>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>When configuring the maximum rate of sending DHCP messages, note:<ul><li>If the configuration is performed in the system view, it takes effect for all interfaces of the device. If the configuration is performed in the interface view, it takes effect only for the specified interface. If the configuration is performed in the VLAN view, it takes effect for all interfaces belonging to the VLAN.</li><li>If the configuration is performed in the system, VLAN, and interface views, the maximum rate of sending DHCP messages is the smallest value among the three views.</li></ul>
</li><li>When configuring the alarm function, note:<ul><li>If the configuration is performed in the system view, it takes effect for all interfaces of the device. If the configuration is performed in the interface view, it takes effect only for the specified interface.</li><li>If the configuration is performed in the system and interface views, the alarm threshold is the smallest value between the two views.</li></ul>
</li></ul>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001563760641__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enable the device to check the rate of sending DHCP messages to the processing unit, and configure the maximum allowable value for this rate.</span><p><ul><li>In the system view, enable the device to check the rate of sending DHCP messages to the processing unit in multiple VLANs, and configure the maximum allowable value for this rate.<pre class="screen"><a href="cmdqueryname=dhcp+snooping+check+dhcp-rate"><b><span class="cmdname">dhcp snooping check dhcp-rate</span></b></a> { <a href="cmdqueryname=enable"><b><span class="cmdname">enable</span></b></a> | <i><span class="varname">rate</span></i> } <a href="cmdqueryname=vlan"><b><span class="cmdname">vlan</span></b></a> { <i><span class="varname">vlan-id1</span></i> [ <a href="cmdqueryname=to"><b><span class="cmdname">to</span></b></a> <i><span class="varname">vlan-id2</span></i> ] } &amp;&lt;1-10&gt;</pre>
</li><li>Enter the interface view, enable the device to check the rate of sending DHCP messages to the processing unit, and configure the maximum allowable value for this rate.<pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i>
<strong>portswitch</strong>
<a href="cmdqueryname=dhcp+snooping+check+dhcp-rate+enable"><b><span class="cmdname">dhcp snooping check dhcp-rate enable</span></b></a>
<a href="cmdqueryname=dhcp+snooping+check+dhcp-rate"><b><span class="cmdname">dhcp snooping check dhcp-rate</span></b></a> <i><span class="varname">rate</span></i>
<a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></pre>
</li><li>Enter the VLAN view, enable the device to check the rate of sending DHCP messages to the processing unit, and configure the maximum allowable value for this rate.<pre class="screen"><a href="cmdqueryname=vlan"><b><span class="cmdname">vlan</span></b></a> <i><span class="varname">vlan-id</span></i>
<a href="cmdqueryname=dhcp+snooping+check+dhcp-rate+enable"><b><span class="cmdname">dhcp snooping check dhcp-rate enable</span></b></a>
<a href="cmdqueryname=dhcp+snooping+check+dhcp-rate"><b><span class="cmdname">dhcp snooping check dhcp-rate</span></b></a> <i><span class="varname">rate</span></i>
<a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></pre>
</li></ul>
</p><p><p>By default, the maximum allowable rate of sending DHCP messages to the processing unit is 5000 pps.</p>
</p></li><li><span>(Optional) Enable the device to report an alarm when the number of discarded DHCP messages reaches a specified alarm threshold.</span><p><ul><li>In the system view, enable the device to report an alarm when the number of discarded DHCP messages reaches a specified alarm threshold.<pre class="screen"><a href="cmdqueryname=dhcp+snooping+alarm+dhcp-rate"><b><span class="cmdname">dhcp snooping alarm dhcp-rate</span></b></a> { <a href="cmdqueryname=enable"><b><span class="cmdname">enable</span></b></a> | <strong>threshold </strong><em>threshold</em> } <a href="cmdqueryname=vlan"><b><span class="cmdname">vlan</span></b></a> { <i><span class="varname">vlan-id1</span></i> [ <a href="cmdqueryname=to"><b><span class="cmdname">to</span></b></a> <i><span class="varname">vlan-id2</span></i> ] } &amp;&lt;1-10&gt;</pre>
</li><li>Enter the interface view, and enable the device to report an alarm when the number of discarded DHCP messages reaches a specified alarm threshold.<pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i>
<strong>portswitch</strong>
<a href="cmdqueryname=dhcp+snooping+alarm+dhcp-rate+enable"><b><span class="cmdname">dhcp snooping alarm dhcp-rate enable</span></b></a>
<a href="cmdqueryname=dhcp+snooping+alarm+dhcp-rate"><b><span class="cmdname">dhcp snooping alarm dhcp-rate</span></b></a> <a href="cmdqueryname=threshold"><b><span class="cmdname">threshold</span></b></a> <i><span class="varname">threshold</span></i>
<a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></pre>
</li><li>Enter the VLAN view, and enable the device to report an alarm when the number of discarded DHCP messages reaches a specified alarm threshold.<pre class="screen"><a href="cmdqueryname=vlan"><b><span class="cmdname">vlan</span></b></a> <i><span class="varname">vlan-id</span></i>
<a href="cmdqueryname=dhcp+snooping+alarm+dhcp-rate+enable"><b><span class="cmdname">dhcp snooping alarm dhcp-rate enable</span></b></a>
<a href="cmdqueryname=dhcp+snooping+alarm+dhcp-rate"><b><span class="cmdname">dhcp snooping alarm dhcp-rate</span></b></a> <a href="cmdqueryname=threshold"><b><span class="cmdname">threshold</span></b></a> <i><span class="varname">threshold</span></i>
<a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></pre>
</li></ul>
<p>By default, the alarm threshold for discarded DHCP messages is 100.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001563760641__en-us_task_0228023023_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001563760641__en-us_task_0228023023_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../toctopics/en-us_task_0000001564000589.html">Configuring DHCP Snooping Attack Defense
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../toctopics/en-us_task_0000001512840766.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="../toctopics/en-us_task_0000001512840734.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>