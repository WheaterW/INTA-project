
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an 802.1X Access Profile">
<meta name="abstract" content="">
<meta name="description" content="">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_nac_cfg_0048.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_nac_cfg_0050.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="802.1X Authentication">
<meta name="featurename" content="NAC">
<meta name="featuretype" content="User Access and Authentication">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="802.1X Authentication">
<meta name="featurename" content="NAC">
<meta name="featuretype" content="User Access and Authentication">
<meta name="featurename" content="802.1X Authentication">
<meta name="featurename" content="NAC">
<meta name="featuretype" content="User Access and Authentication">
<meta name="featurename" content="802.1X Authentication">
<meta name="featurename" content="MAC Address Authentication">
<meta name="featurename" content="NAC">
<meta name="featuretype" content="User Access and Authentication">
<meta name="featuretype" content="User Access and Authentication">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001564120285">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring an 802.1X Access Profile</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001564120285"></a><a name="EN-US_TASK_0000001564120285"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an 802.1X Access Profile</h1>
<div class="taskbody"><p></p>
<div class="context"><a name="EN-US_TASK_0000001564120285__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>The device uses 802.1X access profiles to uniformly manage 802.1X access configurations. Before configuring 802.1X authentication, you need to create an 802.1X access profile. You need to select a proper authentication mode based on the ones supported by the 802.1X client and authentication server as well as the processing capabilities of the device and server.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001564120285__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Create an 802.1X access profile and enter the 802.1X access profile view.</span><p><pre class="screen"><a href="cmdqueryname=dot1x-access-profile"><b><span class="cmdname">dot1x-access-profile</span></b></a> <strong><span>name</span></strong> <i><span class="varname">access-profile-name</span></i></pre>
<p>To delete an 802.1X access profile, ensure that it is not bound to any authentication profile.</p>
</p></li><li><span>Configure the authentication mode for 802.1X users.</span><p><pre class="screen"><a href="cmdqueryname=dot1x+authentication-method"><b><span class="cmdname">dot1x authentication-method</span></b></a> { <strong><span>chap</span></strong> | <strong><span>pap</span></strong> | <strong><span>eap</span></strong> }</pre>
<p>By default, the authentication mode of 802.1X users is <strong>eap</strong>, namely, EAP relay authentication.</p>
<p>The processing capabilities of the RADIUS server determine whether EAP termination or EAP relay authentication is used. If the RADIUS server has high processing capabilities and can parse a large number of EAP packets before authentication, the EAP relay mode (specified by the <strong>eap</strong> parameter) is recommended. If the processing capabilities of the RADIUS server cannot parse a large number of EAP packets and complete authentication, the EAP termination mode (specified by the <strong>pap</strong> or <strong>chap</strong> parameter) is recommended, where the device parses EAP packets for the RADIUS server. When configuring the authentication packet processing method, ensure that both the client and server support it; otherwise, the user cannot pass authentication.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>Both CHAP authentication and PAP authentication use the insecure MD5 algorithm, so EAP authentication is recommended.</li><li><p>The authentication mode for 802.1X users can be set to EAP relay only when RADIUS authentication is used.</p>
</li><li><p>If AAA local authentication is used, the authentication mode for 802.1X users can only be set to EAP termination.</p>
</li><li><p>If the 802.1X client uses MD5 encryption, the authentication mode can be set to EAP or CHAP on the device. If the 802.1X client uses PEAP authentication, the authentication mode can be set to EAP on the device.</p>
</li><li>When there is an online 802.1X user on an interface and the authentication mode is modified in the 802.1X access profile bound to the interface, the user is logged out if the authentication mode is changed between EAP termination and EAP relay. If the authentication mode is changed between CHAP and PAP in EAP termination mode, the user remains online.</li></ul>
</div></div>
</p></li><li><span>(Optional) Configure the authorization state of an interface.</span><p><pre class="screen"><a href="cmdqueryname=dot1x+port-control"><b><span class="cmdname">dot1x port-control</span></b></a> { <strong><span>auto</span></strong> | <strong><span>authorized-force</span></strong> | <strong><span>unauthorized-force</span></strong> }</pre>
<p>By default, the authorization state of an interface is <strong>auto</strong>.</p>
</p></li><li><span>(Optional) Configure the packet type that can trigger 802.1X authentication.</span><p><pre class="screen"><a href="cmdqueryname=authentication+trigger-condition"><b><span class="cmdname">authentication trigger-condition</span></b></a> { <strong>dhcp</strong> | <strong>arp</strong> | <strong>dhcpv6</strong> | <strong>nd</strong> | <strong>any-l2-packet</strong> } <sup>*</sup></pre>
<p>By default, DHCP, ARP, DHCPv6, and ND packets can trigger 802.1X authentication.</p>
</p></li><li><span>(Optional) Configure the device to send EAP packets with a code number to 802.1X users.</span><p><pre class="screen"><a href="cmdqueryname=dot1x+eap-notify-packet"><b><span class="cmdname">dot1x eap-notify-packet</span></b></a> <strong>eap-code</strong> <em>code-num</em> <strong>data-type</strong> <em>type-num</em></pre>
<p>By default, the device does not send EAP packets with a code number to 802.1X users.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If an H3C iMC functions as the RADIUS server, run the <strong>dot1x eap-notify-packet eap-code 10 data-type 25</strong> command on the device.</p>
</div></div>
</p></li><li><span>(Optional) Run the <a href="cmdqueryname=dot1x+send-packet+untagged"><b><span class="cmdname">dot1x send-packet untagged</span></b></a> command to enable the function of removing VLAN tags from 802.1X packets sent from an access device to terminals.</span><p><p>By default, the function of removing VLAN tags from 802.1X packets sent from an access device to terminals is not enabled.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001564120285__en-us_task_0228023023_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001564120285__en-us_task_0228023023_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_nac_cfg_0048.html">Configuring an 802.1X Access Profile
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_nac_cfg_0050.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>