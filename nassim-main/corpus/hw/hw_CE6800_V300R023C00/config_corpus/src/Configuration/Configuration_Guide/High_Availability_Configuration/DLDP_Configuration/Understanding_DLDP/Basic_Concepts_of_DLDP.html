
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Basic Concepts of DLDP">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_dldp_cfg_0003.html">
<meta name="DC.Relation" scheme="URI" content="vrp_dldp_cfg_0005.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="DLDP">
<meta name="featuretype" content="High Availability">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="DLDP">
<meta name="featuretype" content="High Availability">
<meta name="featurename" content="DLDP">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001415015958">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Basic Concepts of DLDP</title>
</head>
<body><a name="EN-US_CONCEPT_0000001415015958"></a><a name="EN-US_CONCEPT_0000001415015958"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Basic Concepts of DLDP</h1>
<div><div class="section"><h4 class="sectiontitle">Types of DLDPDUs</h4><p>DLDP allows a device to identify the remote device and detect whether a unidirectional link exists by exchanging DLDP Data Units (DLDPDUs) with the remote device. <a href="#EN-US_CONCEPT_0000001415015958__tab_dc_vrp_dldp_cfg_200201">Table 1</a> shows the types of DLDPDUs.</p>

<div class="tableBorder"><a name="EN-US_CONCEPT_0000001415015958__tab_dc_vrp_dldp_cfg_200201"></a><a name="tab_dc_vrp_dldp_cfg_200201"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_CONCEPT_0000001415015958__tab_dc_vrp_dldp_cfg_200201" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Types of DLDPDUs</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="34%" id="mcps1.3.1.3.2.3.1.1" liSelected="liSelected"><p>Type</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="66%" id="mcps1.3.1.3.2.3.1.2" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="34%" headers="mcps1.3.1.3.2.3.1.1 "><p>Advertisement packet</p>
</td>
<td class="cellrowborder" valign="top" width="66%" headers="mcps1.3.1.3.2.3.1.2 "><p>Used to maintain a DLDP connection.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="34%" headers="mcps1.3.1.3.2.3.1.1 "><p>Probe packet</p>
</td>
<td class="cellrowborder" valign="top" width="66%" headers="mcps1.3.1.3.2.3.1.2 "><p>Used to probe a remote device.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="34%" headers="mcps1.3.1.3.2.3.1.1 "><p>Echo packet</p>
</td>
<td class="cellrowborder" valign="top" width="66%" headers="mcps1.3.1.3.2.3.1.2 "><p>Used to respond to Probe packets.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="34%" headers="mcps1.3.1.3.2.3.1.1 "><p>RecoverProbe packet</p>
</td>
<td class="cellrowborder" valign="top" width="66%" headers="mcps1.3.1.3.2.3.1.2 "><p>Used to detect whether a unidirectional link has been restored to bidirectional.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="34%" headers="mcps1.3.1.3.2.3.1.1 "><p>RecoverEcho packet</p>
</td>
<td class="cellrowborder" valign="top" width="66%" headers="mcps1.3.1.3.2.3.1.2 "><p>Used to respond to RecoverProbe packets.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="34%" headers="mcps1.3.1.3.2.3.1.1 "><p>Disable packet</p>
</td>
<td class="cellrowborder" valign="top" width="66%" headers="mcps1.3.1.3.2.3.1.2 "><p>Used to disable a unidirectional link so that the DLDP-enabled interface enters the Disable state.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="34%" headers="mcps1.3.1.3.2.3.1.1 "><p>Flush packet</p>
</td>
<td class="cellrowborder" valign="top" width="66%" headers="mcps1.3.1.3.2.3.1.2 "><p>Used to instruct the remote device to delete neighbor entries.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="34%" headers="mcps1.3.1.3.2.3.1.1 "><p>LinkDown packet</p>
</td>
<td class="cellrowborder" valign="top" width="66%" headers="mcps1.3.1.3.2.3.1.2 "><p>Used to notify the remote device of interface down events.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="34%" headers="mcps1.3.1.3.2.3.1.1 "><p>Advertisement packet with RSY tags</p>
</td>
<td class="cellrowborder" valign="top" width="66%" headers="mcps1.3.1.3.2.3.1.2 "><p>Sent when a DLDP neighbor entry is created or a neighbor disappears.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section"><h4 class="sectiontitle">DLDP States</h4><p>DLDP allows a device to identify the remote device and detect whether a unidirectional link exists by exchanging DLDPDUs with the remote device. As shown in <a href="#EN-US_CONCEPT_0000001415015958__table568994513119">Table 2</a>, DLDP defines the following states: Initial, Inactive, Active, Advertisement, Probe, Disable, DelayDown, and Loop.</p>

<div class="tableBorder"><a name="EN-US_CONCEPT_0000001415015958__table568994513119"></a><a name="table568994513119"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_CONCEPT_0000001415015958__table568994513119" frame="border" border="1" rules="all"><caption><b>Table 2 </b>DLDP states</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="34%" id="mcps1.3.2.3.2.3.1.1" liSelected="liSelected"><p>State</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="66%" id="mcps1.3.2.3.2.3.1.2" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="34%" headers="mcps1.3.2.3.2.3.1.1 "><p>Initial</p>
</td>
<td class="cellrowborder" valign="top" width="66%" headers="mcps1.3.2.3.2.3.1.2 "><p>DLDP is disabled.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="34%" headers="mcps1.3.2.3.2.3.1.1 "><p>Inactive</p>
</td>
<td class="cellrowborder" valign="top" width="66%" headers="mcps1.3.2.3.2.3.1.2 "><p>DLDP is enabled but the link is down.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="34%" headers="mcps1.3.2.3.2.3.1.1 "><p>Active</p>
</td>
<td class="cellrowborder" valign="top" width="66%" headers="mcps1.3.2.3.2.3.1.2 "><p>DLDP is enabled and the link is up, or neighbor entries are deleted.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="34%" headers="mcps1.3.2.3.2.3.1.1 "><p>Advertisement</p>
</td>
<td class="cellrowborder" valign="top" width="66%" headers="mcps1.3.2.3.2.3.1.2 "><p>All neighbors are bidirectionally reachable or have been in the Active state for more than 5 seconds. This is a stable state when no unidirectional link has been detected.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="34%" headers="mcps1.3.2.3.2.3.1.1 "><p>Probe</p>
</td>
<td class="cellrowborder" valign="top" width="66%" headers="mcps1.3.2.3.2.3.1.2 "><p>Probe packets are sent to detect whether the link is unidirectional. When an interface enters this state, DLDP starts the Probe timer and an Echo timer for each neighbor to be detected.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="34%" headers="mcps1.3.2.3.2.3.1.1 "><p>Disable</p>
</td>
<td class="cellrowborder" valign="top" width="66%" headers="mcps1.3.2.3.2.3.1.2 "><p>When DLDP in enhanced mode detects a unidirectional link, the interface that fails to send optical signals enters the Disable state.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="34%" headers="mcps1.3.2.3.2.3.1.1 "><p>Delaydown</p>
</td>
<td class="cellrowborder" valign="top" width="66%" headers="mcps1.3.2.3.2.3.1.2 "><p>When a DLDP-enabled interface is in the Active, Advertisement, or Probe state, it does not delete the neighbor entry or switch to the Inactive state immediately after detecting an interface down event. Instead, the interface enters the DelayDown state. Interfaces in the DelayDown state retain DLDP neighbor entries and only respond to interface up events.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="34%" headers="mcps1.3.2.3.2.3.1.1 "><p>Loop</p>
</td>
<td class="cellrowborder" valign="top" width="66%" headers="mcps1.3.2.3.2.3.1.2 "><p>An interface enters the Loop state when both ends of an optical fiber are inserted in the same optical module, with one end in Rx and the other in Tx.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section"><h4 class="sectiontitle">Working Modes of DLDP</h4><p>DLDP is used to detect unidirectional links caused by cross-connected optical fibers or a disconnected or broken optical fiber in a pair.</p>
<p>DLDP works in one of two modes depending on the type of unidirectional links:</p>
<ul><li>Normal mode: DLDP detects only the unidirectional links caused by cross-connected optical fibers.</li><li>Enhanced mode: DLDP detects the unidirectional links caused by cross-connected optical fibers or a disconnected or broken optical fiber in a pair.</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_dldp_cfg_0003.html">Understanding DLDP
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_dldp_cfg_0005.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>