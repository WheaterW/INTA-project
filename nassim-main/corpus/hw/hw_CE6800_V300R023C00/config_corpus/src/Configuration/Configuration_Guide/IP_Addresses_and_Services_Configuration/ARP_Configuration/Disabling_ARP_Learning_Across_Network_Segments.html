
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Disabling ARP Learning Across Network Segments">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_arp_cfg_title.html">
<meta name="DC.Relation" scheme="URI" content="vrp_arp_cfg_0029.html">
<meta name="DC.Relation" scheme="URI" content="vrp_arp_cfg_0031.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="ARP">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="ARP">
<meta name="featurename" content="IP Address Conflict Detection">
<meta name="featurename" content="Dynamic ARP">
<meta name="featurename" content="Static ARP">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001130624042">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Disabling ARP Learning Across Network Segments</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001130624042"></a><a name="EN-US_TASK_0000001130624042"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Disabling ARP Learning Across Network Segments</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001130624042__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>You can choose to enable or disable ARP learning across network segments based on service access and network security requirements.</p>
<div class="p">On the network shown in <a href="#EN-US_TASK_0000001130624042__fig172472619584">Figure 1</a>, DeviceA and DeviceC reside on different network segments. To allow them to communicate, enable routed proxy ARP on DeviceB.<ol><li>DeviceA sends an ARP request message for the MAC address of DeviceC.</li><li>Upon receipt of the ARP request message, DeviceB finds that the route destined for the IP address 10.2.2.1 is reachable, which meets the requirement for routed proxy. Then, DeviceB replies with an ARP reply message in which the source IP address is 10.2.2.1 and the source MAC address is 2â2â2 (the MAC address of DeviceB's interface that receives the ARP request message).</li><li>Upon receipt of the ARP reply message, DeviceA learns the MAC address without checking the validity of the source IP address in the message, and then sends DeviceC a datagram with the destination MAC address of 2â2â2. In this manner, DeviceA and DeviceC communicate through DeviceB.</li></ol>
</div>
<div class="fignone" id="EN-US_TASK_0000001130624042__fig172472619584"><a name="EN-US_TASK_0000001130624042__fig172472619584"></a><a name="fig172472619584"></a><span class="figcap"><b>Figure 1 </b>ARP learning across network segments</span><br><span><img class="vsd" src="figure/en-us_image_0000001130783854.png"></span></div>
<p>By default, ARP learning across network segments is disabled on logical interfaces and sub-interfaces of a device, but enabled on its main physical interfaces, allowing the device to access other devices on different network segments through routed proxy ARP. This, however, may pose the device to risks. For example, if an attacker on the same network segment sends a large number of ARP request messages with a false source IP address, ARP entry resources of the device may be used up. To resolve this issue, disable ARP learning across network segments on the main physical interfaces. The device will then check the source IP address of an ARP message received on a physical interface. If the source IP address is on a different network segment, the device does not learn the corresponding ARP entry, protecting the device against attacks.</p>
<p>You can choose to disable ARP learning across network segments on main physical interfaces based on service access and network security requirements.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001130624042__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Disable ARP learning across network segments.</span><p><pre class="screen"><a href="cmdqueryname=arp+learning+on-different-segment+disable"><b><span class="cmdname">arp learning on-different-segment disable</span></b></a></pre>
</p><p><p>After this command is run, the device cannot learn the ARP entries for the IP addresses on different network segments. However, the ARP entries for the IP addresses on different network segments that have been learned before this configuration are still valid until the aging period of the ARP entries ends.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001130624042__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001130624042__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001130624042__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+arp"><b><span class="cmdname">display arp</span></b></a> [ <strong><span>network</span></strong> <i><span class="varname">network-address</span></i> [ <i><span class="varname">network-mask</span></i> | <i><span class="varname">mask-length</span></i> ] ] [ <strong><span>dynamic</span></strong> | <strong><span>static</span></strong> ] command to check specified ARP entries.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_arp_cfg_title.html">ARP Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_arp_cfg_0029.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_arp_cfg_0031.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>