
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Gratuitous ARP Message Discarding">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_arp_security_cfg_0027.html">
<meta name="DC.Relation" scheme="URI" content="vrp_arp_security_cfg_0028.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="ARP Security">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="ARP Security">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="ARP Security">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176741537">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring Gratuitous ARP Message Discarding</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176741537"></a><a name="EN-US_TASK_0000001176741537"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Gratuitous ARP Message Discarding</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001176741537__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>When a device is connected to a network for the first time, the device broadcasts gratuitous ARP messages to announce its existence and checks whether its IP address conflicts with any other device IP address in the broadcast domain. Any device can send gratuitous ARP messages, and they can receive gratuitous ARP messages without authentication. As a result, a large number of gratuitous ARP messages are generated, consuming device resources to process these messages. This process overloads the CPU and affects the processing of other services. To resolve this issue, enable gratuitous ARP message discarding. After this function is enabled, the device discards all received gratuitous ARP messages to reduce CPU resource consumption.</p>
<div class="p">Gratuitous ARP message discarding can be enabled in the system or interface view.<ul><li><p>If the <a href="cmdqueryname=arp+anti-attack+gratuitous-arp+drop"><b><span class="cmdname">arp anti-attack gratuitous-arp drop</span></b></a> command is enabled in the system view, the device discards gratuitous ARP messages received from all interfaces.</p>
</li><li><p>If the <a href="cmdqueryname=arp+anti-attack+gratuitous-arp+drop"><b><span class="cmdname">arp anti-attack gratuitous-arp drop</span></b></a> command is enabled in the interface view, the device discards gratuitous ARP messages received from this interface.</p>
</li></ul>
Gratuitous ARP message discarding enabled in the system view is independent of that enabled in the interface view.</div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001176741537__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure gratuitous ARP message discarding globally.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Configure gratuitous ARP message discarding.</span><p><pre class="screen"><a href="cmdqueryname=arp+anti-attack+gratuitous-arp+drop"><b><span class="cmdname">arp anti-attack gratuitous-arp drop</span></b></a></pre>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176741537__en-us_task_0234857734_screen14848162118611"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176741537__en-us_task_0234857734_cmdname1784862115612">commit</span></b></a></pre>
</p></li></ol>
</li><li><span>Configure gratuitous ARP message discarding for an interface.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the interface view.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> { <em>interface-name</em> | <em>interface-type </em><em>interface-number</em> } </pre>
</p></li><li class="substepexpand"><span>Switch the interface working mode to Layer 3.</span><p><pre class="screen"><a href="cmdqueryname=undo+portswitch"><b><span class="cmdname">undo portswitch</span></b></a></pre>
<p>Determine whether to perform this step based on the current interface working mode.</p>
</p></li><li class="substepexpand"><span>Configure gratuitous ARP message discarding for an interface.</span><p><pre class="screen"><a href="cmdqueryname=arp+anti-attack+gratuitous-arp+drop"><b><span class="cmdname">arp anti-attack gratuitous-arp drop</span></b></a></pre>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176741537__en-us_task_0234857734_screen14848162118611_1"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176741537__en-us_task_0234857734_cmdname1784862115612_1">commit</span></b></a></pre>
</p></li></ol>
</li></ul></div>
<div class="example"><a name="EN-US_TASK_0000001176741537__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+arp+statistics"><b><span class="cmdname">display arp statistics</span></b></a> [ <strong><span>interface</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type interface-number</span></i> } ] command to check ARP entry statistics.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_arp_security_cfg_0027.html">Configuring Gratuitous ARP Message Discarding
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_arp_security_cfg_0028.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>