
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Interface-based VLAN Assignment">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_vlan_cfg_0016.html">
<meta name="DC.Relation" scheme="URI" content="vrp_vlan_cfg_0017.html">
<meta name="DC.Relation" scheme="URI" content="vrp_vlan_cfg_0019.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="VLAN">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="VLAN">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featurename" content="QinQ">
<meta name="featurename" content="VLAN">
<meta name="featurename" content="VLAN Mapping">
<meta name="featurename" content="VLAN Pool">
<meta name="featurename" content="Voice VLAN">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001130622850">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring Interface-based VLAN Assignment</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001130622850"></a><a name="EN-US_TASK_0000001130622850"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Interface-based VLAN Assignment</h1>
<div class="taskbody"><div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001130622850__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><div class="p">Before configuring interface-based VLAN assignment, you have completed the following task:<ul><li>Create a VLAN. For details, see <a href="vrp_vlan_cfg_0013.html">Creating and Deleting a VLAN</a>.</li></ul>
</div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001130622850__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Interface-based VLAN assignment is the easiest and most effective method for assigning VLANs. After you add an interface to a VLAN, the interface can only forward packets from that VLAN. This limits broadcast packets to a single VLAN, as hosts in the same VLAN can directly communicate with each other at Layer 2, while those in different VLANs cannot. Before starting this operation, you need to know the interface type, default VLAN, and mode in which interfaces process tagged or untagged packets. For details, see <a href="vrp_vlan_cfg_0003.html">Understanding VLANs</a>.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001130622850__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enter the view of the Ethernet interface to be added to a VLAN.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type </span></i><i><span class="varname">interface-number</span></i></pre>
</p></li><li><span>Switch the interface working mode to Layer 2.</span><p><pre class="screen"><a href="cmdqueryname=portswitch"><b><span class="cmdname">portswitch</span></b></a></pre>
</p><p><p>Determine whether to perform this step based on the current interface working mode.</p>
</p></li><li><span>Configure the attribute for the Layer 2 Ethernet interface.</span><p><pre class="screen"><a href="cmdqueryname=port+link-type"><b><span class="cmdname">port link-type</span></b></a> { <strong><span>access</span></strong> | <strong><span>hybrid</span></strong> | <strong><span>trunk</span></strong> }</pre>
</p></li><li><span><a name="EN-US_TASK_0000001130622850__cmd159334395817"></a><a name="cmd159334395817"></a>Add the interface to a VLAN.</span><p><ul><li>For an access interface, choose either of the following methods:<div class="p">Configure the default VLAN for the access interface and add the interface to the default VLAN.<pre class="screen"><a href="cmdqueryname=port+default+vlan"><b><span class="cmdname">port default vlan</span></b></a> <i><span class="varname">vlan-id</span></i></pre>
</div>
<p>To configure the default VLAN for multiple interfaces and add these interfaces to the default VLAN in batches, run the following command in the VLAN view:</p>
<pre class="screen"><a href="cmdqueryname=port"><b><span class="cmdname">port</span></b></a> <i><span class="varname">interface-type</span></i> { <i><span class="varname">interface-number1</span></i> [ <strong><span>to</span></strong> <i><span class="varname">interface-number2</span></i> ] } &amp;&lt;1-10&gt;</pre>
</li><li>For a trunk interface, add it to specified VLANs in tagged mode.<pre class="screen"><a href="cmdqueryname=port+trunk+allow-pass+vlan"><b><span class="cmdname">port trunk allow-pass vlan</span></b></a> { { <i><span class="varname">vlan-id1</span></i> [ <strong><span>to</span></strong> <i><span class="varname">vlan-id2</span></i> ] } &amp;&lt;1-40&gt; | <strong><span>all</span></strong> }</pre>
<p>To change the default VLAN of a trunk interface, run the <a href="cmdqueryname=port+trunk+pvid+vlan"><b><span class="cmdname">port trunk pvid vlan</span></b></a><em> </em><i><span class="varname">vlan-id</span></i> command in the interface view.</p>
</li><li>For a hybrid interface, add it to a VLAN in either untagged or tagged mode.<div class="p">Add the hybrid interface to a specified VLAN in untagged mode.<pre class="screen"><a href="cmdqueryname=port+hybrid+untagged+vlan"><b><span class="cmdname">port hybrid untagged vlan</span></b></a> { { <i><span class="varname">vlan-id1</span></i> [ <strong><span>to</span></strong> <i><span class="varname">vlan-id2</span></i> ] } &amp;&lt;1-10&gt; | <strong><span>all</span></strong> }</pre>
</div>
<div class="p">Add the hybrid interface to a specified VLAN in tagged mode.<pre class="screen"><a href="cmdqueryname=port+hybrid+tagged+vlan"><b><span class="cmdname">port hybrid tagged vlan</span></b></a> { { <i><span class="varname">vlan-id1</span></i> [ <strong><span>to</span></strong> <i><span class="varname">vlan-id2</span></i> ] } &amp;&lt;1-10&gt; | <strong><span>all</span></strong> }</pre>
</div>
<p>To change the default VLAN of a hybrid interface, run the <a href="cmdqueryname=port+hybrid+pvid+vlan"><b><span class="cmdname">port hybrid pvid vlan</span></b></a><em> </em><i><span class="varname">vlan-id</span></i> command in the interface view.</p>
</li></ul>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001130622850__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001130622850__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001130622850__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><ul><li>Run the <a href="cmdqueryname=display+vlan"><b><span class="cmdname">display vlan</span></b></a> <i><span class="varname">vlan-id1</span></i> [ <strong><span>verbose</span></strong> | <strong><span>to</span></strong> <i><span class="varname">vlan-id2</span></i> ] command to check information about specified VLANs.</li><li>Run the <a href="cmdqueryname=display+vlan"><b><span class="cmdname">display vlan</span></b></a> [ <strong><span>summary</span></strong> ] command to check the summary of all VLANs.</li><li>Run the <a href="cmdqueryname=display+vlan+vlan-name"><b><span class="cmdname">display vlan vlan-name</span></b></a> <i><span class="varname">vlan-name</span></i> command to check information about a specified VLAN.</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_vlan_cfg_0016.html">Configuring Intra-VLAN Communication
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_vlan_cfg_0017.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_vlan_cfg_0019.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>