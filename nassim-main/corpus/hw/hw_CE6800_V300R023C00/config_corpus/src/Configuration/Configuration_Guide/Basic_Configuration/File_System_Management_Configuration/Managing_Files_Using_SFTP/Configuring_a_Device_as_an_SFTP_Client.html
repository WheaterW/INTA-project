
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a Device as an SFTP Client">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_file_cfg_0013.html">
<meta name="DC.Relation" scheme="URI" content="vrp_file_cfg_0014.html">
<meta name="DC.Relation" scheme="URI" content="vrp_file_cfg_0016.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="SFTP">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="SFTP">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="featurename" content="FTP">
<meta name="featurename" content="SCP">
<meta name="featurename" content="SFTP">
<meta name="featurename" content="TFTP">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001563750989">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring a Device as an SFTP Client</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001563750989"></a><a name="EN-US_TASK_0000001563750989"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a Device as an SFTP Client</h1>
<div class="taskbody"><div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001563750989__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>After a device is configured as an SFTP client, client authentication and bidirectional data encryption are used to ensure secure file transfer and file and directory management.</p>
<p>Before configuring a device to access files on another device as an SFTP client, you have completed the following tasks:</p>
<ul><li>Ensure that there are reachable routes between the device and SSH server.</li><li>Obtain the IP address of the SSH server and SSH user information, and ensure that the SSH user has been assigned the highest privilege level.</li><li>Obtain the port number configured for the server if the standard port number is not used.</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001563750989__1.3.2"></a><a name="1.3.2"></a>
<div class="p"><h4 class="sectiontitle">Context</h4><p><a href="#EN-US_TASK_0000001563750989__file13tab01">Table 1</a> describes the process for configuring a device to access files on another device as an SFTP client.</p>

<div class="tableBorder"><a name="EN-US_TASK_0000001563750989__file13tab01"></a><a name="file13tab01"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TASK_0000001563750989__file13tab01" frame="hsides" border="1" rules="all"><caption><b>Table 1 </b>Configuring a device to access files on another device as an SFTP client</caption><thead align="left"><tr><th align="center" class="cellrowborder" valign="top" width="11.501150115011502%" id="mcps1.3.2.3.2.5.1.1" liSelected="liSelected"><p>No.</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="31.693169316931698%" id="mcps1.3.2.3.2.5.1.2" liSelected="liSelected"><p>Task</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="28.402840284028404%" id="mcps1.3.2.3.2.5.1.3" liSelected="liSelected"><p>Description</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="28.402840284028404%" id="mcps1.3.2.3.2.5.1.4" liSelected="liSelected"><p>Remarks</p>
</th>
</tr>
</thead>
<tbody><tr valign="middle"><td class="cellrowborder" align="center" valign="middle" width="11.501150115011502%" headers="mcps1.3.2.3.2.5.1.1 "><p>1</p>
</td>
<td class="cellrowborder" align="left" valign="middle" width="31.693169316931698%" headers="mcps1.3.2.3.2.5.1.2 "><p><a href="#EN-US_TASK_0000001563750989__p_03C940EB">(Optional) Configure the source interface or source IP address for the SFTP client.</a></p>
</td>
<td class="cellrowborder" align="left" valign="middle" width="28.402840284028404%" headers="mcps1.3.2.3.2.5.1.3 "><p>Configure the source interface or source IP address for the SFTP client to implement security verification.</p>
</td>
<td class="cellrowborder" rowspan="6" align="left" valign="middle" width="28.402840284028404%" headers="mcps1.3.2.3.2.5.1.4 "><p>Tasks 1, 2, and 3 can be performed in any sequence.</p>
<p></p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" align="center" valign="middle" headers="mcps1.3.2.3.2.5.1.1 "><p>2</p>
</td>
<td class="cellrowborder" align="left" valign="middle" headers="mcps1.3.2.3.2.5.1.2 "><p><a href="#EN-US_TASK_0000001563750989__file13-step_01">Configure the mode for connecting a device to the SSH server for the first time.</a></p>
</td>
<td class="cellrowborder" align="left" valign="middle" headers="mcps1.3.2.3.2.5.1.3 "><p>You can enable first login for the SSH client or configure the SSH client to assign a public key to the SSH server.</p>
</td>
</tr>
<tr><td class="cellrowborder" align="center" valign="middle" headers="mcps1.3.2.3.2.5.1.1 "><p>3</p>
</td>
<td class="cellrowborder" align="left" valign="middle" headers="mcps1.3.2.3.2.5.1.2 "><p><a href="#EN-US_TASK_0000001563750989__step57147208551">Configure SFTP client parameters.</a></p>
</td>
<td class="cellrowborder" align="left" valign="middle" headers="mcps1.3.2.3.2.5.1.3 "><p>SFTP client parameters include the interval for sending keepalive packets and the maximum number of keepalive packets sent by the SFTP client.</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="2" align="center" valign="middle" headers="mcps1.3.2.3.2.5.1.1 "><p>4</p>
<p></p>
</td>
<td class="cellrowborder" align="left" valign="middle" headers="mcps1.3.2.3.2.5.1.2 "><p><a href="#EN-US_TASK_0000001563750989__step82084916614">(One-click mode) Log in to another device to perform file operations.</a></p>
</td>
<td class="cellrowborder" rowspan="2" align="left" valign="middle" headers="mcps1.3.2.3.2.5.1.3 "><p>Select only one of the two tasks.</p>
<ul><li>One-click mode: You can upload and download files while the connection is set up.</li><li>Interactive mode: After the SSH server is connected, you can perform operations on directories and files on the SSH server and view the help of commands on the SFTP client.</li></ul>
<p></p>
</td>
</tr>
<tr><td class="cellrowborder" align="left" valign="middle" headers="mcps1.3.2.3.2.5.1.1 "><p><a href="#EN-US_TASK_0000001563750989__step167318301294">(Interactive mode) Log in to another device to perform file operations.</a></p>
</td>
</tr>
<tr><td class="cellrowborder" align="center" valign="middle" headers="mcps1.3.2.3.2.5.1.1 "><p>5</p>
</td>
<td class="cellrowborder" align="left" valign="middle" headers="mcps1.3.2.3.2.5.1.2 "><p><a href="#EN-US_TASK_0000001563750989__file1306_sftp">Disconnect from the SFTP server.</a></p>
</td>
<td class="cellrowborder" align="left" valign="middle" headers="mcps1.3.2.3.2.5.1.3 "><p>-</p>
</td>
</tr>
</tbody>
</table>
</div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001563750989__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li id="EN-US_TASK_0000001563750989__p_03C940EB"><span id="EN-US_TASK_0000001563750989__"><strong>(Optional) Configure the source interface or source IP address for the SFTP client.</strong></span><p><p>The source IP address to be configured must be that of a stable interface, such as a loopback interface. This configuration makes it easier to configure ACL rules. You simply need to specify the source or destination IP address in an ACL rule as the interface IP address, thereby allowing the device to filter incoming and outgoing packets.</p>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="hsides" border="1" rules="all"><caption><b>Table 2 </b>Configuring the source interface or source IP address for the SFTP client</caption><thead align="left"><tr><th align="center" class="cellrowborder" valign="middle" width="30%" id="mcps1.3.3.1.2.2.2.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="39.33%" id="mcps1.3.3.1.2.2.2.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="30.669999999999998%" id="mcps1.3.3.1.2.2.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr valign="middle"><td class="cellrowborder" valign="middle" width="30%" headers="mcps1.3.3.1.2.2.2.4.1.1 "><p>Enter the system view.</p>
</td>
<td class="cellrowborder" valign="middle" width="39.33%" headers="mcps1.3.3.1.2.2.2.4.1.2 "><p><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></p>
</td>
<td class="cellrowborder" valign="middle" width="30.669999999999998%" headers="mcps1.3.3.1.2.2.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="middle" width="30%" headers="mcps1.3.3.1.2.2.2.4.1.1 "><p>Configure the source interface or source IP address for the SFTP client.</p>
</td>
<td class="cellrowborder" valign="middle" width="39.33%" headers="mcps1.3.3.1.2.2.2.4.1.2 "><p><a href="cmdqueryname=sftp+client-source"><b><span class="cmdname">sftp client-source</span></b></a> { <strong><span>-a</span></strong> <i><span class="varname">source-ip-address</span></i> <span>[ <span><strong><span>public-net</span></strong> | </span><strong><span>-vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] </span>| <strong><span>-i</span></strong> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <i><span class="varname">interface-name</span></i> } }</p>
<p>or</p>
<p><a href="cmdqueryname=sftp+ipv6+client-source"><b><span class="cmdname">sftp ipv6 client-source</span></b></a> <strong><span>-a</span></strong> <i><span class="varname">source-ipv6-address</span></i>  [ <strong><span>-vpn-instance</span></strong> <i><span class="varname">ipv6-vpn-instance-name</span></i> ]</p>
</td>
<td class="cellrowborder" valign="middle" width="30.669999999999998%" headers="mcps1.3.3.1.2.2.2.4.1.3 "><p>By default, the source IP address is 0.0.0.0.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="30%" headers="mcps1.3.3.1.2.2.2.4.1.1 "><p>Commit the configuration.</p>
</td>
<td class="cellrowborder" valign="top" width="39.33%" headers="mcps1.3.3.1.2.2.2.4.1.2 "><p><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></p>
</td>
<td class="cellrowborder" valign="top" width="30.669999999999998%" headers="mcps1.3.3.1.2.2.2.4.1.3 "><p>-</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li id="EN-US_TASK_0000001563750989__file13-step_01"><span id="EN-US_TASK_0000001563750989__"><strong>Configure the mode for connecting a device to the SSH server for the first time.</strong></span><p><p>For details, see "Configuring the Mode for Connecting a Device to the SSH Server for the First Time" in <span>Configuration Guide</span> &gt; Security Configuration.</p>
</p></li><li id="EN-US_TASK_0000001563750989__step57147208551"><span id="EN-US_TASK_0000001563750989__"><strong>Configure SFTP client parameters.</strong></span><p><p>For details, see "Setting SSH Client Parameters" in <span>Configuration Guide</span> &gt; Security Configuration.</p>
</p></li><li id="EN-US_TASK_0000001563750989__step82084916614"><span id="EN-US_TASK_0000001563750989__"><strong>(One-click mode) Log in to another device to perform file operations.</strong></span><p><p>You can run the commands listed in the following table in the system view to download files from the server or upload files to the server while the connection is set up.</p>
</p><p>
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="hsides" border="1" rules="all"><caption><b>Table 3 </b>One-click file operations using commands</caption><thead align="left"><tr><th align="center" class="cellrowborder" valign="top" width="14.9014901490149%" id="mcps1.3.3.4.3.1.2.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="50.28502850285028%" id="mcps1.3.3.4.3.1.2.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="34.813481348134815%" id="mcps1.3.3.4.3.1.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="14.9014901490149%" headers="mcps1.3.3.4.3.1.2.4.1.1 "><p>Connect to the SFTP server using an IPv4 address.</p>
</td>
<td class="cellrowborder" valign="top" width="50.28502850285028%" headers="mcps1.3.3.4.3.1.2.4.1.2 "><p><a href="cmdqueryname=sftp+client-transfile"><b><span class="cmdname">sftp client-transfile</span></b></a> { <strong><span>get</span></strong> | <strong><span>put</span></strong> } [ <strong><span>-a</span></strong> <i><span class="varname">source-address</span></i> | <strong><span>-i</span></strong> <i><span class="varname">interface-type interface-number</span></i> ] <strong><span>host-ip</span></strong> <i><span class="varname">host-ipv4</span></i> [ <i><span class="varname">port</span></i> ] [ <strong><span>public-net</span></strong> | <strong><span>-vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> | <strong><span>prefer_kex</span></strong> <i><span class="varname">prefer_kex</span></i> | <strong><span>identity-key</span></strong> { <strong><span>rsa</span></strong> | <strong><span>dsa</span></strong> | <strong><span>ecc</span></strong> } | <strong><span>prefer_ctos_cipher</span></strong> <i><span class="varname">prefer_ctos_cipher</span></i> | <strong><span>prefer_stoc_cipher</span></strong> <i><span class="varname">prefer_stoc_cipher</span></i> | <strong><span>prefer_ctos_hmac</span></strong> <i><span class="varname">prefer_ctos_hmac</span></i> | <strong><span>prefer_stoc_hmac</span></strong> <i><span class="varname">prefer_stoc_hmac</span></i> | <strong><span>-ki</span></strong> <i><span class="varname">interval</span></i> | <strong><span>-kc</span></strong> <i><span class="varname">count</span></i> ] <sup>*</sup> <strong><span>username</span></strong> <i><span class="varname">user-name</span></i> <strong><span>password</span></strong> <i><span class="varname">password</span></i> <strong><span>sourcefile</span></strong> <i><span class="varname">source-file</span></i> [ <strong><span>destination</span></strong> <i><span class="varname">destination</span></i> ]</p>
</td>
<td class="cellrowborder" valign="top" width="34.813481348134815%" headers="mcps1.3.3.4.3.1.2.4.1.3 "><p>Connect to the SFTP server in IPv4 mode and download files from the server to the SFTP client or upload files from the SFTP client to the server.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="14.9014901490149%" headers="mcps1.3.3.4.3.1.2.4.1.1 "><p>Connect to the SFTP server using an IPv6 address.</p>
</td>
<td class="cellrowborder" valign="top" width="50.28502850285028%" headers="mcps1.3.3.4.3.1.2.4.1.2 "><p><a href="cmdqueryname=sftp+client-transfile"><b><span class="cmdname">sftp client-transfile</span></b></a> { <strong><span>get</span></strong> | <strong><span>put</span></strong> } <strong><span>ipv6</span></strong> [ <strong><span>-a</span></strong> <i><span class="varname">source-ipv6-address</span></i> ] <strong><span>host-ip</span></strong> <i><span class="varname">host-ipv6</span></i> [ <strong><span>-oi</span></strong> <i><span class="varname">interface-type interface-number</span></i> ] [ <i><span class="varname">port</span></i> ] [ <strong><span>public-net</span></strong> | <strong><span>-vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> | <strong><span>prefer_kex</span></strong> <i><span class="varname">prefer_kex</span></i> | <strong><span>identity-key</span></strong> { <strong><span>rsa</span></strong> | <strong><span>dsa</span></strong> | <strong><span>ecc</span></strong> } | <strong><span>prefer_ctos_cipher</span></strong> <i><span class="varname">prefer_ctos_cipher</span></i> | <strong><span>prefer_stoc_cipher</span></strong> <i><span class="varname">prefer_stoc_cipher</span></i> | <strong><span>prefer_ctos_hmac</span></strong> <i><span class="varname">prefer_ctos_hmac</span></i> | <strong><span>prefer_stoc_hmac</span></strong> <i><span class="varname">prefer_stoc_hmac</span></i> | <strong><span>-ki</span></strong> <i><span class="varname">interval</span></i> | <strong><span>-kc</span></strong> <i><span class="varname">count</span></i> ] <sup>*</sup> <strong><span>username</span></strong> <i><span class="varname">user-name</span></i> <strong><span>password</span></strong> <i><span class="varname">password</span></i> <strong><span>sourcefile</span></strong> <i><span class="varname">source-file</span></i> [ <strong><span>destination</span></strong> <i><span class="varname">destination</span></i> ]</p>
</td>
<td class="cellrowborder" valign="top" width="34.813481348134815%" headers="mcps1.3.3.4.3.1.2.4.1.3 "><p>Connect to the SFTP server in IPv6 mode and download files from the server to the SFTP client or upload files from the SFTP client to the server.</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="p">The following is used for reference only.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>sftp client-transfile get host-ip 10.10.1.1 username client password YsHsjx_202206 sourcefile sourcefile.txt</strong>
Trying 10.10.1.1 ...
Press CTRL+K to abort
Connected to 10.10.1.1 ...
Remote file: /sourcefile.txt ---&gt;  Local file: 1#<span><span>flash</span></span>:/sourcefile.txt
Downloading the file. Please wait..
Downloading file successfully ended.  
File download is completed in 375 seconds. </pre>
</div>
</p></li><li id="EN-US_TASK_0000001563750989__step167318301294"><span id="EN-US_TASK_0000001563750989__"><strong>(Interactive mode) Log in to another device to perform file operations.</strong></span><ol><li class="substepexpand"><span><strong>Connect to another device using SFTP commands.</strong></span><p>
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="hsides" border="1" rules="all"><caption><b>Table 4 </b>Connecting to another device using SFTP commands</caption><thead align="left"><tr valign="middle"><th align="center" class="cellrowborder" valign="middle" width="14.811481148114813%" id="mcps1.3.3.5.2.1.2.1.2.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="center" class="cellrowborder" valign="middle" width="45.01450145014501%" id="mcps1.3.3.5.2.1.2.1.2.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="center" class="cellrowborder" valign="middle" width="40.17401740174017%" id="mcps1.3.3.5.2.1.2.1.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="14.811481148114813%" headers="mcps1.3.3.5.2.1.2.1.2.4.1.1 "><p>Connect to the SFTP server using an IPv4 address in the system view.</p>
</td>
<td class="cellrowborder" valign="top" width="45.01450145014501%" headers="mcps1.3.3.5.2.1.2.1.2.4.1.2 "><p><a href="cmdqueryname=sftp"><b><span class="cmdname">sftp</span></b></a> [ <strong><span>-a</span></strong> <i><span class="varname">source-ip-address</span></i> | <strong><span>-i</span></strong> <i><span class="varname">interface-type interface-number</span></i> ] [ <strong><span>-force-receive-pubkey</span></strong> ] <i><span class="varname">host-ip-address</span></i> [ <i><span class="varname">port-number</span></i> ] [ [ <strong><span>prefer_kex</span></strong><em> </em><i><span class="varname">prefer_kex</span></i> ] | [ <strong><span>prefer_ctos_cipher</span></strong><em> </em><i><span class="varname">prefer_ctos_cipher</span></i> ] | [ <strong><span>prefer_stoc_cipher</span></strong> <i><span class="varname">prefer_stoc_cipher</span></i> ] | [ <strong><span>prefer_ctos_hmac</span></strong><em> </em><i><span class="varname">prefer_ctos_hmac</span></i> ] | [ <strong><span>prefer_stoc_hmac</span></strong><em> </em><i><span class="varname">prefer_stoc_hmac</span></i> ] | [ <strong><span>prefer_ctos_compress zlib</span></strong> ] | [ <strong><span>prefer_stoc_compress zlib</span></strong> ] | [ <strong><span>public-net</span></strong> | <strong><span>-vpn-instance</span></strong><em> </em><i><span class="varname">vpn-instance-name</span></i> ] | [ <strong><span>-ki</span></strong><em> </em><i><span class="varname">interval</span></i> ] | [ <strong><span>-kc</span></strong><em> </em><i><span class="varname">count</span></i> ] | [ <strong><span>identity-key</span></strong><em> </em><i><span class="varname">identity-key-type</span></i> ] | [ <strong><span>user-identity-key</span></strong><em> </em><i><span class="varname">user-key</span></i> ] ] <sup>*</sup></p>
</td>
<td class="cellrowborder" rowspan="2" valign="top" width="40.17401740174017%" headers="mcps1.3.3.5.2.1.2.1.2.4.1.3 "><p>Select either of the commands based on the address type.</p>
<p>In most cases, only IP addresses need to be specified in the command.</p>
<p>If the source interface is specified using <strong><span>-i</span></strong> <i><span class="varname">interface-type interface-number</span></i>, the <strong><span>public-net</span></strong> and <strong><span>-vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> parameters are not supported.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.3.5.2.1.2.1.2.4.1.1 "><p>Connect to the SFTP server using an IPv6 address in the system view.</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.5.2.1.2.1.2.4.1.2 "><p><span><a href="cmdqueryname=sftp+ipv6"><b><span class="cmdname">sftp ipv6</span></b></a> [ <strong><span>-force-receive-pubkey</span></strong> ] [ <strong><span>-a</span></strong> <i><span class="varname">source-ipv6-address</span></i> ] <i><span class="varname">host-ipv6-address</span></i> [ [ [ <strong><span>-vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] | <strong><span>public-net</span></strong> ] | [ <strong><span>-oi</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> } ] [ <i><span class="varname">port-number</span></i> ] | [ <strong><span>prefer_kex</span></strong> { <i><span class="varname">prefer_kex</span></i> } ] | [ <strong><span>prefer_ctos_cipher</span></strong> <i><span class="varname">prefer_ctos_cipher</span></i> ] | [ <strong><span>prefer_stoc_cipher</span></strong> <i><span class="varname">prefer_stoc_cipher</span></i> <u>]</u> | [ <strong><span>prefer_ctos_hmac</span></strong> <i><span class="varname">prefer_ctos_hmac</span></i><span> ]</span> |<span> [</span> <strong><span>prefer_stoc_hmac</span></strong> <i><span class="varname">prefer_stoc_hmac</span></i><span> ]</span> |<span> [</span> <strong><span>prefer_ctos_compress</span></strong> <strong><span>zlib</span></strong><span> ]</span> |<span> [</span> <strong><span>prefer_stoc_compress</span></strong> <strong><span>zlib</span></strong><span> ]</span> |<span><span> [</span></span> <strong><span>-ki</span></strong> <i><span class="varname">interval</span></i><span><span> ]</span></span> |<span><span> [</span></span> <strong><span>-kc</span></strong> <i><span class="varname">count</span></i><span><span> ]</span></span> |<span><span> [</span></span> <strong><span>identity-key</span></strong> <i><span class="varname">identity-key-type</span></i><span><span> ]</span></span> |<span><span> [</span></span> <strong><span>user-identity-key</span></strong> <i><span class="varname">user-key</span></i><span><span> ]</span></span> ] <sup>*</sup></span></p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="p">For example, after you run the following command:<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>sftp 10.137.217.201</strong></pre>
</div>
<p>If the command prompt <strong>sftp-client&gt;</strong> is displayed, you have entered in the SFTP client view, indicating that the SFTP client is successfully connected to the server.</p>
</p></li><li class="substepexpand"><span><strong>Perform file operations using SFTP commands.</strong></span><p><p>After logging in to the SSH server from the SFTP client, you can perform the operations listed in <a href="#EN-US_TASK_0000001563750989__file13-table_03">Table 5</a> on the SFTP client.</p>
<p>You can perform one or more operations listed in the following table, and in any sequence.</p>

<div class="tableBorder"><a name="EN-US_TASK_0000001563750989__file13-table_03"></a><a name="file13-table_03"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TASK_0000001563750989__file13-table_03" frame="hsides" border="1" rules="all"><caption><b>Table 5 </b>Performing file operations using SFTP commands</caption><thead align="left"><tr><th align="center" class="cellrowborder" valign="top" width="29.212921292129213%" id="mcps1.3.3.5.2.2.2.3.2.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="35.393539353935395%" id="mcps1.3.3.5.2.2.2.3.2.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="35.393539353935395%" id="mcps1.3.3.5.2.2.2.3.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr valign="middle"><td class="cellrowborder" valign="middle" width="29.212921292129213%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.1 "><p>Change the current working directory.</p>
</td>
<td class="cellrowborder" valign="middle" width="35.393539353935395%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.2 "><p><a href="cmdqueryname=cd"><b><span class="cmdname">cd</span></b></a> [ <i><span class="varname">path</span></i> ]</p>
</td>
<td class="cellrowborder" valign="middle" width="35.393539353935395%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" valign="middle" width="29.212921292129213%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.1 "><p>Chang the current working directory to its upper-level directory.</p>
</td>
<td class="cellrowborder" valign="middle" width="35.393539353935395%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.2 "><p><a href="cmdqueryname=cdup"><b><span class="cmdname">cdup</span></b></a></p>
</td>
<td class="cellrowborder" valign="middle" width="35.393539353935395%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" valign="middle" width="29.212921292129213%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.1 "><p>Display the current working directory.</p>
</td>
<td class="cellrowborder" valign="middle" width="35.393539353935395%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.2 "><p><a href="cmdqueryname=pwd"><b><span class="cmdname">pwd</span></b></a></p>
</td>
<td class="cellrowborder" valign="middle" width="35.393539353935395%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" valign="middle" width="29.212921292129213%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.1 "><p>Display the list of files in the specified directory.</p>
</td>
<td class="cellrowborder" valign="middle" width="35.393539353935395%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.2 "><p><a href="cmdqueryname=dir"><b><span class="cmdname">dir</span></b></a> [ <i><span class="varname">remote-directory</span></i> [ <em>local-filename</em> ] ]</p>
<p>or</p>
<p><a href="cmdqueryname=ls"><b><span class="cmdname">ls</span></b></a> [ <i><span class="varname">remote-directory</span></i> [ <em>local-filename</em> ] ]</p>
</td>
<td class="cellrowborder" valign="middle" width="35.393539353935395%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.3 "><p>The <a href="cmdqueryname=dir"><b><span class="cmdname">dir</span></b></a> command has the same effect as the <a href="cmdqueryname=ls"><b><span class="cmdname">ls</span></b></a> command.</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" valign="middle" width="29.212921292129213%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.1 "><p>Delete a directory from the server.</p>
</td>
<td class="cellrowborder" valign="middle" width="35.393539353935395%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.2 "><p><a href="cmdqueryname=rmdir"><b><span class="cmdname">rmdir</span></b></a> <i><span class="varname">directory-name</span></i></p>
</td>
<td class="cellrowborder" valign="middle" width="35.393539353935395%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.3 "><p>A maximum of 10 directories can be deleted at a time.</p>
<p>Before running the <a href="cmdqueryname=rmdir"><b><span class="cmdname">rmdir</span></b></a> command to delete directories, ensure that the directories do not contain any files. Otherwise, the deletion fails.</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" valign="middle" width="29.212921292129213%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.1 "><p>Create a directory on the server.</p>
</td>
<td class="cellrowborder" valign="middle" width="35.393539353935395%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.2 "><p><a href="cmdqueryname=mkdir"><b><span class="cmdname">mkdir</span></b></a> <i><span class="varname">remote-directory</span></i></p>
</td>
<td class="cellrowborder" valign="middle" width="35.393539353935395%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" valign="middle" width="29.212921292129213%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.1 "><p>Rename a file on the server.</p>
</td>
<td class="cellrowborder" valign="middle" width="35.393539353935395%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.2 "><p><a href="cmdqueryname=rename"><b><span class="cmdname">rename</span></b></a> <i><span class="varname">old-name</span></i> <i><span class="varname">new-name</span></i></p>
</td>
<td class="cellrowborder" valign="middle" width="35.393539353935395%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" valign="middle" width="29.212921292129213%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.1 "><p>Download a file from the server.</p>
</td>
<td class="cellrowborder" valign="middle" width="35.393539353935395%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.2 "><p><a href="cmdqueryname=get"><b><span class="cmdname">get</span></b></a> <i><span class="varname">remote-filename</span></i> [ <i><span class="varname">local-filename</span></i> ]</p>
</td>
<td class="cellrowborder" valign="middle" width="35.393539353935395%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.3 "><p><span>-</span></p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" valign="middle" width="29.212921292129213%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.1 "><p>Upload a file to the server.</p>
</td>
<td class="cellrowborder" valign="middle" width="35.393539353935395%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.2 "><p><a href="cmdqueryname=put"><b><span class="cmdname">put</span></b></a> <i><span class="varname">local-filename</span></i> [ <i><span class="varname">remote-filename</span></i> ]</p>
</td>
<td class="cellrowborder" valign="middle" width="35.393539353935395%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.3 "><p><span>-</span></p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" valign="middle" width="29.212921292129213%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.1 "><p>Delete a file from the server.</p>
</td>
<td class="cellrowborder" valign="middle" width="35.393539353935395%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.2 "><p><a href="cmdqueryname=remove"><b><span class="cmdname">remove</span></b></a> <i><span class="varname">path</span></i><span></span></p>
<p>or</p>
<p><strong><a href="cmdqueryname=delete"><b><span class="cmdname">delete</span></b></a></strong> <em>path</em></p>
</td>
<td class="cellrowborder" valign="middle" width="35.393539353935395%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.3 "><p>A maximum of 10 files can be deleted at a time.</p>
<p>The <a href="cmdqueryname=remove"><b><span class="cmdname">remove</span></b></a> command has the same effect as the <a href="cmdqueryname=delete"><b><span class="cmdname">delete</span></b></a> command.</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" valign="middle" width="29.212921292129213%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.1 "><p>Display the command help on the SFTP client.</p>
</td>
<td class="cellrowborder" valign="middle" width="35.393539353935395%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.2 "><p><a href="cmdqueryname=help"><b><span class="cmdname">help</span></b></a> [ <i><span class="varname">command-name</span></i> ]</p>
</td>
<td class="cellrowborder" valign="middle" width="35.393539353935395%" headers="mcps1.3.3.5.2.2.2.3.2.4.1.3 "><p>-</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li></ol>
</li><li id="EN-US_TASK_0000001563750989__file1306_sftp"><span id="EN-US_TASK_0000001563750989__"><strong>Disconnect from the SFTP server.</strong></span><p>
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 6 </b>Disconnecting from the SFTP server</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.3.6.2.1.2.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.3.6.2.1.2.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.3.6.2.1.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.3.6.2.1.2.4.1.1 "><p>Disconnect from the SFTP server.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.3.6.2.1.2.4.1.2 "><p><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.3.6.2.1.2.4.1.3 "><p><span>You can also run the <a href="cmdqueryname=bye"><b><span class="cmdname">bye</span></b></a> or <a href="cmdqueryname=exit"><b><span class="cmdname">exit</span></b></a> command to disconnect from the SFTP server.</span></p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li></ul></div>
<div class="example"><a name="EN-US_TASK_0000001563750989__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><ul><li>Run the <a href="cmdqueryname=display+sftp+client"><b><span class="cmdname">display sftp client</span></b></a> command to check the configuration of the SFTP client.</li><li>Run the <a href="cmdqueryname=display+ssh+server-info"><b><span class="cmdname">display ssh server-info</span></b></a> command to check the mapping between all SSH servers and public keys on the client.</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_file_cfg_0013.html">Managing Files Using SFTP
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_file_cfg_0014.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_file_cfg_0016.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>