
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring BGP4+ Route Dampening">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_bgp6_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="vrp_bgp6_cfg_0087.html">
<meta name="DC.Relation" scheme="URI" content="vrp_bgp6_cfg_0058.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="BGP4+">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP4+">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001130782206">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring BGP4+ Route Dampening</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001130782206"></a><a name="EN-US_TASK_0000001130782206"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring BGP4+ Route Dampening</h1>
<div class="taskbody"><div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001130782206__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>Before configuring BGP4+ route dampening, you have completed the following task:</p>
<ul><li><a href="vrp_bgp6_cfg_0006.html">Configure basic BGP4+ functions.</a></li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001130782206__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>BGP4+ route dampening is designed to suppress unstable routes and improve network stability. With this function enabled, a BGP4+ device does not add any unstable routes to its BGP4+ routing table or advertise them to its BGP4+ peers.</p>
<p>A primary cause of route instability is route flapping, which occurs when a route repeatedly appears and disappears in the routing table. BGP4+ is typically used in complex networks where routes change frequently. Frequent route flapping consumes lots of bandwidth and CPU resources and even seriously affects network operations. To prevent the impact of frequent route flapping, BGP4+ uses route dampening to suppress unstable routes.</p>
<p>BGP4+ route dampening uses different dampening parameters to suppress different routes based on a specified route-policy. In addition, you can also configure different route dampening parameters for different nodes of the same route-policy. In this way, BGP4+ can use different route dampening parameters when route flapping occurs to suppress the routes that match the route-policy. For example, on real-world networks, a long dampening period of time is set for routes with a long mask, whereas a short dampening period of time is set for routes with a short mask (for example, an 8-bit mask).</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001130782206__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enter the BGP view.</span><p><pre class="screen"><a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i></pre>
</p></li><li><span>Enter the IPv6 unicast address family view.</span><p><pre class="screen"><a href="cmdqueryname=ipv6-family+unicast"><b><span class="cmdname">ipv6-family</span></b></a> <strong><span>unicast</span></strong></pre>
</p></li><li><span>Set BGP4+ route dampening parameters.</span><p><pre class="screen"><a href="cmdqueryname=dampening+route-policy+update-standard"><b><span class="cmdname">dampening</span></b></a> [ <i><span class="varname">half-life-reach reuse suppress ceiling</span></i> | <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> ] <sup>*</sup><span> [ <strong><span>update-standard</span></strong> ]</span>
<a href="cmdqueryname=dampening+ibgp+route-policy+update-standard"><b><span class="cmdname">dampening ibgp</span></b></a> [ <i><span class="varname">half-life-reach</span></i> <i><span class="varname">reuse</span></i> <i><span class="varname">suppress</span></i> <i><span class="varname">ceiling</span></i> | <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> ] <sup>*</sup> [ <strong><span>update-standard</span></strong> ]</pre>
<p>The values of <i><span class="varname">reuse</span></i>, <i><span class="varname">suppress</span></i>, and <i><span class="varname">ceiling</span></i> must meet the following condition: <i><span class="varname">reuse</span></i> &lt; <i><span class="varname">suppress</span></i> &lt; <i><span class="varname">ceiling</span></i>.</p>
<p>If the <a href="cmdqueryname=dampening"><b><span class="cmdname">dampening</span></b></a> command is run with a route-policy referenced, BGP4+ applies the route dampening parameters only to the routes that match the route-policy.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001130782206__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001130782206__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001130782206__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>After configuring the function, verify the configuration.</p>
<ul><li><p>Run the <a href="cmdqueryname=display+bgp+ipv6+routing-table+dampened"><b><span class="cmdname">display bgp ipv6 routing-table dampened</span></b></a> command to check dampened BGP4+ routes.</p>
</li><li><p>Run the <a href="cmdqueryname=display+bgp+ipv6+routing-table+dampening+parameter"><b><span class="cmdname">display bgp ipv6 routing-table dampening parameter</span></b></a> command to check BGP4+ route dampening parameters.</p>
</li><li><p>Run the <a href="cmdqueryname=display+bgp+ipv6+routing-table+flap-info+regular-expression"><b><span class="cmdname">display bgp ipv6 routing-table flap-info</span></b></a> [ <strong><span>regular-expression</span></strong> <i><span class="varname">as-regular-expression</span></i> | <strong><span>as-path-filter</span></strong> { <i><span class="varname">as-path-filter-number</span></i> | <i><span class="varname">as-path-filter-name</span></i> } | <i><span class="varname">network-address</span></i> [ { <i><span class="varname">mask</span></i> | <i><span class="varname">mask-length</span></i> } [ <strong><span>longer-match</span></strong> ] ] ] command to check BGP4+ route flapping statistics.</p>
</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_bgp6_cfg_0001.html">BGP4+ Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_bgp6_cfg_0087.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_bgp6_cfg_0058.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>