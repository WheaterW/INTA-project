
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Parameters for Interoperation Between Huawei and Non-Huawei Devices">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_vbst_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_vbst_cfg_0023.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_vbst_cfg_0030.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="VBST">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="VBST">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001564128429">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring Parameters for Interoperation Between Huawei and Non-Huawei Devices</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001564128429"></a><a name="EN-US_TASK_0000001564128429"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Parameters for Interoperation Between Huawei and Non-Huawei Devices</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001564128429__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>When Huawei devices running VBST are connected to non-Huawei devices, the following parameters can be configured:</p>
<ul><li>Proposal/Agreement (P/A) mechanism<p>The P/A mechanism (rapid transition mechanism) supports two modes: common and enhanced. The same mode must be configured on Huawei and non-Huawei devices to ensure proper communication between devices. You can configure Huawei devices to work in the same P/A mechanism where the non-Huawei devices work.</p>
</li><li>Discarding non-standard STP/RST BPDUs sent by HanDreamnet switches<p>On a network with Huawei devices and HanDreamnet switches, non-standard STP/RST BPDUs sent by HanDreamnet switches may cause transient loops. To prevent this, configure ports on Huawei devices to discard the non-standard STP/RST BPDUs received from HanDreamnet switches.</p>
</li><li>Switchback delay<p>When a VBST-enabled Huawei device is connected to a PVST-enabled non-Huawei device that does not support the P/A mechanism, the negotiation on the two ends is not synchronized and network convergence time increases. If the non-Huawei device is the root bridge and the Huawei device has an alternate port, in addition to the local port connected to the non-Huawei device, you can enable the switchback delay function on the local port. The switchback delay is 2 x Forward Delay + 8 seconds. This ensures that the port on the peer device completes the spanning tree calculation before the local port performs the spanning tree switchover when the status of the port on the peer device changes. In this way, services are not interrupted during the port status switchover. After the switchback delay function is enabled on a port, the function takes effect in all VLANs to which the port joins. If the device does not have an alternate port in a specific VLAN, the status of the local port can recover after a delay of 2 x Forward Delay + 8 seconds, even when a link fault is rectified. Therefore, you should exercise caution when enabling this function.</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001564128429__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enter the interface view.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type interface-number</span></i></pre>
</p></li><li><span>Switch the interface working mode to Layer 2.</span><p><pre class="screen" id="EN-US_TASK_0000001564128429__en-us_task_0228023023_screen242613534459"><a href="cmdqueryname=portswitch"><b><span class="cmdname" id="EN-US_TASK_0000001564128429__en-us_task_0228023023_cmdname942715314511">portswitch</span></b></a></pre>
<p id="EN-US_TASK_0000001564128429__en-us_task_0228023023_p1175711105814">Determine whether to perform this step based on the current interface working mode.</p>
</p></li><li><span>Set the parameters for interoperation with non-Huawei devices as needed.</span><p><ul><li>Configure the interface to use the common P/A mechanism.<pre class="screen"><a href="cmdqueryname=stp+no-agreement-check"><b><span class="cmdname">stp no-agreement-check</span></b></a></pre>
<p>By default, an interface uses the enhanced P/A mechanism.</p>
</li><li>Configure the interface to discard non-standard STP/RST BPDUs sent by HanDreamnet switches.<pre class="screen"><a href="cmdqueryname=stp+agreement-legacy"><b><span class="cmdname">stp agreement-legacy</span></b></a></pre>
<p>By default, an interface does not discard non-standard STP/RST BPDUs sent by HanDreamnet switches.</p>
</li><li>Configure the switchback delay function on the interface.<pre class="screen"><a href="cmdqueryname=stp+revertive+slow"><b><span class="cmdname">stp revertive slow</span></b></a></pre>
<p>By default, the switchback delay function is disabled on an interface.</p>
</li></ul>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001564128429__en-us_task_0228023023_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001564128429__en-us_task_0228023023_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0000001564128429__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+this"><b><span class="cmdname">display this</span></b></a> command in the interface view to check the parameters for interoperation with non-Huawei devices.</p>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_vbst_cfg_0001.html">VBST Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_vbst_cfg_0023.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="galaxy_vbst_cfg_0030.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>