
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Specifying the Basic Software Package That Takes Effect at the Next Startup">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="gx_upgrade_cfg_0006.html">
<meta name="DC.Relation" scheme="URI" content="gx_upgrade_cfg_0010.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Upgrade Maintenance">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Upgrade Maintenance">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="Upgrade Maintenance">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001563889213">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Specifying the Basic Software Package That Takes Effect at the Next Startup</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001563889213"></a><a name="EN-US_TASK_0000001563889213"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Specifying the Basic Software Package That Takes Effect at the Next Startup</h1>
<div class="taskbody"><div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001563889213__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>Before specifying the basic software package that takes effect at the next startup, you have completed the following task:</p>
<ul><li><a href="gx_upgrade_cfg_0005.html">Prepare for upgrade maintenance</a>.</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001563889213__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Upgrading the basic software package version of the device can improve device performance, add new features, and eliminate defects existing because software in the current version is not updated in time.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>Ensure that the uploaded files are correct by comparing the file sizes and dates.</li><li>Run the <a href="cmdqueryname=dir"><b><span class="cmdname">dir</span></b></a> <i><span class="varname">file-name</span></i> command to check whether the names of the basic software packages (*.cc) in the storage media of the  are the same as the name of the uploaded basic software package.</li></ul>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001563889213__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Upload a basic software package to the storage medium. For details, see "File System Management Configuration" in <em><span>Configuration Guide</span> &gt; Basic Configuration</em>. If the obtained software package is in the *.zip format, decompress the package and upload it.</span></li><li><span>(Optional) Enable the version rollback function and set a rollback timeout period in an upgrade.</span><p><pre class="screen"><a href="cmdqueryname=upgrade+rollback+rollback-timer"><b><span class="cmdname">upgrade rollback rollback-timer </span></b></a><i><span class="varname">time-value</span></i></pre>
<p>If you do not log in to a device within the timeout period after the device is restarted, the system automatically rolls back to the source version.</p>
</p></li><li><span>Specify the basic software package that takes effect at the next startup.</span><p><pre class="screen"><a href="cmdqueryname=startup+system-software"><b><span class="cmdname">startup system-software </span></b></a><i><span class="varname">name</span></i> [ <strong><span>all</span></strong> | <strong><span>slot</span></strong> <i><span class="varname">slot-id</span></i> ]</pre>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>If a feature software package has been installed on a device and the basic software package needs to be upgraded, delete the existing feature software package before you specify the basic software package that takes effect at the next startup. For details, see <a href="gx_upgrade_cfg_0014.html">Specifying the Feature Software Package That Takes Effect at the Next Startup</a>.</p>
<p>If an independent-hardware-release package has been installed on a device and the basic software package that takes effect at the next startup supports the current board, you do not need to pay attention to the version of the independent-hardware-release package. If the basic software package that takes effect at the next startup does not support the current board, install an independent-hardware-release package that matches the new basic software package. For details, see <a href="gx_upgrade_cfg_0020.html">Specifying the Independent-Hardware-Release Package That Takes Effect at the Next Startup</a>.</p>
</div></div>
<div class="notice"><span class="noticetitle"><img src="public_sys-resources/notice_3.0-en-us.png"> </span><div class="noticebody"><ul><li><p>If the system is started with empty configuration, you must run the <a href="cmdqueryname=save"><b><span class="cmdname">save</span></b></a> command before specifying a next-startup configuration file.</p>
</li><li><p>To replace the next-startup configuration file with a <strong>device.sys</strong> configuration file containing new hardware configurations, you need to insert the new hardware. When the hardware successfully registers, run the <a href="cmdqueryname=save"><b><span class="cmdname">save</span></b></a> command.</p>
</li><li><p>In the current version, you are not allowed to upload the hardware configuration file (<strong>device.sys</strong>) of a device to any other devices and then restart the other devices directly. Otherwise, these devices' hardware fails to register.</p>
</li><li>The <strong>device.sys</strong> file is the system hardware configuration file that saves the hardware configuration information reported by a device.</li></ul>
</div></div>
</p></li><li><span>(Optional) Specify the patch that takes effect at the next startup.</span><p><pre class="screen"><a href="cmdqueryname=startup+patch"><b><span class="cmdname">startup patch </span></b></a><em>pkgname</em> <strong><span>all</span></strong></pre>
<p>For an upgraded basic software package that has a patch installed before the upgrade, if it is rolled back to the source version by specifying the basic software package that takes effect at the next startup, run this command to make the patch take effect.</p>
</p></li><li><span>Restart the device.</span><p><pre class="screen"><a href="cmdqueryname=reboot"><b><span class="cmdname">reboot</span></b></a></pre>
</p><p></p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001563889213__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><ul><li>Run the <a href="cmdqueryname=display+startup"><b><span class="cmdname">display startup</span></b></a> command to check whether the displayed information is the same as the name of the basic software package to be started.</li><li>Run the <a href="cmdqueryname=display+paf"><b><span class="cmdname">display paf</span></b></a> command to check information about the PAF file.</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="gx_upgrade_cfg_0006.html">Configuring a Basic Software Package
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="gx_upgrade_cfg_0010.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>