
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an Observing Port">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_mirror_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_mirror_cfg_0033.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_mirror_cfg_0006.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Mirroring">
<meta name="featuretype" content="System Monitoring">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Mirroring">
<meta name="featuretype" content="System Monitoring">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001512846774">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring an Observing Port</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001512846774"></a><a name="EN-US_TASK_0000001512846774"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an Observing Port</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001512846774__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p">An observing port forwards the received mirrored traffic to the directly connected monitoring device for analysis. When configuring an observing port, you can also limit the rate of mirrored packets, which applies to the following scenarios:<ul><li>The bandwidth of an observing port is higher than that of the connected peer device. In this scenario, you can limit the rate at which the observing port sends mirrored traffic, to prevent congestion or packet loss on the peer device.</li><li>Mirroring and other services are configured on an observing port (not recommended). In this scenario, you can limit the rate of mirrored traffic on the observing port to ensure the bandwidth of other services.</li></ul>
</div>
<p>Rate limiting configured on an observing port takes effect on all mirrored traffic (including incoming and outgoing mirrored traffic) received on the observing port.</p>
<p>If a large number of packets need to be mirrored and the monitoring device only needs to analyze packet headers to obtain packet sources, you can configure the function of copying a specified length of original packets to an observing port. This function greatly saves storage space on the monitoring device.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>To prevent other services from conflicting with mirroring services, you are advised not to configure other services on observing ports.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001512846774__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Configure an observing port or observing port group. To copy packets to multiple observing ports, you can configure an observing port group.</span><p><ul><li>Configure an observing port.<pre class="screen"><a href="cmdqueryname=observe-port"><b><span class="cmdname">observe-port</span></b></a> [ <i><span class="varname">observe-port-index</span></i> ] <strong><span>interface</span></strong> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> [ <strong><span>cir</span></strong> <i><span class="varname">cir-value</span></i> [ <strong><span>gbps</span></strong> | <strong><span>kbps</span></strong> | <strong><span>mbps</span></strong> ] ]</pre>
<p>You can specify the <strong><span>cir</span></strong> <i><span class="varname">cir-value</span></i> [ <strong><span>gbps</span></strong> | <strong><span>kbps</span></strong> | <strong><span>mbps</span></strong> ] parameter to rate limit the mirrored packets.</p>
</li><li>Configure an observing port group.<pre class="screen"><a href="cmdqueryname=observe-port+group"><b><span class="cmdname">observe-port group</span></b></a> <i><span class="varname">group-id</span></i>
<a href="cmdqueryname=group-member"><b><span class="cmdname">group-member</span></b></a> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> [ <strong><span>to</span></strong> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> ] } &amp;&lt;1-8&gt;
<a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></pre>
</li></ul>
</p></li><li><span>(Optional) Configure the packet truncation function.</span><p><pre class="screen"><a href="cmdqueryname=observe-port+packet-length"><b><span class="cmdname">observe-port packet-length</span></b></a> <i><span class="varname">packet-length</span></i></pre>
<p>The specified truncation length of mirrored packets must be an integer multiple of 32. In addition, the actual length of packets to be mirrored is the configured truncation length plus a 4-byte CRC. For example, if the configured length is 64 bytes, the actual length is 68 (64+4) bytes.</p>
<p>By default, the packet truncation function is not configured.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001512846774__en-us_task_0228023023_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001512846774__en-us_task_0228023023_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001512846774__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+observe-port"><b><span class="cmdname">display observe-port</span></b></a> [ <i><span class="varname">index</span></i> ] command to check the observing port configuration.</p>
</div>
<div class="postreq"><a name="EN-US_TASK_0000001512846774__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Follow-up Procedure</h4>
<div class="p"><p>Configure an appropriate mirroring function to mirror traffic to an observing port<span> or observing port group</span>.</p>
<ul><li><a href="galaxy_mirror_cfg_0008.html">Configuring Local Port Mirroring</a></li><li><a href="galaxy_mirror_cfg_0022.html">Configuring Local VLAN Mirroring</a></li><li><a href="galaxy_mirror_cfg_0017.html">Configuring MQC-based Local Flow Mirroring</a></li></ul>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_mirror_cfg_0001.html">Mirroring Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_mirror_cfg_0033.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="galaxy_mirror_cfg_0006.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>