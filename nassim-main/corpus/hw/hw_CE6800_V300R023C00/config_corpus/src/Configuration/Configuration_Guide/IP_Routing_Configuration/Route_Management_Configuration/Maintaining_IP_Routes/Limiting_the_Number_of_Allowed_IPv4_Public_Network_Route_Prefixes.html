
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Limiting the Number of Allowed IPv4 Public Network Route Prefixes">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_ip_routing_management_cfg_0025.html">
<meta name="DC.Relation" scheme="URI" content="vrp_ip_routing_management_cfg_0027.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Route Management">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Route Management">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="Route Management">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176742225">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Limiting the Number of Allowed IPv4 Public Network Route Prefixes</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176742225"></a><a name="EN-US_TASK_0000001176742225"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Limiting the Number of Allowed IPv4 Public Network Route Prefixes</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001176742225__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>If a device imports a large number of routes, excessive system resources are consumed and system performance may deteriorate when the device is busy. To improve system security and reliability, set an upper limit on the number of IPv4 public network route prefixes supported by the device. When the number of IPv4 public network route prefixes exceeds a specified alarm threshold, an alarm is generated, prompting you to check whether unneeded IPv4 public network route prefixes exist.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001176742225__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>set the limit on the number of allowed IPv4 public network route prefixes.</span><p><pre class="screen"><span><a href="cmdqueryname=ip+prefix-limit"><b><span class="cmdname">ip prefix-limit</span></b></a></span> <i><span class="varname">number</span></i> { <i><span class="varname">alert-percent</span></i> [ <strong><span>route-unchanged</span></strong> ] | <strong><span>simply-alert</span></strong> }</pre>
</p><p><div class="p">If the <strong><span>route-unchanged</span></strong> parameter is configured, routes in the routing table remain unchanged after the number of routes exceeds the upper limit. If you decrease the <i><span class="varname">alert-percent</span></i> value and the number of IPv4 public network route prefixes in the routing table exceeds the specified upper limit, the processing is as follows:<ul><li><p>If the <strong><span>route-unchanged</span></strong> parameter is configured, routes in the routing table remain unchanged.</p>
</li><li><p>If the <strong><span>route-unchanged</span></strong> parameter is not configured, all routes in the routing table are deleted and routes are then re-added to the routing table.</p>
</li></ul>
</div>
<p>By default, the <strong><span>route-unchanged</span></strong> parameter is not configured.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><div class="p">After the number of IPv4 public network route prefixes exceeds the upper limit, note the following:<ul><li>If you run the <span><a href="cmdqueryname=ip+prefix-limit"><b><span class="cmdname">ip prefix-limit</span></b></a></span> command to increase the value of <i><span class="varname">number</span></i> or run the <span><a href="cmdqueryname=undo+ip+prefix-limit"><b><span class="cmdname">undo ip prefix-limit</span></b></a></span> command to cancel the limit, the device re-learns IPv4 public network route prefixes.</li><li>You can run the <a href="cmdqueryname=display+ip+routing-table+limit"><b><span class="cmdname">display ip routing-table limit</span></b></a> [ <strong><span>all-vpn-instance</span></strong> | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] command to view the limits on the number of allowed routes and prefixes.</li><li>Direct and static routes can still be added to the IP routing table.</li></ul>
</div>
</div></div>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176742225__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176742225__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_ip_routing_management_cfg_0025.html">Maintaining IP Routes
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_ip_routing_management_cfg_0027.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>