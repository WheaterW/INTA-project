
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring the Maximum BPDU Sending Rate (for RSTP/MSTP)">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_stp_cfg_1097.html">
<meta name="DC.Relation" scheme="URI" content="vrp_stp_cfg_1106.html">
<meta name="DC.Relation" scheme="URI" content="vrp_stp_cfg_1108.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="MSTP">
<meta name="featurename" content="RSTP">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MSTP">
<meta name="featurename" content="RSTP">
<meta name="featurename" content="STP">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featurename" content="MSTP">
<meta name="featurename" content="RSTP">
<meta name="featurename" content="STP">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001345158101">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring the Maximum BPDU Sending Rate (for RSTP/MSTP)</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001345158101"></a><a name="EN-US_TASK_0000001345158101"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring the Maximum BPDU Sending Rate (for RSTP/MSTP)</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001345158101__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>The more BPDUs that are sent by an interface within a Hello Time timer, the higher the interface BPDU sending rate, and the more resources are occupied in the system. Appropriately limiting the BPDU sending rate can prevent excess bandwidth usage caused by route flapping.</p>
<p>To set the same maximum BPDU sending rate for all interfaces on a device, run the <a href="cmdqueryname=stp+transmit-limit"><b><span class="cmdname">stp transmit-limit</span></b></a> command in the system view.</p>
<p>The <a href="cmdqueryname=stp+transmit-limit"><b><span class="cmdname">stp transmit-limit</span></b></a> command configuration in the interface view takes precedence over that in the system view. That is, if this command is configured in both the system view and interface view, the configuration in the interface view takes effect.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001345158101__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>In the system view, set the maximum number of BPDUs that each interface can send per second.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Set the maximum number of BPDUs that each interface can send per second.</span><p><pre class="screen"><a href="cmdqueryname=stp+transmit-limit"><b><span class="cmdname">stp transmit-limit</span></b></a> <i><span class="varname">packet-number</span></i></pre>
<p>By default, an interface sends a maximum of six BPDUs per second.</p>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001345158101__en-us_task_0234857734_screen14848162118611"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001345158101__en-us_task_0234857734_cmdname1784862115612">commit</span></b></a></pre>
</p></li></ol>
</li><li><span>In the interface view, set the maximum number of BPDUs that the specified interface can send per second.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the interface view.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type interface-number</span></i></pre>
</p></li><li class="substepexpand"><span>Switch the interface working mode to Layer 2.</span><p><pre class="screen" id="EN-US_TASK_0000001345158101__en-us_task_0000001345238505_screen12871112019504"><a href="cmdqueryname=portswitch"><b><span class="cmdname" id="EN-US_TASK_0000001345158101__en-us_task_0000001345238505_cmdname482044463313">portswitch</span></b></a></pre>
<p id="EN-US_TASK_0000001345158101__en-us_task_0000001345238505_p283216975014">Determine whether to perform this step based on the current interface working mode.</p>
</p></li><li class="substepexpand"><span>Set the maximum number of BPDUs that the interface can send per second.</span><p><pre class="screen"><a href="cmdqueryname=stp+transmit-limit"><b><span class="cmdname">stp transmit-limit</span></b></a> <i><span class="varname">packet-number</span></i></pre>
<p>By default, the maximum number of BPDUs that an interface sends per second is the value configured using the <a href="cmdqueryname=stp+transmit-limit+%28system+view%29"><b><span class="cmdname">stp transmit-limit (system view)</span></b></a> command. If the <a href="cmdqueryname=stp+transmit-limit+%28system+view%29"><b><span class="cmdname">stp transmit-limit (system view)</span></b></a> command is not configured, an interface sends a maximum of six BPDUs per second.</p>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001345158101__en-us_task_0234857734_screen14848162118611_1"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001345158101__en-us_task_0234857734_cmdname1784862115612_1">commit</span></b></a></pre>
</p></li></ol>
</li></ul></div>
<div class="postreq"><a name="EN-US_TASK_0000001345158101__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+stp"><b><span class="cmdname">display stp</span></b></a> [ <strong><span>process</span></strong> <i><span class="varname">process-id</span></i> ] [ <strong><span>instance</span></strong> <i><span class="varname">instance-id</span></i> ] [ <strong><span>interface</span></strong> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <strong><span>slot</span></strong> <i><span class="varname">slot-id</span></i> ] command and check the Transit Limit field to verify the maximum BPDU sending rate of the specified interface.</p>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_stp_cfg_1097.html">Configuring Parameters That Affect STP/RSTP/MSTP Topology Convergence
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_stp_cfg_1106.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_stp_cfg_1108.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>