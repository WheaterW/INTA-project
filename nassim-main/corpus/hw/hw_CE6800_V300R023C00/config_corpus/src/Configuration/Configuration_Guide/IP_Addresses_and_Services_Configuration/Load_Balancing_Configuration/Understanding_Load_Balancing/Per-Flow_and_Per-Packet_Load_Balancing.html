
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Per-Flow and Per-Packet Load Balancing">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_loadba_performance_cfg_0003.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_loadba_performance_cfg_0004.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_loadba_performance_cfg_0006.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Load Balancing">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Load Balancing">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="Load Balancing">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001564001377">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Per-Flow and Per-Packet Load Balancing</title>
</head>
<body><a name="EN-US_CONCEPT_0000001564001377"></a><a name="EN-US_CONCEPT_0000001564001377"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Per-Flow and Per-Packet Load Balancing</h1>
<div><p>Load balancing works in per-flow or per-packet mode, irrespective of whether it is route, tunnel, or trunk load balancing.</p>
<div class="section"><h4 class="sectiontitle">Per-Flow Load Balancing</h4><p>Per-flow load balancing classifies packets into different flows based on a certain rule, such as the IP 5-tuple (source IP address, destination IP address, protocol number, source port number, and destination port number). Packets of the same flow go over the same link.</p>
<p>On the network shown in <a href="#EN-US_CONCEPT_0000001564001377__fig_load-balance_feature_00501">Figure 1</a>, DeviceA sends six packets, P1, P2, P3, P4, P5, and P6 in sequence to DeviceB over links A and B in load balancing mode. P2, P3, and P5 are destined for DeviceC, and P1, P4, and P6 for DeviceD. If per-flow load balancing is used, packets destined for DeviceC can go over link A, and packets destined for DeviceD can go over link B. Alternatively, packets destined for DeviceC can go over link B, and packets destined for DeviceD can go over link A.</p>
<div class="fignone" id="EN-US_CONCEPT_0000001564001377__fig_load-balance_feature_00501"><a name="EN-US_CONCEPT_0000001564001377__fig_load-balance_feature_00501"></a><a name="fig_load-balance_feature_00501"></a><span class="figcap"><b>Figure 1 </b>Network diagram of per-flow load balancing</span><br><span><img class="vsd" src="figure/en-us_image_0000001512841634.png"></span></div>
<p><strong>Symmetric load balancing</strong></p>
<p>Symmetric load balancing is a special per-flow load balancing mode.</p>
<p>This mode distinguishes data flows based on the IP addresses of packets. In this way, the same data flow goes over the same link.</p>
<p>On the network shown in <a href="#EN-US_CONCEPT_0000001564001377__fig_load-balance_feature_00503">Figure 2</a>, DeviceA forwards the same data flow to DeviceB over link A; DeviceB obtains the same link index by exchanging the source and destination IP addresses, and then hashes the flow to link A.</p>
<div class="fignone" id="EN-US_CONCEPT_0000001564001377__fig_load-balance_feature_00503"><a name="EN-US_CONCEPT_0000001564001377__fig_load-balance_feature_00503"></a><a name="fig_load-balance_feature_00503"></a><span class="figcap"><b>Figure 2 </b>Network diagram of symmetric load balancing</span><br><span><img class="vsd" src="figure/en-us_image_0000001513041190.png"></span></div>
<p>Symmetric load balancing ensures packet sequence but not bandwidth utilization.</p>
</div>
<div class="section"><h4 class="sectiontitle">Per-Packet Load Balancing</h4><p>Per-packet load balancing evenly distributes packets among links used for load balancing based on their incoming sequence, as shown in <a href="#EN-US_CONCEPT_0000001564001377__fig_load-balance_feature_00502">Figure 3</a>.</p>
<div class="fignone" id="EN-US_CONCEPT_0000001564001377__fig_load-balance_feature_00502"><a name="EN-US_CONCEPT_0000001564001377__fig_load-balance_feature_00502"></a><a name="fig_load-balance_feature_00502"></a><span class="figcap"><b>Figure 3 </b>Network diagram of per-packet load balancing</span><br><span><img class="vsd" src="figure/en-us_image_0000001564001433.png"></span></div>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Per-packet load balancing improves bandwidth utilization but does not ensure the order in which packets are delivered. As such, it applies only to scenarios where no strict requirements are imposed on the packet order.</p>
</div></div>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_loadba_performance_cfg_0003.html">Understanding Load Balancing
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_loadba_performance_cfg_0004.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="galaxy_loadba_performance_cfg_0006.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>