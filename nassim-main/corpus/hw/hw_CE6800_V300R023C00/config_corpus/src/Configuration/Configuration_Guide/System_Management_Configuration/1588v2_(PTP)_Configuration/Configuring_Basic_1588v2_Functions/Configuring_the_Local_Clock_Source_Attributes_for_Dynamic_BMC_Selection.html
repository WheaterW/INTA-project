
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring the Local Clock Source Attributes for Dynamic BMC Selection">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_1588v2_cfg_0011.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_1588v2_cfg_0012.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_1588v2_cfg_0016.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="1588v2 (PTP)">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="1588v2 (PTP)">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="1588v2 (PTP)">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001513038962">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring the Local Clock Source Attributes for Dynamic BMC Selection</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001513038962"></a><a name="EN-US_TASK_0000001513038962"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring the Local Clock Source Attributes for Dynamic BMC Selection</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001513038962__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>After multiple 1588v2 devices are configured to import time signals from an external clock, their local clocks can participate in BMC selection. A grandmaster clock can be dynamically determined based on the BMC algorithm and provides time signals to the entire 1588v2 network. 1588v2 devices obtain clock synchronization information from the grandmaster clock through 1588v2.</p>
<p>During implementation of the dynamic BMC algorithm, 1588v2 devices select the grandmaster clock based on the following sequence of priorities: <strong><span>priority1</span></strong> &gt; <strong><span>clock-class</span></strong> &gt; <strong><span>clock-accuracy</span></strong> &gt; <strong><span>priority2</span></strong>. Specifically, the <strong><span>priority1</span></strong> values of 1588v2 devices are compared first. If the <strong><span>priority1</span></strong> values are the same, the <strong><span>clock-class</span></strong> values are compared, and the process continues in this manner. The clock with the highest priority is elected as the grandmaster clock.</p>
<p>Perform the following steps on each 1588v2 device connected to an external clock source:</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001513038962__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Configure clock source attributes for BMC selection as required.</span><p>
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Configuring clock source attributes for BMC selection</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="28.292829282928288%" id="mcps1.3.2.2.2.1.2.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="35.85358535853585%" id="mcps1.3.2.2.2.1.2.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="35.85358535853585%" id="mcps1.3.2.2.2.1.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="28.292829282928288%" headers="mcps1.3.2.2.2.1.2.4.1.1 "><p>Configure the level of a clock source.</p>
</td>
<td class="cellrowborder" valign="top" width="35.85358535853585%" headers="mcps1.3.2.2.2.1.2.4.1.2 "><p><a href="cmdqueryname=ptp+clock-source"><b><span class="cmdname">ptp clock-source</span></b></a> <strong><span>local</span></strong> <strong><span>clock-class</span></strong> <i><span class="varname">clock-class-value</span></i></p>
</td>
<td class="cellrowborder" valign="top" width="35.85358535853585%" headers="mcps1.3.2.2.2.1.2.4.1.3 "><p>By default, the level of the local clock source is 187.</p>
<div class="note"><span class="notetitle"> NOTE: </span><div class="notebody"><p>If the value of <i><span class="varname">clock-class-value</span></i> is less than 128, the device cannot function as a slave clock.</p>
</div></div>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.292829282928288%" headers="mcps1.3.2.2.2.1.2.4.1.1 "><p>Configure the clock accuracy of a clock source.</p>
</td>
<td class="cellrowborder" valign="top" width="35.85358535853585%" headers="mcps1.3.2.2.2.1.2.4.1.2 "><p><a href="cmdqueryname=ptp+clock-source"><b><span class="cmdname">ptp clock-source</span></b></a> <strong><span>local</span></strong> <strong><span>clock-accuracy</span></strong> <i><span class="varname">clock-accuracy-value</span></i></p>
</td>
<td class="cellrowborder" valign="top" width="35.85358535853585%" headers="mcps1.3.2.2.2.1.2.4.1.3 "><p>By default, the accuracy of the local clock source is 0x31.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.292829282928288%" headers="mcps1.3.2.2.2.1.2.4.1.1 "><p>Configure priority1 for a clock source.</p>
</td>
<td class="cellrowborder" valign="top" width="35.85358535853585%" headers="mcps1.3.2.2.2.1.2.4.1.2 "><p><a href="cmdqueryname=ptp+clock-source"><b><span class="cmdname">ptp clock-source</span></b></a> <strong><span>local</span></strong> <strong><span>priority1</span></strong> <i><span class="varname">priority1-value</span></i></p>
</td>
<td class="cellrowborder" valign="top" width="35.85358535853585%" headers="mcps1.3.2.2.2.1.2.4.1.3 "><p>By default, the priority1 value of the local clock source is 128.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="28.292829282928288%" headers="mcps1.3.2.2.2.1.2.4.1.1 "><p>Configure priority2 for a clock source.</p>
</td>
<td class="cellrowborder" valign="top" width="35.85358535853585%" headers="mcps1.3.2.2.2.1.2.4.1.2 "><p><a href="cmdqueryname=ptp+clock-source"><b><span class="cmdname">ptp clock-source</span></b></a> <strong><span>local</span></strong> <strong><span>priority2</span></strong> <i><span class="varname">priority2-value</span></i></p>
</td>
<td class="cellrowborder" valign="top" width="35.85358535853585%" headers="mcps1.3.2.2.2.1.2.4.1.3 "><p>By default, the priority2 value of the local clock source is 128.</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li><span>(Optional) Configure the type of the clock source traced by devices.</span><p><pre class="screen"><a href="cmdqueryname=ptp+clock-source"><b><span class="cmdname">ptp clock-source</span></b></a> <strong><span>local</span></strong> <strong><span>time-source</span></strong> <i><span class="varname">time-source-value</span></i></pre>
<p>By default, the type value of the local clock source is 8, indicating that the clock type is INTERNAL_OSCILLATOR.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001513038962__en-us_task_0228023023_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001513038962__en-us_task_0228023023_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_1588v2_cfg_0011.html">Configuring Basic 1588v2 Functions
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_1588v2_cfg_0012.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="galaxy_1588v2_cfg_0016.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>