
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring the BOOTP Client Function">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_dhcpv4_cfg_0037.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_dhcpv4_cfg_0039.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="DHCPv4">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="DHCPv4">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="DHCPv4">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001564006405">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring the BOOTP Client Function</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001564006405"></a><a name="EN-US_TASK_0000001564006405"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring the BOOTP Client Function</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001564006405__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>After the BOOTP client function is configured on a device, the device can obtain configuration parameters such as an IPv4 address from a DHCPv4 server.</p>
<p>If the IPv4 address allocated by a DHCPv4 server to a device's interface is on the same network segment as the IPv4 address of another interface on the device, the interface does not use this address or apply for a new IPv4 address from the server. To enable the interface to apply for a new IPv4 address, run the <a href="cmdqueryname=shutdown"><b><span class="cmdname">shutdown</span></b></a> and <a href="cmdqueryname=undo+shutdown"><b><span class="cmdname">undo shutdown</span></b></a> commands in sequence on the interface, or run the <a href="cmdqueryname=undo+ip+address+bootp-alloc"><b><span class="cmdname">undo ip address bootp-alloc</span></b></a> and <a href="cmdqueryname=ip+address+bootp-alloc"><b><span class="cmdname">ip address bootp-alloc</span></b></a> commands in sequence.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001564006405__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>(Optional) Configure the BOOTP client to obtain routing entries through DHCPv4.</span><p><pre class="screen"><a href="cmdqueryname=ip+route"><b><span class="cmdname">ip route</span></b></a> <i><span class="varname">ip-address</span></i> { <i><span class="varname">mask</span></i> | <i><span class="varname">mask-length</span></i> } <i><span class="varname">interface-type interface-num</span></i> <strong><span>dhcp</span></strong> [ <i><span class="varname">preference-value</span></i> ]</pre>
<p>By default, a BOOTP client does not obtain routing entries through DHCPv4.</p>
<p>After the BOOTP client is configured to dynamically obtain routing entries through DHCPv4, the next hop address of a static route changes with the gateway address.</p>
</p></li><li><span>Enter the interface view.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type interface-number</span></i></pre>
</p></li><li><span>Switch the interface working mode to Layer 3.</span><p><pre class="screen" id="EN-US_TASK_0000001564006405__en-us_task_0228023023_screen166833536478"><a href="cmdqueryname=undo+portswitch"><b><span class="cmdname" id="EN-US_TASK_0000001564006405__en-us_task_0228023023_cmdname182821059820">undo portswitch</span></b></a></pre>
<p id="EN-US_TASK_0000001564006405__en-us_task_0228023023_p18457174912148">Determine whether to perform this step based on the current interface working mode.</p>
</p></li><li><span>Enable the BOOTP client function on the interface.</span><p><pre class="screen"><a href="cmdqueryname=ip+address+bootp-alloc"><b><span class="cmdname">ip address bootp-alloc</span></b></a> [ <strong><span>unicast</span></strong> ]</pre>
<p>By default, the BOOTP client function is disabled on an interface.</p>
</p></li><li><span>(Optional) Configure parameters for the BOOTP client as required.</span><p>
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Configuring parameters for the BOOTP client</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="22.53225322532253%" id="mcps1.3.2.6.2.1.2.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="32.96329632963296%" id="mcps1.3.2.6.2.1.2.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="44.504450445044505%" id="mcps1.3.2.6.2.1.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="22.53225322532253%" headers="mcps1.3.2.6.2.1.2.4.1.1 "><p>Configure a hostname for the BOOTP client.</p>
</td>
<td class="cellrowborder" valign="top" width="32.96329632963296%" headers="mcps1.3.2.6.2.1.2.4.1.2 "><p><a href="cmdqueryname=dhcp+client+hostname"><b><span class="cmdname">dhcp client hostname</span></b></a> <i><span class="varname">hostname</span></i></p>
</td>
<td class="cellrowborder" valign="top" width="44.504450445044505%" headers="mcps1.3.2.6.2.1.2.4.1.3 "><p>The hostname of the client is filled in Option 12. To access a BOOTP client through a domain name, configure a hostname for the client. A domain name consists of a hostname and domain name suffix.</p>
<p>By default, no hostname is configured for a BOOTP client.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="22.53225322532253%" headers="mcps1.3.2.6.2.1.2.4.1.1 "><p>Configure gateway detection on the BOOTP client.</p>
</td>
<td class="cellrowborder" valign="top" width="32.96329632963296%" headers="mcps1.3.2.6.2.1.2.4.1.2 "><p><a href="cmdqueryname=dhcp+client+gateway-detect"><b><span class="cmdname">dhcp client gateway-detect</span></b></a> <strong><span>period</span></strong> <i><span class="varname">period</span></i> <strong><span>retransmit</span></strong> <i><span class="varname">retransmit</span></i> <strong><span>timeout</span></strong> <i><span class="varname">timeout</span></i></p>
</td>
<td class="cellrowborder" valign="top" width="44.504450445044505%" headers="mcps1.3.2.6.2.1.2.4.1.3 "><p>After this function is enabled, the BOOTP client sends an ARP Request message to detect the gateway status after obtaining an IPv4 address. If the client receives no ARP Reply message within the detection period, it considers the gateway address incorrect or the gateway faulty and applies for a new IPv4 address.</p>
<p>By default, gateway detection is disabled on a BOOTP client.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="22.53225322532253%" headers="mcps1.3.2.6.2.1.2.4.1.1 "><p>Configure the default route precedence obtained by the BOOTP client from the DHCPv4 server.</p>
</td>
<td class="cellrowborder" valign="top" width="32.96329632963296%" headers="mcps1.3.2.6.2.1.2.4.1.2 "><p><a href="cmdqueryname=dhcp+client+default-route+preference"><b><span class="cmdname">dhcp client default-route preference</span></b></a> <i><span class="varname">preference-value</span></i></p>
</td>
<td class="cellrowborder" valign="top" width="44.504450445044505%" headers="mcps1.3.2.6.2.1.2.4.1.3 "><p>When a device functions as a BOOTP client, you can configure the precedence of routing entries allocated by the DHCPv4 server so that the client dynamically updates its routing table.</p>
<p>By default, the default route precedence obtained by a BOOTP client from a DHCPv4 server is 60.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="22.53225322532253%" headers="mcps1.3.2.6.2.1.2.4.1.1 "><p>Configure the abnormal packet detection function.</p>
</td>
<td class="cellrowborder" valign="top" width="32.96329632963296%" headers="mcps1.3.2.6.2.1.2.4.1.2 "><p><a href="cmdqueryname=undo+dhcp+anti-attack+check+magic-cookie"><b><span class="cmdname">undo dhcp anti-attack check magic-cookie</span></b></a>: configures the device not to check the magic cookie field in received DHCPv4 messages in the system, VLAN, or interface view.</p>
<p><a href="cmdqueryname=undo+dhcp+anti-attack+check+udp-checksum"><b><span class="cmdname">undo dhcp anti-attack check udp-checksum</span></b></a>: configures the device not to check the UDP header checksum in received DHCPv4 messages in the system, VLAN, or interface view.</p>
<p><strong>dhcp udp-checksum enable</strong>: enables the device to carry the UDP header checksum in sent DHCPv4 messages in the system view.</p>
</td>
<td class="cellrowborder" valign="top" width="44.504450445044505%" headers="mcps1.3.2.6.2.1.2.4.1.3 "><p>By default, a device does not check the magic cookie field in DHCPv4 messages and directly forwards DHCPv4 messages with an incorrect magic cookie field value; instead, it checks the UDP header checksum in DHCPv4 messages and discards those with an incorrect UDP header checksum. The UDP header checksum carried in DHCP messages sent by a device is 0, and the peer device does not need to verify the checksum.</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001564006405__en-us_task_0228023023_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001564006405__en-us_task_0228023023_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0000001564006405__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><ul id="EN-US_TASK_0000001564006405__en-us_task_0000001512846606_ul1996120581603"><li id="EN-US_TASK_0000001564006405__en-us_task_0000001512846606_li896117584014">Run the <a href="cmdqueryname=display+dhcp+client"><b><span class="cmdname" id="EN-US_TASK_0000001564006405__en-us_task_0000001512846606_cmdname325303401180208">display dhcp client</span></b></a> [ <strong><span id="EN-US_TASK_0000001564006405__en-us_task_0000001512846606_cmdparmname209988410215">interface</span></strong> <i><span class="varname" id="EN-US_TASK_0000001564006405__en-us_task_0000001512846606_varname20168151720215">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0000001564006405__en-us_task_0000001512846606_varname175436212025">interface-number</span></i> ] command to check DHCPv4 client lease information.</li><li id="EN-US_TASK_0000001564006405__en-us_task_0000001512846606_li1864551019310">Run the <a href="cmdqueryname=display+dhcp+client+statistics"><b><span class="cmdname" id="EN-US_TASK_0000001564006405__en-us_task_0000001512846606_cmdname61212141517">display dhcp client statistics</span></b></a> [ <strong><span id="EN-US_TASK_0000001564006405__en-us_task_0000001512846606_cmdparmname82682012514">interface</span></strong> <i><span class="varname" id="EN-US_TASK_0000001564006405__en-us_task_0000001512846606_varname380734914515">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0000001564006405__en-us_task_0000001512846606_varname778811535513">interface-number</span></i> ] command to check message statistics on the DHCPv4 client.</li><li id="EN-US_TASK_0000001564006405__en-us_task_0000001512846606_li941014461281">Run the <a href="cmdqueryname=display+dhcp+statistics"><b><span class="cmdname" id="EN-US_TASK_0000001564006405__en-us_task_0000001512846606_cmdname291329237180208">display dhcp statistics</span></b></a> command to check statistics about DHCPv4 messages sent and received by the device.</li></ul>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_dhcpv4_cfg_0037.html">Configuring a Device to Function as a BOOTP Client
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_dhcpv4_cfg_0039.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>