
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Enabling GTSM">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_gtsm_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="spec/GTSM_limitation_v6r23c00.html">
<meta name="DC.Relation" scheme="URI" content="vrp_gtsm_cfg_0004.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="GTSM">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="GTSM">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security Protection">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001130781840">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Enabling GTSM</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001130781840"></a><a name="EN-US_TASK_0000001130781840"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Enabling GTSM</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001130781840__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Without GTSM enabled on a device, the device sends protocol packets directly to the control plane. After GTSM is enabled for a protocol:</p>
<ul><li>If a protocol packet matches a GTSM policy, the device checks whether the TTL value in the packet is within the specified range. If so, the device sends the packet to the control plane. If not, the device drops the packet.</li><li>If a protocol packet does not match the GTSM policy, the device sends the protocol packet to the control plane if the default action of "pass" is used or drops the packet if the action is set to "drop." For detailed configurations, see <a href="vrp_gtsm_cfg_0004.html">(Optional) Configuring an Action to Process Packets That Do Not Match a GTSM Policy</a>.</li></ul>
<p><a href="#EN-US_TASK_0000001130781840__table2020194613253">Table 1</a> describes the protocols that support GTSM.</p>

<div class="tableBorder"><a name="EN-US_TASK_0000001130781840__table2020194613253"></a><a name="table2020194613253"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TASK_0000001130781840__table2020194613253" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Protocols supporting GTSM</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="13.968603139686032%" id="mcps1.3.1.4.2.4.1.1" liSelected="liSelected"><p>Protocol</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="29.887011298870114%" id="mcps1.3.1.4.2.4.1.2" liSelected="liSelected"><p>Matching Granularity of a GTSM Policy</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="56.144385561443855%" id="mcps1.3.1.4.2.4.1.3" liSelected="liSelected"><p>Configuration Reference</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="13.968603139686032%" headers="mcps1.3.1.4.2.4.1.1 "><p>RIP</p>
</td>
<td class="cellrowborder" valign="top" width="29.887011298870114%" headers="mcps1.3.1.4.2.4.1.2 "><p>Public network instance or VPN instance</p>
</td>
<td class="cellrowborder" valign="top" width="56.144385561443855%" headers="mcps1.3.1.4.2.4.1.3 "><p>IP Routing Configuration &gt; RIP Configuration &gt; Improving RIP Network Security &gt; Configuring RIP GTSM</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="13.968603139686032%" headers="mcps1.3.1.4.2.4.1.1 "><p>OSPF/OSPFv3</p>
</td>
<td class="cellrowborder" valign="top" width="29.887011298870114%" headers="mcps1.3.1.4.2.4.1.2 "><p>Public network instance or VPN instance</p>
</td>
<td class="cellrowborder" valign="top" width="56.144385561443855%" headers="mcps1.3.1.4.2.4.1.3 "><p>IP Route Configuration &gt; OSPF Configuration &gt; Configuring OSPF GTSM</p>
<p>IP Route Configuration &gt; OSPFv3 Configuration &gt; Configuring OSPFv3 GTSM</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="13.968603139686032%" headers="mcps1.3.1.4.2.4.1.1 "><p>BGP/BGP4+</p>
</td>
<td class="cellrowborder" valign="top" width="29.887011298870114%" headers="mcps1.3.1.4.2.4.1.2 "><p>Public network instance or VPN instance</p>
<p>Peer IP address or peer group name</p>
</td>
<td class="cellrowborder" valign="top" width="56.144385561443855%" headers="mcps1.3.1.4.2.4.1.3 "><p>IP Route Configuration &gt; BGP Configuration &gt; Configuring BGP GTSM</p>
<p>IP Route Configuration &gt; BGP4+ Configuration &gt; Configuring BGP4+ GTSM</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>The following uses RIP as an example to describe how to enable RIP GTSM.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001130781840__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enable RIP GTSM and configure a TTL value range and GTSM policy.</span><p><pre class="screen"><a href="cmdqueryname=rip+valid-ttl-hops"><b><span class="cmdname">rip valid-ttl-hops</span></b></a> <i><span class="varname">valid-ttl-hops-value</span></i> [ <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ]</pre>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The value range is [255 â <i><span class="varname">valid-ttl-hops-value</span></i> + 1, 255].</p>
</div></div>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001130781840__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001130781840__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001130781840__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><ul><li>Run the <a href="cmdqueryname=display+gtsm+statistics"><b><span class="cmdname">display gtsm statistics</span></b></a> { <i><span class="varname">slot-id</span></i> | <strong><span>all</span></strong> } command to check GTSM statistics.</li><li>Run the <a href="cmdqueryname=reset+gtsm+statistics"><b><span class="cmdname">reset gtsm statistics</span></b></a> { <i><span class="varname">slot-id</span></i> | <strong><span>all</span></strong> } command to clear GTSM statistics.</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_gtsm_cfg_0001.html">GTSM Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="spec/GTSM_limitation_v6r23c00.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_gtsm_cfg_0004.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>