
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Obtaining Environment Variables">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_ops_cfg_0018.html">
<meta name="DC.Relation" scheme="URI" content="vrp_ops_cfg_0037.html">
<meta name="DC.Relation" scheme="URI" content="vrp_ops_cfg_0039.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="OPS">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="OPS">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="OPS">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TOPIC_0000001654962764">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Obtaining Environment Variables</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TOPIC_0000001654962764"></a><a name="EN-US_TOPIC_0000001654962764"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Obtaining Environment Variables</h1>
<div><div class="section"><h4 class="sectiontitle">Application Phase</h4><p>Subscription and execution phases</p>
</div>
<div class="section"><h4 class="sectiontitle">Function Prototype</h4><p>result1_value, result2_description = _ops.environment.get("envName")</p>
</div>
<div class="section"><h4 class="sectiontitle">Parameter Description</h4>
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.3.2.1.4.1.1" liSelected="liSelected"><p>Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.3.2.1.4.1.2" liSelected="liSelected"><p>Description</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.3.2.1.4.1.3" liSelected="liSelected"><p>Value</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.3.2.1.4.1.1 "><p>envName</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.3.2.1.4.1.2 "><p>Specifies the name of an environment variable.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.3.2.1.4.1.3 "><p>The value is a string of 1 to 31 characters.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section"><h4 class="sectiontitle">Return Values</h4><p><strong>result1_value</strong> and <strong>result2_description</strong> in the function prototype indicate return values.</p>
<p><strong>result1_value</strong> is the first return value and is an environment variable value. The value is a character string or <strong>None</strong>. If the first return value is a digit, it must be converted through int(). If the first return value is a character string, <strong>None</strong> indicates a failure.</p>
<p><strong>result2_description</strong> is the second return value and describes the result. This value is a character string.</p>
</div>
<div class="section"><h4 class="sectiontitle">Usage Description</h4><p>Environment variables are classified into user-defined environment variables and system environment variables.</p>
<ul><li>System environment variables are supported by a device by default, and cannot be created, deleted, or modified. A system environment variable name starts with an underscore (_), and a system environment variable value is determined by the system.<p>System environment variables include:</p>
<ul><li>Public environment variables: can be used for all types of events.</li><li>Event environment variables: can only be used for specified events. Its value is obtained when an event is triggered and indicates some information about the event.</li></ul>
<p>If the subscribed event does not occur, some event-related environment variables cannot be obtained.</p>
<p><a href="#EN-US_TOPIC_0000001654962764__table438893613816">Table 1</a> shows the system environment variables currently supported by the OPS.</p>

<div class="tableBorder"><a name="EN-US_TOPIC_0000001654962764__table438893613816"></a><a name="table438893613816"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0000001654962764__table438893613816" frame="border" border="1" rules="all"><caption><b>Table 1 </b>System environment variables</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="24.98%" id="mcps1.3.5.3.1.5.2.5.1.1" liSelected="liSelected"><p>Event</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="25.019999999999996%" id="mcps1.3.5.3.1.5.2.5.1.2" liSelected="liSelected"><p>Environment Variable Name</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="24.959999999999997%" id="mcps1.3.5.3.1.5.2.5.1.3" liSelected="liSelected"><p>Environment Variable Description</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="25.040000000000003%" id="mcps1.3.5.3.1.5.2.5.1.4" liSelected="liSelected"><p>Application Phase</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" rowspan="8" valign="top" width="24.98%" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>All events</p>
</td>
<td class="cellrowborder" valign="top" width="25.019999999999996%" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>_event_type</p>
</td>
<td class="cellrowborder" valign="top" width="24.959999999999997%" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Event type</p>
</td>
<td class="cellrowborder" valign="top" width="25.040000000000003%" headers="mcps1.3.5.3.1.5.2.5.1.4 "><p>Execution phase</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>_event_name</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>Event name</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Execution phase</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>_event_datetime</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>Time when an event is received</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Execution phase</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>_event_level</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>Event level</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Execution phase</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>_assistant_name</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>Assistant name, or script name</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Subscription and execution phases</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>_sysname</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>Device name</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Subscription and execution phases</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>_event_hits</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>Number of times that the current event occurs within the last period</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Execution phase</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>_para_xxx</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>Event parameters</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Execution phase</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="7" valign="top" width="24.98%" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>Command</p>
</td>
<td class="cellrowborder" valign="top" width="25.019999999999996%" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>_cli_input</p>
</td>
<td class="cellrowborder" valign="top" width="24.959999999999997%" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Command entered by a user (an incomplete keyword, such as <strong>dis dev</strong>)</p>
</td>
<td class="cellrowborder" valign="top" width="25.040000000000003%" headers="mcps1.3.5.3.1.5.2.5.1.4 "><p>Execution phase</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>_cli_command</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>Command entered by a user (a complete keyword, such as <strong>display device</strong>)</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Execution phase</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>_cli_view</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>CLI view name</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Execution phase</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>_cli_trigger</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>CLI triggering point</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Execution phase</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>_cli_username</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>User name</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Execution phase</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>_cli_vty</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>User channel</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Execution phase</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>_cli_ip</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>User channel IP address</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Execution phase</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="24.98%" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>Timer</p>
</td>
<td class="cellrowborder" valign="top" width="25.019999999999996%" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>_timer_type</p>
</td>
<td class="cellrowborder" valign="top" width="24.959999999999997%" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Timer type</p>
</td>
<td class="cellrowborder" valign="top" width="25.040000000000003%" headers="mcps1.3.5.3.1.5.2.5.1.4 "><p>Execution phase</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="8" valign="top" width="24.98%" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>Route change</p>
</td>
<td class="cellrowborder" valign="top" width="25.019999999999996%" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>_routing_network</p>
</td>
<td class="cellrowborder" valign="top" width="24.959999999999997%" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Network prefix</p>
</td>
<td class="cellrowborder" valign="top" width="25.040000000000003%" headers="mcps1.3.5.3.1.5.2.5.1.4 "><p>Execution phase</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>_routing_mask</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>Network mask</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Execution phase</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>_routing_protocol</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>Network protocol</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Execution phase</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>_routing_type</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>Change type</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Execution phase</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>_routing_nexthop</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>Next hop</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Execution phase</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>_routing_interface</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>Interface name</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Execution phase</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>_routing_cost</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>Cost value</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Execution phase</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>_routing_preference</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>Priority value</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Execution phase</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="5" valign="top" width="24.98%" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>Alarm</p>
</td>
<td class="cellrowborder" valign="top" width="25.019999999999996%" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>_alarm_name</p>
</td>
<td class="cellrowborder" valign="top" width="24.959999999999997%" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Alarm name</p>
</td>
<td class="cellrowborder" valign="top" width="25.040000000000003%" headers="mcps1.3.5.3.1.5.2.5.1.4 "><p>Execution phase</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>_alarm_datetime</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>Time when an alarm was generated</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Execution phase</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>_alarm_state</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>Alarm status</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Execution phase</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>_alarm_level</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>Alarm severity (<strong>critical</strong>, <strong>major</strong>, <strong>minor</strong>, or <strong>warning</strong>)</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Execution phase</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>_para_xxx</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>Alarm event parameters</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Execution phase</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="24.98%" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>Trap</p>
</td>
<td class="cellrowborder" valign="top" width="25.019999999999996%" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>_trap_oid</p>
</td>
<td class="cellrowborder" valign="top" width="24.959999999999997%" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>Trap OID</p>
</td>
<td class="cellrowborder" valign="top" width="25.040000000000003%" headers="mcps1.3.5.3.1.5.2.5.1.4 "><p>Execution phase</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="24.98%" headers="mcps1.3.5.3.1.5.2.5.1.1 "><p>System log</p>
</td>
<td class="cellrowborder" valign="top" width="25.019999999999996%" headers="mcps1.3.5.3.1.5.2.5.1.2 "><p>_syslog_content</p>
</td>
<td class="cellrowborder" valign="top" width="24.959999999999997%" headers="mcps1.3.5.3.1.5.2.5.1.3 "><p>System log content</p>
</td>
<td class="cellrowborder" valign="top" width="25.040000000000003%" headers="mcps1.3.5.3.1.5.2.5.1.4 "><p>Execution phase</p>
</td>
</tr>
</tbody>
</table>
</div>
</li><li>User-defined environment variables<p>In a Python script, you can enter a self-defined environment variable name in the location where a parameter needs to be entered to indicate that an environment variable value needs to be referenced. When the system is running the Python script, it replaces the environment variable name with an environment variable value. To change the parameter value, you can directly change it on the device without having to change and install the Python script again. You can use self-defined environment variables to simplify the configuration and improve flexibility and feasibility of Python scripts.</p>
<p>The name of a user-defined environment variable starts with a letter and can contain letters, digits, and underscores (_). It applies to all types of events and can be used in the subscription and execution phases. The value can be configured using the <a href="cmdqueryname=environment"><b><span class="cmdname">environment</span></b></a> command. You can create, modify, and delete user-defined variables.</p>
</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Usage Examples</h4><p>After the subscribed event is matched, the current lsID value is output to the terminal.</p>
<pre class="screen">import ops
opsObj = ops.ops()
value, result = _opsObj.environment.get("_sysname")
print("result is", result, "and sysname is", value)</pre>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_ops_cfg_0018.html">OPS Capability Set
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_ops_cfg_0037.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_ops_cfg_0039.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>