
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Understanding Dynamic ARP">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_arp_cfg_0008.html">
<meta name="DC.Relation" scheme="URI" content="vrp_arp_cfg_0010.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="ARP">
<meta name="featurename" content="Dynamic ARP">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="ARP">
<meta name="featurename" content="Dynamic ARP">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="ARP">
<meta name="featurename" content="IP Address Conflict Detection">
<meta name="featurename" content="Dynamic ARP">
<meta name="featurename" content="Static ARP">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_CONCEPT_0000001130624050">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Understanding Dynamic ARP</title>
</head>
<body><a name="EN-US_CONCEPT_0000001130624050"></a><a name="EN-US_CONCEPT_0000001130624050"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Understanding Dynamic ARP</h1>
<div><div class="section"><h4 class="sectiontitle">Definition</h4><p>Dynamic ARP allows devices to dynamically learn and update the mapping between IP and MAC addresses through ARP messages. That is, you do not need to manually configure the mapping.</p>
</div>
<div class="section"><h4 class="sectiontitle">Creating and Updating Dynamic ARP Entries</h4><p>When an ARP message received by a device meets either of the following conditions:</p>
<ul><li>If the source IP address of the ARP message is on the same network segment as the IP address of the inbound interface, the device automatically creates or updates an ARP entry.</li><li>If the received ARP message is a gratuitous ARP message:<ul><li>If the source IP address of the gratuitous ARP message is the same as the local IP address, the device periodically sends a gratuitous ARP reply message to notify the IP address conflict until the conflict is removed.</li><li>If the gratuitous ARP message is received on the VLANIF or VBDIF interface and its source IP address is different from the local IP address but they belong to the same network segment, the device learns and updates the ARP entry based on the received gratuitous ARP message. In other cases, the device does not learn an ARP entry after receiving a gratuitous ARP message.</li></ul>
</li></ul>
</div>
<div class="section"><h4 class="sectiontitle">Aging Dynamic ARP Entries</h4><p>After the aging timer of a dynamic ARP entry on a device expires, the device sends ARP aging probe messages to the peer device. In this case, if the device does not receive an ARP reply message after sending a specified maximum number of aging probe messages, the dynamic ARP entry is aged. To prevent ARP probing from consuming a large amount of system resources, a device can limit the rate of sending ARP probe messages. Shutting down an interface triggers ARP entries on the interface to be deleted.</p>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Dynamic ARP aging mechanism</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="10.56%" id="mcps1.3.3.3.2.4.1.1" liSelected="liSelected"><p>Concept</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="27.82%" id="mcps1.3.3.3.2.4.1.2" liSelected="liSelected"><p>Description</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="61.62%" id="mcps1.3.3.3.2.4.1.3" liSelected="liSelected"><p>Scenario</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="10.56%" headers="mcps1.3.3.3.2.4.1.1 "><p>Aging time</p>
</td>
<td class="cellrowborder" valign="top" width="27.82%" headers="mcps1.3.3.3.2.4.1.2 "><p>Every dynamic ARP entry has a lifecycle, which is also called aging time. If a dynamic ARP entry is not updated after its lifecycle ends, this dynamic ARP entry is deleted from the ARP table.</p>
</td>
<td class="cellrowborder" valign="top" width="61.62%" headers="mcps1.3.3.3.2.4.1.3 "><p>Two interconnected devices can use ARP to learn the mapping between their IP and MAC addresses and save the mapping in their ARP tables. Then, the two devices can communicate using the ARP entries. When the peer device becomes faulty or its NIC is replaced but the local device does not receive any status change information about the peer device, the local device continues to send IP datagrams to the peer device. As a result, network traffic is interrupted because the ARP table of the local device is not promptly updated. To reduce the risk of network traffic interruptions, an aging timer can be set for each ARP entry. After the aging timer of a dynamic ARP entry expires, the entry is automatically deleted.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="10.56%" headers="mcps1.3.3.3.2.4.1.1 "><p>Aging probe mode</p>
</td>
<td class="cellrowborder" valign="top" width="27.82%" headers="mcps1.3.3.3.2.4.1.2 "><p>Before a dynamic ARP entry on a device is aged, the device sends ARP aging probe messages to other devices on the same network segment. An ARP aging probe message can be a unicast or broadcast message. By default, broadcast ARP aging probe messages are sent.</p>
</td>
<td class="cellrowborder" valign="top" width="61.62%" headers="mcps1.3.3.3.2.4.1.3 "><p>If the IP address of the peer device remains unchanged but its MAC address changes frequently, it is recommended that you configure the local device to broadcast ARP aging probe messages. If the MAC address of the peer device remains unchanged, network bandwidth resources are insufficient, and the aging time of ARP entries is set to a small value, it is recommended that you configure the local device to unicast ARP aging probe messages.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="10.56%" headers="mcps1.3.3.3.2.4.1.1 "><p>Number of probes for aging dynamic ARP entries</p>
</td>
<td class="cellrowborder" valign="top" width="27.82%" headers="mcps1.3.3.3.2.4.1.2 "><p>Before a dynamic ARP entry is aged out, a device sends ARP aging probe messages to the peer device. If the device does not receive an ARP reply message after sending a specified maximum number of aging probe messages, the dynamic ARP entry is deleted.</p>
</td>
<td class="cellrowborder" valign="top" width="61.62%" headers="mcps1.3.3.3.2.4.1.3 "><p>The ARP aging timer can help reduce the risk of network traffic interruptions that occur because an ARP table is not updated quickly enough, but it cannot eliminate problems caused by delays. For example, if the aging time of a dynamic ARP entry is N seconds, the local device can detect the status change of the peer device after N seconds. During this period, the ARP table of the local device is not updated. You can set the number of probes for aging dynamic ARP entries to ensure that the ARP table is updated in time in the preceding situation.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section"><h4 class="sectiontitle">Application Scenarios</h4><p>The dynamic ARP aging mechanism ensures that ARP entries unused during a specified period are automatically deleted. This mechanism helps save the storage space of ARP tables and speed up ARP table lookups. Dynamic ARP applies to networks with complex topologies and high real-time communication requirements.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_arp_cfg_0008.html">Configuring Dynamic ARP
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_arp_cfg_0010.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>