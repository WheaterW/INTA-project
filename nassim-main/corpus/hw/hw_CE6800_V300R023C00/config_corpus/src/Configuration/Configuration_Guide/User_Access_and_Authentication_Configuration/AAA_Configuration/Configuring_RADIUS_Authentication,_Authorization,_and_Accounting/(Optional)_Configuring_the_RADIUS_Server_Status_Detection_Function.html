
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring the RADIUS Server Status Detection Function">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_aaa_cfg_0020.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_aaa_cfg_0031.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_aaa_cfg_0033.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="AAA">
<meta name="featurename" content="RADIUS">
<meta name="featuretype" content="User Access and Authentication">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="AAA">
<meta name="featurename" content="RADIUS">
<meta name="featuretype" content="User Access and Authentication">
<meta name="featurename" content="AAA">
<meta name="featurename" content="AD">
<meta name="featurename" content="HWTACACS">
<meta name="featurename" content="LDAP">
<meta name="featurename" content="RADIUS">
<meta name="featurename" content="Local User">
<meta name="featuretype" content="User Access and Authentication">
<meta name="featuretype" content="User Access and Authentication">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001512676450">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring the RADIUS Server Status Detection Function</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001512676450"></a><a name="EN-US_TASK_0000001512676450"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring the RADIUS Server Status Detection Function</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001512676450__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>The device detects the RADIUS server status through the RADIUS server status detection function.</p>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001512676450__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure conditions for setting the RADIUS server status to down. The RADIUS server status is set to down if either of the following conditions is met:</span><p><div class="p">Condition 1: The RADIUS server status is set to down during RADIUS server status detection. This condition depends on the following settings on the device, including the RADIUS server detection interval, maximum number of consecutive unacknowledged packets in each detection interval, and number of times the detection interval cycles. You can perform the following operations to adjust these parameters.<ol><li><p>Enter the system view.</p>
<pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</li><li><div class="p">Set the RADIUS server detection interval, maximum number of consecutive unacknowledged packets in each detection interval, and number of times the detection interval cycles.<pre class="screen"><a href="cmdqueryname=radius-server"><b><span class="cmdname">radius-server</span></b></a> { <strong><span>dead-interval</span></strong> <i><span class="varname">dead-interval</span></i> | <strong><span>dead-count</span></strong> <i><span class="varname">dead-count</span></i><span> | <strong><span>detect-cycle</span></strong> <i><span class="varname">detect-cycle</span></i></span> }</pre>
</div>
<p>By default, the RADIUS server detection interval is 5 seconds, the maximum number of consecutive unacknowledged packets in each detection interval is 2, and the number of times the detection interval cycles is 2.</p>
</li><li><p>Return to the user view.</p>
<pre class="screen"><a href="cmdqueryname=return"><b><span class="cmdname">return</span></b></a></pre>
</li><li>Commit the configuration.<pre class="screen"><strong>commit</strong></pre>
</li></ol>
</div>
<div class="p">Condition 2: The RADIUS server does not respond for a specified period of time. By default, this specified period of time is 300 seconds. You can perform the following operations to adjust the period.<ol><li><p>Enter the system view.</p>
<pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</li><li>Set the maximum period during which the RADIUS server does not respond.<pre class="screen"><a href="cmdqueryname=radius-server+max-unresponsive-interval"><b><span class="cmdname">radius-server max-unresponsive-interval</span></b></a> <i><span class="varname">max-unresponsive-interval</span></i></pre>
<p>By default, the maximum period during which the RADIUS server does not respond is 300 seconds.</p>
</li><li><p>Return to the user view.</p>
<pre class="screen"><a href="cmdqueryname=return"><b><span class="cmdname">return</span></b></a></pre>
</li><li>Commit the configuration.<pre class="screen"><strong>commit</strong></pre>
</li></ol>
</div>
</p></li><li><span>(Optional) Configure automatic detection.</span><p><ol><li><p>Enter the system view.</p>
<pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</li><li>Enter the RADIUS server template view.<pre class="screen"><a href="cmdqueryname=radius-server+template"><b><span class="cmdname">radius-server template</span></b></a> <i><span class="varname">template-name</span></i></pre>
</li><li><p>Create a user account for automatic detection.</p>
<pre class="screen"><strong><a href="cmdqueryname=radius-server+testuser"><b><span class="cmdname">radius-server testuser</span></b></a></strong> <a href="cmdqueryname=username"><b><span class="cmdname">username</span></b></a> <i><span class="varname">username</span></i> <strong><span>password</span></strong> <strong><span>cipher</span></strong> <i><span class="varname">password</span></i></pre>
<p>By default, no user account is configured for automatic detection in a RADIUS server template. After a user account is configured for automatic detection, the automatic detection function is enabled automatically. <span>By default, the automatic detection function takes effect only for RADIUS servers in down state.</span></p>
</li><li><p>(Optional) Set the automatic RADIUS server detection interval.</p>
<pre class="screen"><a href="cmdqueryname=radius-server+detect-server+interval"><b><span class="cmdname">radius-server detect-server interval</span></b></a> <i><span class="varname">interval</span></i></pre>
<p>By default, the automatic RADIUS server detection interval is 60 seconds.</p>
</li><li><p>(Optional) Enable automatic detection of RADIUS servers in up state and set the automatic detection interval.</p>
<pre class="screen"><a href="cmdqueryname=radius-server+detect-server+up-server+interval"><b><span class="cmdname">radius-server detect-server up-server interval</span></b></a> <i><span class="varname">interval</span></i></pre>
<p>By default, the device does not automatically detect RADIUS servers in up state.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>On a large enterprise network, you are advised not to enable automatic detection of RADIUS servers in up state. This is because if automatic detection is enabled on multiple NAS devices, RADIUS servers periodically receive a large number of probe packets when processing RADIUS Access-Request packets from users, which may deteriorate processing performance of the RADIUS servers.</p>
<p>After the automatic detection function is configured using the <a href="cmdqueryname=radius-server+testuser"><b><span class="cmdname">radius-server testuser</span></b></a> command, the dead-time timer configured using the <a href="cmdqueryname=radius-server+dead-time"><b><span class="cmdname">radius-server dead-time</span></b></a> command does not take effect.</p>
</div></div>
</li><li><p>(Optional) Set the timeout interval of RADIUS probe packets.</p>
<pre class="screen"><a href="cmdqueryname=radius-server+detect-server+timeout"><b><span class="cmdname">radius-server detect-server timeout</span></b></a> <i><span class="varname">timeout</span></i></pre>
<p>By default, the timeout interval of RADIUS probe packets is 3 seconds.</p>
</li><li><p>Return to the user view.</p>
<pre class="screen"><a href="cmdqueryname=return"><b><span class="cmdname">return</span></b></a></pre>
</li><li>Commit the configuration.<pre class="screen"><strong>commit</strong></pre>
</li></ol>
</p></li><li><span>(Optional) Configure the duration for which a RADIUS server can remain down, namely, configure the Force-up timer.</span><p><div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>After setting the RADIUS server status to Force-up and automatic detection is enabled, the device immediately sends a probe packet. If the device receives a response packet from the RADIUS server within the Force-up timer period, the device sets the RADIUS server status to up; otherwise, the device sets the RADIUS server status to down.</p>
</div></div>
<ol><li><p>Enter the system view.</p>
<pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</li><li>Enter the RADIUS server template view.<pre class="screen"><a href="cmdqueryname=radius-server+template"><b><span class="cmdname">radius-server template</span></b></a> <i><span class="varname">template-name</span></i></pre>
</li><li><p>Configure the RADIUS server Force-up timer.</p>
<pre class="screen"><a href="cmdqueryname=radius-server+dead-time"><b><span class="cmdname">radius-server dead-time</span></b></a> <em>dead-time</em></pre>
<p>By default, the RADIUS server Force-up timer is 5 minutes.</p>
</li><li><p>Return to the user view.</p>
<pre class="screen"><a href="cmdqueryname=return"><b><span class="cmdname">return</span></b></a></pre>
</li><li>Commit the configuration.<pre class="screen"><strong>commit</strong></pre>
</li></ol>
</p></li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_aaa_cfg_0020.html">Configuring RADIUS Authentication, Authorization, and Accounting
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_aaa_cfg_0031.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="galaxy_aaa_cfg_0033.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>