
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring BGP to Import Routes">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_bgp_cfg_0014.html">
<meta name="DC.Relation" scheme="URI" content="vrp_bgp_cfg_0016.html">
<meta name="DC.Relation" scheme="URI" content="vrp_bgp_cfg_0018.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="BGP">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001130624088">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring BGP to Import Routes</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001130624088"></a><a name="EN-US_TASK_0000001130624088"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring BGP to Import Routes</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001130624088__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>BGP itself cannot discover routes. It needs to import routes from other protocols (such as IGP routes) to the BGP routing table so that they can be transmitted within an AS or between ASs.</p>
<p>BGP can import routes in either of the following modes:</p>
<ul><li><p>Import mode: BGP imports routes by protocol type, such as <span>RIP, </span>OSPF, IS-IS, static routes, and direct routes.</p>
</li><li><p>Network mode: BGP imports a route with the specified prefix and mask. This mode is more precise than the Import mode.</p>
</li></ul>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001130624088__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Import mode</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the BGP view.</span><p><pre class="screen"><a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i></pre>
</p></li><li class="substepexpand"><span>(Optional) Enter the BGP-IPv4 unicast address family view.</span><p><pre class="screen"><a href="cmdqueryname=ipv4-family+unicast"><b><span class="cmdname">ipv4-family</span></b></a> <strong><span>unicast</span></strong></pre>
<p>By default, configurations performed in the BGP view take effect in the IPv4 unicast address family view.</p>
</p></li><li class="substepexpand"><span>Configure BGP to import routes from another routing protocol.</span><p><pre class="screen"><a href="cmdqueryname=import-route+direct+isis+ospf+rip+static+med+route-policy"><b><span class="cmdname">import-route</span></b></a> { <strong><span>direct</span></strong> | <strong><span>isis</span></strong> <i><span class="varname">process-id</span></i> | <strong><span>ospf</span></strong> <i><span class="varname">process-id</span></i><span> | <strong><span>rip</span></strong> <i><span class="varname">process-id</span></i></span> | <strong><span>static</span></strong> } [ <strong><span>med</span></strong> <i><span class="varname">med</span></i> | <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> ] <sup>*</sup></pre>
<p>To set an MED value for the imported routes, specify the <i><span class="varname">med</span></i> parameter. An EBGP peer selects the route with the lowest MED value to guide traffic entering the AS where the peer resides.</p>
<p>To filter the routes imported from a non-BGP protocol, specify the <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> parameter.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>When configuring the device to import the routes discovered by a dynamic routing protocol, such as OSPF<span>, RIP, </span> or IS-IS, specify the process ID of the protocol.</p>
</div></div>
</p></li><li class="substepexpand"><span>(Optional) Enable BGP to import the existing default route from the local IP routing table.</span><p><pre class="screen"><a href="cmdqueryname=default-route+imported"><b><span class="cmdname">default-route imported</span></b></a></pre>
<p>BGP can import default routes only if both the <a href="cmdqueryname=default-route+imported"><b><span class="cmdname">default-route imported</span></b></a> and <a href="cmdqueryname=import-route"><b><span class="cmdname">import-route</span></b></a> commands are run.</p>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001130624088__en-us_task_0234857734_screen14848162118611"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001130624088__en-us_task_0234857734_cmdname1784862115612">commit</span></b></a></pre>
</p></li></ol>
</li><li><span>Network mode</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the BGP view.</span><p><pre class="screen"><a href="cmdqueryname=bgp"><b><span class="cmdname">bgp</span></b></a> <i><span class="varname">as-number</span></i></pre>
</p></li><li class="substepexpand"><span>(Optional) Enter the BGP-IPv4 unicast address family view.</span><p><pre class="screen"><a href="cmdqueryname=ipv4-family+unicast"><b><span class="cmdname">ipv4-family</span></b></a> <strong><span>unicast</span></strong></pre>
<p>By default, the configuration is performed in the IPv4 unicast address family view.</p>
</p></li><li class="substepexpand"><span>Configure BGP to import local routes.</span><p><pre class="screen"><a href="cmdqueryname=network+route-policy"><b><span class="cmdname">network</span></b></a> <i><span class="varname">ipv4-address</span></i> [ <i><span class="varname">mask</span></i> | <i><span class="varname">mask-length</span></i> ] [ <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> ]</pre>
<p>If no mask or mask length is specified, the address is processed as a classful address. The local routes to be imported must exist in the local IP routing table.</p>
<p>To use a route-policy to filter the routes to be imported, specify the <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> parameter. </p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li><p>The specified route can be imported only when the destination address and mask specified in the <a href="cmdqueryname=network"><b><span class="cmdname">network</span></b></a> command are the same as those in the corresponding entry in the local IP routing table.</p>
</li><li><p>When using the <a href="cmdqueryname=undo+network"><b><span class="cmdname">undo network</span></b></a> command to clear the existing configuration, specify the correct mask.</p>
</li></ul>
</div></div>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001130624088__en-us_task_0234857734_screen14848162118611_1"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001130624088__en-us_task_0234857734_cmdname1784862115612_1">commit</span></b></a></pre>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_bgp_cfg_0014.html">Configuring Basic BGP Functions
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_bgp_cfg_0016.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_bgp_cfg_0018.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>