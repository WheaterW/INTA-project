
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring IPv6 PIM-SM in the ASM Model">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_ipv6pim_cfg_0007.html">
<meta name="DC.Relation" scheme="URI" content="vrp_ipv6pim_cfg_0011.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="PIMv6">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="PIMv6">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="PIMv6">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001538445434">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Example for Configuring IPv6 PIM-SM in the ASM Model</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001538445434"></a><a name="EN-US_TASK_0000001538445434"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring IPv6 PIM-SM in the ASM Model</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001538445434__1.3.1"></a><a name="1.3.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>On the ISP network shown in <a href="#EN-US_TASK_0000001538445434__fig_dc_vrp_multicast_cfg_003701">Figure 1</a>, multicast services are deployed. An IGP has been deployed on the network, unicast services are running properly, and the network has been connected to the Internet. It is required that hosts receive VOD information in multicast mode. You can configure a static RP, dynamic RP election, or both. If both a static RP and dynamic RP election are configured, dynamic RP election is preferentially used, with the static RP as a backup.</p>
<div class="fignone" id="EN-US_TASK_0000001538445434__fig_dc_vrp_multicast_cfg_003701"><a name="EN-US_TASK_0000001538445434__fig_dc_vrp_multicast_cfg_003701"></a><a name="fig_dc_vrp_multicast_cfg_003701"></a><span class="figcap"><b>Figure 1 </b>Network diagram of configuring IPv6 PIM-SM in the ASM model</span><div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In this example, interface1, interface2, interface3, and interface4 represent <span>100GE</span> <span>1/0/1</span>, <span>100GE</span> <span>1/0/2</span>, <span>100GE</span> <span>1/0/3</span>, and <span>100GE</span> <span>1/0/4</span>, respectively.</p>
</div></div>
<p><span><img class="vsd" src="figure/en-us_image_0000001538286086.png"></span></p>
</div>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="28.407497131199793%" id="mcps1.3.1.4.1.4.1.1" liSelected="liSelected"><p>Device</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="29.580517659059037%" id="mcps1.3.1.4.1.4.1.2" liSelected="liSelected"><p>Interface</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="42.01198520974117%" id="mcps1.3.1.4.1.4.1.3" liSelected="liSelected"><p>IPv6 Address</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" rowspan="3" valign="top" width="28.407497131199793%" headers="mcps1.3.1.4.1.4.1.1 "><p>DeviceA</p>
</td>
<td class="cellrowborder" char="." valign="top" width="29.580517659059037%" headers="mcps1.3.1.4.1.4.1.2 "><p><span>100GE</span><span>1/0/1</span></p>
</td>
<td class="cellrowborder" valign="top" width="42.01198520974117%" headers="mcps1.3.1.4.1.4.1.3 "><p>2001:db8:1:2001::1/64</p>
</td>
</tr>
<tr><td class="cellrowborder" char="." valign="top" headers="mcps1.3.1.4.1.4.1.1 "><p><span>100GE</span><span>1/0/2</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.2 "><p>2001:db8:1:3001::1/64</p>
</td>
</tr>
<tr><td class="cellrowborder" char="." valign="top" headers="mcps1.3.1.4.1.4.1.1 "><p><span>100GE</span><span>1/0/3</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.2 "><p>2001:db8:1:2002::1/64</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="2" valign="top" width="28.407497131199793%" headers="mcps1.3.1.4.1.4.1.1 "><p>DeviceB</p>
</td>
<td class="cellrowborder" valign="top" width="29.580517659059037%" headers="mcps1.3.1.4.1.4.1.2 "><p><span>100GE</span><span>1/0/1</span></p>
</td>
<td class="cellrowborder" valign="top" width="42.01198520974117%" headers="mcps1.3.1.4.1.4.1.3 "><p>2001:db8:1:2003::1/64</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.1 "><p><span>100GE</span><span>1/0/2</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.2 "><p>2001:db8:1:4001::1/64</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="2" valign="top" width="28.407497131199793%" headers="mcps1.3.1.4.1.4.1.1 "><p>DeviceC</p>
</td>
<td class="cellrowborder" valign="top" width="29.580517659059037%" headers="mcps1.3.1.4.1.4.1.2 "><p><span>100GE</span><span>1/0/1</span></p>
</td>
<td class="cellrowborder" valign="top" width="42.01198520974117%" headers="mcps1.3.1.4.1.4.1.3 "><p>2001:db8:1:2004::1/64</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.1 "><p><span>100GE</span><span>1/0/2</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.2 "><p>2001:db8:1:4001::2/64</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="4" valign="top" width="28.407497131199793%" headers="mcps1.3.1.4.1.4.1.1 "><p>DeviceD</p>
</td>
<td class="cellrowborder" valign="top" width="29.580517659059037%" headers="mcps1.3.1.4.1.4.1.2 "><p><span>100GE</span><span>1/0/1</span></p>
</td>
<td class="cellrowborder" valign="top" width="42.01198520974117%" headers="mcps1.3.1.4.1.4.1.3 "><p>2001:db8:1:2005::1/64</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.1 "><p><span>100GE</span><span>1/0/2</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.2 "><p>2001:db8:1:2002::2/64</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.1 "><p><span>100GE</span><span>1/0/3</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.2 "><p>2001:db8:1:5001::1/64</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.1 "><p><span>100GE</span><span>1/0/4</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.2 "><p>2001:db8:1:6001::1/64</p>
</td>
</tr>
<tr><td class="cellrowborder" rowspan="4" valign="top" width="28.407497131199793%" headers="mcps1.3.1.4.1.4.1.1 "><p>DeviceE</p>
</td>
<td class="cellrowborder" valign="top" width="29.580517659059037%" headers="mcps1.3.1.4.1.4.1.2 "><p><span>100GE</span><span>1/0/1</span></p>
</td>
<td class="cellrowborder" valign="top" width="42.01198520974117%" headers="mcps1.3.1.4.1.4.1.3 "><p>2001:db8:1:2004::2/64</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.1 "><p><span>100GE</span><span>1/0/2</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.2 "><p>2001:db8:1:2003::2/64</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.1 "><p><span>100GE</span><span>1/0/3</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.2 "><p>2001:db8:1:2001::2/64</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.1 "><p><span>100GE</span><span>1/0/4</span></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.1.4.1.4.1.2 "><p>2001:db8:1:2005::2/64</p>
</td>
</tr>
</tbody>
</table>
</div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001538445434__1.3.2"></a><a name="1.3.2"></a>
<div class="p"><h4 class="sectiontitle">Configuration Precautions</h4><p>During the configuration, note the following:</p>
<ul><li><p>To use a static RP, configure the same RP address on all <span class="keyword">devices</span>.</p>
</li><li><p>If users need to receive data from a specified multicast source, configure IPv6 PIM-SM in the SSM model. Ensure that all <span class="keyword">devices</span> have the same SSM group address range.</p>
</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001538445434__1.3.3"></a><a name="1.3.3"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><p>The configuration roadmap is as follows:</p>
<ol><li><p>Configure IPv6 addresses and an IPv6 unicast routing protocol for interfaces on each <span class="keyword">device</span>.</p>
</li><li><p>Enable the IPv6 multicast function on all <span class="keyword">devices</span> that need to provide multicast services and enable IPv6 PIM-SM on all the involved interfaces.</p>
</li><li><p>Enable MLD on the interfaces that directly connect <span class="keyword">devices</span> to hosts.</p>
</li><li><p>Configure RPs. On an IPv6 PIM-SM network, an RP is the core of providing ASM services and a transit device for forwarding multicast data. Using a <span class="keyword">device</span> that has a large number of multicast traffic branches, <span class="keyword">Device</span>E in <a href="#EN-US_TASK_0000001538445434__fig_dc_vrp_multicast_cfg_003701">Figure 1</a> for example, as an RP is recommended.</p>
</li><li>(Optional) Configure a BSR boundary on the interface that connects <span class="keyword">Device</span>D to the Internet.</li></ol>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001538445434__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Assign an IPv6 address to each <span class="keyword">device</span> interface and configure an IPv6 unicast routing protocol. For detailed configurations, see Configuration Scripts.</span></li><li><span>Enable the IPv6 multicast function on all <span class="keyword">devices</span> and enable IPv6 PIM-SM on all the involved interfaces.</span><p><p># Enable IPv6 PIM-SM, using DeviceE as an example. The configurations of other devices are similar to those shown in this example. For detailed configurations, see Configuration Scripts.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>E] <strong>multicast ipv6 routing-enable</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>E] <strong>interface </strong><strong><span>100GE</span> <span>1/0/1</span></strong>
[<span class="keyword">*</span><span class="keyword">Device</span>E-<span>100GE</span><span>1/0/1</span>]<strong> undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>E-<span>100GE</span><span>1/0/1</span>] <strong>pim ipv6 sm</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>E-<span>100GE</span><span>1/0/1</span>] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>E] <strong>interface <span>100GE</span> <span>1/0/2</span></strong>
[<span class="keyword">*</span><span class="keyword">Device</span>E-<span>100GE</span><span>1/0/2</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>E-<span>100GE</span><span>1/0/2</span>] <strong>pim ipv6 sm</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>E-<span>100GE</span><span>1/0/2</span>] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>E] <strong>interface <span>100GE</span> <span>1/0/3</span></strong>
[<span class="keyword">*</span><span class="keyword">Device</span>E-<span>100GE</span><span>1/0/3</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>E-<span>100GE</span><span>1/0/3</span>] <strong>pim ipv6 sm</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>E-<span>100GE</span><span>1/0/3</span>] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>E] <strong>interface <span>100GE</span> <span>1/0/4</span></strong>
[<span class="keyword">*</span><span class="keyword">Device</span>E-<span>100GE</span><span>1/0/4</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>E-<span>100GE</span><span>1/0/4</span>] <strong>pim ipv6 sm</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>E-<span>100GE</span><span>1/0/4</span>] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>E] <strong>commit</strong></pre>
</p></li><li><span>Enable MLD on the interfaces connected to user hosts.</span><p><p># Enable MLD, using DeviceA as an example.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A] <strong>interface <span>100GE</span> <span>1/0/2</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>A-<span>100GE</span><span>1/0/2</span>]<strong> undo portswitc</strong><strong>h</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>A-<span>100GE</span><span>1/0/2</span>] <strong>mld enable</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>A-<span>100GE</span><span>1/0/2</span>] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>A] <strong>commit</strong></pre>
</p></li><li><span>Configure RPs.</span><p><p># To use dynamic RP election, perform the following configurations on one or more <span class="keyword">devices</span> in the PIM-SM domain. For example, on <span class="keyword">Device</span>E, set the range of groups served by the RP and configure an interface as a C-BSR and C-RP.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>E] <strong>acl ipv6 number 2000</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>E-acl6-basic-2000] <strong>rule permit source ff1e::1/64</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>E-acl6-basic-2000] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>E] <strong>pim</strong><strong> ipv6</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>E-pim6] <strong>c-bsr 2001:db8:1:2003::2</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>E-pim6] <strong>c-rp 2001:db8:1:2003::2 group-policy 2000 priority 0</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>E-pim6] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>E] <strong>commit</strong></pre>
<p># Configure a static RP on <span class="keyword">Device</span>E. The configurations of <span class="keyword">Device</span>A, <span class="keyword">Device</span>B, <span class="keyword">Device</span>C, and <span class="keyword">Device</span>D are similar to the configuration of <span class="keyword">Device</span>E. For detailed configurations, see Configuration Scripts. You can specify <strong>preferred</strong> in the <strong>static-rp</strong> <em>rp-address</em> command to enable the static RP to be preferentially selected.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>E] <strong>pim</strong><strong> ipv6</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>E-pim6] <strong>static-rp 2001:db8:1:2005::2</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>E-pim6] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>E] <strong>commit</strong></pre>
</p></li><li><span>(Optional) Configure a BSR boundary on the interface that connects <span class="keyword">Device</span>D to the Internet.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>D]<strong> interface <span>100GE</span> <span>1/0/4</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">Device</span>D-<span>100GE</span><span>1/0/4</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>D-<span>100GE</span><span>1/0/4</span>] <strong>pim ipv6 bsr-boundary</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>D-<span>100GE</span><span>1/0/4</span>] <strong>quit</strong>
[<span class="keyword">*</span><span class="keyword">Device</span>D] <strong>commit</strong></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001538445434__1.3.5"></a><a name="1.3.5"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p># Run the <strong>display pim ipv6 interface</strong> command to view information about IPv6 PIM interfaces on each <span class="keyword">device</span>. The following example shows the IPv6 PIM interface information on <span class="keyword">Device</span>E.</p>
<pre class="screen">&lt;<span class="keyword">Device</span>E&gt; <strong>display pim ipv6 interface</strong>
VPN-Instance: public net
Interface  State NbrCnt HelloInt   DR-Pri     DR-Address
<span>100GE</span><span>1/0/1</span>   up     1       30         1        2001:db8:1:2004::2
<span>100GE</span><span>1/0/2</span>   up     1       30         1        2001:db8:1:2003::2
<span>100GE</span><span>1/0/3</span>   up     1       30         1        2001:db8:1:2001::2
<span>100GE</span><span>1/0/4</span>   up     1       30         1        2001:db8:1:2005::1</pre>
<p># Run the <strong>display pim ipv6 bsr-info</strong> command to check BSR information on each <span class="keyword">device</span>. For example, BSR information on <span class="keyword">Device</span>D and <span class="keyword">Device</span>E is as follows (C-BSR information is also displayed on <span class="keyword">Device</span>E):</p>
<pre class="screen">&lt;<span class="keyword">Device</span>D&gt; <strong>display pim ipv6 bsr-info</strong>
 VPN-Instance: public net
 Elected AdminScope BSR Count: 0
 Elected BSR Address: 2001:db8:1:2003::2
     Priority: 0
     Hash mask length: 126
     State: Accept Preferred
     Uptime: 02:08:57
     Expires: 00:01:15
     Next BSR message scheduled at: 00:01:42
     C-RP Count: 1</pre>
<pre class="screen">&lt;<span class="keyword">Device</span>E&gt; <strong>display pim ipv6 bsr-info</strong>
 VPN-Instance: public net
 Elected AdminScope BSR Count: 0
 Elected BSR Address: 2001:db8:1:2003::2
     Priority: 0
     Hash mask length: 126
     State: Elected
     Uptime: 02:25:03
     Next BSR message scheduled at: 00:00:57
     C-RP Count: 1
 Candidate AdminScope BSR Count: 0
 Candidate BSR Address: 2001:db8:1:2003::2
     Priority: 0
     Hash mask length: 30
     State: Elected
     Wait to be BSR: 0</pre>
<p># Run the <strong>display pim ipv6 rp-info</strong> command to check RP information on each <span class="keyword">device</span>. The RP information on <span class="keyword">Device</span>D and <span class="keyword">Device</span>E is as follows:</p>
<pre class="screen">&lt;<span class="keyword">Device</span>D&gt; <strong>display pim ipv6 rp-info</strong>
 VPN-Instance: public net
 PIM-SM BSR RP Number:1
 Group/MaskLen: FF0E::1/64
     RP: 2001:db8:1:2003::2
     Priority: 0
     Uptime: 02:27:17
     Expires: 00:02:15
 PIM SM static RP Number:1
     Static RP: 2001:db8:1:2005::2</pre>
<pre class="screen">&lt;<span class="keyword">Device</span>E&gt; <strong>display pim ipv6 rp-info</strong>
 VPN-Instance: public net
 PIM-SM BSR RP Number:1
 Group/MaskLen: FF0E::1/64
     RP: 2001:db8:1:2003::2 (local)
     Priority: 0
     Uptime: 02:27:27
     Expires: 00:02:03
 PIM SM static RP Number:1
     Static RP: 2001:db8:1:2005::2 (local)</pre>
<p># Run the <strong>display pim ipv6 routing-table</strong> command to view the IPv6 PIM routing table on each <span class="keyword">device</span>. For example, the IPv6 PIM routing information on <span class="keyword">Device</span>D and <span class="keyword">Device</span>E is as follows:</p>
<pre class="screen">&lt;<span class="keyword">Device</span>D&gt; <strong>display pim ipv6 routing-table</strong>
 VPN-Instance: public net
 Total 0 (*, G) entry; 2 (S, G) entries

 (2001:db8:1:6001::11, FF0E::1)
     RP: 2001:db8:1:2003::2
     Protocol: pim-sm, Flag: SPT ACT
     UpTime: 00:57:20
     Upstream interface: <span>100GE</span><span>1/0/3</span>, Refresh time: 00:57:20
         Upstream neighbor: NULL
         RPF prime neighbor: 2001:db8:1:6001::11
     Downstream interface(s) information:
     Total number of downstreams: 1
        1: <span>100GE</span><span>1/0/2</span>
             Protocol:  pim-sm, UpTime: 00:57:20, Expires: 00:03:02</pre>
<pre class="screen">&lt;<span class="keyword">Device</span>E&gt;<strong> display pim ipv6 routing-table</strong>
 VPN-Instance: public net
 Total 1 (*, G) entry; 1 (S, G) entry

 (*, FF0E::)
     RP: 2001:db8:1:2003::2 (local)
     Protocol: pim-sm, Flag: WC
     UpTime: 00:21:40
     Upstream interface: register, Refresh time: 00:21:40
         Upstream neighbor: 2001:db8:1:2005::1
         RPF prime neighbor: 2001:db8:1:2005::1
     Downstream interface(s) information:
     Total number of downstreams: 1
        1: <span>100GE</span><span>1/0/3</span>
             Protocol:  pim-sm, UpTime: 00:21:40, Expires: 00:02:43</pre>
<h4 class="sectiontitle">Configuration Scripts</h4><ul><li><div class="p"><span class="keyword">Device</span>A<pre class="screen">#
sysname <span class="keyword">Device</span>A
#
multicast ipv6 routing-enable
isis 1
 ipv6 enable topology ipv6
 network-entity 10.0000.0000.0001.00
#
interface <span>100GE</span><span>1/0/1</span>
 undo portswitch
 ipv6 enable
 ipv6 address 2001:db8:1:2001::1/64
 pim ipv6 sm
 isis ipv6 enable 1
#
interface <span>100GE</span><span>1/0/2</span>
 undo portswitch
 ipv6 enable
 ipv6 address 2001:db8:1:3001::1/64
 pim ipv6 sm
 mld enable
 isis ipv6 enable 1
#
interface <span>100GE</span><span>1/0/3</span>
 undo portswitch
 ipv6 enable
 ipv6 address 2001:db8:1:2002::1/64
 pim ipv6 sm
 isis ipv6 enable 1
#
pim ipv6
 static-rp 2001:db8:1:2005::2
#
return</pre>
</div>
</li><li><p><span class="keyword">Device</span>B</p>
<pre class="screen">#
sysname <span class="keyword">Device</span>B
#
multicast ipv6 routing-enable
isis 1
 ipv6 enable topology ipv6
 network-entity 10.0000.0000.0002.00
#
interface <span>100GE</span><span>1/0/1</span>
 undo portswitch
 ipv6 enable
 ipv6 address 2001:db8:1:2003::1/64
 pim ipv6 sm
 isis ipv6 enable 1
#
interface <span>100GE</span><span>1/0/2</span>
 undo portswitch
 ipv6 enable
 ipv6 address 2001:db8:1:4001::1/64
 pim ipv6 sm
 mld enable
 isis ipv6 enable 1
#
pim ipv6 
 static-rp 2001:db8:1:2005::2
#
return</pre>
</li><li><p><span class="keyword">Device</span>C</p>
<pre class="screen">#
sysname <span class="keyword">Device</span>C
#
multicast ipv6 routing-enable
isis 1
 ipv6 enable topology ipv6
 network-entity 10.0000.0000.0003.00
#
interface <span>100GE</span><span>1/0/1</span>
 undo portswitch
 ipv6 enable
 ipv6 address 2001:db8:1:2004::1/64
 pim ipv6 sm
 isis ipv6 enable 1
#
interface <span>100GE</span><span>1/0/2</span>
 undo portswitch
 ipv6 enable
 ipv6 address 2001:db8:1:4001::2/64
 pim ipv6 sm
 mld enable
 isis ipv6 enable 1
#
#
pim ipv6 
 static-rp 2001:db8:1:2005::2
#
return</pre>
</li><li><p><span class="keyword">Device</span>D</p>
<pre class="screen">#
sysname <span class="keyword">Device</span>D
#
multicast ipv6 routing-enable
isis 1
 ipv6 enable topology ipv6
 network-entity 10.0000.0000.0004.00
#
interface <span>100GE</span><span>1/0/1</span>
 undo portswitch
 ipv6 enable
 ipv6 address 2001:db8:1:2005::1/64
 pim ipv6 sm
 isis ipv6 enable 1
#
interface <span>100GE</span><span>1/0/2</span>
 undo portswitch
 ipv6 enable
 ipv6 address 2001:db8:1:2002::2/64
 pim ipv6 sm
 isis ipv6 enable 1
#
interface <span>100GE</span><span>1/0/3</span>
 undo portswitch
 ipv6 enable
 ipv6 address 2001:db8:1:5001::1/64
 pim ipv6 sm
 isis ipv6 enable 1
#
interface <span>100GE</span><span>1/0/4</span>
 undo portswitch
 ipv6 enable
 ipv6 address 2001:db8:1:6001::1/64
 pim ipv6 bsr-boundary
 pim ipv6 sm
 isis ipv6 enable 1
#
pim ipv6
 static-rp 2001:db8:1:2005::2
#
return</pre>
</li><li><p><span class="keyword">Device</span>E</p>
<pre class="screen">#
sysname <span class="keyword">Device</span>E
#
multicast ipv6 routing-enable
#
acl ipv6 number 2000
 rule 5 permit source FF0E::1/64
isis 1
 ipv6 enable topology ipv6
 network-entity 10.0000.0000.0005.00
#
interface <span>100GE</span><span>1/0/1</span>
 undo portswitch
 ipv6 enable
 ipv6 address 2001:db8:1:2004::2/64
 pim ipv6 sm
 isis ipv6 enable 1
#
interface <span>100GE</span><span>1/0/2</span>
 undo portswitch
 ipv6 enable
 ipv6 address 2001:db8:1:2003::2/64
 pim ipv6 sm
 isis ipv6 enable 1
#
interface <span>100GE</span><span>1/0/3</span>
 undo portswitch
 ipv6 enable
 ipv6 address 2001:db8:1:2001::2/64
 pim ipv6 sm
 isis ipv6 enable 1
#
 interface <span>100GE</span><span>1/0/4</span>
 undo portswitch
 ipv6 enable
 ipv6 address 2001:db8:1:2005::2/64
 pim ipv6 sm
 isis ipv6 enable 1
#
pim ipv6 
 static-rp 2001:db8:1:2005::2
 c-bsr 2001:db8:2003::2
 c-rp 2001:db8:2003::2 group-policy 2000
#
return</pre>
</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_ipv6pim_cfg_0007.html">Configuring IPv6 PIM-SM in the ASM Model
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_ipv6pim_cfg_0011.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>