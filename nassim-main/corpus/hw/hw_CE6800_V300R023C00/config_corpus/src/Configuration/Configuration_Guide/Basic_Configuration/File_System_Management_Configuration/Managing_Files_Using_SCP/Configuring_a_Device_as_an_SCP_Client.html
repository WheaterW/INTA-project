
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a Device as an SCP Client">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_file_cfg_0018.html">
<meta name="DC.Relation" scheme="URI" content="vrp_file_cfg_0019.html">
<meta name="DC.Relation" scheme="URI" content="vrp_file_cfg_0021.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="SCP">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="SCP">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="featurename" content="FTP">
<meta name="featurename" content="SCP">
<meta name="featurename" content="SFTP">
<meta name="featurename" content="TFTP">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001513030642">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring a Device as an SCP Client</title>
</head>
<body><a name="EN-US_TASK_0000001513030642"></a><a name="EN-US_TASK_0000001513030642"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a Device as an SCP Client</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001513030642__1.3.1"></a><a name="1.3.1"></a>
<div class="p"><h4 class="sectiontitle">Prerequisites</h4><p>SCP is a utility of the SSH protocol that is used to securely copy files from one system to another. A device can be configured as an SCP client to set up a secure connection with an SCP server to upload or download files.</p>
<p>Before configuring a device to access files on another device as an SCP client, you have completed the following tasks:</p>
<ul><li>Ensure that there are reachable routes between the device and SSH server.</li><li>Obtain the host name or IP address of the SSH server and SSH user information.</li><li>Obtain the port number configured for the server if the standard port number is not used.</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001513030642__1.3.2"></a><a name="1.3.2"></a>
<div class="p"><h4 class="sectiontitle">Context</h4><p><a href="#EN-US_TASK_0000001513030642__file14tab01">Table 1</a> describes the process for configuring a device to access files on another device as an SCP client.</p>

<div class="tableBorder"><a name="EN-US_TASK_0000001513030642__file14tab01"></a><a name="file14tab01"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TASK_0000001513030642__file14tab01" frame="hsides" border="1" rules="all"><caption><b>Table 1 </b>Configuring a device to access files on another device as an SCP client</caption><thead align="left"><tr><th align="center" class="cellrowborder" valign="top" width="11.501150115011502%" id="mcps1.3.2.3.2.5.1.1" liSelected="liSelected"><p>No.</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="31.693169316931698%" id="mcps1.3.2.3.2.5.1.2" liSelected="liSelected"><p>Task</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="28.402840284028404%" id="mcps1.3.2.3.2.5.1.3" liSelected="liSelected"><p>Description</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="28.402840284028404%" id="mcps1.3.2.3.2.5.1.4" liSelected="liSelected"><p>Remarks</p>
</th>
</tr>
</thead>
<tbody><tr valign="middle"><td class="cellrowborder" align="center" valign="middle" width="11.501150115011502%" headers="mcps1.3.2.3.2.5.1.1 "><p>1</p>
</td>
<td class="cellrowborder" align="left" valign="middle" width="31.693169316931698%" headers="mcps1.3.2.3.2.5.1.2 "><p><a href="#EN-US_TASK_0000001513030642__step2559894175329">(Optional) Configure the source interface or source IP address for the SCP client.</a></p>
</td>
<td class="cellrowborder" align="left" valign="middle" width="28.402840284028404%" headers="mcps1.3.2.3.2.5.1.3 "><p>Configure the source interface or source IP address for the SCP client to implement security verification.</p>
</td>
<td class="cellrowborder" rowspan="4" align="left" valign="middle" width="28.402840284028404%" headers="mcps1.3.2.3.2.5.1.4 "><p><span>Tasks 1, 2, and 3 can be performed in any sequence.</span></p>
</td>
</tr>
<tr><td class="cellrowborder" align="center" valign="middle" headers="mcps1.3.2.3.2.5.1.1 "><p>2</p>
</td>
<td class="cellrowborder" align="left" valign="middle" headers="mcps1.3.2.3.2.5.1.2 "><p><a href="#EN-US_TASK_0000001513030642__file1403">Configure the mode for connecting a device to the SSH server for the first time.</a></p>
</td>
<td class="cellrowborder" align="left" valign="middle" headers="mcps1.3.2.3.2.5.1.3 "><p>You can enable first login for the SSH client or configure the SSH client to assign a public key to the SSH server.</p>
</td>
</tr>
<tr><td class="cellrowborder" align="center" valign="top" headers="mcps1.3.2.3.2.5.1.1 "><p>3</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.2.3.2.5.1.2 "><p><a href="#EN-US_TASK_0000001513030642__step396319558312">Configure SCP client parameters.</a></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.2.3.2.5.1.3 "><p>SCP client parameters include the interval for sending keepalive packets and the maximum number of keepalive packets sent by the SCP client.</p>
</td>
</tr>
<tr><td class="cellrowborder" align="center" valign="middle" headers="mcps1.3.2.3.2.5.1.1 "><p>4</p>
</td>
<td class="cellrowborder" align="left" valign="middle" headers="mcps1.3.2.3.2.5.1.2 "><p><a href="#EN-US_TASK_0000001513030642__step1324694965175329">Connect to another device using SCP commands.</a></p>
</td>
<td class="cellrowborder" align="left" valign="middle" headers="mcps1.3.2.3.2.5.1.3 "><p>-</p>
</td>
</tr>
</tbody>
</table>
</div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001513030642__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li id="EN-US_TASK_0000001513030642__step2559894175329"><span id="EN-US_TASK_0000001513030642__"><strong>(Optional) Configure the source interface or source IP address for the SCP client.</strong></span><p>
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="hsides" border="1" rules="all"><caption><b>Table 2 </b>(Optional) Configuring the source interface or source IP address for the SCP client</caption><thead align="left"><tr><th align="center" class="cellrowborder" valign="middle" width="30%" id="mcps1.3.3.1.2.1.2.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="39.33%" id="mcps1.3.3.1.2.1.2.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="center" class="cellrowborder" valign="top" width="30.669999999999998%" id="mcps1.3.3.1.2.1.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr valign="middle"><td class="cellrowborder" valign="middle" width="30%" headers="mcps1.3.3.1.2.1.2.4.1.1 "><p>Enter the system view.</p>
</td>
<td class="cellrowborder" valign="middle" width="39.33%" headers="mcps1.3.3.1.2.1.2.4.1.2 "><p><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></p>
</td>
<td class="cellrowborder" valign="middle" width="30.669999999999998%" headers="mcps1.3.3.1.2.1.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" valign="middle" width="30%" headers="mcps1.3.3.1.2.1.2.4.1.1 "><p>Configure the source interface or source IP address for the SCP client.</p>
</td>
<td class="cellrowborder" valign="middle" width="39.33%" headers="mcps1.3.3.1.2.1.2.4.1.2 "><p><a href="cmdqueryname=scp+client-source"><b><span class="cmdname">scp client-source</span></b></a> { <a href="cmdqueryname=-a"><b><span class="cmdname">-a</span></b></a> <i><span class="varname">source-ip-address</span></i> [ <strong><span>public-net</span></strong> | <strong><span>-vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] | <a href="cmdqueryname=-i"><b><span class="cmdname">-i</span></b></a> { <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> | <i><span class="varname">interface-name</span></i> } }</p>
<p><a href="cmdqueryname=scp+ipv6+client-source+-a"><b><span class="cmdname">scp ipv6 client-source -a</span></b></a> <i><span class="varname">source-ipv6-address</span></i> [ <strong><span>-vpn-instance</span></strong> <i><span class="varname">ipv6-vpn-instance-name</span></i> ]</p>
</td>
<td class="cellrowborder" valign="middle" width="30.669999999999998%" headers="mcps1.3.3.1.2.1.2.4.1.3 "><p>By default, the source IPv4 address of an SCP client is 0.0.0.0, and the IPv6 address of an SCP client is 0::0.</p>
<p>To use <a href="cmdqueryname=-i"><b><span class="cmdname">-i</span></b></a> to specify a logical interface as the source interface, ensure that the logical interface has been created.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="30%" headers="mcps1.3.3.1.2.1.2.4.1.1 "><p>Commit the configuration.</p>
</td>
<td class="cellrowborder" valign="top" width="39.33%" headers="mcps1.3.3.1.2.1.2.4.1.2 "><p><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></p>
</td>
<td class="cellrowborder" valign="top" width="30.669999999999998%" headers="mcps1.3.3.1.2.1.2.4.1.3 "><p>-</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li id="EN-US_TASK_0000001513030642__file1403"><span id="EN-US_TASK_0000001513030642__"><strong>Configure the mode for connecting a device to the SSH server for the first time.</strong></span><p><p>For details, see "Configuring the Mode for Connecting a Device to the SSH Server for the First Time" in <span>Configuration Guide</span> &gt; Security Configuration.</p>
</p></li><li id="EN-US_TASK_0000001513030642__step396319558312"><span id="EN-US_TASK_0000001513030642__"><strong>Configure SCP client parameters.</strong></span><p><p>For details, see "Setting SSH Client Parameters" in <span>Configuration Guide</span> &gt; Security Configuration.</p>
</p></li><li id="EN-US_TASK_0000001513030642__step1324694965175329"><span id="EN-US_TASK_0000001513030642__"><strong>Connect to another device using SCP commands.</strong></span><p><p>Different from SFTP that uses separate commands for connection setup and file transfer, after the SCP connection is established, the client can directly upload files to or download files from the server.</p>

<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="hsides" border="1" rules="all"><caption><b>Table 3 </b>Connecting to another device using SCP commands</caption><thead align="left"><tr valign="middle"><th align="center" class="cellrowborder" valign="middle" width="13.96%" id="mcps1.3.3.4.2.2.2.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="center" class="cellrowborder" valign="middle" width="52.71%" id="mcps1.3.3.4.2.2.2.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="center" class="cellrowborder" valign="middle" width="33.33%" id="mcps1.3.3.4.2.2.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr valign="middle"><td class="cellrowborder" valign="middle" width="13.96%" headers="mcps1.3.3.4.2.2.2.4.1.1 "><p>Enter the system view.</p>
</td>
<td class="cellrowborder" align="left" valign="middle" width="52.71%" headers="mcps1.3.3.4.2.2.2.4.1.2 "><p><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></p>
</td>
<td class="cellrowborder" align="left" valign="middle" width="33.33%" headers="mcps1.3.3.4.2.2.2.4.1.3 "><p>-</p>
</td>
</tr>
<tr valign="middle"><td class="cellrowborder" align="left" valign="middle" width="13.96%" headers="mcps1.3.3.4.2.2.2.4.1.1 "><p>Connect to the SCP server using an IPv4 address.</p>
</td>
<td class="cellrowborder" align="left" valign="middle" width="52.71%" headers="mcps1.3.3.4.2.2.2.4.1.2 "><p><a href="cmdqueryname=scp"><b><span class="cmdname">scp</span></b></a> [ <strong><span>-a</span></strong> <i><span class="varname">source-ip-address</span></i> | <strong><span>-i</span></strong> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> ] [ <strong><span>-force-receive-pubkey</span></strong> ] [ [ <strong><span>-port</span></strong> <i><span class="varname">server-port</span></i> ] | [ <span><strong><span>public-net </span></strong> | </span><strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ] | [ <strong><span>identity-key</span></strong> <i><span class="varname">identity-key-type</span></i> ] | [ <span><strong><span>user-identity-key</span></strong> <i><span class="varname">user-key</span></i></span> ] | <strong><span>-r</span></strong> | <strong><span>-c</span></strong> | [ <strong><span>-cipher</span></strong> <i><span class="varname">cipher</span></i> ] | [<strong><span> -prefer-kex</span></strong> <i><span class="varname">prefer-kex</span></i> ] <span></span>] <sup>*</sup> <i><span class="varname">source-filename</span></i> <i><span class="varname">destination-filename</span></i></p>
</td>
<td class="cellrowborder" rowspan="2" align="left" valign="middle" width="33.33%" headers="mcps1.3.3.4.2.2.2.4.1.3 "><p>Select either of the commands based on the address type.</p>
<p>If the source interface is specified using <strong><span>-i</span></strong> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i>, the <strong><span>public-net</span></strong> and <strong>vpn-instance</strong> <i><span class="varname">vpn-instance-name</span></i> parameters are not supported.</p>
</td>
</tr>
<tr><td class="cellrowborder" align="left" valign="middle" headers="mcps1.3.3.4.2.2.2.4.1.1 "><p>Connect to the SCP server using an IPv6 address.</p>
</td>
<td class="cellrowborder" align="left" valign="middle" headers="mcps1.3.3.4.2.2.2.4.1.2 "><p><a href="cmdqueryname=scp+ipv6"><b><span class="cmdname">scp ipv6</span></b></a> [ [ <a href="cmdqueryname=vpn-instance"><b><span class="cmdname">vpn-instance</span></b></a> <i><span class="varname">vpn-instance-name</span></i> ] | <strong><span>public-net</span></strong> ] [ <strong><span>-force-receive-pubkey</span></strong> ] [ [ <strong><span>-port</span></strong> <i><span class="varname">server-port</span></i> ] | [ <strong><span>identity-key</span></strong> <i><span class="varname">identity-key-type </span></i>] | [ <strong><span>user-identity-key</span></strong> <i><span class="varname">user-key</span></i> ] | [ [ <strong><span>-a</span></strong> <i><span class="varname">source-ipv6-address</span></i> ] | [ <strong><span>-oi</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> } ] ] | <strong><span>-r</span></strong> | <strong><span>-c</span></strong> | [ <strong><span>-cipher</span></strong> <i><span class="varname">cipher</span></i> ] | [ <strong><span>-prefer-kex</span></strong> <i><span class="varname">prefer-kex</span></i> ] <span></span>] * <i><span class="varname">source-filename</span></i> <i><span class="varname">destination-filename</span></i></p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li><span><strong>Disconnect from the SCP server.</strong></span><p>
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><caption><b>Table 4 </b>Disconnecting from the SCP server</caption><thead align="left"><tr><th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.3.5.2.1.2.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.3.5.2.1.2.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.3.3.5.2.1.2.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.3.5.2.1.2.4.1.1 "><p>Disconnect from the SCP server.</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.3.5.2.1.2.4.1.2 "><p><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.3.3.5.2.1.2.4.1.3 "><p><span>You can also run the <a href="cmdqueryname=bye"><b><span class="cmdname">bye</span></b></a> or <a href="cmdqueryname=exit"><b><span class="cmdname">exit</span></b></a> command to disconnect from the SCP server.</span></p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li></ul></div>
<div class="example"><a name="EN-US_TASK_0000001513030642__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><ul><li>Run the <a href="cmdqueryname=display+scp+client"><b><span class="cmdname">display scp client</span></b></a> command to check the configuration of the SCP client.</li><li>Run the <a href="cmdqueryname=display+ssh+server-info"><b><span class="cmdname">display ssh server-info</span></b></a> command to check the mapping between all SSH servers and public keys on the client.</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_file_cfg_0018.html">Managing Files Using SCP
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_file_cfg_0019.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_file_cfg_0021.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>