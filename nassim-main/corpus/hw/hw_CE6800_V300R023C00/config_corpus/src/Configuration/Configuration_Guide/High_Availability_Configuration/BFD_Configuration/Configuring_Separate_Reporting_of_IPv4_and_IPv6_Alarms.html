
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Separate Reporting of IPv4 and IPv6 Alarms">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_bfd_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="vrp_bfd_cfg_0035.html">
<meta name="DC.Relation" scheme="URI" content="vrp_bfd_cfg_00412.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="BFD">
<meta name="featuretype" content="High Availability">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="BFD">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001700928493">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring Separate Reporting of IPv4 and IPv6 Alarms</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001700928493"></a><a name="EN-US_TASK_0000001700928493"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Separate Reporting of IPv4 and IPv6 Alarms</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001700928493__1.3.1"></a><a name="1.3.1"></a>
<div class="p"><h4 class="sectiontitle">Prerequisites</h4><div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TASK_0000001700928493__en-us_task_0000001176741815_p132077763"><span>The CE6885-LL in low-latency mode does not support IPv6 functions.</span></p>
</div></div>
<p>By default, BFD IPv4 and BFD IPv6 sessions use the same trap message to report alarms. The trap message names are hwBfdSessUp and hwBfdSessDown. If both BFD IPv4 and IPv6 sessions exist on a link and the traffic is heavy, trap suppression is triggered. When the session link status changes, only the IPv4 or IPv6 trap messages are reported. As a result, alarms are lost.</p>
<p>To resolve this problem, you can configure separate reporting of IPv4 and IPv6 alarms. When the link status of a BFD IPv6 session changes, a new trap message is used to report the alarm. The trap message names are hwBfdIPv6SessUp and hwBfdIPv6SessDown. The BFD IPv4 session uses the original trap messages for reporting alarms. Alarms for BFD IPv4 and BFD IPv6 sessions are separated to prevent alarm loss during traffic suppression.</p>
<p>Before configuring separate reporting of IPv4 and IPv6 alarms, complete the following tasks:</p>
<ul><li>Enable BFD globally.</li><li>Create a BFD session.</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001700928493__1.3.2"></a><a name="1.3.2"></a>
<div class="p"><h4 class="sectiontitle">Procedure</h4><ol><li>Enter the system view.<pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</li><li>Enable BFD globally and enter the global BFD view.<pre class="screen"><a href="cmdqueryname=bfd"><b><span class="cmdname">bfd</span></b></a></pre>
</li><li>Configure the device to use different trap messages to report BFD IPv4 and BFD IPv6 session alarms.<pre class="screen"><a href="cmdqueryname=ipv6-trap+separated"><b><span class="cmdname">ipv6-trap separated</span></b></a></pre>
</li><li>Commit the configuration.<pre class="screen"><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></pre>
</li></ol>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001700928493__1.3.3"></a><a name="1.3.3"></a>
<div class="p"><h4 class="sectiontitle">Verifying the Configuration</h4><ul><li>Run the <a href="cmdqueryname=display+this"><b><span class="cmdname">display this</span></b></a> command in the global BFD view to check whether the configuration takes effect.</li><li>When BFD IPv4 and BFD IPv6 session status alarms are generated on a device, run the <a href="cmdqueryname=display+trapbuffer"><b><span class="cmdname">display trapbuffer</span></b></a> command to check whether BFD IPv4 and BFD IPv6 sessions use different trap messages to report alarms.</li></ul>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_bfd_cfg_0001.html">BFD Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_bfd_cfg_0035.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_bfd_cfg_00412.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>