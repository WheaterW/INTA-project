
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring the SA Cache">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_msdp_cfg_0016.html">
<meta name="DC.Relation" scheme="URI" content="vrp_msdp_cfg_0017.html">
<meta name="DC.Relation" scheme="URI" content="vrp_msdp_cfg_0019.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="MSDP">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="MSDP">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="MSDP">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176743383">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring the SA Cache</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176743383"></a><a name="EN-US_TASK_0000001176743383"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring the SA Cache</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001176743383__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>An SA cache is used to locally save (S, G) information carried in SA messages. When a device needs to obtain (S, G) information, it directly obtains available (S, G) information from the SA cache. Setting the maximum number of (S, G) entries in an SA cache can prevent Deny of Service (DoS) attacks. You can also disable the SA cache function.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001176743383__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enter the MSDP view.</span><p><pre class="screen"><strong><a href="cmdqueryname=msdp"><b><span class="cmdname">msdp</span></b></a></strong> [<strong><span> vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ]</pre>
</p></li><li><span>Set the maximum number of (S, G) entries in an SA cache.</span><p><pre class="screen"><a href="cmdqueryname=peer"><b><span class="cmdname">peer</span></b></a> <i><span class="varname">peer-address</span></i> <strong><span>sa-cache-maximum</span></strong> <i><span class="varname">sa-limit</span></i></pre>
<p>By default, a maximum of 8192 (S, G) entries can be cached locally.</p>
<p><i><span class="varname">peer-address</span></i>: specifies the IP address of a remote MSDP peer. <i><span class="varname">sa-limit</span></i>: specifies the maximum number of (S, G) entries in an SA cache. If <i><span class="varname">sa-limit</span></i> is smaller than the SA cache specification, the <i><span class="varname">sa-limit</span></i> value takes effect; otherwise, the SA cache specification takes effect.</p>
</p></li><li><span>(Optional) Configure a holdtime for entries in the SA cache.</span><p><pre class="screen"><a href="cmdqueryname=sa-cache-holdtime"><b><span class="cmdname">sa-cache-holdtime</span></b></a> <i><span class="varname">holdtime</span></i></pre>
<p>Each time the device receives a new SA message, the corresponding (S, G) cache holdtime is set to the value specified by this command.</p>
</p></li><li><span>(Optional) Disable the SA cache function.</span><p><pre class="screen"><span><a href="cmdqueryname=cache-sa-disable"><b><span class="cmdname">cache-sa-disable</span></b></a></span></pre>
</p><p><p>By default, the SA cache function is enabled on the device that has an MSDP peer specified. To enable the SA cache function again, run the <span><a href="cmdqueryname=undo+cache-sa-disable"><b><span class="cmdname">undo cache-sa-disable</span></b></a></span> command.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen"><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_msdp_cfg_0016.html">Adjusting the Parameters of SA Messages
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_msdp_cfg_0017.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_msdp_cfg_0019.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>