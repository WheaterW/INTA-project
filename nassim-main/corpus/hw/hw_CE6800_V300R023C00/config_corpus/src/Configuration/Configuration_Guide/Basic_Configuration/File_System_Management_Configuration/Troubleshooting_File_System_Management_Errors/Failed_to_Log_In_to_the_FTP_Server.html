
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Failed to Log In to the FTP Server">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_file_cfg_0025.html">
<meta name="DC.Relation" scheme="URI" content="vrp_file_cfg_0027.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="FTP">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="FTP">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="featurename" content="FTP">
<meta name="featurename" content="SCP">
<meta name="featurename" content="SFTP">
<meta name="featurename" content="TFTP">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001512671482">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Failed to Log In to the FTP Server</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001512671482"></a><a name="EN-US_TASK_0000001512671482"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Failed to Log In to the FTP Server</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001512671482__1.3.1"></a><a name="1.3.1"></a>
<div class="p"><h4 class="sectiontitle">Possible Causes</h4><ul><li>The FTP server function is not enabled.</li><li>The FTP server does not use the default port number, and the port number of the FTP server is not specified when the FTP server is accessed from the FTP client.</li><li>The FTP user information, working directory, and user privilege level are not configured on the FTP server.</li><li>The number of online FTP users reaches the upper limit.</li><li>An ACL is configured on the FTP server to deny the access of the FTP user.</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001512671482__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Check whether the FTP server function is enabled.</span><p><p>Run the <a href="cmdqueryname=display+ftp+server"><b><span class="cmdname">display ftp server</span></b></a> command in any view to check the status of the FTP server.</p>
<ul><li>If the following information is displayed, the FTP server function is disabled:<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt;<strong> display ftp server</strong>
<strong>Server state              : Disabled</strong>
IPv6 server state         : Disabled
Timeout value (mins)      : 10
IPv6 Timeout value (mins) : 10
Listen port               : 21
IPv6 listen port          : 21
ACL name                  : 
IPv6 ACL name             : 
ACL number                :  
IPv6 ACL number           :  
Current user count        : 0
Max user number           : 15</pre>
<p>Run the <a href="cmdqueryname=ftp+server+enable"><b><span class="cmdname">ftp server enable</span></b></a> command in the system view to enable the FTP server function.</p>
<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt;<strong> system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>]<strong> ftp server enable</strong>
<span>Warning: FTP is not a secure protocol, and it is recommended to use SFTP.</span>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>commit</strong></pre>
</li><li>If the following information is displayed, the FTP server function is enabled:<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt;<strong> display ftp server</strong>
<strong>Server state              : Enabled</strong>
IPv6 server state         : Disabled
Timeout value (mins)      : 10
IPv6 Timeout value (mins) : 10
Listen port               : 21
IPv6 listen port          : 21
ACL name                  : 
IPv6 ACL name             : 
ACL number                :  
IPv6 ACL number           :  
Current user count        : 0
Max user number           : 15</pre>
</li></ul>
</p></li><li><span>Check whether the port number of the FTP server is the default port number.</span><p><div class="p">Run the <a href="cmdqueryname=display+ftp+server"><b><span class="cmdname">display ftp server</span></b></a> command in any view to check the FTP server port.<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt;<strong> display ftp server</strong>
Server state              : Enabled
IPv6 server state         : Disabled
Timeout value (mins)      : 10
IPv6 Timeout value (mins) : 10
<strong>Listen port            : 21</strong>
IPv6 listen port          : 21
ACL name                  :
IPv6 ACL name             :
ACL number                :
IPv6 ACL number           :
Current user count        : 0
Max user number           : 15</pre>
</div>
</p><p><p>If the FTP server port is not 21, run the <a href="cmdqueryname=ftp+server+port"><b><span class="cmdname">ftp server port</span></b></a> command to set the port number to 21. </p>
<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt;<strong> system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>]<strong> undo ftp server</strong>
<span>Info: Succeeded in closing the FTP server.</span>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>]<strong> ftp server port 21</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>]<strong> ftp server enable</strong>
<span><span>Warning: FTP is not a secure protocol, and it is recommended to use SFTP</span>.</span>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>commit</strong></pre>
<p>Alternatively, specify the port number of the FTP server on the FTP client when connecting to the FTP server from the FTP client.</p>
</p></li><li><span>Check whether the FTP user information, authorized directory, and user privilege level are configured.</span><p><p>The user name, password, authorized directory, and user privilege level are mandatory for an FTP user. An FTP user cannot log in to the FTP server if the FTP authorized directory or user privilege level is not specified.</p>
<p>For details, see <a href="vrp_file_cfg_0009.html#EN-US_TASK_0000001563990885__dc_cfg_file_0006step02">Configure a local FTP user.</a> in "Configuring the Device as an FTP Server."</p>
</p></li><li><span>Check whether the number of users on the FTP server reaches the upper limit.</span><p><p>Run the <a href="cmdqueryname=display+ftp+server+users"><b><span class="cmdname">display ftp server users</span></b></a> command to check whether the number of FTP users reaches <span>15</span>.</p>
</p></li><li><span>Check whether an ACL is configured on the FTP server.</span><p><p>Run the <a href="cmdqueryname=display+ftp+server"><b><span class="cmdname">display ftp server</span></b></a> command to check whether an ACL is configured on the FTP server.</p>
<p>If an ACL is configured on the FTP server, the FTP server allows only access from the IP addresses permitted by the ACL rules.</p>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_file_cfg_0025.html">Troubleshooting File System Management Errors
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_file_cfg_0027.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>