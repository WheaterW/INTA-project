
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Proxy ARP Anyway">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_arp_cfg_0011.html">
<meta name="DC.Relation" scheme="URI" content="vrp_arp_cfg_0013.html">
<meta name="DC.Relation" scheme="URI" content="vrp_arp_cfg_0015.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="ARP">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="ARP">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featurename" content="ARP">
<meta name="featurename" content="IP Address Conflict Detection">
<meta name="featurename" content="Dynamic ARP">
<meta name="featurename" content="Static ARP">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="featuretype" content="IP Addresses and Services">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176663589">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring Proxy ARP Anyway</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176663589"></a><a name="EN-US_TASK_0000001176663589"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Proxy ARP Anyway</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001176663589__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>In scenarios where servers are partitioned into hosts, the flexible deployment and migration of hosts on multiple servers or devices can be achieved by configuring Layer 2 interconnection between multiple devices. However, this approach may lead to larger Layer 2 domains on the network and the risk of broadcast storms. To resolve this problem, enable proxy ARP anyway on a host gateway. In this way, the gateway sends its interface MAC address to a source host and communication between hosts is implemented through route forwarding.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001176663589__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enter the view of the VLANIF interface where proxy ARP anyway needs to be enabled.</span><p><pre class="screen"><a href="cmdqueryname=interface+vlanif"><b><span class="cmdname">interface vlanif</span></b></a> <i><span class="varname">interface-number</span></i></pre>
</p></li><li><span>Configure an IP address for the interface.</span><p><pre class="screen"><a href="cmdqueryname=ip+address"><b><span class="cmdname">ip address</span></b></a> <i><span class="varname">ip-address</span></i> { <i><span class="varname">mask</span></i> | <i><span class="varname">mask-length</span></i> } [ <strong><span>sub</span></strong> ]</pre>
<p>The IP address of an interface must reside on the same network segment as the IP address of a host connected to the interface.</p>
</p></li><li><span>Enable proxy ARP anyway on the interface.</span><p><pre class="screen"><a href="cmdqueryname=arp+proxy+anyway+enable"><b><span class="cmdname">arp proxy anyway enable</span></b></a></pre>
<p>After proxy ARP anyway is enabled on a device, the aging time of ARP entries on hosts must be reduced. This ensures that invalid ARP entries are aged out as soon as possible, reducing the number of packets that are sent to but cannot be forwarded by the device.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176663589__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176663589__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="postreq"><a name="EN-US_TASK_0000001176663589__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+arp+interface"><b><span class="cmdname">display arp interface</span></b></a> { <em>interface-name</em> | <em>interface-type</em> <em>interface-number</em> } command to check ARP entries on an interface.</p>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_arp_cfg_0011.html">Configuring Proxy ARP
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_arp_cfg_0013.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_arp_cfg_0015.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>