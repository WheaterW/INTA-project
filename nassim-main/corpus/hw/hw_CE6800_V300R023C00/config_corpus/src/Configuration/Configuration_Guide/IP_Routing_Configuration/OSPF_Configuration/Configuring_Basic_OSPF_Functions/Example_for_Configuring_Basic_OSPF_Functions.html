
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring Basic OSPF Functions">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="../vrp/vrp_ospf_cfg_0010.html">
<meta name="DC.Relation" scheme="URI" content="../vrp/vrp_ospf_cfg_0017.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="OSPF">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001130623416">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="../public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="../public_sys-resources/browseVersion.js"></script>
<title>Example for Configuring Basic OSPF Functions</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001130623416"></a><a name="EN-US_TASK_0000001130623416"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring Basic OSPF Functions</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001130623416__1.3.1"></a><a name="1.3.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>On the network shown in <a href="#EN-US_TASK_0000001130623416__fig_dc_vrp_ospf_cfg_009401">Figure 1</a>, all devices run OSPF, and the entire AS is divided into three areas. DeviceA and DeviceB function as ABRs to forward inter-area routes.</p>
<p>After the configuration is complete, each device should learn the routes to all network segments in the AS.</p>
<div class="fignone" id="EN-US_TASK_0000001130623416__fig_dc_vrp_ospf_cfg_009401"><a name="EN-US_TASK_0000001130623416__fig_dc_vrp_ospf_cfg_009401"></a><a name="fig_dc_vrp_ospf_cfg_009401"></a><span class="figcap"><b>Figure 1 </b>Network diagram of basic OSPF functions</span><div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In this example, interface 1 and interface 2 represent <span>100GE</span><span>1/0/1</span> and <span>100GE</span><span>1/0/2</span>, respectively.</p>
</div></div>
<br><span><img class="vsd" src="figure/en-us_image_0000001176663041.png"></span><div class="tableBorder"><table cellpadding="4" cellspacing="0" summary=""><tr><th valign="bottom" align="left" id="mcps1.3.1.4.4.1.1"><p><strong>Device</strong></p>
</th>
<th valign="bottom" align="left" id="mcps1.3.1.4.4.1.2"><p><strong>Router ID</strong></p>
</th>
<th valign="bottom" align="left" id="mcps1.3.1.4.4.1.3"><p><strong>Process ID</strong></p>
</th>
<th valign="bottom" align="left" id="mcps1.3.1.4.4.1.4"><p><strong>IP Address</strong></p>
</th>
</tr>
<tr><td valign="top" headers="mcps1.3.1.4.4.1.1"><p>DeviceA</p>
</td>
<td valign="top" headers="mcps1.3.1.4.4.1.2"><p>1.1.1.1</p>
</td>
<td valign="top" headers="mcps1.3.1.4.4.1.3"><p>1</p>
</td>
<td valign="top" headers="mcps1.3.1.4.4.1.4"><p>Area 0: 192.168.0.0/24</p>
<p>Area 1: 192.168.1.0/24</p>
</td>
</tr>
<tr><td valign="top" headers="mcps1.3.1.4.4.1.1"><p>DeviceB</p>
</td>
<td valign="top" headers="mcps1.3.1.4.4.1.2"><p>2.2.2.2</p>
</td>
<td valign="top" headers="mcps1.3.1.4.4.1.3"><p>1</p>
</td>
<td valign="top" headers="mcps1.3.1.4.4.1.4"><p>Area 0: 192.168.0.0/24</p>
<p>Area 2: 192.168.2.0/24</p>
</td>
</tr>
<tr><td valign="top" headers="mcps1.3.1.4.4.1.1"><p>DeviceC</p>
</td>
<td valign="top" headers="mcps1.3.1.4.4.1.2"><p>3.3.3.3</p>
</td>
<td valign="top" headers="mcps1.3.1.4.4.1.3"><p>1</p>
</td>
<td valign="top" headers="mcps1.3.1.4.4.1.4"><p>Area 1: 192.168.1.0/24 and 172.16.1.0/24</p>
</td>
</tr>
<tr><td valign="top" headers="mcps1.3.1.4.4.1.1"><p>DeviceD</p>
</td>
<td valign="top" headers="mcps1.3.1.4.4.1.2"><p>4.4.4.4</p>
</td>
<td valign="top" headers="mcps1.3.1.4.4.1.3"><p>1</p>
</td>
<td valign="top" headers="mcps1.3.1.4.4.1.4"><p>Area 2: 192.168.2.0/24 and 172.17.1.0/24</p>
</td>
</tr>
<tr><td valign="top" headers="mcps1.3.1.4.4.1.1"><p>DeviceE</p>
</td>
<td valign="top" headers="mcps1.3.1.4.4.1.2"><p>5.5.5.5</p>
</td>
<td valign="top" headers="mcps1.3.1.4.4.1.3"><p>1</p>
</td>
<td valign="top" headers="mcps1.3.1.4.4.1.4"><p>Area 1: 172.16.1.0/24</p>
</td>
</tr>
<tr><td valign="top" headers="mcps1.3.1.4.4.1.1"><p>DeviceF</p>
</td>
<td valign="top" headers="mcps1.3.1.4.4.1.2"><p>6.6.6.6</p>
</td>
<td valign="top" headers="mcps1.3.1.4.4.1.3"><p>1</p>
</td>
<td valign="top" headers="mcps1.3.1.4.4.1.4"><p>Area 2: 172.17.1.0/24</p>
</td>
</tr>
</table></div>
</div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001130623416__1.3.2"></a><a name="1.3.2"></a>
<div class="p"><h4 class="sectiontitle">Precautions</h4><p>The following should be noted:</p>
<ul><li><p>The backbone area is responsible for forwarding inter-area routes. In addition, the routing information between non-backbone areas must be forwarded through the backbone area. OSPF defines the following rules for the backbone area:</p>
<ul><li>Connectivity must be available between non-backbone areas and the backbone area.</li><li>Connectivity must be available over the backbone area.</li></ul>
</li><li>The intervals at which Hello, Dead, and Poll packets are sent on the local interface must be the same as those intervals on the remote interface. Otherwise, the OSPF neighbor relationship cannot be established.</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001130623416__1.3.3"></a><a name="1.3.3"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><p>The configuration roadmap is as follows:</p>
<ol><li><p>Enable OSPF on each involved device.</p>
</li><li><p>Specify network segments in different areas.</p>
</li><li>Configure ciphertext authentication mode for the OSPF area.</li></ol>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001130623416__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Assign an IP address to each interface. For detailed configurations, see the configuration scripts.</span><p><p># Configure DeviceA.</p>
<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>sysname DeviceA</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>] <strong>commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceA] <strong>interface <span>100ge</span> <span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceA-<span>100GE</span><span>1/0/1</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/1</span>] <strong>ip address 192.168.0.1 24</strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/1</span>] <strong>quit</strong>
[<span class="keyword">*</span>DeviceA] <strong>interface <span>100ge</span> <span><span><span>1/0/2</span></span></span></strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/2</span>] <strong>undo portswitch</strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/2</span>] <strong>ip address 192.168.1.1 24</strong>
[<span class="keyword">*</span>DeviceA-<span>100GE</span><span>1/0/2</span>] <strong>quit</strong>
[<span class="keyword">*</span>DeviceA] <strong>commit</strong></pre>
<p>The configurations of other devices are similar to the configuration of DeviceA. For detailed configurations, see Configuration Scripts.</p>
</p></li><li><span>Configure basic OSPF functions.</span><p><p># Configure DeviceA.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceA] <strong>router id 1.1.1.1</strong>
[<span class="keyword">*</span>DeviceA] <strong>ospf 1</strong>
[<span class="keyword">*</span>DeviceA-ospf-1] <strong>area 0</strong>
[<span class="keyword">*</span>DeviceA-ospf-1-area-0.0.0.0] <strong>network 192.168.0.0 0.0.0.255</strong>
[<span class="keyword">*</span>DeviceA-ospf-1-area-0.0.0.0] <strong>quit</strong>
[<span class="keyword">*</span>DeviceA-ospf-1] <strong>area 1</strong>
[<span class="keyword">*</span>DeviceA-ospf-1-area-0.0.0.1] <strong>network 192.168.1.0 0.0.0.255</strong>
[<span class="keyword">*</span>DeviceA-ospf-1-area-0.0.0.1] <strong>quit</strong>
[<span class="keyword">*</span>DeviceA-ospf-1] <strong>quit</strong>
<span>[<span class="keyword">*</span>DeviceA] <strong>commit</strong></span></pre>
<p># Configure DeviceB.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceB] <strong>router id 2.2.2.2</strong>
[<span class="keyword">*</span>DeviceB] <strong>ospf 1</strong>
[<span class="keyword">*</span>DeviceB-ospf-1] <strong>area 0</strong>
[<span class="keyword">*</span>DeviceB-ospf-1-area-0.0.0.0] <strong>network 192.168.0.0 0.0.0.255</strong>
[<span class="keyword">*</span>DeviceB-ospf-1-area-0.0.0.0] <strong>quit</strong>
[<span class="keyword">*</span>DeviceB-ospf-1] <strong>area 2</strong>
[<span class="keyword">*</span>DeviceB-ospf-1-area-0.0.0.2] <strong>network 192.168.2.0 0.0.0.255</strong>
[<span class="keyword">*</span>DeviceB-ospf-1-area-0.0.0.2] <strong>quit</strong>
[<span class="keyword">*</span>DeviceB-ospf-1] <strong>quit</strong>
<span>[<span class="keyword">*</span>DeviceB] <strong>commit</strong></span></pre>
<p># Configure DeviceC.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceC] <strong>router id 3.3.3.3</strong>
[<span class="keyword">*</span>DeviceC] <strong>ospf 1</strong>
[<span class="keyword">*</span>DeviceC-ospf-1] <strong>area 1</strong>
[<span class="keyword">*</span>DeviceC-ospf-1-area-0.0.0.1] <strong>network 192.168.1.0 0.0.0.255</strong>
[<span class="keyword">*</span>DeviceC-ospf-1-area-0.0.0.1] <strong>network 172.16.1.0 0.0.0.255</strong>
[<span class="keyword">*</span>DeviceC-ospf-1-area-0.0.0.1] <strong>quit</strong>
[<span class="keyword">*</span>DeviceC-ospf-1] <strong>quit</strong>
<span>[<span class="keyword">*</span>DeviceC] <strong>commit</strong></span></pre>
<p># Configure DeviceD.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceD] <strong>router id 4.4.4.4</strong>
[<span class="keyword">*</span>DeviceD] <strong>ospf 1</strong>
[<span class="keyword">*</span>DeviceD-ospf-1] <strong>area 2</strong>
[<span class="keyword">*</span>DeviceD-ospf-1-area-0.0.0.2] <strong>network 192.168.2.0 0.0.0.255</strong>
[<span class="keyword">*</span>DeviceD-ospf-1-area-0.0.0.2] <strong>network 172.17.1.0 0.0.0.255</strong>
[<span class="keyword">*</span>DeviceD-ospf-1-area-0.0.0.2] <strong>quit</strong>
[<span class="keyword">*</span>DeviceD-ospf-1] <strong>quit</strong>
<span>[<span class="keyword">*</span>DeviceD] <strong>commit</strong></span></pre>
<p># Configure DeviceE.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceE] <strong>router id 5.5.5.5</strong>
[<span class="keyword">*</span>DeviceE] <strong>ospf 1</strong>
[<span class="keyword">*</span>DeviceE-ospf-1]<strong> area 1</strong>
[<span class="keyword">*</span>DeviceE-ospf-1-area-0.0.0.1] <strong>network 172.16.1.0 0.0.0.255</strong>
[<span class="keyword">*</span>DeviceE-ospf-1-area-0.0.0.1] <strong>quit</strong>
[<span class="keyword">*</span>DeviceE-ospf-1]<strong> quit</strong>
<span>[<span class="keyword">*</span>DeviceE] <strong>commit</strong></span></pre>
<p># Configure DeviceF.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceF] <strong>router id 6.6.6.6</strong>
[<span class="keyword">*</span>DeviceF] <strong>ospf 1</strong>
[<span class="keyword">*</span>DeviceF-ospf-1] <strong>area 2</strong>
[<span class="keyword">*</span>DeviceF-ospf-1-area-0.0.0.2] <strong>network 172.17.1.0 0.0.0.255</strong>
[<span class="keyword">*</span>DeviceF-ospf-1-area-0.0.0.2] <strong>quit</strong>
[<span class="keyword">*</span>DeviceF-ospf-1] <strong>quit</strong>
<span>[<span class="keyword">*</span>DeviceF] <strong>commit</strong></span></pre>
</p></li><li><span>Configure ciphertext authentication mode for the OSPF area.</span><p><p># Configure DeviceA.</p>
<pre class="screen">[<span class="keyword">*</span>DeviceA] <strong>ospf 1</strong>
[<span class="keyword">*</span>DeviceA-ospf-1] <strong>area 0</strong>
[<span class="keyword">*</span>DeviceA-ospf-1-area-0.0.0.0] <strong>authentication-mode hmac-sha256 1 cipher YsHsjx_202206</strong>
[<span class="keyword">*</span>DeviceA-ospf-1-area-0.0.0.0] <strong>quit</strong>
[<span class="keyword">*</span>DeviceA-ospf-1] <strong>quit</strong>
<span>[<span class="keyword">*</span>DeviceA] <strong>commit</strong></span></pre>
<p># Configure DeviceB.</p>
<pre class="screen">[<span class="keyword">*</span>DeviceB] <strong>ospf 1</strong>
[<span class="keyword">*</span>DeviceB-ospf-1] <strong>area 0</strong>
[<span class="keyword">*</span>DeviceB-ospf-1-area-0.0.0.0] <strong>authentication-mode hmac-sha256 1 cipher YsHsjx_202206</strong>
[<span class="keyword">*</span>DeviceB-ospf-1-area-0.0.0.0] <strong>quit</strong>
[<span class="keyword">*</span>DeviceB-ospf-1] <strong>quit</strong>
<span>[<span class="keyword">*</span>DeviceB] <strong>commit</strong></span></pre>
<div class="note"><img src="../public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Device B and Device A must be configured with the same password. Otherwise, the neighbor relationship cannot be established.</p>
</div></div>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001130623416__1.3.5"></a><a name="1.3.5"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p># Check OSPF neighbor information on DeviceA.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceA] <strong>display ospf peer</strong>
OSPF Process 1 with Router ID 1.1.1.1
 Area 0.0.0.0 interface 192.168.0.1(<span>100GE</span><span>1/0/1</span>)'s neighbors
<strong>  </strong> Router ID: 2.2.2.2      Address: 192.168.0.2
   State    : Full         Mode   : Nbr is  Master  Priority: 1
   DR       : 192.168.0.2  BDR    : 192.168.0.1     MTU     : 0
   Dead timer due (in seconds) : 32
   Retrans timer interval      : 5
   Neighbor up time            : 00h04m14s
   Neighbor up time stamp      : 2020-06-08 01:41:57
   Authentication Sequence     : 0

 Area 0.0.0.1 interface 192.168.1.1(<span>100GE</span><span>1/0/2</span>)'s neighbors
   Router ID: 3.3.3.3       Address: 192.168.1.2
   State    : Full          Mode   : Nbr is  Master  Priority: 1
   DR       : 192.168.1.2   BDR    : 192.168.1.1     MTU     : 0 
   Dead timer due (in seconds) : 32
   Retrans timer interval      : 5
   Neighbor up time            : 00h04m14s
   Neighbor up time stamp      : 2020-06-08 01:41:57
   Authentication Sequence     : 0</pre>
<p># Check information about the OSPF routes on DeviceA.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceA] <strong>display ospf routing</strong>

OSPF Process 1 with Router ID 1.1.1.1

 Routing for Network
 ------------------------------------------------------------------------------
 Destination        Cost       Type          NextHop         AdvRouter       Area
 172.16.1.0/24      2          Transit       192.168.1.2     3.3.3.3         0.0.0.1
 172.17.1.0/24      3          Inter-area    192.168.0.2     2.2.2.2         0.0.0.0
 192.168.2.0/24     2          Inter-area    192.168.0.2     2.2.2.2         0.0.0.0

 Total Nets: 3
 Intra Area: 1  Inter Area: 2  ASE: 0  NSSA: 0</pre>
<p># Check the LSDB of DeviceA.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceA] <strong>display ospf lsdb</strong>
          OSPF Process 1 with Router ID 1.1.1.1
                  Link State Database

                          Area: 0.0.0.0
 Type      LinkState ID    AdvRouter        Age  Len   Sequence       Metric
 Router    1.1.1.1         1.1.1.1           93  48    80000004            1
 Router    2.2.2.2         2.2.2.2           92  48    80000004            1
 Sum-Net   172.16.1.0      1.1.1.1         1287  28    80000002            2
 Sum-Net   192.168.1.0     1.1.1.1         1716  28    80000001            1
 Sum-Net   172.17.1.0      2.2.2.2         1336  28    80000001            2
 Sum-Net   192.168.2.0     2.2.2.2           87  28    80000002            1

                          Area: 0.0.0.1
 Type      LinkState ID    AdvRouter        Age  Len   Sequence       Metric
 Router    1.1.1.1         1.1.1.1         1420  48    80000002            1
 Router    3.3.3.3         3.3.3.3         1294  60    80000003            1
 Router    5.5.5.5         5.5.5.5         1296  36    80000002            1
 Network   172.16.1.1      3.3.3.3         1294  32    80000001            0
 Sum-Net   172.17.1.0      1.1.1.1         1325  28    80000001            3
 Sum-Net   192.168.0.0     1.1.1.1         1717  28    80000001            1
 Sum-Net   192.168.2.0     1.1.1.1         1717  28    80000001            2</pre>
<p># Check the routing table of DeviceD.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceD] <strong>display ospf routing</strong>

OSPF Process 1 with Router ID 1.1.1.1

 Routing for Network
 ------------------------------------------------------------------------------
 Destination        Cost       Type       NextHop         AdvRouter       Area
 172.16.1.0/24      4          Inter-area 192.168.2.1     2.2.2.2         0.0.0.2
 192.168.0.0/24     2          Inter-area 192.168.2.1     2.2.2.2         0.0.0.2
 192.168.1.0/24     3          Inter-area 192.168.2.1     2.2.2.2         0.0.0.2

 Total Nets: 3
 Intra Area: 0  Inter Area: 3  ASE: 0  NSSA: 0</pre>
</div>
<div class="postreq"><a name="EN-US_TASK_0000001130623416__1.3.6"></a><a name="1.3.6"></a><h4 class="sectiontitle">Configuration Scripts</h4><ul><li><p>DeviceA</p>
<pre class="screen">#
sysname DeviceA
#
router id 1.1.1.1
#
interface <span>100GE</span><span>1/0/1</span>
 undo portswitch
 ip address 192.168.0.1 255.255.255.0
#
interface <span>100GE</span><span>1/0/2</span>
 undo portswitch
 ip address 192.168.1.1 255.255.255.0
#
ospf 1
 area 0.0.0.0
  network 192.168.0.0 0.0.0.255
  authentication-mode hmac-sha256 1 cipher %^%#c;\wJ4Qi8I1FMGM}KmIK9rha/.D.!$"<font style="font-size:8pt" Face="Courier New" >~</font>0(Ep66z<font style="font-size:8pt" Face="Courier New" >~</font>%^%#
 area 0.0.0.1
  network 192.168.1.0 0.0.0.255
#
return</pre>
</li><li><p>DeviceB</p>
<pre class="screen">#
sysname DeviceB
#
router id 2.2.2.2
#
interface <span>100GE</span><span>1/0/1</span>
 undo portswitch
 ip address 192.168.0.2 255.255.255.0
#
interface <span>100GE</span><span>1/0/2</span>
 undo portswitch
 ip address 192.168.2.1 255.255.255.0
#
ospf 1
 area 0.0.0.0
  network 192.168.0.0 0.0.0.255
  authentication-mode hmac-sha256 1 cipher %^%#c;\wJ4Qi8I1FMGM}KmIK9rha/.D.!$"<font style="font-size:8pt" Face="Courier New" >~</font>0(Ep66z<font style="font-size:8pt" Face="Courier New" >~</font>%^%#
 area 0.0.0.2
  network 192.168.2.0 0.0.0.255
#
return</pre>
</li><li><p>DeviceC</p>
<pre class="screen">#
sysname DeviceC
#
router id 3.3.3.3
#
interface <span>100GE</span><span>1/0/1</span>
 undo portswitch
 ip address 192.168.1.2 255.255.255.0
#
interface <span>100GE</span><span>1/0/2</span>
 undo portswitch
 ip address 172.16.1.1 255.255.255.0
#
ospf 1
 area 0.0.0.1
  network 192.168.1.0 0.0.0.255
  network 172.16.1.0 0.0.0.255
#
return</pre>
</li><li><p>DeviceD</p>
<pre class="screen">#
sysname DeviceD
#
router id 4.4.4.4
#
interface <span>100GE</span><span>1/0/1</span>
 undo portswitch
 ip address 192.168.2.2 255.255.255.0
#
interface <span>100GE</span><span>1/0/2</span>
 undo portswitch
 ip address 172.17.1.1 255.255.255.0
#
ospf 1
 area 0.0.0.2
  network 192.168.2.0 0.0.0.255
  network 172.17.1.0 0.0.0.255
#
return</pre>
</li><li><p>DeviceE</p>
<pre class="screen">#
sysname DeviceE
#
router id 5.5.5.5
#
interface <span>100GE</span><span>1/0/2</span>
 undo portswitch
 ip address 172.16.1.2 255.255.255.0
#
ospf 1
 area 0.0.0.1
  network 172.16.1.0 0.0.0.255
#
return</pre>
</li><li><p>DeviceF</p>
<pre class="screen">#
sysname DeviceF
#
router id 6.6.6.6
#
interface <span>100GE</span><span>1/0/2</span>
 undo portswitch
 ip address 172.17.1.2 255.255.255.0
#
ospf 1
 area 0.0.0.2
  network 172.17.1.0 0.0.0.255
#
return</pre>
</li></ul>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="../vrp/vrp_ospf_cfg_0010.html">Configuring Basic OSPF Functions
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="../vrp/vrp_ospf_cfg_0017.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>