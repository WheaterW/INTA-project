
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring IPv6 IS-IS Attributes for Interfaces of Different Network Types">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_isis_ipv6_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="vrp_isis_ipv6_cfg_0017.html">
<meta name="DC.Relation" scheme="URI" content="vrp_isis_ipv6_cfg_0119.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IS-ISv6">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IS-ISv6">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176742077">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring IPv6 IS-IS Attributes for Interfaces of Different Network Types</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176742077"></a><a name="EN-US_TASK_0000001176742077"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring IPv6 IS-IS Attributes for Interfaces of Different Network Types</h1>
<div class="taskbody"><div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001176742077__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>Before configuring IPv6 IS-IS attributes for interfaces of different network types, you have completed the following task:</p>
<ul><li><p><a href="vrp_isis_ipv6_cfg_0011.html">Configure basic IPv6 IS-IS functions</a>.</p>
</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001176742077__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p">The process for establishing an IPv6 IS-IS neighbor relationship on a broadcast network differs from that on a P2P network. As such, you can set different IPv6 IS-IS attributes for interfaces of the two network types. Details are as follows:<ul><li><p>On a broadcast network, IPv6 IS-IS must elect a DIS based on the DIS priorities of IPv6 IS-IS interfaces. You can configure DIS priorities for them to run for the DIS.</p>
</li><li><p>As IPv6 IS-IS on a P2P network does not elect a DIS, it is not necessary to configure DIS priorities for interfaces. Instead, to ensure the reliability of P2P links, you can configure IS-IS P2P interfaces to use the three-way mode to establish IS-IS neighbor relationships, enabling unidirectional link faults to be detected.</p>
<p>In normal cases, IPv6 IS-IS checks the IPv6 addresses of received IIHs, and a neighbor relationship can only be established if the source IPv6 address carried in a received IIH and the address of the interface that receives the IIH are on the same network segment.</p>
</li></ul>
</div>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001176742077__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure a DIS priority for an interface on a broadcast network.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the interface view.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></pre>
</p></li><li class="substepexpand"><span>Switch the interface working mode to Layer 3.</span><p><pre class="screen"><a href="cmdqueryname=undo+portswitch"><b><span class="cmdname">undo portswitch</span></b></a></pre>
<p> Determine whether to perform this step based on the current interface working mode.</p>
</p></li><li class="substepexpand"><span>Configure a DIS priority for the interface.</span><p><pre class="screen"><a href="cmdqueryname=isis+dis-priority"><b><span class="cmdname">isis dis-priority</span></b></a> <i><span class="varname">priority</span></i> [ <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> ]</pre>
<p>The larger the <i><span class="varname">priority</span></i> value, the higher the priority.</p>
</p></li><li class="substepexpand"><span>(Optional) Configure a DIS name.</span><p><pre class="screen"><a href="cmdqueryname=isis+dis-name"><b><span class="cmdname">isis dis-name</span></b></a> <i><span class="varname">symbolic-name</span></i></pre>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176742077__en-us_task_0234857734_screen14848162118611"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176742077__en-us_task_0234857734_cmdname1784862115612">commit</span></b></a></pre>
</p></li></ol>
</li><li><span>Configure attributes for an interface on a P2P network.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the interface view.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></pre>
</p></li><li class="substepexpand"><span>Switch the interface working mode to Layer 3.</span><p><pre class="screen"><a href="cmdqueryname=undo+portswitch"><b><span class="cmdname">undo portswitch</span></b></a></pre>
<p> Determine whether to perform this step based on the current interface working mode.</p>
</p></li><li class="substepexpand"><span>Set the network type of the interface to P2P.</span><p><pre class="screen"><a href="cmdqueryname=isis+circuit-type"><b><span class="cmdname">isis circuit-type</span></b></a> <strong><span>p2p</span></strong></pre>
<p>By default, the network type of an interface is determined by its physical interface type.</p>
</p></li><li class="substepexpand"><span>Set a negotiation mode for the P2P interface.</span><p><pre class="screen"><a href="cmdqueryname=isis+ppp-negotiation"><b><span class="cmdname">isis ppp-negotiation</span></b></a> { <strong><span>2-way</span></strong> | <strong><span>3-way</span></strong> [ <strong><span>only</span></strong> ] }</pre>
<p>The <a href="cmdqueryname=isis+ppp-negotiation"><b><span class="cmdname">isis ppp-negotiation</span></b></a> command is used to set a negotiation mode for an interface to establish neighbor relationships on P2P links only. To set a negotiation mode for an interface to establish neighbor relationships on a broadcast link, you need to first run the <a href="cmdqueryname=isis+circuit-type"><b><span class="cmdname">isis circuit-type</span></b></a> <strong><span>p2p</span></strong> command to set the link type of the interface to P2P, and then run the <a href="cmdqueryname=isis+ppp-negotiation"><b><span class="cmdname">isis ppp-negotiation</span></b></a> command.</p>
</p></li><li class="substepexpand"><span>Enable OSICP state check on the PPP link interface.</span><p><pre class="screen"><a href="cmdqueryname=isis+ppp-osicp-check"><b><span class="cmdname">isis ppp-osicp-check</span></b></a></pre>
</p><p><p>This command applies only to PPP interfaces, not to P2P interfaces using other data link protocols. After this command is configured, the OSI network negotiation status of PPP can affect the IS-IS interface status. If PPP detects that the OSI network fails, the link state of the IS-IS interface is set to down, and the route to the network segment to which the IP address of the interface belongs is no longer advertised through LSPs.</p>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176742077__en-us_task_0234857734_screen14848162118611_1"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176742077__en-us_task_0234857734_cmdname1784862115612_1">commit</span></b></a></pre>
</p></li></ol>
</li><li><span>Configure IIH-related functions.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the interface view.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></pre>
</p></li><li class="substepexpand"><span>Switch the interface working mode to Layer 3.</span><p><pre class="screen"><a href="cmdqueryname=undo+portswitch"><b><span class="cmdname">undo portswitch</span></b></a></pre>
<p> Determine whether to perform this step based on the current interface working mode.</p>
</p></li><li class="substepexpand"><span>Configure the interface to send small-sized IIHs (without the padding field).</span><p><pre class="screen"><a href="cmdqueryname=isis+small-hello"><b><span class="cmdname">isis small-hello</span></b></a></pre>
</p></li><li class="substepexpand"><span>Configure the interface to send standard IIHs (with the padding field).</span><p><pre class="screen"><a href="cmdqueryname=isis+padding-hello"><b><span class="cmdname">isis padding-hello</span></b></a></pre>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The <a href="cmdqueryname=isis+small-hello"><b><span class="cmdname">isis small-hello</span></b></a> and <a href="cmdqueryname=isis+padding-hello"><b><span class="cmdname">isis padding-hello</span></b></a> commands are mutually exclusive. Run either of them as required.</p>
</div></div>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176742077__en-us_task_0234857734_screen14848162118611_2"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176742077__en-us_task_0234857734_cmdname1784862115612_2">commit</span></b></a></pre>
</p></li></ol>
</li></ul></div>
<div class="example"><a name="EN-US_TASK_0000001176742077__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+isis"><b><span class="cmdname">display isis</span></b></a> <strong><span>interface verbose</span></strong> command to check detailed IPv6 IS-IS interface information.</p>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_isis_ipv6_cfg_0001.html">IS-ISv6 Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_isis_ipv6_cfg_0017.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_isis_ipv6_cfg_0119.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>