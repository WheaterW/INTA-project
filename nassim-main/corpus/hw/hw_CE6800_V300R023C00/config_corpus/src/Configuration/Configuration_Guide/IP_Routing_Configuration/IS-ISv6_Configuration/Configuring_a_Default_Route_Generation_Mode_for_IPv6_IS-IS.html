
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a Default Route Generation Mode for IPv6 IS-IS">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_isis_ipv6_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="vrp_isis_ipv6_cfg_0119.html">
<meta name="DC.Relation" scheme="URI" content="vrp_isis_ipv6_cfg_0020.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IS-ISv6">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IS-ISv6">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001130782384">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring a Default Route Generation Mode for IPv6 IS-IS</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001130782384"></a><a name="EN-US_TASK_0000001130782384"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a Default Route Generation Mode for IPv6 IS-IS</h1>
<div class="taskbody"><div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001130782384__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>Before configuring a default route generation mode for IPv6 IS-IS, you have completed the following task:</p>
<ul><li><p><a href="vrp_isis_ipv6_cfg_0011.html">Configure basic IPv6 IS-IS functions</a>.</p>
</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001130782384__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>The destination address and mask of an IPv6 default route are ::/0. If the destination address of a packet does not match any entry in the routing table of a device, the device sends the packet along the default route. If neither the default route nor a match entry exists in the routing table, the device discards the packet and informs the source end that the destination address or network is unreachable.</p>
<p>Default route generation can be controlled using either of the following methods:</p>
<ul><li>Configure default route advertisement on a device, enabling it to add a default route to an LSP and advertise it to its neighbors. Consequently, the neighbors can learn the default route.</li><li>Allow Level-1 devices to generate a default route upon receipt of a Level-1 LSP with the ATT bit set to 1. According to IS-IS, if a Level-1-2 device can reach more areas through the Level-2 area than through the local Level-1 area, the device sets the ATT bit to 1 in the Level-1 LSP to be advertised to the local Level-1 area. Upon receipt of the Level-1 LSP, each Level-1 device generates a default route, with the Level-1-2 device as the next hop. You can also configure a Level-1-2 device whether to set the ATT bit to 1 in the preceding situation and configure a Level-1 device whether to generate a default route upon receipt of a Level-1 LSP with the ATT bit set to 1.<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The second method applies only to Level-1 devices.</p>
</div></div>
</li></ul>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001130782384__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure default route advertisement.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the IS-IS view.</span><p><pre class="screen"><a href="cmdqueryname=isis"><b><span class="cmdname">isis</span></b></a> [ <i><span class="varname">process-id</span></i> ]</pre>
</p></li><li class="substepexpand"><span>Configure default route advertisement for IPv6 IS-IS.</span><p><pre class="screen"><a href="cmdqueryname=ipv6+default-route-advertise"><b><span class="cmdname">ipv6 default-route-advertise</span></b></a> [ <strong><span>always</span></strong> | <strong><span>match</span></strong> <strong><span>default</span></strong> | <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> ] [ [ <strong><span>cost</span></strong> <i><span class="varname">cost</span></i> ] | [ <strong><span>tag</span></strong> <i><span class="varname">tag</span></i> ] | [ <strong><span>level-1</span></strong> | <strong><span>level-1-2</span></strong> | <strong><span>level-2</span></strong> ] ] <span><sup>*</sup></span> [ <strong><span>avoid-learning</span></strong> ]</pre>
<p>The level of the device determines the level of the generated default route, which is advertised only to other devices of the same level as the local device. You can configure a route-policy so that the IPv6 IS-IS device generates a default route only when matching routes exist in the local routing table.</p>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001130782384__en-us_task_0234857734_screen14848162118611"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001130782384__en-us_task_0234857734_cmdname1784862115612">commit</span></b></a></pre>
</p></li></ol>
</li><li><span>Configure the Level-1-2 device whether to set the ATT bit to 1 in the Level-1 LSPs to be sent.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the IS-IS view.</span><p><pre class="screen"><a href="cmdqueryname=isis"><b><span class="cmdname">isis</span></b></a> [ <i><span class="varname">process-id</span></i> ]</pre>
</p></li><li class="substepexpand"><span>Configure the Level-1-2 device whether to set the ATT bit to 1 in the Level-1 LSPs to be sent.</span><p><pre class="screen"><a href="cmdqueryname=attached-bit+advertise"><b><span class="cmdname">attached-bit advertise</span></b></a> { <strong><span>always</span></strong> | <strong><span>never</span></strong> }</pre>
<p>By default, a Level-1-2 routing device's Level-2 LSDB contains routing information that does not exist in the Level-1 LSDBs in the local Level-1 area, and the ATT bit in the Level-1 LSPs advertised by the Level-1-2 routing device is set to 1.</p>
<p>If the <strong><span>always</span></strong> parameter is specified, the Level-1-2 device sets the ATT bit to 1 in the Level-1 LSPs to be sent. By default, each Level-1 device generates a default route after receiving the LSPs.</p>
<p>If the <strong><span>never</span></strong> parameter is specified, the Level-1-2 device keeps the ATT bit as 0 in the Level-1 LSPs to be sent, preventing the receivers of these Level-1 LSPs from generating a default route and in turn reducing the routing table size.</p>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001130782384__en-us_task_0234857734_screen14848162118611_1"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001130782384__en-us_task_0234857734_cmdname1784862115612_1">commit</span></b></a></pre>
</p></li></ol>
</li><li><span>Disable a Level-1 device from generating a default route based on the ATT bit that is set to 1 in received Level-1 LSPs.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the IS-IS view.</span><p><pre class="screen"><a href="cmdqueryname=isis"><b><span class="cmdname">isis</span></b></a> [ <i><span class="varname">process-id</span></i> ]</pre>
</p></li><li class="substepexpand"><span>The Level-1 device is disabled from generating a default route even though it receives Level-1 LSPs carrying the ATT bit that is set to 1.</span><p><pre class="screen"><a href="cmdqueryname=attached-bit+avoid-learning"><b><span class="cmdname">attached-bit avoid-learning</span></b></a></pre>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001130782384__en-us_task_0234857734_screen14848162118611_2"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001130782384__en-us_task_0234857734_cmdname1784862115612_2">commit</span></b></a></pre>
</p></li></ol>
</li></ul></div>
<div class="example"><a name="EN-US_TASK_0000001130782384__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Verifying the Configuration</h4><ul><li>Run the <a href="cmdqueryname=display+isis"><b><span class="cmdname">display isis</span></b></a> <i><span class="varname">process-id</span></i> <strong><span>route</span></strong> <strong><span>ipv6 </span></strong>[<i><span class="varname"> ipv6-address</span></i> [ <i><span class="varname">ipv6-mask-length</span></i> ] | { <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> } | <strong><span>verbose </span></strong>] <sup>*</sup> command to check IPv6 IS-IS routing information.</li><li>Run the <a href="cmdqueryname=display+isis+lsdb"><b><span class="cmdname">display isis lsdb</span></b></a> [ <strong><span>verbose</span></strong> [ <strong><span>no-name</span></strong> ] | { <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> } |  { <strong><span>local</span></strong> | <i><span class="varname">lspid</span></i> | <strong><span>is-name</span></strong> <i><span class="varname">isname</span></i> } ]  [ <i><span class="varname">process-id</span></i><span> | <strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i></span> ] command to check IS-IS LSDB information.</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_isis_ipv6_cfg_0001.html">IS-ISv6 Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_isis_ipv6_cfg_0119.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_isis_ipv6_cfg_0020.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>