
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Enabling the Keepalive Function">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_gre_cfg_0006.html">
<meta name="DC.Relation" scheme="URI" content="vrp_gre_cfg_0007.html">
<meta name="DC.Relation" scheme="URI" content="vrp_gre_cfg_0010.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="GRE">
<meta name="featuretype" content="VPN">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="GRE">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="GRE">
<meta name="featuretype" content="VPN">
<meta name="featuretype" content="VPN">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176662375">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>(Optional) Enabling the Keepalive Function</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176662375"></a><a name="EN-US_TASK_0000001176662375"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Enabling the Keepalive Function</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001176662375__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>Before you configure a tunnel policy and set the VPN tunnel type to GRE, you must enable the keepalive function. After this function is enabled, the local end will not use a GRE tunnel with an unreachable remote end, preventing data loss. This is because:</p>
<ul><li><p>Before the keepalive function is enabled, the local tunnel interface may be up even if the remote end is unreachable.</p>
</li><li><p>After the keepalive function is enabled on the local end, the local tunnel interface is set to down when the remote end is unreachable. In this case, the local device does not select the unreachable GRE tunnel.</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001176662375__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enter the view of a tunnel interface.</span><p><pre class="screen"><a href="cmdqueryname=interface+tunnel"><b><span class="cmdname">interface tunnel</span></b></a> <i><span class="varname">interface-number</span></i></pre>
</p></li><li><span>Enable the keepalive function of GRE.</span><p><pre class="screen"><a href="cmdqueryname=keepalive"><b><span class="cmdname">keepalive</span></b></a> [ <strong><span>period</span></strong> <i><span class="varname">period</span></i> [ <strong><span>retry-times</span></strong> <i><span class="varname">retry-times</span></i> ] ]</pre>
<p>As the keepalive function is unidirectional, enable it on both ends of the GRE tunnel.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176662375__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176662375__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_gre_cfg_0006.html">Configuring a GRE Tunnel
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_gre_cfg_0007.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_gre_cfg_0010.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>