
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring an Interval for Sending VRRP Advertisement Packets">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_vrrp_cfg_0106.html">
<meta name="DC.Relation" scheme="URI" content="vrp_vrrp_cfg_0133.html">
<meta name="DC.Relation" scheme="URI" content="vrp_vrrp_cfg_0135.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="High Availability">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="High Availability">
<meta name="featurename" content="VRRP">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176663799">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring an Interval for Sending VRRP Advertisement Packets</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176663799"></a><a name="EN-US_TASK_0000001176663799"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring an Interval for Sending VRRP Advertisement Packets</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001176663799__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>A backup device may fail to receive VRRP Advertisement packets before the configured timeout period expires, leading to incorrect preemption of the master role due to heavy network traffic or timer differences between devices. To resolve this problem, set the interval for sending VRRP Advertisement packets on the master device to a larger value.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001176663799__1.3.2"></a><a name="1.3.2"></a>
<div class="p"><h4 class="sectiontitle">Procedure</h4><ol><li>Enter the system view.<pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</li><li>Enable the device to learn the interval at which VRRP Advertisement packets are sent.<pre class="screen"><a href="cmdqueryname=undo+vrrp+timer+advertise+learning+disable"><b><span class="cmdname">undo vrrp timer advertise learning disable</span></b></a></pre>
<p>By default, this function is enabled.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>During a master/backup VRRP switchover, do not disable the device from learning the interval. Otherwise, dual master devices may coexist.</p>
</div></div>
</li><li>Enter the view of the interface where a VRRP group resides.<pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></pre>
</li><li>Switch the interface working mode to Layer 3.<pre class="screen"><a href="cmdqueryname=undo+portswitch"><b><span class="cmdname">undo portswitch</span></b></a></pre>
<p> Determine whether to perform this step based on the current interface working mode.</p>
</li><li>Configure an interval for sending VRRP Advertisement packets.<pre class="screen"><a href="cmdqueryname=vrrp+vrid"><b><span class="cmdname">vrrp vrid</span></b></a> <i><span class="varname">virtual-router-id</span></i> <strong><span>timer</span></strong> <strong><span>advertise</span></strong> <i><span class="varname">advertise-interval</span></i></pre>
<p>The default interval is 1 second.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The interval at which a device sends VRRP Advertisement packets cannot be less than the time required to perform a master/backup VRRP switchover, as this may lead to protocol flapping during the switchover. It is recommended that the interval be set to a value greater than 1s.</p>
</div></div>
</li><li>Commit the configuration.<pre class="screen"><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></pre>
</li></ol>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001176663799__1.3.3"></a><a name="1.3.3"></a>
<div class="p"><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+vrrp"><b><span class="cmdname">display vrrp</span></b></a> [ <strong><span>interface</span></strong> { <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> } ] [ <i><span class="varname">virtual-router-id</span></i> ] [ <strong><span>verbose</span></strong> ] command to check the VRRP group status.</p>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_vrrp_cfg_0106.html">Configuring VRRP Time Parameters
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_vrrp_cfg_0133.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_vrrp_cfg_0135.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>