
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Enabling 1588v2 Globally">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_1588v2_cfg_0011.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_1588v2_cfg_0013.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="1588v2 (PTP)">
<meta name="featuretype" content="System Management">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="1588v2 (PTP)">
<meta name="featuretype" content="System Management">
<meta name="featurename" content="1588v2 (PTP)">
<meta name="featuretype" content="System Management">
<meta name="featuretype" content="System Management">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001563759293">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Enabling 1588v2 Globally</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001563759293"></a><a name="EN-US_TASK_0000001563759293"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Enabling 1588v2 Globally</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001563759293__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>To establish a 1588v2 network, you must enable 1588v2 globally, set the 1588v2 clock mode to BC or OC according to on-site requirements, and configure basic information (such as the domain and virtual clock ID) required on the 1588v2 clock synchronization network.</p>
<p>Perform the following steps on each 1588v2 device:</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001563759293__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enable 1588v2 globally.</span><p><pre class="screen"><a href="cmdqueryname=ptp+enable"><b><span class="cmdname">ptp enable</span></b></a></pre>
<p>By default, 1588v2 is not enabled globally. </p>
</p></li><li><span>Set the 1588v2 clock mode to BC or OC.</span><p><pre class="screen"><a href="cmdqueryname=ptp+device-type"><b><span class="cmdname">ptp device-type</span></b></a> { <strong><span>bc</span></strong> | <strong><span>oc</span></strong> }</pre>
<p>By default, the 1588v2 clock mode is not set.</p>
</p></li><li><span>(Optional) If the 1588v2 clock mode of the 1588v2 device is OC, configure the OC to work in slave-only mode.</span><p><pre class="screen"><a href="cmdqueryname=ptp+slaveonly"><b><span class="cmdname">ptp slaveonly</span></b></a></pre>
<p>By default, an OC does not work in slave-only mode. An OC can work in either master or slave mode.</p>
</p></li><li><span>(Optional) Configure the domain to which the 1588v2 device belongs.</span><p><pre class="screen"><a href="cmdqueryname=ptp+domain"><b><span class="cmdname">ptp domain</span></b></a> <i><span class="varname">domain-value</span></i></pre>
<p>By default, a 1588v2 device resides in domain 0.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The devices that implement time synchronization through 1588v2 messages must reside in the same 1588v2 domain.</p>
</div></div>
</p></li><li><span>(Optional) Configure a virtual clock ID.</span><p><pre class="screen"><a href="cmdqueryname=ptp"><b><span class="cmdname">ptp </span></b></a><a href="cmdqueryname=virtual-clock-id"><b><span class="cmdname">virtual-clock-id</span></b></a> <i><span class="varname">clock-id-value</span></i></pre>
<p>By default, a 1588v2 device has only a default clock ID and not a virtual clock ID. This default clock ID is generated by filling fffe in the middle of the system's hexadecimal MAC address. For example, if the MAC address of the system is 00e0fc123456, the corresponding default clock ID is 00e0fcfffe123456.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001563759293__en-us_task_0228023023_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001563759293__en-us_task_0228023023_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_1588v2_cfg_0011.html">Configuring Basic 1588v2 Functions
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_1588v2_cfg_0013.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>