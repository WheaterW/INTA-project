
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="(Optional) Configuring RPFR">
<meta name="abstract" content="">
<meta name="description" content="">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_ai_inof_cfg_0001.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_ai_inof_cfg_0017.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_ai_inof_cfg_0012.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="iNOF">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="iNOF">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="featuretype" content="Intelligent Lossless Network">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001609789098">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>(Optional) Configuring RPFR</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001609789098"></a><a name="EN-US_TASK_0000001609789098"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">(Optional) Configuring RPFR</h1>
<div class="taskbody"><p></p>
<div class="context"><a name="EN-US_TASK_0000001609789098__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>A switch enabled with RDMA Proxy for Fast Recovery (RPFR) can function as an RDMA proxy to implement fast fault recovery. If the native multipathing software of the operating system instead of Huawei's multipathing software is used on compute nodes and RPFR is enabled on the access switch of a storage node, the switch can detect the fault of its link to the storage node and instruct the affected compute nodes to switch to the backup link. In this way, services can be quickly recovered from such a link fault. The following uses the single-layer networking of centralized storage as an example to describe the implementation of RPFR.</p>
<div class="fignone"><span class="figcap"><b>Figure 1 </b>Implementation of RPFR</span><br><span><img class="vsd" src="figure/en-us_image_0000001663780465.png" width="NaN" height="NaN"></span></div>
<ol><li>The storage node sends the access information to DeviceA, and DeviceA records the access interface and connection information.</li><li>DeviceA detects that its link to the storage node is faulty.</li><li>DeviceA sends a disconnection request to the compute node.</li><li>After receiving the disconnection request, the compute node disables the original connection on plane A and switches to the backup link on plane B.</li></ol>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>RPFR takes effect only on the following device models: <span>CE6860-SAN, CE8850-SAN, CE6885-SAN</span>.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001609789098__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enable the AI service and enter the AI service view.</span><p><pre class="screen"><a href="cmdqueryname=ai-service"><b><span class="cmdname">ai-service</span></b></a></pre>
<p>By default, the AI service is disabled.</p>
</p></li><li><span>Enable iNOF and enter the iNOF view.</span><p><pre class="screen"><a href="cmdqueryname=inof"><b><span class="cmdname">inof</span></b></a></pre>
<p>By default, iNOF is disabled.</p>
</p></li><li><span>Enable RPFR.</span><p><pre class="screen"><strong><a href="cmdqueryname=rpfr+enable"><b><span class="cmdname">rpfr enable</span></b></a></strong></pre>
<p>By default, RPFR is disabled.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001609789098__en-us_task_0228023023_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001609789098__en-us_task_0228023023_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_ai_inof_cfg_0001.html">iNOF Configuration
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_ai_inof_cfg_0017.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="galaxy_ai_inof_cfg_0012.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>