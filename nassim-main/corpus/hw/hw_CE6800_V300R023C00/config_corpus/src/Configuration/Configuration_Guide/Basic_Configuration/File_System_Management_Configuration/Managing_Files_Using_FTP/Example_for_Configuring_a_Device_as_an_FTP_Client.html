
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring a Device as an FTP Client">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_file_cfg_0008.html">
<meta name="DC.Relation" scheme="URI" content="vrp_file_cfg_0011.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="FTP">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="FTP">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="featurename" content="FTP">
<meta name="featurename" content="SCP">
<meta name="featurename" content="SFTP">
<meta name="featurename" content="TFTP">
<meta name="featurename" content="File System Management">
<meta name="featuretype" content="Basic Configuration">
<meta name="featuretype" content="Basic Configuration">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001513150630">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Example for Configuring a Device as an FTP Client</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001513150630"></a><a name="EN-US_TASK_0000001513150630"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring a Device as an FTP Client</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001513150630__1.3.1"></a><a name="1.3.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>In <a href="#EN-US_TASK_0000001513150630__fig_dc_cfg_file_002401">Figure 1</a>, the remote device with IP address 10.1.1.1/24 functions as the FTP server. The device with IP address 10.2.1.1/24 functions as the FTP client and has reachable routes to the FTP server.</p>
<p>The FTP client needs to be upgraded. To be specific, you need to download the system software from the FTP server to the FTP client and back up the current configuration file of the FTP client to the FTP server.</p>
<div class="fignone" id="EN-US_TASK_0000001513150630__fig_dc_cfg_file_002401"><a name="EN-US_TASK_0000001513150630__fig_dc_cfg_file_002401"></a><a name="fig_dc_cfg_file_002401"></a><span class="figcap"><b>Figure 1 </b>Network diagram for accessing files on another device using FTP</span><div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In this example, interface1 represents <span>100GE</span><span>1/0/1</span>.</p>
</div></div>
<br><span><img class="vsd" src="figure/en-us_image_0000001563990913.png" width="NaN" height="NaN"></span></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001513150630__1.3.2"></a><a name="1.3.2"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><p>The configuration roadmap is as follows:</p>
<ol><li>Run the FTP software on the FTP server and configure an FTP user. </li><li>Establish a connection between the FTP client and FTP server.</li><li>Download files from and upload files to the FTP server using FTP commands.</li></ol>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001513150630__1.3.3"></a><a name="1.3.3"></a>
<div class="p"><h4 class="sectiontitle">Configuration Precautions</h4><p>In insecure network environments, you are advised to use a secure password authentication mode, encryption authentication algorithm, or protocol. For details about secure configuration examples, see <a href="vrp_file_cfg_0017.html">Example for Configuring a Device as an SFTP Client (Password Authentication and RSA Authentication)</a>.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001513150630__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Run the <strong>install feature-software WEAKEA</strong> command in the user view to install the weak security algorithm/protocol feature package (WEAKEA).</span></li><li><span>Run the FTP software on the FTP server and configure an FTP user. For details, see the help document of the third-party software.</span></li><li><span>Establish a connection between the FTP client and FTP server.</span><p><pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt;<strong> ftp 10.1.1.1</strong>
Trying 10.1.1.1 ...
Press <span>CTRL + K</span> to abort
Connected to 10.1.1.1.
220 FTP service ready.
User(10.1.1.1:(none)):admin
331 Password required for admin.
Enter password:
230 User logged in.                  
[ftp] </pre>
</p></li><li><span>Download files from and upload files to the FTP server using FTP commands.</span><p><pre class="screen"><span>[ftp] <strong>binary</strong></span>
200 Type is Image (Binary)
[ftp] <strong>get devicesoft.cc</strong>
500 Unidentified command SIZE test123.cfg   
200 PORT command okay
150 "D:\FTP\test123.cfg" file ready to send (3544 bytes) in IMAGE / Binary mode
.. 
226 Transfer finished successfully.  
FTP: <samp class="codeph">107973953</samp> byte(s) received in <samp class="codeph">151.05</samp> second(s) <samp class="codeph">560.79Kbyte</samp>(s)/sec.   
[ftp] <strong>put vrpcfg.zip</strong>
200 PORT command okay 
150 "D:\FTP\vrpcfg.zip" file ready to receive in IMAGE / Binary mode
/     100% [***********]
226 Transfer finished successfully.
FTP: <samp class="codeph">1257</samp> byte(s) send in <samp class="codeph">0.03</samp> second(s) <samp class="codeph">40.55</samp>Kbyte(s)/sec.    
[ftp] <strong>quit</strong></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001513150630__1.3.5"></a><a name="1.3.5"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p># Run the <strong>dir</strong> command on the FTP client to check whether the system software is successfully downloaded.</p>
<pre class="screen">&lt;<span class="keyword">HUAWEI</span>&gt;<strong> dir</strong>
Directory of <span><span><span>flash</span></span>:</span>/

  Idx  Attr     Size(Byte)  Date        Time<span>     </span>  FileName
<samp class="codeph">    0  -rw-             14  Mar 13 2019 14:13:38   back_time_a
    1  drw-              -  Mar 11 2019 00:58:54   logfile
    2  -rw-              4  Nov 17 2019 09:33:58   snmpnotilog.txt
    3  -rw-         11,238  Mar 12 2019 21:15:56   private-data.txt
    4  -rw-          1,257  Mar 12 2019 21:15:54   vrpcfg.zip
    5  -rw-             14  Mar 13 2019 14:13:38   back_time_b
    6  -rw-    <samp class="codeph">107,973,953</samp>  Mar 13 2019 14:24:24   <strong>devicesoft.cc</strong>
    7  drw-              -  Oct 31 2019 10:20:28   sysdrv
    8  drw-              -  Feb 21 2019 17:16:36   compatible
    9  drw-              -  Feb 09 2019 14:20:10   selftest
   10  -rw-         19,174  Feb 20 2019 18:55:32   backup.cfg
   11  -rw-         23,496  Oct 15 2019 20:59:36   <samp class="codeph">20191015</samp>.zip
   12  -rw-            588  Nov 04 2019 13:54:04   servercert.der
   13  -rw-            320  Nov 04 2019 13:54:26   serverkey.der
   14  drw-              -  Nov 04 2019 13:58:36   security
...
<span>670,092 KB total (569,904 KB free)</span></samp></pre>
<p># Access the working directory on the FTP server and check for the <strong>vrpcfg.zip</strong> file.</p>
</div>
<div class="postreq"><a name="EN-US_TASK_0000001513150630__1.3.6"></a><a name="1.3.6"></a><h4 class="sectiontitle">Configuration Scripts</h4><p>None</p>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_file_cfg_0008.html">Managing Files Using FTP
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_file_cfg_0011.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>