
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring the Function to Send IGMP Query Messages Upon Network Topology Changes">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_l2mc_over_vxlan_cfg_0029.html">
<meta name="DC.Relation" scheme="URI" content="vrp_l2mc_over_vxlan_cfg_0041.html">
<meta name="DC.Relation" scheme="URI" content="vrp_l2mc_over_vxlan_cfg_0043.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IGMP Snooping over VXLAN">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IGMP Snooping over VXLAN">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="IGMP Snooping over VXLAN">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001145100238">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring the Function to Send IGMP Query Messages Upon Network Topology Changes</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001145100238"></a><a name="EN-US_TASK_0000001145100238"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring the Function to Send IGMP Query Messages Upon Network Topology Changes</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001145100238__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>When a Layer 2 network topology changes, multicast forwarding paths may also change. You can configure a device to proactively send IGMP Query messages if a fault occurs on a link. After receiving IGMP Report messages from multicast group members, the device can update the member port information based on the Report messages and quickly switch multicast data traffic to new forwarding paths.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001145100238__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Configure the function to send IGMP Query messages upon network topology changes.</span><p><pre class="screen"><a href="cmdqueryname=igmp+snooping+send-query+enable"><b><span class="cmdname">igmp snooping send-query enable</span></b></a></pre>
</p><p><p>After this command is run, the device proactively sends IGMP General Query messages to update port information when detecting changes in a Layer 2 network topology. In this manner, multicast traffic can be rapidly switched to new forwarding paths, ensuring nonstop forwarding of multicast services.</p>
</p></li><li><span>(Optional) Set the source IP address of IGMP Query messages sent by the device.</span><p><pre class="screen"><a href="cmdqueryname=igmp+snooping+send-query+source-address"><b><span class="cmdname">igmp snooping send-query source-address</span></b></a> <i><span class="varname">ip-source-address</span></i></pre>
</p><p><p>By default, the source address of IGMP Query messages is 192.168.0.1. If this address is already in use on the network, use this command to set a different address.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001145100238__en-us_task_0228023023_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001145100238__en-us_task_0228023023_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_l2mc_over_vxlan_cfg_0029.html">Configuring Fast Update of Dynamic IGMP Snooping over VXLAN Memberships
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_l2mc_over_vxlan_cfg_0041.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_l2mc_over_vxlan_cfg_0043.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>