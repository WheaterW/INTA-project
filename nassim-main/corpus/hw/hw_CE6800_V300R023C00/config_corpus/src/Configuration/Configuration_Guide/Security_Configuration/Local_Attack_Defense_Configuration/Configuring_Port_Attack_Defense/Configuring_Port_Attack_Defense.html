
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Port Attack Defense">
<meta name="abstract" content="">
<meta name="description" content="">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_localattackdefense_cfg_0014.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_localattackdefense_cfg_0015.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_localattackdefense_cfg_0017.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Local Attack Defense">
<meta name="featuretype" content="Security">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Local Attack Defense">
<meta name="featuretype" content="Security">
<meta name="featurename" content="Local Attack Defense">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security">
<meta name="featuretype" content="Security Protection">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001512837010">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring Port Attack Defense</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001512837010"></a><a name="EN-US_TASK_0000001512837010"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Port Attack Defense</h1>
<div class="taskbody"><p></p>
<div class="context"><a name="EN-US_TASK_0000001512837010__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>The port attack defense function effectively limits the number of packets sent from a port to the CPU.</p>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001512837010__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Create an attack defense policy and enter the attack defense policy view.</span><p><pre class="screen"><a href="cmdqueryname=cpu-defend+policy"><b><span class="cmdname">cpu-defend policy</span></b></a> <i><span class="varname">policy-name</span></i></pre>
</p></li><li><span>Enable port attack defense.</span><p><pre class="screen"><strong><a href="cmdqueryname=auto-port-defend+enable"><b><span class="cmdname">auto-port-defend enable</span></b></a></strong></pre>
</p></li><li id="EN-US_TASK_0000001512837010__step204811456251"><span id="EN-US_TASK_0000001512837010__cmd15485453256">(Optional) Disable port attack defense for a specified protocol.</span><p><p id="EN-US_TASK_0000001512837010__p83388434489">For the <span>CE6866, CE6860-SAN, CE6866K, CE6860-HAM, CE8851-32CQ8DQ-P, CE8850-SAN, CE8851K, CE8850-HAM</span>, <span>CE8855, CE6855-48XS8CQ, CE6885, CE6885-SAN, CE6885-LL (standard forwarding mode), and CE6885-T</span>:</p>
<pre class="screen" id="EN-US_TASK_0000001512837010__screen137712401275"><a href="cmdqueryname=auto-port-defend+protocol"><b><span class="cmdname" id="EN-US_TASK_0000001512837010__cmdname92819468278">auto-port-defend protocol</span></b></a> { <strong><span id="EN-US_TASK_0000001512837010__cmdparmname424744549">arp-request</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname7765111111410">arp-request-uc</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname262515161542">arp-reply</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname1564116211448">dhcp-request</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname188962711415">dhcp-reply</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname18153318415">dhcpv6-discovery</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname178904393419">dhcpv6-reply</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname148113461646">dhcpv6-request</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname1024919522412">icmp</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname973937145415">igmp</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname14985105717419">ip-fragment</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname447312653">isis</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname18568181410517">isis-overlay</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname161565513817">lacp</span></strong>  |  <strong><span id="EN-US_TASK_0000001512837010__cmdparmname379318181253">nd</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname58412245512">ospf</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname2108173211511">ospf-hello</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname1751313371558">ospf-overlay</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname784224313520">ospf-hello-overlay</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname121712499514">ospfv3</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname1561715541518">ospfv3-overlay</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname39468435517">pim</span></strong> |<strong id="EN-US_TASK_0000001512837010__b1376463715915"> pim-mc</strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname61951261461">vrrp</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname1134618137617">vrrp6</span></strong> } <strong><span id="EN-US_TASK_0000001512837010__cmdparmname7842139183012">disable</span></strong></pre>
<p id="EN-US_TASK_0000001512837010__p791619317239">For the CE6885-LL working in low latency mode:</p>
<pre class="screen" id="EN-US_TASK_0000001512837010__screen2425182516234"><strong id="EN-US_TASK_0000001512837010__b1943153522314">auto-port-defend protocol </strong>{ <strong id="EN-US_TASK_0000001512837010__b1394383592315">arp-request</strong> | <strong id="EN-US_TASK_0000001512837010__b1794343542315">arp-request-uc</strong> | <strong id="EN-US_TASK_0000001512837010__b1194393542311">arp-reply</strong> | <strong id="EN-US_TASK_0000001512837010__b1994393532311">dhcp-request</strong> | <strong id="EN-US_TASK_0000001512837010__b109431635182312">dhcp-reply</strong> | <strong id="EN-US_TASK_0000001512837010__b694393552316">icmp</strong> | <strong id="EN-US_TASK_0000001512837010__b1894343552320">igmp</strong> | <strong id="EN-US_TASK_0000001512837010__b3943133522314">ip-fragment</strong> | <strong id="EN-US_TASK_0000001512837010__b4943183518239">isis</strong> | <strong id="EN-US_TASK_0000001512837010__b894383517230">lacp</strong> | <strong id="EN-US_TASK_0000001512837010__b294393514235">ospf</strong> | <strong id="EN-US_TASK_0000001512837010__b14943173513238">pim</strong> | <strong id="EN-US_TASK_0000001512837010__b14943235132312">pim-mc</strong> | <strong id="EN-US_TASK_0000001512837010__b149431835112310">vrrp</strong> } <strong id="EN-US_TASK_0000001512837010__b11943193513238">disable</strong></pre>
<p id="EN-US_TASK_0000001512837010__p162271372486">For the <span>CE6820H, CE6820H-K, CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6820S</span>:</p>
<pre class="screen" id="EN-US_TASK_0000001512837010__screen152068331488"><a href="cmdqueryname=auto-port-defend+protocol"><b><span class="cmdname" id="EN-US_TASK_0000001512837010__cmdname17356125617488">auto-port-defend protocol</span></b></a> { <strong><span id="EN-US_TASK_0000001512837010__cmdparmname12356756104813">arp-request</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname163561156104819">arp-request-uc</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname235619567481">arp-reply</span></strong> | <a href="cmdqueryname=dhcp-discovery"><b><span class="cmdname" id="EN-US_TASK_0000001512837010__cmdname16161721195010">dhcp-discovery</span></b></a> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname1235665634813">dhcp-request</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname4356185619488">dhcp-reply</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname15356556174811">dhcpv6-discovery</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname9356135644820">dhcpv6-reply</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname17356155620484">dhcpv6-request</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname17356165620483">icmp</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname1357205610484">igmp</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname735785615485">ip-fragment</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname135710563487">isis</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname3357195674814">isis-overlay</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname1014213394110">lacp</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname1735755610486">nd</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname2357956144819">ospf</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname1635705618483">ospf-hello</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname9357656134810">ospf-overlay</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname9357135684814">ospf-hello-overlay</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname635795610480">ospfv3</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname11357956194818">ospfv3-overlay</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname1435755617481">pim</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname1046119513815">pim-mc</span></strong>| <strong><span id="EN-US_TASK_0000001512837010__cmdparmname1235785654812">vrrp</span></strong> | <strong><span id="EN-US_TASK_0000001512837010__cmdparmname53572569481">vrrp6</span></strong> } <strong><span id="EN-US_TASK_0000001512837010__cmdparmname73571656124817">disable</span></strong></pre>
<p id="EN-US_TASK_0000001512837010__p1185113702713">If only a small proportion of all packets exceeding the rate threshold are attack packets, you can disable port attack defense for specific protocols, preventing normal services from being impacted due to excessive rate limiting.</p>
</p></li><li id="EN-US_TASK_0000001512837010__step860072993218"><span id="EN-US_TASK_0000001512837010__cmd135991729153212">(Optional) Set the rate threshold for port attack defense.</span><p><p id="EN-US_TASK_0000001512837010__p1987612314216">For the <span>CE6866, CE6860-SAN, CE6866K, CE6860-HAM, CE8851-32CQ8DQ-P, CE8850-SAN, CE8851K, CE8850-HAM</span>, <span>CE8855, CE6855-48XS8CQ, CE6885, CE6885-SAN, CE6885-LL (standard forwarding mode), and CE6885-T</span>:</p>
<pre class="screen" id="EN-US_TASK_0000001512837010__screen551215484358"><strong id="EN-US_TASK_0000001512837010__b1171714553355">auto-port-defend protocol </strong>{ <strong id="EN-US_TASK_0000001512837010__b3717205523519">arp-request</strong> | <strong id="EN-US_TASK_0000001512837010__b2717125517353">arp-request-uc</strong> | <strong id="EN-US_TASK_0000001512837010__b1271714555350">arp-reply</strong> | <strong id="EN-US_TASK_0000001512837010__b1771720551353">dhcp-request</strong> | <strong id="EN-US_TASK_0000001512837010__b271755518355">dhcp-reply</strong> | <strong id="EN-US_TASK_0000001512837010__b071745563519">dhcpv6-discovery</strong> | <strong id="EN-US_TASK_0000001512837010__b57170559350">dhcpv6-reply</strong> | <strong id="EN-US_TASK_0000001512837010__b8717955163513">dhcpv6-request</strong> | <strong id="EN-US_TASK_0000001512837010__b771720556357">icmp</strong> | <strong id="EN-US_TASK_0000001512837010__b11717105583510">igmp</strong> | <strong id="EN-US_TASK_0000001512837010__b5717165563513">ip-fragment</strong> | <strong id="EN-US_TASK_0000001512837010__b871795593516">isis</strong> | <strong id="EN-US_TASK_0000001512837010__b17717105573517">isis-overlay</strong> | <strong id="EN-US_TASK_0000001512837010__b071755515358">lacp</strong> | <strong id="EN-US_TASK_0000001512837010__b371795512354">nd</strong> | <strong id="EN-US_TASK_0000001512837010__b14717155513356">ospf</strong> | <strong id="EN-US_TASK_0000001512837010__b371725511352">ospf-hello</strong> | <strong id="EN-US_TASK_0000001512837010__b1771711555359">ospf-overlay</strong> | <strong id="EN-US_TASK_0000001512837010__b7717165573510">ospf-hello-overlay</strong> | <strong id="EN-US_TASK_0000001512837010__b10717145553511">ospfv3</strong> | <strong id="EN-US_TASK_0000001512837010__b15717165523518">ospfv3-overlay</strong> | <strong id="EN-US_TASK_0000001512837010__b127171555193511">pim</strong> | <strong id="EN-US_TASK_0000001512837010__b137171255113517">pim-mc</strong> | <strong id="EN-US_TASK_0000001512837010__b6717755183519">vrrp</strong> | <strong id="EN-US_TASK_0000001512837010__b19717105510354">vrrp6</strong> } <strong id="EN-US_TASK_0000001512837010__b17717135513355">threshold</strong> <em id="EN-US_TASK_0000001512837010__i07175557357">threshold-value</em></pre>
<p id="EN-US_TASK_0000001512837010__p188827446464">For the CE6885-LL working in low latency mode:</p>
<pre class="screen" id="EN-US_TASK_0000001512837010__screen188213448468"><strong id="EN-US_TASK_0000001512837010__b688213442465">auto-port-defend protocol </strong>{ <strong id="EN-US_TASK_0000001512837010__b1488217447467">arp-request</strong> | <strong id="EN-US_TASK_0000001512837010__b3882164417467">arp-request-uc</strong> | <strong id="EN-US_TASK_0000001512837010__b178820442467">arp-reply</strong> | <strong id="EN-US_TASK_0000001512837010__b148821244154619">dhcp-request</strong> | <strong id="EN-US_TASK_0000001512837010__b12882244124610">dhcp-reply</strong> | <strong id="EN-US_TASK_0000001512837010__b2882154412464">icmp</strong> | <strong id="EN-US_TASK_0000001512837010__b58821644104618">igmp</strong> | <strong id="EN-US_TASK_0000001512837010__b11882194454613">ip-fragment</strong> | <strong id="EN-US_TASK_0000001512837010__b16882114424615">isis</strong> | <strong id="EN-US_TASK_0000001512837010__b148825449466">lacp</strong> | <strong id="EN-US_TASK_0000001512837010__b3882194411467">ospf</strong> | <strong id="EN-US_TASK_0000001512837010__b888294417466">pim</strong> | <strong id="EN-US_TASK_0000001512837010__b138827443466">pim-mc</strong> | <strong id="EN-US_TASK_0000001512837010__b4882204417467">vrrp</strong> } <strong id="EN-US_TASK_0000001512837010__b1452291614475">threshold</strong> <em id="EN-US_TASK_0000001512837010__i152271612476">threshold-value</em></pre>
<p id="EN-US_TASK_0000001512837010__p1932871817210">For the <span>CE6820H, CE6820H-K, CE6863H, CE6863H-K, CE6881H, CE6881H-K, CE6820S</span>:</p>
<pre class="screen" id="EN-US_TASK_0000001512837010__screen19310101318217"><strong id="EN-US_TASK_0000001512837010__b343175523911">auto-port-defend protocol </strong>{ <strong id="EN-US_TASK_0000001512837010__b184311755173918">arp-request</strong> | <strong id="EN-US_TASK_0000001512837010__b114311955143915">arp-request-uc</strong> | <strong id="EN-US_TASK_0000001512837010__b14431755173910">arp-reply</strong> | <strong id="EN-US_TASK_0000001512837010__b144311855123913">dhcp-discovery</strong> | <strong id="EN-US_TASK_0000001512837010__b18431055153917">dhcp-request</strong> | <strong id="EN-US_TASK_0000001512837010__b144311455143919">dhcp-reply</strong> | <strong id="EN-US_TASK_0000001512837010__b134311855173919">dhcpv6-discovery</strong> | <strong id="EN-US_TASK_0000001512837010__b1043155563912">dhcpv6-reply</strong> | <strong id="EN-US_TASK_0000001512837010__b1643110557398">dhcpv6-request</strong> | <strong id="EN-US_TASK_0000001512837010__b14319554397">icmp</strong> | <strong id="EN-US_TASK_0000001512837010__b13431175593915">igmp</strong> | <strong id="EN-US_TASK_0000001512837010__b1843112557399">ip-fragment</strong> | <strong id="EN-US_TASK_0000001512837010__b443165543913">isis</strong> | <strong id="EN-US_TASK_0000001512837010__b10431195523916">isis-overlay</strong> | <strong id="EN-US_TASK_0000001512837010__b1243119554397">lacp</strong> | <strong id="EN-US_TASK_0000001512837010__b243275513392">nd</strong> | <strong id="EN-US_TASK_0000001512837010__b11432175513911">ospf</strong> | <strong id="EN-US_TASK_0000001512837010__b20432255123910">ospf-hello</strong> | <strong id="EN-US_TASK_0000001512837010__b1543225593918">ospf-overlay</strong> | <strong id="EN-US_TASK_0000001512837010__b17432105515394">ospf-hello-overlay</strong> | <strong id="EN-US_TASK_0000001512837010__b1043218559396">ospfv3</strong> | <strong id="EN-US_TASK_0000001512837010__b743215511393">ospfv3-overlay</strong> | <strong id="EN-US_TASK_0000001512837010__b74323558398">pim</strong> | <strong id="EN-US_TASK_0000001512837010__b2432155123912">pim-mc</strong> | <strong id="EN-US_TASK_0000001512837010__b843225593919">vrrp</strong> | <strong id="EN-US_TASK_0000001512837010__b54321255163918">vrrp6</strong> } <strong id="EN-US_TASK_0000001512837010__b5432195503919">threshold</strong> <em id="EN-US_TASK_0000001512837010__i8432125573918">threshold-value</em></pre>
</p></li><li><span>(Optional) Set the protocol packet sampling ratio for port attack defense.</span><p><pre class="screen"><a href="cmdqueryname=auto-port-defend+sample"><b><span class="cmdname">auto-port-defend sample</span></b></a> <i><span class="varname">sample-value</span></i></pre>
</p></li><li><span>(Optional) Set the aging time for port attack defense.</span><p><pre class="screen"><a href="cmdqueryname=auto-port-defend+aging-time"><b><span class="cmdname">auto-port-defend aging-time</span></b></a> <i><span class="varname">aging-time</span></i></pre>
</p></li><li><span>(Optional) Configure a whitelist for port attack defense.</span><p><pre class="screen"><a href="cmdqueryname=auto-port-defend+whitelist"><b><span class="cmdname">auto-port-defend whitelist</span></b></a> <i><span class="varname">whitelist-id</span></i> { <strong><span>acl</span></strong> <i><span class="varname">acl-number</span></i> | <strong><span>acl</span></strong> <strong><span>ipv6</span></strong> <i><span class="varname">ipv6-acl-number</span></i> | <strong><span>interface</span></strong> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> }</pre>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>The CE6885-LL in low latency mode does not support <strong>ipv6</strong> <em>ipv6-acl-number</em>.</p>
</div></div>
<p>By default, no whitelist is configured for port attack defense.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Note the following when configuring an ACL-based whitelist for port attack defense:</p>
<ul><li>Before referencing an ACL in a whitelist, create the ACL and configure rules.</li><li>The ACL referenced can be a basic ACL, advanced ACL, Layer 2 ACL, basic ACL6, or advanced ACL6.</li><li>All packets matching an ACL referenced by a whitelist are considered legitimate and are not processed based on port attack defense, regardless of whether the ACL rule is permit or deny.</li><li>If an ACL has no rule, the whitelist that references the ACL does not take effect.</li><li>If an ACL rule is defined by a protocol, ensure that the port attack defense function supports this protocol.</li><li>Insufficient ACL resources may lead to an ineffective whitelist.</li></ul>
</div></div>
</p></li><li><span>(Optional) Enable the function of reporting port attack defense events.</span><p><pre class="screen"><a href="cmdqueryname=undo+auto-port-defend+alarm+disable"><b><span class="cmdname">undo auto-port-defend alarm disable</span></b></a></pre>
<p>By default, the function of reporting port attack defense events is enabled.</p>
</p></li><li><span>Return to the system view.</span><p><pre class="screen" id="EN-US_TASK_0000001512837010__en-us_task_0000001563756889_screen1060848102417"><a href="cmdqueryname=quit"><b><span class="cmdname" id="EN-US_TASK_0000001512837010__en-us_task_0000001563756889_cmdname16697145422412">quit</span></b></a></pre>
</p></li><li><span>Apply the attack defense policy.</span><p><ul id="EN-US_TASK_0000001512837010__en-us_task_0000001563756889_ul187417318538"><li id="EN-US_TASK_0000001512837010__en-us_task_0000001563756889_li6741173125310">Configure attack defense policies in batches.<pre class="screen" id="EN-US_TASK_0000001512837010__en-us_task_0000001563756889_screen1214533413538"><a href="cmdqueryname=cpu-defend-policy"><b><span class="cmdname" id="EN-US_TASK_0000001512837010__en-us_task_0000001563756889_cmdname221512514546">cpu-defend-policy</span></b></a> <em id="EN-US_TASK_0000001512837010__en-us_task_0000001563756889_i1821585165416">policy-name</em> <strong id="EN-US_TASK_0000001512837010__en-us_task_0000001563756889_b17956929185412">batch</strong><strong id="EN-US_TASK_0000001512837010__en-us_task_0000001563756889_b7956629185418"> slot</strong> { <em id="EN-US_TASK_0000001512837010__en-us_task_0000001563756889_i1795682955418">start-slot</em> [ <strong id="EN-US_TASK_0000001512837010__en-us_task_0000001563756889_b1595602965419">to</strong><em id="EN-US_TASK_0000001512837010__en-us_task_0000001563756889_i0956729135411"> end-slot</em> ] } &amp;&lt;1-12&gt;</pre>
</li><li id="EN-US_TASK_0000001512837010__en-us_task_0000001563756889_li20136134065316">Configure an attack defense policy separately.<pre class="screen" id="EN-US_TASK_0000001512837010__en-us_task_0000001563756889_screen07011461574"><a href="cmdqueryname=cpu-defend-policy"><b><span class="cmdname" id="EN-US_TASK_0000001512837010__en-us_task_0000001563756889_cmdname15559175725716">cpu-defend-policy</span></b></a> <em id="EN-US_TASK_0000001512837010__en-us_task_0000001563756889_i555915713574">policy-name</em> [ <strong id="EN-US_TASK_0000001512837010__en-us_task_0000001563756889_b4233161617221">slot</strong><em id="EN-US_TASK_0000001512837010__en-us_task_0000001563756889_i13233516152214"> slot-id</em> ]</pre>
</li></ul>
<p id="EN-US_TASK_0000001512837010__en-us_task_0000001563756889_p8122345193912">After an attack defense policy is created, you must apply the policy in the system view. Otherwise, the policy does not take effect.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001512837010__en-us_task_0228023023_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001512837010__en-us_task_0228023023_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001512837010__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Example</h4><p>Enable port attack defense in the attack defense policy named <strong>test</strong>. Use the default rate threshold, set the sampling ratio to 7 and aging time to 200s, and add <span>100GE</span> <span>1/0/1</span> to a whitelist so that port attack defense will not be applied to this interface.</p>
<pre class="screen">&lt;HUAWEI&gt; <strong>system-view</strong>
[<font style="font-size:8pt" Face="Courier New" >~</font>HUAWEI] <a href="cmdqueryname=cpu-defend+policy"><b><span class="cmdname">cpu-defend policy</span></b></a> <strong>test</strong>
[*HUAWEI-cpu-defend-policy-test] <strong>auto-port-defend enable</strong>
[*HUAWEI-cpu-defend-policy-test] <a href="cmdqueryname=auto-port-defend+sample"><b><span class="cmdname">auto-port-defend sample</span></b></a><strong> 7</strong>
[*HUAWEI-cpu-defend-policy-test] <a href="cmdqueryname=auto-port-defend+aging-time"><b><span class="cmdname">auto-port-defend aging-time</span></b></a> <strong>200</strong>
[*HUAWEI-cpu-defend-policy-test] <strong>auto-port-defend whitelist 1 interface <span>100ge</span> <span>1/0/1</span></strong>
[*HUAWEI-cpu-defend-policy-test] <strong>quit</strong>
[*HUAWEI] <a href="cmdqueryname=cpu-defend-policy"><b><span class="cmdname">cpu-defend-policy</span></b></a> <strong>test</strong>
[*HUAWEI] <strong>commit</strong></pre>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_localattackdefense_cfg_0014.html">Configuring Port Attack Defense
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_localattackdefense_cfg_0015.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="galaxy_localattackdefense_cfg_0017.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>