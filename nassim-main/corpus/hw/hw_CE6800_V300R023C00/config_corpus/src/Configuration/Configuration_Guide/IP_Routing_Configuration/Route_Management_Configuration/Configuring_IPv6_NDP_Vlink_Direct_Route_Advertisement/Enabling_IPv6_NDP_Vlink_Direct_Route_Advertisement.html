
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Enabling IPv6 NDP Vlink Direct Route Advertisement">
<meta name="abstract" content="">
<meta name="description" content="">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_ip_routing_management_cfg_0021.html">
<meta name="DC.Relation" scheme="URI" content="vrp_ip_routing_management_cfg_0022.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Route Management">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Route Management">
<meta name="featuretype" content="IP Routing">
<meta name="featurename" content="Route Management">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176742227">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Enabling IPv6 NDP Vlink Direct Route Advertisement</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176742227"></a><a name="EN-US_TASK_0000001176742227"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Enabling IPv6 NDP Vlink Direct Route Advertisement</h1>
<div class="taskbody"><p></p>
<div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001176742227__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>Before configuring IPv6 NDP Vlink direct route advertisement, you have completed the following task:</p>
<ul><li><p>Set data link layer protocol parameters and IPv6 addresses for interfaces to ensure that the data link layer protocol status on each interface is up.</p>
</li></ul>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001176742227__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Configure IPv6 NDP Vlink direct route advertisement.</span><p><pre class="screen"><a href="cmdqueryname=ipv6+nd+direct-route+enable"><b><span class="cmdname">ipv6 nd direct-route enable</span></b></a></pre>
<p>After the device is enabled to advertise IPv6 NDP Vlink direct routes, IPv6 NDP Vlink direct routes can be advertised only after they are imported to the routing table of a dynamic routing protocol. Perform one of the following operations based on the routing protocol running on the device:</p>
<p>By default, IPv6 NDP Vlink direct routes are not advertised.</p>
<ul><li>Enable RIPng to import and advertise IPv6 NDP Vlink direct routes.<pre class="screen"><a href="cmdqueryname=import-route"><b><span class="cmdname">import-route</span></b></a> <strong><span>direct</span></strong> [ <span><strong><span>cost</span></strong> <i><span class="varname">cost</span></i> | <strong><span>inherit-cost</span></strong></span> | <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> ]<sup>*</sup></pre>
</li><li>Enable OSPFv3 to import and advertise IPv6 NDP Vlink direct routes.<pre class="screen"><a href="cmdqueryname=import-route"><b><span class="cmdname">import-route</span></b></a> <strong><span>direct</span></strong> [ <span><strong><span>cost</span></strong> <i><span class="varname">cost</span></i> | <strong><span>inherit-cost</span></strong></span> | <strong><span>type</span></strong> <i><span class="varname">type</span></i> | <strong><span>tag</span></strong> <i><span class="varname">tag</span></i> | <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> ] <sup>*</sup></pre>
</li><li>Enable IS-IS to import and advertise IPv6 NDP Vlink direct routes.<pre class="screen"><a href="cmdqueryname=ipv6+import-route"><b><span class="cmdname">ipv6 import-route</span></b></a> <strong><span>direct</span></strong> [ <strong><span>cost</span></strong> <i><span class="varname">cost</span></i> | <strong><span>tag</span></strong> <i><span class="varname">tag</span></i> | <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> | <strong><span>level-1</span></strong> | <strong><span>level-2</span></strong> | <strong><span>level-1-2</span></strong> ] <sup>*</sup></pre>
</li><li>Enable BGP4+ to import and advertise IPv6 NDP Vlink direct routes.<pre class="screen"><a href="cmdqueryname=import-route"><b><span class="cmdname">import-route</span></b></a> <strong><span>direct</span></strong> [ <strong><span>med</span></strong> <i><span class="varname">med</span></i> | <strong><span>route-policy</span></strong> <i><span class="varname">route-policy-name</span></i> ] <sup>*</sup></pre>
</li></ul>
</p></li><li><span>Enter the interface view.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <span>{ <i><span class="varname">interface-name</span></i> | <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> }</span></pre>
</p></li><li><span>Switch the working mode of the interface from Layer 2 to Layer 3.</span><p><pre class="screen"><a href="cmdqueryname=undo+portswitch"><b><span class="cmdname">undo portswitch</span></b></a></pre>
<p>Determine whether to perform this step based on the current interface working mode.</p>
</p></li><li><span>Set a preference value for IPv6 NDP Vlink direct routes.</span><p><pre class="screen"><a href="cmdqueryname=ipv6+nd+direct-route+preference"><b><span class="cmdname">ipv6 nd direct-route preference </span></b></a><i><span class="varname">preference-value</span></i></pre>
<p>By default, no preference value is set for IPv6 NDP Vlink direct routes.</p>
<p>IPv6 NDP Vlink direct routes can be advertised by different routing protocols. If there are multiple IPv6 NDP Vlink direct routes advertised by different routing protocols, you can run this command to change the route preference for route selection.</p>
</p></li><li><span>Disable the device from advertising IPv6 NDP Vlink host routes destined for link-local addresses.</span><p><pre class="screen"><a href="cmdqueryname=ipv6+nd+vlink-link-local+no-advertise"><b><span class="cmdname">ipv6 nd vlink-link-local no-advertise</span></b></a></pre>
</p><p><p>By default, IPv6 NDP Vlink host routes destined for link-local addresses are advertised.</p>
<p>You can run this command to control the size of the routing table and prevent the device from learning IPv6 NDP Vlink host routes corresponding to the link-local addresses of users.</p>
</p></li><li><span>Set the prefix and prefix length of summary IPv6 NDP Vlink direct routes.</span><p><pre class="screen"><a href="cmdqueryname=ipv6+nd+direct-route+prefix"><b><span class="cmdname">ipv6 nd direct-route prefix</span></b></a> <i><span class="varname">ipv6-address</span></i> [ <i><span class="varname">prefix-length</span></i> ]</pre>
<p>By default, the prefix length of summary IPv6 NDP Vlink direct routes is 128 bits.</p>
<p>To control the size of the routing table and maintain the stability of the routing table, you can configure the device to summarize routes with the same network prefix into a network segment route to reduce the consumption of system resources.</p>
</p></li><li><span>Set a delay in advertising IPv6 NDP Vlink direct routes.</span><p><pre class="screen"><a href="cmdqueryname=ipv6+nd+direct-route+delay"><b><span class="cmdname">ipv6 nd direct-route delay</span></b></a> <i><span class="varname">delay-time</span></i></pre>
</p><p><p>To prevent traffic loss caused when the creation of the IPv6 NDP Vlink direct route routing table is slower than traffic diversion, you can set a delay in advertising IPv6 NDP Vlink direct routes.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001176742227__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001176742227__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_ip_routing_management_cfg_0021.html">Configuring IPv6 NDP Vlink Direct Route Advertisement
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_ip_routing_management_cfg_0022.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>