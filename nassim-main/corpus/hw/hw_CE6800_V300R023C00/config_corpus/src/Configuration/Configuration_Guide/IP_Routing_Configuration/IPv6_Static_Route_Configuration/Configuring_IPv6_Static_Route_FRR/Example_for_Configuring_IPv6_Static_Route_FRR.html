
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Example for Configuring IPv6 Static Route FRR">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_ipv6-static-route_cfg_0010.html">
<meta name="DC.Relation" scheme="URI" content="vrp_ipv6-static-route_cfg_0013.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IPv6 Static Route">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv6 Static Route">
<meta name="featuretype" content="IP Routing">
<meta name="featuretype" content="IP Routing">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176663221">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Example for Configuring IPv6 Static Route FRR</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176663221"></a><a name="EN-US_TASK_0000001176663221"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Example for Configuring IPv6 Static Route FRR</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001176663221__1.3.1"></a><a name="1.3.1"></a>
<div class="p"><h4 class="sectiontitle">Networking Requirements</h4><p>On the network shown in <a href="#EN-US_TASK_0000001176663221__fig_dc_vrp_static-route_disjoin_cfg_004701">Figure 1</a>, two IPv6 static routes are configured on DeviceD. The next hop in one static route is set to DeviceA and that in the other static route is set to DeviceB. Link B backs up link A. If link A fails, traffic is rapidly switched to link B.</p>
<div class="fignone" id="EN-US_TASK_0000001176663221__fig_dc_vrp_static-route_disjoin_cfg_004701"><a name="EN-US_TASK_0000001176663221__fig_dc_vrp_static-route_disjoin_cfg_004701"></a><a name="fig_dc_vrp_static-route_disjoin_cfg_004701"></a><span class="figcap"><b>Figure 1 </b>Network diagram of IPv6 static route FRR</span><div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>In this example, interface 1, interface 2, and interface 3 represent <span>100GE</span> <span>1/0/1</span>, <span>100GE</span> <span>1/0/2</span>, and <span>100GE</span> <span>1/0/3</span>, respectively.</p>
</div></div>
<br><span><img class="vsd" src="figure/en-us_image_0000001130623696.png" width="NaN" height="NaN"></span></div>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001176663221__1.3.2"></a><a name="1.3.2"></a>
<div class="p"><h4 class="sectiontitle">Precautions</h4><p>During the configuration, note the following:</p>
<ul><li><p>Ensure that there are at least two IPv6 static routes to the same destination address when configuring IPv6 static route FRR.</p>
</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001176663221__1.3.3"></a><a name="1.3.3"></a>
<div class="p"><h4 class="sectiontitle">Configuration Roadmap</h4><p>The configuration roadmap is as follows:</p>
<ol><li><p>On DeviceD, configure an IPv6 static route with DeviceA as the next hop and another IPv6 static route with DeviceB as the next hop.</p>
</li><li><p>On DeviceD, set a smaller preference value for link A to ensure that link A becomes the active link.</p>
</li><li>On DeviceD, enable FRR for IPv6 static routes and check information about the backup outbound interface and backup next hop.</li><li><p>Configure dynamic BFD for IPv6 static route to speed up fault detection.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>To speed up fault detection, configure dynamic BFD for IPv6 static route or static BFD for IPv6 static route.</p>
</div></div>
</li></ol>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001176663221__1.3.4"></a><a name="1.3.4"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Configure IPv6 addresses for interfaces on each device.</span><p><p># Configure DeviceD.</p>
<pre class="screen"><span class="keyword">&lt;HUAWEI</span>&gt; <strong>system-view</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span><span class="keyword">HUAWEI</span>] <strong>sysname DeviceD</strong>
[<span class="keyword">*</span><span class="keyword">HUAWEI</span>]<strong> commit</strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceD] <strong>interface <span>100ge</span> <span>1/0/1</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceD-<span>100GE</span><span>1/0/1</span>] <strong>undo </strong><strong>portswitch</strong>
[<span class="keyword">*</span>DeviceD-<span>100GE</span><span>1/0/1</span>] <strong>ipv6 enable</strong>
[<span class="keyword">*</span>DeviceD-<span>100GE</span><span>1/0/1</span>] <strong>ipv6 address 2001:db8:2::1 64</strong>
[<span class="keyword">*</span>DeviceD-<span>100GE</span><span>1/0/1</span>] <strong>quit</strong>
[<span class="keyword">*</span>DeviceD] <strong>interface <span>100ge</span> <span>1/0/2</span></strong>
[<span class="keyword">*</span>DeviceD-<span>100GE</span><span>1/0/2</span>] <strong>undo </strong><strong>portswitch</strong>
[<span class="keyword">*</span>DeviceD-<span>100GE</span><span>1/0/2</span>] <strong>ipv6 enable</strong>
[<span class="keyword">*</span>DeviceD-<span>100GE</span><span>1/0/2</span>] <strong>ipv6 address </strong><strong>2001:db8:1::1 64</strong>
[<span class="keyword">*</span>DeviceD-<span>100GE</span><span>1/0/2</span>] <strong>quit</strong>
[<span class="keyword">*</span>DeviceD] <strong>interface <span>100ge</span> <span>1/0/3</span></strong>
[<span class="keyword">*</span>DeviceD-<span>100GE</span><span>1/0/3</span>] <strong>undo </strong><strong>portswitch</strong>
[<span class="keyword">*</span>DeviceD-<span>100GE</span><span>1/0/3</span>] <strong>ipv6 enable</strong>
[<span class="keyword">*</span>DeviceD-<span>100GE</span><span>1/0/3</span>] <strong>ipv6 address </strong><strong>2001:db8:5::1 64</strong>
[<span class="keyword">*</span>DeviceD-<span>100GE</span><span>1/0/3</span>] <strong>quit</strong>
[<span class="keyword">*</span>DeviceD] <strong>commit</strong></pre>
<p>The configurations of DeviceA, DeviceB, and DeviceC are similar to the configuration of DeviceD. For detailed configurations, see Configuration Scripts.</p>
</p></li><li><span>Configure IPv6 static routes.</span><p><p># On DeviceA, configure IPv6 static routes.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceA] <strong>ipv6 route-static 2001:db8:5:: 64 <span>100ge</span> <span>1/0/1</span> 2001:db8:1::1</strong>
[<span class="keyword">*</span>DeviceA] <strong>ipv6 route-static 2001:db8:6:: 64 <span>100ge</span> <span>1/0/2</span> 2001:db8:3::2</strong>
[<span class="keyword">*</span>DeviceA] <strong>commit</strong></pre>
<p># On DeviceB, configure IPv6 static routes.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceB] <strong>ipv6 route-static 2001:db8:5:: 64 <span>100ge</span> <span>1/0/1</span> 2001:db8:2::1</strong>
[<span class="keyword">*</span>DeviceB] <strong>ipv6 route-static 2001:db8:6:: 64 <span>100ge</span> <span>1/0/2</span> 2001:db8:4::2</strong>
[<span class="keyword">*</span>DeviceB] <strong>commit</strong></pre>
<p># On DeviceC, configure IPv6 static routes.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceC] <strong>ipv6 route-static 2001:db8:5:: 64 <span>100ge</span> <span>1/0/1</span> 2001:db8:3::1</strong>
[<span class="keyword">*</span>DeviceC] <strong>ipv6 route-static 2001:db8:5:: 64 <span>100ge</span> <span>1/0/2</span> 2001:db8:4::1</strong>
[<span class="keyword">*</span>DeviceC] <strong>ipv6 route-static 2001:db8:1:: 64 <span>100ge</span> <span>1/0/1</span> 2001:db8:3::1</strong>
[<span class="keyword">*</span>DeviceC] <strong>ipv6 route-static 2001:db8:2:: 64 <span>100ge</span> <span>1/0/2</span> 2001:db8:4::1</strong>
[<span class="keyword">*</span>DeviceC] <strong>commit</strong></pre>
<p># On DeviceD, configure IPv6 static routes.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceD] <strong>ipv6 route-static 2001:db8:6:: 64 <span>100ge</span> <span>1/0/2</span> 2001:db8:1::2</strong>
[<span class="keyword">*</span>DeviceD] <strong>ipv6 route-static 2001:db8:6:: 64 <span>100ge</span> <span>1/0/1</span> 2001:db8:2::2</strong>
[<span class="keyword">*</span>DeviceD] <strong>ipv6 route-static 2001:db8:3:: 64 <span>100ge</span> <span>1/0/2</span> 2001:db8:1::2</strong>
[<span class="keyword">*</span>DeviceD] <strong>ipv6 route-static 2001:db8:4:: 64 <span>100ge</span> <span>1/0/1</span> 2001:db8:2::2</strong>
[<span class="keyword">*</span>DeviceD] <strong>commit</strong></pre>
<p># Check the IPv6 routing table of DeviceD. The following command output shows that load balancing is performed between the two IPv6 static routes.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceD] <strong>display ipv6 routing-table</strong>
Routing Table : _public_
         Destinations : 13        Routes : 13

Destination  : ::1                                     PrefixLength : 128
NextHop      : ::1                                     Preference   : 0
Cost         : 0                                       Protocol     : Direct
RelayNextHop : ::                                      TunnelID     : 0x0
Interface    : InLoopBack0                             Flags        : D

Destination  : ::FFFF:127.0.0.0                        PrefixLength : 104
NextHop      : ::FFFF:127.0.0.1                        Preference   : 0
Cost         : 0                                       Protocol     : Direct
RelayNextHop : ::                                      TunnelID     : 0x0
Interface    : InLoopBack0                             Flags        : D

Destination  : ::FFFF:127.0.0.1                        PrefixLength : 128
NextHop      : ::1                                     Preference   : 0
Cost         : 0                                       Protocol     : Direct
RelayNextHop : ::                                      TunnelID     : 0x0
Interface    : InLoopBack0                             Flags        : D

Destination  : 2001:db8:1::                            PrefixLength : 64
NextHop      : 2001:db8:1::1                           Preference   : 0
Cost         : 0                                       Protocol     : Direct
RelayNextHop : ::                                      TunnelID     : 0x0
Interface    : <span>100GE</span><span>1/0/2</span>                               Flags        : D

Destination  : 2001:db8:1::1                           PrefixLength : 128
NextHop      : ::1                                     Preference   : 0
Cost         : 0                                       Protocol     : Direct
RelayNextHop : ::                                      TunnelID     : 0x0
Interface    : <span>100GE</span><span>1/0/2</span>                               Flags        : D

Destination  : 2001:DB8:2::                            PrefixLength : 64
NextHop      : 2001:DB8:2::1                           Preference   : 0
Cost         : 0                                       Protocol     : Direct
RelayNextHop : ::                                      TunnelID     : 0x0
Interface    : <span>100GE</span><span>1/0/1</span>                               Flags        : D

Destination  : 2001:DB8:2::1                           PrefixLength : 128
NextHop      : ::1                                     Preference   : 0
Cost         : 0                                       Protocol     : Direct
RelayNextHop : ::                                      TunnelID     : 0x0
Interface    : <span>100GE</span><span>1/0/1</span>                               Flags        : D

Destination  : 2001:DB8:3::                            PrefixLength : 64
NextHop      : 2001:DB8:1::2                           Preference   : 60
Cost         : 0                                       Protocol     : Static
RelayNextHop : ::                                      TunnelID     : 0x0
Interface    : <span>100GE</span><span>1/0/2</span>                               Flags        : D

Destination  : 2001:DB8:4::                            PrefixLength : 64
NextHop      : 2001:DB8:2::2                           Preference   : 60
Cost         : 0                                       Protocol     : Static
RelayNextHop : ::                                      TunnelID     : 0x0
Interface    : <span>100GE</span><span>1/0/1</span>                               Flags        : D

Destination  : 2001:db8:5::                            PrefixLength : 64
NextHop      : 2001:db8:5::1                           Preference   : 0
Cost         : 0                                       Protocol     : Direct
RelayNextHop : ::                                      TunnelID     : 0x0
Interface    : <span>100GE</span><span>1/0/3</span>                               Flags        : D

Destination  : 2001:db8:5::1                           PrefixLength : 128
NextHop      : ::1                                     Preference   : 0
Cost         : 0                                       Protocol     : Direct
RelayNextHop : ::                                      TunnelID     : 0x0
Interface    : <span>100GE</span><span>1/0/3</span>                               Flags        : D

<strong>Destination  : 2001:db8:6::                     PrefixLength : 64</strong>
<strong>NextHop      : 2001:db8:2::2                    Preference   : 60 </strong>
<strong>Cost         : 0                                Protocol     : Static </strong>
<strong>RelayNextHop : ::                               TunnelID     : 0x0 </strong>
<strong>Interface    : <span>100GE</span><span>1/0/1</span>                        Flags        : D</strong>

<strong>Destination  : 2001:db8:6::                     PrefixLength : 64</strong>
<strong>NextHop      : 2001:db8:1::2                    Preference   : 60 </strong>
<strong>Cost         : 0                                Protocol     : Static </strong>
<strong>RelayNextHop : ::                               TunnelID     : 0x0 </strong>
<strong>Interface    : <span>100GE</span><span>1/0/2</span>                        Flags        : D</strong>

Destination  : FE80::                                  PrefixLength : 10
NextHop      : ::                                      Preference   : 0
Cost         : 0                                       Protocol     : Direct
RelayNextHop : ::                                      TunnelID     : 0x0
Interface    : NULL0                                   Flags        : D   </pre>
</p></li><li><span>Change the preference value of the IPv6 static routes.</span><p><p># Change the preference value of IPv6 static routes on DeviceD.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceD] <strong>ipv6 route-static 2001:db8:6:: 64 <span>100ge</span> <span>1/0/2</span> 2001:db8:1::2 preference 40</strong>
[<span class="keyword">*</span>DeviceD] <strong>commit</strong></pre>
<p># Check the IPv6 routing table of DeviceD. The following command output shows that the preferences of IPv6 static routes have been changed.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceD] <strong>display ipv6 routing-table</strong>
Routing Table : _public_
         Destinations : 13        Routes : 13

Destination  : ::1                                     PrefixLength : 128
NextHop      : ::1                                     Preference   : 0
Cost         : 0                                       Protocol     : Direct
RelayNextHop : ::                                      TunnelID     : 0x0
Interface    : InLoopBack0                             Flags        : D

Destination  : ::FFFF:127.0.0.0                        PrefixLength : 104
NextHop      : ::FFFF:127.0.0.1                        Preference   : 0
Cost         : 0                                       Protocol     : Direct
RelayNextHop : ::                                      TunnelID     : 0x0
Interface    : InLoopBack0                             Flags        : D

Destination  : ::FFFF:127.0.0.1                        PrefixLength : 128
NextHop      : ::1                                     Preference   : 0
Cost         : 0                                       Protocol     : Direct
RelayNextHop : ::                                      TunnelID     : 0x0
Interface    : InLoopBack0                             Flags        : D

Destination  : 2001:db8:1::                            PrefixLength : 64
NextHop      : 2001:db8:1::1                           Preference   : 0
Cost         : 0                                       Protocol     : Direct
RelayNextHop : ::                                      TunnelID     : 0x0
Interface    : <span>100GE</span><span>1/0/2</span>                               Flags        : D

Destination  : 2001:db8:1::1                           PrefixLength : 128
NextHop      : ::1                                     Preference   : 0
Cost         : 0                                       Protocol     : Direct
RelayNextHop : ::                                      TunnelID     : 0x0
Interface    : <span>100GE</span><span>1/0/2</span>                               Flags        : D

Destination  : 2001:DB8:2::                            PrefixLength : 64
NextHop      : 2001:DB8:2::1                           Preference   : 0
Cost         : 0                                       Protocol     : Direct
RelayNextHop : ::                                      TunnelID     : 0x0
Interface    : <span>100GE</span><span>1/0/1</span>                               Flags        : D

Destination  : 2001:DB8:2::1                           PrefixLength : 128
NextHop      : ::1                                     Preference   : 0
Cost         : 0                                       Protocol     : Direct
RelayNextHop : ::                                      TunnelID     : 0x0
Interface    : <span>100GE</span><span>1/0/1</span>                               Flags        : D

Destination  : 2001:DB8:3::                            PrefixLength : 64
NextHop      : 2001:DB8:1::2                           Preference   : 60
Cost         : 0                                       Protocol     : Static
RelayNextHop : ::                                      TunnelID     : 0x0
Interface    : <span>100GE</span><span>1/0/2</span>                               Flags        : D

Destination  : 2001:DB8:4::                            PrefixLength : 64
NextHop      : 2001:DB8:2::2                           Preference   : 60
Cost         : 0                                       Protocol     : Static
RelayNextHop : ::                                      TunnelID     : 0x0
Interface    : <span>100GE</span><span>1/0/1</span>                               Flags        : D

Destination  : 2001:db8:5::                            PrefixLength : 64
NextHop      : 2001:db8:5::1                           Preference   : 0
Cost         : 0                                       Protocol     : Direct
RelayNextHop : ::                                      TunnelID     : 0x0
Interface    : <span>100GE</span><span>1/0/3</span>                               Flags        : D

Destination  : 2001:db8:5::1                           PrefixLength : 128
NextHop      : ::1                                     Preference   : 0
Cost         : 0                                       Protocol     : Direct
RelayNextHop : ::                                      TunnelID     : 0x0
Interface    : <span>100GE</span><span>1/0/3</span>                               Flags        : D

<strong>Destination  : 2001:db8:6::                      PrefixLength : 64</strong>
<strong>NextHop      : 2001:db8:1::2                     Preference   : 40 </strong>
<strong>Cost         : 0                                 Protocol     : Static </strong>
<strong>RelayNextHop : ::                                TunnelID     : 0x0 </strong>
<strong>Interface    : <span>100GE</span><span>1/0/2</span>                         Flags        : D</strong>

Destination  : FE80::                                  PrefixLength : 10
NextHop      : ::                                      Preference   : 0
Cost         : 0                                       Protocol     : Direct
RelayNextHop : ::                                      TunnelID     : 0x0
Interface    : NULL0                                   Flags        : D</pre>
</p></li><li><span>Enable IPv6 static route FRR.</span><p><p># Enable IPv6 static route FRR on DeviceD.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceD]<strong> ipv6 route-static frr</strong>
[<span class="keyword">*</span>DeviceD] <strong>commit</strong></pre>
<p># Check the backup outbound interface and next-hop IP address on DeviceD.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceD] <strong>display ipv6 routing-table 2001:db8:6:: verbose</strong>
Routing Table : _public_
Summary Count : 1

Destination  : 2001:db8:6::                           PrefixLength : 64
<strong>NextHop      : 2001:db8:1::2</strong>                       Preference   : 40
Neighbour    : ::                                      ProcessID    : 0
Label        : NULL                                    Protocol     : Static
State        : Active Adv                              Cost         : 0
Entry ID     : 0                                       EntryFlags   : 0x00000000
Reference Cnt: 0                                       Tag          : 0
Priority     : medium                                  Age          : 28sec
IndirectID   : 0xFC000105
RelayNextHop : ::                                      TunnelID     : 0x0
<strong>Interface    : <span>100GE</span><span>1/0/2</span></strong>                            Flags        : D
<strong>BkNextHop    : 2001:db8:2::2</strong>                       <strong> BkInterface  : <span>100GE</span><span>1/0/1</span></strong>
BkLabel      : NULL                                    BkTunnelID   : 0x0
BkPETunnelID : 0x0                                     BkIndirectID : 0xFC0001</pre>
</p></li><li><span>Configure dynamic BFD for IPv6 static route.</span><p><p># On DeviceD, configure dynamic BFD for IPv6 static route.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceD] <strong>bfd</strong>
[<span class="keyword">*</span>DeviceD-bfd] <strong>quit</strong>
[<span class="keyword">*</span>DeviceD] <strong>ipv6 route-static bfd </strong><strong>2001:db8:3::2</strong><strong> local-address 2001:db8:1::1</strong>
[<span class="keyword">*</span>DeviceD] <strong>ipv6 route-static 2001:db8:6:: 64 </strong><strong>2001:db8:1::1</strong><strong> bfd enable</strong>
[<span class="keyword">*</span>DeviceD] <strong>commit</strong></pre>
<p># On DeviceC, configure dynamic BFD for IPv6 static route.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceC] <strong>bfd</strong>
[<span class="keyword">*</span>DeviceC-bfd] <strong>quit</strong>
[<span class="keyword">*</span>DeviceC] <strong>ipv6 route-static bfd 2001:db8:1::1 local-address 2001:db8:3::2</strong>
[<span class="keyword">*</span>DeviceC] <strong>ipv6 route-static 2001:db8:5:: 64 </strong><strong>2001:db8:1::2</strong><strong> bfd enable</strong>
[<span class="keyword">*</span>DeviceC] <strong>commit</strong></pre>
</p></li><li><span># Simulate a fault on link A so that traffic is rapidly switched to link B.</span><p><pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceD]<strong> interface <span>100ge</span> <span>1/0/2</span></strong>
[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceD-<span>100GE</span><span>1/0/2</span>]<strong> shutdown</strong>
[<span class="keyword">*</span>DeviceD-<span>100GE</span><span>1/0/2</span>]<strong> quit</strong>
[<span class="keyword">*</span>DeviceD] <strong>commit</strong></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001176663221__1.3.5"></a><a name="1.3.5"></a><h4 class="sectiontitle">Verifying the Configuration</h4><p># Check the routes to 2001:db8:6::/64 on DeviceD.</p>
<pre class="screen">[<span class="keyword"><font style="font-size:8pt" Face="Courier New" >~</font></span>DeviceD]<strong> display ipv6 routing-table 2001:db8:6:: verbose</strong>
Routing Table : _public_
Summary Count : 1

Destination  : 2001:db8:6::                            PrefixLength : 64
<strong>NextHop    : 2001:db8:2::2</strong>                          Preference   : 60
Neighbour    : ::                                      ProcessID    : 0
Label        : NULL                                    Protocol     : Static
State        : Active Adv                              Cost         : 0
Entry ID     : 0                                       EntryFlags   : 0x00000000
Reference Cnt: 0                                       Tag          : 0
Priority     : medium                                  Age          : 43sec
IndirectID   : 0xFC000106
RelayNextHop : ::                                      TunnelID     : 0x0
<strong>Interface    : <span>100GE</span><span>1/0/1</span></strong>                    Flags        : D</pre>
<p>The command output shows that the outbound interface of 2001:db8:6::/64 has been changed to 2001:db8:2::2.</p>
</div>
<div class="postreq"><a name="EN-US_TASK_0000001176663221__1.3.6"></a><a name="1.3.6"></a><h4 class="sectiontitle">Configuration Scripts</h4><ul><li><p>DeviceD</p>
<pre class="screen">#
sysname DeviceD
#
bfd
#
interface <span>100GE</span><span>1/0/1</span>
 undo portswitch
 ipv6 enable
 ipv6 address 2001:db8:2::1/64
#
interface <span>100GE</span><span>1/0/2</span>
 undo portswitch
 ipv6 enable
 ipv6 address 2001:db8:1::1/64
#
interface <span>100GE</span><span>1/0/3</span>
 undo portswitch
 ipv6 enable
 ipv6 address 2001:db8:5::1/64
#
ipv6 route-static frr
ipv6 route-static 2001:db8:6:: 64 <span>100GE</span><span>1/0/2</span> 2001:db8:1::2 preference 40 track bfd-session aa
ipv6 route-static 2001:db8:6:: 64 <span>100GE</span><span>1/0/1</span> 2001:db8:2::2
ipv6 route-static 2001:db8:3:: 64 <span>100GE</span><span>1/0/2</span> 2001:db8:1::2
ipv6 route-static 2001:db8:4:: 64 <span>100GE</span><span>1/0/1</span> 2001:db8:2::2
#
ipv6 route-static bfd 2001:db8:3::2 local-address 2001:db8:1::1
ipv6 route-static 2001:db8:6:: 64 2001:db8:1::1 bfd enable
#
return</pre>
</li><li><p>DeviceA</p>
<pre class="screen">#
sysname DeviceA
#
interface <span>100GE</span><span>1/0/1</span>
 undo portswitch
 ipv6 enable
 ipv6 address 2001:db8:1::2/64
#
interface <span>100GE</span><span>1/0/2</span>
 undo portswitch
 ipv6 enable
 ipv6 address 2001:db8:3::1/64
#
ipv6 route-static 2001:db8:5:: 64 <span>100GE</span><span>1/0/1</span> 2001:db8:1::1
ipv6 route-static 2001:db8:6:: 64 <span>100GE</span><span>1/0/2</span> 2001:db8:3::2
#
return</pre>
</li><li><p>DeviceB</p>
<pre class="screen">#
sysname DeviceB
#
interface <span>100GE</span><span>1/0/1</span>
 undo portswitch
 ipv6 enable
 ipv6 address 2001:db8:2::2/64
#
interface <span>100GE</span><span>1/0/2</span>
 undo portswitch
 ipv6 enable
 ipv6 address 2001:db8:4::1/64
#
ipv6 route-static 2001:db8:5:: 64 <span>100GE</span><span>1/0/1</span> 2001:db8:2::1
ipv6 route-static 2001:db8:6:: 64 <span>100GE</span><span>1/0/2</span> 2001:db8:4::2
#
return</pre>
</li><li><p>DeviceC</p>
<pre class="screen">#
sysname DeviceC
#
bfd
#
interface <span>100GE</span><span>1/0/1</span>
 undo portswitch
 ipv6 enable
 ipv6 address 2001:db8:3::2/64
#
interface <span>100GE</span><span>1/0/2</span>
 undo portswitch
 ipv6 enable
 ipv6 address 2001:db8:4::2/64
#
interface <span>100GE</span><span>1/0/3</span>
 undo portswitch
 ipv6 enable
 ipv6 address 2001:db8:6::1/64
#
ipv6 route-static 2001:db8:5:: 64 <span>100GE</span><span>1/0/1</span> 2001:db8:3::1
ipv6 route-static 2001:db8:5:: 64 <span>100GE</span><span>1/0/2</span> 2001:db8:4::1
ipv6 route-static 2001:db8:1:: 64 <span>100GE</span><span>1/0/1</span> 2001:db8:3::1
ipv6 route-static 2001:db8:2:: 64 <span>100GE</span><span>1/0/2</span> 2001:db8:4::1
#
ipv6 route-static bfd 2001:db8:1::1 local-address 2001:db8:3::2
ipv6 route-static 2001:db8:5:: 64 2001:db8:1::2 bfd enable
#
return</pre>
</li></ul>
</div></div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_ipv6-static-route_cfg_0010.html">Configuring IPv6 Static Route FRR
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_ipv6-static-route_cfg_0013.html"><span class="font-st">&lt; </span>Previous topic</a>
</div>
</div>
</body>
</html>