
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Control Parameters for PIM-SM DR Election">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_pim_cfg_0030.html">
<meta name="DC.Relation" scheme="URI" content="vrp_pim_cfg_0035.html">
<meta name="DC.Relation" scheme="URI" content="vrp_pim_cfg_0079.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="featurename" content="PIM">
<meta name="featuretype" content="IP Multicast">
<meta name="featuretype" content="IP Multicast">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176663379">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring Control Parameters for PIM-SM DR Election</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176663379"></a><a name="EN-US_TASK_0000001176663379"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Control Parameters for PIM-SM DR Election</h1>
<div class="taskbody"><div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001176663379__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>Before configuring control parameters for PIM-SM DR election, complete one of the following tasks:</p>
<ul><li><a href="vrp_pim_cfg_0010.html">Configuring PIM-SM in the ASM Model</a></li><li><a href="vrp_pim_cfg_0017.html">Configuring PIM-SM in the SSM Model</a></li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001176663379__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>The multicast source DR is responsible for sending Register messages to the RP, and the receiver DR is responsible for sending Join messages to the RP. Devices elect a DR by exchanging Hello messages. The device with the highest priority wins the election. If devices have the same priority, the one with the highest IP address wins the election.</p>
<ul><li><p>If all devices on the same network segment support Hello messages that carry DR priorities, the interface with the highest priority wins. If all interfaces have the same priority, the interface with the highest IP address wins.</p>
</li><li><p>As long as one device does not support Hello messages that carry DR priorities, the interface with the highest IP address is elected as the DR.</p>
</li></ul>
<p>You can configure a DR priority in either of the following configuration modes:</p>
<ul><li><p>Global configuration: takes effect on all interfaces.</p>
</li><li><p>Interface-specific configuration: takes precedence over the global configuration. If no interface-specific configuration is performed for an interface, the interface uses the global configuration.</p>
</li></ul>
</div></div>
<div class="steps-unordered"><a name="EN-US_TASK_0000001176663379__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Configure global control parameters for PIM-SM DR election.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the PIM view.</span><p><pre class="screen"><a href="cmdqueryname=pim"><b><span class="cmdname">pim </span></b></a>[ <span><strong><span>vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> ]</span></pre>
</p></li><li class="substepexpand"><span>Set a DR priority for all interfaces on the device.</span><p><pre class="screen"><a href="cmdqueryname=hello-option+dr-priority"><b><span class="cmdname">hello-option dr-priority</span></b></a> <i><span class="varname">priority</span></i></pre>
</p><p><p>A larger priority value indicates a higher priority. <span>By default, the DR priority for all interfaces on the device to participate in DR election is 1.</span></p>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen"><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></pre>
</p></li></ol>
</li><li><span>Configure interface-specific control parameters for PIM-SM DR election.</span><ol><li class="substepexpand"><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li class="substepexpand"><span>Enter the interface view.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></pre>
</p></li><li class="substepexpand"><span>Switch the interface working mode from Layer 2 to Layer 3.</span><p><pre class="screen"><a href="cmdqueryname=undo+portswitch"><b><span class="cmdname">undo portswitch</span></b></a></pre>
<p> Determine whether to perform this step based on the current interface working mode.</p>
</p></li><li class="substepexpand"><span>Set a DR priority for the interface.</span><p><pre class="screen"><a href="cmdqueryname=pim+hello-option+dr-priority"><b><span class="cmdname">pim hello-option dr-priority</span></b></a> <i><span class="varname">priority</span></i></pre>
</p><p><p>A larger priority value indicates a higher priority. By default, an interface's priority for DR election is 1.</p>
</p></li><li class="substepexpand"><span>Enable DR switchover delay and set a delay time. When an interface changes from a DR to a non-DR, the original entries are valid until the delay timer expires. </span><p><pre class="screen"><a href="cmdqueryname=pim+timer+dr-switch-delay"><b><span class="cmdname">pim timer dr-switch-delay</span></b></a> <i><span class="varname">interval</span></i></pre>
</p></li><li class="substepexpand"><span>Commit the configuration.</span><p><pre class="screen"><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></pre>
</p></li></ol>
</li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_pim_cfg_0030.html">Adjusting PIM Parameters
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_pim_cfg_0035.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_pim_cfg_0079.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>