
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Binding an Interface to the IPv6 VPN Instance">
<meta name="abstract" content="">
<meta name="description" content="">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_L3VPNv6_cfg_1111.html">
<meta name="DC.Relation" scheme="URI" content="vrp_L3VPNv6_cfg_0006.html">
<meta name="DC.Relation" scheme="URI" content="vrp_L3VPNv6_cfg_0008.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IPv6 L3VPN">
<meta name="featuretype" content="VPN">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv6 L3VPN">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="IPv6 L3VPN">
<meta name="featuretype" content="VPN">
<meta name="featuretype" content="VPN">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176661209">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Binding an Interface to the IPv6 VPN Instance</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176661209"></a><a name="EN-US_TASK_0000001176661209"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Binding an Interface to the IPv6 VPN Instance</h1>
<div class="taskbody"><p></p>
<div class="prereq" style="margin-left:0"><a name="EN-US_TASK_0000001176661209__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Prerequisites</h4>
<div class="p"><p>A VPN instance has been created, and the IPv6 address family has been enabled for the VPN instance.</p>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001176661209__1.4.2"></a><a name="1.4.2"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>If the interface belonging to a VPN instance is not bound to the VPN instance, the interface functions as a public network interface and cannot forward VPN data.</p>
<p>An interface becomes a VPN interface after being bound to a VPN instance. You must configure an IP address for the interface, so that the PE can exchange routing information with its connected CE through this interface.</p>
<p>After an interface is bound to a VPN instance, Layer 3 configurations, such as IP address and routing protocol configurations, are deleted from the interface.</p>
<p>After you disable an address family in the VPN instance, the corresponding address configuration is deleted from the interface. If no address family configuration exists in the VPN instance, the interface is unbound from the VPN instance.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Loopback interfaces can be bound to VPN instances for connectivity testing between VPNs, under the prerequisite that VLANIF or physical interfaces have been bound to the VPN instances prior to loopback interfaces. In actual service scenarios, a specific VLANIF, physical, or tunnel interface must be bound to a VPN instance.</p>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001176661209__1.4.3"></a><a name="1.4.3"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enter the view of the interface to be bound to a VPN instance.</span><p><pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></pre>
</p></li><li><span>Switch the interface working mode from Layer 2 to Layer 3.</span><p><pre class="screen"><a href="cmdqueryname=undo+portswitch"><b><span class="cmdname">undo portswitch</span></b></a></pre>
<p> Determine whether to perform this step based on the current interface working mode.</p>
</p></li><li><span>Bind the interface to a VPN instance.</span><p><pre class="screen"><a href="cmdqueryname=ip+binding+vpn-instance"><b><span class="cmdname">ip binding vpn-instance</span></b></a> <i><span class="varname">vpn-instance-name</span></i></pre>
<p>By default, an interface functions as a public network interface that is not bound to any VPN instance.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>Running the <a href="cmdqueryname=ip+binding+vpn-instance"><b><span class="cmdname">ip binding vpn-instance</span></b></a> command on an interface deletes Layer 3 (including IPv4 and IPv6) configurations, such as IP address and routing protocol configurations, on the interface. If needed, reconfigure them after running the command.</p>
</div></div>
</p></li><li><span>Enable IPv6 on the interface.</span><p><pre class="screen"><a href="cmdqueryname=ipv6+enable"><b><span class="cmdname">ipv6 enable</span></b></a></pre>
</p></li><li><span>Configure an IPv6 address for the interface.</span><p><pre class="screen"><a href="cmdqueryname=ipv6+address"><b><span class="cmdname">ipv6 address</span></b></a> { <i><span class="varname">ipv6-address</span></i> <i><span class="varname">prefix-length</span></i> | <i><span class="varname">ipv6-address</span></i>/<i><span class="varname">prefix-length</span></i> }</pre>
<p>Some Layer 3 features, such as route exchange between the PE and CE, can be configured only after an IPv6 address is configured for the VPN interface on the PE.</p>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen"><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_L3VPNv6_cfg_1111.html">Configuring Mutual Access Between Local IPv6 L3VPNs
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_L3VPNv6_cfg_0006.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_L3VPNv6_cfg_0008.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>