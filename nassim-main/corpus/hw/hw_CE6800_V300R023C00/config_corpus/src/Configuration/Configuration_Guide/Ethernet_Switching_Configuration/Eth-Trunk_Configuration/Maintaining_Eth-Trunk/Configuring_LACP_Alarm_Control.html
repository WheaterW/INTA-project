
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring LACP Alarm Control">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_eth-trunk_cfg_0030.html">
<meta name="DC.Relation" scheme="URI" content="vrp_eth-trunk_cfg_0033.html">
<meta name="DC.Relation" scheme="URI" content="vrp_eth-trunk_cfg_0035.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featurename" content="Eth-Trunk">
<meta name="featuretype" content="Ethernet Switching">
<meta name="featuretype" content="Ethernet Switching">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001130621684">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring LACP Alarm Control</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001130621684"></a><a name="EN-US_TASK_0000001130621684"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring LACP Alarm Control</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001130621684__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><div class="p">A device reports an LACP alarm if its Eth-Trunk service in LACP mode fails. To prevent a device from frequently reporting LACP alarms, enable LACP alarm control on the device. After this function is enabled, the device reports hwLacpNegotiateFailed, hwLacpPartialLinkLoss, hwLacpTotalLinkLoss, or Eth-Trunk linkdown alarms only when LACP negotiation fails due to one of the following reasons:<ul><li>The device's physical link goes down.</li><li>LACP negotiation times out.</li><li>LACP determines that packets are looped back.</li><li>LACP determines that the system ID and port key in the LACPDU received by the local port from the peer end are inconsistent with those by the reference port from the peer end.</li></ul>
</div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001130621684__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enable LACP alarm control.</span><p><pre class="screen"><a href="cmdqueryname=lacp+alarm-control+link-failure"><b><span class="cmdname">lacp alarm-control link-failure</span></b></a></pre>
</p><p><p>After the <a href="cmdqueryname=lacp+alarm-control+link-failure"><b><span class="cmdname">lacp alarm-control link-failure</span></b></a> command is run on a device that has reported an hwLacpNegotiateFailed, hwLacpPartialLinkLoss, hwLacpTotalLinkLoss, or Eth-Trunk linkdown alarm, the device will report a clear alarm if the trigger conditions for the reported alarm are beyond the four reasons for failed LACP negotiation. Although a clear alarm is reported, the problem triggering the alarm persists.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p>After the <a href="cmdqueryname=lacp+alarm-control+link-failure"><b><span class="cmdname">lacp alarm-control link-failure</span></b></a> command is run, the hwLacpNegotiateFailed, hwLacpPartialLinkLoss, hwLacpTotalLinkLoss, and Eth-Trunk linkdown alarms are not reported unless caused by one of the preceding four reasons. Therefore, exercise caution when running this command.</p>
</div></div>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001130621684__en-us_task_0234857734_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001130621684__en-us_task_0234857734_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_eth-trunk_cfg_0030.html">Maintaining Eth-Trunk
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_eth-trunk_cfg_0033.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_eth-trunk_cfg_0035.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>