
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring a Local Administrator">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="galaxy_aaa_cfg_0016.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_aaa_cfg_0017.html">
<meta name="DC.Relation" scheme="URI" content="galaxy_aaa_cfg_0090.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="AAA">
<meta name="featurename" content="Local User">
<meta name="featuretype" content="User Access and Authentication">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="AAA">
<meta name="featurename" content="Local User">
<meta name="featuretype" content="User Access and Authentication">
<meta name="featurename" content="AAA">
<meta name="featurename" content="AD">
<meta name="featurename" content="HWTACACS">
<meta name="featurename" content="LDAP">
<meta name="featurename" content="RADIUS">
<meta name="featurename" content="Local User">
<meta name="featuretype" content="User Access and Authentication">
<meta name="featuretype" content="User Access and Authentication">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001563995905">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring a Local Administrator</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001563995905"></a><a name="EN-US_TASK_0000001563995905"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring a Local Administrator</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001563995905__1.3.1"></a><a name="1.3.1"></a><h4 class="sectiontitle">Context</h4>
<div class="p"><p>When an administrator uses local authentication and authorization, you need to configure a local administrator.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>When logging in to the device for the first time, the local administrator must change the password. To configure a local administrator with a specified user name not to change the password upon the first login, run the <strong>local-user</strong><em> user-name</em> <strong>password-force-change disable</strong> command.</li><li>After the permissions (such as the password, access type, FTP directory, and privilege level) of a local account are changed, the permissions of online users remain unchanged, and new users obtain new permissions when they go online.</li><li>If the user name configured after the <strong>local-user</strong> command is run conflicts with the command keyword, the command keyword takes effect first.</li><li>Telnet and FTP login modes pose security risks, and STelnet and SFTP login modes are recommended. If the STelnet or SFTP login mode is used, you need to set the user access type to SSH.</li><li>After the FIPS mode is enabled, protocols and algorithms with low security cannot be used. The following describes the impact on the configuration of local administrators:<ul><li>The <strong>telnet</strong> and <strong>ftp</strong> parameters in the <a href="cmdqueryname=local-user+service-type"><b><span class="cmdname">local-user service-type</span></b></a> command are unavailable.</li><li>The <strong>ftp-directory</strong> parameter in the <a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> command is unavailable.</li></ul>
</li><li>After the weak password dictionary maintenance function is enabled, the passwords defined in the weak password dictionary (which can be queried using the <a href="cmdqueryname=display+security+weak-password-dictionary"><b><span class="cmdname">display security weak-password-dictionary</span></b></a> command) cannot be specified in the following commands for configuring local administrators:<ul><li><a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>password</span></strong> <strong><span>irreversible-cipher</span></strong> <em>ir-password</em></li><li><a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>password</span></strong></li><li><strong>local-user change-password</strong></li></ul>
</li></ul>
</div></div>
</div></div>
<div class="steps"><a name="EN-US_TASK_0000001563995905__1.3.2"></a><a name="1.3.2"></a><h4 class="sectiontitle">Procedure</h4>
<ol><li><span>Enter the system view.</span><p><pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</p></li><li><span>Enter the AAA view.</span><p><pre class="screen"><a href="cmdqueryname=aaa"><b><span class="cmdname">aaa</span></b></a></pre>
</p></li><li><span>(Optional) Enable user name complexity check for local administrators.</span><p><pre class="screen"><a href="cmdqueryname=undo+local-aaa-user+user-name+complexity-check+disable"><b><span class="cmdname">undo local-aaa-user user-name complexity-check disable</span></b></a></pre>
<p>By default, user name complexity check is enabled for local administrators.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>To prevent accounts from being stolen due to simple passwords, run this command to set the minimum length for the user name of a local administrator to six characters.</li><li>To disable user name complexity check, run the <a href="cmdqueryname=local-aaa-user+user-name+complexity-check+disable"><b><span class="cmdname">local-aaa-user user-name complexity-check disable</span></b></a> command. After this function is disabled, you can configure a user name with less than six characters. A simple user name, however, has security risks.</li></ul>
</div></div>
</p></li><li><span>Create a local administrator and configure a password for the local administrator. Use either of the following methods:</span><p><ul><li>Configure the password directly.<pre class="screen"><a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>password</span></strong> <strong><span>irreversible-cipher</span></strong> <em>ir-password</em></pre>
</li><li>Enter the password in interactive mode.<pre class="screen"><a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>password</span></strong></pre>
</li></ul>
</p></li><li><span>Configure an access type for the local administrator.</span><p><pre class="screen"><a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>service-type</span></strong> { <strong>none</strong> | {<strong> http</strong> | <strong>ftp</strong> | <strong>ssh</strong> | <strong>telnet</strong> | <strong>terminal</strong> | <strong>snmp</strong> | <strong>md-cli </strong>}<sup>*</sup> }</pre>
</p></li><li><span>(Optional) Configure other information about the local administrator as required.</span><p>
<div class="tableBorder"><table cellpadding="4" cellspacing="0" summary="" frame="border" border="1" rules="all"><thead align="left"><tr><th align="left" class="cellrowborder" valign="middle" width="15.340000000000002%" id="mcps1.3.2.6.2.1.1.4.1.1" liSelected="liSelected"><p>Operation</p>
</th>
<th align="left" class="cellrowborder" valign="middle" width="40.53%" id="mcps1.3.2.6.2.1.1.4.1.2" liSelected="liSelected"><p>Command</p>
</th>
<th align="left" class="cellrowborder" valign="middle" width="44.13%" id="mcps1.3.2.6.2.1.1.4.1.3" liSelected="liSelected"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td class="cellrowborder" valign="middle" width="15.340000000000002%" headers="mcps1.3.2.6.2.1.1.4.1.1 "><p>Set a privilege level for the local administrator.</p>
</td>
<td class="cellrowborder" valign="middle" width="40.53%" headers="mcps1.3.2.6.2.1.1.4.1.2 "><p><a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>privilege</span></strong> <strong><span>level</span></strong> <i><span class="varname">level</span></i></p>
</td>
<td class="cellrowborder" valign="middle" width="44.13%" headers="mcps1.3.2.6.2.1.1.4.1.3 "><p>By default, no privilege level is configured for a local administrator.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="15.340000000000002%" headers="mcps1.3.2.6.2.1.1.4.1.1 "><p>Configure the FTP directory to which the specified FTP user is allowed access.</p>
</td>
<td class="cellrowborder" valign="top" width="40.53%" headers="mcps1.3.2.6.2.1.1.4.1.2 "><p><a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>ftp-directory</span></strong> <i><span class="varname">directory</span></i> [ <strong>read</strong><strong> execute</strong> [ <strong>write</strong> ] ]</p>
</td>
<td class="cellrowborder" valign="top" width="44.13%" headers="mcps1.3.2.6.2.1.1.4.1.3 "><p>By default, the FTP directory to which an FTP user is allowed access is not specified.</p>
<p>If the access type of a local user is set to FTP, the FTP directory must be configured for the local user and the privilege level of the local user cannot be lower than the management level. Otherwise, the FTP user will be unable to log in to the device.</p>
<p>If the <strong>read</strong><strong> execute</strong> and <strong>write</strong> parameters are not set, the user has the read, write, and execute permissions by default.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="15.340000000000002%" headers="mcps1.3.2.6.2.1.1.4.1.1 "><p>Set the state of the local administrator.</p>
</td>
<td class="cellrowborder" valign="top" width="40.53%" headers="mcps1.3.2.6.2.1.1.4.1.2 "><p><a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>state</span></strong> { <strong><span>active</span></strong> | <strong><span>block</span></strong> }</p>
</td>
<td class="cellrowborder" valign="top" width="44.13%" headers="mcps1.3.2.6.2.1.1.4.1.3 "><p>By default, a local administrator is in active state.</p>
<p>The following describes how the device handles authentication requests of users in active or block state:</p>
<ul><li><p>active state: The device accepts the authentication request of the user and performs further processing.</p>
</li><li><p>block state: The device rejects the authentication request of the user.</p>
</li></ul>
</td>
</tr>
<tr><td class="cellrowborder" valign="top" width="15.340000000000002%" headers="mcps1.3.2.6.2.1.1.4.1.1 "><p>Configure the validity period of the local administrator account.</p>
</td>
<td class="cellrowborder" valign="top" width="40.53%" headers="mcps1.3.2.6.2.1.1.4.1.2 "><p><a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>expire-date</span></strong> <i><span class="varname">expire-date</span></i></p>
</td>
<td class="cellrowborder" valign="top" width="44.13%" headers="mcps1.3.2.6.2.1.1.4.1.3 "><p>By default, a local administrator account is valid permanently.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="middle" width="15.340000000000002%" headers="mcps1.3.2.6.2.1.1.4.1.1 "><p>Configure an access time range for the local administrator.</p>
</td>
<td class="cellrowborder" valign="middle" width="40.53%" headers="mcps1.3.2.6.2.1.1.4.1.2 "><p><strong><a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a></strong> <i><span class="varname">user-name</span></i> <strong><span>time-range</span></strong> <i><span class="varname">time-name</span></i></p>
</td>
<td class="cellrowborder" valign="middle" width="44.13%" headers="mcps1.3.2.6.2.1.1.4.1.3 "><p>By default, no access time range is configured for local administrators. In this case, local administrators are allowed access to the network anytime.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="middle" width="15.340000000000002%" headers="mcps1.3.2.6.2.1.1.4.1.1 "><p>Set the idle timeout period for the local administrator.</p>
</td>
<td class="cellrowborder" valign="middle" width="40.53%" headers="mcps1.3.2.6.2.1.1.4.1.2 "><p><a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>idle-timeout</span></strong> <i><span class="varname">minutes</span></i> [ <i><span class="varname">seconds</span></i> ]</p>
</td>
<td class="cellrowborder" valign="middle" width="44.13%" headers="mcps1.3.2.6.2.1.1.4.1.3 "><p>You can set the timeout period of a user interface. If local administrators have been idle for longer than the specified period, they automatically go offline.</p>
<p>If <em>minutes</em> [ <em>seconds</em> ] is set to 0, the idle disconnection function is disabled.</p>
<p>If the idle timeout period of a user connection is set to 0 or a large value, the terminal will remain connected to a device. This poses security risks. In such cases, you are advised to run the <a href="cmdqueryname=lock"><b><span class="cmdname">lock</span></b></a> command to lock out the connection.</p>
</td>
</tr>
<tr><td class="cellrowborder" valign="middle" width="15.340000000000002%" headers="mcps1.3.2.6.2.1.1.4.1.1 "><p>Set the maximum number of connections that can be established by the specified local administrator.</p>
</td>
<td class="cellrowborder" valign="middle" width="40.53%" headers="mcps1.3.2.6.2.1.1.4.1.2 "><p><a href="cmdqueryname=local-user"><b><span class="cmdname">local-user</span></b></a> <i><span class="varname">user-name</span></i> <strong><span>access-limit</span></strong> <i><span class="varname">max-number</span></i></p>
</td>
<td class="cellrowborder" valign="middle" width="44.13%" headers="mcps1.3.2.6.2.1.1.4.1.3 "><p>By default, the number of connections that can be established by local administrators is not limited. It is determined by the device specifications.</p>
<p>To configure a local user to log in through only one terminal, set <i><span class="varname">max-number</span></i> to 1.</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li><span>(Optional) Configure a password policy for local administrators.</span><p><ol type="a"><li>Enable the password policy for local administrators and enter the local administrator password policy view.<pre class="screen"><a href="cmdqueryname=local-aaa-user+password+policy+administrator"><b><span class="cmdname">local-aaa-user password policy administrator</span></b></a></pre>
<p>By default, the password policy for local administrators is enabled.</p>
</li><li>Enable the password expiry notification function and set the number of days in advance users are notified that their passwords are about to expire.<pre class="screen"><a href="cmdqueryname=password+alert+before-expire"><b><span class="cmdname">password alert before-expire</span></b></a> <i><span class="varname">days</span></i></pre>
<p>By default, the device prompts users to change their passwords 30 days before their passwords expire.</p>
</li><li>Enable the function of prompting users to change the password (configured during the creation of the users).<pre class="screen"><strong><a href="cmdqueryname=password+alert+original"><b><span class="cmdname">password alert original</span></b></a></strong></pre>
<p>By default, the function of prompting users to change the password (configured during the creation of the users) is enabled.</p>
<p>By default, when a local administrator logs in for the first time, the system prompts the administrator to change the password. The administrator must change the password configured for the first time. To configure a local administrator with a specified user name not to change the password upon the first login, run the <strong>local-user</strong><em> user-name</em> <strong>password-force-change disable</strong> command.</p>
<p>After you run the <strong>undo password alert original</strong> command to disable the function of prompting users to change the password upon the first login, the <strong>undo local-user</strong><em> user-name</em> <strong>password-force-change disable</strong> command does not take effect. That is, administrators are not configured to change the password.</p>
</li><li>Enable the password expiry notification function and set the password validity period.<pre class="screen"><strong><a href="cmdqueryname=password+expire"><b><span class="cmdname">password expire</span></b></a></strong> <i><span class="varname">days</span></i></pre>
<p>By default, the password validity period is 90 days.</p>
</li><li>Enable the function of checking the similarity between the local administrator password and user name.<pre class="screen"><a href="cmdqueryname=undo+password+similar-to-name-check+disable"><b><span class="cmdname">undo password similar-to-name-check disable</span></b></a></pre>
<p>By default, the function of checking the similarity between the local administrator password and user name is enabled.</p>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li>To prevent security problems such as simple user names and account theft, run this command to set the password of a local administrator. The password cannot repeat or reverse the user name.</li><li>To disable the function of checking the similarity between the local administrator password and user name, run the <a href="cmdqueryname=password+similar-to-name-check+disable"><b><span class="cmdname">password similar-to-name-check disable</span></b></a> command. After this function is disabled, you can configure a password that is similar to the user name. Such a password, however, is too simple and has security risks.</li></ul>
</div></div>
</li><li>Enable password complexity check.<pre class="screen"><a href="cmdqueryname=password+complexity"><b><span class="cmdname">password complexity</span></b></a> { <strong>two-of-kinds</strong> | <strong>three-of-kinds</strong> | <strong>four-of-kinds</strong> }</pre>
<p>By default, the device checks whether a password contains at least four types of characters.</p>
<p>If the password complexity is low, the device has security risks. You are advised to set the password according to highest password complexity. That is, the password contains four types of the following characters: uppercase letters, lowercase letters, digits, and special characters. In addition, you need to change the password periodically.</p>
</li><li>Set the maximum number of historical passwords recorded for each user.<pre class="screen"><a href="cmdqueryname=password+history+record+number"><b><span class="cmdname">password history record number</span></b></a> <i><span class="varname">number</span></i></pre>
<p>By default, a maximum of 10 historical passwords are recorded for each user. That is, the new password cannot be the same as the last 10 passwords.</p>
<ul><li>When a user changes the password, the device compares the new password against the historical passwords stored on the device. If the new password is the same as a stored password, the device displays an error message to prompt the user that password change fails.</li><li>When the number of recorded historical passwords reaches the maximum value, the later password will overwrite the earliest password on the device.</li><li>After the historical password recording function is disabled (that is, the maximum number of historical passwords recorded for each user is 0), the device does not record historical passwords; however, the passwords that have been stored are retained.</li></ul>
</li><li>Set the minimum length of a local user password.<pre class="screen"><a href="cmdqueryname=password+min-length"><b><span class="cmdname">password min-length</span></b></a> <em>password-min-length</em></pre>
<p>By default, the minimum length of a local user password is 8.</p>
</li><li>Return to the AAA view.<pre class="screen"><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></pre>
</li></ol>
</p></li><li><span>Return to the system view.</span><p><pre class="screen"><a href="cmdqueryname=quit"><b><span class="cmdname">quit</span></b></a></pre>
</p></li><li><span>Commit the configuration.</span><p><pre class="screen" id="EN-US_TASK_0000001563995905__en-us_task_0228023023_screen163801330213"><a href="cmdqueryname=commit"><b><span class="cmdname" id="EN-US_TASK_0000001563995905__en-us_task_0228023023_en-us_concept_0141113565_cmdname1667501373175340">commit</span></b></a></pre>
</p></li></ol></div>
<div class="example"><a name="EN-US_TASK_0000001563995905__1.3.3"></a><a name="1.3.3"></a><h4 class="sectiontitle">Verifying the Configuration</h4><ul><li>Run the <strong><a href="cmdqueryname=display+local-user"><b><span class="cmdname">display local-user</span></b></a></strong> [ <strong><span>domain</span></strong> <i><span class="varname">domain-name</span></i> | <strong><span>username</span></strong> <i><span class="varname">user-name</span></i> | <strong><span>state</span></strong> { <strong><span>active</span></strong> | <strong><span>block</span></strong> } ] <sup>*</sup> command to check the attributes of local administrators.</li><li>Run the <strong><a href="cmdqueryname=display+local-aaa-user+password+policy"><b><span class="cmdname">display local-aaa-user password policy</span></b></a></strong> <strong><span>administrator</span></strong> command to check the password policy of local administrators.</li><li>Run the <strong><a href="cmdqueryname=display+local-user+expire-time"><b><span class="cmdname">display local-user expire-time</span></b></a></strong> command to check the expiry time of local administrators.</li></ul>
</div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="galaxy_aaa_cfg_0016.html">Configuring a Local User
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="galaxy_aaa_cfg_0017.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="galaxy_aaa_cfg_0090.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>