
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Association Between VRRP6 and BFD for IPv6 to Trigger Rapid Master/Backup VRRP Switchovers">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_vrrp6_cfg_0039.html">
<meta name="DC.Relation" scheme="URI" content="vrp_vrrp6_cfg_0040.html">
<meta name="DC.Relation" scheme="URI" content="vrp_vrrp6_cfg_0043.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="VRRP6">
<meta name="featuretype" content="High Availability">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="VRRP6">
<meta name="featuretype" content="High Availability">
<meta name="featurename" content="VRRP6">
<meta name="featuretype" content="High Availability">
<meta name="featuretype" content="High Availability">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176661761">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Configuring Association Between VRRP6 and BFD for IPv6 to Trigger Rapid Master/Backup VRRP Switchovers</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176661761"></a><a name="EN-US_TASK_0000001176661761"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Configuring Association Between VRRP6 and BFD for IPv6 to Trigger Rapid Master/Backup VRRP Switchovers</h1>
<div class="taskbody"><div class="context"><a name="EN-US_TASK_0000001176661761__1.3.1"></a><a name="1.3.1"></a>
<div class="p"><h4 class="sectiontitle">Prerequisites</h4><p>Before configuring association between VRRP6 and BFD for IPv6, you have completed the following tasks:</p>
<ul><li>Configure a VRRP6 group.</li><li>Ensure that VRRP6 devices support BFD for IPv6.</li></ul>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001176661761__1.3.2"></a><a name="1.3.2"></a>
<div class="p"><h4 class="sectiontitle">Procedure</h4><ol><li>Enter the system view.<pre class="screen"><a href="cmdqueryname=system-view"><b><span class="cmdname">system-view</span></b></a></pre>
</li><li>Enter the view of the interface where a VRRP6 group resides.<pre class="screen"><a href="cmdqueryname=interface"><b><span class="cmdname">interface</span></b></a> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i></pre>
</li><li>Switch the interface working mode to Layer 3.<pre class="screen"><a href="cmdqueryname=undo+portswitch"><b><span class="cmdname">undo portswitch</span></b></a></pre>
<p>Determine whether to perform this step based on the current interface working mode.</p>
</li><li>Perform any of the following operations as required:<ul><li><p>Associate the VRRP6 group with a common BFD for IPv6 session.</p>
<pre class="screen"><a href="cmdqueryname=vrrp6+vrid"><b><span class="cmdname">vrrp6 vrid</span></b></a> <i><span class="varname">virtual-router-id</span></i> <strong><span>track</span></strong> <strong><span>bfd</span></strong> { <i><span class="varname">bfd-session-id</span></i> | <strong><span>session-name</span></strong> <i><span class="varname">bfd-configure-name</span></i> } [ <strong><span>increase</span></strong> <i><span class="varname">value-increased</span></i> | <strong><span>reduce</span></strong> <i><span class="varname">value-reduced</span></i> ]</pre>
</li><li><p>Associate the VRRP6 group with a link or peer BFD for IPv6 session.</p>
<pre class="screen"><a href="cmdqueryname=vrrp6+vrid"><b><span class="cmdname">vrrp6 vrid</span></b></a> <i><span class="varname">virtual-router-id</span></i> <strong><span>track</span></strong> <strong><span>bfd</span></strong> { <i><span class="varname">bfd-session-id</span></i> | <strong><span>session-name</span></strong> <i><span class="varname">bfd-configure-name</span></i> } [ <strong><span>peer</span></strong> | <strong><span>link</span></strong> ]</pre>
</li></ul>
<p>When associating a VRRP6 group with a BFD for IPv6 session, note the following:</p>
<ul><li><p>If you specify <strong><span>session-name</span></strong> <i><span class="varname">bfd-configure-name</span></i> when associating a VRRP6 group with a BFD for IPv6 session, the VRRP6 group can be bound to a static BFD for IPv6 session with either manually specified or automatically negotiated discriminators.</p>
</li><li><p>If <i><span class="varname">bfd-session-id</span></i> is specified, the VRRP6 group can be associated only with a static BFD for IPv6 session with manually specified discriminators.</p>
</li></ul>
<div class="note"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><ul><li><p>If a VRRP6 group is bound to an mVRRP6 group, the VRRP6 group status is consistent with the mVRRP6 group status. As such, the VRRP6 group cannot track any BFD sessions for IPv6 to trigger fast master/backup VRRP switchovers.</p>
</li><li><p>After a VRRP6 group is associated with link and peer BFD sessions for IPv6, the backup device switches to the Master state if it detects the peer BFD for IPv6 session down event before detecting the link BFD for IPv6 session down event. In addition, the backup device switches to the Initialize state after it detects the peer BFD for IPv6 session down event. To resolve the problem, run the <a href="cmdqueryname=min-tx-interval"><b><span class="cmdname">min-tx-interval</span></b></a> command in the BFD session view to set the interval for sending link BFD for IPv6 Control packets to a value less than the interval for sending peer BFD for IPv6 Control packets.</p>
</li></ul>
</div></div>
</li><li>Commit the configuration.<pre class="screen"><a href="cmdqueryname=commit"><b><span class="cmdname">commit</span></b></a></pre>
</li></ol>
</div></div>
<div class="context"><a name="EN-US_TASK_0000001176661761__1.3.3"></a><a name="1.3.3"></a>
<div class="p"><h4 class="sectiontitle">Verifying the Configuration</h4><p>Run the <a href="cmdqueryname=display+vrrp6"><b><span class="cmdname">display vrrp6</span></b></a> { <strong><span>interface</span></strong> <i><span class="varname">interface-type</span></i> <i><span class="varname">interface-number</span></i> [ <i><span class="varname">virtual-router-id</span></i> ] | <i><span class="varname">virtual-router-id</span></i> } <strong><span>verbose</span></strong> command to check VRRP6 group information.</p>
</div></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_vrrp6_cfg_0039.html">Configuring Association Between VRRP6 and BFD
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_vrrp6_cfg_0040.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_vrrp6_cfg_0043.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>