
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Checking IPv4 L3VPN Connectivity and Reachability">
<meta name="abstract" content="">
<meta name="description" content="">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="vrp_L3VPNv4_cfg_0025.html">
<meta name="DC.Relation" scheme="URI" content="vrp_L3VPNv4_cfg_0027.html">
<meta name="DC.Relation" scheme="URI" content="vrp_L3VPNv4_cfg_0029.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="Product Documentation">
<meta name="DC.Publisher" content="20230413">
<meta name="featurename" content="IPv4 L3VPN">
<meta name="featuretype" content="VPN">
<meta name="DC.Audience.Job" content="Configuration">
<meta name="featurename" content="IPv4 L3VPN">
<meta name="featuretype" content="VPN">
<meta name="featurename" content="IPv4 L3VPN">
<meta name="featuretype" content="VPN">
<meta name="featuretype" content="VPN">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TASK_0000001176661205">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<link rel="stylesheet" type="text/css" href="public_sys-resources/mediaQuery.css">
<script language="javascript" type="text/javascript" src="public_sys-resources/browseVersion.js"></script>
<title>Checking IPv4 L3VPN Connectivity and Reachability</title>

<style type="text/css">
			<!--	pre.screen,pre.codeblock{
					word-wrap:break-word;
					word-break:break-all;
					white-space:pre-wrap !important;
				}-->
		</style>
</head>
<body><a name="EN-US_TASK_0000001176661205"></a><a name="EN-US_TASK_0000001176661205"></a>

<div class="articleBoxWithoutHead">
<h1 class="topicTitle-h1">Checking IPv4 L3VPN Connectivity and Reachability</h1>
<div class="taskbody"><p></p>
<div class="steps-unordered"><a name="EN-US_TASK_0000001176661205__1.4.1"></a><a name="1.4.1"></a><h4 class="sectiontitle">Procedure</h4>
<ul><li><span>Run the <a href="cmdqueryname=ping"><b><span class="cmdname">ping</span></b></a> command to check the connectivity of the IPv4 network from the source to the destination. <span>Perform either of the following operations according to the displayed detailed or brief information</span>.</span><p><ul><li>Run the following command to display detailed information:<pre class="screen" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_screen577914912411"><a href="cmdqueryname=ping"><b><span class="cmdname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdname66010561115">ping</span></b></a> [ <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname13607531117">ip</span></strong> ] { [ <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname7600571114">-c</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname17602561117">count</span></i> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname8609531119">-i</span></strong> { <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname15611453118">interface-name</span></i> | <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname7618551112">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname36115571114">interface-number</span></i> } | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname46111571117">-nexthop</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname661115171114">nexthop-address</span></i> | { <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname12615531115">-range</span></strong> [ <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname196119515115">min</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname16611511114">min-value</span></i> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname5618571111">max</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname36295101118">max-value</span></i> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname12621255115">step</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname176211518110">step-value</span></i> ] <sup id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_sup262151115">*</sup> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname06219510111">-s</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname156212501115">packetsize</span></i> } | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname66210591117">-t</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname18622510117">timeout</span></i> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname5631359117">-m</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname18636519116">time</span></i> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname16635571113">-a</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname1164557116">source-ip-address</span></i> [ <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname7527144113184">-ignore-vpn</span></strong> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname6384114618181">-response-vpn</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname719155311818">respVrfName</span></i> ] | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname136465131110">-h</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname12644516113">ttl-value</span></i> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname26415131112">-p</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname136435201119">pattern</span></i> | { <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname13645581117">-tos</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname8641853111">tos-value</span></i> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname46455171115">-dscp</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname8651158117">dscp-value</span></i> } | { <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname116513531113">-f</span></strong> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname1565175111117">ignore-mtu</span></strong> } | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname36517519119">-q</span></strong> |<span> <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname33383389314">-r</span></strong> |</span> <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname66545111117">-vpn-instance</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname16655511118">vpn-instance-name</span></i> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname36618511119">-v</span></strong> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname136613513117">-name</span></strong> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname26613517117">-system-time</span></strong> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname666451112">-ri</span></strong> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname1166759112">-8021p</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname36625201118">8021p-value</span></i> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname14667514112">-detail</span></strong> ] <sup id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_sup36619511110">*</sup> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname146665181111">host</span></i> [ <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname866856112">ip-forwarding</span></strong> ] }</pre>
</li><li>Run the following command to display brief information:<pre class="screen" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_screen748862317267"><a href="cmdqueryname=ping"><b><span class="cmdname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdname16671659113">ping</span></b></a> [ <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname96710516112">ip</span></strong> ] { [ <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname18679514114">-c</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname13671450112">count</span></i> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname8679517111">-i</span></strong> { <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname9671253116">interface-name</span></i> | <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname1167175101115">interface-type</span></i> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname26820591116">interface-number</span></i> } | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname13681857111">-nexthop</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname6682571111">nexthop-address</span></i> | { <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname768185101112">-range</span></strong> [ <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname1568255115">min</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname66810591112">min-value</span></i> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname16845121111">max</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname2068195151112">max-value</span></i> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname86845151115">step</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname268185201118">step-value</span></i> ] <sup id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_sup166913551119">*</sup> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname1169756115">-s</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname969175201115">packetsize</span></i> } | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname469553117">-t</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname1569185131119">timeout</span></i> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname10692514119">-m</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname169556113">time</span></i> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname14698551111">-a</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname7699571110">source-ip-address</span></i> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname146915515119">-h</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname1370105171116">ttl-value</span></i> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname1470654110">-p</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname137010591111">pattern</span></i> | { <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname3709571117">-tos</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname14707501111">tos-value</span></i> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname16705531116">-dscp</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname1370185111111">dscp-value</span></i> } | { <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname270165181112">-f</span></strong> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname770195151115">ignore-mtu</span></strong> } | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname4706510116">-vpn-instance</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname177111581115">vpn-instance-name</span></i> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname177195121114">-name</span></strong> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname1471051111">-8021p</span></strong> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname14713591114">8021p-value</span></i> | <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname0719517118">-brief</span></strong> ] <sup id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_sup19711759116">*</sup> <i><span class="varname" id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_varname17711517118">host</span></i> [ <strong><span id="EN-US_TASK_0000001176661205__en-us_task_0000001130784792_cmdparmname37116516114">ip-forwarding</span></strong> ] }</pre>
</li></ul>
</p></li><li><span>Run the <a href="cmdqueryname=tracert"><b><span class="cmdname">tracert</span></b></a> [ <strong><span>-a</span></strong> <i><span class="varname">source-ip-address</span></i> | <strong><span>-f</span></strong> <i><span class="varname">first-TTL</span></i> | <strong><span>-m</span></strong> <i><span class="varname">max-TTL</span></i> | <strong><span>-p</span></strong> <i><span class="varname">port</span></i> | <strong><span>-q</span></strong> <i><span class="varname">nqueries</span></i> | <strong><span>-vpn-instance</span></strong> <i><span class="varname">vpn-instance-name</span></i> | <strong><span>-w</span></strong> <i><span class="varname">timeout</span></i> ] * <i><span class="varname">host</span></i> command to check the gateways through which IPv4 packets pass from the source to the destination.</span></li></ul></div>
</div>

</div>
<div class="footerNavBar clearfix">

<div class="parentlink">
Parent Topic:
<a href="vrp_L3VPNv4_cfg_0025.html">Maintaining IPv4 L3VPN
</a>
</div>
<div class="copyrightBottomBar">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="copyrightBottomBar_responsive">
Copyright &copy; Huawei Technologies Co., Ltd.</div>
<div class="bottomNavBtn clearfix">
<a href="vrp_L3VPNv4_cfg_0027.html"><span class="font-st">&lt; </span>Previous topic</a>
<a href="vrp_L3VPNv4_cfg_0029.html">Next topic<span class="font-st"> &gt;</span></a>
</div>
</div>
</body>
</html>