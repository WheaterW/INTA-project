Routing Tables
==============

A routing device searches a routing table for routes, and each routing device maintains at least one routing table.

Routing tables store routes related to various routing protocols. Based on the generation method, the routes in a routing table consist of the following types:

* Direct route
* Static route
* Dynamic route

#### Routing Table Types

Each routing device maintains a global routing table, and each routing protocol maintains its own routing table.

* Protocol routing table: stores routing information related to a specific protocol.
  
  A routing protocol can import and advertise routes generated by other routing protocols. For example, if a device running OSPF needs to use OSPF to advertise direct routes, static routes, or IS-IS routes, the device needs to import these routes to the OSPF routing table.
* Global routing table: stores protocol routes and preferred routes. The routes in the global routing table are selected based on preferences of routing protocols and route costs. The global routing table of a routing device can be queried using the **display ip routing-table** command.

#### Routing Table Content

The **display ip routing-table** command displays brief information in the routing table of a routing device. For example:

```
<HUAWEI> display ip routing-table
Route Flags: R - relay, D - download to fib, T - to vpn-instance, B - black hole route
------------------------------------------------------------------------------
Routing Table: Public
         Destinations : 8        Routes : 8

  Destination/Mask  Proto  Pre  Cost   Flags NextHop      Interface

    0.0.0.0/0       Static 60   0      D     10.1.4.2      100GE1/0/1
    10.1.4.0/30     OSPF   10   0      D     10.1.4.1      100GE1/0/1
   10.1.4.1/32      Direct 0    0      D     127.0.0.1     InLoopBack0
   10.1.4.2/32      OSPF   10   0      D     10.1.4.2      100GE1/0/1
   127.0.0.0/8      Direct 0    0      D     127.0.0.1     InLoopBack0
   127.0.0.1/32     Direct 0    0      D     127.0.0.1     InLoopBack0
127.255.255.255/32  Direct 0    0      D     127.0.0.1     InLoopBack0
255.255.255.255/32  Direct 0    0      D     127.0.0.1     InLoopBack0
```

[Table 1](#EN-US_CONCEPT_0000001130782544__table10673193016536) describes key items in the routing table.

**Table 1** Key items in the routing table
| Item | Meaning | Function |
| --- | --- | --- |
| Destination | Destination IP address | Identifies the destination IP address or destination network segment of IP packets. |
| Mask | Network mask | Is used together with a destination IP address to identify the address of a network segment where a destination host or routing device resides.   * The address of the network segment where the destination host or routing device resides can be calculated after the destination IP address and network mask are ANDed. For example, if a destination address is 10.1.1.1 and a mask is 255.255.255.0, the address of the network segment where the destination host or routing device resides is 10.1.1.0. * The mask, which consists of consecutive 1s, can be expressed either in dotted decimal or classless inter-domain routing (CIDR) notation. For example, the network mask can be expressed as either 255.255.255.0 or 24. |
| Proto | Routing protocol | * Static * OSPF * IS-IS * Direct * BGP * RIP |
| Pre | Preference value of a route that is added to the IP routing table | There may be multiple routes to the same destination, which have different next hops and outbound interfaces. These routes can be discovered by different routing protocols or manually configured. A routing device selects the route with the highest preference (the smallest preference value) as the optimal route. For the route preference value of each routing protocol, see [Table 1](feature_0022911069.html#EN-US_CONCEPT_0000001130622758__tab_dc_vrp_ip-route_feature_000901). |
| Cost | Route cost | When multiple routes to the same destination have the same preference, the route with the smallest cost is selected as the optimal route.  NOTE:  Preference is used to compare the priorities of routes of different routing protocols, and Cost is used to compare the priorities of routes of the same routing protocol.  When selecting routes in the routing table, a device compares their preference values first. If their preference values are the same, the device compares their cost values. |
| Flags | Flag of a route | * R: stands for "relay", indicating a recursive route. * D: stands for "download to fib", indicating a route delivered to the FIB. * T: stands for "to vpn-instance", indicating a route with a VPN instance as a next hop. * B: stands for "black hole route". |
| NextHop | Next-hop IP address | Indicates the IP address of the next routing device's interface that the IP packet passes through. |
| Interface | Outbound interface name | Identifies a local interface through which an IP packet is forwarded. |

According to the destination, routes can be divided into the following types:

* Network segment route: is destined for a network segment.
* Host route: is destined for a host.

In addition, depending on whether the destination is directly connected to a local routing device, routes fall into the following types:

* Direct route: The routing device is directly connected to the destination network.
* Indirect route: The routing device is indirectly connected to the destination network.

As shown in [Figure 1](#EN-US_CONCEPT_0000001130782544__fig_dc_vrp_ip-route_feature_000601), DeviceA is connected to three network segments, and therefore, it has three destination IP addresses and three outbound interfaces. [Figure 1](#EN-US_CONCEPT_0000001130782544__fig_dc_vrp_ip-route_feature_000601) shows the routing table of DeviceA.

**Figure 1** Routing table  
![](figure/en-us_image_0000001130782574.png)