Configuring BFD for Perlink
===========================

Configuring BFD for Perlink

#### Prerequisites

Before configuring a BFD for Perlink session to detect Eth-Trunk member link faults on a VLAN, you have completed the following tasks:

* Configure an Eth-Trunk interface and ensure that the link layer protocol on the interface is up.
* Add the Eth-Trunk interface to a VLAN.
* Configure an IP address for the VLANIF interface.

#### Procedure

1. Enable BFD globally.
   1. Enter the system view.
      
      
      ```
      [system-view](cmdqueryname=system-view)
      ```
   2. Enable BFD globally and enter the global BFD view.
      
      
      ```
      [bfd](cmdqueryname=bfd)
      ```
      
      You can set BFD parameters only after running the [**bfd**](cmdqueryname=bfd) command to enable BFD globally.
2. Configure BFD for Perlink.
   1. Enter the system view.
      
      
      ```
      [system-view](cmdqueryname=system-view)
      ```
   2. Create a BFD for Perlink session.
      
      
      ```
      [bfd](cmdqueryname=bfd) sessname-value bind peer-ip ip-address [ vpn-instance vpn-name ] interface { interface-name | interface-type interface-number } source-ip ip-address per-link one-arm-echo
      [bfd](cmdqueryname=bfd) sessname-value bind peer-ipv6 ipv6-address [ vpn-instance vpn-name ] interface { interface-name | interface-type interface-number } source-ipv6 ipv6-address per-link one-arm-echo
      ```
      
      
      ![](public_sys-resources/note_3.0-en-us.png) 
      
      The CE6885-LL in low-latency mode does not support IPv6 functions.
      
      
      ![](public_sys-resources/note_3.0-en-us.png) 
      * The peer IP address of a BFD for Perlink session must be the IP address of the peer VLANIF interface.
      * The local and remote discriminators of a BFD for Perlink session are dynamically generated by software and do not need to be manually configured.
      * When using BFD for Perlink, disable unicast reverse path forwarding (URPF) on the device that sends BFD Echo packets. Otherwise, BFD Echo does not take effect.
   3. Commit the configuration.
      
      
      ```
      [commit](cmdqueryname=commit)
      ```

#### Verifying the Configuration

Run the [**display bfd perlink session**](cmdqueryname=display+bfd+perlink+session) [ **interface** *interface-type* *interface-number* ] command to check information about all BFD for Perlink sessions or a specific one.