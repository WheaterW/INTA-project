Information Output
==================

Information generated by a device can be output to the console, remote terminal, log buffer, log file, and SNMP agent. This section describes information channels, output directions, output files, and typical application scenarios of information output.

#### Relationships Between Default Channels and Output Directions

In order to facilitate information output in various directions, 10 information channels are defined for IM, each of which operates independently. Information channels are available only after information sources are specified. By default, the system defines information sources for the first six channels (console, monitor, log host, trap buffer, log buffer, and SNMP agent) and for channel 9 (log file). [Figure 1](#EN-US_CONCEPT_0000001563879369__fig_dc_vrp_logs_feature_211901) shows the information output channels.

You can configure output rules so that information is output through different channels and in different directions based on the information type and severity. For example, you can set the name of channel 6 to user1 and configure the device to send information to the log host through this channel (instead of the default channel 2).

By default, logs, traps, and debugging messages are output through the default information channel. [Table 1](#EN-US_CONCEPT_0000001563879369__tab_dc_vrp_logs_feature_211901) shows the default information output channels.

**Figure 1** Information output channels  
![](figure/en-us_image_0000001513159470.png)

**Table 1** Default information output channels
| Channel ID | Default Channel Name | Output Destination | Description |
| --- | --- | --- | --- |
| 0 | console | Console | Outputs logs, traps, and debugging messages to the local console. |
| 1 | monitor | Remote terminal | Outputs logs, traps, and debugging messages to a virtual type terminal (VTY) for remote maintenance. |
| 2 | loghost | Log host | Outputs logs and traps, but not debugging messages, to a log host. The information is saved to the log host as files for easy reference.  You can specify the log host to which log information is output by configuring the server IP address, UDP port number, information recording facility, and information severity. This information helps you monitor device operation and diagnose network faults. In addition, you can configure different source interfaces for devices that output log information. This configuration allows the log host to identify the device from which the information is output. |
| 3 | trapbuffer | Trap buffer | Outputs traps, but not logs or debugging messages, to the trap buffer. |
| 4 | logbuffer | Log buffer | Outputs logs, but not traps or debugging messages, to the log buffer. |
| 5 | snmpagent | SNMP agent | Outputs traps, but not logs or debugging messages, to an SNMP agent. |
| 6 | channel6 | Not specified | Reserved. You can specify a destination to which the information is output. |
| 7 | channel7 | Not specified | Reserved. You can specify a destination to which the information is output. |
| 8 | channel8 | Not specified | Reserved. You can specify a destination to which the information is output. |
| 9 | channel9 | Log file | Outputs logs and traps, but not debugging messages, to a storage device. The information is saved as log files. |

You can map channels with output destinations so that a type of information can be output to the specified destination through the mapping channel. You can change the names of the channels as well as the mappings between channels and output destinations as required.


#### Information Output File

Information can be saved as log files on a device. [Table 2](#EN-US_CONCEPT_0000001563879369__tab_dc_vrp_logs_cfg_202401) describes the log files.

**Table 2** Log files
| Log Type | Log File | Description |
| --- | --- | --- |
| User log | log.log | Stores logs that are generated during device running. |
| log\_SlotID\_time.log.zip | If the size of the current log file reaches the upper limit, the system automatically archives the file and names it in the format **log\_***SlotID***\_***time***.log.zip**.  In the file name, *SlotID* indicates a slot ID and *time* indicates when the file was archived and saved.  Log files that can be saved are limited by the maximum number of logs of a single type, log space, and log retention period. |
| Security log | security.log | Stores security logs, including account management logs, protocol logs, anti-attack logs, and status logs. |
| security\_SlotID\_time.log.zip | If the size of the current security log file reaches the upper limit, the system automatically archives the file and names it in the format **security\_***SlotID***\_***time***.log.zip**.  In the file name, *SlotID* indicates a slot ID and *time* indicates when the file was archived and saved.  Log files that can be saved are limited by the maximum number of logs of a single type, log space, and log retention period. |
| Security service log | service.log | Stores security service logs that are generated during device running. |
| service\_SlotID\_time.log.zip | If the size of the current security service log file reaches the upper limit, the system automatically archives the file and names it in the format **service\_***SlotID***\_***time***.log.zip**.  In the file name, *SlotID* indicates a slot ID and *time* indicates when the file was archived and saved.  Log files that can be saved are limited by the maximum number of logs of a single type, log space, and log retention period. |
| Diagnostic log | diag.log | Stores diagnostic logs, which record exceptions that occur during system startup and running. |
| diag\_SlotID\_time.log.zip | If the size of the current diagnostic log file reaches the upper limit, the system automatically archives the file and names it in the format **diag\_***SlotID***\_***time***.log.zip**.  In the file name, *SlotID* indicates a slot ID and *time* indicates when the file was archived and saved.  Log files that can be saved are limited by the log space. |
| O&M log | pads.pads | Stores O&M logs in .pads format, which are generated during service running after the device is started. |
| pads\_SlotID\_time.pads.zip | If the size of the current O&M log file reaches the upper limit, the system automatically archives the file and names it in the format **pads\_***SlotID***\_***time***.pads.zip**.  In the file name, *SlotID* indicates a slot ID and *time* indicates when the file was archived and saved.  Log files that can be saved are limited by the log space. |
| Lifecycle log | lifecycle.log | Stores lifecycle logs that are generated in scenarios such as hardware (such as board, power supply, and fan) replacement, software version upgrade, patch loading, running configuration replacement, and digital warranty change. |
| lifecycle\_time.log.zip | If the size of the current lifecycle log file reaches the upper limit, the system automatically archives the file and names it in the format **lifecycle\_***time***.log.zip**.  In the file name, *time* indicates when the file was archived and saved.  Log files that can be saved are limited by the log space. |



#### Application Scenarios of Information Output

This section describes the typical application scenarios of IM.

* Outputting logs to a log file
  
  As shown in [Figure 2](#EN-US_CONCEPT_0000001563879369__fig10274135182515), the IM module outputs logs to a log file, and maintenance personnel uploads the log file to the FTP server. By querying logs, maintenance personnel can learn about the running status of the device and locate faults.
  
  **Figure 2** Outputting logs to a log file  
  ![](figure/en-us_image_0000001512839910.png)
* Outputting logs to a log host
  
  As shown in [Figure 3](#EN-US_CONCEPT_0000001563879369__fig174161821122718), the IM module sends logs to different log hosts. The network administrator can query logs to learn about the device running status and to rapidly locate faults.
  
  To improve network transmission security and reliability, configure an SSL policy to encrypt logs to be transmitted when the information transmission mode is set to TCP.
  
  ![](public_sys-resources/note_3.0-en-us.png) 
  
  The source IP address of the log host can be an IPv4 or IPv6 address.
  
  
  **Figure 3** Outputting logs to a log host  
  ![](figure/en-us_image_0000001563999733.png)
* Outputting traps to the NMS
  
  As shown in [Figure 4](#EN-US_CONCEPT_0000001563879369__fig715971417280), the IM module sends traps to an NMS and the NMS, which monitors the operating status of the device based on the traps.
  
  **Figure 4** Outputting traps to the NMS  
  ![](figure/en-us_image_0000001563759817.png)
* Outputting debugging messages to the console
  
  As shown in [Figure 5](#EN-US_CONCEPT_0000001563879369__fig44531014163017), the IM module sends debugging messages to the console, and the maintenance personnel debugs the device based on the debugging messages.
  
  **Figure 5** Outputting debugging messages to the console  
  ![](figure/en-us_image_0000001563999725.png)