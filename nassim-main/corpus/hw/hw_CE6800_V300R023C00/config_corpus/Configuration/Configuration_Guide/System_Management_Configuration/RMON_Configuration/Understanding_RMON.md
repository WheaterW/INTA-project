Understanding RMON
==================

Understanding RMON

#### Background

The widely used SNMP collects network communication statistics using agent software embedded in managed devices. By sending query signals to the Agent Management Information Base (MIB) in polling mode, the management software is able to obtain network management data. Although the MIB counter records data statistics, it cannot analyze historical data. The NMS software continuously polls the managed devices for data, which is then used to build an overall picture of network traffic and traffic changes. This is then used to analyze the overall network status.

SNMP-based polling has two disadvantages:

* SNMP consumes a significant amount of network resources. Polling involves generating a large volume of packets on large-scale networks, leading to network congestion or blocking. Consequently, SNMP is not suitable for managing large-scale networks or reclaiming abundant data, such as the routing table.
* SNMP increases the burden on the network administrator. During polling, the network administrator must manually collect information using the NMS software. This is labor-intensive, especially if the administrator monitors more than three network segments.

To address these disadvantages, the IETF developed RMON for monitoring data traffic on a network segment or across an entire network. It provides more valuable management information, lightens the NMS workload, and allows the network administrator to monitor multiple network segments.

* RMON is an enhancement of SNMP, and built based on the SNMP architecture, making it compatible with the existing SNMP architecture. RMON consists of two parts: the NMS and the Agent located on each device. Because of the similarities between RMON and SNMP, an SNMP NMS can be used as an RMON NMS, and the administrator does not need to learn a new technology. This means that RMON is easy to implement.
* When an abnormality occurs on the monitored object, the RMON agent sends trap messages to the NMS using the SNMP mechanism for transmitting trap messages. Because SNMP typically uses the trap function to notify the managed device of function and interface statuses, the monitored objects, triggering conditions, and reported information differ between RMON and SNMP.
* RMON enables SNMP to monitor remote network devices more efficiently and proactively. Using RMON, managed devices automatically send trap messages when a specific monitored value exceeds the alarm threshold. Therefore, managing devices do not need to obtain MIB variables by continuous polling and comparison. This implementation reduces the volume of traffic sent between the managing and managed devices, and allows administrators to manage large-scale networks more easily and effectively.

#### Related Concepts

* NMS: A workstation that runs the network management software.
* MIB: A specification that defines and organizes a collection of managed objects.
* RMON Agent: A remote management process embedded in managed devices.
* Polling: The NMS queries managed devices by sending SNMP packets.
* RMON MIB: Network management medium of RMON. RMON Agent is embedded in monitored devices that collect data and control the system within a network segment, as defined by the MIB. The NMS obtains the management information from the RMON Agent and controls the network resources. The RMON MIB provides data link layer monitoring and diagnosis of device faults. To facilitate network monitoring, Huawei has implemented four of the nine groups defined in standard RMON MIB specifications: statistics group, history group, event group, and alarm group.

#### Functions

**Statistics function**

Ethernet statistics (corresponding to the statistics group in RMON MIB): The system continuously collects statistics about traffic on a network segment and the types of packets, or the number of various error frames and collisions. The statistics include network collisions, CRC error packets, the number of oversize or undersize packets, the number of broadcast or multicast packets, and the number of received bytes or packets.

Historical sampling function (corresponding to the history group in the RMON MIB): The system periodically samples network statuses and stores the information for later queries. The system also periodically samples port traffic data (specifically, bandwidth usage, the number of error packets, and the total number of packets).

**Alarm function**

The function to process an event as recording a log or sending trap messages (corresponding to the event group in the RMON MIB): The event group controls the events and notifications, and provides all the events generated by the RMON Agent. A log is generated or trap messages are sent to the NMS when an event occurs.

Alarm threshold (corresponding to the alarm group in the RMON MIB): The system monitors the objects of a specific alarm type. Once an alarm's upper and lower thresholds are defined, the system samples the values of monitored objects at a pre-defined interval (a sampled value can be either an absolute value or a difference in values). If the sampled values reach or exceed the upper threshold, a rising alarm is generated. Conversely, if the sampled values fall to or below the lower threshold, a falling alarm is generated. The NMS processes these alarms based on the definitions of the events. RMON Agent either records the information as a log or sends trap messages to the NMS.