{
    "PageTitle": "rule(Micro-segment segment-ID view)",
    "FuncDef": "The rule command configures a policy rule in the microsegmentation classifier view.\nThe undo rule command deletes a policy rule in the microsegmentation classifier view. The rule command configures a policy rule in the microsegmentation classifier view. The undo rule command deletes a policy rule in the microsegmentation classifier view. By default, no policy rule is configured in the microsegmentation classifier view. This command is supported only on the CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE8850-SAN, CE8851K, CE8851-32CQ8DQ-P and CE8850-HAM.",
    "CLIs": [
        "rule [ <priority> ] { permit | deny } { source-segment <id-value> | destination-segment <id-value> } [ [ protocol <protocol-number-1> ] | [ protocol { tcp | udp | <protocol-number-2> } [ source-port { eq <port-num> | gt <gt-port-num> | lt <lt-port-num> | range <begin-port-num> <end-port-num> } ] [ destination-port { eq <port-num> | gt <gt-port-num> | lt <lt-port-num> | range <begin-port-num> <end-port-num> } ] ] ]",
        "undo rule [ <priority> ] { permit | deny } { source-segment <id-value> | destination-segment <id-value> } [ [ protocol <protocol-number-1> ] | [ protocol { tcp | udp | <protocol-number-2> } [ source-port { eq <port-num> | gt <gt-port-num> | lt <lt-port-num> | range <begin-port-num> <end-port-num> } ] [ destination-port { eq <port-num> | gt <gt-port-num> | lt <lt-port-num> | range <begin-port-num> <end-port-num> } ] ] ]"
    ],
    "ParentView": [
        "Micro-segment segment-ID view"
    ],
    "ParaDef": [
        {
            "Parameters": "<priority>",
            "Info": "Rule priority.\nThe value is an integer ranging from 0 to 4095."
        },
        {
            "Parameters": "permit",
            "Info": "Allows packets to pass.\n-"
        },
        {
            "Parameters": "deny",
            "Info": "Discards the packets.\n-"
        },
        {
            "Parameters": "source-segment <id-value>",
            "Info": "Microsegmentation source group.\nThe value is an integer ranging from 1 to 65535."
        },
        {
            "Parameters": "destination-segment <id-value>",
            "Info": "Microsegmentation destination group.\nThe value is an integer ranging from 1 to 65535."
        },
        {
            "Parameters": "protocol <protocol-number-2>",
            "Info": "TCP or UDP protocol number.\nThe value is 6 or 17."
        },
        {
            "Parameters": "protocol <protocol-number-1>",
            "Info": "Protocol number.\nThe value is an integer ranging from 0 to 5, 7 to 16, or 18 to 255."
        },
        {
            "Parameters": "tcp",
            "Info": "TCP protocol.\n-"
        },
        {
            "Parameters": "udp",
            "Info": "UDP protocol.\n-"
        },
        {
            "Parameters": "source-port",
            "Info": "Source port.\n-"
        },
        {
            "Parameters": "eq <port-num>",
            "Info": "The value is the same as the specified port number.\nThe value is an integer ranging from 0 to 65535."
        },
        {
            "Parameters": "gt <gt-port-num>",
            "Info": "The value is greater than the specified port number.\nThe value is an integer ranging from 0 to 65534."
        },
        {
            "Parameters": "lt <lt-port-num>",
            "Info": "The value is smaller than the specified port number.\nThe value is an integer ranging from 1 to 65535."
        },
        {
            "Parameters": "range <begin-port-num> <end-port-num>",
            "Info": "Range of port numbers.\nThe value is an integer ranging from 0 to 65535."
        },
        {
            "Parameters": "destination-port",
            "Info": "Destination port.\n-"
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] traffic-segment enable",
            "[*HUAWEI] segment classifier class1",
            "[*HUAWEI-segmentclassifier-class1] rule permit source-segment 32768 destination-segment 49151"
        ]
    ],
    "ExtraInfo": "On a data center network, servers are grouped into EPGs based on certain rules. If you do not want to use the default microsegmentation policy for packets matching EPGs but specify GBPs for the packets, configure and apply GBPs as follows:"
}