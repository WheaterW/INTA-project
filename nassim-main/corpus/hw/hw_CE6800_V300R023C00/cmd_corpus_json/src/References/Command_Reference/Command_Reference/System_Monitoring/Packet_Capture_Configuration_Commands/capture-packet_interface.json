{
    "PageTitle": "capture-packet interface",
    "FuncDef": "The capture-packet interface command configures an instance for obtaining hardware-forwarded packets.\nThe undo capture-packet command deletes an instance for obtaining hardware-forwarded packets. The capture-packet interface command configures an instance for obtaining hardware-forwarded packets. The undo capture-packet command deletes an instance for obtaining hardware-forwarded packets. By default, no instance for obtaining hardware-forwarded packets is configured.",
    "CLIs": [
        "capture-packet { { interface { <interface-type> <interface-number> | <interface-name> } &<1-4> } | { acl { <acl-number> | name <acl-name> } } } [ vxlan [ vni <vni-id> ] | [ vlan <vlan-id> | inner-vlan <cvlan-id> ] ] [ clearpayload ] destination { file <filename> | terminal } [ time-out <time> | packet-num <number> | packet-len <length> ] [ inbound | outbound ]",
        "capture-packet { { interface { <interface-type> <interface-number> | <interface-name> } &<1-4> } | { aclipv6 { <acl-number2> | name <acl-name> } } } [ vxlan [ vni <vni-id> ] | [ vlan <vlan-id> | inner-vlan <cvlan-id> ] ] [ clearpayload ] destination { file <filename> | terminal } [ time-out <time> | packet-num <number> | packet-len <length> ] [ inbound | outbound ]",
        "undo capture-packet [ <capture-index> ]",
        "capture-packet { { interface { <interface-type> <interface-number> | <interface-name> } &<1-4> } | acl { <acl-number> | name <acl-name> } } [ vlan <vlan-id> ] [ clearpayload ] destination { file <filename> | terminal } [ time-out <time> | packet-num <number> | packet-len <length> ] inbound"
    ],
    "ParentView": [
        "User view"
    ],
    "ParaDef": [
        {
            "Parameters": "interface <interface-type> <interface-number>",
            "Info": "Obtains packets on a specified interface.\ninterface-type: indicates the interface type.interface-number: indicates the interface number.\n-"
        },
        {
            "Parameters": "<interface-name>",
            "Info": "Obtains\u00b7packets\u00b7on\u00b7a\u00b7specified\u00b7interface.\n-"
        },
        {
            "Parameters": "acl",
            "Info": "Configures an ACL.\n-"
        },
        {
            "Parameters": "ipv6",
            "Info": "Configures an IPv6 address.\n\n NOTE: This parameter is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.\n-"
        },
        {
            "Parameters": "<acl-number2>",
            "Info": "Obtains packets that match a specified ACL.\n\n NOTE: This parameter is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.\nThe value is an integer ranging from 2000 to 3999."
        },
        {
            "Parameters": "name <acl-name>",
            "Info": "Creates an ACL with a name.\nThe value is a string of 1 to 32 case-sensitive characters without spaces. The value must start with a letter or digit, and cannot contain only digits."
        },
        {
            "Parameters": "<acl-number>",
            "Info": "Obtains packets that match a specified ACL.\nThe value is an integer ranging from 2000 to 4999."
        },
        {
            "Parameters": "vlan <vlan-id>",
            "Info": "Obtains packets from a specified VLAN.\nFor the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ:The value is an integer ranging from 1 to 4094.\nFor the CE6885-LL (low latency mode):The value can be changed from 1 to 1023 using commands."
        },
        {
            "Parameters": "inner-vlan <cvlan-id>",
            "Info": "Obtains packets with a specified inner VLAN ID.\n\n NOTE: This parameter is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.\nThe value is an integer ranging from 1 to 4094."
        },
        {
            "Parameters": "clear",
            "Info": "Sets the data content in obtained packets to 0.\nThe data content of only the TCP and UDP packets can be set to 0.\n-"
        },
        {
            "Parameters": "payload",
            "Info": "Indicates the data content in obtained packets.\n-"
        },
        {
            "Parameters": "destination",
            "Info": "Indicates the destination to which obtained packet information is sent.\n-"
        },
        {
            "Parameters": "file <filename>",
            "Info": "Saves obtained packet information to a file. The file name extension must be .cap.\nThe value is a string of 5 to 64 case-sensitive characters. It cannot contain spaces and paths. It cannot contain the following special characters: ~ ? * \\ : / | < > [ ]."
        },
        {
            "Parameters": "terminal",
            "Info": "Displays information about the obtained packets on the terminal.\n-"
        },
        {
            "Parameters": "time-out <time>",
            "Info": "Specifies the timeout period for obtaining packets. The device stops the packet capture instance when the timeout period expires.\nThe value is an integer that ranges from 1 to 86400, in seconds. The default value is 60 seconds."
        },
        {
            "Parameters": "packet-num <number>",
            "Info": "Specifies the number of packets to be obtained. The device stops the packet capture instance when the specified number of packets are obtained.\nThe value is an integer in the range from 1 to 5000. The default value is 100."
        },
        {
            "Parameters": "packet-len <length>",
            "Info": "Specifies the length of obtained packets to be displayed on the terminal or stored on the storage medium.\nThe value is an integer ranging from 20 to 64, in bytes. The default value is 64 bytes. (After the packet capture feature package is installed, the value is in the range from 20 to 9500, and the default value is still 64 bytes.)"
        },
        {
            "Parameters": "inbound",
            "Info": "Obtains incoming packets.\n-"
        },
        {
            "Parameters": "outbound",
            "Info": "Obtains outgoing packets.\nIf inbound and outbound are not specified, the device obtains packets in both directions by default.\n\n NOTE: This parameter is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.\n-"
        },
        {
            "Parameters": "vxlan",
            "Info": "Obtains packets from a specified VXLAN.\n\n NOTE: This parameter is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.\n-"
        },
        {
            "Parameters": "vni <vni-id>",
            "Info": "Specifies the VNI ID of the VXLAN.\n\n NOTE: This parameter is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.\nThe value is an integer that ranges from 1 to 16777215."
        },
        {
            "Parameters": "<capture-index>",
            "Info": "Deletes the packet capture instance with a specified index.\nThe value is an integer ranging from 1 to 8."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> capture-packet interface 100GE 1/0/1 acl 2000 destination file capture.cap"
        ]
    ],
    "ExtraInfo": "If an exception occurs when the hardware forwards traffic, for example, the traffic status does not match the traffic model, you are advised to configure the device to obtain hardware-forwarded packets for analysis. In this way, you can process invalid packets in a timely manner to ensure correct transmission of network data.\nWhen configuring parameters for packet capture, set the parameter values based on the traffic volume on the target interface. If the interface forwards many packets, specify a small value for the time parameter and a large value for the number parameter. If the interface forwards a few packets, specify a large value for the time parameter and a small value for the number parameter."
}