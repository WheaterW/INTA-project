{
    "PageTitle": "igmp query ip-source-policy",
    "FuncDef": "The igmp query ip-source-policy command configures a policy for filtering IGMP Query messages based on source addresses.\nThe undo igmp query ip-source-policy command restores the default configuration. The igmp query ip-source-policy command configures a policy for filtering IGMP Query messages based on source addresses. The undo igmp query ip-source-policy command restores the default configuration. By default, no policy is configured for filtering IGMP Query messages based on source addresses.",
    "CLIs": [
        "igmp query ip-source-policy { <basic-acl-number> | acl-name <acl-name> }",
        "undo igmp query ip-source-policy"
    ],
    "ParentView": [
        "100ge sub-interface view,100GE interface view,10GE sub-interface view,10GE interface view,200GE sub-interface view,200GE interface view,25GE sub-interface view,25GE interface view,400GE sub-interface view,400GE interface view,50GE sub-interface view,50GE interface view,Eth-Trunk sub-interface view,Eth-Trunk interface view,Loopback interface view,VBDIF interface view,VLANIF interface view"
    ],
    "ParaDef": [
        {
            "Parameters": "<basic-acl-number>",
            "Info": "Specifies the number of a basic ACL, which defines the range of source addresses.\nThe value is an integer ranging from 2000 to 2999."
        },
        {
            "Parameters": "acl-name <acl-name>",
            "Info": "Specifies the name of a named basic ACL.\nThe value is a string of 1 to 32 case-sensitive characters, spaces not supported."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] multicast routing-enable",
            "[*HUAWEI] acl name myacl basic",
            "[*HUAWEI-acl4-basic-myacl] rule permit source 10.10.1.2 0",
            "[*HUAWEI-acl4-basic-myacl] rule deny source 10.10.1.1 0",
            "[*HUAWEI-acl4-basic-myacl] quit",
            "[*HUAWEI] vlan 1",
            "[*HUAWEI-vlan1] quit",
            "[*HUAWEI] interface Vlanif 1",
            "[*HUAWEI-Vlanif1] igmp query ip-source-policy acl-name myacl"
        ],
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] multicast routing-enable",
            "[*HUAWEI] acl number 2001",
            "[*HUAWEI-acl4-basic-2001] rule permit source 10.10.1.2 0",
            "[*HUAWEI-acl4-basic-2001] rule deny source 10.10.1.1 0",
            "[*HUAWEI-acl4-basic-2001] quit",
            "[*HUAWEI] vlan 1",
            "[*HUAWEI-vlan1] quit",
            "[*HUAWEI] interface Vlanif 1",
            "[*HUAWEI-Vlanif1] igmp query ip-source-policy 2001"
        ]
    ],
    "ExtraInfo": "On a multicast network, some attackers may forge IGMP Query messages with small IP addresses to cause the actual querier to become invalid. If such attacks occur, group members cannot promptly leave, wasting network resources. To prevent this problem, run the igmp query ip-source-policy command to configure an interface to filter IGMP Query messages based on packet source addresses. This function enables the interface to filter out IGMP Query messages whose source addresses do not match the permit action in a specified ACL rule, thus implementing querier election control."
}