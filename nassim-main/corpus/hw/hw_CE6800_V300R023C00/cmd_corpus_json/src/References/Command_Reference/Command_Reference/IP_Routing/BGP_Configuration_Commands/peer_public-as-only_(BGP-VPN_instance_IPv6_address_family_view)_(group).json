{
    "PageTitle": "peer public-as-only (BGP-VPN instance IPv6 address family view) (group)",
    "FuncDef": "The peer public-as-only command configures the AS-Path attribute in a BGP Update message not to carry the private AS number. Only the public AS number is contained in the update messages.\nThe undo peer public-as-only command allows the AS-Path attribute in a BGP Update message to carry the private AS number. The peer public-as-only command configures the AS-Path attribute in a BGP Update message not to carry the private AS number. Only the public AS number is contained in the update messages. The undo peer public-as-only command allows the AS-Path attribute in a BGP Update message to carry the private AS number. By default, the AS-Path attribute in a BGP Update message is allowed to carry private AS numbers. This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.",
    "CLIs": [
        "peer <group-name> public-as-only",
        "peer <group-name> public-as-onlyforce [ replace ] [ include-peer-as ]",
        "peer <group-name> public-as-onlylimited [ replace ] [ include-peer-as ]",
        "undo peer <group-name> public-as-only",
        "undo peer <group-name> public-as-onlyforce [ replace ] [ include-peer-as ]",
        "undo peer <group-name> public-as-onlylimited [ replace ] [ include-peer-as ]"
    ],
    "ParentView": [
        "BGP-VPN instance IPv6 address family view,BGP multi-instance VPN instance IPv6 address family view"
    ],
    "ParaDef": [
        {
            "Parameters": "<group-name>",
            "Info": "Specifies the name of a peer group.\nThe value is a string of 1 to 47 case-sensitive characters, spaces not supported.  The character string can contain spaces if it is enclosed with double quotation marks (\")."
        },
        {
            "Parameters": "force",
            "Info": "Deletes all private AS numbers from the AS_Path attribute. The AS_Path attribute of a specified peer is ignored during the deletion.\n-"
        },
        {
            "Parameters": "replace",
            "Info": "Replaces AS numbers with the local AS number.\nIf both force and replace are specified, all private AS numbers in the AS_Path list are replaced with the local AS number, and the AS number of the specified peer is ignored during the replacement.\nIf both limited and replace are specified, the device replaces all private AS numbers in the AS_Path list with the local AS number from the left, and stops the replacement until the local or public AS number is encountered. During the replacement, the device ignores the AS number of the specified peer.\n-"
        },
        {
            "Parameters": "include-peer-as",
            "Info": "Deletes AS numbers.\nIf both force and include-peer-as are specified, all private AS numbers are forcibly deleted.\nIf force, replace, and include-peer-as are specified, private AS numbers in the AS_Path list are replaced with the local AS number.\nIf both limited and include-peer-as are specified, the AS numbers on the left are deleted, and the deletion stops when the local or public AS number is encountered.\nIf limited, replace, and include-peer-as are specified at the same time, the private AS numbers in the AS_Path list are replaced with the local AS number from the leftmost one, and the replacement stops when the local or public AS number is encountered.\n-"
        },
        {
            "Parameters": "limited",
            "Info": "Deletes AS numbers from the leftmost one to the local or a public AS number. The AS number of a specified peer is ignored during the deletion.\n-"
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] ip vpn-instance vpn1",
            "[*HUAWEI-vpn-instance-vpn1] ipv6-family",
            "[*HUAWEI-vpn-instance-vpn1-af-ipv6] route-distinguisher 100:1",
            "[*HUAWEI-vpn-instance-vpn1-af-ipv6] quit",
            "[*HUAWEI-vpn-instance-vpn1] quit",
            "[*HUAWEI] bgp 100",
            "[*HUAWEI-bgp] ipv6-family vpn-instance vpn1",
            "[*HUAWEI-bgp-6-vpn1] group test external",
            "[*HUAWEI-bgp-6-vpn1] peer test as-number 200",
            "[*HUAWEI-bgp-6-vpn1] peer test public-as-only"
        ]
    ],
    "ExtraInfo": "Generally, AS numbers range from 1 to 4294967295, including public AS numbers, private AS numbers, and reserved AS numbers. If the private-4-byte-as enable command is not configured, the private AS number ranges from 64512 to 65534. 65535 is reserved for special applications. After the private-4-byte-as enable command is run, private AS numbers range from 64512 to 65534 and from 4200000000 to 4294967294. 65535 and 4294967295 are reserved for special applications.\nPublic AS numbers can be directly used on the Internet. Private AS numbers cannot be directly advertised to the Internet. Otherwise, loops may occur. Therefore, private AS numbers are used only in internal routing domains.\nYou can run this command to process private AS numbers and reserved AS numbers in the AS_Path attribute of BGP routes as required. The processing of reserved AS numbers is the same as that of private AS numbers. The following describes how to process private AS numbers.\nIf the peer public-as-only command is run without any optional parameter and the AS_Path attribute of BGP routes contains only private AS numbers, BGP deletes these private AS numbers and then advertises the routes. BGP does not delete private AS numbers in the following situations:"
}