{
    "PageTitle": "nexthop (ICMP Ping test instance)",
    "FuncDef": "The nexthop command configures a next-hop IP address for an NQA ping test instance.\nThe undo nexthop command deletes the configured next-hop IP address. The nexthop command configures a next-hop IP address for an NQA ping test instance. The undo nexthop command deletes the configured next-hop IP address. By default, a device searches the routing table for the next-hop IP address during packet sending.",
    "CLIs": [
        "nexthop ipv4 <ipv4Address>",
        "nexthop ipv6 <ipv6Address>",
        "undo nexthop"
    ],
    "ParentView": [
        "NQA view"
    ],
    "ParaDef": [
        {
            "Parameters": "ipv6 <ipv6Address>",
            "Info": "Specifies a next hop IPv6 address on an ingress.\nThe address is a 32-digit hexadecimal number, in the format of X:X:X:X:X:X:X:X."
        },
        {
            "Parameters": "ipv4 <ipv4Address>",
            "Info": "Specifies a next hop IP address on an ingress.\nThe value is in dotted decimal notation."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] nqa test-instance user test",
            "[*HUAWEI-nqa-user-test] test-type icmp",
            "[*HUAWEI-nqa-user-test] nexthop ipv4 10.1.1.1"
        ]
    ],
    "ExtraInfo": "In a scenario where NQA is associated with static routes, if a link is faulty, the NQA ICMP test fails, and the associated static route goes Down. As the device needs to search the routing table when sending ICMP test packets, the ICMP test still fails even if the link fault is rectified. In addition, the associated static route keeps being Down, and service traffic cannot be switched back to the original link.\nTo resolve this problem, specify a next-hop IP address for the ICMP test packets so that the packets can be properly sent after the link fault is rectified. This configuration also causes the test to succeed and the associated static route to go Up."
}