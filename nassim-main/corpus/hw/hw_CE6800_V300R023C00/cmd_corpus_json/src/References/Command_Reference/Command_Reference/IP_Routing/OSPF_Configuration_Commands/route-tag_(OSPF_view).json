{
    "PageTitle": "route-tag (OSPF view)",
    "FuncDef": "The route-tag command sets the VPN route tag for imported VPN routes.\nThe undo route-tag command restores the default setting. The route-tag command sets the VPN route tag for imported VPN routes. The undo route-tag command restores the default setting. By default, the first two bytes of a tag value are fixed at 0xD000, and the last two bytes are the local BGP AS number. For example, if the local BGP AS number is 100, the default tag value in decimal notation is 3489661028; if the BGP AS number is greater than 65535, the tag value is 0, and you can manually change the tag value. If BGP is not configured, the default tag value is 0.",
    "CLIs": [
        "route-tag <tag>",
        "route-tag disable",
        "undo route-tag"
    ],
    "ParentView": [
        "OSPF view"
    ],
    "ParaDef": [
        {
            "Parameters": "<tag>",
            "Info": "Specifies the VPN route tag.\nThe value is an integer ranging from 0 to 4294967295."
        },
        {
            "Parameters": "disable",
            "Info": "Indicates that the VPN route tag is not used to detect loops.\n-"
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] ip vpn-instance huawei",
            "[*HUAWEI-vpn-instance-huawei] ipv4-family",
            "[*HUAWEI-vpn-instance-huawei-af-ipv4] quit",
            "[*HUAWEI-vpn-instance-huawei] quit",
            "[*HUAWEI] ospf 100 vpn-instance huawei",
            "[*HUAWEI-ospf-100] route-tag 100"
        ]
    ],
    "ExtraInfo": "The route-tag command applies only to VPN scenarios. It is used as the tag value in Type 5 LSAs and Type 7 LSAs to prevent external loops when a CE is dual-homed to PEs. On a network where a CE is connected to two PEs, PE1 generates Type 5 LSAs and Type 7 LSAs based on imported BGP routes and sends them to the CE. The CE then sends the LSAs to PE2. Because OSPF routes have a higher priority than BGP routes, PE2 replaces BGP routes with OSPF routes, causing a routing loop. After the route-tag command is run, if the PE finds that the tag value of an LSA is the same as the local tag value, the PE ignores the LSA during route calculation to prevent routing loops.\nThe priorities of the tag set through the route-tag command and the tag set through other commands are as follows:"
}