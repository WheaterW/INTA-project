{
    "PageTitle": "peer public-as-only (BGP-IPv4 unicast address family view) (IPv6)",
    "FuncDef": "The peer public-as-only command configures the AS-Path attribute in a BGP Update message not to carry the private AS number. Only the public AS number is contained in the update messages.\nThe undo peer public-as-only command allows the AS-Path attribute in a BGP Update message to carry the private AS number. The peer public-as-only command configures the AS-Path attribute in a BGP Update message not to carry the private AS number. Only the public AS number is contained in the update messages. The undo peer public-as-only command allows the AS-Path attribute in a BGP Update message to carry the private AS number. By default, the AS-Path attribute in a BGP Update message is allowed to carry private AS numbers. This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.",
    "CLIs": [
        "peer <peerIpv6Addr> public-as-only",
        "peer <peerIpv6Addr> public-as-onlyforce [ replace ] [ include-peer-as ]",
        "peer <peerIpv6Addr> public-as-onlylimited [ replace ] [ include-peer-as ]",
        "undo peer <peerIpv6Addr> public-as-only",
        "undo peer <peerIpv6Addr> public-as-onlyforce [ replace ] [ include-peer-as ]",
        "undo peer <peerIpv6Addr> public-as-onlylimited [ replace ] [ include-peer-as ]"
    ],
    "ParentView": [
        "BGP-IPv4 unicast address family view"
    ],
    "ParaDef": [
        {
            "Parameters": "<peerIpv6Addr>",
            "Info": "Specifies the IPv6 address of a peer.\nThe value is a 32-digit hexadecimal number, in the format of X:X:X:X:X:X:X:X."
        },
        {
            "Parameters": "force",
            "Info": "Deletes all private AS numbers from the AS_Path attribute except the private AS number of a specified peer.\n-"
        },
        {
            "Parameters": "replace",
            "Info": "Replaces private AS numbers in an AS_Path list with a local AS number:\nIf both force and replace are specified, private AS numbers in an AS_Path list, except the AS number of a specified peer or peer group, are replaced with the local AS number.\nIf both limited and replace are specified, private AS numbers starting from the leftmost one in an AS_Path list, except the local or private AS number of a specified peer or peer group, are replaced with the local AS number.\n-"
        },
        {
            "Parameters": "include-peer-as",
            "Info": "Deletes AS numbers:\nIf both force and include-peer-as are specified, all private AS numbers are forcibly deleted.\nIf force, replace, and include-peer-as are specified, the private AS numbers in an AS_Path list are replaced with the local AS number.\nIf both limited and include-peer-as are specified, the AS numbers starting from the leftmost one in an AS_Path list, except the local and public AS numbers, are deleted.\nIf limited, replace, and include-peer-as are specified, private AS numbers starting from the leftmost one in an AS_Path list, except the local or private AS numbers, are replaced with the local AS number.\n-"
        },
        {
            "Parameters": "limited",
            "Info": "Deletes private AS numbers from the leftmost one to the local or a public AS number except the private AS number of a specified peer.\n-"
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] bgp 100",
            "[*HUAWEI-bgp] peer FE80::1 as-number 100",
            "[*HUAWEI-bgp] ipv4-family unicast",
            "[*HUAWEI-bgp-af-ipv4] peer FE80::1 enable",
            "[*HUAWEI-bgp-af-ipv4] peer FE80::1 public-as-only"
        ]
    ],
    "ExtraInfo": "Generally, AS numbers range from 1 to 4294967295, including public AS numbers, private AS numbers, and reserved AS numbers. If the private-4-byte-as enable command is not configured, the private AS number ranges from 64512 to 65534. 65535 is reserved for special applications. After the private-4-byte-as enable command is run, private AS numbers range from 64512 to 65534 and from 4200000000 to 4294967294. 65535 and 4294967295 are reserved for special applications.\nPublic AS numbers can be directly used on the Internet. Private AS numbers cannot be directly advertised to the Internet. Otherwise, loops may occur. Therefore, private AS numbers are used only in internal routing domains.\nYou can run this command to process private AS numbers and reserved AS numbers in the AS_Path attribute of BGP routes as required. The processing of reserved AS numbers is the same as that of private AS numbers. The following describes how to process private AS numbers.\nIf the peer public-as-only command is run without any optional parameter and the AS_Path attribute of BGP routes contains only private AS numbers, BGP deletes these private AS numbers and then advertises the routes. BGP does not delete private AS numbers in the following situations:"
}