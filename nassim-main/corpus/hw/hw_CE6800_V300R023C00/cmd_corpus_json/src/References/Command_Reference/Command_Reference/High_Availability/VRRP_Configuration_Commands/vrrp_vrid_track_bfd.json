{
    "PageTitle": "vrrp vrid track bfd",
    "FuncDef": "The vrrp vrid track bfd command enables a VRRP group to track a BFD session.\nThe undo vrrp vrid track bfd command disables a VRRP group from tracking a BFD session. The vrrp vrid track bfd command enables a VRRP group to track a BFD session. The undo vrrp vrid track bfd command disables a VRRP group from tracking a BFD session. By default, a VRRP group does not track a BFD session.",
    "CLIs": [
        "vrrp vrid <virtual-router-id> trackbfd <bfd-session-id> [ increase <value-increased> | reduce <value-reduced> ]",
        "vrrp vrid <virtual-router-id> trackbfdsession-name <bfd-configure-name> [ increase <value-increased> | reduce <value-reduced> ]",
        "vrrp vrid <virtual-router-id> trackbfd <bfd-session-id> { peer | link }",
        "vrrp vrid <virtual-router-id> trackbfdsession-name <bfd-configure-name> { peer | link }",
        "undo vrrp vrid <virtual-router-id> trackbfd [ <bfd-session-id> | session-name <bfd-configure-name> ]"
    ],
    "ParentView": [
        "100GE interface view,10GE interface view,200GE interface view,25GE interface view,400GE interface view,50GE interface view,Eth-Trunk interface view,VLANIF interface view"
    ],
    "ParaDef": [
        {
            "Parameters": "<virtual-router-id>",
            "Info": "Specifies the ID of a VRRP group.\nThe value is an integer ranging from 1 to 255."
        },
        {
            "Parameters": "<bfd-session-id>",
            "Info": "Specifies the local discriminator of a BFD session tracked by a VRRP group.\nThe value is an integer ranging from 1 to 16384."
        },
        {
            "Parameters": "increase",
            "Info": "Increases the priority of the VRRP group.\n-"
        },
        {
            "Parameters": "<value-increased>",
            "Info": "Specifies a value by which the priority of the VRRP group specified by virtual-router-id increases when the status of the tracked BFD session changes from up to down. This parameter takes effect regardless of whether the VRRP group is in the master or backup state.\nThe value is an integer ranging from 1 to 255. As 255 is the priority of an IP address owner, the largest priority can be set to 254."
        },
        {
            "Parameters": "reduce",
            "Info": "Reduces the priority of the VRRP group.\n-"
        },
        {
            "Parameters": "<value-reduced>",
            "Info": "Specifies the value by which the priority of the VRRP group decreases when the tracked BFD session changes from up to down. This parameter takes effect regardless of whether the VRRP group is in the master or backup state.\nThe value is an integer ranging from 1 to 255. The smallest priority is 1. By default, the priority reduces by 10 if the tracked BFD session goes Down."
        },
        {
            "Parameters": "session-name <bfd-configure-name>",
            "Info": "Specifies the name of the BFD session tracked by the VRRP group.\nThe value is a string of 1 to 15 characters excluding spaces. If spaces are used, the string must start and end with double quotation marks (\").\nWhen you configure the name of a BFD session, the uppercase and lowercase letters in the name must be consistent with the name entered by the user.BFD session names are case-insensitive. For example, ABC and abc are regarded as the same BFD session.  If a BFD session named ABC has been configured and abc is specified, the system directly displays the ABC view."
        },
        {
            "Parameters": "peer",
            "Info": "Indicates that a monitored BFD session is a peer BFD session.\n-"
        },
        {
            "Parameters": "link",
            "Info": "Indicates that a monitored BFD session is a link BFD session.\n-"
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] bfd",
            "[*HUAWEI-bfd] quit",
            "[*HUAWEI] interface 100GE 1/0/1",
            "[*HUAWEI-100GE1/0/1] ip address 10.1.20.1 24",
            "[*HUAWEI-100GE1/0/1] quit",
            "[*HUAWEI] bfd peer1 bind peer-ip 10.1.20.2 interface 100GE1/0/1 source-ip 10.1.20.1 auto",
            "[*HUAWEI-session-peer1] quit",
            "[*HUAWEI] interface 100GE 1/0/2",
            "[*HUAWEI-100GE1/0/2] vrrp vrid 3 virtual-ip 10.1.20.11",
            "[*HUAWEI-100GE1/0/2] vrrp vrid 3 track bfd session-name peer1 peer"
        ],
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] bfd",
            "[*HUAWEI-bfd] quit",
            "[*HUAWEI] interface 100GE 1/0/2",
            "[*HUAWEI-100GE1/0/2] ip address 10.1.10.1 24",
            "[*HUAWEI-100GE1/0/2] quit",
            "[*HUAWEI] bfd test bind peer-ip 10.1.1.1 interface 100GE 1/0/2",
            "[*HUAWEI-session-test] discriminator local 1",
            "[*HUAWEI-session-test] quit",
            "[*HUAWEI] interface 100GE 1/0/1",
            "[*HUAWEI-100GE1/0/1] vrrp vrid 1 virtual-ip 10.1.1.11",
            "[*HUAWEI-100GE1/0/1] vrrp vrid 1 track bfd 1 reduce 20"
        ],
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] bfd",
            "[*HUAWEI-bfd] quit",
            "[*HUAWEI] interface 100GE 1/0/3",
            "[*HUAWEI-100GE1/0/3] ip address 10.1.10.1 24",
            "[*HUAWEI-100GE1/0/3] quit",
            "[*HUAWEI] bfd atob bind peer-ip 10.1.10.2 interface 100GE1/0/3 source-ip 10.1.10.1 auto",
            "[*HUAWEI-session-atob] quit",
            "[*HUAWEI] interface 100GE 1/0/4",
            "[*HUAWEI-100GE1/0/4] vrrp vrid 2 virtual-ip 10.1.10.11",
            "[*HUAWEI-100GE1/0/4] vrrp vrid 2 track bfd session-name atob reduce 20"
        ]
    ],
    "ExtraInfo": "If a link between devices in a VRRP group fails, the VRRP group performs a master/backup switchover after a period of three times the interval at which VRRP packets are sent. Packet loss may occur during this period. BFD can rapidly monitor links and detect link faults, which helps prevent the preceding problem. The vrrp vrid track bfd-session command is used to configure a VRRP group to track BFD sessions. If the tracked BFD session status changes, the BFD module notifies the VRRP module of the change. After receiving the notification, the VRRP module adjusts the priorities of VRRP devices or directly changes VRRP status to rapidly implement a master/backup VRRP switchover."
}