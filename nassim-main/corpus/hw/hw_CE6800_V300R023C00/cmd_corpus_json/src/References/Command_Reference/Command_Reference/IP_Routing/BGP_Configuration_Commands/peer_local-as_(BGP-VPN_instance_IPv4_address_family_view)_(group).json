{
    "PageTitle": "peer local-as (BGP-VPN instance IPv4 address family view) (group)",
    "FuncDef": "The peer local-as command enables a device to use a fake AS number to establish a BGP peer relationship with a specified peer.\nThe undo peer local-as command cancels the existing configuration. The peer local-as command enables a device to use a fake AS number to establish a BGP peer relationship with a specified peer. The undo peer local-as command cancels the existing configuration. By default, a device uses an actual AS number to establish a BGP peer relationship with a peer.",
    "CLIs": [
        "peer <group-name> local-as <local-as-value> [ dual-as ] [ prepend-global-as ] [ prepend-local-as ]",
        "undo peer <group-name> local-as"
    ],
    "ParentView": [
        "BGP-VPN instance IPv4 address family view"
    ],
    "ParaDef": [
        {
            "Parameters": "<group-name>",
            "Info": "Specifies the name of a peer group.\nThe value is a string of 1 to 47 case-sensitive characters, spaces not supported.  The character string can contain spaces if it is enclosed with double quotation marks (\")."
        },
        {
            "Parameters": "<local-as-value>",
            "Info": "Specifies an AS number.\nFor an AS number in integer format, the value ranges from 1 to 4294967295.\nFor an AS number in dotted notation, it is in the format of x.y, in which x and y are integers, with x ranging from 1 to 65535 and y ranging from 0 to 65535."
        },
        {
            "Parameters": "dual-as",
            "Info": "Allows the local end to use the actual or fake AS number to establish a BGP peer relationship with the specified peer.\n-"
        },
        {
            "Parameters": "prepend-global-as",
            "Info": "Adds the actual AS number to the AS_Path in the messages to be sent.\n-"
        },
        {
            "Parameters": "prepend-local-as",
            "Info": "Adds the fake AS number to the AS_Path in received messages.\n-"
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] ip vpn-instance vpn1",
            "[*HUAWEI-vpn-instance-vpn1] ipv4-family",
            "[*HUAWEI-vpn-instance-vpn1-af-ipv4] route-distinguisher 100:1",
            "[*HUAWEI-vpn-instance-vpn1-af-ipv4] quit",
            "[*HUAWEI-vpn-instance-vpn1] quit",
            "[*HUAWEI] bgp 100",
            "[*HUAWEI-bgp] ipv4-family vpn-instance vpn1",
            "[*HUAWEI-bgp-vpn1] group test external",
            "[*HUAWEI-bgp-vpn1] peer test as-number 200",
            "[*HUAWEI-bgp-vpn1] peer test local-as 99"
        ]
    ],
    "ExtraInfo": "If the peer local-as command is run, without dual-as, prepend-global-as, or prepend-local-as specified, the local end uses only the fake AS number to establish a BGP peer relationship with the specified peer and adds only the fake AS number to the AS_Path of the routes to be advertised to the peer.\nThe peer local-as command is used in a scenario where a carrier modifies network deployment. For example, in a carrier merger and acquisition scenario, if the acquirer's network and the acquiree's network belong to different ASs, BGP peers on the acquiree's network need to be shifted from their original AS to the AS of the acquirer's AS. If the customers of the acquiree do not want their BGP configurations to be changed or do not want them to be changed immediately during the shift, BGP peer relationships may be interrupted for a long time.\nIf a device uses a fake AS number to establish a BGP peer relationship with an EBGP peer or confederation EBGP peer, it performs the following actions before sending routes to the EBGP peer or confederation EBGP peer:"
}