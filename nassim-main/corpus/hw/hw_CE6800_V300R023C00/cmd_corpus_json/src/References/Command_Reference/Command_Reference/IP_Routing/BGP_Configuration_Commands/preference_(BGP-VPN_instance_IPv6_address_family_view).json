{
    "PageTitle": "preference (BGP-VPN instance IPv6 address family view)",
    "FuncDef": "The preference command sets a priority for EBGP routes, IBGP routes, or local BGP routes. BGP routes are configured with different priorities in different address family views.\nThe undo preference command restores the default setting. The preference command sets a priority for EBGP routes, IBGP routes, or local BGP routes. BGP routes are configured with different priorities in different address family views. The undo preference command restores the default setting. By default, the priorities of EBGP routes, IBGP routes, and local BGP routes are all 255. This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.",
    "CLIs": [
        "preference { <external> <internal> <local> | route-policy <route-policy-name> }",
        "undo preference"
    ],
    "ParentView": [
        "BGP-VPN instance IPv6 address family view,BGP multi-instance VPN instance IPv6 address family view"
    ],
    "ParaDef": [
        {
            "Parameters": "<external>",
            "Info": "Specifies a protocol preference of EBGP external routes, which are the optimal routes learned from peers outside the local AS.\nThe value is an integer that ranges from 1 to 255. A smaller value indicates a higher priority."
        },
        {
            "Parameters": "<internal>",
            "Info": "Specifies the protocol preference of IBGP routes (those learned from peers in the same AS).\nThe value is an integer that ranges from 1 to 255. A smaller value indicates a higher priority."
        },
        {
            "Parameters": "<local>",
            "Info": "Specifies the protocol preference of a local BGP route.\nThe value is an integer that ranges from 1 to 255. A smaller value indicates a higher priority.\nThis parameter takes effect for the following routes:\nRoutes obtained through manually summarization using the aggregate (BGP) command.Routes obtained through automatic summarization using the summary automatic command.Routes generated through remote leaking.Routes generated through local leaking.\nFor details about how to identify the preceding types of routes, see Precautions."
        },
        {
            "Parameters": "route-policy <route-policy-name>",
            "Info": "Specifies the name of a route-policy.\nThe value is a string of 1 to 200 case-sensitive characters without spaces. The character string can contain spaces if it is enclosed with double quotation marks (\")."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] ip vpn-instance vpna",
            "[*HUAWEI-vpn-instance-vpna] ipv6-family",
            "[*HUAWEI-vpn-instance-vpna-af-ipv6] quit",
            "[*HUAWEI-vpn-instance-vpna] quit",
            "[*HUAWEI] bgp 100",
            "[*HUAWEI-bgp] ipv6-family vpn-instance vpna",
            "[*HUAWEI-bgp-6-vpna] preference 2 2 20"
        ]
    ],
    "ExtraInfo": "Running the preference command to set priorities for BGP routes affects route selection among BGP routes and routes of other routing protocols.\nAfter a route-policy or route-filter is configured on a device, the device sets priorities only for the routes received from peers, which meet the matching rules. The routes that do not meet the rules use the default priority.\nThe smaller the priority value, the higher the priority."
}