{
    "PageTitle": "ping vxlan",
    "FuncDef": "The ping vxlan command checks VXLAN connectivity. The ping vxlan command checks VXLAN connectivity. This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.",
    "CLIs": [
        "ping vxlan [ -c <count> | -m <interval> | -t <timeout> | -r <replymode> | -a <innersrc-address6> ] ipv6vni <vniid> source <source-address6> peer <dest-address6> [ udp-port <dest-port> ] [ load-balance { vxlan-source-udpport <vxlan-source-udpport> [ <vxlan-source-end-udpport> ] | { source-address <lb-src-address> destination-address <lb-dst-address> protocol { udp | <lb-protocolid> } source-port <lb-src-port> destination-port <lb-dst-port> source-mac <source-mac> destination-mac <destination-mac> } } ]",
        "ping vxlan [ -c <count> | -m <interval> | -t <timeout> | -r <replymode> | -a <innersrc-address> | -tos <tos> ] vni <vniid> source <source-address> peer <dest-address> [ udp-port <dest-port> ] [ load-balance { vxlan-source-udpport <vxlan-source-udpport> [ <vxlan-source-end-udpport> ] | { source-address <lb-src-address> destination-address <lb-dst-address> protocol { udp | <lb-protocolid> } source-port <lb-src-port> destination-port <lb-dst-port> source-mac <source-mac> destination-mac <destination-mac> } } ]"
    ],
    "ParentView": [
        "All views"
    ],
    "ParaDef": [
        {
            "Parameters": "-c <count>",
            "Info": "Specifies the number of times that echo request packets are to be sent.\nIf the network quality is low, you can increase the parameter value to determine the network quality based on the packet loss rate.\nThe value is an integer ranging from 1 to 4294967295. The default value is 5."
        },
        {
            "Parameters": "-m <interval>",
            "Info": "Specifies the time to wait before the next echo request packet is sent.\nThe value is an integer ranging from 1 to 10000, in milliseconds. The default value is 500."
        },
        {
            "Parameters": "-t <timeout>",
            "Info": "Specifies the timeout period for waiting for an echo request packet.\nThe value is an integer ranging from 0 to 65535. The default value is 2000."
        },
        {
            "Parameters": "-r <replymode>",
            "Info": "Specifies the mode in which the peer responds with echo reply messages.\nThe value is 1, 2, or 3.\nEach mode is described as follows:\n1: do not reply\n2: reply with an IPv4 or IPv6 UDP packet\n3: reply through the control channel of the application plane\nThe default value is 2."
        },
        {
            "Parameters": "-a <innersrc-address>",
            "Info": "Specifies an inner source IP address.\nThe value is in dotted decimal notation."
        },
        {
            "Parameters": "<innersrc-address6>",
            "Info": "Specifies an inner source IPv6 address.\nThe value is a 32-digit hexadecimal number, in the format of X:X:X:X:X:X:X:X"
        },
        {
            "Parameters": "ipv6",
            "Info": "Configures a rule for IPv6 packets.\n-"
        },
        {
            "Parameters": "vni <vniid>",
            "Info": "Specifies a VXLAN network indicator (NI).\nThe value is an integer ranging from 1 to 16777215."
        },
        {
            "Parameters": "source <source-address>",
            "Info": "Indicates source IPv4 address.\nThe value is in dotted decimal notation."
        },
        {
            "Parameters": "<source-address6>",
            "Info": "Specifies a source IPv6 address for a VXLAN tunnel.\nThe value is a 32-digit hexadecimal number, in the format of X:X:X:X:X:X:X:X"
        },
        {
            "Parameters": "peer <dest-address>",
            "Info": "Specifies a destination IP address.\nThe value is in dotted decimal notation."
        },
        {
            "Parameters": "<dest-address6>",
            "Info": "Specifies a peer IPv6 address for a VXLAN tunnel.\nThe value is a 32-digit hexadecimal number, in the format of X:X:X:X:X:X:X:X"
        },
        {
            "Parameters": "udp-port <dest-port>",
            "Info": "Specifies a destination UDP port number.\nThe value is an integer ranging from 1 to 65535."
        },
        {
            "Parameters": "load-balance",
            "Info": "Indicates load balancing.\n-"
        },
        {
            "Parameters": "vxlan-source-udpport <vxlan-source-udpport>",
            "Info": "Specifies a start source port number or VXLAN packets.\nThe value is an integer ranging from 49152 to 65535."
        },
        {
            "Parameters": "<vxlan-source-end-udpport>",
            "Info": "Specifies an end source port number for VXLAN packets.\nThe value is an integer ranging from 49152 to 65535."
        },
        {
            "Parameters": "source-address <lb-src-address>",
            "Info": "Specifies a load balance source IPv4 address.\nThe value is in dotted decimal notation."
        },
        {
            "Parameters": "destination-address <lb-dst-address>",
            "Info": "Specifies a load balance destination IPv4 address.\nThe value is in dotted decimal notation."
        },
        {
            "Parameters": "protocol",
            "Info": "Specify a protocol type.\n-"
        },
        {
            "Parameters": "udp",
            "Info": "Indicates the UDP protocol type.\n-"
        },
        {
            "Parameters": "<lb-protocolid>",
            "Info": "Specify a protocol number.\nThe value is an integer ranging from 1 to 255."
        },
        {
            "Parameters": "source-port <lb-src-port>",
            "Info": "Specifies a load balance source port number.\nThe value is an integer ranging from 1 to 65535."
        },
        {
            "Parameters": "destination-port <lb-dst-port>",
            "Info": "Specifies a load balance destination port number.\nThe value is an integer ranging from 1 to 65535."
        },
        {
            "Parameters": "source-mac <source-mac>",
            "Info": "Specifies a source MAC address.\nThe value is in the format of H-H-H."
        },
        {
            "Parameters": "destination-mac <destination-mac>",
            "Info": "Specifies the destination MAC address.\nThe value is in the format of H-H-H."
        },
        {
            "Parameters": "-tos <tos>",
            "Info": "Specifies the priority of an echo request packet to be sent.\nThe value is an integer ranging from 0 to 255. The default value is 0."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> ping vxlan ipv6 vni 60 source 2001:DB8:1::1 peer 2001:DB8:2::1"
        ],
        [
            "<HUAWEI> ping vxlan vni 111 source 10.1.1.1 peer 10.2.2.1 udp-port 5001"
        ]
    ],
    "ExtraInfo": "To detect a VXLAN tunnel fault, run the ping vxlan command. In practice, if a fault occurs on a VXLAN forwarding path, causing traffic on a VXLAN tunnel to be interrupted, you can use the ping vxlan and tracert vxlan commands to detect and locate the faulty node.\nThe tracert vxlan command uses both vxlanecho request packets and vxlanecho reply packets to check VXLAN connectivity. Packets are transmitted in the UDP format, and the port number can be configured. The receiver distinguishes vxlanecho request and vxlanecho reply packets according to the UDP port number. A vxlanecho request packet carries FEC information to be detected, and is sent along the same VXLAN tunnel as other packets carrying the same FEC information. In this manner, VXLAN connectivity is checked. Vxlanecho request packets are transmitted to the destination through VXLAN, whereas vxlanecho reply packets are transmitted to the source through IP.\nIf a fault occurs when a VXLAN tunnel is detected using the ping vxlan command, and packets transmitted along this VXLAN tunnel cannot reach the egress, you can run the tracert vxlan command to locate the fault. Both the ping vxlan and tracert vxlan commands can check VXLAN connectivity and locate faults."
}