{
    "PageTitle": "peer next-hop-local (BGP-IPv4 unicast address family view)(IPv4)",
    "FuncDef": "The peer next-hop-local command configures a BGP device to set its IP address as the next hop of routes when the BGP device advertises the routes to its IBGP peer.\nThe undo peer next-hop-local command restores the default setting. The peer next-hop-local command configures a BGP device to set its IP address as the next hop of routes when the BGP device advertises the routes to its IBGP peer. The undo peer next-hop-local command restores the default setting. By default:",
    "CLIs": [
        "peer <ipv4-address> next-hop-local",
        "undo peer <ipv4-address> next-hop-local"
    ],
    "ParentView": [
        "BGP-IPv4 unicast address family view"
    ],
    "ParaDef": [
        {
            "Parameters": "<ipv4-address>",
            "Info": "Specifies an IPv4 peer address.\nThe value is in dotted decimal notation."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] bgp 100",
            "[*HUAWEI-bgp] peer 1.1.1.1 as-number 100",
            "[*HUAWEI-bgp] ipv4-family unicast",
            "[*HUAWEI-bgp-af-ipv4] peer 1.1.1.1 next-hop-local"
        ]
    ],
    "ExtraInfo": "The peer next-hop-local command is usually run on an ASBR. By default, a device does not change the next hop address of a route learned from an EBGP peer before forwarding the route to IBGP peers. The next hop address of a route advertised by an EBGP peer to this device is the peer address of the EBGP peer. After being forwarded to IBGP peers in the local AS, this route is not active because the next hop is unreachable. The peer next-hop-local command needs to be run to configure the ASBR to change the next hop of the route to its IP address when the ASBR advertises the route to an IBGP peer. Therefore, after being forwarded to the IBGP peer, the route can become an active route because the next hop is reachable."
}