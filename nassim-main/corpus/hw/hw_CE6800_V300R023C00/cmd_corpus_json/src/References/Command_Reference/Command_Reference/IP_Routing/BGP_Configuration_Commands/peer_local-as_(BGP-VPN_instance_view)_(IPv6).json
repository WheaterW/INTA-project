{
    "PageTitle": "peer local-as (BGP-VPN instance view) (IPv6)",
    "FuncDef": "The peer local-as command enables a device to use a fake AS number to establish a BGP peer relationship with a specified peer.\nThe undo peer local-as command cancels the existing configuration. The peer local-as command enables a device to use a fake AS number to establish a BGP peer relationship with a specified peer. The undo peer local-as command cancels the existing configuration. By default, a device uses an actual AS number to establish a BGP peer relationship with a peer. This command is supported only on the CE6863H, CE6863H-K, CE6860-SAN, CE6866K, CE6866, CE6860-HAM, CE6855-48XS8CQ, CE6885-SAN, CE8850-SAN, CE8855, CE8851-32CQ4BQ, CE8851K, CE8851-32CQ8DQ-P, CE8850-HAM, CE6881H, CE6881H-K, CE6820H, CE6820H-K, CE6820S, CE6885, CE6885-T, CE6885-LL (standard forwarding mode) and CE6863E-48S8CQ.",
    "CLIs": [
        "peer <peerIpv6Addr> local-as <local-as-value> [ dual-as ] [ prepend-global-as ] [ prepend-local-as ]",
        "undo peer <peerIpv6Addr> local-as"
    ],
    "ParentView": [
        "BGP-VPN instance view,BGP multi-instance VPN instance session view"
    ],
    "ParaDef": [
        {
            "Parameters": "<peerIpv6Addr>",
            "Info": "Specifies the IPv6 address of a peer.\nThe value is a 32-digit hexadecimal number, in the format of X:X:X:X:X:X:X:X."
        },
        {
            "Parameters": "<local-as-value>",
            "Info": "Specifies an AS number.\nFor an integral AS number, the value is an integer ranging from 1 to 4294967295.\nFor an AS number in dotted notation, the value is in the format of x.y, where x and y are integers ranging from 1 to 65535 and from 0 to 65535, respectively."
        },
        {
            "Parameters": "dual-as",
            "Info": "Allows the local end to use either the actual AS number or the fake AS number to establish a connection with the peer end.\n-"
        },
        {
            "Parameters": "prepend-global-as",
            "Info": "Indicates that the actual AS number is added to packets to be sent.\n-"
        },
        {
            "Parameters": "prepend-local-as",
            "Info": "Adds the fake AS number to the AS_Path in received messages.\n-"
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] ip vpn-instance vpna",
            "[*HUAWEI-vpn-instance-vpna] ipv6-family",
            "[*HUAWEI-vpn-instance-vpn1-af-ipv6] route-distinguisher 100:1",
            "[*HUAWEI-vpn-instance-vpna-af-ipv6] quit",
            "[*HUAWEI-vpn-instance-vpna] quit",
            "[*HUAWEI] bgp 100",
            "[*HUAWEI-bgp] ipv6-family vpn-instance vpna",
            "[*HUAWEI-bgp-6-vpna] peer 2001:DB8:1::1 as-number 200",
            "[*HUAWEI-bgp-6-vpna] peer 2001:DB8:1::1 local-as 99"
        ]
    ],
    "ExtraInfo": "If the peer local-as command is run, without dual-as, prepend-global-as, or prepend-local-as specified, the local end uses only the fake AS number to establish a BGP peer relationship with the specified peer and adds only the fake AS number to the AS_Path of the routes to be advertised to the peer.\nThe peer local-as command is used in a scenario where a carrier modifies network deployment. For example, in a carrier merger and acquisition scenario, if the acquirer's network and the acquiree's network belong to different ASs, BGP peers on the acquiree's network need to be shifted from their original AS to the AS of the acquirer's AS. If the customers of the acquiree do not want their BGP configurations to be changed or do not want them to be changed immediately during the shift, BGP peer relationships may be interrupted for a long time.\nIf a device uses a fake AS number to establish a BGP peer relationship with an EBGP peer or confederation EBGP peer, it performs the following actions before sending routes to the EBGP peer or confederation EBGP peer:"
}