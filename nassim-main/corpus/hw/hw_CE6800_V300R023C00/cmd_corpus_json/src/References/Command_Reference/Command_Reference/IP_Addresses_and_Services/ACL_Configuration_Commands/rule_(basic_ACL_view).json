{
    "PageTitle": "rule (basic ACL view)",
    "FuncDef": "The rule command creates or modifies an ACL rule in the basic ACL view.\nThe undo rule command deletes an ACL rule in the basic ACL view. The rule command creates or modifies an ACL rule in the basic ACL view. The undo rule command deletes an ACL rule in the basic ACL view. By default, no basic ACL rule is created.",
    "CLIs": [
        "rule [ <rule-id> ] [ name <rule-name> ] { permit | deny } [ fragment-typefragment | source { <source-ip-address> { <source-wildcard> | 0 | <src-netmask> } | any } | time-range <time-name> | vpn-instance <vpn-instance-name> | logging ]",
        "undo rule [ name <rule-name> ] { permit | deny } [ fragment-typefragment | source { <source-ip-address> { <source-wildcard> | 0 | <src-netmask> } | any } | time-range <time-name> | vpn-instance <vpn-instance-name> | logging ]",
        "undo rule <rule-id> [ to <end-rule-id> ]"
    ],
    "ParentView": [
        "Basic ACL view"
    ],
    "ParaDef": [
        {
            "Parameters": "<rule-id>",
            "Info": "Specifies the ID of an ACL rule.\nThe value is an integer ranging from 0 to 4294967294."
        },
        {
            "Parameters": "name <rule-name>",
            "Info": "Specifies the name of an ACL rule.\nThe value is a string of 1 to 32 case-sensitive characters. It cannot contain spaces or start with an underscore (_)."
        },
        {
            "Parameters": "permit",
            "Info": "Permits packets that match conditions.\n-"
        },
        {
            "Parameters": "deny",
            "Info": "Denies the packets that match the rule.\n-"
        },
        {
            "Parameters": "fragment-type",
            "Info": "Matches packets based on the fragment type of the packets.\n-"
        },
        {
            "Parameters": "fragment",
            "Info": "Checks fragmented packets.\n-"
        },
        {
            "Parameters": "source",
            "Info": "Matches packets based on source IP addresses.\nIf source is not configured, packets from any source IP address are matched.\n-"
        },
        {
            "Parameters": "<source-ip-address>",
            "Info": "Specifies the source IP address.\nThis parameter specifies the source address of a packet when it is used for packet filtering and access control.This parameter specifies the route prefix when it is used for route filtering.This parameter specifies the multicast source address or multicast group address when it is used for multicast.\nThe value is in dotted decimal notation.\nThe parameter indicates source of the traffic in most case.The parameter indicates the route prefix if the ACL application is routing protocol.The parameter indicates multicast source address or multicast group address if the ACL application is multicast protocol."
        },
        {
            "Parameters": "<source-wildcard>",
            "Info": "Specifies the wildcard of a source IP address.\nA wildcard mask is a 32-bit number string that indicates which bits of an IP address are checked. Its form is the same as that of an IP address. A source or destination IP address range can be determined by a wildcard mask and an IP address of criteria conditions. If a packet address is within this range, the packet meets the criteria conditions; otherwise, the packet does not. Among bits of wildcard masks, 0 represents \"Check corresponding bits\", and 1 \"Do not check corresponding bits\".\nThe value is in dotted decimal notation.\nThe wildcard of a source IP address can be 0, equivalent to 0.0.0.0, indicating that the source IP address is a host address.\n192.168.1.16 0.0.0.15 indicates that the IP address ranges from 192.168.1.16 to 192.168.1.31.\nThe wildcard mask 255.255.255.255 indicates all IP addresses. If all bits are set to 1, all 32 bits are not checked. In this case, you can use any to replace it. The wildcard mask 0.0.0.0 indicates that all 32 bits need to be matched.\nThe wildcard mask and IP subnet mask work in different ways. Among subnet masks, number 1 and 0 decide the network, subnet, or corresponding host IP addresses."
        },
        {
            "Parameters": "0",
            "Info": "Wildcard bits : 0.0.0.0 ( a host ).\n-"
        },
        {
            "Parameters": "<src-netmask>",
            "Info": "Specifies the mask length of a specified IP address.\nThe value is an integer ranging from 1 to 32."
        },
        {
            "Parameters": "any",
            "Info": "Matches packets with any source IP address.\n-"
        },
        {
            "Parameters": "time-range <time-name>",
            "Info": "Specifies a time range during which an ACL rule takes effect.\nA time range is configured using the time-range command.\nThe value is a string of 1 to 32 case-sensitive characters. It cannot contain spaces."
        },
        {
            "Parameters": "vpn-instance <vpn-instance-name>",
            "Info": "Matches packets based on a VPN instance name.\nThe parameter indicates the L3VPN that the traffic belongs to.  If the traffic is from L3VPN, this option must be configured in the ACL.  If this option is not configured, it indicates the traffic belongs to the public network rather than L3VPN.\nThe value is a string of 1 to 31 case-sensitive characters. It cannot contain spaces. The VPN instance name cannot be _public_. If the character string is quoted by double quotation marks, the character string can contain spaces."
        },
        {
            "Parameters": "logging",
            "Info": "Indicates whether to log the matched packets.\n-"
        },
        {
            "Parameters": "rule",
            "Info": "Specifies an ACL rule.\n-"
        },
        {
            "Parameters": "to <end-rule-id>",
            "Info": "Specifies an end rule ID for ACL rules to be deleted in batches.\nThe value is an integer ranging from 0 to 4294967294."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] acl number 2999",
            "[*HUAWEI-acl4-basic-2999] rule deny source 10.1.1.1 0"
        ]
    ],
    "ExtraInfo": "After a basic ACL is created, run the rule command to add rules to the ACL.\n\"rule permit\" and \"rule permit source any\" have the same matching result.\n\"rule deny\" and \"rule deny source any\" have the same matching result.\nAdvanced ACL rules with the fragment-type can prevent such attacks by permitting only non-fragmented packets. In normal situations, Maximum Transmission Unit (MTU) is set on networks so that packets cannot be fragmented."
}