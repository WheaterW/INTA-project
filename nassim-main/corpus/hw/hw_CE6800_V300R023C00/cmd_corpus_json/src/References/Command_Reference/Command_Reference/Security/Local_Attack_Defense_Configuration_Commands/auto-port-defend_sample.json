{
    "PageTitle": "auto-port-defend sample",
    "FuncDef": "The auto-port-defend sample command sets the protocol packet sampling ratio for port attack defense.\nThe undo auto-port-defend sample command restores the default protocol packet sampling ratio for port attack defense. The auto-port-defend sample command sets the protocol packet sampling ratio for port attack defense. The undo auto-port-defend sample command restores the default protocol packet sampling ratio for port attack defense. By default, the packet sampling ratio is 8. That is, one packet is sampled in every 8 packets.",
    "CLIs": [
        "auto-port-defend sample <sample-value>",
        "undo auto-port-defend sample"
    ],
    "ParentView": [
        "Attack defense policy view"
    ],
    "ParaDef": [
        {
            "Parameters": "<sample-value>",
            "Info": "Specifies the packet sampling ratio for auto port defend.\nThe value is an integer in the range from 1 to 1024."
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] cpu-defend policy test",
            "[*HUAWEI-cpu-defend-policy-test] auto-port-defend sample 4"
        ]
    ],
    "ExtraInfo": "A device with port attack defense enabled identifies attacks by analyzing sampled packets. There may be errors in attack packet identification or packet rate calculation. Errors influence the attack defense effect. An appropriate sampling ratio helps you control attack defense accuracy.\nA small sampling ratio improves attack defense accuracy, but consumes more CPU resources. When the sampling ratio is set to 1, the device analyzes every packet. The attack packets can be detected quickly, but CPU usage becomes high and services are affected. Therefore, make a balance between the attack defense requirement and CPU usage to decide a sampling ratio."
}