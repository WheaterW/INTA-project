{
    "PageTitle": "pki import-certificate",
    "FuncDef": "The pki import-certificate command imports a certificate to the device memory. You can import a key pair when importing a certificate. The pki import-certificate command imports a certificate to the device memory. You can import a key pair when importing a certificate.",
    "CLIs": [
        "pki import-certificate ocsp [ realm <realm-name> ] { der | pkcs12 | pem } filename <file-name> [ cert-name <cert-name> ] [ no-check-same-name ]",
        "pki import-certificate { ca | local } [ [ realm <realm-name> ] { pkcs12 | pem } ] filename <file-name> [ cert-name <cert-name> ] [ no-check-same-name ] { include-rsa-key | include-sm2-key } [ exportable ] [ password <password> ]",
        "pki import-certificate { local | ca } realm <realm-name> { der | pkcs12 | pem } filename <file-name> [ cert-name <cert-name> ] [ replace ]",
        "pki import-certificate { local | ca } [ [ realm <realm-name> ] { der | pkcs12 | pem } ] filename <file-name> [ cert-name <cert-name> ] [ no-check-hash-alg ] [ no-check-same-name ]"
    ],
    "ParentView": [
        "System view"
    ],
    "ParaDef": [
        {
            "Parameters": "realm <realm-name>",
            "Info": "Specifies the PKI realm name of the imported certificate.\nThe PKI realm name must already exist.\nThe realm name cannot contain spaces. Otherwise, the certificate cannot be imported."
        },
        {
            "Parameters": "der",
            "Info": "Imports a certificate in DER format.\n-"
        },
        {
            "Parameters": "pkcs12",
            "Info": "Imports a certificate in PKCS12 format.\n-"
        },
        {
            "Parameters": "pem",
            "Info": "Imports a certificate in PEM format.\n-"
        },
        {
            "Parameters": "filename <file-name>",
            "Info": "Specifies the name of the imported certificate.\nThe file name must already exist."
        },
        {
            "Parameters": "cert-name <cert-name>",
            "Info": "Specifies the name of the peer certificate to be saved.\nThe value is a string of 1 to 64 case-sensitive characters. It cannot contain spaces."
        },
        {
            "Parameters": "no-check-same-name",
            "Info": "Indicates whether to check the Issuer and Subject fields in the imported certificate.\n-"
        },
        {
            "Parameters": "ca",
            "Info": "Imports a CA certificate.\nFor example, when the device works as an SSL proxy, import the SSL proxy CA certificate and use the private key in the certificate to sign the SSL client certificate again.\n-"
        },
        {
            "Parameters": "local",
            "Info": "Imports a local certificate.\n-"
        },
        {
            "Parameters": "include-rsa-key",
            "Info": "Imports an RSA key pair.\n-"
        },
        {
            "Parameters": "include-sm2-key",
            "Info": "Imports an SM2 key pair.\n-"
        },
        {
            "Parameters": "exportable",
            "Info": "The key pair can be exported.\n-"
        },
        {
            "Parameters": "password <password>",
            "Info": "Specifies the decryption password of an RSA or SM2 key pair file. The value must be the same as the password set during the export.\nThe value is a string of 1 to 32 characters."
        },
        {
            "Parameters": "replace",
            "Info": "Deletes the original certificate and the corresponding key pair, and imports the new certificate. The issuer and user information of the certificate before and after the replacement must be the same.\nIf the key pair of the original certificate is not referenced by other realms, the certificate and key pair are deleted. If the key pair of the original certificate is referenced by other realms or a CMP session, only the original certificate is deleted but the key pair is not deleted.\n-"
        },
        {
            "Parameters": "no-check-hash-alg",
            "Info": "Specifies whether a check is performed on the hash algorithm used for the signature of the imported certificate.\n-"
        },
        {
            "Parameters": "ocsp",
            "Info": "Imports the Online Certificate Status Protocol (OCSP) server's certificate.\n-"
        }
    ],
    "Examples": [
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] pki import-certificate ca realm default pem filename ca.cer cert-name ca1.cer include-rsa-key exportable password YsHsjx_202206",
            "Warning: The file in the flash will be deleted. Please select 'N' if you want to keep it. Please select [Y/N]:n"
        ],
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] pki import-certificate ca realm default pem filename ca.cer include-rsa-key exportable password YsHsjx_202206",
            "Warning: The file in the flash will be deleted. Please select 'N' if you want to keep it. Please select [Y/N]:n"
        ],
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] pki import-certificate local realm default pem filename local.cer include-rsa-key exportable password YsHsjx_202206",
            "Warning: The file in the flash will be deleted. Please select 'N' if you want to keep it. Please select [Y/N]:n"
        ],
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] pki import-certificate ca realm default  pem filename ca.cer",
            "Is the fingerprint correct? [Y/N]:y",
            "Warning: The file in the flash will be deleted. Please select 'N' if you want to keep it. Please select [Y/N]:n"
        ],
        [
            "<HUAWEI> system-view",
            "[~HUAWEI] pki import-certificate local realm default der filename local.cer",
            "Warning: The file in the flash will be deleted. Please select 'N' if you want to keep it. Please select [Y/N]:n"
        ]
    ],
    "ExtraInfo": "After a certificate is saved to the storage, run this command to import the certificate to the memory for it to take effect.\nMultiple certificates can be imported to the device, and the key pair can be imported when a certificate is imported. The imported certificate can be a CA certificate or a local certificate. You can use the keyword cert-name to rename the certificate and use the keyword no-check-same-name to import certificates with the same subject and issuer repeatedly.\nIf you do not know the format of the certificate you want to import, configure each format in turn and check whether the certificate is successfully imported. If you do not specify the format of the CA certificate or local certificate to be imported, the system automatically identifies and imports the certificate."
}